<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<title>IPMUX1IPMUX2IPMUX3: minte module</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 制作者 Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">首页</a> | <a class="qindex" href="modules.html">模块</a> | <a class="qindex" href="annotated.html">数据结构</a> | <a class="qindex" href="files.html">文件列表</a> | <a class="qindex" href="functions.html">数据字段</a> | <a class="qindex" href="globals.html">全局定义</a> | <a class="qindex" href="pages.html">相关页面</a></div>
<h1>minte module</h1><hr><a name="_details"></a><h2>详细描述</h2>
THE FORMAT is FOR DOXYGEN to Generate the document  opulan.com. 
<p>
<dl compact><dt><b>作者:</b></dt><dd><a href="mailto:stephanxu@sina.com">stephanxu@sina.com</a> </dd></dl>
<dl compact><dt><b>版本:</b></dt><dd>v0.2 </dd></dl>
<dl compact><dt><b>日期:</b></dt><dd>June-29-2007   date description <br>
-----------------------------------------------------------------  June-29-2007 mainly from the old version and rewrite the opulan_read function.<br>
  July-05-2007 distill the interrupt handle way from the old ipmux driver module.<br>
  July-09-2007 change transfer global g_opl_chip_irq_pending to <a class="el" href="group___m_i_n_t_e.html#ga5">get_irq_pending()</a> and <a class="el" href="group___m_i_n_t_e.html#ga6">clear_irq_pending()</a>.<br>
 </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>模块</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">组 &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__minte.html">function_description(opl_minte.c)</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga13">OPL_MINTE_MAJOR</a>&nbsp;&nbsp;&nbsp;120</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga14">OPL_MINTE_DEVICE</a>&nbsp;&nbsp;&nbsp;"opl_minte"</td></tr>

<tr><td colspan="2"><br><h2>Macro definition</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga15">opl_minte_hw0_irqexit</a>&nbsp;&nbsp;&nbsp;ipmux_hw0_irqexit</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga16">opl_minte_hw0_irqinit</a>&nbsp;&nbsp;&nbsp;ipmux_hw0_irqinit</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga11">ipmux_hw0_irqinit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: request the ipmux irq and enable the its intr.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga12">ipmux_hw0_irqexit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: free irq,and disable ipmux interrupt.  <a href="#ga12"></a><br></td></tr>
<tr><td colspan="2"><br><h2>the variable and function imported.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga5">get_irq_pending</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga6">clear_irq_pending</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga7">ipmux_irq_enable</a> (unsigned int irq)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga8">ipmux_irq_disable</a> (unsigned int irq)</td></tr>

<tr><td colspan="2"><br><h2>local function declaration</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga9">opl_minte_open</a> (struct inode *inode, struct file *filp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga10">opl_minte_release</a> (struct inode *inode, struct file *filp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga7">opl_minte_read</a> (struct file *filp, char *buffer, size_t length, loff_t *offset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: copy the opl_chip_irq_pending(indicate which interrupt occured) to user App, which will handle its interrupt.if the no irq pending occured,the process will sleep until the isr wake up it.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga8">opl_minte_write</a> (struct file *filp, const char *buffer, size_t length, loff_t *offset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: because the enable irq or disable irq will be in atomic mode,so it should be operated in kernel mode is correct.  <a href="#ga8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>the global variable declaration and definition.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga0">g_opl_chip_irq_event</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">wait_queue_head_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga1">g_opl_chip_waitq</a></td></tr>

<tr><td colspan="2"><br><h2>local variable declaration and definition</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga2">opl_minte_open_count</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga3">opl_minte_is_open</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">file_operations&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_i_n_t_e.html#ga4">opl_minte_fops</a></td></tr>

</table>
<hr><h2>宏定义文档</h2>
<a class="anchor" name="ga14" doxytag="opl_minte.c::OPL_MINTE_DEVICE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define OPL_MINTE_DEVICE&nbsp;&nbsp;&nbsp;"opl_minte"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00036">36</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00219">opl_minte_exit()</a>及<a class="el" href="opl__minte_8c-source.html#l00189">opl_minte_init()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga15" doxytag="opl_minte.h::opl_minte_hw0_irqexit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define opl_minte_hw0_irqexit&nbsp;&nbsp;&nbsp;ipmux_hw0_irqexit          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8h-source.html">opl_minte.h</a>第<a class="el" href="opl__minte_8h-source.html#l00023">23</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00219">opl_minte_exit()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="opl_minte.h::opl_minte_hw0_irqinit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define opl_minte_hw0_irqinit&nbsp;&nbsp;&nbsp;ipmux_hw0_irqinit          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8h-source.html">opl_minte.h</a>第<a class="el" href="opl__minte_8h-source.html#l00024">24</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00189">opl_minte_init()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="opl_minte.c::OPL_MINTE_MAJOR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define OPL_MINTE_MAJOR&nbsp;&nbsp;&nbsp;120          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00035">35</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00219">opl_minte_exit()</a>及<a class="el" href="opl__minte_8c-source.html#l00189">opl_minte_init()</a>.    </td>
  </tr>
</table>
<hr><h2>函数文档</h2>
<a class="anchor" name="ga6" doxytag="opl_minte.c::clear_irq_pending"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void clear_irq_pending           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00109">opl_minte_read()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="opl_minte.c::get_irq_pending"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a> get_irq_pending           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00109">opl_minte_read()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="opl_minte.h::ipmux_hw0_irqexit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ipmux_hw0_irqexit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: free irq,and disable ipmux interrupt. 
<p>
<dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>void</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回:</b></dt><dd>NULL</dd></dl>
<dl compact><dt><b>参见:</b></dt><dd>ipmux_module_exit() </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="ipmux__interrupt_8c-source.html">ipmux_interrupt.c</a>第<a class="el" href="ipmux__interrupt_8c-source.html#l00165">165</a>行定义。
<p>
参考 <a class="el" href="ipmux__interrupt_8h-source.html#l00053">OPL_IPMUX_IRQ</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00024">REG_INT_EN_ATB</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00030">REG_INT_EN_BRG</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00039">REG_INT_EN_DNTM</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00027">REG_INT_EN_IWF</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00042">REG_INT_EN_MC</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00021">REG_INT_EN_POS_UPT</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00033">REG_INT_EN_PPE</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00036">REG_INT_EN_UPTM</a>及<a class="el" href="ipmux__interrupt_8c-source.html#l00127">turn_off_level2_intr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="opl_minte.h::ipmux_hw0_irqinit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ipmux_hw0_irqinit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: request the ipmux irq and enable the its intr. 
<p>
<dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>void</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回值:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>failure</td></tr>
  </table>
</dl>
<dl compact><dt><b>参见:</b></dt><dd>ipmux_module_init </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="ipmux__interrupt_8c-source.html">ipmux_interrupt.c</a>第<a class="el" href="ipmux__interrupt_8c-source.html#l00139">139</a>行定义。
<p>
参考 <a class="el" href="ipmux__interrupt_8c-source.html#l00051">intr_status</a>、<a class="el" href="ipmux__interrupt_8c-source.html#l00087">ipmux_interrupt_handler()</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00053">OPL_IPMUX_IRQ</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00024">REG_INT_EN_ATB</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00030">REG_INT_EN_BRG</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00039">REG_INT_EN_DNTM</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00027">REG_INT_EN_IWF</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00042">REG_INT_EN_MC</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00021">REG_INT_EN_POS_UPT</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00033">REG_INT_EN_PPE</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00036">REG_INT_EN_UPTM</a>及<a class="el" href="ipmux__interrupt_8c-source.html#l00115">turn_on_level2_intr()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="opl_minte.c::ipmux_irq_disable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ipmux_irq_disable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>irq</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
参考自 <a class="el" href="opl__cpuif_8c-source.html#l00194">opl_host_ioctl()</a>及<a class="el" href="opl__minte_8c-source.html#l00146">opl_minte_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="opl_minte.c::ipmux_irq_enable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ipmux_irq_enable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>irq</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
参考自 <a class="el" href="opl__cpuif_8c-source.html#l00194">opl_host_ioctl()</a>及<a class="el" href="opl__minte_8c-source.html#l00146">opl_minte_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="opl_minte.c::opl_minte_open"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int opl_minte_open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct inode *&nbsp;</td>
          <td class="mdname" nowrap> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>filp</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00163">163</a>行定义。
<p>
参考 <a class="el" href="opl__minte_8c-source.html#l00082">opl_minte_is_open</a>及<a class="el" href="opl__minte_8c-source.html#l00081">opl_minte_open_count</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="opl_minte.c::opl_minte_read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t opl_minte_read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>loff_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: copy the opl_chip_irq_pending(indicate which interrupt occured) to user App, which will handle its interrupt.if the no irq pending occured,the process will sleep until the isr wake up it. 
<p>
<dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>struct</em>&nbsp;</td><td>file *filp </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>char</em>&nbsp;</td><td>*buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size_t</em>&nbsp;</td><td>length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>loff_t</em>&nbsp;</td><td>offset </td></tr>
  </table>
</dl>
<dl compact><dt><b>返回:</b></dt><dd>the length of bytes process read.</dd></dl>
<dl compact><dt><b>参见:</b></dt><dd>opl_minte_interrupt_handler </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000010">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00109">109</a>行定义。
<p>
参考 <a class="el" href="group___m_i_n_t_e.html#ga6">clear_irq_pending()</a>、<a class="el" href="opl__minte_8c-source.html#l00061">g_opl_chip_irq_event</a>、<a class="el" href="opl__minte_8c-source.html#l00062">g_opl_chip_waitq</a>、<a class="el" href="group___m_i_n_t_e.html#ga5">get_irq_pending()</a>、<a class="el" href="opl__minte_8c-source.html#l00082">opl_minte_is_open</a>及<a class="el" href="opl__typedef_8h-source.html#l00033">u32</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="opl_minte.c::opl_minte_release"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int opl_minte_release           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct inode *&nbsp;</td>
          <td class="mdname" nowrap> <em>inode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>filp</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00172">172</a>行定义。
<p>
参考 <a class="el" href="opl__minte_8c-source.html#l00082">opl_minte_is_open</a>及<a class="el" href="opl__minte_8c-source.html#l00081">opl_minte_open_count</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="opl_minte.c::opl_minte_write"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t opl_minte_write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>loff_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: because the enable irq or disable irq will be in atomic mode,so it should be operated in kernel mode is correct. 
<p>
the value in user *buffer it is the enable or disable. 1. enable 0. disable if the value is enable, to enble the ipmux interrupt, call the function in malta_int.c <dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>@param</em>&nbsp;</td><td>const char *buffer: contain the value(0-disable or 1-enable). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em></em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回值:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>is success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>!0</em>&nbsp;</td><td>failure. the device is not open or copy *buf from user to kernel fails.</td></tr>
  </table>
</dl>
<dl compact><dt><b>参见:</b></dt><dd></dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000011">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00146">146</a>行定义。
<p>
参考 <a class="el" href="group___m_i_n_t_e.html#ga8">ipmux_irq_disable()</a>、<a class="el" href="group___m_i_n_t_e.html#ga7">ipmux_irq_enable()</a>、<a class="el" href="ipmux__interrupt_8h-source.html#l00053">OPL_IPMUX_IRQ</a>及<a class="el" href="opl__minte_8c-source.html#l00082">opl_minte_is_open</a>.    </td>
  </tr>
</table>
<hr><h2>变量文档</h2>
<a class="anchor" name="ga0" doxytag="opl_minte.c::g_opl_chip_irq_event"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a> <a class="el" href="group___m_i_n_t_e.html#ga0">g_opl_chip_irq_event</a> = 0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00061">61</a>行定义。
<p>
参考自 <a class="el" href="ipmux__interrupt_8c-source.html#l00087">ipmux_interrupt_handler()</a>及<a class="el" href="opl__minte_8c-source.html#l00109">opl_minte_read()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="opl_minte.c::g_opl_chip_waitq"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">wait_queue_head_t <a class="el" href="group___m_i_n_t_e.html#ga1">g_opl_chip_waitq</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00062">62</a>行定义。
<p>
参考自 <a class="el" href="ipmux__interrupt_8c-source.html#l00087">ipmux_interrupt_handler()</a>、<a class="el" href="opl__minte_8c-source.html#l00189">opl_minte_init()</a>及<a class="el" href="opl__minte_8c-source.html#l00109">opl_minte_read()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="opl_minte.c::opl_minte_fops"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct file_operations <a class="el" href="group___m_i_n_t_e.html#ga4">opl_minte_fops</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>初始化序列：</b><div class="fragment"><pre class="fragment"> {
  .read = opl_minte_read,
  .write = opl_minte_write,
  .open = opl_minte_open,
  .release = opl_minte_release, 
}
</pre></div>
<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00083">83</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00189">opl_minte_init()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="opl_minte.c::opl_minte_is_open"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a> <a class="el" href="group___m_i_n_t_e.html#ga3">opl_minte_is_open</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00082">82</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00163">opl_minte_open()</a>、<a class="el" href="opl__minte_8c-source.html#l00109">opl_minte_read()</a>、<a class="el" href="opl__minte_8c-source.html#l00172">opl_minte_release()</a>及<a class="el" href="opl__minte_8c-source.html#l00146">opl_minte_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="opl_minte.c::opl_minte_open_count"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="opl__typedef_8h.html#a0">u32</a> <a class="el" href="group___m_i_n_t_e.html#ga2">opl_minte_open_count</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
在文件<a class="el" href="opl__minte_8c-source.html">opl_minte.c</a>第<a class="el" href="opl__minte_8c-source.html#l00081">81</a>行定义。
<p>
参考自 <a class="el" href="opl__minte_8c-source.html#l00163">opl_minte_open()</a>及<a class="el" href="opl__minte_8c-source.html#l00172">opl_minte_release()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated at Mon Jul 30 16:43:48 2007 for IPMUX1IPMUX2IPMUX3 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
