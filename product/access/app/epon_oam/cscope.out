cscope 15 $HOME/EPN/ZG/hexicom/trunk/product/access/app/epon_oam -q 0000016494 0001988955
	@inc/epon_oam_cli.h

21 #i‚de‡
__EPON_OAM_CLI_H__


22 
	#__EPON_OAM_CLI_H__


	)

27 
ï⁄_ﬂm_˛i_c⁄figOam_£t
(

28 
¨gc
,

29 *
¨gv
[],

30 
ﬂm_˛i_t
 *
pCli
);

31 
ï⁄_ﬂm_˛i_c⁄figMac_£t
(

32 
¨gc
,

33 *
¨gv
[],

34 
ﬂm_˛i_t
 *
pCli
);

35 
ï⁄_ﬂm_˛i_c⁄figEvít_£t
(

36 
¨gc
,

37 *
¨gv
[],

38 
ﬂm_˛i_t
 *
pCli
);

39 
ï⁄_ﬂm_˛i_c⁄figAutoReg_£t
(

40 
¨gc
,

41 *
¨gv
[],

42 
ﬂm_˛i_t
 *
pCli
);

43 
ï⁄_ﬂm_˛i_c⁄figHﬁdovî_£t
(

44 
¨gc
,

45 *
¨gv
[],

46 
ﬂm_˛i_t
 *
pCli
);

47 
ï⁄_ﬂm_˛i_c⁄fig_gë
(

48 
¨gc
,

49 *
¨gv
[],

50 
ﬂm_˛i_t
 *
pCli
);

51 
ï⁄_ﬂm_˛i_cou¡î_˛ór
(

52 
¨gc
,

53 *
¨gv
[],

54 
ﬂm_˛i_t
 *
pCli
);

55 
ï⁄_ﬂm_˛i_cou¡î_gë
(

56 
¨gc
,

57 *
¨gv
[],

58 
ﬂm_˛i_t
 *
pCli
);

59 
ï⁄_ﬂm_˛i_dbgFœg_£t
(

60 
¨gc
,

61 *
¨gv
[],

62 
ﬂm_˛i_t
 *
pCli
);

63 
ï⁄_ﬂm_˛i_dbgFœg_gë
(

64 
¨gc
,

65 *
¨gv
[],

66 
ﬂm_˛i_t
 *
pCli
);

67 
ï⁄_ﬂm_˛i_dbgExt_£t
(

68 
¨gc
,

69 *
¨gv
[],

70 
ﬂm_˛i_t
 *
pCli
);

71 
ï⁄_ﬂm_˛i_dbgExt_gë
(

72 
¨gc
,

73 *
¨gv
[],

74 
ﬂm_˛i_t
 *
pCli
);

75 
ï⁄_ﬂm_˛i_Áûovî_£t
(

76 
¨gc
,

77 *
¨gv
[],

78 
ﬂm_˛i_t
 *
pCli
);

79 
ï⁄_ﬂm_˛i_Áûovî_gë
(

80 
¨gc
,

81 *
¨gv
[],

82 
ﬂm_˛i_t
 *
pCli
);

83 
ï⁄_ﬂm_˛i_ﬂmInfoVídîOui_£t
(

84 
¨gc
,

85 *
¨gv
[],

86 
ﬂm_˛i_t
 *
pCli
);

87 
ï⁄_ﬂm_˛i_ﬂmInfo_gë
(

88 
¨gc
,

89 *
¨gv
[],

90 
ﬂm_˛i_t
 *
pCli
);

91 
ï⁄_ﬂm_˛i_ﬂmSèã_gë
(

92 
¨gc
,

93 *
¨gv
[],

94 
ﬂm_˛i_t
 *
pCli
);

95 
ï⁄_ﬂm_˛i_ªgi°î_åiggî
(

96 
¨gc
,

97 *
¨gv
[],

98 
ﬂm_˛i_t
 *
pCli
);

100 
ï⁄_ﬂm_˛i_˘cLoid_gë
(

101 
¨gc
,

102 *
¨gv
[],

103 
ﬂm_˛i_t
 *
pCli
);

105 
ï⁄_ﬂm_˛i_˘cLoid_£t
(

106 
¨gc
,

107 *
¨gv
[],

108 
ﬂm_˛i_t
 *
pCli
);

	@inc/epon_oam_config.h

21 #i‚de‡
__EPON_OAM_CONFIG_H__


22 
	#__EPON_OAM_CONFIG_H__


	)

27 
	#EPON_OAM_SUPPORT_LLID_NUM
 8

	)

28 
	#EPON_OAM_DEBUG
 1

	)

30 
	#EPON_OAM_FAILOVER_GRANULARITY
 (5)

	)

31 
	#EPON_OAM_FAILOVER_BACKOFF
 (2000)

	)

	@inc/epon_oam_db.h

21 #i‚de‡
__EPON_OAM_DB_H__


22 
	#__EPON_OAM_DB_H__


	)

32 
	#EPON_OAM_VARIABLEDB_HASH_POWER
 4

	)

33 
	#EPON_OAM_VARIABLEDB_HASH_NUM
 (1 << 
EPON_OAM_VARIABLEDB_HASH_POWER
)

	)

35 
	sﬂm_ﬂmPdu_s
 {

36 
	mŒidIdx
;

37 
	m§cMacAddr
[6];

38 
	mÊag
;

39 
	mcode
;

40 
	md©aLí
;

41 *
	mpD©a
;

42 } 
	tﬂm_ﬂmPdu_t
;

44 
	eﬂm_cbTy≥_e
 {

45 
	mEPON_OAM_CBTYPE_INFO_ORGSPEC
 = 1,

46 
	mEPON_OAM_CBTYPE_EVENT_ORGSPEC
,

47 
	mEPON_OAM_CBTYPE_ORGSPEC
,

48 
	mEPON_OAM_CBTYPE_END


49 } 
	tﬂm_cbTy≥_t
;

51 
	eﬂm_v¨Ty≥_e
 {

52 
	mEPON_OAM_VARTYPE_ATTRIBUTE
 = 1,

53 
	mEPON_OAM_VARTYPE_PACKAGE
 = 2,

54 
	mEPON_OAM_VARTYPE_OBJECT
 = 3,

55 
	mEPON_OAM_VARTYPE_OBJECTID
 = 4,

56 } 
	tﬂm_v¨Ty≥_t
;

58 
	eﬂm_cou¡îTy≥_e
 {

59 
	mEPON_OAM_COUNTERTYPE_TX
 = 1,

60 
	mEPON_OAM_COUNTERTYPE_RX
 = 2,

61 
	mEPON_OAM_COUNTERTYPE_TXINFO
 = 3,

62 
	mEPON_OAM_COUNTERTYPE_RXINFO
 = 4,

63 
	mEPON_OAM_COUNTERTYPE_TXORGSPEC
 = 5,

64 
	mEPON_OAM_COUNTERTYPE_RXORGSPEC
 = 6,

65 
	mEPON_OAM_COUNTERTYPE_DROP
 = 7,

66 
	mEPON_OAM_COUNTERTYPE_LOSTLINK
 = 8,

67 
	mEPON_OAM_COUNTERTYPE_END
,

68 } 
	tﬂm_cou¡îTy≥_t
;

70 
	sﬂm_c⁄fig_s
 {

71 
	mﬂmE«bÀd
;

72 
	mmacAddr
[6];

73 
	mautoRegE«bÀ
;

74 
	mautoRegTime
;

75 
	mhﬁdovîE«bÀ
;

76 
	mhﬁdovîTime
;

77 
	mevítRïC¡
;

78 
	mevítRïI¡vl
;

79 } 
	tﬂm_c⁄fig_t
;

81 
	sﬂm_ﬂmInfo_s
 {

82 
	mvÆid
;

83 
	mﬂmVî
;

84 
	mªvisi⁄
;

85 
	m°©e
;

86 
	mﬂmC⁄fig
;

87 
	mﬂmPduC⁄fig
;

88 
	moui
[3];

89 
	mvídîS≥cInfo
[4];

90 } 
	tﬂm_ﬂmInfo_t
;

92 
	sﬂm_öfoOrgS≥cCb_s
 {

93 (*
	m∑r£r
)(

94 
	mŒidIdx
,

95 *
	mpFøme
,

96 
	mÀngth
,

97 *
	mpExåa˘Lí
,

98 **
	mµOrgS≥cD©a
);

99 (*
	mh™dÀr
)(

100 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

101 *
	mpRïlyBuf
,

102 
	mbufLí
,

103 *
	mpRïlyLí
,

104 **
	mµOrgS≥cD©a
);

107 } 
	tﬂm_öfoOrgS≥cCb_t
;

109 
	sﬂm_evítOrgS≥cCb_s
 {

110 (*
	m∑r£r
)(

111 
	mŒidIdx
,

112 *
	mpFøme
,

113 
	mÀngth
,

114 *
	mpExåa˘Lí
,

115 **
	mµOrgS≥cD©a
);

116 (*
	mh™dÀr
)(

117 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

118 *
	mpRïlyBuf
,

119 
	mbufLí
,

120 *
	mpRïlyLí
,

121 **
	mµOrgS≥cD©a
);

124 } 
	tﬂm_evítOrgS≥cCb_t
;

126 
	sﬂm_v¨Des¸ùt‹_s
 {

127 
	mv¨Bønch
;

128 
	mv¨Lóf
;

129 } 
	tﬂm_v¨Des¸ùt‹_t
;

131 
	sﬂm_v¨C⁄èöîRe•_s
 {

132 
	mv¨Width
;

133 *
	mv¨D©a
;

134 
ﬂm_v¨C⁄èöîRe•_s
 *
	m√xt
;

135 } 
	tﬂm_v¨C⁄èöîRe•_t
;

137 
	sﬂm_v¨C⁄èöî_s
 {

138 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
;

139 
ﬂm_v¨C⁄èöîRe•_t
 *
	mpV¨Re•
;

140 } 
	tﬂm_v¨C⁄èöî_t
;

143 
	sﬂm_v¨T¨gë_s
 {

144 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
;

145 
	mv¨Width
;

146 
	mv¨D©a
[2];

147 } 
	tﬂm_v¨T¨gë_t
;

149 
	sﬂm_v¨Cb_s
 {

150 
	mv¨Ty≥
;

151 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
;

152 (*
	mh™dÀr
)(

153 
ﬂm_v¨T¨gë_t
 *
	mpV¨T¨gë
,

154 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
,

155 
ﬂm_v¨C⁄èöî_t
 **
	mµV¨C⁄èöî
);

158 } 
	tﬂm_v¨Cb_t
;

160 
	sﬂm_‹gS≥cCb_s
 {

161 (*
	m¥o˚ss‹
)(

162 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

163 *
	mpFøme
,

164 
	mÀngth
,

165 *
	mpRïlyBuf
,

166 
	mbufLí
,

167 *
	mpRïlyLí
);

168 } 
	tﬂm_‹gS≥cCb_t
;

170 
	sﬂm_cou¡î_s
 {

171 
	mﬂmTx
;

172 
	mﬂmRx
;

173 
	mﬂmTxInfo
;

174 
	mﬂmRxInfo
;

175 
	mﬂmTxOrgS≥c
;

176 
	mﬂmRxOrgS≥c
;

177 
	mﬂmDr›
;

178 
	mﬂmLo°Lök
;

179 } 
	tﬂm_cou¡î_t
;

184 
	sﬂm_öfoOrgS≥cCbRec_s
 {

185 
	moui
[3];

186 (*
	m∑r£r
)(

187 
	mŒidIdx
,

188 *
	mpFøme
,

189 
	mÀngth
,

190 *
	mpExåa˘Lí
,

191 **
	mµOrgS≥cD©a
);

192 (*
	mh™dÀr
)(

193 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

194 *
	mpRïlyBuf
,

195 
	mbufLí
,

196 *
	mpRïlyLí
,

197 **
	mµOrgS≥cD©a
);

200 
ﬂm_öfoOrgS≥cCbRec_s
 *
	m¥ev
;

201 
ﬂm_öfoOrgS≥cCbRec_s
 *
	m√xt
;

202 } 
	tﬂm_öfoOrgS≥cCbRec_t
;

204 
	sﬂm_evítOrgS≥cCbRec_s
 {

205 
	moui
[3];

206 (*
	m∑r£r
)(

207 
	mŒidIdx
,

208 *
	mpFøme
,

209 
	mÀngth
,

210 *
	mpExåa˘Lí
,

211 **
	mµOrgS≥cD©a
);

212 (*
	mh™dÀr
)(

213 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

214 *
	mpRïlyBuf
,

215 
	mbufLí
,

216 *
	mpRïlyLí
,

217 **
	mµOrgS≥cD©a
);

220 
ﬂm_evítOrgS≥cCbRec_s
 *
	m¥ev
;

221 
ﬂm_evítOrgS≥cCbRec_s
 *
	m√xt
;

222 } 
	tﬂm_evítOrgS≥cCbRec_t
;

224 
	sﬂm_v¨CbRec_s
 {

225 
	mv¨Ty≥
;

226 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
;

227 (*
	mh™dÀr
)(

228 
ﬂm_v¨T¨gë_t
 *
	mpV¨T¨gë
,

229 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
,

230 
ﬂm_v¨C⁄èöî_t
 **
	mµV¨C⁄èöî
);

233 
ﬂm_v¨CbRec_s
 *
	m¥ev
;

234 
ﬂm_v¨CbRec_s
 *
	m√xt
;

235 } 
	tﬂm_v¨CbRec_t
;

237 
	sﬂm_‹gS≥cCbRec_s
 {

238 
	moui
[3];

239 (*
	m¥o˚ss‹
)(

240 
ﬂm_ﬂmPdu_t
 *
	mpOamPdu
,

241 *
	mpFøme
,

242 
	m‰ameLí
,

243 *
	mpRïlyBuf
,

244 
	mbufLí
,

245 *
	mpRïlyLí
);

246 
ﬂm_‹gS≥cCbRec_s
 *
	m¥ev
;

247 
ﬂm_‹gS≥cCbRec_s
 *
	m√xt
;

248 } 
	tﬂm_‹gS≥cCbRec_t
;

266 
ï⁄_ﬂm_d©aba£_öô
();

283 
ï⁄_ﬂm_c⁄fig_£t
(

284 
ŒidIdx
,

285 
ﬂm_c⁄fig_t
 *
pOamC⁄fig
);

301 
ï⁄_ﬂm_c⁄fig_gë
(

302 
ŒidIdx
,

303 
ﬂm_c⁄fig_t
 *
pOamC⁄fig
);

319 
ï⁄_ﬂm_loˇlInfo_gë
(

320 
Œid
,

321 
ﬂm_ﬂmInfo_t
 *
pOamInfo
);

338 
ï⁄_ﬂm_loˇlInfo_£t
(

339 
Œid
,

340 
ﬂm_ﬂmInfo_t
 *
pOamInfo
);

356 
ï⁄_ﬂm_ªmŸeInfo_gë
(

357 
Œid
,

358 
ﬂm_ﬂmInfo_t
 *
pOamInfo
);

375 
ï⁄_ﬂm_ªmŸeInfo_£t
(

376 
Œid
,

377 
ﬂm_ﬂmInfo_t
 *
pOamInfo
);

393 
ï⁄_ﬂm_ªmŸeInfo_öô
(

394 
ŒidIdx
);

413 
ï⁄_ﬂm_‹gS≥cCb_ªg
(

414 
ﬂm_cbTy≥_t
 
ªgTy≥
,

415 *
oui
,

416 *
cbD©a
);

433 
ï⁄_ﬂm_‹gS≥cCb_dîeg
(

434 
ﬂm_cbTy≥_t
 
ªgTy≥
,

435 *
oui
);

453 
ï⁄_ﬂm_‹gS≥cCb_gë
(

454 
ﬂm_cbTy≥_t
 
ªgTy≥
,

455 *
oui
,

456 *
cbD©a
);

475 
ï⁄_ﬂm_v¨übÀCb_ªg
(

476 
ﬂm_v¨Cb_t
 *
pV¨Cb
);

491 
ï⁄_ﬂm_v¨übÀCb_dîeg
(

492 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
);

510 
ï⁄_ﬂm_v¨übÀCb_gë
(

511 
ﬂm_v¨Cb_t
 *
pV¨Cb
);

528 
ï⁄_ﬂm_defOrgS≥cCb_£t
(

529 
ﬂm_cbTy≥_t
 
ªgTy≥
,

530 *
pCbD©a
);

546 
ï⁄_ﬂm_defOrgS≥cCb_gë
(

547 
ﬂm_cbTy≥_t
 
ªgTy≥
,

548 *
cbD©a
);

564 
ï⁄_ﬂm_cou¡î_öô
(

565 
ŒidIdx
,

566 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
);

582 
ï⁄_ﬂm_cou¡î_öc
(

583 
ŒidIdx
,

584 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
);

600 
ï⁄_ﬂm_cou¡î_gë
(

601 
ŒidIdx
,

602 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
);

	@inc/epon_oam_dbg.h

21 #i‚de‡
__EPON_OAM_DBG_H__


22 
	#__EPON_OAM_DBG_H__


	)

26 
	#EPON_OAM_DBGFLAG_NONE
 (0x00000000UL)

	)

27 
	#EPON_OAM_DBGFLAG_INFO
 (0x00000001UL)

	)

28 
	#EPON_OAM_DBGFLAG_WARN
 (0x00000002UL)

	)

29 
	#EPON_OAM_DBGFLAG_ERROR
 (0x00000004UL)

	)

30 
	#EPON_OAM_DBGFLAG_DUMP
 (0x00000008UL)

	)

31 
	#EPON_OAM_DBGFLAG_CTC_INFO
 (0x00000010UL)

	)

32 
	#EPON_OAM_DBGFLAG_CTC_WARN
 (0x00000020UL)

	)

33 
	#EPON_OAM_DBGFLAG_CTC_ERROR
 (0x00000040UL)

	)

34 
	#EPON_OAM_DBGFLAG_CTC_DUMP
 (0x00000080UL)

	)

35 
	#EPON_OAM_DBGFLAG_TXOAM
 (0x10000000UL)

	)

36 
	#EPON_OAM_DBGFLAG_RXOAM
 (0x20000000UL)

	)

37 
	#EPON_OAM_DBGFLAG_DEBUG
 (0x80000000UL)

	)

38 
	#EPON_OAM_DBGFLAG_ALL
 (0xFFFFFFFFUL)

	)

40 
	#EPON_OAM_DBGEXT_NONE
 (0x00000000UL)

	)

41 
	#EPON_OAM_DBGEXT_CTC_VARSET
 (0x00000001UL)

	)

42 
	#EPON_OAM_DBGEXT_ALL
 (0xFFFFFFFFUL)

	)

44 
	#EPON_OAM_DBGFLAG_DEFAULT
 
EPON_OAM_DBGFLAG_NONE


	)

45 
	#EPON_OAM_DBGEXT_DEFAULT
 
EPON_OAM_DBGEXT_NONE


	)

48 #i‡
EPON_OAM_DEBUG


52 
	#DUMP_INFO_OAMPDU
(
Œid
,
pOamInfo
) \

53 
	`dump_öfo_ﬂmPdu
(
Œid
,
pOamInfo
)

	)

54 
	#DUMP_HEX_VALUE
(
Êag
,
hexVÆue
,
Àngth
) \

55 
	`dump_hex_vÆue
(
Êag
,
hexVÆue
,
Àngth
)

	)

56 
	#EPON_OAM_PRINT
 \

57 
ï⁄_ﬂm_¥öt


	)

63 
dump_öfo_ﬂmPdu
(
Œid
, 
ﬂm_ﬂmInfo_t
 *
pOamInfo
);

64 
dump_hex_vÆue
(
Êag
, *
hexVÆue
, 
Àngth
);

65 
ï⁄_ﬂm_dbgFœg_£t
(
Êag
);

66 
ï⁄_ﬂm_dbgFœg_gë
(*
pFœg
);

67 
ï⁄_ﬂm_dbgExt_£t
(
Êag
);

68 
ï⁄_ﬂm_dbgExt_gë
(*
pFœg
);

69 
ï⁄_ﬂm_¥öt
(
Êag
, *
fmt
, ...);

74 
	#DUMP_INFO_OAMPDU
(
Œid
,
pOamInfo
)

	)

75 
	#DUMP_HEX_VALUE
(
Êag
,
hexVÆue
,
Àngth
)

	)

76 
	#EPON_OAM_PRINT


	)

77 
	#ï⁄_ﬂm_dbgFœg_£t
(
Êag
)

	)

78 
	#ï⁄_ﬂm_dbgFœg_gë
(
pFœg
)

	)

79 
	#ï⁄_ﬂm_dbgExt_£t
(
Êag
)

	)

80 
	#ï⁄_ﬂm_dbgExt_gë
(
pFœg
)

	)

	@inc/epon_oam_err.h

21 #i‚de‡
__EPON_OAM_ERR_H__


22 
	#__EPON_OAM_ERR_H__


	)

28 
	mEPON_OAM_ERR_OK
 = 0,

29 
	mEPON_OAM_ERR_PARAM
 = -1,

30 
	mEPON_OAM_ERR_MEM
 = -2,

31 
	mEPON_OAM_ERR_NOT_FOUND
 = -3,

32 
	mEPON_OAM_ERR_PARSE
 = -4,

33 
	mEPON_OAM_ERR_HANDLE
 = -5,

34 
	mEPON_OAM_ERR_LENGTH
 = -6,

35 
	mEPON_OAM_ERR_MSGQ
 = -7,

36 
	mEPON_OAM_ERR_ORG
 = -8,

37 
	mEPON_OAM_ERR_UNKNOWN
 = -9,

	@inc/epon_oam_msgq.h

21 #i‚de‡
__EPON_OAM_MSGQ_H__


22 
	#__EPON_OAM_MSGQ_H__


	)

28 
	#EPON_OAM_EVENTDATA_MAX
 128

	)

30 
	#EPON_OAM_EVENT_DISCOVERY_COMPLETE
 0x0001

	)

31 
	#EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
 0x0002

	)

32 
	#EPON_OAM_EVENT_KEEPALIVE_RESET
 0x0003

	)

33 
	#EPON_OAM_EVENT_LOS
 0x0004

	)

34 
	#EPON_OAM_EVENT_CLI
 0x0005

	)

37 
	eﬂm_˛iTy≥_e
 {

38 
	mEPON_OAM_CLI_DBG_SET
 = 1,

39 
	mEPON_OAM_CLI_DBG_GET
,

40 
	mEPON_OAM_CLI_CFGOAM_SET
,

41 
	mEPON_OAM_CLI_CFGMAC_SET
,

42 
	mEPON_OAM_CLI_CFGAUTOREG_SET
,

43 
	mEPON_OAM_CLI_CFGHOLDOVER_SET
,

44 
	mEPON_OAM_CLI_CFGEVENT_SET
,

45 
	mEPON_OAM_CLI_CFG_GET
,

46 
	mEPON_OAM_CLI_COUNTER_GET
,

47 
	mEPON_OAM_CLI_COUNTER_CLEAR
,

48 
	mEPON_OAM_CLI_DBGEXT_SET
,

49 
	mEPON_OAM_CLI_DBGEXT_GET
,

50 
	mEPON_OAM_CLI_FAILOVER_SET
,

51 
	mEPON_OAM_CLI_FAILOVER_GET
,

52 
	mEPON_OAM_CLI_OAMINFOOUI_SET
,

53 
	mEPON_OAM_CLI_OAMINFO_GET
,

54 
	mEPON_OAM_CLI_OAMSTATE_GET
,

55 
	mEPON_OAM_CLI_REG_TRIGGER
,

56 
	mCTC_OAM_CLI_LOID_SET
,

57 
	mCTC_OAM_CLI_LOID_GET
,

58 
	mEPON_OAM_CLI_END
,

59 } 
	tﬂm_˛iTy≥_t
;

61 
	sﬂm_msgqD©a_s
 {

62 
	mŒidIdx
;

63 
	md©aSize
;

64 
	md©a
[
EPON_OAM_EVENTDATA_MAX
];

65 } 
	tﬂm_msgqD©a_t
;

67 
	sﬂm_msgqEvítD©a_s
 {

68 
	mmty≥
;

69 
ﬂm_msgqD©a_t
 
	mmsgqD©a
;

70 } 
	tﬂm_msgqEvítD©a_t
;

73 
	sﬂm_˛iDbg_s
 {

74 
	mÊag
;

75 } 
	tﬂm_˛iDbg_t
;

77 
	sﬂm_˛iLlidIdx_s
 {

78 
	mŒidIdx
;

79 } 
	tﬂm_˛iLlidIdx_t
;

81 
	sﬂm_˛iE«bÀ_s
 {

82 
	mŒidIdx
;

83 
	míabÀ
;

84 } 
	tﬂm_˛iE«bÀ_t
;

86 
	sﬂm_˛iMac_s
 {

87 
	mŒidIdx
;

88 
	mmac
[6];

89 } 
	tﬂm_˛iMac_t
;

91 
	sﬂm_˛iFaûovî_s
 {

92 
	mgønuœrôy
;

93 
	mbackoff
;

94 } 
	tﬂm_˛iFaûovî_t
;

96 
	sﬂm_˛iAutoReg_s
 {

97 
	mŒidIdx
;

98 
	mautoRegE«bÀ
;

99 
	mautoRegTime
;

100 } 
	tﬂm_˛iAutoReg_t
;

102 
	sﬂm_˛iHﬁdovî_s
 {

103 
	mŒidIdx
;

104 
	mhﬁdovîE«bÀ
;

105 
	mhﬁdovîTime
;

106 } 
	tﬂm_˛iHﬁdovî_t
;

108 
	sﬂm_˛iEvít_s
 {

109 
	mŒidIdx
;

110 
	mevítRïC¡
;

111 
	mevítRïI¡vl
;

112 } 
	tﬂm_˛iEvít_t
;

114 
	sﬂm_˛iCtcLoid_s
 {

115 
	mŒidIdx
;

116 
	mloid
[24 ];

117 
	m∑ssw‹d
[12 ];

118 } 
	tﬂm_˛iCtcLoid_t
;

120 
	sﬂm_˛i_s
 {

121 
ﬂm_˛iTy≥_t
 
	m˛iTy≥
;

123 
ﬂm_˛iLlidIdx_t
 
	m˛iLlidIdx
;

124 
ﬂm_˛iE«bÀ_t
 
	m˛iE«bÀ
;

125 
ﬂm_˛iDbg_t
 
	m˛iDbg
;

126 
ﬂm_˛iMac_t
 
	m˛iMac
;

127 
ﬂm_˛iFaûovî_t
 
	m˛iFaûovî
;

128 
ﬂm_˛iAutoReg_t
 
	m˛iAutoReg
;

129 
ﬂm_˛iHﬁdovî_t
 
	m˛iHﬁdovî
;

130 
ﬂm_˛iEvít_t
 
	m˛iEvít
;

131 
ﬂm_˛iCtcLoid_t
 
	m˛iCtcLoid
;

132 } 
	mu
;

133 } 
	tﬂm_˛i_t
;

139 
ï⁄_ﬂm_evít_£nd
(

140 
ŒidIdx
,

141 
evítId
);

142 
ï⁄_ﬂm_evítD©a_£nd
(

143 
ŒidIdx
,

144 
evítId
,

145 *
d©a
,

146 
d©aLí
);

	@inc/epon_oam_rx.h

21 #i‚de‡
__EPON_OAM_RX_H__


22 
	#__EPON_OAM_RX_H__


	)

31 
pktRedúe˘_sock
;

37 
	#EPON_OAM_FLAG_LINK_FAULT
 0x0001

	)

38 
	#EPON_OAM_FLAG_DYING_GASP
 0x0002

	)

39 
	#EPON_OAM_FLAG_CRITICAL_EVENT
 0x0004

	)

40 
	#EPON_OAM_FLAG_LOCAL_EVAL
 0x0008

	)

41 
	#EPON_OAM_FLAG_LOCAL_STABLE
 0x0010

	)

42 
	#EPON_OAM_FLAG_REMOTE_EVAL
 0x0020

	)

43 
	#EPON_OAM_FLAG_REMOTE_STABLE
 0x0040

	)

45 
	#EPON_OAMPDU_CODE_INFO
 0x00

	)

46 
	#EPON_OAMPDU_CODE_EVENT
 0x01

	)

47 
	#EPON_OAMPDU_CODE_VAR_REQ
 0x02

	)

48 
	#EPON_OAMPDU_CODE_VAR_RESP
 0x03

	)

49 
	#EPON_OAMPDU_CODE_LOOPBACK
 0x04

	)

50 
	#EPON_OAMPDU_CODE_ORG_SPEC
 0xFE

	)

51 
	#EPON_OAMPDU_CODE_RESERVED
 0xFF

	)

53 
	#EPON_INFO_OAMPDU_TYPE_END
 0x00

	)

54 
	#EPON_INFO_OAMPDU_TYPE_LOCAL
 0x01

	)

55 
	#EPON_INFO_OAMPDU_TYPE_REMOTE
 0x02

	)

56 
	#EPON_INFO_OAMPDU_TYPE_ORG_SPEC
 0xFE

	)

57 
	#EPON_INFO_OAMPDU_TYPE_RESERVED
 0xFF

	)

59 
	#EPON_EVENT_OAMPDU_TYPE_END
 0x00

	)

60 
	#EPON_EVENT_OAMPDU_TYPE_ESPE
 0x01

	)

61 
	#EPON_EVENT_OAMPDU_TYPE_EFE
 0x02

	)

62 
	#EPON_EVENT_OAMPDU_TYPE_EFPE
 0x03

	)

63 
	#EPON_EVENT_OAMPDU_TYPE_EFSSE
 0x04

	)

64 
	#EPON_EVENT_OAMPDU_TYPE_ORG_SPEC
 0xFE

	)

65 
	#EPON_EVENT_OAMPDU_TYPE_RESERVED
 0xFF

	)

67 
	#EPON_VAR_OAMPDU_TYPE_END
 0x00

	)

68 
	#EPON_VAR_OAMPDU_TYPE_ATTR
 0x07

	)

69 
	#EPON_VAR_OAMPDU_TYPE_PKG
 0x04

	)

70 
	#EPON_VAR_OAMPDU_TYPE_OBJ
 0x03

	)

71 
	#EPON_VAR_OAMPDU_IND
 0x80

	)

72 
	#EPON_VAR_OAMPDU_IND_LENGTH
 0x01

	)

75 
	#EPON_VAR_OAMPDU_IND_OBJEND
 0x40

	)

76 
	#EPON_VAR_OAMPDU_IND_PKGEND
 0x60

	)

79 
	#EPON_INFO_OAMPDU_INFO_LEN
 0x10

	)

80 
	#EPON_INFO_OAMPDU_VENDER_SPEC_LEN
 0x04

	)

81 
	#EPON_INFO_OAMPDU_ORGSPEC_MIN_LEN
 0x05

	)

83 
	#EPON_EVENT_OAMPDU_ESPE_LEN
 0x28

	)

84 
	#EPON_EVENT_OAMPDU_EFE_LEN
 0x1A

	)

85 
	#EPON_EVENT_OAMPDU_EFPE_LEN
 0x1C

	)

86 
	#EPON_EVENT_OAMPDU_EFSSE_LEN
 0x12

	)

87 
	#EPON_EVENT_OAMPDU_SEQUENCE_LEN
 0x02

	)

88 
	#EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
 0x05

	)

89 
	#EPON_EVENT_OAMPDU_ORGSPEC_MAX_LEN
 0xFF

	)

91 
	#EPON_VAR_OAMPDU_DESC_LEN
 0x03

	)

92 
	#EPON_VAR_OAMPDU_TARGET_LEN
 0x03

	)

93 
	#EPON_VAR_OAMPDU_PKGEND_LEN
 0x01

	)

94 
	#EPON_VAR_OAMPDU_OBJEND_LEN
 0x01

	)

95 
	#EPON_VAR_OAMPDU_OBJID_LEN
 0x02

	)

97 
	#EPON_OAMPDU_HDR_LENGTH
 0x12

	)

98 
	#EPON_OAM_OUI_LENGTH
 0x03

	)

99 
	#EPON_OAM_DYINGGASP_BUF_LEN
 0x40

	)

104 
	#EPON_VAR_OAMPDU_WIDTH
(
width
Ë((width & 
EPON_VAR_OAMPDU_IND
Ë? 0 : ((0 =widthË? 128 : width))

	)

105 
	#EPON_VAR_OAMPDU_INDICATOR
(
öd
Ë(öd | 
EPON_VAR_OAMPDU_IND
)

	)

110 *
ï⁄_ﬂm_rxThªad
(*
¨gu
);

	@inc/epon_oam_tx.h

21 #i‚de‡
__EPON_OAM_TX_H__


22 
	#__EPON_OAM_TX_H__


	)

31 
	sﬂm_evítOrgS≥c_s
 {

32 
	moui
[
EPON_OAM_OUI_LENGTH
];

33 
	mevítLí
;

34 
	mevítD©a
[
EPON_EVENT_OAMPDU_ORGSPEC_MAX_LEN
];

35 
ﬂm_evítOrgS≥c_s
 *
	mpNext
;

36 } 
	tﬂm_evítOrgS≥c_t
;

61 
ï⁄_ﬂm_‹gS≥cEvtNŸifiˇti⁄_£nd
(

62 
ŒidIdx
,

63 
ﬂm_evítOrgS≥c_t
 *
pEvít
);

83 
ï⁄_ﬂm_ª∂y_£nd
(

84 
ŒidIdx
,

85 
code
,

86 *
pRïlyPaylﬂd
,

87 
ª∂yLí
);

	@inc/user/bdcom.h

1 #i‚de‡
__BDCOM_H__


2 
	#__BDCOM_H__


	)

6 
	~<sys/sockë.h
>

7 
	~<√töë/ö.h
>

8 
	~<√t/if.h
>

12 
	#BDCOM_OAM_OUI
 {0x00, 0xe0, 0x0f}

	)

13 
	#BDCOM_ORGSPEC_HDR_LEN
 7

	)

17 
	#OAM_BDCOM_EXT_OPCODE_GET_REQUEST
 0x01

	)

18 
	#OAM_BDCOM_EXT_OPCODE_GET_RESPONSE
 0x02

	)

19 
	#OAM_BDCOM_EXT_OPCODE_SET_REQUEST
 0x03

	)

20 
	#OAM_BDCOM_EXT_OPCODE_SET_RESPONSE
 0x04

	)

21 
	#OAM_BDCOM_BRANCH_INSTANCE_V_2_1
 0x37

	)

23 
	#OAM_BDCOM_BRANCH_STANDARD_ATTRIB
 0x07

	)

24 
	#OAM_BDCOM_BRANCH_STANDARD_ACTION
 0x09

	)

25 
	#OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
 0xC7

	)

26 
	#OAM_BDCOM_RANCH_EXTENDED_ACTION
 0xC9

	)

30 
	#OAM_BDCOM_EXT_LEAF_ISOLATE
 0X0006

	)

31 
	#OAM_BDCOM_EXT_LEAF_MIRROR
 0X000B

	)

32 
	#OAM_BDCOM_EXT_LEAF_LOOKBACK
 0X0014

	)

33 
	#OAM_BDCOM_EXT_LEAF_SPEED
 0X0015

	)

34 
	#OAM_BDCOM_EXT_LEAF_DUPLEX
 0X0016

	)

35 
	#OAM_BDCOM_EXT_LEAF_MGMTIP
 0X0007

	)

36 
	#OAM_BDCOM_EXT_LEAF_MAC
 0X001F

	)

37 
	#OAM_BDCOM_EXT_LEAF_MAC_NUM
 0X0012

	)

38 
	#OAM_BDCOM_EXT_LEAF_PORT_STATS
 0X0017

	)

39 
	#OAM_BDCOM_EXT_LEAF_MAC_AGING
 0X0003

	)

40 
	#OAM_BDCOM_EXT_LEAF_MAC_LEARNING
 0X0002

	)

41 
	#OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
 0X0001

	)

42 
	#OAM_BDCOM_EXT_LEAF_SPANNING_TREE
 0x000a

	)

45 
	#OAM_BDCOM_EXT_LEAF_ISLATE_SET
 0X01

	)

46 
	#OAM_BDCOM_EXT_LEAF_ISLATE_UNSET
 0X00

	)

48 
	#OAM_BDCOM_EXT_LEAF_SPEED_10M
 0X01

	)

49 
	#OAM_BDCOM_EXT_LEAF_SPEED_100M
 0X02

	)

50 
	#OAM_BDCOM_EXT_LEAF_SPEED_AUTO
 0X04

	)

52 
	#OAM_BDCOM_EXT_LEAF_DUPLEX_HALF
 0X02

	)

53 
	#OAM_BDCOM_EXT_LEAF_DUPLEX_FULL
 0X01

	)

54 
	#OAM_BDCOM_EXT_LEAF_DUPLEX_AUTO
 0X03

	)

56 
	#OAM_BDCOM_EXT_LEAF_IP_DHCP
 0X01

	)

57 
	#OAM_BDCOM_EXT_LEAF_IP_STATIC
 0X02

	)

59 
	#OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK
 0X01

	)

60 
	#OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK_UNSET
 0X00

	)

62 
	#OAM_BDCOM_EXT_LEAF_PORT_MIRROR
 0X01

	)

63 
	#OAM_BDCOM_EXT_LEAF_PORT_MIRROR_UNSET
 0X00

	)

66 
	#OAM_BDCOM_EXT_LEAF_PORT_MAC_ENABLE
 0X01

	)

67 
	#OAM_BDCOM_EXT_LEAF_PORT_MAC_DISABLE
 0X00

	)

70 
	#OAM_BDCOM_EXT_LEAF_MAC_LEARN_ENABLE
 0X02

	)

71 
	#OAM_BDCOM_EXT_LEAF_MAC_LEARN_DISABLE
 0X00

	)

73 
	#OAM_BDCOM_EXT_LEAF_ENABLE
 0X01

	)

74 
	#OAM_BDCOM_EXT_LEAF_DISABLE
 0X00

	)

76 
	#OAM_BDCOM_EXT_LEAF_MAC_STATIC_ADD
 0X0100

	)

77 
	#OAM_BDCOM_EXT_LEAF_MAC_STATIC_DEL
 0X0204

	)

78 
	#OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL
 0X0203

	)

79 
	#OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL_ALL
 0X0201

	)

81 
	#BDCOM_MAC_STATIC
 1

	)

82 
	#BDCOM_MAC_DYNAMIC
 0

	)

84 
	sbdcom_hódî
 {

85 
u8_t
 
	moui
[3];

86 
u8_t
 
	mext_›code
;

87 }
__©åibuã__
((
∑cked
));

88 
bdcom_hódî
 
	tbdcom_hódî_t
;

91 
	sbdcom_r•_ödiˇti⁄
 {

92 
u8_t
 
	mbønch
;

93 
u16_t
 
	mÀaf
;

94 
u8_t
 
	mv¨_ödiˇti⁄
;

95 }
__©åibuã__
((
∑cked
));

96 
bdcom_r•_ödiˇti⁄
 
	tbdcom_r•_ödiˇti⁄_t
;

98 
	sbdcom_p‹t_isﬁ©e


100 
u8_t
 
	mbønch
;

101 
u16_t
 
	mÀaf
;

102 
u8_t
 
	mwidth
;

103 
u8_t
 
	ma˘i⁄
;

104 }
__©åibuã__
((
∑cked
));

105 
bdcom_p‹t_isﬁ©e
 
	tbdcom_p‹t_isﬁ©e_t
;

107 
	sbdcom_p‹t_múr‹


109 
u8_t
 
	mbønch
;

110 
u16_t
 
	mÀaf
;

111 
u8_t
 
	mwidth
;

112 
u8_t
 
	ma˘i⁄
[6];

113 }
__©åibuã__
((
∑cked
));

114 
bdcom_p‹t_múr‹
 
	tbdcom_p‹t_múr‹_t
;

116 
	sbdcom_p‹t_•ìd


118 
u8_t
 
	mbønch
;

119 
u16_t
 
	mÀaf
;

120 
u8_t
 
	mwidth
;

121 
u8_t
 
	ma˘i⁄
;

122 }
__©åibuã__
((
∑cked
));

123 
bdcom_p‹t_•ìd
 
	tbdcom_p‹t_•ìd_t
;

125 
	sbdcom_p‹t_du∂ex


127 
u8_t
 
	mbønch
;

128 
u16_t
 
	mÀaf
;

129 
u8_t
 
	mwidth
;

130 
u8_t
 
	ma˘i⁄
;

131 }
__©åibuã__
((
∑cked
));

132 
bdcom_p‹t_du∂ex
 
	tbdcom_p‹t_du∂ex_t
;

134 
	sbdcom_p‹t_lookback


136 
u8_t
 
	mbønch
;

137 
u16_t
 
	mÀaf
;

138 
u8_t
 
	mwidth
;

139 
u8_t
 
	ma˘i⁄
;

140 }
__©åibuã__
((
∑cked
));

141 
bdcom_p‹t_lookback
 
	tbdcom_p‹t_lookback_t
;

144 
	sbdcom_mgmtù


146 
u8_t
 
	mbønch
;

147 
u16_t
 
	mÀaf
;

148 
u8_t
 
	mwidth
;

149 
u8_t
 
	ma˘i⁄
;

150 
ö_addr
 
	mùaddr
;

151 
ö_addr
 
	mmask
;

152 
ö_addr
 
	mg©eway
;

153 
u16_t
 
	mmvœn
;

154 }
__©åibuã__
((
∑cked
));

155 
bdcom_mgmtù
 
	tbdcom_mgmtù_t
;

157 
	sbdcom_m⁄ô‹


159 
u8_t
 
	mbønch
;

160 
u16_t
 
	mÀaf
;

161 
u8_t
 
	mwidth
;

162 
u8_t
 
	m£ssi⁄
;

163 
u8_t
 
	ma˘i⁄
;

164 
u8_t
 
	mm⁄ô‹_p‹t
;

165 
u8_t
 
	mmúr‹_num
;

166 }
__©åibuã__
((
∑cked
));

167 
bdcom_m⁄ô‹
 
	tbdcom_m⁄ô‹_t
;

169 
	sbdcom_múr‹


171 
u8_t
 
	mm⁄ô‹_p‹t
;

172 
u8_t
 
	mm⁄ô‹_dú
;

173 }
__©åibuã__
((
∑cked
));

174 
bdcom_múr‹
 
	tbdcom_múr‹_t
;

178 
u8_t
 
	mp‹t
;

179 
u8_t
 
	mdú
;

180 }
	tp‹t_múr‹_t
;

185 
u8_t
 
	mem±y_Êag
;

186 
u8_t
 
	mm⁄ô‹_p‹t
;

187 
p‹t_múr‹_t
 
	mmúr‹_p‹t
[3];

188 }
	tp‹t_m⁄ô‹_t
;

190 
	sbdcom_mac


192 
u8_t
 
	mbønch
;

193 
u16_t
 
	mÀaf
;

194 
u8_t
 
	mwidth
;

195 
u8_t
 
	ma˘i⁄
;

196 }
__©åibuã__
((
∑cked
));

197 
bdcom_mac
 
	tbdcom_mac_t
;

200 
	sbdcom_p‹t_mac_num


202 
u8_t
 
	mbønch
;

203 
u16_t
 
	mÀaf
;

204 
u8_t
 
	mwidth
;

205 
u16_t
 
	mmac_num
;

206 }
__©åibuã__
((
∑cked
));

207 
bdcom_p‹t_mac_num
 
	tbdcom_p‹t_mac_num_t
;

211 
	sbdcom_gë_v¨


213 
u8_t
 
	mbønch
;

214 
u16_t
 
	mÀaf
;

215 
u8_t
 
	mwidth
;

216 
u8_t
 
	mvÆue
;

217 }
__©åibuã__
((
∑cked
));

218 
bdcom_gë_v¨
 
	tbdcom_gë_v¨_t
;

220 
	sﬂm_bdcom_p‹t_°©s
{

221 
u8_t
 
	mbønch
;

222 
u16_t
 
	mÀaf
;

223 
u8_t
 
	mwidth
;

224 
u64_t
 
	mifInGoodO˘ës
;

225 
u32_t
 
	mifInBadO˘ës
;

226 
u32_t
 
	mifInBˇ°Pkts
;

227 
u32_t
 
	mifInMˇ°Pkts
;

228 
u32_t
 
	mifInUˇ°Pkts
;

229 
u32_t
 
	mifInPau£Pkts
;

230 
u32_t
 
	mifInMacEº‹s
;

231 
u32_t
 
	mifInFCSEº‹s
;

232 
u32_t
 
	mifInUndîsizePkts
;

233 
u32_t
 
	mifInFøgmítPkts
;

234 
u32_t
 
	mifInOvîsizePkts
;

235 
u32_t
 
	mifJabbîPkts
;

237 
u64_t
 
	mifOutO˘ës
;

238 
u32_t
 
	mifOutBˇ°Pkts
;

239 
u32_t
 
	mifOutMˇ°Pkts
;

240 
u32_t
 
	mifOutUˇ°Pkts
;

241 
u32_t
 
	mifOutPau£Pkts
;

242 
u32_t
 
	mifOutFCSEº‹s
;

243 
u32_t
 
	mifOutDe„ºedPkts
;

244 
u32_t
 
	mifOutEx˚ssivePkts
;

245 
u32_t
 
	mifOutScﬁlisi⁄Pkts
;

246 
u32_t
 
	mifOutMCﬁlisi⁄Pkts
;

247 
u32_t
 
	mifOutL©ePkts
;

248 
u32_t
 
	mifOutCﬁlisi⁄Pkts
;

250 
u32_t
 
	mif_64_O˘ës
;

251 
u32_t
 
	mif_64_127_O˘ës
;

252 
u32_t
 
	mif_128_255_O˘ës
;

253 
u32_t
 
	mif_256_511_O˘ës
;

254 
u32_t
 
	mif_512_1023_O˘ës
;

255 
u32_t
 
	mif_1023_max_O˘ës
;

256 }
__©åibuã__
((
∑cked
));

257 
ﬂm_bdcom_p‹t_°©s
 
	tﬂm_bdcom_p‹t_°©s_t
;

259 
	sbdcom_mac_agög


261 
u8_t
 
	mbønch
;

262 
u16_t
 
	mÀaf
;

263 
u8_t
 
	mwidth
;

264 
u32_t
 
	magögTime
;

265 }
__©åibuã__
((
∑cked
));

266 
bdcom_mac_agög
 
	tbdcom_mac_agög_t
;

268 
	sbdcom_mac_À¨nög


270 
u8_t
 
	mbønch
;

271 
u16_t
 
	mÀaf
;

272 
u8_t
 
	mwidth
;

273 
u8_t
 
	ma˘i⁄
;

274 }
__©åibuã__
((
∑cked
));

275 
bdcom_mac_À¨nög
 
	tbdcom_mac_À¨nög_t
;

277 
	sbdcom_mac_böd_°©ic


279 
u8_t
 
	mbønch
;

280 
u16_t
 
	mÀaf
;

281 
u8_t
 
	mwidth
;

282 
u16_t
 
	ma˘i⁄
;

283 
u8_t
 
	mª£ved
;

284 
u8_t
 
	mmac
[6];

285 
u16_t
 
	mvœn
;

286 
u32_t
 
	mp‹tMask
;

287 }
__©åibuã__
((
∑cked
));

288 
bdcom_mac_böd_°©ic
 
	tbdcom_mac_böd_°©ic_t
;

290 
	sbdcom_•™nög_åì


292 
u8_t
 
	mbønch
;

293 
u16_t
 
	mÀaf
;

294 
u8_t
 
	mwidth
;

295 
u8_t
 
	ma˘i⁄
;

296 }
__©åibuã__
((
∑cked
));

297 
bdcom_•™nög_åì
 
	tbdcom_•™nög_åì_t
;

299 
	sbdcom_mac_fõld


301 
u8_t
 
	mmac
[6];

302 
u16_t
 
	mvœn
;

303 
u32_t
 
	mp‹tMask
;

304 }
__©åibuã__
((
∑cked
));

305 
bdcom_mac_fõld
 
	tbdcom_mac_fõld_t
;

308 
	sbdcom_gë_mac_v¨


310 
u8_t
 
	mbønch
;

311 
u16_t
 
	mÀaf
;

312 
u8_t
 
	mwidth
;

313 
u16_t
 
	mª£rve
;

314 
u8_t
 
	mmacNum
;

315 }
__©åibuã__
((
∑cked
));

316 
bdcom_gë_mac_v¨
 
	tbdcom_gë_mac_v¨_t
;

320 
bdcom_ﬂm_öô
();

	@inc/user/ctc_2_1.h

13 #i‚de‡
__CTC_H__


14 
	#__CTC_H__


	)

16 
	~"ﬂm.h
"

18 
	~"ﬂm_Æ¨m.h
"

20 
	#SUBVERSTR_LEN
 16

	)

22 
CfmAgít_SëP‹t
(
p‹t
);

23 
CfmAgít_GëCfg
(*
key
, *
vÆue
, 
Àn
);

24 
CfmAgít_SëCfg
(*
key
, *
vÆue
);

26 
OamDbgSwôch
 (
iEndis
);

27 
e›l_˘c_hódî
(
u8_t
 
ext_code
);

28 
e›l_gë_⁄u_¢_r•
();

29 
e›l_gë_⁄u_fúmw¨evî
();

30 
e›l_gë_⁄u_chùid
();

31 
e›l_gë_⁄u_ˇ∑bûôõs1
();

32 
e›l_gë_⁄u_ëh_lök°©e
();

33 
e›l_gë_⁄u_ëh_p‹çau£
();

34 
e›l_gë_⁄u_ëh_p‹t_us_pﬁicög
();

35 
e›l_gë_⁄u_ëh_p‹t_ds_pﬁicög
();

36 
e›l_gë_⁄u_ëh_phyadmö
();

37 
e›l_gë_⁄u_ëh_aut⁄egadmö
();

38 
e›l_gë_⁄u_ëh_aut⁄egloˇl
();

39 
e›l_gë_⁄u_ëh_aut⁄egadv
();

40 
e›l_gë_⁄u_ëh_„ˇbûôy
();

41 
e›l_gë_⁄u_ëh_„cmode
();

42 
e›l_gë_⁄u_mˇ°_èg°rù
();

43 
e›l_gë_⁄u_mˇ°_swôch
();

44 
e›l_gë_⁄u_mˇ°_gΩ_nummax
();

45 
e›l_gë_⁄u_mˇ°_Á°_Àave_abl
();

46 
e›l_gë_⁄u_mˇ°_Á°_Àave_admö
();

47 
e›l_gë_⁄u_mˇ°_vœn
();

48 
e›l_gë_⁄u_mˇ°_c⁄åﬁ
();

49 
e›l_£t_dba
(
u8_t
 
ucQSëNum
, 
ﬂm_dba_queue_t
 *
p_dba
);

50 
e›l_gë_dba
();

51 
boﬁ_t
 
e›l_gë_èg_id
(
u16_t
 
p‹tid
,
u32_t
 *
vÆue
);

52 
boﬁ_t
 
e›l_gë_vâ_li°
(
u8_t
 
p‹tid
,u8_à*
p_byã
,u8_à*
num
, 
u32_t
 
uiDefVid
);

53 
e›l_gë_⁄u_vœn
();

54 
e›l_gë_⁄u_˛assify
();

55 
e›l_˘c_gë_ªq
(
u8_t
* 
p_byã
);

56 
e›l_£t_⁄u_ëh_p‹t_∑u£
(
u8_t
 
a˘i⁄
);

57 
e›l_£t_⁄u_ëh_p‹t_us_pﬁicög
(
u8_t
 
›î©i⁄
,u8_t* 
p_cú
,u8_t* 
p_cbs
,u8_t* 
p_ebs
);

58 
e›l_£t_⁄u_ëh_p‹t_ds_pﬁicög
(
u8_t
 
›î©i⁄
,u8_t* 
p_cú
,u8_t* 
p_pú
);

59 
e›l_£t_⁄u_ëh_admöc⁄åﬁ
(
u32_t
 
a˘i⁄
);

60 
e›l_£t_⁄u_ëh_©u‹e°¨t
();

61 
e›l_£t_⁄u_ëh_aut⁄egadmö
(
u8_t
 
a˘i⁄
);

62 
e›l_£t_⁄u_ëh_„cmode
(
u32_t
 
mode
);

63 
e›l_£t_⁄u_mˇ°_group_max
(
u8_t
 
max
);

64 
e›l_£t_⁄u_mˇ°_Á°_Àave_c⁄åﬁ
(
u8_t
 
vÆue
);

65 
e›l_£t_⁄u_mˇ°_c⁄åﬁ
(
u8_t
 *
p_ö
);

66 
e›l_£t_⁄u_mˇ°_swôch
(
u8_t
 
a˘i⁄
);

67 
e›l_£t_⁄u_mˇ°_èg_°rù
(
u8_t
 *
p_ö
);

68 
e›l_£t_⁄u_mˇ°_vœn
(
u8_t
 *
p_ö
);

69 
e›l_£t_èg_id
(
u16_t
 
p‹tid
,
u32_t
 *
vÆue
);

70 
e›l_£t_⁄u_vœn
(
u8_t
* 
p_ö
);

71 
e›l_£t_⁄u_˛assfy
(
u8_t
* 
p_ö
);

72 
e›l_˘c_£t_ªq
(
u8_t
* 
p_byã
);

73 
e›l_ªq_√w_key
(
u8_t
 
ödex
);

74 
e›l_ªq_åi_scb_key
(
u8_t
 
ödex
, u8_à*
pucKey
);

75 
e›l_˘c_chu∫ög
(
u8_t
* 
p_byã
);

76 
e›l_˘c_dba
(
u8_t
* 
p_byã
);

77 
e›l_ªq_´s_key
(
u8_t
 
ödex
, u8_à
ucMode
);

78 
e›l_ªq_´sscb_key
(
u8_t
 
ödex
, u8_à
ucMode
, u8_à*
pucKey
);

79 
e›l_´skey_ªq
(
u8_t
* 
p_byã
);

80 
e›l_´sscbkey_ªq
(
u8_t
* 
p_byã
);

81 
e›l_TriScbkey_ªq
(
u8_t
* 
p_byã
);

82 
e›l_˘c_pdu_¥o˚ss
(
u8_t
 *
p_byã
,
u16_t
 
Àngth
);

83 
SwVîsi⁄Gë
(
u8_t
 *
pucVîSå
);

84 
e›l_˘c_auth
(
u8_t
 *
pucD©a
);

85 
e›l_˘c_Æ¨m_ªp‹t
(
Æ¨m_ªp‹t_t
 *
ªp‹tInfo
);

88 
°ub_gë_⁄u_›tiˇl_å™sivî_ãm≥øtuª
(
u16_t
 *
pTem≥øtuª
);

89 
°ub_gë_⁄u_›tiˇl_å™sivî_suµly_vcc
(
u16_t
 *
pVcc
);

90 
°ub_gë_⁄u_›tiˇl_å™sivî_tx_büs_cuºít
(
u16_t
 *
pCuºít
);

91 
°ub_gë_⁄u_›tiˇl_å™sivî_tx_powî
(
u16_t
 *
pTxPowî
);

92 
°ub_gë_⁄u_›tiˇl_å™sivî_rx_powî
(
u16_t
 *
pRxPowî
);

94 
IpcHÆTxFau…StuèsGë
(*
iTxFau…
);

95 
e›l_ﬂm_TxFau…_ªp‹t
(
iE«bÀ
);

96 
e›l_˘c_TxFau…_hódî
();

98 #i‡
deföed
(
ONU_1PORT
)

99 
	#VOIP_PORT_NUM
 1

	)

102 
	sTX_FAULT_REPORT_s


104 
u8_t
 
	mbønch
;

105 
u16_t
 
	mÀaf
;

106 
u8_t
 
	mwidth
;

107 
u8_t
 
	mp⁄_num
;

108 
u8_t
 
	mmaj‹_p⁄
;

109 
u8_t
 
	msub_p⁄
;

110 }
	tTX_FAULT_REPORT_s
;

113 
	eOPTICAL_MODULE_PARAMETER_GET


115 
	mGET_TEMPERATURE
 = 0,

116 
	mGET_VOLTAGE
 = 1,

117 
	mGET_BASIC
 = 2,

118 
	mGET_TX_PWR
 = 3,

119 
	mGET_RX_PWR
 = 4

120 }
	tOPTICAL_MODULE_PARAMETER_GET
;

122 
	e˘c_ﬂm_Æ¨m_id
{

123 
	mONU_EQUIPMENT_ALARM
 = 0x0001,

124 
	mONU_POWERING_ALARM
,

125 
	mONU_BATTERY_MISSING_ALARM
,

126 
	mONU_BATTERY_FAILURE_ALARM
,

127 
	mONU_BATTERY_VOLT_LOW_ALARM
,

128 
	mONU_PHYSICAL_INTRUSION_ALARM
,

129 
	mONU_SELF_TEST_FAILURE_ALARM
,

130 
	mONU_POWERING_VOLT_LOW_ALARM
,

131 
	mONU_TEMP_HIGH_ALARM
,

132 
	mPON_RX_POWER_HIGH_ALARM
 = 0x0101,

133 
	mPON_RX_POWER_LOW_ALARM
,

134 
	mPON_TX_POWER_HIGH_ALARM
,

135 
	mPON_TX_POWER_LOW_ALARM
,

136 
	mPON_TX_BIAS_HIGH_ALARM
,

137 
	mPON_TX_BIAS_LOW_ALARM
,

138 
	mPON_VCC_HIGH_ALARM
,

139 
	mPON_VCC_LOW_ALARM
,

140 
	mPON_TEMP_HIGH_ALARM
,

141 
	mPON_TEMP_LOW_ALARM
,

142 
	mPON_RX_POWER_HIGH_WARNING
,

143 
	mPON_RX_POWER_LOW_WARNING
,

144 
	mPON_TX_POWER_HIGH_WARNING
,

145 
	mPON_TX_POWER_LOW_WARNING
,

146 
	mPON_TX_BIAS_HIGH_WARNING
,

147 
	mPON_TX_BIAS_LOW_WARNING
,

148 
	mPON_VCC_HIGH_WARNING
,

149 
	mPON_VCC_LOW_WARNING
,

150 
	mPON_TEMP_HIGH_WARNING
,

151 
	mPON_TEMP_LOW_WARNING
,

152 
	mCARD_ALARM
 = 0x0201,

153 
	mCARD_SELF_TEST_FAILURE_ALARM
,

154 
	mETHPORT_AUTO_NEG_FAILURE_ALARM
 = 0x0301,

155 
	mETHPORT_LOS_ALARM
,

156 
	mETHPORT_LOOPBACK_ALARM
,

157 
	mETHPORT_CONGESTION_ALARM
,

158 
	mPOTSPORT_FAILURE_ALARM
 = 0x0401,

159 
	mE1PORT_FAILURE_ALARM
 = 0x0501,

160 
	mE1PORT_TIMING_UNLOCK_ALARM
,

161 
	mE1PORT_LOS_ALARM
,

162 
	mIAD_CONNECTION_FAILURE_ALARM
 = 0x0601,

163 }
	tCTC_OAM_ALARM_ID_e
;

165 
	e˘c_ﬂm_obje˘
{

166 
	mOBJ_ONU
,

167 
	mOBJ_UNI
,

168 
	mOBJ_CARD
,

169 
	mOBJ_LLID
,

170 
	mOBJ_PON
,

171 }
	tCTC_OAM_OBJ_TYPE_e
;

173 
	e˘c_ﬂm_p‹t_ty≥
{

174 
	mPORT_ETH
 = 0x1,

175 
	mPORT_VOIP
,

176 
	mPORT_ADSL2
,

177 
	mPORT_VDSL2
,

178 
	mPORT_E1
,

179 }
	tCTC_OAM_PORT_TYPE_e
;

181 
	e˘c_ﬂm_Æ¨m_°©us
{

182 
	mALARM_DISABLE
,

183 
	mALARM_ENABLE
,

184 }
	tCTC_OAM_ALARM_STATUS_e
;

186 
	suni_sour˚
{

187 
CTC_OAM_PORT_TYPE_e
 
	mp‹t_ty≥
;

188 
u8_t
 
	m‰ame_id
;

189 
u8_t
 
	m¶Ÿ_id
;

190 
u16_t
 
	mp‹t_id
;

191 }
	tUNI_SRC_e
;

193 
	sÆ¨m_sour˚
{

194 
CTC_OAM_OBJ_TYPE_e
 
	mobj_ty≥
;

196 
UNI_SRC_e
 
	muni_id
;

197 
u32_t
 
	mˇrd_id
;

198 
u32_t
 
	mŒid
;

199 
u32_t
 
	mp⁄_id
;

200 }
	m∑ø
;

201 }
	tCTC_ALARM_SRC_t
;

203 
	s˘c_ívë_hdr
{

204 
u16_t
 
	m£q_num
;

205 
u8_t
 
	mevít_ty≥
;

206 
u8_t
 
	mevít_Àn
;

207 
u8_t
 
	moui
[3];

208 }
__©åibuã__
((
∑cked
));

209 
˘c_ívë_hdr
 
	t˘c_evít_hdr_t
;

211 
	s˘c_Æ¨m_íåy_hdr
{

212 
u16_t
 
	mobj_ty≥
;

213 
u32_t
 
	mö°™˚_num
;

214 
u16_t
 
	mÆ¨m_id
;

215 
u16_t
 
	mtimeSèmp
;

216 
u8_t
 
	mÆ¨m_°©e
;

217 }
__©åibuã__
((
∑cked
));

218 
˘c_Æ¨m_íåy_hdr
 
	t˘c_Æ¨m_íåy_hdr_t
;

220 
	#CTC_ALARM_ENABLE
 0x00000002

	)

221 
	#CTC_ALARM_DISABLE
 0x00000001

	)

224 
	#CTC_OAM_AUTH_REQUEST
 0x01

	)

225 
	#CTC_OAM_AUTH_RESPONSE
 0x02

	)

226 
	#CTC_OAM_AUTH_SUCCESS
 0x03

	)

227 
	#CTC_OAM_AUTH_FAILURE
 0x04

	)

230 
	#CTC_OAM_AUTH_LOID_PASSWORD
 0x1

	)

231 
	#CTC_OAM_AUTH_NAK
 0x2

	)

234 
	#OAM_STD_AUTONEG_ADMIN_DISABLE
 0x00000001

	)

235 
	#OAM_STD_AUTONEG_ADMIN_ENABLE
 0x00000002

	)

238 
	#OAM_STD_PHY_ADMIN_DISABLE
 0x00000001

	)

239 
	#OAM_STD_PHY_ADMIN_ENABLE
 0x00000002

	)

242 
	#OAM_CTC_IGMP_FAST_LEAVE_DISABLE
 0x00000001

	)

243 
	#OAM_CTC_IGMP_FAST_LEAVE_ENABLE
 0x00000002

	)

246 
	#OAM_CTC_IGMP_SNOOPING_NOT_FAST_LEAVE
 0x00000000

	)

247 
	#OAM_CTC_IGMP_SNOOPING_FAST_LEAVE
 0x00000001

	)

248 
	#OAM_CTC_IGMP_CONTROL_NOT_FAST_LEAVE
 0x00000010

	)

249 
	#OAM_CTC_IGMP_CONTROL_FAST_LEAVE
 0x00000011

	)

252 
	#OAM_CTC_SERVICE_DBA_DEACTIVE
 0x0

	)

253 
	#OAM_CTC_SERVICE_DBA_ACTIVE
 0x1

	)

256 
	#OAM_CTC_MCAST_VLAN_DEL
 0x0

	)

257 
	#OAM_CTC_MCAST_VLAN_ADD
 0x1

	)

258 
	#OAM_CTC_MCAST_VLAN_CLEAR
 0x2

	)

259 
	#OAM_CTC_MCAST_VLAN_LIST
 0x3

	)

262 
	#OAM_CTC_MCAST_ENTRY_DEL
 0x0

	)

263 
	#OAM_CTC_MCAST_ENTRY_ADD
 0x1

	)

264 
	#OAM_CTC_MCAST_ENTRY_CLEAR
 0x2

	)

265 
	#OAM_CTC_MCAST_ENTRY_LIST
 0x3

	)

268 
	#OAM_CTC_MCAST_VLAN_TAG_NOT_STRIP
 0x0

	)

269 
	#OAM_CTC_MCAST_VLAN_TAG_STRIP
 0x1

	)

270 
	#OAM_CTC_MCAST_VLAN_TAG_TRANLATE
 0x2

	)

273 
	#OAM_CTC_ONU_TYPE_SFU
 0x00000000

	)

274 
	#OAM_CTC_ONU_TYPE_HGU
 0x00000001

	)

275 
	#OAM_CTC_ONU_TYPE_SBU
 0x00000002

	)

276 
	#OAM_CTC_ONU_TYPE_MDU_1
 0x00000003

	)

277 
	#OAM_CTC_ONU_TYPE_MDU_2
 0x00000004

	)

278 
	#OAM_CTC_ONU_TYPE_MDU_3
 0x00000005

	)

279 
	#OAM_CTC_ONU_TYPE_MDU_4
 0x00000006

	)

280 
	#OAM_CTC_ONU_TYPE_MTU
 0x00000007

	)

283 
	#OAM_CTC_SINGLE_LLID
 0x1

	)

284 
	#OAM_CTC_MULTI_LLID
 0x0

	)

287 
	#OAM_CTC_PROTECTION_NONE
 0x0

	)

288 
	#OAM_CTC_PROTECTION_TYPE_C
 0x1

	)

289 
	#OAM_CTC_PROTECTION_TYPE_D
 0x2

	)

292 
	#OAM_CTC_MODULE_GE
 0x0

	)

293 
	#OAM_CTC_MODULE_FE
 0x1

	)

294 
	#OAM_CTC_MODULE_VOIP
 0x2

	)

295 
	#OAM_CTC_MODULE_TDM
 0x3

	)

296 
	#OAM_CTC_MODULE_ADSL2
 0x4

	)

297 
	#OAM_CTC_MODULE_VDSL2
 0x5

	)

298 
	#OAM_CTC_MODULE_WIFI
 0x6

	)

299 
	#OAM_CTC_MODULE_USB
 0x7

	)

302 
	#OAM_CTC_RSP_SET_OK
 0x80

	)

303 
	#OAM_CTC_RSP_BAD_PARA
 0x86

	)

304 
	#OAM_CTC_RSP_NO_RESOURCE
 0x87

	)

307 
	#OAM_CTC_PORT_TYPE_ETH
 0x1

	)

308 
	#OAM_CTC_PORT_TYPE_VOIP
 0x2

	)

309 
	#OAM_CTC_PORT_TYPE_ADSL2
 0x3

	)

310 
	#OAM_CTC_PORT_TYPE_VDSL2
 0x4

	)

311 
	#OAM_CTC_PORT_TYPE_E1
 0x5

	)

314 
	#OAM_CTC_PORT_TYPE_OFFSET
 24

	)

315 
	#OAM_CTC_PORT_FRAME_OFFSET
 22

	)

316 
	#OAM_CTC_PORT_SLOT_OFFSET
 16

	)

317 
	#OAM_CTC_PORT_NUM_OFFSET
 0

	)

319 
	#OAM_CTC_PORT_TYPE_MASK
 0xFF000000

	)

320 
	#OAM_CTC_PORT_NUM_MASK
 0x0000FFFF

	)

321 
	#OAM_CTC_PORT_SLOT_MASK
 0x002F0000

	)

322 
	#OAM_CTC_PORT_FRAME_MASK
 0x00C00000

	)

325 
	#OAM_CTC_OBJ_UNI
 0x0001

	)

326 
	#OAM_CTC_OBJ_CARD
 0x0002

	)

327 
	#OAM_CTC_OBJ_LLID
 0x0003

	)

328 
	#OAM_CTC_OBJ_PON
 0x0004

	)

330 
	#OAM_GET_PORT_TYPE
(
vÆue
Ë(
u8_t
)(((
u32_t
)vÆuê& 
OAM_CTC_PORT_TYPE_MASK
Ë>> 
OAM_CTC_PORT_TYPE_OFFSET
)

	)

331 
	#OAM_GET_PORT_NUM
(
vÆue
Ë(
u16_t
)(((
u32_t
)vÆuê& 
OAM_CTC_PORT_NUM_MASK
Ë>> 
OAM_CTC_PORT_NUM_OFFSET
)

	)

332 
	#OAM_GET_PORT_FRAME_ID
(
vÆue
Ë(
u8_t
)((
u32_t
)vÆuê& 
OAM_CTC_PORT_FRAME_MASK
Ë>> 
OAM_CTC_PORT_FRAME_OFFSET
)

	)

333 
	#OAM_GET_PORT_SLOT_ID
(
vÆue
Ë(
u8_t
)((
u32_t
)vÆuê& 
OAM_CTC_PORT_SLOT_MASK
Ë>> 
OAM_CTC_PORT_SLOT_OFFSET
)

	)

335 
	#OAM_SET_PORT_TYPE
(
vÆue
,
ty≥
Ë(vÆuê& ~(
OAM_CTC_PORT_TYPE_MASK
)Ë| ((
u32_t
Èy≥ << 
OAM_CTC_PORT_TYPE_OFFSET
)

	)

336 
	#OAM_SET_PORT_NUM
(
vÆue
, 
num
Ë(vÆuê& ~(
OAM_CTC_PORT_NUM_MASK
)Ë| ((
u32_t
Íum << 
OAM_CTC_PORT_NUM_OFFSET
)

	)

337 
	#OAM_SET_PORT_FRAME_ID
(
vÆue
, 
‰ame
Ë(vÆuê& ~(
OAM_CTC_PORT_FRAME_MASK
)Ë<< ((
u32_t
)‰amê<< 
OAM_CTC_PORT_FRAME_OFFSET
)

	)

338 
	#OAM_SET_PORT_SLOT_ID
(
vÆue
, 
‰ame
Ë(vÆuê& ~(
OAM_CTC_PORT_SLOT_MASK
)Ë<< ((
u32_t
)‰amê<< 
OAM_CTC_PORT_SLOT_OFFSET
)

	)

340 
	#ONU_HOLDOVER_ACTIVE
 0x0002

	)

341 
	#ONU_HOLDOVER_DISACTIVE
 0x0001

	)

	@inc/user/ctc_oam.h

21 #i‚de‡
__CTC_OAM_H__


22 
	#__CTC_OAM_H__


	)

32 
	#CTC_OAM_SUPPORT_VERSION_01
 1

	)

33 
	#CTC_OAM_SUPPORT_VERSION_13
 1

	)

34 
	#CTC_OAM_SUPPORT_VERSION_20
 1

	)

35 
	#CTC_OAM_SUPPORT_VERSION_21
 1

	)

36 
	#CTC_OAM_SUPPORT_VERSION_30
 1

	)

37 
	#CTC_OAM_SUPPORT_BENEATH_20
 (
CTC_OAM_SUPPORT_VERSION_01
 | 
CTC_OAM_SUPPORT_VERSION_13
 | 
CTC_OAM_SUPPORT_VERSION_20
)

	)

38 
	#CTC_OAM_SUPPORT_ABOVE_21
 (
CTC_OAM_SUPPORT_VERSION_21
 | 
CTC_OAM_SUPPORT_VERSION_30
)

	)

40 
	#CTC_OAM_VERSION_20
 0x20

	)

41 
	#CTC_OAM_OUI
 { 0x11, 0x11, 0x11 }

	)

44 
	#CTC_EXTOAM_OPCODE_RESERVED
 0x00

	)

45 
	#CTC_EXTOAM_OPCODE_VARREQ
 0x01

	)

46 
	#CTC_EXTOAM_OPCODE_VARRESP
 0x02

	)

47 
	#CTC_EXTOAM_OPCODE_SETREQ
 0x03

	)

48 
	#CTC_EXTOAM_OPCODE_SETRESP
 0x04

	)

49 
	#CTC_EXTOAM_OPCODE_ONUAUTH
 0x05

	)

50 
	#CTC_EXTOAM_OPCODE_SWDOWNLOAD
 0x06

	)

51 
	#CTC_EXTOAM_OPCODE_CHURNING
 0x09

	)

52 
	#CTC_EXTOAM_OPCODE_DBA
 0x0A

	)

53 
	#CTC_EXTOAM_OPCODE_EVENT
 0xFF

	)

55 
	#CTC_VAR_REQBRANCH_INSTANT20
 0x36

	)

56 
	#CTC_VAR_REQBRANCH_INSTANT21
 0x37

	)

57 
	#CTC_VAR_REQBRANCH_END
 0x00

	)

58 
	#CTC_VAR_REQBRANCH_STDATTR
 0x07

	)

59 
	#CTC_VAR_REQBRANCH_STDACT
 0x09

	)

60 
	#CTC_VAR_REQBRANCH_EXTATTR
 0xC7

	)

61 
	#CTC_VAR_REQBRANCH_EXTACT
 0xC9

	)

63 
	#CTC_VAR_REQBRANCH_INSTANT_NONE
 0x0000

	)

64 
	#CTC_VAR_REQBRANCH_INSTANT_PORT
 0x0001

	)

65 
	#CTC_VAR_REQBRANCH_INSTANT_LLID
 0x0003

	)

66 
	#CTC_VAR_REQBRANCH_INSTANT_PONIF
 0x0004

	)

67 
	#CTC_VAR_REQBRANCH_INSTANT_ONU
 0xFFFF

	)

69 
	#CTC_VAR_INSTANT_PORTTYPE_ETHERNET
 0x0001

	)

70 
	#CTC_VAR_INSTANT_PORTTYPE_VOIP
 0x0002

	)

71 
	#CTC_VAR_INSTANT_PORTTYPE_ADSL2PLUS
 0x0003

	)

72 
	#CTC_VAR_INSTANT_PORTTYPE_VDSL2
 0x0004

	)

73 
	#CTC_VAR_INSTANT_PORTTYPE_E1
 0x0005

	)

75 
	#CTC_VAR_OP_GET
 0x01

	)

76 
	#CTC_VAR_OP_SET
 0x02

	)

77 
	#CTC_VAR_CONTAINER_INDICATOR
 0x8000

	)

78 
	#CTC_VAR_TARGET_ONU
 0x01

	)

79 
	#CTC_VAR_TARGET_UNIPORT
 0x02

	)

80 
	#CTC_VAR_TARGET_MULTICAST
 0x03

	)

81 
	#CTC_VAR_TARGET_LLID
 0x04

	)

82 
	#CTC_VAR_TARGET_VOIP
 0x05

	)

83 
	#CTC_VAR_TARGET_ALARM
 0x06

	)

84 
	#CTC_VAR_TARGET_PONIF
 0x07

	)

86 
	#CTC_ORGSPEC_ONUAUTH_CODE_REQ
 0x01

	)

87 
	#CTC_ORGSPEC_ONUAUTH_CODE_RESP
 0x02

	)

88 
	#CTC_ORGSPEC_ONUAUTH_CODE_SUCC
 0x03

	)

89 
	#CTC_ORGSPEC_ONUAUTH_CODE_FAIL
 0x04

	)

90 
	#CTC_ORGSPEC_ONUAUTH_LOID
 0x01

	)

91 
	#CTC_ORGSPEC_ONUAUTH_NAK
 0x02

	)

93 
	#CTC_ORGSPEC_CHURNING_CODE_MASK
 0x03

	)

94 
	#CTC_ORGSPEC_CHURNING_NEWKEYREQ
 0x00

	)

95 
	#CTC_ORGSPEC_CHURNING_NEWKEY
 0x01

	)

97 
	#CTC_ORGSPEC_DBA_CODE_MASK
 0x03

	)

98 
	#CTC_ORGSPEC_DBA_GET_REQ
 0x00

	)

99 
	#CTC_ORGSPEC_DBA_GET_RESP
 0x01

	)

100 
	#CTC_ORGSPEC_DBA_SET_REQ
 0x02

	)

101 
	#CTC_ORGSPEC_DBA_SET_RESP
 0x03

	)

102 
	#CTC_ORGSPEC_DBA_QUEUE_MAX
 0x08

	)

103 
	#CTC_ORGSPEC_DBA_QUEUESET_MAX
 0x03

	)

104 
	#CTC_ORGSPEC_DBA_QUEUESET_MIN
 0x01

	)

106 
	#CTC_ORGSPEC_EVENT_STATUS_REQ
 0x01

	)

107 
	#CTC_ORGSPEC_EVENT_STATUS_SET
 0x02

	)

108 
	#CTC_ORGSPEC_EVENT_STATUS_RESP
 0x03

	)

109 
	#CTC_ORGSPEC_EVENT_THRESHOLD_REQ
 0x04

	)

110 
	#CTC_ORGSPEC_EVENT_THRESHOLD_SET
 0x05

	)

111 
	#CTC_ORGSPEC_EVENT_THRESHOLD_RESP
 0x06

	)

113 
	#CTC_INFO_OAM_MIN
 7

	)

114 
	#CTC_INFO_OAM_VERITEM_LEN
 4

	)

115 
	#CTC_EVENT_OAM_ALARMINFO_MAX
 4

	)

116 
	#CTC_ORGSPEC_HDR_LEN
 4

	)

117 
	#CTC_ORGSPEC_VARDESC_LEN
 3

	)

118 
	#CTC_ORGSPEC_VARINSTANT_LEN20
 2

	)

119 
	#CTC_ORGSPEC_VARINSTANT_LEN21
 5

	)

120 
	#CTC_ORGSPEC_VARINSTANT_WIDTH20
 1

	)

121 
	#CTC_ORGSPEC_VARINSTANT_WIDTH21
 4

	)

122 
	#CTC_ORGSPEC_VARCONTAINER_MIN
 4

	)

123 
	#CTC_ORGSPEC_ONUAUTH_HDR_LEN
 3

	)

124 
	#CTC_ORGSPEC_ONUAUTH_RESP_LOID_LEN
 0x25

	)

125 
	#CTC_ORGSPEC_ONUAUTH_RESP_NAK_LEN
 2

	)

126 
	#CTC_ORGSPEC_ONUAUTH_LOID_LEN
 24

	)

127 
	#CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
 12

	)

128 
	#CTC_ORGSPEC_CHURNING_HDR_LEN
 2

	)

129 
	#CTC_ORGSPEC_CHURNING_KEY_LEN
 3

	)

130 
	#CTC_ORGSPEC_DBA_HDR_LEN
 1

	)

131 
	#CTC_ORGSPEC_DBA_REPORTHDR_LEN
 1

	)

132 
	#CTC_ORGSPEC_DBA_SETACK_LEN
 1

	)

133 
	#CTC_ORGSPEC_DBA_REPORTMAP_LEN
 1

	)

134 
	#CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
 2

	)

135 
	#CTC_ORGSPEC_EVENT_HDR_LEN
 2

	)

138 
	#CTC_OAM_FSM_STATE_WAIT_REMOTE
 1

	)

139 
	#CTC_OAM_FSM_STATE_WAIT_REMOTE_OK
 2

	)

140 
	#CTC_OAM_FSM_STATE_COMPLETE
 3

	)

144 
	#CTC_OAM_ALARMCODE_NONE
 0x0000

	)

145 
	#CTC_OAM_ALARMCODE_EQUIPMENT
 0x0001

	)

146 
	#CTC_OAM_ALARMCODE_POWER
 0x0002

	)

147 
	#CTC_OAM_ALARMCODE_BATTERYMISSING
 0x0003

	)

148 
	#CTC_OAM_ALARMCODE_BATTERYFAILURE
 0x0004

	)

149 
	#CTC_OAM_ALARMCODE_BATTERYVOLTLOW
 0x0005

	)

150 
	#CTC_OAM_ALARMCODE_PHYSICALINTRUSION
 0x0006

	)

151 
	#CTC_OAM_ALARMCODE_ONUSELFTESTFAILURE
 0x0007

	)

152 
	#CTC_OAM_ALARMCODE_ONUTEMPHIGH
 0x0009

	)

153 
	#CTC_OAM_ALARMCODE_ONUTEMPLOW
 0x000A

	)

154 
	#CTC_OAM_ALARMCODE_IADCONNECTIONFAILURE
 0x000B

	)

155 
	#CTC_OAM_ALARMCODE_PONIFSWITCH
 0x000C

	)

156 
	#CTC_OAM_ALARMCODE_SLEEPSTATUSUPDATE
 0x000D

	)

158 
	#CTC_OAM_ALARMCODE_RXPOWERHIGH
 0x0101

	)

159 
	#CTC_OAM_ALARMCODE_RXPOWERLOW
 0x0102

	)

160 
	#CTC_OAM_ALARMCODE_TXPOWERHIGH
 0x0103

	)

161 
	#CTC_OAM_ALARMCODE_TXPOWERLOW
 0x0104

	)

162 
	#CTC_OAM_ALARMCODE_TXBIASHIGH
 0x0105

	)

163 
	#CTC_OAM_ALARMCODE_TXBIASLOW
 0x0106

	)

164 
	#CTC_OAM_ALARMCODE_VCCHIGH
 0x0107

	)

165 
	#CTC_OAM_ALARMCODE_VCCLOW
 0x0108

	)

166 
	#CTC_OAM_ALARMCODE_TEMPHIGH
 0x0109

	)

167 
	#CTC_OAM_ALARMCODE_TEMPLOW
 0x010A

	)

168 
	#CTC_OAM_ALARMCODE_RXPOWERHIGHWARNING
 0x010B

	)

169 
	#CTC_OAM_ALARMCODE_RXPOWERLOWWARNING
 0x010C

	)

170 
	#CTC_OAM_ALARMCODE_TXPOWERHIGHWARNING
 0x010D

	)

171 
	#CTC_OAM_ALARMCODE_TXPOWERLOWWARNING
 0x010E

	)

172 
	#CTC_OAM_ALARMCODE_TXBIASHIGHWARNING
 0x010F

	)

173 
	#CTC_OAM_ALARMCODE_TXBIASLOWWARNING
 0x0110

	)

174 
	#CTC_OAM_ALARMCODE_VCCHIGHWARNING
 0x0111

	)

175 
	#CTC_OAM_ALARMCODE_VCCLOWWARNING
 0x0112

	)

176 
	#CTC_OAM_ALARMCODE_TEMPHIGHWARNING
 0x0113

	)

177 
	#CTC_OAM_ALARMCODE_TEMPLOWWARNING
 0x0114

	)

178 
	#CTC_OAM_ALARMCODE_DSDROPEVENTS
 0x0115

	)

179 
	#CTC_OAM_ALARMCODE_USDROPEVENTS
 0x0116

	)

180 
	#CTC_OAM_ALARMCODE_DSCRCERRORFRAMES
 0x0117

	)

181 
	#CTC_OAM_ALARMCODE_DSUNDERSIZEFRAMES
 0x0118

	)

182 
	#CTC_OAM_ALARMCODE_USUNDERSIZEFRAMES
 0x0119

	)

183 
	#CTC_OAM_ALARMCODE_DSOVERSIZEFRAMES
 0x011A

	)

184 
	#CTC_OAM_ALARMCODE_USOVERSIZEFRAMES
 0x011B

	)

185 
	#CTC_OAM_ALARMCODE_DSFRAGMENTS
 0x011C

	)

186 
	#CTC_OAM_ALARMCODE_DSJABBERS
 0x011D

	)

187 
	#CTC_OAM_ALARMCODE_DSCOLLISIONS
 0x011E

	)

188 
	#CTC_OAM_ALARMCODE_DSDISCARDFRAMES
 0x011F

	)

189 
	#CTC_OAM_ALARMCODE_USDISCARDFRAMES
 0x0120

	)

190 
	#CTC_OAM_ALARMCODE_DSERRORFRAMES
 0x0121

	)

191 
	#CTC_OAM_ALARMCODE_DSDROPEVENTSWARNING
 0x0122

	)

192 
	#CTC_OAM_ALARMCODE_USDROPEVENTSWARNING
 0x0123

	)

193 
	#CTC_OAM_ALARMCODE_DSCRCERRORFRAMESWARNING
 0x0124

	)

194 
	#CTC_OAM_ALARMCODE_DSUNDERSIZEFRAMESWARNING
 0x0125

	)

195 
	#CTC_OAM_ALARMCODE_USUNDERSIZEFRAMESWARNING
 0x0126

	)

196 
	#CTC_OAM_ALARMCODE_DSOVERSIZEFRAMESWARNING
 0x0127

	)

197 
	#CTC_OAM_ALARMCODE_USOVERSIZEFRAMESWARNING
 0x0128

	)

198 
	#CTC_OAM_ALARMCODE_DSFRAGMENTSWARNING
 0x0129

	)

199 
	#CTC_OAM_ALARMCODE_DSJABBERSWARNING
 0x012A

	)

200 
	#CTC_OAM_ALARMCODE_DSCOLLISIONSWARNING
 0x012B

	)

201 
	#CTC_OAM_ALARMCODE_DSDISCARDFRAMESWARNING
 0x012C

	)

202 
	#CTC_OAM_ALARMCODE_USDISCARDFRAMESWARNING
 0x012D

	)

203 
	#CTC_OAM_ALARMCODE_DSERRORFRAMESWARNING
 0x012E

	)

207 
	mCTC_OAM_ONUAUTH_STATE_SUCC
 = 0,

208 
	mCTC_OAM_ONUAUTH_STATE_FAIL
,

209 
	mCTC_OAM_ONUAUTH_STATE_NOTCOMPLETE
,

210 
	mCTC_OAM_ONUAUTH_STATE_END


213 
	s˘c_öfoOamVî_s
 {

214 
	moui
[
EPON_OAM_OUI_LENGTH
];

215 
	mvîsi⁄
;

216 } 
	t˘c_öfoOamVî_t
;

218 
	s˘c_öfoOamVîRec_s
 {

219 
	moui
[
EPON_OAM_OUI_LENGTH
];

220 
	mvîsi⁄
;

221 
˘c_öfoOamVîRec_s
 *
	m√xt
;

222 } 
	t˘c_öfoOamVîRec_t
;

224 
	s˘c_öfoOam_s
 {

225 
	mty≥
;

226 
	mÀngth
;

227 
	moui
[
EPON_OAM_OUI_LENGTH
];

228 
	mextSuµ‹t
;

229 
	mvîsi⁄
;

230 
˘c_öfoOamVîRec_t
 *
	mvîti⁄Li°
;

231 } 
	t˘c_öfoOam_t
;

233 
	s˘c_evítOam_s
 {

234 
	mobje˘Ty≥
;

235 
	mObje˘In°™˚
;

236 
	mÆ¨mId
;

237 
	mÆ¨mSèã
;

238 
	mÆ¨mInfo
[
CTC_EVENT_OAM_ALARMINFO_MAX
];

239 
˘c_evítOam_s
 *
	mpNext
;

240 } 
	t˘c_evítOam_t
;

242 
	s˘c_evítAœrmCode_s
 {

243 
	mÆ¨mT¨gë
;

244 
	mÆ¨mId
;

245 
	mÆ¨mInfoLí
;

246 } 
	t˘c_evítAœrmCode_t
;

248 
	s˘c_v¨Des¸ùt‹_s
 {

249 
	mv¨Bønch
;

250 
	mv¨Lóf
;

251 } 
	t˘c_v¨Des¸ùt‹_t
;

253 
	s˘c_v¨C⁄èöî_s
 {

254 
˘c_v¨Des¸ùt‹_t
 
	mv¨Desc
;

255 
	mv¨Width
;

256 *
	mpV¨D©a
;

257 } 
	t˘c_v¨C⁄èöî_t
;

259 
	s˘c_v¨In°™tUniP‹t_s
 {

260 
	mp‹tTy≥
;

261 
	mchassisNo
;

262 
	m¶ŸNo
;

263 
	mp‹tNo
;

264 } 
	t˘c_v¨In°™tUniP‹t_t
;

271 
	s˘c_v¨In°™t_s
 {

272 
˘c_v¨Des¸ùt‹_t
 
	mv¨Desc
;

273 
	mv¨Width
;

274 
	mv¨D©a
[
CTC_ORGSPEC_VARINSTANT_WIDTH21
];

276 
˘c_v¨In°™tUniP‹t_t
 
	muniP‹t
;

277 
	mŒid
;

278 
	mp⁄If
;

279 } 
	m∑r£
;

280 } 
	t˘c_v¨In°™t_t
;

282 
	s˘c_v¨Cb_s
 {

283 
ﬂm_v¨Des¸ùt‹_t
 
	mv¨Desc
;

284 
	m›
;

285 
	mèrgë
;

287 (*
	mh™dÀr_gë
)(

288 
	mŒidIdx
,

289 
	m›
,

290 
˘c_v¨In°™t_t
 *
	mpV¨In°™t
,

291 
˘c_v¨Des¸ùt‹_t
 
	mv¨Desc
,

292 *
	mpV¨C⁄èöî_TŸÆ_Lí
,

293 
˘c_v¨C⁄èöî_t
 *
	mpV¨C⁄èöî
);

296 (*
	mh™dÀr_£t
)(

297 
	mŒidIdx
,

298 
	m›
,

299 
˘c_v¨In°™t_t
 *
	mpV¨In°™t
,

300 
˘c_v¨Des¸ùt‹_t
 
	mv¨Desc
,

301 
˘c_v¨C⁄èöî_t
 *
	mpV¨C⁄èöî
);

304 } 
	t˘c_v¨Cb_t
;

306 
	s˘c_⁄uAuthLoid_s
 {

307 
	mloid
[24];

308 
	m∑ssw‹d
[12];

309 } 
	t˘c_⁄uAuthLoid_t
;

311 
	s˘c_chu∫ög_s
 {

312 
	mchu∫ögCode
;

313 
	mkeyIdx
;

316 
	mchu∫ögKey
[
CTC_ORGSPEC_CHURNING_KEY_LEN
];

317 } 
	t˘c_chu∫ög_t
;

319 
	s˘c_dbaQSë_s
 {

320 
	mqueueThªshﬁd
[
CTC_ORGSPEC_DBA_QUEUE_MAX
];

321 } 
	t˘c_dbaQSë_t
;

324 
	s˘c_dbaThªshﬁd_s
 {

325 
	mnumQSë
;

327 
	mªp‹tM≠
[
CTC_ORGSPEC_DBA_QUEUESET_MAX
];

331 
˘c_dbaQSë_t
 
	mqueueSë
[
CTC_ORGSPEC_DBA_QUEUESET_MAX
];

332 } 
	t˘c_dbaThªshﬁd_t
;

337 
	#CTC_BUF_ADD
(
pBufPå
, 
bufLí
, 
size
Ë{pBufPå +size; bufLí -size;}

	)

338 
	#CTC_BUF_PARSE16
(
pBufPå
, 
pV¨
) \

340 ((*)
pV¨
)[0] = (
pBufPå
)[0]; \

341 ((*)
pV¨
)[1] = (
pBufPå
)[1]; \

342 } 0);

	)

343 
	#CTC_BUF_PARSE32
(
pBufPå
, 
pV¨
) \

345 ((*)
pV¨
)[0] = (
pBufPå
)[0]; \

346 ((*)
pV¨
)[1] = (
pBufPå
)[1]; \

347 ((*)
pV¨
)[2] = (
pBufPå
)[2]; \

348 ((*)
pV¨
)[3] = (
pBufPå
)[3]; \

349 } 0);

	)

350 
	#CTC_BUF_ENCODE16
(
pBufPå
, 
pV¨
) \

352 (
pBufPå
)[0] = ((*)
pV¨
)[0]; \

353 (
pBufPå
)[1] = ((*)
pV¨
)[1]; \

354 } 0);

	)

355 
	#CTC_BUF_ENCODE32
(
pBufPå
, 
pV¨
) \

357 (
pBufPå
)[0] = ((*)
pV¨
)[0]; \

358 (
pBufPå
)[1] = ((*)
pV¨
)[1]; \

359 (
pBufPå
)[2] = ((*)
pV¨
)[2]; \

360 (
pBufPå
)[3] = ((*)
pV¨
)[3]; \

361 } 0);

	)

362 
	#CTC_INSTANT_IS_ALLPORTS
(
pV¨In°™t
Ë’V¨In°™t->
∑r£
.
uniP‹t
.
p‹tNo
 =0xffff)

	)

363 
	#CTC_INSTANT_IS_ETHERNET
(
pV¨In°™t
Ë’V¨In°™t->
∑r£
.
uniP‹t
.
p‹tTy≥
 =
CTC_VAR_INSTANT_PORTTYPE_ETHERNET
)

	)

367 
˘c_ﬂm_öô
();

368 
˘c_ﬂm_db_öô
(
ŒidIdx
);

	@inc/user/ctc_oam_upgrade.h

1 #i‚de‡
__CTC_OAM_UPGRADE_H__


2 
	#__CTC_OAM_UPGRADE_H__


	)

3 
	#CTC_OAM_UPGRADE_ENABLE
 1

	)

4 
e›l_˘c_so·_dow∆ﬂd
(

5 
ŒidIdx
,

6 *
pFøme
,

7 
Àngth
,

8 *
pRïlyBuf
,

9 
bufLí
,

10 *
pRïlyLí
);

	@inc/user/ctc_oam_var.h

21 #i‚de‡
__CTC_OAM_VAR_H__


22 
	#__CTC_OAM_VAR_H__


	)

32 
	#CTC_OAM_VAR_RESP_SETOK
 0x80

	)

33 
	#CTC_OAM_VAR_RESP_VARBADPARAM
 0x86

	)

34 
	#CTC_OAM_VAR_RESP_VARNORESOURCE
 0x87

	)

37 
	#CTC_OAM_VAR_APHYADMINSTATE_LEN
 4

	)

38 
	#CTC_OAM_VAR_APHYADMINSTATE_DISABLE
 0x00000001UL

	)

39 
	#CTC_OAM_VAR_APHYADMINSTATE_ENABLE
 0x00000002UL

	)

41 
	#CTC_OAM_VAR_AAUTONEGADMINSTATE_LEN
 4

	)

42 
	#CTC_OAM_VAR_AAUTONEGADMINSTATE_DISABLE
 0x00000001UL

	)

43 
	#CTC_OAM_VAR_AAUTONEGADMINSTATE_ENABLE
 0x00000002UL

	)

45 
	#CTC_OAM_VAR_AFECABILITY_LEN
 4

	)

46 
	#CTC_OAM_VAR_AFECABILITY_UNKNOWN
 0x00000001UL

	)

47 
	#CTC_OAM_VAR_AFECABILITY_SUPPORTED
 0x00000002UL

	)

48 
	#CTC_OAM_VAR_AFECABILITY_NOTSUPPORT
 0x00000003UL

	)

50 
	#CTC_OAM_VAR_AFECMODE_LEN
 4

	)

51 
	#CTC_OAM_VAR_AFECMODE_UNKNOWN
 0x00000001UL

	)

52 
	#CTC_OAM_VAR_AFECMODE_ENABLED
 0x00000002UL

	)

53 
	#CTC_OAM_VAR_AFECMODE_DISABLED
 0x00000003UL

	)

55 
	#CTC_OAM_VAR_ACPHYADMINCONTROL_LEN
 4

	)

56 
	#CTC_OAM_VAR_ACPHYADMINCONTROL_DEACTIVE
 0x00000001UL

	)

57 
	#CTC_OAM_VAR_ACPHYADMINCONTROL_ACTIVE
 0x00000002UL

	)

59 
	#CTC_OAM_VAR_ACAUTONEGRESTARTAUTOCONFIG_LEN
 0

	)

61 
	#CTC_OAM_VAR_ACAUTONEGADMINCONTROL_LEN
 4

	)

62 
	#CTC_OAM_VAR_ACAUTONEGADMINCONTROL_DEACTIVE
 0x00000001UL

	)

63 
	#CTC_OAM_VAR_ACAUTONEGADMINCONTROL_ACTIVE
 0x00000002UL

	)

65 
	#CTC_OAM_VAR_HOLDOVERCONFIG_LEN
 8

	)

66 
	#CTC_OAM_VAR_HOLDOVERCONFIG_DEACTIVE
 0x00000001UL

	)

67 
	#CTC_OAM_VAR_HOLDOVERCONFIG_ACTIVE
 0x00000002UL

	)

69 
	#CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_LEN
 1

	)

70 
	#CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_PONNUM
 0x00

	)

72 
	#CTC_OAM_VAR_ONUCAPABILITES_LEN
 2

	)

74 
	#CTC_OAM_VAR_ONUPOWERSAVINGCAPABILITES_LEN
 2

	)

76 
	#CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_LEN
 7

	)

77 
	#CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_UNSUPPORT
 0xFF

	)

79 
	#CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LEN
 4

	)

80 
	#CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSOPT
 2

	)

81 
	#CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSMAC
 50

	)

83 
	#CTC_OAM_VAR_ETHLINKSTATE_LEN
 1

	)

84 
	#CTC_OAM_VAR_ETHLINKSTATE_DOWN
 0x00

	)

85 
	#CTC_OAM_VAR_ETHLINKSTATE_UP
 0x01

	)

87 
	#CTC_OAM_VAR_ETHPORTPAUSE_LEN
 1

	)

88 
	#CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
 0x00

	)

89 
	#CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
 0x01

	)

91 
	#CTC_OAM_VAR_PORTLOOPDETECT_LEN
 4

	)

92 
	#CTC_OAM_VAR_PORTLOOPDETECT_DEACTIVE
 0x00000001UL

	)

93 
	#CTC_OAM_VAR_PORTLOOPDETECT_ACTIVE
 0x00000002UL

	)

95 
	#CTC_OAM_VAR_PORTMACAGINGTIME_LEN
 4

	)

96 
	#CTC_OAM_VAR_PORTMACAGINGTIME_DEACTIVE
 0x00000000UL

	)

98 
	#CTC_OAM_VAR_VLAN_LEN
 1

	)

99 
	#CTC_OAM_VAR_VLAN_TAG_LEN
 (
CTC_OAM_VAR_VLAN_LEN
 + 4)

	)

100 
	#CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
 0x00

	)

101 
	#CTC_OAM_VAR_VLAN_MODE_TAG
 0x01

	)

102 
	#CTC_OAM_VAR_VLAN_MODE_TRANSLATION
 0x02

	)

103 
	#CTC_OAM_VAR_VLAN_MODE_AGGREGATION
 0x03

	)

104 
	#CTC_OAM_VAR_VLAN_MODE_TRUNK
 0x04

	)

106 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_HDR_LEN
 4

	)

107 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_ENUM_LEN
 4

	)

108 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_NONFASTLEAVE
 0x00000000UL

	)

109 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_FASTLEAVE
 0x00000001UL

	)

110 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_NONFASTLEAVE
 0x00000010UL

	)

111 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_FASTLEAVE
 0x00000011UL

	)

112 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_NONFASTLEAVE
 0x00000002UL

	)

113 
	#CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_FASTLEAVE
 0x00000003UL

	)

115 
	#CTC_OAM_VAR_AFASTLEAVEADMINSTATE_LEN
 4

	)

116 
	#CTC_OAM_VAR_AFASTLEAVEADMINSTATE_DISABLED
 0x00000001UL

	)

117 
	#CTC_OAM_VAR_AFASTLEAVEADMINSTATE_ENABLED
 0x00000002UL

	)

124 
	#OAM_CTC_SERVICE_DBA_DEACTIVE
 0x0

	)

125 
	#OAM_CTC_SERVICE_DBA_ACTIVE
 0x1

	)

128 
	#OAM_CTC_MCAST_VLAN_DEL
 0x0

	)

129 
	#OAM_CTC_MCAST_VLAN_ADD
 0x1

	)

130 
	#OAM_CTC_MCAST_VLAN_CLEAR
 0x2

	)

131 
	#OAM_CTC_MCAST_VLAN_LIST
 0x3

	)

134 
	#OAM_CTC_MCAST_ENTRY_DEL
 0x0

	)

135 
	#OAM_CTC_MCAST_ENTRY_ADD
 0x1

	)

136 
	#OAM_CTC_MCAST_ENTRY_CLEAR
 0x2

	)

137 
	#OAM_CTC_MCAST_ENTRY_LIST
 0x3

	)

140 
	#OAM_CTC_MCAST_VLAN_TAG_NOT_STRIP
 0x0

	)

141 
	#OAM_CTC_MCAST_VLAN_TAG_STRIP
 0x1

	)

142 
	#OAM_CTC_MCAST_VLAN_TAG_TRANLATE
 0x2

	)

145 
	#OAM_PORT_MODE_10H
 0x1

	)

146 
	#OAM_PORT_MODE_10F
 0x2

	)

147 
	#OAM_PORT_MODE_100H
 0x3

	)

148 
	#OAM_PORT_MODE_100F
 0x4

	)

149 
	#OAM_PORT_MODE_1000F
 0x5

	)

152 
	#CTC_DEBUG
 
¥ötf


	)

154 
	#CTC_DEBUG
(
fmt
, ...)

	)

160 
˘c_ﬂm_v¨Cb_dummy_£t
(

161 
ŒidIdx
,

162 
›
,

163 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

164 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

165 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

168 
˘c_ﬂm_v¨Cb_Æ¨mAdmö_£t
(

169 
ŒidIdx
,

170 
›
,

171 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

172 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

173 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

175 
˘c_ﬂm_v¨Cb_p⁄if_Æ¨mThªshﬁd_£t
(

176 
ŒidIdx
,

177 
›
,

178 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

179 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

180 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

183 
˘c_ﬂm_v¨Cb_aPhyAdmöSèã_gë
(

184 
ŒidIdx
,

185 
›
,

186 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

187 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

188 *
pV¨C⁄èöî_TŸÆ_Lí
,

189 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

194 
˘c_ﬂm_v¨Cb_aAutoNegAdmöSèã_gë
(

195 
ŒidIdx
,

196 
›
,

197 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

198 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

199 *
pV¨C⁄èöî_TŸÆ_Lí
,

200 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

205 
˘c_ﬂm_v¨Cb_aAutoNegLoˇlTechnﬁogyAbûôy_gë
(

206 
ŒidIdx
,

207 
›
,

208 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

209 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

210 *
pV¨C⁄èöî_TŸÆ_Lí
,

211 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

216 
˘c_ﬂm_v¨Cb_aAutoNegAdvîti£dTechnﬁogyAbûôy_gë
(

217 
ŒidIdx
,

218 
›
,

219 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

220 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

221 *
pV¨C⁄èöî_TŸÆ_Lí
,

222 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

227 
˘c_ﬂm_v¨Cb_aFECAbûôy_gë
(

228 
ŒidIdx
,

229 
›
,

230 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

231 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

232 *
pV¨C⁄èöî_TŸÆ_Lí
,

233 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

238 
˘c_ﬂm_v¨Cb_aFecMode_gë
(

239 
ŒidIdx
,

240 
›
,

241 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

242 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

243 *
pV¨C⁄èöî_TŸÆ_Lí
,

244 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

249 
˘c_ﬂm_v¨Cb_aFecMode_£t
(

250 
ŒidIdx
,

251 
›
,

252 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

253 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

254 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

259 
˘c_ﬂm_v¨Cb_acPhyAdmöC⁄åﬁ_£t
(

260 
ŒidIdx
,

261 
›
,

262 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

263 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

264 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

269 
˘c_ﬂm_v¨Cb_acAutoNegRe°¨tAutoC⁄fig_£t
(

270 
ŒidIdx
,

271 
›
,

272 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

273 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

274 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

279 
˘c_ﬂm_v¨Cb_acAutoNegAdmöC⁄åﬁ_£t
(

280 
ŒidIdx
,

281 
›
,

282 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

283 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

284 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

289 
˘c_ﬂm_v¨Cb_⁄uSn_gë
(

290 
ŒidIdx
,

291 
›
,

292 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

293 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

294 *
pV¨C⁄èöî_TŸÆ_Lí
,

295 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

300 
˘c_ﬂm_v¨Cb_fúmw¨eVî_gë
(

301 
ŒidIdx
,

302 
›
,

303 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

304 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

305 *
pV¨C⁄èöî_TŸÆ_Lí
,

306 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

311 
˘c_ﬂm_v¨Cb_chù£tId_gë
(

312 
ŒidIdx
,

313 
›
,

314 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

315 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

316 *
pV¨C⁄èöî_TŸÆ_Lí
,

317 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

322 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs1_gë
(

323 
ŒidIdx
,

324 
›
,

325 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

326 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

327 *
pV¨C⁄èöî_TŸÆ_Lí
,

328 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

333 
˘c_ﬂm_v¨Cb_›tiˇlTøns˚ivîDügnosis_gë
(

334 
ŒidIdx
,

335 
›
,

336 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

337 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

338 *
pV¨C⁄èöî_TŸÆ_Lí
,

339 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

344 
˘c_ﬂm_v¨Cb_£rvi˚Sœ_gë
(

345 
ŒidIdx
,

346 
›
,

347 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

348 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

349 *
pV¨C⁄èöî_TŸÆ_Lí
,

350 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

356 
˘c_ﬂm_v¨Cb_£rvi˚Sœ_£t
(

357 
ŒidIdx
,

358 
›
,

359 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

360 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

361 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

366 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs2_gë
(

367 
ŒidIdx
,

368 
›
,

369 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

370 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

371 *
pV¨C⁄èöî_TŸÆ_Lí
,

372 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

377 
˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_gë
(

378 
ŒidIdx
,

379 
›
,

380 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

381 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

382 *
pV¨C⁄èöî_TŸÆ_Lí
,

383 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

388 
˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_£t
(

389 
ŒidIdx
,

390 
›
,

391 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

392 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

393 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

398 
˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_gë
(

399 
ŒidIdx
,

400 
›
,

401 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

402 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

403 *
pV¨C⁄èöî_TŸÆ_Lí
,

404 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

409 
˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_£t
(

410 
ŒidIdx
,

411 
›
,

412 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

413 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

414 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

419 
˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_gë
(

420 
ŒidIdx
,

421 
›
,

422 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

423 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

424 *
pV¨C⁄èöî_TŸÆ_Lí
,

425 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

430 
˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_£t
(

431 
ŒidIdx
,

432 
›
,

433 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

434 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

435 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

440 
˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_gë
(

441 
ŒidIdx
,

442 
›
,

443 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

444 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

445 *
pV¨C⁄èöî_TŸÆ_Lí
,

446 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

451 
˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_£t
(

452 
ŒidIdx
,

453 
›
,

454 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

455 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

456 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

461 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs3_gë
(

462 
ŒidIdx
,

463 
›
,

464 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

465 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

466 *
pV¨C⁄èöî_TŸÆ_Lí
,

467 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

472 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC≠abûôõs_gë
(

473 
ŒidIdx
,

474 
›
,

475 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

476 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

477 *
pV¨C⁄èöî_TŸÆ_Lí
,

478 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

483 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_gë
(

484 
ŒidIdx
,

485 
›
,

486 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

487 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

488 *
pV¨C⁄èöî_TŸÆ_Lí
,

489 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

494 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_£t
(

495 
ŒidIdx
,

496 
›
,

497 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

498 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

499 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

504 
˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_gë
(

505 
ŒidIdx
,

506 
›
,

507 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

508 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

509 *
pV¨C⁄èöî_TŸÆ_Lí
,

510 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

515 
˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_£t
(

516 
ŒidIdx
,

517 
›
,

518 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

519 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

520 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

525 
˘c_ﬂm_v¨Cb_ëhLökSèã_gë
(

526 
ŒidIdx
,

527 
›
,

528 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

529 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

530 *
pV¨C⁄èöî_TŸÆ_Lí
,

531 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

536 
˘c_ﬂm_v¨Cb_ëhP‹tPau£_gë
(

537 
ŒidIdx
,

538 
›
,

539 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

540 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

541 *
pV¨C⁄èöî_TŸÆ_Lí
,

542 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

547 
˘c_ﬂm_v¨Cb_ëhP‹tPau£_£t
(

548 
ŒidIdx
,

549 
›
,

550 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

551 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

552 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

557 
˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_gë
(

558 
ŒidIdx
,

559 
›
,

560 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

561 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

562 *
pV¨C⁄èöî_TŸÆ_Lí
,

563 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

568 
˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_£t
(

569 
ŒidIdx
,

570 
›
,

571 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

572 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

573 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

578 
˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_gë
(

579 
ŒidIdx
,

580 
›
,

581 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

582 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

583 *
pV¨C⁄èöî_TŸÆ_Lí
,

584 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

589 
˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_£t
(

590 
ŒidIdx
,

591 
›
,

592 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

593 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

594 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

599 
˘c_ﬂm_v¨Cb_p‹tLo›Dëe˘_£t
(

600 
ŒidIdx
,

601 
›
,

602 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

603 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

604 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

609 
˘c_ﬂm_v¨Cb_p‹tMacAgögTime_gë
(

610 
ŒidIdx
,

611 
›
,

612 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

613 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

614 *
pV¨C⁄èöî_TŸÆ_Lí
,

615 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

620 
˘c_ﬂm_v¨Cb_p‹tMacAgögTime_£t
(

621 
ŒidIdx
,

622 
›
,

623 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

624 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

625 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

630 
˘c_ﬂm_v¨Cb_vœn_gë
(

631 
ŒidIdx
,

632 
›
,

633 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

634 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

635 *
pV¨C⁄èöî_TŸÆ_Lí
,

636 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

641 
˘c_ﬂm_v¨Cb_vœn_£t
(

642 
ŒidIdx
,

643 
›
,

644 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

645 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

646 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

651 
˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_gë
(

652 
ŒidIdx
,

653 
›
,

654 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

655 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

656 *
pV¨C⁄èöî_TŸÆ_Lí
,

657 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

662 
˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_£t
(

663 
ŒidIdx
,

664 
›
,

665 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

666 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

667 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

672 
˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_gë
(

673 
ŒidIdx
,

674 
›
,

675 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

676 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

677 *
pV¨C⁄èöî_TŸÆ_Lí
,

678 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

683 
˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_£t
(

684 
ŒidIdx
,

685 
›
,

686 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

687 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

688 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

693 
˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_gë
(

694 
ŒidIdx
,

695 
›
,

696 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

697 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

698 *
pV¨C⁄èöî_TŸÆ_Lí
,

699 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

704 
˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_£t
(

705 
ŒidIdx
,

706 
›
,

707 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

708 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

709 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

714 
˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_gë
(

715 
ŒidIdx
,

716 
›
,

717 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

718 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

719 *
pV¨C⁄èöî_TŸÆ_Lí
,

720 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

725 
˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_£t
(

726 
ŒidIdx
,

727 
›
,

728 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

729 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

730 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

735 
˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_gë
(

736 
ŒidIdx
,

737 
›
,

738 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

739 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

740 *
pV¨C⁄èöî_TŸÆ_Lí
,

741 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

746 
˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_£t
(

747 
ŒidIdx
,

748 
›
,

749 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

750 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

751 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

756 
˘c_ﬂm_v¨Cb_groupNumMax_gë
(

757 
ŒidIdx
,

758 
›
,

759 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

760 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

761 *
pV¨C⁄èöî_TŸÆ_Lí
,

762 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

767 
˘c_ﬂm_v¨Cb_groupNumMax_£t
(

768 
ŒidIdx
,

769 
›
,

770 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

771 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

772 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

777 
˘c_ﬂm_v¨Cb_aFa°LóveAbûôy_gë
(

778 
ŒidIdx
,

779 
›
,

780 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

781 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

782 *
pV¨C⁄èöî_TŸÆ_Lí
,

783 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

788 
˘c_ﬂm_v¨Cb_aFa°LóveAdmöSèã_gë
(

789 
ŒidIdx
,

790 
›
,

791 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

792 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

793 *
pV¨C⁄èöî_TŸÆ_Lí
,

794 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

799 
˘c_ﬂm_v¨Cb_ª£tOnu_£t
(

800 
ŒidIdx
,

801 
›
,

802 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

803 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

804 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

809 
˘c_ﬂm_v¨Cb_acFa°LóveAdmöC⁄åﬁ_£t
(

810 
ŒidIdx
,

811 
›
,

812 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

813 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

814 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

818 
˘c_ﬂm_chu∫ögKey_£t
(

819 
ŒidIdx
,

820 
keyIdx
,

821 
key
[]);

823 
˘c_ﬂm_dbaC⁄fig_gë
(

824 
˘c_dbaThªshﬁd_t
 *
pDbaThªshﬁd
);

826 
˘c_ﬂm_dbaC⁄fig_£t
(

827 
˘c_dbaThªshﬁd_t
 *
pDbaSëRe•
);

831 
˘c_ﬂm_v¨Cb_ëhP‹tmode_£t
(

832 
ŒidIdx
,

833 
›
,

834 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

835 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

836 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

840 
˘c_ﬂm_v¨Cb_ëhP‹tSèti°ic_gë
(

841 
ŒidIdx
,

842 
›
,

843 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

844 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

845 *
pV¨C⁄èöî_TŸÆ_Lí
,

846 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

	@inc/user/defs.h

29 #i‚de‡
__DEFS_H_


30 
	#__DEFS_H_


	)

33 
	~"îr‹s.h
"

35 #i‚de‡
STR_SIZE_16_BYTES


36 
	#STR_SIZE_16_BYTES
 16

	)

39 #i‚de‡
STR_SIZE_32_BYTES


40 
	#STR_SIZE_32_BYTES
 32

	)

43 #i‚de‡
STR_SIZE_64_BYTES


44 
	#STR_SIZE_64_BYTES
 64

	)

47 #i‚de‡
STR_SIZE_128_BYTES


48 
	#STR_SIZE_128_BYTES
 128

	)

51 #i‚de‡
STR_SIZE_256_BYTES


52 
	#STR_SIZE_256_BYTES
 256

	)

55 #i‚de‡
MAX_USER_NUM


56 
	#MAX_USER_NUM
 256

	)

59 #i‚de‡
ENABLED


60 
	#ENABLED
 1

	)

63 #i‚de‡
DISABLED


64 
	#DISABLED
 0

	)

67 
	#USER_NAME_MAX_SIZE
 40

	)

68 
	#USER_PASSWD_MAX_SIZE
 40

	)

70 #i‚de‡
TIME_STR_LEN


71 
	#TIME_STR_LEN
 20

	)

74 #i‚de‡
MAX_HISTORY


75 
	#MAX_HISTORY
 31

	)

78 
	#STATE_DISABLE_STR
 "DißbÀ"

	)

79 
	#STATE_ENABLE_STR
 "E«bÀ"

	)

81 
	#STATE_STR_GET
(
°©e
Ë((
ENABLED
 =(°©e)Ë? 
STATE_ENABLE_STR
 : 
STATE_DISABLE_STR
)

	)

83 
	#DEFAULT_TELNET_PORT
 2323

	)

84 
	#DEFAULT_WEB_PORT
 80

	)

85 
	#DEFAULT_SESSION_NUM
 5

	)

86 
	#DEFAULT_SESSION_TIMEOUT
 180

	)

87 
	#DEFAULT_USER_PORT_NUM
 24

	)

88 
	#DEFAULT_LAN_ADMIN_IP
 "192.168.1.1"

	)

89 
	#DEFAULT_LAN_ADMIN_MASK
 "255.255.255.0"

	)

91 
	#DEFAULT_HOSTNAME
 "›uœn"

	)

93 
	#DEFAULT_CONFIG_FILE
 "/cfg/°¨tup-c⁄fig"

	)

94 
	#DEFAULT_CONFIG_FILE_SIZ
 524288

	)

95 
	#MAX_SESSION_NUM
 32

	)

97 
	#DEFAULT_TEMP_PATH
 "/tmp"

	)

98 
	#DEFAULT_TEMP_MSQ_PATH
 "/tmp/msq%08x"

	)

99 
	#SLASH_STR
 "/"

	)

101 
	#DEFAULT_LOG_FILE_NAME
 "⁄u.log"

	)

102 
	#DEFAULT_BAK_LOG_FILE_NAME
 "⁄u.bak.log"

	)

104 
	#DEFAULT_ALARM_FILE_NAME
 "⁄u.Æ¨m"

	)

105 
	#DEFAULT_BAK_ALARM_FILE_NAME
 "⁄u.bak.Æ¨m"

	)

107 
	#DEFAULT_SYSLOG_SERVER_FILE_NAME
 "⁄u.sy¶og"

	)

108 
	#DEFAULT_SYSLOG_SERVER_BAK_FILE_NAME
 "⁄u.sy¶og.bak"

	)

110 #¥agm®
∑ck
(1)

112 
	#IH_MAGIC
 0x27051956

	)

113 
	#IH_NMLEN
 32

	)

119 
	simage_hódî
 {

120 
UINT32
 
	mih_magic
;

121 
UINT32
 
	mih_h¸c
;

122 
UINT32
 
	mih_time
;

123 
UINT32
 
	mih_size
;

124 
UINT32
 
	mih_lﬂd
;

125 
UINT32
 
	mih_ï
;

126 
UINT32
 
	mih_d¸c
;

127 
UINT8
 
	mih_os
;

128 
UINT8
 
	mih_¨ch
;

129 
UINT8
 
	mih_ty≥
;

130 
UINT8
 
	mih_comp
;

131 
UINT8
 
	mih_«me
[
IH_NMLEN
];

132 #ifde‡
OPULAN_IMAGE_HEADER


133 
UINT32
 
	mih_chùid
;

134 
UINT32
 
	mih_ªvnum
;

135 
UINT32
 
	mih_Êags
;

137 } 
	timage_hódî_t
;

144 
	eMODULE_s


146 
	mMOD_DRIVERS
 = 0,

147 
	mMOD_SYS
 = 1,

148 
	mMOD_USER
 = 2,

149 
	mMOD_QOS
 = 3,

150 
	mMOD_FDB
 = 4,

151 
	mMOD_MCAST
 = 5,

152 
	mMOD_VLAN
 = 6,

153 
	mMOD_PORT
 = 7,

154 
	mMOD_RSTP
 = 8,

155 
	mMOD_PON
 = 9,

156 
	mMOD_LOG
 = 10,

157 
	mMOD_STORM
 = 11,

158 
	mMOD_OAM
,

159 
	mMOD_STATS
,

160 
	mALL_MODULE
,

161 
	mMAX_MODULE


162 }
	tMODULE_e
;

174 
	eACCESS_LEVEL_s


176 
	mACCESS_LEVEL_GUEST
,

177 
	mACCESS_LEVEL_USER
,

178 
	mACCESS_LEVEL_ADMINISTRATION
,

179 
	mACCESS_LEVEL_SUPER
,

180 
	mACCESS_LEVEL_INVALID


181 }
	tACCESS_LEVEL_e
;

183 
	eACCESS_TYPE_s


185 
	mACCESS_TYPE_CONSOLE
,

186 
	mACCESS_TYPE_TELNET
,

187 
	mACCESS_TYPE_WEB
,

188 
	mACCESS_TYPE_SNMP
,

189 
	mACCESS_TYPE_INVALID


190 }
	tACCESS_TYPE_e
;

193 
	eLANGUAGE_s


195 
	mENGLISH
,

196 
	mCHINESE_SIMPLIFIED
,

197 
	mCHINESE_TRADITIONAL
,

198 
	mLANGUAGE_MAX


199 } 
	tLANGUAGE_e
;

201 
	eINTERFACE_s


203 
	mINTERFACE_LAN
,

204 
	mINTERFACE_WAN
,

205 
	mINTERFACE_MAX


206 }
	tINTERFACE_e
;

209 
	#INTERFACE_THREE_WAN_THREE_LAN


	)

211 #i‡
deföed
(
INTERFACE_THREE_WAN_THREE_LAN
)

213 
	eINTERFACE_MODE_s


215 
	mINTERFACE_MODE_ADMIN
,

216 
	mINTERFACE_MODE_SIGNAL
,

217 
	mINTERFACE_MODE_MEDIA
,

218 
	mINTERFACE_MODE_MAX


219 }
	tINTERFACE_MODE_e
;

221 #ñi‡
deföed
(
INTERFACE_TWO_WAN_TWO_LAN
)

223 
	eINTERFACE_MODE_s


225 
	mINTERFACE_MODE_ADMIN
,

226 
	mINTERFACE_MODE_SIGNAL
,

227 
	mINTERFACE_MODE_MAX


228 }
	tINTERFACE_MODE_e
;

230 #ñi‡
deföed
(
INTERFACE_ONE_WAN_ONE_LAN
)

232 
	eINTERFACE_MODE_s


234 
	mINTERFACE_MODE_ADMIN
,

235 
	mINTERFACE_MODE_MAX


236 }
	tINTERFACE_MODE_e
;

240 
	eINTERFACE_SHARE_MODE_s


242 
	mINTERFACE_SHARE_MODE_SHARE
,

243 
	mINTERFACE_SHARE_MODE_IND
,

244 
	mINTERFACE_SHARE_MODE_MAX


245 }
	tINTERFACE_SHARE_MODE_e
;

247 
	eIF_IP_MODE_s


249 
	mIF_IP_MODE_STATIC
,

250 
	mIF_IP_MODE_DHCP
,

251 
	mIF_IP_MODE_PPPOE
,

252 
	mIF_IP_MODE_MAX


253 }
	tIF_IP_MODE_e
;

255 
	ePPPOE_AUTH_TYPE_s


257 
	mPPPOE_AUTH_TYPE_AUTO
,

258 
	mPPPOE_AUTH_TYPE_CHAP
,

259 
	mPPPOE_AUTH_TYPE_PAP
,

260 
	mPPPOE_AUTH_TYPE_MAX


261 }
	tPPPOE_AUTH_TYPE_e
;

263 
	eIF_QOS_MODE_s


265 
	mIF_QOS_MODE_DSCP
,

266 
	mIF_QOS_MODE_TOS
,

267 
	mIF_QOS_MODE_MAX


268 }
	tIF_QOS_MODE_e
;

270 
	eIF_TAG_MODE_s


272 
	mIF_TAG_MODE_TRANSPARENT
,

273 
	mIF_TAG_MODE_TAG
,

274 
	mIF_TAG_MODE_VLAN_STACKING
,

275 
	mIF_TAG_MODE_MAX


276 }
	tIF_TAG_MODE_e
;

278 
	$UINT32
 (* 
	tOnCh™gedCÆlBack
)(
	tUINT32
 
	tulArg1
, UINT32 
	tulArg2
, UINT32 
	tulArg3
, UINT32 
	tulArg4
);

280 #i‚de‡
BUFSIZ


281 
	#BUFSIZ
 4096

	)

284 #i‚de‡
MAC_LENGTH


285 
	#MAC_LENGTH
 6

	)

288 
	eVOIP_PROTOCOL_TYPE_s
{

289 
VOIP_PROTOCOL_H248
,

290 
VOIP_PROTOCOL_SIP


291 }
	tVOIP_PROTOCOL_TYPE_e
;

292 
	eVOIP_H248_ACTIVE_MGC_s
{

293 
VOIP_H248_ACTIVE_MGC_ALTERNATE
,

294 
VOIP_H248_ACTIVE_MGC_PRIMARY


295 }
	tVOIP_H248_ACTIVE_MGC_e
;

296 
	eVOIP_H248_REG_MODE_s
{

297 
VOIP_H248_REG_MODE_IP
,

298 
VOIP_H248_REG_MODE_DOMAIN
,

299 
VOIP_H248_REG_MODE_DEVICENAME


300 }
	tVOIP_H248_REG_MODE_e
;

302 
	eVOIP_H248_RTP_TID_MODE_s
{

303 
VOIP_H248_RTP_TID_MODE_ALIGNMENT
,

304 
VOIP_H248_RTP_TID_MODE_UNALIGNMENT


305 }
	tVOIP_H248_RTP_TID_MODE_e
;

307 
	eVOIP_FAX_T38_ENABLE_s
{

308 
VOIP_FAX_T30
,

309 
VOIP_FAX_T38


310 }
	tVOIP_FAX_T38_ENABLE_e
;

312 
	eVOIP_FAX_CTRL_s
{

313 
VOIP_FAX_CTRL_NEGOTIATE
,

314 
VOIP_FAX_CTRL_AutoVBD


315 }
	tVOIP_FAX_CTRL_e
;

316 
	eVOIP_IAD_H248_OPER_STATUS_s
{

317 
VOIP_IAD_H248_OPER_STATUS_REGISTERING
,

318 
VOIP_IAD_H248_OPER_STATUS_REGISTERED
,

319 
VOIP_IAD_H248_OPER_STATUS_FAULT
,

320 
VOIP_IAD_H248_OPER_STATUS_UNREGISTERED
,

321 
VOIP_IAD_H248_OPER_STATUS_RESETING


322 }
	tVOIP_IAD_H248_OPER_STATUS_s
;

324 
	eVOIP_IAD_PORT_STATUS_s
{

325 
VOIP_IAD_PORT_STATUS_REGISTERING
,

326 
VOIP_IAD_PORT_STATUS_IDLE
,

327 
VOIP_IAD_PORT_STATUS_HOOKOFF
,

328 
VOIP_IAD_PORT_STATUS_DIALING
,

329 
VOIP_IAD_PORT_STATUS_INRINGING
,

330 
VOIP_IAD_PORT_STATUS_OUTRINGING
,

331 
VOIP_IAD_PORT_STATUS_CONNECTING
,

332 
VOIP_IAD_PORT_STATUS_CONNECTED
,

333 
VOIP_IAD_PORT_STATUS_RELEASED
,

334 
VOIP_IAD_PORT_STATUS_REGISTER_FAILED
,

335 
VOIP_IAD_PORT_STATUS_INACTIVE


336 }
	tVOIP_IAD_PORT_STATUS_e
;

338 
	eVOIP_IAD_PORT_SERVICESTATE_s
{

339 
VOIP_IAD_PORT_SERVICESTATE_END_LOCAL
,

340 
VOIP_IAD_PORT_SERVICESTATE_END_REMOTE
,

341 
VOIP_IAD_PORT_SERVICESTATE_END_AUTO
,

342 
VOIP_IAD_PORT_SERVICESTATE_NORMAL


343 }
	tVOIP_IAD_PORT_SERVICESTATE_e
;

345 
	eVOIP_IAD_PORT_CODECMODE_s
{

346 
VOIP_IAD_PORT_CODECMODE_G711A
,

347 
VOIP_IAD_PORT_CODECMODE_G729
,

348 
VOIP_IAD_PORT_CODECMODE_G711U
,

349 
VOIP_IAD_PORT_CODECMODE_G723
,

350 
VOIP_IAD_PORT_CODECMODE_G726
,

351 
VOIP_IAD_PORT_CODECMODE_T38


352 }
	tVOIP_IAD_PORT_CODECMODE_e
;

354 
	eVOIP_IAD_OPERATION_s
{

355 
VOIP_IAD_OPERATION_REREG
,

356 
VOIP_IAD_OPERATION_DEREG
,

357 
VOIP_IAD_OPERATION_RESET


358 }
	tVOIP_IAD_OPERATION_e
;

359 
	#VOIP_POTS_NUM
 2

	)

360 
	#VOIP_H248_DEF_HEARTBEAT_COUNT
 3

	)

361 
	#VOIP_H248_DEF_RTP_TID_NUM
 2

	)

362 
	#VOIP_H248_DEF_RTP_TID_DIGIT_LEN
 0

	)

364 
	#VOIP_IADInf‹_MAC
 "MAC Addªss"

	)

365 
	#VOIP_IADInf‹_PrŸocﬁSuµ‹ãd
 "PrŸocﬁSuµ‹ãd"

	)

366 
	#VOIP_IADInf‹_SwVîsi⁄
 "Iad So·w¨êVîsi⁄"

	)

367 
	#VOIP_IADInf‹_SwTime
 "Iad so·w¨êtime"

	)

368 
	#VOIP_IADInf‹_PŸsNum
 "VoùU£rCou¡"

	)

370 
	#VOIP_PrŸocﬁInfo_PrŸocﬁCfg
 "PrŸocﬁ C⁄fig"

	)

372 
	#VOIP_GlobÆP¨amëîC⁄fig_Sh¨e
 "Sh¨eMode"

	)

373 
	#VOIP_GlobÆP¨amëîC⁄fig_IpMode
 "Voi˚ i∞Mode"

	)

374 
	#VOIP_GlobÆP¨amëîC⁄fig_IpAddr
 "üdIpAddr"

	)

375 
	#VOIP_GlobÆP¨amëîC⁄fig_NëMask
 "üdNëMask"

	)

376 
	#VOIP_GlobÆP¨amëîC⁄fig_GW
 "üdDeÁu…GW"

	)

377 
	#VOIP_GlobÆP¨amëîC⁄fig_DNS
 "üdDnsSîvî"

	)

378 
	#VOIP_GlobÆP¨amëîC⁄fig_PPPoEMode
 "PPPoE Mode"

	)

379 
	#VOIP_GlobÆP¨amëîC⁄fig_PPPoEU£r
 "PPPOE u£∫ame"

	)

380 
	#VOIP_GlobÆP¨amëîC⁄fig_PPPoEPass
 "PPPoEÖassw‹d"

	)

381 
	#VOIP_GlobÆP¨amëîC⁄fig_TagMode
 "Tagged fœg"

	)

382 
	#VOIP_GlobÆP¨amëîC⁄fig_CVœn
 "Voi˚ CVœn"

	)

383 
	#VOIP_GlobÆP¨amëîC⁄fig_SVLAN
 "Voi˚ SVLAN"

	)

384 
	#VOIP_GlobÆP¨amëîC⁄fig_PRI
 "Voi˚ Pri‹ôy"

	)

386 
	#VOIP_H248P¨amCfg_MGP‹tNo
 "H_RGW_PORT"

	)

387 
	#VOIP_H248P¨amCfg_MGIP
 "H_MGC1_ADDR"

	)

388 
	#VOIP_H248P¨amCfg_MgcComP‹tNo
 "H_MGC1_PORT"

	)

389 
	#VOIP_H248P¨amCfg_BackupMgcIp
 "H_MGC2_ADDR"

	)

390 
	#VOIP_H248P¨amCfg_BackupMgcComP‹tNo
 "H_MGC2_PORT"

	)

391 
	#VOIP_H248P¨amCfg_A˘iveMGC
 "A˘iveMGC"

	)

392 
	#VOIP_H248P¨amCfg_RegMode
 "RegMode"

	)

393 
	#VOIP_H248P¨amCfg_MID
 "H_RGW_NAME"

	)

394 
	#VOIP_H248P¨amCfg_HóπbótMode
 "H_HEARTBEAT"

	)

395 
	#VOIP_H248P¨amCfg_HóπbótCy˛e
 "H_MIT"

	)

396 
	#VOIP_H248P¨amCfg_HóπbótCou¡
 "HóπbótCou¡"

	)

398 
	#VOIP_H248U£rTIDInfo_U£rTIDNamePªfix
 "H_PHY_TERM_PREFIX"

	)

399 
	#VOIP_H248U£rTIDInfo_U£rTIDNameSœsh
 "/"

	)

400 
	#VOIP_H248U£rTIDInfo_U£rTIDNameBa£
 "PHY_TERM_BASE"

	)

402 
	#VOIP_H248RTPTIDC⁄fig_Num
 "Numbî o‡RTP TID"

	)

403 
	#VOIP_H248RTPTIDC⁄fig_Pªfix
 "H_RTP_TERM_PREFIX"

	)

404 
	#VOIP_H248RTPTIDC⁄fig_DigôBegö
 "H_RTP_TERM_BASE"

	)

405 
	#VOIP_H248RTPTIDC⁄fig_Mode
 "RTP TID Mode"

	)

406 
	#VOIP_H248RTPTIDC⁄fig_DigôLígth
 "RTP TID Digô Lígth"

	)

408 
	#VOIP_H248RTPTIDInfo_Num
 "Numbî o‡RTP TID"

	)

409 
	#VOIP_H248RTPTIDInfo_Fú°NamePªfix
 "H_RTP_TERM_PREFIX"

	)

410 
	#VOIP_H248RTPTIDInfo_Fú°NameBa£
 "H_RTP_TERM_BASE"

	)

412 
	#VOIP_SIPP¨amëîC⁄fig_MGP‹tNo
 "MGP‹tNo"

	)

413 
	#VOIP_SIPP¨amëîC⁄fig_SùProxySîvIp
 "SùProxySîvIp"

	)

414 
	#VOIP_SIPP¨amëîC⁄fig_SùProxySîvComP‹tNo
 "SùProxySîvComP‹tNo"

	)

415 
	#VOIP_SIPP¨amëîC⁄fig_BackupSùProxySîvIp
 "BackupSùProxySîvIp"

	)

416 
	#VOIP_SIPP¨amëîC⁄fig_BackupSùProxySîvComP‹tNo
 "BackupSùProxySîvComP‹tNo"

	)

417 
	#VOIP_SIPP¨amëîC⁄fig_A˘iveSùProxySîvî
 "A˘ivêSùProxySîvî"

	)

418 
	#VOIP_SIPP¨amëîC⁄fig_SùRegSîvIP
 "SùRegSîvIP"

	)

419 
	#VOIP_SIPP¨amëîC⁄fig_SùRegSîvComP‹tNo
 "SùRegSîvComP‹tNo"

	)

420 
	#VOIP_SIPP¨amëîC⁄fig_BackupSùRegSîvIp
 "BackupSùRegSîvIp"

	)

421 
	#VOIP_SIPP¨amëîC⁄fig_BackupSùRegSîvComP‹tNo
 "BackupSùRegSîvComP‹tNo"

	)

422 
	#VOIP_SIPP¨amëîC⁄fig_OutBoundSîvIP
 "OutBoundSîvIP"

	)

423 
	#VOIP_SIPP¨amëîC⁄fig_OutBoundSîvP‹tNo
 "OutBoundSîvP‹tNo"

	)

424 
	#VOIP_SIPP¨amëîC⁄fig_SùRegI¡îvÆSIP
 "SùRegI¡îvÆ SIP"

	)

425 
	#VOIP_SIPP¨amëîC⁄fig_HóπbótSwôch
 "HóπbótSwôch"

	)

426 
	#VOIP_SIPP¨amëîC⁄fig_HóπbótCy˛e
 "HóπbótCy˛e"

	)

427 
	#VOIP_SIPP¨amëîC⁄fig_HóπbótCou¡
 "HóπbótCou¡"

	)

429 
	#VOIP_SIPU£rP¨amëîC⁄fig_U£rAccou¡
 "U£∏Accou¡"

	)

430 
	#VOIP_SIPU£rP¨amëîC⁄fig_U£∫ame
 "U£∏«me"

	)

431 
	#VOIP_SIPU£rP¨amëîC⁄fig_U£rPassw‹d
 "U£∏Passw‹d"

	)

433 
	#VOIP_FaxModemC⁄fig_T38E«bÀ
 "Voi˚T38E«bÀ"

	)

434 
	#VOIP_FaxModemC⁄fig_Mode
 "Voi˚Fax/ModemC⁄åﬁ"

	)

441 
	#VOIP_H248IADO≥øti⁄Sètus_IadO≥rSètus
 "E_REG_STATUS"

	)

442 
	#VOIP_H248IADO≥øti⁄Sètus_Regi°îed
 "Regi°îed"

	)

443 
	#VOIP_H248IADO≥øti⁄Sètus_UnRegi°îed
 "UnRegi°îed"

	)

448 
	#VOIP_POTSSètus_IADP‹tSèuts
 "E_HOOK_STATUS"

	)

449 
	#VOIP_POTSSètus_IADP‹tSèuts_Onhook
 "⁄ hook"

	)

450 
	#VOIP_POTSSètus_IADP‹tSèuts_Offhook
 "of‡hook"

	)

452 
	#VOIP_POTSSètus_üdP‹tSîvi˚Sèã
 "üdP‹tSîvi˚Sèã"

	)

453 
	#VOIP_POTSSètus_üdP‹tCodecMode
 "üdP‹tCodecMode"

	)

455 
	#VOIP_IADO≥øti⁄
 "üdO≥øti⁄"

	)

457 
	#VOIP_SIPDigôM≠
 "SIP DigôÆM≠"

	)

460 
	#GPIO_TX_POWER_CTRL
 9

	)

462 #¥agm®
	`∑ck
()

	@inc/user/drv_lw.h

1 #i‚de‡
__DRV_LW_H__


2 
	#__DRV_LW_H__


	)

6 
	eègMULTICAST_Tag_O≥r_Mode


8 
	mMC_TAG_MODE_TRANSPARENT
=0,

9 
	mMC_TAG_MODE_STRIP
,

10 
	mMC_TAG_MODE_TRANSLATION
,

11 
	mMC_TAG_MODE_END


12 } 
	tMC_TAG_MODE_E
;

17 
	eCNT_POLL_e


19 
	mCNT_GE
=1,

20 
	mCNT_PON
,

21 
	mCNT_FE
,

22 
	mCNT_TM
,

23 
	mCNT_CLE
,

24 
	mCNT_BRG
,

25 
	mCNT_MPCP
,

26 
	mCNT_MARB
,

27 
	mCNT_CPDMA
,

28 
	mCNT_FEDMA
,

29 
	mCNT_GEPARSER
,

30 
	mCNT_CLEHIT
,

31 
	mCNT_SWITCH


32 }
	tCNT_POLL_t
;

34 
	sègPORT_CFG


37 
UCHAR
 
	mucP‹tE«bÀ
;

38 
UCHAR
 
	mucS≥ed
;

39 
UCHAR
 
	mucDu∂ex
;

40 
UCHAR
 
	mucMdi
;

41 
UCHAR
 
	mucFlowCål
;

42 
UCHAR
 
	mucAggMa°î
;

43 
UCHAR
 
	mucSt‹mCål
;

44 
UCHAR
 
	mucIsﬁ©eE«bÀ
;

45 
UCHAR
 
	mucLökTy≥
;

46 
UCHAR
 
	mucVœnPri
;

47 
USHORT
 
	musPvid
;

48 
BOOL_T
 
	mbAutoNegMode
;

49 
ULONG
 
	mulLöeR©eIn
;

50 
ULONG
 
	mulLöeR©eOut
;

51 
ULONG
 
	mulQosTru°Mode
;

52 }
	tPORT_CFG_S
;

55 
	#VCT_PORT_INVALID
 65535

	)

56 
	#CABLE_PAIR_NUM
 4

	)

57 
	#CABLE_PAIR_0
 0

	)

58 
	#CABLE_PAIR_1
 1

	)

59 
	#CABLE_PAIR_2
 2

	)

60 
	#CABLE_PAIR_3
 3

	)

61 
	#VCT_CABLELEN_INVALID
 0xFFFF

	)

64 
	#IN_MIRROR
 1

	)

65 
	#OUT_MIRROR
 2

	)

66 
	#BOTH_MIRROR
 3

	)

67 
	#NOT_MIRROR_PORT
 0xff

	)

69 
	#TPID_8100
 0x8100

	)

70 
	#TPID_8200
 0x8200

	)

71 
	#TPID_9100
 0x9100

	)

72 
	#VALID_PRIORITY_ID
–
x
 ) ( (xË<7 )

	)

74 #i‚de‡
RTL8370_VIDMAX


75 
	#RTL8370_VIDMAX
 0xFFF

	)

79 
	#IIC_OPTICS_TRANSCEIVER_ADDRESS1
 0x50

	)

80 
	#IIC_OPTICS_TRANSCEIVER_ADDRESS2
 0x51

	)

82 
	#IIC_OPTICS_TRANSCEIVER_VENDOR_PN_FIRST_REGISTER
 0x28

	)

83 
	#IIC_OPTICS_TRANSCEIVER_TEMPERATURE_MSB_REGISTER
 0x60

	)

84 
	#IIC_OPTICS_TRANSCEIVER_TEMPERATURE_LSB_REGISTER
 0x61

	)

85 
	#IIC_OPTICS_TRANSCEIVER_TXPOWER_MSB_REGISTER
 0x66

	)

86 
	#IIC_OPTICS_TRANSCEIVER_TXPOWER_LSB_REGISTER
 0x67

	)

87 
	#IIC_OPTICS_TRANSCEIVER_RXPOWER_MSB_REGISTER
 0x68

	)

88 
	#IIC_OPTICS_TRANSCEIVER_RXPOWER_LSB_REGISTER
 0x69

	)

90 
	#OPTICS_TRANSCEIVER_RXPOWER_LOW_LIMIT
 (-30)

	)

91 
	#OPTICS_TRANSCEIVER_VENDOR_PN_LEN
 16

	)

93 
	#INVALID_OPTIC_POWER
 0xFFFF

	)

94 
	#MAX_RECIVE_OPTIC_POWER
 5

	)

95 
	#MIN_RECIVE_OPTIC_POWER
 -40

	)

97 
	#OFFSET_MSB
 0

	)

98 
	#OFFSET_LSB
 1

	)

100 
	#CLF_RMK_RULES_IN_1_PRECEDENCE_MAX
 1

	)

102 
	#OPTICS_POWER_CALCULATE
(
PowîD©a
, 
pPowî
Ë\

	)

105 *(
	gpPowî
Ë(
FLOAT
)((()10Ë* ((
log10
(()(
PowîD©a
))) - ()4));\

108 
	#CHECK_OPTIC_POWER
(
fO±icPwr
)\

	)

111 if(
fO±icPwr
 > 
MAX_RECIVE_OPTIC_POWER
) \

113 
fO±icPwr
 = 
INVALID_OPTIC_POWER
;\

115 if(
fO±icPwr
 < 
MIN_RECIVE_OPTIC_POWER
)\

117 
fO±icPwr
 = 
INVALID_OPTIC_POWER
;\

119 
	}

	$}whûe
(0)

121 
	#MIN_PORT_BANDWIDTH
 8

	)

122 
	#MAX_PORT_BANDWIDTH
 (1000*1024)

	)

124 #i‚de‡
H3C_ASSERT


126 
	#H3C_ASSERT
(
x
Ë\

	)

129 if(!(
x
))\

131 
	`¥ötf
("\nH3¯as£π faû!!! func:%†löe:%d.\n",
__FUNCTION__
,
__LINE__
);\

132  
ERROR
;\

134 
	}

	$}whûe
(0)

136 
	#H3C_ASSERT
(
x
)

	)

140 #i‚de‡
DRV_DEBUG_PRINT


142 
	#DRV_DEBUG_PRINT
(
f‹m©
,
¨gs
...Ë\

	)

145 
	`¥ötf
(
f‹m©
, ## 
¨gs
); \

146 
	}

	$}whûe
(0)

148 
	#DRV_DEBUG_PRINT
(
f‹m©
,
¨gs
...)

	)

152 
	#VALID_UNI_PORT
–
x
 ) ( ( ( x >1Ë&& ( x <
MAX_PORT_NUM
ËË?1 : 0 )

	)

154 
	#MEM_SET_ZERO
(
pMem
, 
ulLí
Ë
	`mem£t
((
VOID
 *)’Mem), 0, (
ULONG
)(ulLí))

	)

156 
	#MEM_COMPARE
(
pDe°
, 
pSrc
, 
ulLí
Ë
	`memcmp
((
VOID
 *)’De°), (VOID *)’Src), (
ULONG
)(ulLí))

	)

159 
	#MONITOR_PORT_DEFAULT_VALUE
 0xff

	)

162 
OPL_STATUS
 
	`HÆQöqClfSë
(
UINT16
 
usVid
, 
UP_DOWN_STREAM_e
 
íDúe˘
);

163 
OPL_STATUS
 
	`HÆQöqClfRe£t
(
VOID
);

164 
	`C¡CÃ
(
iModuÀ
, 
UINT8
 
ucSèπ
, UINT8 
ucNum
 );

165 
	`i2cRódR™dom
 (
UINT8
 
¶vAddr
, UINT8 
°aRegAddr
, 
UINT32
 
nByã
, UINT8 *
pD©aBuf
 );

166 
INT32
 
	`DRV_GëP‹tVœnCfg
(
UINT32
 
uiLP‹tId
, 
UINT8
 *
pucMode
, UINT8 *
pucVœnCfg
, 
UINT16
 *
pusLígth
);

167 
INT32
 
	`DRV_Re£tAŒP‹tsSèti°ic
(
VOID
);

168 
INT32
 
	`DRV_GëP‹tMibCou¡î
(
UINT32
 
Õ‹t
, 
UNI_COUNTER_S
* 
pMibCås
);

169 
INT32
 
	`DRV_GëP‹tLökSètus
 (
UINT32
 
Õ‹t
, 
BOOL
* 
pSètus
);

170 
INT32
 
	`DRV_GëP‹tDu∂ex
 (
UINT32
 
Õ‹t
, 
PORT_DUPLEX_E
* 
pDu∂exMode
);

171 
INT32
 
	`DRV_GëP‹tS≥ed
 (
UINT32
 
Õ‹t
, 
PORT_SPEED_E
* 
pS≥edMode
);

172 
INT32
 
	`DRV_GëP‹tMdiSètus
(
UINT32
 
Õ‹t
, 
PORT_MDI_E
* 
pMdiMode
);

173 
INT32
 
	`DRV_Re£tP‹tSèti°ic
 (
UINT32
 
Õ‹t
);

174 
INT32
 
	`DRV_SëP‹tS≥ed
 (
UINT32
 
Õ‹t
, 
PORT_SPEED_E
 
íP‹tS≥ed
);

175 
INT32
 
	`DRV_SëP‹tDu∂ex
 (
UINT32
 
Õ‹t
, 
PORT_DUPLEX_E
 
íP‹tDu∂ex
);

176 
INT32
 
	`DRV_SëP‹tFlowCål
(
UINT32
 
Õ‹t
, 
BOOL
 
bE«bÀ
);

177 
INT32
 
	`DRV_SëP‹tLöeR©e
(
UINT32
 
Õ‹t
, 
PORT_DIRECT_E
 
íDúe˘
, UINT32 
uiLöeR©e
);

178 
INT32
 
	`DRV_SëP‹tLökSèã
(
UINT32
 
uiLP‹tId
, 
BOOL
 
bP‹tSètus
);

179 
INT32
 
	`DRV_P‹tRe°¨tNeg
(
UINT32
 
uiLP‹tId
);

180 
INT32
 
	`DRV_SëP‹tAutoNeg
(
UINT32
 
uiLP‹tId
, 
UINT8
 
ucA˘i⁄
);

181 
INT32
 
	`DRV_SëP‹tIsﬁ©i⁄
 (
UINT32
 
Õ‹t
, 
BOOL
 
bE«bÀ
);

182 
INT32
 
	`DRV_SëCos2QidM≠
 (
UINT32
* 
auiCos2QidM≠
);

183 
INT32
 
	`DRV_SëPriTru°Mode
 (
QOS_PRI_TRUST_MODE_E
 
íTru°Mode
);

184 
INT32
 
	`DRV_SëPriSchedMode
 (
QOS_QUEUE_SCHEDULER_MODE_E
 
íPriSchedMode
);

185 
INT32
 
	`DRV_SëSçE«bÀ
(
BOOL
 
ulE«bÀ
);

186 
INT32
 
	`DRV_A˛AddFûãrRuÀ
(
ACL_FILTER_RULE_S
* 
pRuÀ
);

187 
INT32
 
	`DRV_A˛DñFûãrRuÀ
(
ACL_FILTER_RULE_S
* 
pRuÀ
);

188 
INT32
 
	`DRV_CtcAddClfRmkByPªc
(
UINT32
 
Õ‹t
,

189 
UINT32
 
¥e˚dí˚OfRuÀ
,

190 
ﬂm_˛asm¨k_ruÀbody_t
 *
pClsRuÀ
,

191 
ﬂm_˛asm¨k_fõldbody_t
 *
pClsFõld
);

192 
INT32
 
	`DRV_CtcCÀ¨ClfRmkByP‹t
(
UINT32
 
ucP‹tS
);

193 
INT32
 
	`DRV_CtcDñëeClfRmkByPªc
(
UINT32
 
Õ‹t
, UINT32 
¥e˚dí˚OfRuÀ
);

194 
INT32
 
	`DRV_SëM⁄ô‹
(
UINT8
 
Õ‹t
, UINT8 
À«bÀ
);

195 
INT32
 
	`DRV_AddMúr‹
(
UINT8
 
ucP‹tIdx
, 
UCHAR
 
ucMúr‹Dúe˘
);

196 
INT32
 
	`DRV_DñMúr‹
(
UINT8
 
ucP‹tIdx
, 
UCHAR
 
ucMúr‹Dúe˘
);

197 
ULONG
 
	`Drv_GëO±icsPowî
(
FLOAT
 *
pRe˚ivPowî
, FLOAT *
pTønsPowî
);

198 
ULONG
 
	`Drv_GëO±icsTem≥øtuª
(
SHORT
 *
psTem¥©rue
, 
USHORT
 *
psVﬁège
, USHORT *
psBüs
);

199 
ULONG
 
	`Drv_GëO±icsTønsmôPowî
(
USHORT
 *
pusTønsPowî
);

200 
ULONG
 
	`Drv_GëO±icsRe˚ivePowî
(
USHORT
 *
pusRe˚ivPowî
);

201 
INT32
 
	`DRV_GëP‹tQöqCfg
(
UINT32
 
uiLP‹tId
, 
PORT_QINQ_S
 *
p°QöqCfg
);

202 
ULONG
 
	`Drv_SëSçE«bÀ
(ULONG 
ulE«bÀ
);

203 
UCHAR
 
	`CFG_GëSçE«bÀ
(
ULONG
 *
pulE«lbe
);

204 
ULONG
 
	`RSTP_Comm_GëP‹tRﬁe
(ULONG 
ulP‹tIndex
);

205 
ULONG
 
	`RSTP_Comm_GëP‹tSètus
(ULONG 
ulP‹tIndex
);

206 
INT32
 
	`DRV_Re£tQöqPvid
(
UINT32
 
uiLP‹tId
);

207 
INT32
 
	`DRV_Re£tP‹tQöq
(
UINT32
 
uiLP‹tId
);

208 
INT32
 
	`DRV_E«bÀP‹tQöq
(
UINT32
 
uiLP‹tId
, UINT32 
uiTpid
, UINT32 
uiPvid
, UINT32 
uiPri‹ôy
);

209 
INT32
 
	`DRV_SëP‹tQöq
(
UINT32
 
uiLP‹tId
, 
QINQ_CTAG_STAG_ENTRY_S
 *
p°QöqCfg
);

210 
VOID
 
	`DRV_InôQöqCfg
(VOID);

211 
INT32
 
	`DRV_GëP‹tV˘
(
ULONG
 
ulLP‹t
, 
VCT_CABLE_DIAG_S
 *
p°CabÀDüg
 );

212 
INT32
 
	`DRV_BlockI¬îUni
(
BOOL
 
bUniE«bÀ
);

214 
INT32
 
	`_CTC_GëUniIsﬁ©eE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbE«bÀ
 );

215 
INT32
 
	`_CTC_SëUniIsﬁ©eE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bE«bÀ
 );

216 
INT32
 
	`_CTC_GëUniS≥edCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucS≥ed
 );

217 
INT32
 
	`_CTC_SëUniS≥edCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucS≥ed
 );

218 
INT32
 
	`_CTC_GëUniDu∂exCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucDu∂ex
 );

219 
INT32
 
	`_CTC_SëUniDu∂exCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucDu∂ex
 );

220 
INT32
 
	`_CTC_GëUniMdiCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucMdi
 );

221 
INT32
 
	`_CTC_SëUniMdiCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucMdi
 );

222 
INT32
 
	`_CTC_GëUniAutoNegModeCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbAutoNegMode
 );

223 
INT32
 
	`_CTC_SëUniAutoNegModeCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bAutoNegMode
 );

224 
INT32
 
	`_CTC_GëUniLöeR©eOutCfg
–
ULONG
 
ulLP‹t
, ULONG *
pulLöeR©eOut
 );

225 
INT32
 
	`_CTC_SëUniLöeR©eOutCfg
–
ULONG
 
ulLP‹t
, ULONG 
ulLöeR©eOut
 );

226 
INT32
 
	`DRV_CÀ¨AŒFûãrRuÀs
–
VOID
 );

229 
INT32
 
	`DRV_25L90ImodSë
(
UINT32
 
uiModVÆ
);

230 
INT32
 
	`DRV_25L90ApcSë
(
UINT32
 
uiApcVÆ
);

	@inc/user/fiberhome.h

1 #i‚de‡
__H3C_H__


2 
	#__H3C_H__


	)

4 #i‚de‡
OAM_SUPPORT_ZTE_EXT


5 
	#OAM_SUPPORT_ZTE_EXT
 1

	)

9 
	#FIBERHOME_OAM_OUI
 { 0x00, 0x0a, 0xc2 }

	)

10 
	#FIBERHOME_ORGSPEC_HDR_LEN
 11

	)

15 
	#OAM_FIBERHOME_EXT_OPCODE_GET_REQUEST
 0x01

	)

16 
	#OAM_FIBERHOME_EXT_OPCODE_GET_RESPONSE
 0x02

	)

17 
	#OAM_FIBERHOME_EXT_OPCODE_SET_REQUEST
 0x03

	)

18 
	#OAM_FIBERHOME_EXT_OPCODE_SET_RESPONSE
 0x04

	)

19 
	#OAM_FIBERHOME_BRANCH_STANDARD_ATTRIB
 0x07

	)

20 
	#OAM_FIBERHOME_BRANCH_STANDARD_ACTION
 0x09

	)

21 
	#OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
 0xC7

	)

22 
	#OAM_FIBERHOME_BRANCH_EXTENDED_ACTION
 0xC9

	)

23 
	#OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
 0x37

	)

24 
	#OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_0
 0x36

	)

26 
	#OAM_FIBERHOME_EXT_LEAF_CONFIG_PARAM
 0x0106

	)

27 
	#OAM_FIBERHOME_EXT_LEAF_MGMT_IP_CFG
 0x4B00

	)

28 
	#OAM_FIBERHOME_EXT_LEAF_DHCP
 0X5C00

	)

29 
	#OAM_FIBERHOME_EXT_LEAF_MGMT_VLAN
 0X5900

	)

30 
	#OAM_FIBERHOME_EXT_LEAF_SPEED_SET
 0X2100

	)

31 
	#OAM_FIBERHOME_EXT_LEAF_SPEED_SET_1000M
 0X6D00

	)

32 
	#OAM_FIBERHOME_EXT_LEAF_DUPLEX_SET
 0X2200

	)

33 
	#OAM_FIBERHOME_EXT_LEAF_MIRROR_SET
 0X5600

	)

34 
	#OAM_FIBERHOME_EXT_LEAF_MONITOR_SET
 0X5700

	)

35 
	#OAM_FIBERHOME_EXT_LEAF_ISOLATE_SET
 0X4800

	)

36 
	#OAM_FIBERHOME_EXT_LEAF_MDI_SET
 0X3200

	)

37 
	#OAM_FIBERHOME_EXT_LEAF_FILTER_SET
 0X3e00

	)

38 
	#OAM_FIBERHOME_EXT_LEAF_UNI_STATS_RESET
 0X3100

	)

39 
	#OAM_FIBERHOME_EXT_LEAF_UNI_STATS
 0X2300

	)

40 
	#OAM_FIBERHOME_EXT_LEAF_BOARD_STATS
 0X4F00

	)

41 
	#OAM_FIBERHOME_EXT_LEAF_MGMT_VLANIF
 0X5a00

	)

42 
	#OAM_FIBERHOME_EXT_LEAF_UNI_CONFIG
 0XFE00

	)

43 
	#OAM_FIBERHOME_EXT_LEAF_ONU_CONFIG
 0XFF00

	)

44 
	#OAM_FIBERHOME_EXT_LEAF_MCAST_FAST_LEAVE
 0X5500

	)

45 
	#OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
 0X2003

	)

46 
	#OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
 0X2009

	)

47 
	#OAM_FIBERHOME_EXT_LEAF_MAC_LIMIT
 0X2102

	)

48 
	#OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
 0X2106

	)

49 
	#OAM_FIBERHOME_EXT_LEAF_RSTP
 0X210a

	)

50 
	#OAM_FIBERHOME_EXT_LEAF_MNT_IP
 0X201a

	)

51 
	#OAM_FIBERHOME_EXT_LEAF_STATS
 0X2013

	)

52 
	#OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
 0x0001

	)

54 
	#FIBERHOME_PORT_MODE_SPEED_AUTO
 0X0000

	)

55 
	#FIBERHOME_PORT_MODE_SPEED_10M
 0X0A00

	)

56 
	#FIBERHOME_PORT_MODE_SPEED_100M
 0X6400

	)

57 
	#FIBERHOME_PORT_MODE_SPEED_1000M
 0X03e8

	)

59 
	#FIBERHOME_PORT_MODE_DUPLEX_HALF
 0X00

	)

60 
	#FIBERHOME_PORT_MODE_DUPLEX_FULL
 0X01

	)

61 
	#FIBERHOME_PORT_MODE_DUPLEX_AUTO
 0X02

	)

63 
	#FIBERHOME_PORT_MODE_MIRROR_INBOUND
 0X0101

	)

64 
	#FIBERHOME_PORT_MODE_MIRROR_OUTBOUND
 0X0201

	)

65 
	#FIBERHOME_PORT_MODE_MIRROR_BOTH
 0X0301

	)

66 
	#FIBERHOME_PORT_MODE_MIRROR_UNDO
 0X0302

	)

68 
	#FIBERHOME_PORT_MODE_MONITOR_SET
 0X01

	)

69 
	#FIBERHOME_PORT_MODE_MONITOR_UNDO
 0X02

	)

71 
	#FIBERHOME_ENABLE
 0X01

	)

72 
	#FIBERHOME_DISABLE
 0X02

	)

73 
	#OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_ENABLE
 0X01

	)

74 
	#OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_DISABLE
 0X00

	)

76 
	#FIBERHOME_PORT_MODE_MDI_NORMAL
 0X00

	)

77 
	#FIBERHOME_PORT_MODE_MDI_ACROSS
 0X01

	)

78 
	#FIBERHOME_PORT_MODE_MDI_AUTO
 0X02

	)

80 
	#FIBERHOME_MGMT_IF_SHUTDOWN
 0X02

	)

81 
	#FIBERHOME_MGMT_IF_SHUTDOWN_NO
 0X01

	)

83 
	#FIBERHOME_PACKET_FILTER_ENABLE_SET
 0X0001

	)

84 
	#FIBERHOME_PACKET_FILTER_DISABLE_SET
 0X0002

	)

86 
	#FIBERHOME_PACKET_FILTER_TRUST_SMAC
 0X0000

	)

87 
	#FIBERHOME_PACKET_FILTER_TRUST_DMAC
 0X0001

	)

88 
	#FIBERHOME_PACKET_FILTER_TRUST_ETHTYPE
 0X0002

	)

89 
	#FIBERHOME_PACKET_FILTER_TRUST_CVLAN
 0x0003

	)

90 
	#FIBERHOME_PACKET_FILTER_TRUST_SIP
 0X0004

	)

91 
	#FIBERHOME_PACKET_FILTER_TRUST_DIP
 0X0005

	)

94 
	#FIBERHOME_PACKET_FILTER_TRUST_TCP_SPORT
 8

	)

95 
	#FIBERHOME_PACKET_FILTER_TRUST_TCP_DPORT
 9

	)

96 
	#FIBERHOME_PACKET_FILTER_TRUST_UDP_SPORT
 10

	)

97 
	#FIBERHOME_PACKET_FILTER_TRUST_UDP_DPORT
 11

	)

103 
	~<sys/sockë.h
>

104 
	~<√töë/ö.h
>

105 
	~<√t/if.h
>

107 
	sfibîhome_hódî
 {

108 
	moui
[3];

109 
	mext_›code
;

110 }
__©åibuã__
((
∑cked
));

111 
fibîhome_hódî
 
	tfibîhome_hódî_t
;

113 
	sfibîhome_∑ckë_fûãr
 {

114 
	ma˘i⁄
;

115 
	mty≥
;

116 
	mdú˘i⁄
;

117 
	mvÆue
[6];

118 }
__©åibuã__
((
∑cked
));

119 
fibîhome_∑ckë_fûãr
 
	tfibîhome_∑ckë_fûãr_t
;

121 
	sfibîhome_v¨übÀ
{

122 
	mbønch
;

123 
	mÀaf
;

124 
	mwidth
;

125 }
__©åibuã__
((
∑cked
));

126 
fibîhome_v¨übÀ
 
	tfibîhome_v¨übÀ_t
;

128 
	sfibîhome_Á°_Àave
{

129 
	mp‹t
;

130 
	ma˘
;

131 }
__©åibuã__
((
∑cked
));

132 
fibîhome_Á°_Àave
 
	tfibîhome_Á°_Àave_t
;

133 
	sfûãr_a˛
 {

134 
	mdúe˘i⁄
;

135 
	mty≥
;

136 
	mvÆue
[6];

137 
	ma˛ruÀID
;

138 
	mvÆidÊag
;

140 
fûãr_a˛
 
	tfûãr_a˛_t
;

142 
	sfibîhome_°©s


144 
	m•ìdTy≥
;

145 
	m•ìd
;

146 
	mdu∂ex
;

147 
	mdu∂exTy≥
;

149 
	mifOutUˇ°Pkts
;

150 
	mifOutMˇ°Pkts
;

151 
	mifOutBˇ°Pkts
;

152 
	mifInUˇ°Pkts
;

153 
	mifInMˇ°Pkts
;

154 
	mifInBˇ°Pkts
;

156 
	mifOutPau£Pkts
;

157 
	mifInPau£Pkts
;

159 
	mifInRxEº‹s
;

160 
	mifInGü¡sPkts
;

161 
	mifInRu¡sPkts
;

162 
	mifInCRCEº‹s
;

164 
	mifOutTxEº
;

165 
	mifOutcﬁlisi⁄s
;

166 
	mifOutde„ºed
;

168 
	mifInO˘ës
;

169 
	mifOutO˘ësL
;

170 
	mifOutO˘ësH
;

172 
	mifInBuf„rEº‹s
;

175 
fibîhome_°©s
 
	tfibîhome_°©s_t
;

177 
	sfibîhome_p‹t_mode
{

178 
	m•ìdTy≥
;

179 
	mdu∂exTy≥
;

181 
fibîhome_p‹t_mode
 
	tfibîhome_p‹t_mode_t
;

183 
	sfibîhome_mac_agög


185 
u8_t
 
	mbønch
;

186 
u16_t
 
	mÀaf
;

187 
u8_t
 
	mwidth
;

188 
u16_t
 
	magögTime
;

189 }
__©åibuã__
((
∑cked
));

190 
fibîhome_mac_agög
 
	tfibîhome_mac_agög_t
;

191 
	sfibîhome_ö°™˚_mac_limô


193 
u8_t
 
	mbønch
;

194 
u16_t
 
	mÀaf
;

195 
u8_t
 
	mwidth
;

196 
u32_t
 
	mvÆue
;

197 }
__©åibuã__
((
∑cked
));

198 
fibîhome_ö°™˚_mac_limô
 
	tfibîhome_ö°™˚_mac_limô_t
;

199 
	sfibîhome_p‹t_£∑øã


201 
u8_t
 
	mbønch
;

202 
u16_t
 
	mÀaf
;

203 
u8_t
 
	mwidth
;

204 
u8_t
 
	m£∑øã
;

205 }
__©åibuã__
((
∑cked
));

206 
fibîhome_p‹t_£∑øã
 
	tfibîhome_p‹t_£∑øã_t
;

208 
	sfibîhome_mac_limô


210 
u8_t
 
	mbønch
;

211 
u16_t
 
	mÀaf
;

212 
u8_t
 
	mwidth
;

213 
u8_t
 
	míabÀ
;

214 
u16_t
 
	mnumLimô
;

215 }
__©åibuã__
((
∑cked
));

216 
fibîhome_mac_limô
 
	tfibîhome_mac_limô_t
;

217 
	sfibîhome_admöù


219 
u8_t
 
	mbønch
;

220 
u16_t
 
	mÀaf
;

221 
u8_t
 
	mwidth
;

222 
ö_addr
 
	mùaddr
;

223 
ö_addr
 
	mmask
;

224 
ö_addr
 
	mg©eway
;

225 }
__©åibuã__
((
∑cked
));

226 
fibîhome_admöù
 
	tfibîhome_admöù_t
;

227 
	sfibîhome_admövœn


229 
u8_t
 
	mbønch
;

230 
u16_t
 
	mÀaf
;

231 
u8_t
 
	mwidth
;

232 
u16_t
 
	mª£rved
;

233 
u16_t
 
	mvœn
;

234 }
__©åibuã__
((
∑cked
));

235 
fibîhome_admövœn
 
	tfibîhome_admövœn_t
;

236 
	sﬂm_fibîhome_mgmt_dh˝
{

237 
u8_t
 
	mbønch
;

238 
u16_t
 
	mÀaf
;

239 
u8_t
 
	mwidth
;

240 
u16_t
 
	mvœnid
;

241 
u8_t
 
	m¥i
;

242 
u8_t
 
	ma˘i⁄
;

243 }
__©åibuã__
((
∑cked
));

244 
ﬂm_fibîhome_mgmt_dh˝
 
	tﬂm_fibîhome_mgmt_dh˝_t
;

246 
	sfibîhome_p‹t_•ìd_mode


248 
u8_t
 
	mbønch
;

249 
u16_t
 
	mÀaf
;

250 
u8_t
 
	mwidth
;

251 
u8_t
 
	mp‹t
;

252 
u8_t
 
	mmode
;

253 }
__©åibuã__
((
∑cked
));

254 
fibîhome_p‹t_•ìd_mode
 
	tfibîhome_p‹t_mode_t
;

256 
	sfibîhome_shutdowm


258 
u8_t
 
	mbønch
;

259 
u16_t
 
	mÀaf
;

260 
u8_t
 
	mwidth
;

261 
u16_t
 
	mshutdowm
;

262 }
__©åibuã__
((
∑cked
));

263 
fibîhome_shutdowm
 
	tfibîhome_shutdowm_t
;

264 
	sfibîhome_mdi


266 
u8_t
 
	mbønch
;

267 
u16_t
 
	mÀaf
;

268 
u8_t
 
	mwidth
;

269 
u32_t
 
	mp‹t_num
;

270 
u32_t
 
	msubty≥
;

271 }
__©åibuã__
((
∑cked
));

272 
fibîhome_mdi
 
	tfibîhome_mdi_t
;

273 
	sfibîhome_°©s_ª£t


275 
u8_t
 
	mbønch
;

276 
u16_t
 
	mÀaf
;

277 
u8_t
 
	mwidth
;

278 
u8_t
 
	mp‹t
;

279 }
__©åibuã__
((
∑cked
));

280 
fibîhome_°©s_ª£t
 
	tfibîhome_°©s_ª£t_t
;

281 
	sfibîhome_p‹t_°©e


283 
u8_t
 
	mbønch
;

284 
u16_t
 
	mÀaf
;

285 
u8_t
 
	mwidth
;

286 
u16_t
 
	mmode
;

287 }
__©åibuã__
((
∑cked
));

288 
fibîhome_p‹t_°©e
 
	tfibîhome_p‹t_°©e_t
;

289 
	sfibîhome_r°p


291 
u8_t
 
	mbønch
;

292 
u16_t
 
	mÀaf
;

293 
u8_t
 
	mwidth
;

294 
u8_t
 
	mvÆue
;

295 }
__©åibuã__
((
∑cked
));

296 
fibîhome_r°p
 
	tfibîhome_r°p_t
;

297 
	sfibîhome_p‹t


299 
u8_t
 
	mbønch
;

300 
u16_t
 
	mÀaf
;

301 
u8_t
 
	mwidth
;

302 
u8_t
 
	mp‹t
;

303 }
__©åibuã__
((
∑cked
));

304 
fibîhome_p‹t
 
	tfibîhome_p‹t_t
;

306 
	sfibîhome_gë_mac_v¨


308 
u8_t
 
	mbønch
;

309 
u16_t
 
	mÀaf
;

310 
u8_t
 
	mwidth
;

311 
u8_t
 
	mmacNum
;

312 }
__©åibuã__
((
∑cked
));

313 
fibîhome_gë_mac_v¨
 
	tfibîhome_gë_mac_v¨_t
;

314 
	sfibîhome_mac_fõld


316 
u8_t
 
	mmac
[6];

317 
u16_t
 
	mvœn
;

318 
u32_t
 
	mp‹tMask
;

319 }
__©åibuã__
((
∑cked
));

320 
fibîhome_mac_fõld
 
	tfibîhome_mac_fõld_t
;

321 
	sfibîhome_mac_böd_°©ic


323 
u8_t
 
	mbønch
;

324 
u16_t
 
	mÀaf
;

325 
u8_t
 
	mwidth
;

326 
u16_t
 
	ma˘i⁄
;

327 
u8_t
 
	mª£ved
;

328 
u8_t
 
	mmac
[6];

329 
u16_t
 
	mvœn
;

330 
u32_t
 
	mp‹tMask
;

331 }
__©åibuã__
((
∑cked
));

332 
fibîhome_mac_böd_°©ic
 
	tfibîhome_mac_böd_°©ic_t
;

334 
	sfibîhome_p‹t_°©s


336 
u8_t
 
	mbønch
;

337 
u16_t
 
	mÀaf
;

338 
u8_t
 
	mwidth
;

340 
u64_t
 
	mifInO˘ës
;

341 
u64_t
 
	mifInTŸÆPkts
;

342 
u32_t
 
	mifInUˇ°Pkts
;

343 
u32_t
 
	mifInMˇ°Pkts
;

344 
u32_t
 
	mifInBˇ°Pkts
;

345 
u32_t
 
	mifInRxDisˇrdPkts
;

346 
u32_t
 
	mifInEº‹Pkts
;

347 
u32_t
 
	mifInRu¡sPkts
;

348 
u32_t
 
	mifInGü¡sPkts
;

349 
u32_t
 
	mifInUnknowPkts
;

350 
u32_t
 
	mifInCRCPkts
;

352 
u64_t
 
	mifOutO˘ës
;

353 
u64_t
 
	mifOutTŸÆPkts
;

354 
u32_t
 
	mifOutUˇ°Pkts
;

355 
u32_t
 
	mifOutMˇ°Pkts
;

356 
u32_t
 
	mifOutBˇ°Pkts
;

358 
u32_t
 
	mifRxR©e
;

359 
u32_t
 
	mifTxR©e
;

360 }
__©åibuã__
((
∑cked
));

361 
fibîhome_p‹t_°©s
 
	tfibîhome_p‹t_°©s_t
;

366 
	sﬂm_fibîhome_mgmt_ù_cfg
 {

367 
u8_t
 
	mbønch
;

368 
u16_t
 
	mÀaf
;

369 
u8_t
 
	mwidth
;

370 
u32_t
 
	mù_addr
;

371 
u32_t
 
	mù_mask
;

372 
u8_t
 
	mmgmt_¥i
;

373 
u16_t
 
	mmgmt_vœn
;

374 
u8_t
 
	mmgmt_°©us
;

375 
u32_t
 
	mmgmt_ho°_sub√t
;

376 
u32_t
 
	mmgmt_ho°_mask
;

377 
u32_t
 
	mmgmt_g©eway
;

378 }
__©åibuã__
((
∑cked
));

379 
ﬂm_fibîhome_mgmt_ù_cfg
 
	tﬂm_fibîhome_mgmt_ù_cfg_t
;

381 
e›l_ù_¥o˚ssög
(
ö_addr
 
ùaddr
, ö_add∏
mask
, ö_add∏
g©eway
);

382 
e›l_mgmtvœn_¥o˚ssög
(
vœnid
);

383 
e›l_dh˝_h™dÀr
();

384 
e›l_fibîhome_£t_deÁu…_ù
(* 
p_ö
);

385 
fibîhome_ﬂm_öô
();

	@inc/user/h3c.h

1 #i‚de‡
__H3C_H__


2 
	#__H3C_H__


	)

6 #i‚de‡
OAM_SUPPORT_ZTE_EXT


7 
	#OAM_SUPPORT_ZTE_EXT
 1

	)

11 
	#H3C_OAM_OUI
 { 0x00, 0x0f, 0xe2 }

	)

12 
	#H3C_ORGSPEC_HDR_LEN
 11

	)

17 
	#OAM_H3C_EXT_OPCODE_GET_REQUEST
 0x01

	)

18 
	#OAM_H3C_EXT_OPCODE_GET_RESPONSE
 0x02

	)

19 
	#OAM_H3C_EXT_OPCODE_SET_REQUEST
 0x03

	)

20 
	#OAM_H3C_EXT_OPCODE_SET_RESPONSE
 0x04

	)

22 
	#OAM_H3C_EXT_LEAF_CONFIG_PARAM
 0x0106

	)

23 
	#OAM_H3C_EXT_LEAF_MGMT_IP_CFG
 0x4B00

	)

24 
	#OAM_H3C_EXT_LEAF_DHCP
 0X5C00

	)

25 
	#OAM_H3C_EXT_LEAF_MGMT_VLAN
 0X5900

	)

26 
	#OAM_H3C_EXT_LEAF_SPEED_SET
 0X2100

	)

27 
	#OAM_H3C_EXT_LEAF_SPEED_SET_1000M
 0X6D00

	)

28 
	#OAM_H3C_EXT_LEAF_DUPLEX_SET
 0X2200

	)

29 
	#OAM_H3C_EXT_LEAF_MIRROR_SET
 0X5600

	)

30 
	#OAM_H3C_EXT_LEAF_MONITOR_SET
 0X5700

	)

31 
	#OAM_H3C_EXT_LEAF_ISOLATE_SET
 0X4800

	)

32 
	#OAM_H3C_EXT_LEAF_MDI_SET
 0X3200

	)

33 
	#OAM_H3C_EXT_LEAF_FILTER_SET
 0X3e00

	)

34 
	#OAM_H3C_EXT_LEAF_UNI_STATS_RESET
 0X3100

	)

35 
	#OAM_H3C_EXT_LEAF_UNI_STATS
 0X2300

	)

36 
	#OAM_H3C_EXT_LEAF_BOARD_STATS
 0X4F00

	)

37 
	#OAM_H3C_EXT_LEAF_MGMT_VLANIF
 0X5a00

	)

38 
	#OAM_H3C_EXT_LEAF_UNI_CONFIG
 0XFE00

	)

39 
	#OAM_H3C_EXT_LEAF_ONU_CONFIG
 0XFF00

	)

40 
	#OAM_H3C_EXT_LEAF_MCAST_FAST_LEAVE
 0X5500

	)

43 
	#H3C_PORT_MODE_SPEED_AUTO
 0X0000

	)

44 
	#H3C_PORT_MODE_SPEED_10M
 0X0A00

	)

45 
	#H3C_PORT_MODE_SPEED_100M
 0X6400

	)

46 
	#H3C_PORT_MODE_SPEED_1000M
 0X03e8

	)

48 
	#H3C_PORT_MODE_DUPLEX_HALF
 0X00

	)

49 
	#H3C_PORT_MODE_DUPLEX_FULL
 0X01

	)

50 
	#H3C_PORT_MODE_DUPLEX_AUTO
 0X02

	)

52 
	#H3C_PORT_MODE_MIRROR_INBOUND
 0X0101

	)

53 
	#H3C_PORT_MODE_MIRROR_OUTBOUND
 0X0201

	)

54 
	#H3C_PORT_MODE_MIRROR_BOTH
 0X0301

	)

55 
	#H3C_PORT_MODE_MIRROR_UNDO
 0X0302

	)

57 
	#H3C_PORT_MODE_MONITOR_SET
 0X01

	)

58 
	#H3C_PORT_MODE_MONITOR_UNDO
 0X02

	)

60 
	#H3C_ENABLE
 0X01

	)

61 
	#H3C_DISABLE
 0X02

	)

63 
	#H3C_PORT_MODE_ISOLATE_SET
 0X01

	)

64 
	#H3C_PORT_MODE_ISOLATE_UNDO
 0X02

	)

65 
	#H3C_PORT_MODE_ISOLATE_ALL
 0XFF

	)

68 
	#H3C_PORT_MODE_MDI_NORMAL
 0X00

	)

69 
	#H3C_PORT_MODE_MDI_ACROSS
 0X01

	)

70 
	#H3C_PORT_MODE_MDI_AUTO
 0X02

	)

72 
	#H3C_MGMT_IF_SHUTDOWN
 0X02

	)

73 
	#H3C_MGMT_IF_SHUTDOWN_NO
 0X01

	)

75 
	#H3C_PACKET_FILTER_ENABLE_SET
 0X0001

	)

76 
	#H3C_PACKET_FILTER_DISABLE_SET
 0X0002

	)

78 
	#H3C_PACKET_FILTER_TRUST_SMAC
 0X0000

	)

79 
	#H3C_PACKET_FILTER_TRUST_DMAC
 0X0001

	)

80 
	#H3C_PACKET_FILTER_TRUST_ETHTYPE
 0X0002

	)

81 
	#H3C_PACKET_FILTER_TRUST_CVLAN
 0x0003

	)

82 
	#H3C_PACKET_FILTER_TRUST_SIP
 0X0004

	)

83 
	#H3C_PACKET_FILTER_TRUST_DIP
 0X0005

	)

86 
	#H3C_PACKET_FILTER_TRUST_TCP_SPORT
 8

	)

87 
	#H3C_PACKET_FILTER_TRUST_TCP_DPORT
 9

	)

88 
	#H3C_PACKET_FILTER_TRUST_UDP_SPORT
 10

	)

89 
	#H3C_PACKET_FILTER_TRUST_UDP_DPORT
 11

	)

95 
	#OAM_H3C_EXT_LEAF_TYPE_C_SET
 0x0109

	)

96 
	#OAM_H3C_EXT_LEAF_TYPE_C_GET
 0x010®

	)

97 
	#OAM_H3C_EXT_LEAF_SET_PORT_MODE
 0x0204

	)

98 
	#OAM_H3C_EXT_LEAF_GET_PORT_MODE
 0x0205

	)

100 
	~<sys/sockë.h
>

101 
	~<√töë/ö.h
>

102 
	~<√t/if.h
>

105 
	sh3c_hódî
 {

106 
	moui
[3];

107 
	mext_›code
;

108 
	mbønch
;

109 
	mÀaf
;

110 
	m£quí˚
[4];

111 }
__©åibuã__
((
∑cked
));

112 
h3c_hódî
 
	th3c_hódî_t
;

114 
	sh3c_∑ckë_fûãr
 {

115 
	ma˘i⁄
;

116 
	mty≥
;

117 
	mdú˘i⁄
;

118 
	mvÆue
[6];

119 }
__©åibuã__
((
∑cked
));

120 
h3c_∑ckë_fûãr
 
	th3c_∑ckë_fûãr_t
;

122 
	sh3c_v¨übÀ
{

123 
	mbønch
;

124 
	mÀaf
;

125 
	mwidth
;

126 }
__©åibuã__
((
∑cked
));

127 
h3c_v¨übÀ
 
	th3c_v¨übÀ_t
;

129 
	sh3c_Á°_Àave
{

130 
	mp‹t
;

131 
	ma˘
;

132 }
__©åibuã__
((
∑cked
));

133 
h3c_Á°_Àave
 
	th3c_Á°_Àave_t
;

134 
	sfûãr_a˛
 {

135 
	mdúe˘i⁄
;

136 
	mty≥
;

137 
	mvÆue
[6];

138 
	ma˛ruÀID
;

139 
	mvÆidÊag
;

141 
fûãr_a˛
 
	tfûãr_a˛_t
;

143 
	sh3c_°©s


145 
	m•ìdTy≥
;

146 
	m•ìd
;

147 
	mdu∂ex
;

148 
	mdu∂exTy≥
;

150 
	mifOutUˇ°Pkts
;

151 
	mifOutMˇ°Pkts
;

152 
	mifOutBˇ°Pkts
;

153 
	mifInUˇ°Pkts
;

154 
	mifInMˇ°Pkts
;

155 
	mifInBˇ°Pkts
;

157 
	mifOutPau£Pkts
;

158 
	mifInPau£Pkts
;

160 
	mifInRxEº‹s
;

161 
	mifInGü¡sPkts
;

162 
	mifInRu¡sPkts
;

163 
	mifInCRCEº‹s
;

165 
	mifOutTxEº
;

166 
	mifOutcﬁlisi⁄s
;

167 
	mifOutde„ºed
;

169 
	mifInO˘ës
;

170 
	mifOutO˘ësL
;

171 
	mifOutO˘ësH
;

173 
	mifInBuf„rEº‹s
;

176 
h3c_°©s
 
	th3c_°©s_t
;

178 
	sh3c_p‹t_mode
{

179 
	m•ìdTy≥
;

180 
	mdu∂exTy≥
;

182 
h3c_p‹t_mode
 
	th3c_p‹t_mode_t
;

184 
e›l_ù_¥o˚ssög
(
ö_addr
 
ùaddr
, ö_add∏
mask
, ö_add∏
g©eway
);

185 
e›l_mgmtvœn_¥o˚ssög
(
vœnid
);

186 
e›l_dh˝_h™dÀr
();

187 
e›l_h3c_£t_deÁu…_ù
(* 
p_ö
);

188 
˘c_ﬂm_öô
();

	@inc/user/huawei.h

1 #i‚de‡
__HUAWEI_H__


2 
	#__HUAWEI_H__


	)

5 
	~<sys/sockë.h
>

6 
	~<√töë/ö.h
>

7 
	~<√t/if.h
>

8 
	~"ﬂm.h
"

9 
	#SHARE_OAM_OUI
 {0x00, 0x0c, 0xd5}

	)

10 
	#SHARE_ORGSPEC_HDR_LEN
 7

	)

12 
	#HUAWEI_OAM_OUI
 {0xbc, 0x61, 0x4e}

	)

13 
	#HUAWEI_ORGSPEC_HDR_LEN
 7

	)

16 
	#OAM_HUAWEI_EXT_OPCODE_GET_REQUEST
 0x01

	)

17 
	#OAM_HUAWEI_EXT_OPCODE_GET_RESPONSE
 0x02

	)

18 
	#OAM_HUAWEI_EXT_OPCODE_SET_REQUEST
 0x03

	)

19 
	#OAM_HUAWEI_EXT_OPCODE_SET_RESPONSE
 0x04

	)

21 
	#OAM_HUAWEI_EXT_LEAF_SET_RINGCHECK
 0x00b1

	)

22 
	#OAM_HUAWEI_EXT_LEAF_UNI_CLEAR
 0x009c

	)

23 
	#OAM_HUAWEI_EXT_LEAF_GET_OPTICS
 0x00f0

	)

24 
	#OAM_HUAWEI_EXT_LEAF_GET_ETH_STATS
 0X009b

	)

27 
	#OAM_HUAWEI_EXT_LEAF_RINGCHECK_ENABLE
 0X01

	)

28 
	#OAM_HUAWEI_EXT_LEAF_RINGCHECK_DISABLE
 0X00

	)

32 
	#OAM_HUAWEI_IP_MGMT_VLAN_CONFIG
 0X0090

	)

34 
	#OAM_HUAWEI_PORT_MODE_GET
 0X00070006

	)

35 
	#OAM_HUAWEI_PORT_MODE_SET
 0X00060006

	)

37 
	#OAM_HUAWEI_MODE_HALF
 0X00000000

	)

38 
	#OAM_HUAWEI_MODE_FULL
 0X00000001

	)

40 
	#OAM_HUAWEI_MODE_10M
 0X00000000

	)

41 
	#OAM_HUAWEI_MODE_100M
 0X00000001

	)

42 
	#OAM_HUAWEI_MODE_1000M
 0X00000002

	)

47 
	shuawei_hódî
 {

48 
u8_t
 
	moui
[3];

49 
u8_t
 
	mext_code
;

50 }
__©åibuã__
((
∑cked
));

51 
huawei_hódî
 
	thuawei_hódî_t
;

53 
	sﬂm_huawei_ö°™˚_év_2_0
 {

54 
u8_t
 
	mbønch
;

55 
u16_t
 
	mÀaf
;

56 
u8_t
 
	mwidth
;

57 
u8_t
 
	mvÆue
;

58 }
__©åibuã__
((
∑cked
));

59 
ﬂm_huawei_ö°™˚_év_2_0
 
	tﬂm_huawei_ö°™˚_év_2_0_t
;

63 
	sﬂm_huawei_ù_mgmt_vœn_£t
 {

68 
u16_t
 
	mvœnid
;

69 
ö_addr
 
	mùaddr
;

70 
ö_addr
 
	mmask
;

71 
ö_addr
 
	mg©eway
;

72 
u16_t
 
	m¥i
;

73 }
__©åibuã__
((
∑cked
));

74 
ﬂm_huawei_ù_mgmt_vœn_£t
 
	tﬂm_huawei_ù_mgmt_vœn_£t_t
;

76 
	sﬂm_⁄u_›tics_öfo
 {

77 
u8_t
 
	mbønch
;

78 
u16_t
 
	mÀaf
;

79 
u8_t
 
	mwidth
;

80 
u8_t
 
	mãm≥øtuª
;

81 
u32_t
 
	msuµlyVﬁt
;

82 
u16_t
 
	mbüsCuºít
;

83 
u16_t
 
	mtxPowî
;

84 
u16_t
 
	mrxPowî
;

85 }
__©åibuã__
((
∑cked
));

86 
ﬂm_⁄u_›tics_öfo
 
	tﬂm_⁄u_›tics_öfo_t
;

89 
	sﬂm_huawei_rögcheck
 {

90 
u8_t
 
	mbønch
;

91 
u16_t
 
	mÀaf
;

92 
u8_t
 
	mwidth
;

93 
u8_t
 
	ma˘i⁄
;

94 }
__©åibuã__
((
∑cked
));

95 
ﬂm_huawei_rögcheck
 
	tﬂm_huawei_rögcheck_t
;

98 
	sﬂm_huawei_p‹t_°©s
 {

99 
u8_t
 
	mbønch
;

100 
u16_t
 
	mÀaf
;

101 
u16_t
 
	mwidth
;

102 
u64_t
 
	mifInTŸÆPkts
;

103 
u64_t
 
	mifInUˇ°Pkts
;

104 
u64_t
 
	mifInMˇ°Pkts
;

105 
u64_t
 
	mifInBˇ°Pkts
;

106 
u64_t
 
	mifIn_64_Pkts
;

107 
u64_t
 
	mifIn_65_127_Pkts
;

108 
u64_t
 
	mifIn_128_255_Pkts
;

109 
u64_t
 
	mifIn_256_511_Pkts
;

110 
u64_t
 
	mifIn_512_1023_Pkts
;

111 
u64_t
 
	mifIn_1024_1518_Pkts
;

112 
u64_t
 
	mifInOvî1518Pkts
;

113 
u64_t
 
	mifInUndîsizePkts
;

114 
u64_t
 
	mifInOvîsizePkts
;

116 
u64_t
 
	mifInFøgmítsPkts
;

117 
u64_t
 
	mifInJabbîsPkts
;

118 
u64_t
 
	mifInFCSEº‹s
;

119 
u64_t
 
	mifInDisˇrdPkts
;

120 
u64_t
 
	mifInAlignmítEº‹Pkts
;

121 
u64_t
 
	mifInSubEº‹sPkts
;

122 
u64_t
 
	mifInPPPOEFûãrPkts
;

123 
u64_t
 
	mifInOvîÊowsPkts
;

124 
u64_t
 
	mifInPau£Pkts
;

125 
u64_t
 
	mifInGoodO˘ës
;

126 
u64_t
 
	mifInEthî√tO˘ës
;

128 
u64_t
 
	mifOutPkts
;

129 
u64_t
 
	mifOutUˇ°Pkts
;

130 
u64_t
 
	mifOutMˇ°Pkts
;

131 
u64_t
 
	mifOutBˇ°Pkts
;

132 
u64_t
 
	mifOut_64_Pkts
;

133 
u64_t
 
	mifOut_65_127_Pkts
;

134 
u64_t
 
	mifOut_128_255_Pkts
;

135 
u64_t
 
	mifOut_256_511_Pkts
;

136 
u64_t
 
	mifOut_1024_1518_Pkts
;

137 
u64_t
 
	mifOutOvî_1518_Pkts
;

138 
u64_t
 
	mifOutOvîsizePkts
;

139 
u64_t
 
	mifOutDñayPkts
;

140 
u64_t
 
	mifOutOvîMTUPkts
;

141 
u64_t
 
	mifOutSí£Eº‹sPkts
;

142 
u64_t
 
	mifOutSQEEº‹Mesßges
;

143 
u64_t
 
	mifOutScﬁlisi⁄Pkts
;

144 
u64_t
 
	mifOutMcﬁlisi⁄Pkts
;

145 
u64_t
 
	mifOutTŸÆCﬁlisi⁄Pkts
;

146 
u64_t
 
	mifOutL©eCﬁlisi⁄Pkts
;

147 
u64_t
 
	mifOutSubEº‹Pkts
;

148 
u64_t
 
	mifOutOvîÊowsPkts
;

149 
u64_t
 
	mifOutPau£Pkts
;

150 
u64_t
 
	mifOutGoodO˘ës
;

151 }
__©åibuã__
((
∑cked
));

152 
ﬂm_huawei_p‹t_°©s
 
	tﬂm_huawei_p‹t_°©s_t
;

154 
	shuawei_hódî2
 {

155 
u8_t
 
	moui
[3];

156 
u16_t
 
	mÆãr
;

157 
u32_t
 
	mª£ved2
;

158 
u32_t
 
	mbønch
;

159 }
__©åibuã__
((
∑cked
));

160 
huawei_hódî2
 
	thuawei_hódî2_t
;

162 
	shuawei_mode_gë
{

163 
u16_t
 
	mÕ‹t
;

164 
u32_t
 
	mª£rved1
;

165 
u32_t
 
	mª£rved2
;

166 }
__©åibuã__
((
∑cked
));

167 
huawei_mode_gë
 
	thuawei_mode_gë_t
;

169 
	shuawei_mode_out
{

170 
u16_t
 
	mª£rved1
;

171 
u32_t
 
	mÕ‹t
;

172 
u32_t
 
	mª£rved2
;

173 
u32_t
 
	mdu∂ex
;

174 
u32_t
 
	m•ìd
;

175 
u64_t
 
	mª£rved3
;

176 
u64_t
 
	mª£rved4
;

177 
u32_t
 
	mª£rved5
;

178 
u32_t
 
	mª£rved6
;

179 
u32_t
 
	mª£rved7
;

180 
u32_t
 
	mª£rved8
;

181 
u64_t
 
	mª£rved9
;

182 
u64_t
 
	mª£rved10
;

183 
u32_t
 
	mª£rved11
;

184 
u32_t
 
	mª£rved12
;

185 
u32_t
 
	mª£rved13
;

186 
u16_t
 
	mª£rved14
;

187 }
__©åibuã__
((
∑cked
));

188 
huawei_mode_out
 
	thuawei_mode_out_t
;

190 
	shuawei_mode_£t
{

191 
u16_t
 
	mp‹t
;

192 
u32_t
 
	m•ìd_1000M
;

193 
u32_t
 
	m•ìd
;

194 
u32_t
 
	mdu∂ex
;

195 
u64_t
 
	mª£rved3
;

196 
u64_t
 
	mª£rved4
;

197 
u32_t
 
	mª£rved5
;

198 
u32_t
 
	mª£rved6
;

199 
u32_t
 
	mª£rved7
;

200 
u32_t
 
	mª£rved8
;

201 
u64_t
 
	mª£rved9
;

202 
u64_t
 
	mª£rved10
;

203 
u32_t
 
	mª£rved11
;

204 
u32_t
 
	mª£rved12
;

205 
u32_t
 
	mª£rved13
;

206 
u16_t
 
	mª£rved14
;

207 }
__©åibuã__
((
∑cked
));

208 
huawei_mode_£t
 
	thuawei_mode_£t_t
;

210 
	ssh¨e_hódî
 {

211 
u8_t
 
	moui
[3];

212 
u8_t
 
	mbønch
;

213 }
__©åibuã__
((
∑cked
));

214 
sh¨e_hódî
 
	tsh¨e_hódî_t
;

215 
huawei_ﬂm_öô
();

216 
huawei_yŸc_ﬂm_öô
();

217 
ﬂm_huawei_ù_mgmt_vœn_¥o˚ss
(

218 
ŒidIdx
,

219 
›
,

220 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

221 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

222 *
pV¨C⁄èöî_TŸÆ_Lí
,

223 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
);

	@inc/user/oam.h

12 #i‚de‡
__OAM_H__


13 
	#__OAM_H__


	)

15 
	~"lw_c⁄fig.h
"

16 
	~<pdt_c⁄fig.h
>

18 
	#FALSE
 0

	)

19 
	#TRUE
 1

	)

21 #i‚de‡
NO_ERROR


22 
	#NO_ERROR
 0

	)

25 
	tu8_t
;

26 
	tu16_t
;

27 
	tu32_t
;

28 
	tu64_t
;

30 
	tboﬁ_t
;

31 
	ti32_t
;

33 #i‚de‡
ENABLE


34 
	#ENABLE
 1

	)

37 #i‚de‡
DISABLE


38 
	#DISABLE
 0

	)

43 
	#MAX_PON_WAIT_TIMES
 30

	)

45 
	#EOPL_OAM_LOST_LINK_TIMER
 50

	)

46 
	#EOPL_OAM_PDU_TIMER
 10

	)

47 
	#MAC_LEARNING_UNLIMIT
 0X840

	)

50 
	#OAM_CODE_INFO
 0

	)

51 
	#OAM_CODE_EVENT
 1

	)

52 
	#OAM_CODE_VARIABLE_REQ
 2

	)

53 
	#OAM_CODE_VARIABLE_RSP
 3

	)

54 
	#OAM_CODE_LOOPBACK
 4

	)

55 
	#OAM_CODE_ORG_SPEC
 0xFE

	)

57 
	#OAM_EXT_CODE_GET_REQUEST
 0x01

	)

58 
	#OAM_EXT_CODE_GET_RESPONSE
 0x02

	)

59 
	#OAM_EXT_CODE_SET_REQUEST
 0x03

	)

60 
	#OAM_EXT_CODE_SET_RESPONSE
 0x04

	)

61 
	#OAM_EXT_CODE_AUTHENTICATION
 0x05

	)

62 
	#OAM_EXT_CODE_DOWNLOAD
 0x06

	)

63 
	#OAM_EXT_CODE_CHURNING
 0x09

	)

64 
	#OAM_EXT_CODE_DBA
 0x0A

	)

65 
	#OAM_OPL_OPCODE_AES
 0x80

	)

66 
	#OAM_OPL_OPCODE_AES_SCB
 0x81

	)

67 
	#OAM_OPL_OPCODE_TRI_SCB
 0x82

	)

70 
	#OAM_BRANCH_STANDARD_ATTRIB
 0x07

	)

71 
	#OAM_BRANCH_STANDARD_ACTION
 0x09

	)

72 
	#OAM_BRANCH_EXTENDED_ATTRIB
 0xC7

	)

73 
	#OAM_BRANCH_EXTENDED_ACTION
 0xC9

	)

74 
	#OAM_BRANCH_INSTANCE_V_2_0
 0x36

	)

75 
	#OAM_BRANCH_INSTANCE_V_2_1
 0x37

	)

76 
	#OAM_BRANCH_PMC_ATTRIB
 0x87

	)

77 
	#OAM_BRANCH_INSTANCE_NTT


	)

80 
	#OAM_ATTR_PHY_ADMIN
 0x0025

	)

81 
	#OAM_ATTR_AUTONEG_ADMIN_STATE
 0x004F

	)

82 
	#OAM_ATTR_AUTONEG_LOCAL_ABILITY
 0x0052

	)

83 
	#OAM_ATTR_AUTONEG_ADV_ABILITY
 0x0053

	)

84 
	#OAM_ATTR_FEC_ABILITY
 0x0139

	)

85 
	#OAM_ATTR_FEC_MODE
 0x013A

	)

86 
	#OAM_ACTION_PHY_ADMIN_CONTROL
 0x0005

	)

87 
	#OAM_ACTION_AUTONEG_RST_AUTOCONFIG
 0x000B

	)

88 
	#OAM_ACTION_AUTONEG_ADMIN_CONTROL
 0x000C

	)

91 
	#OAM_INSTANCE_PORT
 0x0001

	)

92 
	#OAM_INSTANCE_LLID
 0x0002

	)

94 
	#OAM_ATTR_ONU_SN
 0x0001

	)

95 
	#OAM_ATTR_ONU_FIMWAREVER
 0x0002

	)

96 
	#OAM_ATTR_CHIPSET_ID
 0x0003

	)

97 
	#OAM_ATTR_ONU_CAPABILITIES1
 0x0004

	)

98 
	#OAM_ATTR_OPTICS_DIAG
 0x0005

	)

99 
	#OAM_ATTR_SERVICE_SLA
 0x0006

	)

100 
	#OAM_ATTR_ONU_CAPABILITIES2
 0x0007

	)

101 
	#OAM_ATTR_HOLDOVER_CONFIG
 0x0008

	)

102 
	#OAM_ATTR_MXU_MNG_GLOBAL_PARA
 0x0009

	)

103 
	#OAM_ATTR_MXU_MNG_SNMP_PARA
 0x000a

	)

104 
	#OAM_ATTR_ACTIVE_PON_IF_ADMIN
 0x000b

	)

107 
	#OAM_ATTR_ETH_LINKSTATE
 0x0011

	)

108 
	#OAM_ATTR_ETH_PORTPAUSE
 0x0012

	)

109 
	#OAM_ATTR_ETH_PORT_US_POLICING
 0x0013

	)

110 
	#OAM_ATTR_VOIP_PORT
 0x0014

	)

111 
	#OAM_ATTR_E1_PORT
 0x0015

	)

112 
	#OAM_ATTR_ETH_PORT_DS_POLICING
 0x0016

	)

113 
	#OAM_ATTR_PORT_LOOP_DETECT
 0x0017

	)

114 
	#OAM_ATTR_VLAN
 0x0021

	)

115 
	#OAM_ATTR_CLAMARK
 0x0031

	)

116 
	#OAM_ATTR_MCAST_VLAN
 0x0041

	)

117 
	#OAM_ATTR_MCAST_TAG_STRIP
 0x0042

	)

118 
	#OAM_ATTR_MCAST_SWITCH
 0x0043

	)

119 
	#OAM_ATTR_MCAST_CONTROL
 0x0044

	)

120 
	#OAM_ATTR_MCAST_GRP_NUMMAX
 0x0045

	)

121 
	#OAM_ATTR_MCAST_GFASTLEAVE_ABL
 0x0046

	)

122 
	#OAM_ATTR_MCAST_GFASTLEAVE_ADMIN
 0x0047

	)

123 
	#OAM_ATTR_FASTLEAVE_CONTROL
 0x0048

	)

124 
	#OAM_ATTR_LLID_QUEUE_CONFIG
 0x0051

	)

126 
	#OAM_ATTR_IAD_INFO
 0x0061

	)

127 
	#OAM_ATTR_GLOBAL_PARA_CONFIG
 0x0062

128 
	#OAM_ATTR_H248_PARA_CONFIG
 0x0063

129 
	#OAM_ATTR_H248_USER_TID_CONFIG
 0x0064

130 
	#OAM_ATTR_H248_RTP_TID_CONFIG
 0x0065

131 
	#OAM_ATTR_H248_RTP_TID_INFO
 0x0066

	)

132 
	#OAM_ATTR_SIP_PARA_CONFIG
 0x0067

	)

133 
	#OAM_ATTR_SIP_USER_PARA_CONFIG
 0x0068

	)

134 
	#OAM_ATTR_FAX_MODEM_CONFIG
 0x0069

	)

135 
	#OAM_ATTR_IAD_OPERATION_STATUS
 0x006a

	)

136 
	#OAM_ATTR_POTS_STATUS
 0x006b

	)

137 
	#OAM_ATTR_IAD_OPERATION
 0x006c

	)

138 
	#OAM_ATTR_SIP_DIGIT_MAP
 0x006d

	)

140 
	#OAM_ATTR_ALARM_ADMIN_STATE
 0x0081

	)

141 
	#OAM_ATTR_ALARM_THRESHOLD
 0x0082

	)

142 
	#OAM_ACTION_RESET_ONU
 0x0001

	)

143 
	#OAM_ACTION_FAST_LEAVE_ADMIN
 0x0048

	)

144 
	#OAM_ACTION_MULTI_LLID_ADMIN
 0x0202

	)

145 
	#OAM_ACTION_RESET_CARD
 0x0401

	)

148 
	#OAM_ATTR_TX_POWER_SUPPLY_CTRL
 0x00A1

	)

150 
	#OAM_GET_DBA_REQUEST
 0x00

	)

151 
	#OAM_GET_DBA_RESPONSE
 0x01

	)

152 
	#OAM_SET_DBA_REQUEST
 0x02

	)

153 
	#OAM_SET_DBA_RESPONSE
 0x03

	)

155 
	#OAM_NEW_KEY_REQUEST
 0x00

	)

156 
	#OAM_NEW_CHURNING_KEY
 0x01

	)

158 
	#OAM_ATTR_FRM_TX_OK
 0x0002

	)

159 
	#OAM_ATTR_FRM_RX_OK
 0x0005

	)

160 
	#OAM_ATTR_PHY_ADMIN_CONTROL
 0x0005

	)

161 
	#OAM_ATTR_AUTONEG_RST_AUTOCONFIG
 0x000B

	)

162 
	#OAM_ATTR_AUTONEG_ADMIN_CONTROL
 0x000C

	)

164 
	#OAM_OPERATOR_NEVER_MATCH
 0x00

	)

165 
	#OAM_OPERATOR_EQUAL
 0x01

	)

166 
	#OAM_OPERATOR_NOT_EQUAL
 0x02

	)

167 
	#OAM_OPERATOR_LESS_EQUAL
 0x03

	)

168 
	#OAM_OPERATOR_BIG_EQUAL
 0x04

	)

169 
	#OAM_OPERATOR_EXISTS
 0x05

	)

170 
	#OAM_OPERATOR_NOT_EXISTS
 0x06

	)

171 
	#OAM_OPERATOR_ALWAYS_MATCH
 0x07

	)

173 
	#OAM_SET_OK
 0x80

	)

174 
	#OAM_SET_BAD_PARAMETERS
 0x86

	)

175 
	#OAM_SET_NO_RESOURCE
 0x87

	)

177 
	#OAM_NO_PARAM
 0xCB

	)

178 
	#OAM_BAD_PARAM_VALUE
 0xCC

	)

180 
	#OAM_GET_OK
 0x80

	)

181 
	#OAM_GET_BAD_PARA
 0x86

	)

182 
	#OAM_GET_NO_RESOURCE
 0x87

	)

184 
	#INFO_LOCAL_END
 0

	)

185 
	#INFO_LOCAL_TYPE
 1

	)

186 
	#INFO_REMOTE_TYPE
 2

	)

187 
	#INFO_ORG_SPEC_TYPE
 0xFE

	)

189 
	#OAM_DEFAULT_ERR_SYMBOL_WINDOW
 1

	)

190 
	#OAM_DEFAULT_ERR_SYMBOL_THRESH
 20

	)

192 
	#OAM_DEFAULT_ERR_FRAME_WINDOW
 10

	)

193 
	#OAM_DEFAULT_ERR_FRAME_THRESH
 20

	)

195 
	#OAM_DEFAULT_ERR_FR_PERIOD_WINDOW
 1

	)

196 
	#OAM_DEFAULT_ERR_FR_PERIOD_THRESH
 20

	)

198 
	#OAM_DEFAULT_ERR_SEC_SUMMRY_WINDOW
 600

	)

199 
	#OAM_DEFAULT_ERR_SEC_SUMMRY_THRESH
 1

	)

202 
	#STAT_IEEE_BRANCH
 (
OAM_BRANCH_STANDARD_ATTRIB
 << 16 )

	)

203 
	#STAT_PMC_BRANCH
 (
OAM_BRANCH_PMC_ATTRIB
 << 16 )

	)

204 
	#STAT_ATTR_BROD_TX_RRM
 (
STAT_IEEE_BRANCH
|0x13)

	)

205 
	#STAT_ATTR_BROD_RX_RRM
 (
STAT_IEEE_BRANCH
|0x16)

	)

206 
	#STAT_ATTR_PON_PAUSE_RX
 (
STAT_PMC_BRANCH
 |0x1C)

	)

207 
	#STAT_ATTR_SYS_PAUSE_RX
 (
STAT_PMC_BRANCH
 |0x1D)

	)

208 
	#STAT_ATTR_SYS_PAUSE_TX
 (
STAT_PMC_BRANCH
 |0x1E)

	)

209 
	#STAT_ATTR_PON_PAUSE_TX
 (
STAT_PMC_BRANCH
 |0x31)

	)

212 
	#SYM_ERROR_TYPE
 0x01

	)

213 
	#SYM_ERROR_LEN
 0x28

	)

214 
	#FRM_ERROR_TYPE
 0x02

	)

215 
	#FRM_ERROR_LEN
 0x1A

	)

216 
	#FRM_PRD_TYPE
 0x03

	)

217 
	#FRM_PRD_LEN
 0x1C

	)

218 
	#SEC_ERROR_TYPE
 0x04

	)

219 
	#SEC_ERROR_LEN
 0x12

	)

221 
	#FIRM_LENGTH
 2

	)

223 
	#OAM_MAXIMUM_PDU_SIZE
 1518

	)

224 
	#OAM_MINIMIZE_PDU_SIZE
 60

	)

226 
	#CTC_MIN_SUBPORT_NUM
 1

	)

228 #i‡
deföed
(
CONFIG_PRODUCT_EM200
Ë|| deföed(
CONFIG_PRODUCT_EPN101R
Ë|| deföed(
CONFIG_PRODUCT_EPN101ZG
)

229 
	#CTC_MAX_SUBPORT_NUM
 1

	)

230 #ñi‡
deföed
(
CONFIG_PRODUCT_EPN104N
Ë|| deföed(
CONFIG_PRODUCT_EPN104W
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG_A
Ë|| deföed(
CONFIG_PRODUCT_EPN105
Ë|| deföed(
CONFIG_PRODUCT_GPN104N
)

231 
	#CTC_MAX_SUBPORT_NUM
 4

	)

232 #ñi‡
deföed
(
CONFIG_PRODUCT_5500
)

233 
	#CTC_MAX_SUBPORT_NUM
 2

	)

236 #i‡
deföed
(
ONU_4PORT_88E6045
)||deföed(
ONU_4PORT_88E6046
)||deföed(
ONU_4PORT_88E6097
)||deföed(
ONU_4PORT_AR8306
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

237 
	#OAM_MAX_INSTANCE_ID
 0x04

	)

239 
	#OAM_MAX_INSTANCE_ID
 
CTC_MAX_SUBPORT_NUM


	)

242 
	#OAM_LOGIG_PON_PORT
 
LOGIC_PON_PORT


	)

244 
	#EOPL_PARAM_ERROR
 0x81

	)

245 
	#EOPL_NOT_SUPPORT
 0x82

	)

248 
	#OAM_MAX_E1_PORT_ID
 0x04

	)

249 
	#OAM_MAX_VOIP_PORT_ID
 0x04

	)

251 
	#EOPL_OK
 0x00000000

	)

252 
	#PARAMETER_INPUT_POINTER_NULL
 0x80001000

	)

253 
	#PARAMETER_RANGE_ERROR
 0x80001001

	)

255 
	#OAM_CLASSIFY_ACTION_DEL
 0x00

	)

256 
	#OAM_CLASSIFY_ACTION_ADD
 0x01

	)

257 
	#OAM_CLASSIFY_ACTION_CLR
 0x02

	)

258 
	#OAM_CLASSIFY_ACTION_SHOW
 0x03

	)

259 
	#OAM_CLASSIFY_MAX_ENTRY
 128

	)

261 
	#OAM_CTC_VLAN_TRANSPARENT
 0x00

	)

262 
	#OAM_CTC_VLAN_TAG
 0x01

	)

263 
	#OAM_CTC_VLAN_TRANSLATE
 0x02

	)

264 
	#OAM_CTC_VLAN_AGGREGATION
 0x03

	)

265 
	#OAM_CTC_VLAN_TRUNK
 0x04

	)

267 
	#OAM_LINK_LOST_TIME
 5

	)

269 
	#OAM_OPL_RST_CFG
 0x4039

	)

270 
	#OAM_OPL_RST_PAY
 0x403A

	)

272 
	#OAM_SOFT_TYPE_TFTP
 0x01

	)

273 
	#OAM_SOFT_TYPE_CRC
 0x02

	)

274 
	#OAM_SOFT_TYPE_LOAD
 0x03

	)

275 
	#OAM_SOFT_TYPE_COMMIT
 0x04

	)

278 
	#OAM_FIRMWARE_WRITE_SUCCESS
 0x0

	)

279 
	#OAM_FIRMWARE_WRITING
 0x1

	)

280 
	#OAM_FIRMWARE_VERIFY_ERROR
 0x2

	)

281 
	#TFTP_R_REQ
 0x0001

	)

282 
	#TFTP_W_REQ
 0x0002

	)

283 
	#TFTP_DATA
 0x0003

	)

284 
	#TFTP_ACK
 0x0004

	)

285 
	#TFTP_ERR
 0x0005

	)

286 
	#TFTP_END_DOWNLOAD_REQ
 0x0006

	)

287 
	#TFTP_END_DOWNLOAD_RSP
 0x0007

	)

288 
	#TFTP_ACT_IMG_REQ
 0x0008

	)

289 
	#TFTP_ACT_IMG_RSP
 0x0009

	)

290 
	#TFTP_COMMIT_IMG_REQ
 0x000a

	)

291 
	#TFTP_COMMIT_IMG_RSP
 0x000b

	)

293 
	#DOWN_RSP_OK_BURN
 0x00

	)

294 
	#DOWN_RSP_BURNING
 0x01

	)

295 
	#DOWN_RSP_CHECKERR
 0x02

	)

296 
	#DOWN_RSP_PARERR
 0x03

	)

297 
	#DOWN_RSP_UNSUPPORT
 0x04

	)

299 
	#LOAD_NEW_IMG
 0x00

	)

301 
	#COMMIT_NEW_IMG
 0x00

	)

302 
	#ACTIVE_MARK
 0x00

	)

303 
	#ACTIVE_REBOOT
 0x01

	)

305 
	#FILENAME_OFFSET
 2

	)

308 
	#ONU_USR_ID_LEN
 24

	)

309 
	#ONU_PASS_WD_LEN
 12

	)

310 
	#ONU_AUTHCODE_START
 0x10

	)

311 
	#ONU_AUTHCODE_REQ
 0x01

	)

312 
	#ONU_AUTHCODE_RSP
 0x02

	)

313 
	#ONU_AUTHCODE_SUCCESS
 0x03

	)

314 
	#ONU_AUTHCODE_FAIL
 0x04

	)

315 
	#ONU_AUTHTYPE_IDPW
 0x01

	)

318 
	#OAM_CTC_ONU_TYPE_SFU
 0x00000000

	)

319 
	#OAM_CTC_ONU_TYPE_HGU
 0x00000001

	)

320 
	#OAM_CTC_ONU_TYPE_SBU
 0x00000002

	)

321 
	#OAM_CTC_ONU_TYPE_MDU_1
 0x00000003

	)

322 
	#OAM_CTC_ONU_TYPE_MDU_2
 0x00000004

	)

323 
	#OAM_CTC_ONU_TYPE_MDU_3
 0x00000005

	)

324 
	#OAM_CTC_ONU_TYPE_MDU_4
 0x00000006

	)

325 
	#OAM_CTC_ONU_TYPE_MTU
 0x00000007

	)

328 
	#OAM_CTC_SINGLE_LLID
 0x1

	)

329 
	#OAM_CTC_MULTI_LLID
 0x0

	)

332 
	#OAM_CTC_PROTECTION_NONE
 0x0

	)

333 
	#OAM_CTC_PROTECTION_TYPE_C
 0x1

	)

334 
	#OAM_CTC_PROTECTION_TYPE_D
 0x2

	)

337 
	#OAM_CTC_MODULE_GE
 0x0

	)

338 
	#OAM_CTC_MODULE_FE
 0x1

	)

339 
	#OAM_CTC_MODULE_VOIP
 0x2

	)

340 
	#OAM_CTC_MODULE_TDM
 0x3

	)

341 
	#OAM_CTC_MODULE_ADSL2
 0x4

	)

342 
	#OAM_CTC_MODULE_VDSL2
 0x5

	)

343 
	#OAM_CTC_MODULE_WIFI
 0x6

	)

344 
	#OAM_CTC_MODULE_USB
 0x7

	)

346 
	#EOAM_DHCP_CLIENT_LEN
 512

	)

349 
	#OAM_CLF_EQUAL
 0x1

	)

350 
	#OAM_CLF_ALWAYS_MATCH
 0x7

	)

352 
	eLOCAL_LINK_STATUS_e


354 
	mLINK_FAIL
,

355 
	mLINK_OK


356 }
	tLOCAL_LINK_STATUS_t
;

358 
	eloˇl_pdu_°©e_t
 {

359 
	mPDU_LF_INFO
 = 1,

360 
	mPDU_RX_INFO
,

361 
	mPDU_INFO
,

362 
	mPDU_ANY
,

363 
	mPDU_ANY_NO_Ext


365 
	eﬂm_mode_t
{

366 
	mOAM_ACTIVE
 = 1,

367 
	mOAM_PASSIVE


370 
	ediscovîy_°©e_t
 {

371 
	mDISCOVERY_FAULT
 = 1,

372 
	mDISCOVERY_ACTIVE_SEND_LOCAL
,

373 
	mDISCOVERY_PASSIVE_WAIT
,

374 
	mDISCOVERY_SEND_LOCAL_REMOTE
,

375 
	mDISCOVERY_SEND_LOCAL_REMOTE_OK
,

376 
	mDISCOVERY_SEND_ANY


379 
	eEX_DISCOVERY_STATE_e


381 
	mEX_DISCOVERY_PASSIVE_WAIT
 = 
DISCOVERY_SEND_ANY
 + 1,

382 
	mEX_DISCOVERY_SEND_EXT_INFO
,

383 
	mEX_DISCOVERY_SEND_OAM_EXT_INFO_ACK
,

384 
	mEX_DISCOVERY_SEND_OAM_EXT_INFO_NACK
,

385 
	mEX_DISCOVERY_SEND_ANY
,

386 
	mEX_DISCOVERY_SEND_ANY_NO_EXT


387 }
	tEX_DISCOVERY_STATE_t
;

389 
	ee›l_ﬂm_evít_t
 {

390 
	mEOPL_LOCAL_LINK_STATUS_CHANGE
 = 1,

391 
	mEOPL_PDU_TIMER
,

392 
	mEOPL_LOST_LINK_TIMER
,

393 
	mEOPL_OAM_PDU_RX


398 
	mCTC_STACK_TECHNOLOGY_ABILITY_UNDEFINED
 = 1,

399 
	mCTC_STACK_TECHNOLOGY_ABILITY_UNKNOWN
 = 2,

400 
	mCTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
 = 14,

401 
	mCTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
 = 142,

402 
	mCTC_STACK_TECHNOLOGY_ABILITY_100_BASE_T4
 = 23,

403 
	mCTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
 = 25,

404 
	mCTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
 = 252,

405 
	mCTC_STACK_TECHNOLOGY_ABILITY_FDX_PAUSE
 = 312,

406 
	mCTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
 = 313,

407 
	mCTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
 = 314,

408 
	mCTC_STACK_TECHNOLOGY_ABILITY_FDX_B_PAUSE
 = 315,

409 
	mCTC_STACK_TECHNOLOGY_ABILITY_100_BASE_T2
 = 32,

410 
	mCTC_STACK_TECHNOLOGY_ABILITY_100_BASE_T2FD
 = 322,

411 
	mCTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_X
 = 36,

412 
	mCTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_XFD
 = 362,

413 
	mCTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
 = 40,

414 
	mCTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
 = 402,

415 
	mCTC_STACK_TECHNOLOGY_ABILITY_REM_FAULT1
 = 37,

416 
	mCTC_STACK_TECHNOLOGY_ABILITY_REM_FAULT2
 = 372,

417 
	mCTC_STACK_TECHNOLOGY_ABILITY_ISO_ETHERNET
 = 8029,

418 } 
	tCTC_STACK_ãchnﬁogy_abûôy_t
;

420 
	#SET_BITS
(
de°
, 
mask
) \

422 (
de°
Ë|(
mask
); \

424 

	)

425 
	#CLEAR_BITS
(
de°
, 
mask
) \

427 (
de°
Ë&~(
mask
); \

429 

	)

430 
	#WRITE_BITS
(
de°
, 
mask
, 
vÆue
) \

432 (
de°
Ë&~(
mask
); \

433 (
de°
Ë|(
vÆue
Ë& (
mask
); \

435 

	)

436 
	#READ_BITS
(
§c
, 
mask
) \

438 (
§c
Ë& (
mask
) \

440 

	)

441 
	#TEST_BITS
(
§c
, 
mask
, 
vÆue
) \

443 ((
§c
Ë& (
mask
)Ë=(
vÆue
Ë? 
TRUE
 : 
FALSE
 \

445 

	)

446 
	#TOGGLE_BITS
(
de°
, 
mask
) \

448 (
de°
Ë((de°Ë& ~(
mask
)) | ((~dest) & (mask)); \

450 

	)

451 
	#OAMDBG
(
°rög
) {\

452 if(
g_iOamSëDbg
)\

454 
¥ötf
 
°rög
;\

456 }

	)

469 
	sﬂm_öfo_év
 {

470 
u8_t
 
	möfo_ty≥
;

471 
u8_t
 
	möfo_Àngth
;

472 
u8_t
 
	mﬂm_vîsi⁄
;

473 
u16_t
 
	mªvisi⁄
;

474 
u8_t
 
	m°©e
;

475 
u8_t
 
	mﬂm_c⁄fig
;

476 
u16_t
 
	mﬂmpdu_c⁄fig
;

477 
u8_t
 
	moui
[3];

478 
u8_t
 
	mvíd‹_öfo
[4];

479 }
__©åibuã__
((
∑cked
));

480 
ﬂm_öfo_év
 
	tﬂm_öfo_év_t
;

482 
	sEX_OAM_INFO_TLV_s


484 
u8_t
 
	mucTy≥
;

485 
u8_t
 
	mucLígth
;

486 
u8_t
 
	maucOui
[3];

487 
u8_t
 
	mucSuµ‹t
;

488 
u8_t
 
	mucVîsi⁄
;

489 
u8_t
 
	maucVîsi⁄Li°
[1];

490 }
__©åibuã__
((
∑cked
));

491 
EX_OAM_INFO_TLV_s
 
	tEX_OAM_INFO_TLV_t
;

493 
	sﬂm_°©e


495 
loˇl_pdu_°©e_t
 
	mloˇl_pdu
;

496 
ﬂm_mode_t
 
	mloˇl_ﬂm_mode
;

497 
boﬁ_t
 
	mloˇl_lök_timî_ru¬ög
;

498 
u8_t
 
	ma˘i⁄_°©e
;

499 
u8_t
 
	mªmŸe_a˘i⁄_°©e
;

500 
u16_t
 
	mÊags
;

501 
u8_t
 
	mﬂm_c⁄fig
;

502 
u8_t
 
	mªmŸe_ﬂm_c⁄fig
;

503 
u16_t
 
	mﬂmpdu_c⁄fig
;

504 
u16_t
 
	mªmŸe_ﬂmpdu_c⁄fig
;

505 
u8_t
 
	m°©e
;

506 
boﬁ_t
 
	mOAM_Ext_Sètus
;

507 
boﬁ_t
 
	mªmŸe_°©e_vÆid
;

508 
boﬁ_t
 
	mªmŸe_oui_ßtisfõd
;

509 
boﬁ_t
 
	mloˇl_ßtisfõd
;

510 
boﬁ_t
 
	mªmŸe_°abÀ
;

511 
boﬁ_t
 
	mloˇl_lök_°©us
;

512 
boﬁ_t
 
	mloˇl_°abÀ
;

513 
u16_t
 
	musLInfoTlvVî
;

514 
u16_t
 
	musRInfoTlvVî
;

515 
u8_t
 
	mucOamVîsi⁄
;

516 
u8_t
 
	mucRmtOamVî
;

517 
u8_t
 
	maucOui
[3];

518 
u8_t
 
	maucRmtOui
[3];

519 
u8_t
 
	mucExVî
;

520 
u8_t
 
	maucVíd‹
[4];

521 
u8_t
 
	maucRmtVíd‹
[4];

522 
u8_t
 
	maucExOuiS±
[3];

523 
u8_t
 
	mucExOuiVî
;

525 
ﬂm_°©e
 
	tﬂm_ßã_t
;

528 
	sﬂmpdu_hdr
 {

529 
u8_t
 
	mde°
[6];

530 
u8_t
 
	m§c
[6];

531 
u8_t
 
	mÀngth
[2];

532 
u8_t
 
	msubty≥
;

533 
u16_t
 
	mÊags
;

534 
u8_t
 
	mpcode
;

535 }
__©åibuã__
((
∑cked
));

538 
ﬂmpdu_hdr
 
	tﬂmpdu_hdr_t
;

541 
	s˘c_hódî
 {

542 
u8_t
 
	moui
[3];

543 
u8_t
 
	mext_code
;

544 }
__©åibuã__
((
∑cked
));

545 
˘c_hódî
 
	t˘c_hódî_t
;

547 
	s˘c_t·p_hódî
{

548 
u8_t
 
	md©a_ty≥
;

549 
u16_t
 
	mÀn
;

550 
u16_t
 
	mtid
;

551 }
__©åibuã__
((
∑cked
));

552 
˘c_t·p_hódî
 
	t˘c_t·p_hódî_t
;

555 
	sﬂm_v¨übÀ_c⁄èöî
 {

556 
u8_t
 
	mv¨übÀ_bønch
;

557 
u16_t
 
	mvaúabÀ_Àaf
;

558 
u8_t
 
	mwidth
;

559 
u8_t
 
	mvÆue
[4];

560 }
__©åibuã__
((
∑cked
));

561 
ﬂm_v¨übÀ_c⁄èöî
 
	tﬂm_v¨übÀ_c⁄èöî_t
;

563 
	eﬂm_lo›back_cmd
{

564 
	mﬂm_lo›back_íabÀ
 = 1,

565 
	mﬂm_lo›back_dißbÀ


567 
ﬂm_lo›back_cmd
 
	tﬂm_lo›back_cmd_t
;

569 
	sﬂm_⁄u_¢
 {

574 
u8_t
 
	mvíd‹_id
[4];

575 
u8_t
 
	mmodñ
[4];

576 
u8_t
 
	m⁄u_id
[6];

577 
u8_t
 
	mhw¨e_vî
[8];

578 
u8_t
 
	msw¨e_vî
[16];

579 }
__©åibuã__
((
∑cked
));

580 
ﬂm_⁄u_¢
 
	tﬂm_⁄u_¢_t
;

582 
	sﬂm_fw¨e_vî
 {

583 
u8_t
 
	mbønch
;

584 
u16_t
 
	mÀaf
;

585 
u8_t
 
	mwidth
;

586 
u8_t
 
	mfw¨e_vî
[2];

587 }
__©åibuã__
((
∑cked
));

588 
ﬂm_fw¨e_vî
 
	tﬂm_fw¨e_vî_t
;

590 
	sﬂm_chù£t_id
 {

591 
u8_t
 
	mbønch
;

592 
u16_t
 
	mÀaf
;

593 
u8_t
 
	mwidth
;

594 
u8_t
 
	mvíd‹_id
[2];

595 
u8_t
 
	mmodñ
[2];

596 
u8_t
 
	mªvisi⁄
;

597 
u8_t
 
	mic_vîsi⁄
[3];

598 }
__©åibuã__
((
∑cked
));

599 
ﬂm_chù£t_id
 
	tﬂm_chù£t_id_t
;

601 
	sﬂm_⁄u_ˇ∑bûôes
 {

602 
u8_t
 
	mbønch
;

603 
u16_t
 
	mÀaf
;

604 
u8_t
 
	mwidth
;

605 
u8_t
 
	m£rv_suµ‹ãd
;

606 
u8_t
 
	mnumbî_GE
;

607 
u8_t
 
	mbôm≠_GE
[8];

608 
u8_t
 
	mnumbî_FE
;

609 
u8_t
 
	mbôm≠_FE
[8];

610 
u8_t
 
	mnumbî_POTS
;

611 
u8_t
 
	mnumbî_E1
;

612 
u8_t
 
	mnumbî_usque
;

613 
u8_t
 
	mquemax_us
;

614 
u8_t
 
	mnumbî_dsque
;

615 
u8_t
 
	mquemax_ds
;

616 
u8_t
 
	mb©ãryBackup
;

617 }
__©åibuã__
((
∑cked
));

618 
ﬂm_⁄u_ˇ∑bûôes
 
	tﬂm_⁄u_ˇ∑bûôes_t
;

620 
	sﬂm_r•_ödiˇti⁄
 {

621 
u8_t
 
	mbønch
;

622 
u16_t
 
	mÀaf
;

623 
u8_t
 
	mv¨_ödiˇti⁄
;

624 }
__©åibuã__
((
∑cked
));

625 
ﬂm_r•_ödiˇti⁄
 
	tﬂm_r•_ödiˇti⁄_t
;

628 
	sﬂm_⁄u_ˇ∑bûôes2
 {

629 
u8_t
 
	mbønch
;

630 
u16_t
 
	mÀaf
;

631 
u8_t
 
	mwidth
;

632 
u32_t
 
	m⁄u_ty≥
;

633 
u8_t
 
	mmu…iLlid
;

634 
u8_t
 
	m¥Ÿe˘i⁄_ty≥
;

635 
u8_t
 
	mnumbî_of_PONIf
;

636 
u8_t
 
	mnumbî_of_¶Ÿ
;

637 
u8_t
 
	mnumbî_of_öãrÁ˚_ty≥
;

638 
u32_t
 
	möãrÁ˚_ty≥
;

639 
u16_t
 
	mnumbî_of_p‹t
;

640 
u8_t
 
	mb©ãry_backup
;

641 }
__©åibuã__
((
∑cked
));

642 
ﬂm_⁄u_ˇ∑bûôes2
 
	tﬂm_⁄u_ˇ∑bûôes2_t
;

643 
	sﬂm_tw_⁄u_ˇ∑bûôes2
{

644 
u8_t
 
	mbønch
;

645 
u16_t
 
	mÀaf
;

646 
u8_t
 
	mwidth
;

647 
u32_t
 
	m⁄u_ty≥
;

648 
u8_t
 
	mmu…iLlid
;

649 
u8_t
 
	m¥Ÿe˘i⁄_ty≥
;

650 
u8_t
 
	mnumbî_of_PONIf
;

651 
u8_t
 
	mnumbî_of_¶Ÿ
;

652 
u8_t
 
	mnumbî_of_öãrÁ˚_ty≥
;

653 
u32_t
 
	m„_öãrÁ˚_ty≥
;

654 
u16_t
 
	mnumbî_of_„_p‹t
;

655 
u32_t
 
	mvoù_öãrÁ˚_ty≥
;

656 
u16_t
 
	mnumbî_of_voù_p‹t
;

657 
u8_t
 
	mb©ãry_backup
;

658 }
__©åibuã__
((
∑cked
));

659 
ﬂm_tw_⁄u_ˇ∑bûôes2
 
	tﬂm_tw_⁄u_ˇ∑bûôes2_t
;

661 
	sﬂm_⁄u_hﬁdovî_c⁄fig
{

662 
u8_t
 
	mbønch
;

663 
u16_t
 
	mÀaf
;

664 
u8_t
 
	mwidth
;

665 
u32_t
 
	mhﬁdovî_°©e
;

666 
u32_t
 
	mhﬁdovî_time
;

667 }
__©åibuã__
((
∑cked
));

668 
ﬂm_⁄u_hﬁdovî_c⁄fig
 
	tﬂm_⁄u_hﬁdovî_c⁄fig_t
;

670 
	sﬂm_a˘ive_p⁄_if_admö
{

671 
u8_t
 
	mbønch
;

672 
u16_t
 
	mÀaf
;

673 
u8_t
 
	mwidth
;

674 
u8_t
 
	ma˘ive_p‹t_id
;

675 }
__©åibuã__
((
∑cked
));

676 
ﬂm_a˘ive_p⁄_if_admö
 
	tﬂm_a˘ive_p⁄_if_admö_t
;

678 
	sﬂm_›tiˇl_å™s˚ivî_düg
{

679 
u8_t
 
	mbønch
;

680 
u16_t
 
	mÀaf
;

681 
u8_t
 
	mwidth
;

682 
u16_t
 
	mãm≥øtuª
;

683 
u16_t
 
	msuµly_vcc
;

684 
u16_t
 
	mtx_büs_cuºít
;

685 
u16_t
 
	mtx_powî
;

686 
u16_t
 
	mrx_powî
;

687 }
__©åibuã__
((
∑cked
));

688 
ﬂm_›tiˇl_å™s˚ivî_düg
 
	tﬂm_›tiˇl_å™s˚ivî_düg_t
;

690 
	sﬂm_£rvi˚_¶a
{

691 
u8_t
 
	mbønch
;

692 
u16_t
 
	mÀaf
;

693 
u8_t
 
	mwidth
;

694 
u8_t
 
	m›î©i⁄
;

695 }
__©åibuã__
((
∑cked
));

696 
ﬂm_£rvi˚_¶a
 
	tﬂm_£rvi˚_¶a_t
;

698 
	sﬂm_£rvi˚_¶a_body_hdr
{

699 
u8_t
 
	mscheduÀ_scheme
;

700 
u8_t
 
	mhigh_¥i_boundry
;

701 
u32_t
 
	mcy˛e_Àn
;

702 
u8_t
 
	m£rvi˚_num
;

703 }
__©åibuã__
((
∑cked
));

704 
ﬂm_£rvi˚_¶a_body_hdr
 
	tﬂm_£rvi˚_¶a_body_hdr_t
;

706 
	sﬂm_£rvi˚_¶a_body_íåy
 {

707 
u8_t
 
	mqueue_id
;

708 
u16_t
 
	mfix_size
;

709 
u16_t
 
	mfix_bw
;

710 
u16_t
 
	mgu¨™ãed_bw
;

711 
u16_t
 
	mbe°_eff‹_bw
;

712 
u8_t
 
	mwº_weight
;

713 }
__©åibuã__
((
∑cked
));

714 
ﬂm_£rvi˚_¶a_body_íåy
 
	tﬂm_£rvi˚_¶a_body_íåy_t
;

717 
	sﬂm_ëh_lök°©e
 {

718 
u8_t
 
	mbønch
;

719 
u16_t
 
	mÀaf
;

720 
u8_t
 
	mwidth
;

721 
u8_t
 
	mlök°©e
;

722 }
__©åibuã__
((
∑cked
));

723 
ﬂm_ëh_lök°©e
 
	tﬂm_ëh_lök°©e_t
;

725 
	sﬂm_ëh_p‹çau£
 {

726 
u8_t
 
	mbønch
;

727 
u16_t
 
	mÀaf
;

728 
u8_t
 
	mwidth
;

729 
u8_t
 
	mback_›î
;

730 }
__©åibuã__
((
∑cked
));

731 
ﬂm_ëh_p‹çau£
 
	tﬂm_ëh_p‹çau£_t
;

733 
	sﬂm_ëh_p‹çﬁicög
 {

734 
u8_t
 
	mbønch
;

735 
u16_t
 
	mÀaf
;

736 
u8_t
 
	mwidth
;

737 
u8_t
 
	m›î©i⁄
;

738 
u8_t
 
	mcú
[3];

739 
u8_t
 
	mcbs
[3];

740 
u8_t
 
	mebs
[3];

741 }
__©åibuã__
((
∑cked
));

742 
ﬂm_ëh_p‹çﬁicög
 
	tﬂm_ëh_p‹çﬁicög_t
;

744 
	sﬂm_voù_p‹t
{

745 
u8_t
 
	mbønch
;

746 
u16_t
 
	mÀaf
;

747 
u8_t
 
	mwidth
;

748 
u8_t
 
	mlock
;

749 }
__©åibuã__
((
∑cked
));

750 
ﬂm_voù_p‹t
 
	tﬂm_voù_p‹t_t
;

752 
	sﬂm_e1_p‹t
{

753 
u8_t
 
	mbønch
;

754 
u16_t
 
	mÀaf
;

755 
u8_t
 
	mwidth
;

756 
u8_t
 
	mlock
;

757 }
__©åibuã__
((
∑cked
));

758 
ﬂm_e1_p‹t
 
	tﬂm_e1_p‹t_t
;

760 
	sﬂm_ëh_p‹td•ﬁicög
 {

761 
u8_t
 
	mbønch
;

762 
u16_t
 
	mÀaf
;

763 
u8_t
 
	mwidth
;

764 
u8_t
 
	m›î©i⁄
;

765 
u8_t
 
	mcú
[3];

766 
u8_t
 
	mpú
[3];

767 }
__©åibuã__
((
∑cked
));

768 
ﬂm_ëh_p‹td•ﬁicög
 
	tﬂm_ëh_p‹td•ﬁicög_t
;

770 
	sﬂm_vœn
 {

771 
u8_t
 
	mbønch
;

772 
u16_t
 
	mÀaf
;

773 
u8_t
 
	mwidth
;

774 
u8_t
 
	mmode
;

775 
u8_t
 
	m∑rs
[12];

776 }
__©åibuã__
((
∑cked
));

777 
ﬂm_vœn
 
	tﬂm_vœn_t
;

778 
	sﬂm_˛asm¨k
 {

779 
u8_t
 
	mbønch
;

780 
u16_t
 
	mÀaf
;

781 
u8_t
 
	mwidth
;

782 
u8_t
 
	ma˘i⁄
;

783 
u8_t
 
	mnumOfRuÀ
;

784 }
__©åibuã__
((
∑cked
));

785 
ﬂm_˛asm¨k
 
	tﬂm_˛asm¨k_t
;

787 
	sﬂm_˛asm¨k_ruÀbody
 {

788 
u8_t
 
	m¥e˚dí˚OfRuÀ
;

789 
u8_t
 
	mÀnOfRuÀ
;

790 
u8_t
 
	mqueueM≠≥d
;

791 
u8_t
 
	mëhPriM¨k
;

792 
u8_t
 
	mnumOfFõld
;

793 }
__©åibuã__
((
∑cked
));

794 
ﬂm_˛asm¨k_ruÀbody
 
	tﬂm_˛asm¨k_ruÀbody_t
;

796 
	sﬂm_˛asm¨k_fõldbody
 {

797 
u8_t
 
	mfõldSñe˘
;

798 
u8_t
 
	mm©chVÆue
[6];

799 
u8_t
 
	m›î©‹
;

800 }
__©åibuã__
((
∑cked
));

801 
ﬂm_˛asm¨k_fõldbody
 
	tﬂm_˛asm¨k_fõldbody_t
;

803 
	sﬂm_mˇ°_vœn
 {

804 
u8_t
 
	mbønch
;

805 
u16_t
 
	mÀaf
;

806 
u8_t
 
	mwidth
;

807 
u8_t
 
	m›î©i⁄
;

808 }
__©åibuã__
((
∑cked
));

809 
ﬂm_mˇ°_vœn
 
	tﬂm_mˇ°_vœn_t
;

811 
	sﬂm_mˇ°_èg°rùe
 {

812 
u8_t
 
	mbønch
;

813 
u16_t
 
	mÀaf
;

814 
u8_t
 
	mwidth
;

815 
u8_t
 
	mèg°rùed
;

816 }
__©åibuã__
((
∑cked
));

817 
ﬂm_mˇ°_èg°rùe
 
	tﬂm_mˇ°_èg°rùe_t
;

819 
	sﬂm_mˇ°_vœn_å™¶©i⁄_íåy
{

820 
u16_t
 
	mmˇ°_vœn
;

821 
u16_t
 
	mùtv_vœn
;

822 }
__©åibuã__
((
∑cked
));

823 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy
 
	tﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
;

825 
	sﬂm_mˇ°_swôch
 {

826 
u8_t
 
	mbønch
;

827 
u16_t
 
	mÀaf
;

828 
u8_t
 
	mwidth
;

829 
u8_t
 
	ma˘i⁄
;

830 }
__©åibuã__
((
∑cked
));

831 
ﬂm_mˇ°_swôch
 
	tﬂm_mˇ°_swôch_t
;

833 
	sﬂm_mˇ°_c⁄åﬁ
 {

834 
u8_t
 
	mbønch
;

835 
u16_t
 
	mÀaf
;

836 
u8_t
 
	mwidth
;

837 
u8_t
 
	ma˘i⁄
;

838 
u8_t
 
	mc⁄åﬁ_ty≥
;

839 
u8_t
 
	mnumbî
;

840 }
__©åibuã__
((
∑cked
));

841 
ﬂm_mˇ°_c⁄åﬁ
 
	tﬂm_mˇ°_c⁄åﬁ_t
;

843 
	sﬂm_mˇ°_c⁄åﬁ_íåy
 {

844 
u16_t
 
	mp‹t_id
;

845 
u16_t
 
	mvœn_id
;

846 
u8_t
 
	mgda
[6];

847 }
__©åibuã__
((
∑cked
));

848 
ﬂm_mˇ°_c⁄åﬁ_íåy
 
	tﬂm_mˇ°_c⁄åﬁ_íåy_t
;

850 
	sﬂm_group_num_max
 {

851 
u8_t
 
	mbønch
;

852 
u16_t
 
	mÀaf
;

853 
u8_t
 
	mwidth
;

854 
u8_t
 
	mnum_max
;

855 }
__©åibuã__
((
∑cked
));

856 
ﬂm_group_num_max
 
	tﬂm_group_num_max_t
;

858 
	sﬂm_Á°Àave_abl
 {

859 
u8_t
 
	mbønch
;

860 
u16_t
 
	mÀaf
;

861 
u8_t
 
	mwidth
;

862 
u32_t
 
	mnum_of_mode
;

863 
u32_t
 
	mmode_1
;

865 
u32_t
 
	mmode_2
;

866 
u32_t
 
	mmode_3
;

867 
u32_t
 
	mmode_4
;

868 }
__©åibuã__
((
∑cked
));

869 
ﬂm_Á°Àave_abl
 
	tﬂm_Á°Àave_abl_t
;

871 
	sﬂm_Á°Àave_adm
 {

872 
u8_t
 
	mbønch
;

873 
u16_t
 
	mÀaf
;

874 
u8_t
 
	mwidth
;

875 
u32_t
 
	mvÆue
;

876 }
__©åibuã__
((
∑cked
));

877 
ﬂm_Á°Àave_adm
 
	tﬂm_Á°Àave_adm_t
;

879 
	sﬂm_mu…i_Œid_˘æ
{

880 
u8_t
 
	mbønch
;

881 
u16_t
 
	mÀaf
;

882 
u8_t
 
	mwidth
;

883 
u32_t
 
	mŒid_num
;

884 }
__©åibuã__
((
∑cked
));

885 
ﬂm_mu…i_Œid_˘æ
 
	tﬂm_mu…i_Œid_˘æ_t
;

887 
	sﬂm_Æ¨m_admö_hdr
{

888 
u8_t
 
	mbønch
;

889 
u16_t
 
	mÀaf
;

890 
u8_t
 
	mwidth
;

891 }
__©åibuã__
((
∑cked
));

892 
ﬂm_Æ¨m_admö_hdr
 
	tﬂm_Æ¨m_admö_hdr_t
;

894 
	sﬂm_Æ¨m_admö_íåy
{

895 
u16_t
 
	mÆ¨m_id
;

896 
u32_t
 
	mÆ¨m_c⁄fig
;

897 }
__©åibuã__
((
∑cked
));

898 
ﬂm_Æ¨m_admö_íåy
 
	tﬂm_Æ¨m_admö_íåy_t
;

900 
	sﬂm_Æ¨m_thªshﬁd_hdr
{

901 
u8_t
 
	mbønch
;

902 
u16_t
 
	mÀaf
;

903 
u8_t
 
	mwidth
;

904 }
__©åibuã__
((
∑cked
));

905 
ﬂm_Æ¨m_thªshﬁd_hdr
 
	tﬂm_Æ¨m_thªshﬁd_hdr_t
;

907 
	sﬂm_Æ¨m_thªshﬁd_íåy
{

908 
u16_t
 
	mÆ¨m_id
;

909 
i32_t
 
	møisög_thªshﬁd
;

910 
i32_t
 
	mÁŒög_thªshﬁd
;

911 }
__©åibuã__
((
∑cked
));

912 
ﬂm_Æ¨m_thªshﬁd_íåy
 
	tﬂm_Æ¨m_thªshﬁd_íåy_t
;

914 
	sÆ¨m_cfg
{

915 
u16_t
 
	mÆ¨m_id
;

916 
u32_t
 
	míabÀ_°©us
;

917 
u32_t
 
	møisög_thªshﬁd
;

918 
u32_t
 
	mÁŒög_thªshﬁd
;

919 }
__©åibuã__
((
∑cked
));

920 
Æ¨m_cfg
 
	tÆ¨m_cfg_t
;

923 
	sﬂm_üd_öfo
{

924 
u8_t
 
	mbønch
;

925 
u16_t
 
	mÀaf
;

926 
u8_t
 
	mwidth
;

927 
u8_t
 
	mmac
[6];

928 
u8_t
 
	m¥Ÿocﬁ_suµ‹t
;

929 
u8_t
 
	müd_sw_vîsi⁄
[32];

930 
u8_t
 
	müd_sw_time
[32];

931 
u8_t
 
	mvoù_u£r_cou¡
;

932 }
__©åibuã__
((
∑cked
));

933 
ﬂm_üd_öfo
 
	tﬂm_üd_öfo_t
;

935 
	sﬂm_globÆ_∑ø_cfg
{

936 
u8_t
 
	mbønch
;

937 
u16_t
 
	mÀaf
;

938 
u8_t
 
	mwidth
;

939 
u8_t
 
	mvoi˚_ù_mode
;

940 
u32_t
 
	müd_ùaddr
;

941 
u32_t
 
	müd_√tmask
;

942 
u32_t
 
	müd_deÁu…gw
;

943 
u8_t
 
	mµp€_mode
;

944 
u8_t
 
	mµp€_u£∫ame
[32];

945 
u8_t
 
	mµp€_∑sswd
[32];

946 
u8_t
 
	mègged_Êag
;

947 
u16_t
 
	mvoi˚_cvœn
;

948 
u16_t
 
	mvoi˚_svœn
;

949 
u8_t
 
	mvoi˚_¥i‹ôy
;

950 }
__©åibuã__
((
∑cked
));

951 
ﬂm_globÆ_∑ø_cfg
 
	tﬂm_globÆ_∑ø_cfg_t
;

953 
	sﬂm_h248_∑ø_cfg
{

954 
u8_t
 
	mbønch
;

955 
u16_t
 
	mÀaf
;

956 
u8_t
 
	mwidth
;

957 
u16_t
 
	mmg_p‹t_no
;

958 
u32_t
 
	mmgc_ù
;

959 
u16_t
 
	mmgc_com_p‹t_no
;

960 
u32_t
 
	mbackup_mgc_ù
;

961 
u16_t
 
	mbackup_mgc_com_p‹t_no
;

962 
u8_t
 
	ma˘ive_mgc
;

963 
u8_t
 
	mªg_mode
;

964 
u8_t
 
	mmid
[64];

965 
u8_t
 
	mhóπ_bót_mode
;

966 
u16_t
 
	mhóπ_bót_cy˛e
;

967 
u8_t
 
	mhóπ_bót_cou¡
;

968 }
__©åibuã__
((
∑cked
));

969 
ﬂm_h248_∑ø_cfg
 
	tﬂm_h248_∑ø_cfg_t
;

971 
	sﬂm_h248_u£r_tid_cfg
{

972 
u8_t
 
	mbønch
;

973 
u16_t
 
	mÀaf
;

974 
u8_t
 
	mwidth
;

975 
u8_t
 
	mu£r_tid_«me
[16];

976 }
__©åibuã__
((
∑cked
));

977 
ﬂm_h248_u£r_tid_cfg
 
	tﬂm_h248_u£r_tid_cfg_t
;

979 
	sﬂm_h248_πp_tid_cfg
{

980 
u8_t
 
	mbønch
;

981 
u16_t
 
	mÀaf
;

982 
u8_t
 
	mwidth
;

983 
u8_t
 
	mnum_of_πp_tid
;

984 
u8_t
 
	mπp_tid_¥efix
[16];

985 
u8_t
 
	mπp_tid_digô_begö
[8];

986 
u8_t
 
	mπp_tid_mode
;

987 
u8_t
 
	mπp_tid_digô_Àn
;

988 }
__©åibuã__
((
∑cked
));

989 
ﬂm_h248_πp_tid_cfg
 
	tﬂm_h248_πp_tid_cfg_t
;

991 
	sﬂm_h248_πp_tid_öfo
{

992 
u8_t
 
	mbønch
;

993 
u16_t
 
	mÀaf
;

994 
u8_t
 
	mwidth
;

995 
u8_t
 
	mnum_of_πp_tid
;

996 
u8_t
 
	mfú°_πp_tid_«me
[32];

997 }
__©åibuã__
((
∑cked
));

998 
ﬂm_h248_πp_tid_öfo
 
	tﬂm_h248_πp_tid_öfo_t
;

1000 
	sﬂm_sù_∑ø_cfg
{

1001 
u8_t
 
	mbønch
;

1002 
u16_t
 
	mÀaf
;

1003 
u8_t
 
	mwidth
;

1004 
u16_t
 
	mmg_p‹t_no
;

1005 
u32_t
 
	msù_¥oxy_£rvî_ù
;

1006 
u16_t
 
	msù_¥oxy_£rvî_com_p‹t_no
;

1007 
u32_t
 
	mbackup_sù_¥oxy_£rv_ù
;

1008 
u16_t
 
	mbackup_sù_¥oxy_£rv_com_p‹t_no
;

1009 
u32_t
 
	ma˘ive_sù_¥oxy_£rvî
;

1010 
u32_t
 
	msù_ªg_£rvî_ù
;

1011 
u16_t
 
	msù_ªg_£rvî_com_p‹t_no
;

1012 
u32_t
 
	mbackup_sù_ªg_£rvî_ù
;

1013 
u16_t
 
	mbackup_sù_ªg_£rvî_com_p‹t_no
;

1014 
u32_t
 
	moutbound_£rvî_ù
;

1015 
u16_t
 
	moutbound_£rvî_p‹t_no
;

1016 
u32_t
 
	msù_ªg_öãrvÆ
;

1017 
u8_t
 
	mhóπbót_swôch
;

1018 
u16_t
 
	mhóπbót_cy˛e
;

1019 
u16_t
 
	mhóπbót_cou¡
;

1020 }
__©åibuã__
((
∑cked
));

1021 
ﬂm_sù_∑ø_cfg
 
	tﬂm_sù_∑ø_cfg_t
;

1023 
	sﬂm_sù_u£r_∑ø_cfg
{

1024 
u8_t
 
	mbønch
;

1025 
u16_t
 
	mÀaf
;

1026 
u8_t
 
	mwidth
;

1027 
u8_t
 
	mu£r_accou¡
[16];

1028 
u8_t
 
	mu£r_«me
[32];

1029 
u8_t
 
	mu£r_∑sswd
[16];

1030 }
__©åibuã__
((
∑cked
));

1031 
ﬂm_sù_u£r_∑ø_cfg
 
	tﬂm_sù_u£r_∑ø_cfg_t
;

1033 
	sﬂm_Áx_modem_cfg
{

1034 
u8_t
 
	mbønch
;

1035 
u16_t
 
	mÀaf
;

1036 
u8_t
 
	mwidth
;

1037 
u8_t
 
	mvoi˚_t38_íabÀ
;

1038 
u8_t
 
	mvoi˚_Áx_modem_c⁄åﬁ
;

1039 }
__©åibuã__
((
∑cked
));

1040 
ﬂm_Áx_modem_cfg
 
	tﬂm_Áx_modem_cfg_t
;

1042 
	sﬂm_h248_üd_›î_°©us
{

1043 
u8_t
 
	mbønch
;

1044 
u16_t
 
	mÀaf
;

1045 
u8_t
 
	mwidth
;

1046 
u32_t
 
	müd_›î_°©us
;

1047 }
__©åibuã__
((
∑cked
));

1048 
ﬂm_h248_üd_›î_°©us
 
	tﬂm_h248_üd_›î_°©us_t
;

1050 
	sﬂm_pŸs_°©us
{

1051 
u8_t
 
	mbønch
;

1052 
u16_t
 
	mÀaf
;

1053 
u8_t
 
	mwidth
;

1054 
u32_t
 
	müd_p‹t_°©us
;

1055 
u32_t
 
	müd_p‹t_£rvi˚_°©e
;

1056 
u32_t
 
	müd_p‹t_codec_mode
;

1057 }
__©åibuã__
((
∑cked
));

1058 
ﬂm_pŸs_°©us
 
	tﬂm_pŸs_°©us_t
;

1060 
	sﬂm_üd_›î©i⁄
{

1061 
u8_t
 
	mbønch
;

1062 
u16_t
 
	mÀaf
;

1063 
u8_t
 
	mwidth
;

1064 
u32_t
 
	müd_›î©i⁄
;

1065 }
__©åibuã__
((
∑cked
));

1066 
ﬂm_üd_›î©i⁄
 
	tﬂm_üd_›î©i⁄_t
;

1068 
	sﬂm_sù_digô_m≠
{

1069 
u8_t
 
	mbønch
;

1070 
u16_t
 
	mÀaf
;

1071 
u8_t
 
	mwidth
;

1072 
u8_t
 
	msù_digô_m≠
[1024];

1073 }
__©åibuã__
((
∑cked
));

1074 
ﬂm_sù_digô_m≠
 
	tﬂm_sù_digô_m≠_t
;

1077 
	sﬂm_Œid_queue_cfg
{

1078 
u8_t
 
	mbønch
;

1079 
u16_t
 
	mÀaf
;

1080 
u8_t
 
	mwidth
;

1081 
u8_t
 
	mnum_of_queue
;

1082 }
__©åibuã__
((
∑cked
));

1083 
ﬂm_Œid_queue_cfg
 
	tﬂm_Œid_queue_cfg_t
;

1085 
	sﬂm_Œid_queue_cfg_íåy
{

1086 
u16_t
 
	mqueue_id
;

1087 
u16_t
 
	mqueue_weight
;

1088 }
__©åibuã__
((
∑cked
));

1089 
ﬂm_Œid_queue_cfg_íåy
 
	tﬂm_Œid_queue_cfg_íåy_t
;

1091 
	sﬂm_mxu_mng_globÆ_∑ø
{

1092 
u32_t
 
	mmng_ù_addr
;

1093 
u32_t
 
	mmng_ù_mask
;

1094 
u32_t
 
	mmng_gw
;

1095 
u16_t
 
	mmng_d©a_cvœn
;

1096 
u16_t
 
	mmng_d©a_svœn
;

1097 
u8_t
 
	mmng_d©a_¥i‹ôy
;

1098 }
__©åibuã__
((
∑cked
));

1099 
ﬂm_mxu_mng_globÆ_∑ø
 
	tﬂm_mxu_mng_globÆ_∑ø_t
;

1101 
	sﬂm_mxu_mng_¢mp_∑ø
{

1102 
u8_t
 
	mbønch
;

1103 
u16_t
 
	mÀaf
;

1104 
u8_t
 
	mwidth
;

1105 
u8_t
 
	m¢mp_vî
;

1106 
u32_t
 
	må≠_ho°_ù
;

1107 
u16_t
 
	må≠_p‹t
;

1108 
u16_t
 
	m¢mp_p‹t
;

1109 
u8_t
 
	m£curôy_«me
[32];

1110 
u8_t
 
	mcommunôy_f‹_ªad
[32];

1111 
u8_t
 
	mcommunôy_f‹_wrôe
[32];

1112 }
__©åibuã__
((
∑cked
));

1113 
ﬂm_mxu_mng_¢mp_∑ø
 
	tﬂm_mxu_mng_¢mp_∑ø_t
;

1115 
	sﬂm_phy_admö°©e
 {

1116 
u8_t
 
	mbønch
;

1117 
u16_t
 
	mÀaf
;

1118 
u8_t
 
	mwidth
;

1119 
u32_t
 
	mvÆue
;

1120 }
__©åibuã__
((
∑cked
));

1121 
ﬂm_phy_admö°©e
 
	tﬂm_phy_admö°©e_t
;

1123 
	sﬂm_phy_admöc⁄åﬁ
 {

1124 
u8_t
 
	mbønch
;

1125 
u16_t
 
	mÀaf
;

1126 
u8_t
 
	mwidth
;

1127 
u32_t
 
	mvÆue
;

1128 }
__©åibuã__
((
∑cked
));

1129 
ﬂm_phy_admöc⁄åﬁ
 
	tﬂm_phy_admöc⁄åﬁ_t
;

1131 
	sﬂm_aut⁄eg_admö°©e
 {

1132 
u8_t
 
	mbønch
;

1133 
u16_t
 
	mÀaf
;

1134 
u8_t
 
	mwidth
;

1135 
u32_t
 
	mvÆue
;

1136 }
__©åibuã__
((
∑cked
));

1137 
ﬂm_aut⁄eg_admö°©e
 
	tﬂm_aut⁄eg_admö°©e_t
;

1139 
	sﬂm_aut⁄eg_loˇœbûôy
 {

1140 
u8_t
 
	mbønch
;

1141 
u16_t
 
	mÀaf
;

1142 
u8_t
 
	mwidth
;

1143 
u32_t
 
	mnumbî
;

1144 
u32_t
 
	mfú°
;

1145 
u32_t
 
	m£c⁄d
;

1146 
u32_t
 
	mthúd
;

1147 
u32_t
 
	mfouπh
;

1148 
u32_t
 
	mfi·h
;

1149 
u32_t
 
	msixth
;

1150 
u32_t
 
	m£víth
;

1151 
u32_t
 
	meighth
;

1152 }
__©åibuã__
((
∑cked
));

1153 
ﬂm_aut⁄eg_loˇœbûôy
 
	tﬂm_aut⁄eg_loˇœbûôy_t
;

1155 
	sﬂm_aut⁄eg_advabûôy
 {

1156 
u8_t
 
	mbønch
;

1157 
u16_t
 
	mÀaf
;

1158 
u8_t
 
	mwidth
;

1159 
u32_t
 
	mnumbî
;

1160 
u32_t
 
	mfú°
;

1161 
u32_t
 
	m£c⁄d
;

1162 
u32_t
 
	mthúd
;

1163 
u32_t
 
	mfouπh
;

1164 
u32_t
 
	mfi·h
;

1165 
u32_t
 
	msixth
;

1166 
u32_t
 
	m£víth
;

1167 
u32_t
 
	meighth
;

1168 }
__©åibuã__
((
∑cked
));

1169 
ﬂm_aut⁄eg_advabûôy
 
	tﬂm_aut⁄eg_advabûôy_t
;

1171 
	sﬂm_aut⁄eg_ª°¨t
 {

1172 
u8_t
 
	mbønch
;

1173 
u16_t
 
	mÀaf
;

1174 }
__©åibuã__
((
∑cked
));

1175 
ﬂm_aut⁄eg_ª°¨t
 
	tﬂm_aut⁄eg_ª°¨t_t
;

1177 
	sﬂm_aut⁄eg_admöc⁄åﬁ
 {

1178 
u8_t
 
	mbønch
;

1179 
u16_t
 
	mÀaf
;

1180 
u8_t
 
	mwidth
;

1181 
u32_t
 
	mödiˇti⁄
;

1182 }
__©åibuã__
((
∑cked
));

1183 
ﬂm_aut⁄eg_admöc⁄åﬁ
 
	tﬂm_aut⁄eg_admöc⁄åﬁ_t
;

1185 
	sﬂm_„c_ˇ∑bûôy
 {

1186 
u8_t
 
	mbønch
;

1187 
u16_t
 
	mÀaf
;

1188 
u8_t
 
	mwidth
;

1189 
u32_t
 
	mödiˇti⁄
;

1190 }
__©åibuã__
((
∑cked
));

1191 
ﬂm_„c_ˇ∑bûôy
 
	tﬂm_„c_ˇ∑bûôy_t
;

1193 
	sﬂm_„c_mode
 {

1194 
u8_t
 
	mbønch
;

1195 
u16_t
 
	mÀaf
;

1196 
u8_t
 
	mwidth
;

1197 
u32_t
 
	mvÆue
;

1198 }
__©åibuã__
((
∑cked
));

1199 
ﬂm_„c_mode
 
	tﬂm_„c_mode_t
;

1201 
	sﬂm_ö°™˚_év
 {

1202 
u8_t
 
	mbønch
;

1203 
u16_t
 
	mÀaf
;

1204 
u8_t
 
	mwidth
;

1205 
u32_t
 
	mvÆue
;

1206 }
__©åibuã__
((
∑cked
));

1207 
ﬂm_ö°™˚_év
 
	tﬂm_ö°™˚_év_t
;

1209 
	sﬂm_ö°™˚_év_2_0
 {

1210 
u8_t
 
	mbønch
;

1211 
u16_t
 
	mÀaf
;

1212 
u8_t
 
	mwidth
;

1213 
u8_t
 
	mvÆue
;

1214 }
__©åibuã__
((
∑cked
));

1215 
ﬂm_ö°™˚_év_2_0
 
	tﬂm_ö°™˚_év_t_2_0
;

1217 
	sﬂm_v¨übÀ_des¸ùt‹
 {

1218 
u8_t
 
	mbønch
;

1219 
u16_t
 
	mÀaf
;

1220 }
__©åibuã__
((
∑cked
));

1221 
ﬂm_v¨übÀ_des¸ùt‹
 
	tﬂm_v¨übÀ_des¸ùt‹_t
;

1223 
	sﬂm_£t_ª•⁄£
 {

1224 
u8_t
 
	mbønch
;

1225 
u16_t
 
	mÀaf
;

1226 
u8_t
 
	mödiˇti⁄
;

1227 }
__©åibuã__
((
∑cked
));

1228 
ﬂm_£t_ª•⁄£
 
	tﬂm_£t_ª•⁄£_t
;

1230 
	sﬂm_dba_queue
 {

1231 
u8_t
 
	mbôm≠
;

1232 
u16_t
 
	mthªshﬁd
[8];

1233 }
__©åibuã__
((
∑cked
));

1234 
ﬂm_dba_queue
 
	tﬂm_dba_queue_t
;

1236 
	sﬂm_p‹t_lo›_dëe˘
{

1237 
u8_t
 
	mbønch
;

1238 
u16_t
 
	mÀaf
;

1239 
u8_t
 
	mwidth
;

1240 
u32_t
 
	m°©e
;

1241 }
__©åibuã__
((
∑cked
));

1242 
ﬂm_p‹t_lo›_dëe˘
 
	tﬂm_p‹t_lo›_dëe˘_t
;

1244 
	sﬂm_vœn_c⁄fig
 {

1245 
u8_t
 
	mbønch
;

1246 
u16_t
 
	mÀaf
;

1247 
u8_t
 
	mwidth
;

1248 
u8_t
 
	mmode
;

1249 }
__©åibuã__
((
∑cked
));

1250 
ﬂm_vœn_c⁄fig
 
	tﬂm_vœn_c⁄fig_t
;

1251 
	sﬂm_vœn_å™¶©i⁄
 {

1252 
u32_t
 
	mﬁd_íåy
;

1253 
u32_t
 
	m√w_íåy
;

1254 }
__©åibuã__
((
∑cked
));

1255 
ﬂm_vœn_å™¶©i⁄
 
	tﬂm_vœn_å™¶©i⁄_t
;

1257 
	sﬂm_˘c_auth_ªq
{

1258 
u8_t
 
	mauth_code
;

1259 
u16_t
 
	md©Æí
;

1260 
u8_t
 
	mauth_ty≥
;

1261 }
__©åibuã__
((
∑cked
));

1262 
ﬂm_˘c_auth_ªq
 
	tﬂm_˘c_auth_ªq_t
;

1264 
	sﬂm_˘c_auth_r•
 {

1265 
u8_t
 
	mauth_code
;

1266 
u16_t
 
	md©a_Àn
;

1267 
u8_t
 
	mauth_ty≥
;

1268 
u8_t
 
	mloid
[24];

1269 
u8_t
 
	m∑ssw‹d
[12];

1270 }
__©åibuã__
((
∑cked
));

1271 
ﬂm_˘c_auth_r•
 
	tﬂm_˘c_auth_r•_t
;

1273 
	sﬂm_⁄u_tx_powî_suµly_˘æ
 {

1274 
u8_t
 
	mbønch
;

1275 
u16_t
 
	mÀaf
;

1276 
u8_t
 
	mwidth
;

1277 
u32_t
 
	ma˘i⁄
;

1278 
u8_t
 
	m⁄u_id
[6];

1279 
u32_t
 
	m›tiˇl_å™smôãr_id
;

1280 }
__©åibuã__
((
∑cked
));

1281 
ﬂm_⁄u_tx_powî_suµly_˘æ
 
	tﬂm_⁄u_tx_powî_suµly_˘æ_t
;

1283 
	sTIMER_UNIT_s


1285 vﬁ©ûê
u32_t
 
	muiC¡
;

1286 
	miFœg
;

1287 vﬁ©ûê
	miSèπ
;

1288 }
	tTIMER_UNIT_t
;

1290 
	sTFTP_DATA_s


1292 
u8_t
 
	maucD©aBlock
[1400];

1293 
u16_t
 
	musLí
;

1294 
TFTP_DATA_s
 *
	mp°Next
;

1295 }
	tTFTP_DATA_t
;

1297 
	sSOFT_DOWNLOAD_HD_MASK_s


1299 
u8_t
 
	mucTy≥
;

1300 
u16_t
 
	musLí
;

1301 
u16_t
 
	musTid
;

1302 
u8_t
 
	maucMsg
[1];

1303 }
	t__©åibuã__
((
	t∑cked
))
	tSOFT_DOWNLOAD_HD_MASK_t
;

1305 
	sTFTP_FILE_s


1307 
u8_t
 
	maucFûeName
[256];

1308 
u8_t
 
	mucNameLí
;

1309 
u16_t
 
	musBlock1
;

1310 
u16_t
 
	musBlock2
;

1311 
u8_t
 
	mucDow∆ﬂd
;

1312 
u8_t
 
	mucFœsh
;

1313 
u32_t
 
	muiFûeSize
;

1314 
TFTP_DATA_t
 *
	mp°D©a
;

1315 
TFTP_DATA_t
 *
	mp°D©aEnd
;

1316 }
	tTFTP_FILE_t
;

1318 
	sﬂm_ívë_hdr
{

1319 
u8_t
 
	mevít_ty≥
;

1320 
u8_t
 
	mevít_Àn
;

1321 
u16_t
 
	mevít_°amp
;

1322 }
__©åibuã__
((
∑cked
));

1323 
ﬂm_ívë_hdr
 
	tﬂm_ívë_hdr_t
;

1326 
	sÆ¨m_ﬂmpdu_hdr
 {

1327 
u8_t
 
	mde°
[6];

1328 
u8_t
 
	m§c
[6];

1329 
u8_t
 
	mÀngth
[2];

1330 
u8_t
 
	msubty≥
;

1331 
u16_t
 
	mÊags
;

1332 
u8_t
 
	mpcode
;

1333 
u16_t
 
	m£qno
;

1334 }
__©åibuã__
((
∑cked
));

1335 
Æ¨m_ﬂmpdu_hdr
 
	tÆ¨m_ﬂmpdu_hdr_t
;

1337 
	sﬂm_îr_sym_≥riod_hdr
{

1338 
u64_t
 
	msym_wödow
;

1339 
u64_t
 
	msym_thrsh
;

1340 
u64_t
 
	msym_îr_vÆue
;

1341 
u64_t
 
	mîr_tŸÆ
;

1342 
u32_t
 
	mevít_tŸÆ
;

1343 }
__©åibuã__
((
∑cked
));

1344 
ﬂm_îr_sym_≥riod_hdr
 
	tﬂm_îr_sym_≥riod_hdr_t
;

1346 
	sﬂm_îr_‰m_≥riod_hdr
{

1347 
u32_t
 
	m‰m_wödow
;

1348 
u32_t
 
	m‰m_thrsh
;

1349 
u32_t
 
	m‰m_îr_vÆue
;

1350 
u64_t
 
	mîr_tŸÆ
;

1351 
u32_t
 
	mevít_tŸÆ
;

1352 }
__©åibuã__
((
∑cked
));

1353 
ﬂm_îr_‰m_≥riod_hdr
 
	tﬂm_îr_‰m_≥riod_hdr_t
;

1355 
	sﬂm_îr_‰m_hdr
{

1356 
u16_t
 
	m‰m_öãrvÆ_wödow
;

1357 
u32_t
 
	m‰m_thrsh
;

1358 
u32_t
 
	m‰m_îr_vÆue
;

1359 
u64_t
 
	mîr_tŸÆ
;

1360 
u32_t
 
	mevít_tŸÆ
;

1361 }
__©åibuã__
((
∑cked
));

1362 
ﬂm_îr_‰m_hdr
 
	tﬂm_îr_‰m_hdr_t
;

1364 
	sﬂm_îr_‰m_£c_hdr
{

1365 
u16_t
 
	m‰m_£c_wödow
;

1366 
u16_t
 
	m‰m_£c_thrsh
;

1367 
u16_t
 
	m‰m_£c_îr_vÆue
;

1368 
u32_t
 
	m£c_îr_tŸÆ
;

1369 
u32_t
 
	mevít_tŸÆ
;

1370 }
__©åibuã__
((
∑cked
));

1371 
ﬂm_îr_‰m_£c_hdr
 
	tﬂm_îr_‰m_£c_hdr_t
;

1373 
	sÆ¨m_ﬂm_wödow


1375 
u64_t
 
	muŒSym_îr_¥d_wödow
;

1376 
u32_t
 
	mulFrm_îr_¥d_wödow
;

1377 
u16_t
 
	musEº_‰m_wödow
;

1378 
u16_t
 
	musEº_‰m_£c_wödow
;

1379 }
	tÆ¨m_ﬂm_wödow_t
;

1381 
	sÆ¨m_ﬂm_thrsh


1383 
u64_t
 
	muŒSym_îr_¥d_thrsh
;

1384 
u32_t
 
	mulFrm_îr_¥d_thrsh
;

1385 
u32_t
 
	mulEº_‰m_thrsh
;

1386 
u16_t
 
	musEº_‰m_£c_thrsh
;

1387 }
	tÆ¨m_ﬂm_thrsh_t
;

1391 
u8_t
 
	mucD©aLígth
;

1392 
u32_t
 
	mulD©a
;

1393 } 
	t©å_°©i°ics_t
;

1395 
	sﬂm_˛asm¨k_loˇl
 {

1396 
ﬂm_˛asm¨k_ruÀbody_t
 
	mClsRuÀ
[8];

1397 
ﬂm_˛asm¨k_fõldbody_t
 
	mClsFõld
[8];

1398 }
__©åibuã__
((
∑cked
));

1399 
ﬂm_˛asm¨k_loˇl
 
	tﬂm_˛asm¨k_loˇl_t
;

1402 
	sCLS_CONFIG_INFO_s


1404 
u8_t
 
	mvÆid
;

1405 
u8_t
 
	mruÀPri
;

1407 
u32_t
 
	md°MacFœg
:1;

1408 
u32_t
 
	m§cMacFœg
:1;

1409 
u32_t
 
	mëhîPriFœg
:1;

1410 
u32_t
 
	mvœnIdFœg
:1;

1411 
u32_t
 
	md°IpFœg
:1;

1412 
u32_t
 
	m§cIpFœg
:1;

1413 
u32_t
 
	mùTy≥Fœg
:1;

1414 
u32_t
 
	mùV4Ds˝Fœg
:1;

1415 
u32_t
 
	mùV6PªFœg
:1;

1416 
u32_t
 
	m§cL4P‹tFœg
:1;

1417 
u32_t
 
	md°L4P‹tFœg
:1;

1418 
u32_t
 
	mrsvFœg
:21;

1421 
u8_t
 
	mlowR™ge
[6];

1422 
u8_t
 
	mhighR™ge
[6];

1423 }
	md°Mac
;

1426 
u8_t
 
	mlowR™ge
[6];

1427 
u8_t
 
	mhighR™ge
[6];

1428 }
	m§cMac
;

1431 
u8_t
 
	mlowR™ge
;

1432 
u8_t
 
	mhighR™ge
;

1433 }
	mëhîPri
;

1436 
u16_t
 
	mlowR™ge
;

1437 
u16_t
 
	mhighR™ge
;

1438 }
	mvœnId
;

1441 
u32_t
 
	mlowR™ge
;

1442 
u32_t
 
	mhighR™ge
;

1443 }
	md°Ip
;

1446 
u32_t
 
	mlowR™ge
;

1447 
u32_t
 
	mhighR™ge
;

1448 }
	m§cIp
;

1451 
u8_t
 
	mlowR™ge
;

1452 
u8_t
 
	mhighR™ge
;

1453 }
	mùTy≥
;

1456 
u8_t
 
	mlowR™ge
;

1457 
u8_t
 
	mhighR™ge
;

1458 }
	mùV4Ds˝
;

1461 
u8_t
 
	mlowR™ge
;

1462 
u8_t
 
	mhighR™ge
;

1463 }
	mùV6Pª
;

1466 
u16_t
 
	mlowR™ge
;

1467 
u16_t
 
	mhighR™ge
;

1468 }
	m§cL4P‹t
;

1471 
u16_t
 
	mlowR™ge
;

1472 
u16_t
 
	mhighR™ge
;

1473 }
	md°L4P‹t
;

1475 
u8_t
 
	md°MacOp
;

1476 
u8_t
 
	m§cMacOp
;

1477 
u8_t
 
	mëhîPriOp
;

1478 
u8_t
 
	mvœnIdOp
;

1479 
u8_t
 
	md°IpOp
;

1480 
u8_t
 
	m§cIpOp
;

1481 
u8_t
 
	mùTy≥Op
;

1482 
u8_t
 
	mùV4Ds˝Op
;

1483 
u8_t
 
	mùV6PªOp
;

1484 
u8_t
 
	m§cL4P‹tOp
;

1485 
u8_t
 
	md°L4P‹tOp
;

1486 }
	tCLS_CONFIG_INFO_t
;

1490 
	mONU_DSTMAC
,

1491 
	mONU_SRCMAC
,

1492 
	mONU_COS
,

1493 
	mONU_VID
,

1494 
	mONU_TYPE
,

1495 
	mONU_DSTIP
,

1496 
	mONU_SRCIP
,

1497 
	mONU_IPPRO
,

1498 
	mONU_IPTOS
,

1499 
	mONU_IPPRE
,

1500 
	mONU_SRCPORT
,

1501 
	mONU_DSTPORT


1502 }
	tONU_CLASS_FIELD_ID
;

1504 
	eOAM_VER_SUPPORT_e
{

1505 
	mOAM_VER_CTC_0_1_SUPPORT
 ,

1506 
	mOAM_VER_CTC_2_0_SUPPORT
 ,

1507 
	mOAM_VER_CTC_2_1_SUPPORT
 ,

1508 
	mOAM_VER_CTC_20_21_MIX_SUPPORT
 ,

1509 
	mOAM_VER_NTT_SUPPORT
 ,

1510 
	mOAM_VER_MAX
 ,

1513 
OAM_VER_SUPPORT_e
 
	tOAM_VER_SUPPORT_t
;

1514 
e›l_ﬂm_pdu_ª˚ive
 (
u8_t
 *
pucFømeIn
, 
u16_t
 
usFømeLí
);

1528 
e›l_ﬂm_öfo_év
(
u8_t
 *
±r
, u8_à
ty≥
);

1544 
e›l_ﬂm_pdu_hdr
(
u8_t
 *
±r
, 
u16_t
 
Êags
, u8_à
pcode
);

1558 
ﬂm_pdu_∑ddög
–
u8_t
 *
±r
, 
u16_t
 
Àn
 );

1572 
e›l_ﬂm_Áu…_°©e
(
e›l_ﬂm_evít_t
 
evít
);

1584 
e›l_ﬂm_timî_¥o˚ss
();

1596 
e›l_ﬂm_öô
();

1608 
e›l_ﬂm_pdu_¥o˚ss
(
u16_t
 
‰amñí
);

1621 
e›l_ﬂm_°©e_machöe
(
e›l_ﬂm_evít_t
 
evít
);

1622 
e›l_˘c_pdu_¥o˚ss
(
u8_t
 *
p_byã
,
u16_t
 
Àngth
);

1623 
OamFømeSíd
(
u8_t
 *
pucFøme
, 
u16_t
 
usFrmLí
);

1624 
e›l_£t_⁄u_˛assify_£t
(
u8_t
* 
p_ö
, u8_à
ucP‹t
);

1625 
SèπLökLo°Timî
 ();

1626 
St›LökLo°Timî
 ();

1627 
LökLo°H™dÀr
 (
sig«l_numbî
);

1628 
OamDbgE«bÀ
 (
u8_t
 
ucE«bÀ
);

1629 
OamV¨Req
 (
u8_t
 *
pucD©a
);

1630 
OamLo›back
(
u8_t
 *
pucD©a
);

1631 
OamV¨Aâr
 (
u8_t
 *
pucD©a
);

1632 
OamGëFrmTxOk
();

1633 
OamE«bÀLp
();

1634 
OamDißbÀLp
();

1635 
OamTimîThªad
();

1636 
TimîUnô
(
sig«l
);

1637 
OamO∂R°Cfg
(
u8_t
 
ucEndis
, 
u16_t
 
usFœg
, u8_à
ucCode
, 
u32_t
 
uiPayLﬂd
);

1638 
OamDyga•Cfg
();

1639 
OamSètusGë
(
u8_t
 *
pSèã
);

1641 
	#OAM_DBG
(
FMT
, ...) \

1643 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1644 } 0)

	)

1646 
	#OAM_INFO
(
FMT
, ...) \

1648 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1649 } 0)

	)

1651 
	#OAM_WRN
(
FMT
, ...) \

1653 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1654 } 0)

	)

1655 
	#OAM_TRACE
(Ë
	`OAM_DBG
("\r\n####### E¡î %† [%d] #######\r\n",
__FUNCTION__
,
__LINE__
 )

	)

1657 
	#OAM_DBG
(
FMT
, ...)

	)

1658 
	#OAM_INFO
(
FMT
, ...)

	)

1659 
	#OAM_WRN
(
FMT
, ...)

	)

1660 
	#OAM_TRACE
()

	)

1665 #i‚de‡
OAM_SUPPORT_REG_CALLBACK


1666 
	#OAM_SUPPORT_REG_CALLBACK


	)

1670 
	eègOLT_FLAG


1672 
	mOLT_FLAG_CTC
 = 0,

1673 
	mOLT_FLAG_H3C
,

1674 
	mOLT_FLAG_ZTE
,

1675 
	mOLT_FLAG_HUAWEI
,

1676 
	mOLT_FLAG_YOTC
,

1677 
	mOLT_FLAG_BDCOM
,

1678 
	mOLT_FLAG_RAISECOM
,

1679 
	mOLT_FLAG_FIBERHOME
,

1680 
	mOLT_FLAG_BUTT


1681 }
	tOLT_FLAG_E
;

1683 
	eOAM_CTC_CLS_FIELD_TYPE_s


1685 
	mOAM_CTC_CLS_FIELD_TYPE_DA_MAC
,

1686 
	mOAM_CTC_CLS_FIELD_TYPE_SA_MAC
,

1687 
	mOAM_CTC_CLS_FIELD_TYPE_ETH_PRI
,

1688 
	mOAM_CTC_CLS_FIELD_TYPE_VLAN_ID
,

1689 
	mOAM_CTC_CLS_FIELD_TYPE_ETHER_TYPE
,

1690 
	mOAM_CTC_CLS_FIELD_TYPE_DST_IP
,

1691 
	mOAM_CTC_CLS_FIELD_TYPE_SRC_IP
,

1692 
	mOAM_CTC_CLS_FIELD_TYPE_IP_TYPE
,

1693 
	mOAM_CTC_CLS_FIELD_TYPE_IP_DSCP
,

1694 
	mOAM_CTC_CLS_FIELD_TYPE_IP_PRECEDENCE
,

1695 
	mOAM_CTC_CLS_FIELD_TYPE_L4_SRC_PORT
,

1696 
	mOAM_CTC_CLS_FIELD_TYPE_L4_DST_PORT


1697 }
	tOAM_CTC_CLS_FIELD_TYPE_s
;

1698 
	eOAM_CTC_CLS_FIELD_OPERATOR_s


1700 
	mOAM_CTC_CLS_FIELD_OPERATOR_NEVER_MATCH
,

1701 
	mOAM_CTC_CLS_FIELD_OPERATOR_EQUAL
,

1702 
	mOAM_CTC_CLS_FIELD_OPERATOR_NOT_EQUAL
,

1703 
	mOAM_CTC_CLS_FIELD_OPERATOR_LESS_OR_EQUAL
,

1704 
	mOAM_CTC_CLS_FIELD_OPERATOR_GRATER_OR_EQUAL
,

1705 
	mOAM_CTC_CLS_FIELD_OPERATOR_EXIST
,

1706 
	mOAM_CTC_CLS_FIELD_OPERATOR_NOT_EXIST
,

1707 
	mOAM_CTC_CLS_FIELD_OPERATOR_ALWAYS_MATCH
,

1708 }
	tOAM_CTC_CLS_FIELD_OPERATOR_e
;

1710 
m_abAutoNegE«bÀ
[
CTC_MAX_SUBPORT_NUM
 + 1];

1711 
OamCÃPeúodSèts
();

1713 #ifde‡
OAM_SUPPORT_REG_CALLBACK


1715 
	#IN


	)

1716 
	#OUT


	)

1718 
	#OAM_DBG
(
FMT
, ...) \

1720 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1721 } 0)

	)

1723 
	#OAM_INFO
(
FMT
, ...) \

1725 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1726 } 0)

	)

1728 
	#OAM_WRN
(
FMT
, ...) \

1730 
	`sysLogDebug
(
MODULE
, 
DEBUG_LEVEL_DEBUGGING
, 
FMT
, ##
__VA_ARGS__
); \

1731 } 0)

	)

1733 
	#OAM_TRACE
(Ë
	`OAM_DBG
("\r\n####### E¡î %† [%d] #######\r\n",
__FUNCTION__
,
__LINE__
 )

	)

1736 (* 
	tevít_ˇŒback
)(
	tu8_t
 * 
	tp_ö_buf
,u8_à* 
	tp_out_buf
);

1738 (* 
	tﬂm_£nd_h™dÀr
)(
	tu8_t
 * 
	tbuf
,
	tu16_t
 
	tÀn
) ;

1740 (* 
	tﬂm_¥o˚ss_íåy
)(
	tu8_t
 * 
	tbuf
,
	tu16_t
 
	tÀn
);

1743 
u8_t
 
ﬂm_vî
;

1744 
u8_t
 
ﬂm_ext_code
;

1745 
u16_t
 
ﬂm_Àaf_id
;

1746 
u8_t
 
ﬂm_bønch_id
;

1747 
u8_t
 
dummy1
;

1748 
u16_t
 
dummy2
;

1749 }
	tOAM_EV_CB_ID_t
 ,*
	tP_OAM_EV_CB_ID_t
;

1751 
u32_t
 
	`OamRegi°îSídH™dÀr
(
ﬂm_£nd_h™dÀr
 
¢d_hdl
);

1754 
u32_t
 
	`OamEvítCÆŒBackRegi°î
–
IN
 c⁄° 
OAM_EV_CB_ID_t
 
vÆue
,

1755 
IN
 c⁄° 
evít_ˇŒback
 
pcb
);

1756 
u32_t
 
	`OamEvítCÆŒBackDîegi°î
–
IN
 c⁄° 
OAM_EV_CB_ID_t
 
vÆue
);

1758 
u32_t
 
	`OamEvítCÆlBackInô
(
IN
 c⁄° 
u16_t
 
hash_size
);

1759 
u32_t
 
	`OamEvítCÆlBackCÀ™Up
();

1760 
u32_t
 
	`OamEvítQuîyCou¡
();

1761 
u32_t
 
	`OamEvítCÆlBack
(
IN
 c⁄° 
OAM_EV_CB_ID_t
 
vÆue
,

1762 
IN
 c⁄° 
u8_t
 * 
ö_byã
,

1763 
IN
 
OUT
 
u8_t
 * 
out_byã
);

1765 
u32_t
 
	`OamRegi°îPro˚ssE¡ry
(
u8_t
 * 
oui
,
ﬂm_¥o˚ss_íåy
 
íåy
 );

1767 
u32_t
 
	`OamDeRegi°îPro˚ssE¡ry
(
u8_t
 * 
oui
);

1771 #i‡
	`deföed
(
CTC_VOIP_DISPATCH
)

1772 
	`ﬂmMsqInô
();

1773 
	`ﬂmMsqDe°roy
();

1774 
	`ﬂmMsqSíd
(*
msgBuf
, 
msgsz
);

1775 
	`ﬂmMsqRe˚ive
(*
msgBuf
, 
msgsz
);

1778 #i‡!
	`deföed
(
CONFIG_PRODUCT_EPN200
)

1779 
OLT_FLAG_E
 
	`OamGëO…Fœg
();

	@inc/user/oam_alarm.h

2 #i‚de‡
OAM_ALARM_H


3 
	#OAM_ALARM_H


	)

5 
	#OPL_ALARM_ENABLE
 0

	)

7 
	#ALARM_SWITCH_PATCH
 "/v¨/Æ¨m.c⁄f"

	)

9 
	#CTC_2_1


	)

11 
	#SET_BYTE_INIT
(Ë
byã_cou¡î
;\

	)

12 
	gãmp_vÆue


13 
	#SET_BYTE
(
tx_vÆ
, 
vÆue
, 
byã
Ë
byã_cou¡î
 = byã;\

	)

14 
	gãmp_vÆue
 = 
vÆue
;\

15 
byã_cou¡î
){\

16 (
tx_vÆ
)[
byã_cou¡î
 -1] = (
ãmp_vÆue
) & 0xff;\

17 (
ãmp_vÆue
) >>= 8;\

18 
byã_cou¡î
 --;\

19 
	}
}

21 
	#SET_BYTE_2
(
tx_vÆ
, 
pVÆue
, 
byã
Ë
byã_cou¡î
 = byã;\

	)

22 
byã_cou¡î
){\

23 (
tx_vÆ
)[
byã
-
byã_cou¡î
] = (
pVÆue
)[byte_counter-1];\

24 
byã_cou¡î
 --;\

25 
	}
}

28 #ifde‡
CTC_2_1


29 
	#SET_OUI
(
tx_vÆ
,
oui
Ë
	`SET_BYTE
—x_vÆ,oui,3)

	)

30 
	#SET_OBJ_TYPE
(
tx_vÆ
,
Obje˘Ty≥
Ë
	`SET_BYTE
(—x_vÆ)+3,Obje˘Ty≥,2)

	)

31 
	#SET_INSTANCE_NUM
(
tx_vÆ
,
In°™˚Num
Ë
	`SET_BYTE
(—x_vÆ)+5,In°™˚Num,4)

	)

32 
	#SET_ALARM_ID
(
tx_vÆ
, 
AœrmID
Ë
	`SET_BYTE
(—x_vÆ)+9,AœrmID,2)

	)

33 
	#SET_TIMESTAMP
(
tx_vÆ
, 
TimeSèmp
Ë
	`SET_BYTE
(—x_vÆ)+11,TimeSèmp,2)

	)

34 
	#SET_ALARM_STATE
(
tx_vÆ
, 
AœrmSèã
Ë
	`SET_BYTE
(—x_vÆ)+13,AœrmSèã,1)

	)

35 
	#SET_ALARM_INFO
(
tx_vÆ
, 
AœrmInfo
,
x
Ë
	`SET_BYTE_2
(—x_vÆ)+14, AœrmInfo,x)

	)

37 
	#SET_OUI
(
tx_vÆ
,
oui
Ëtx_vÆ[0] = oui>>16 & 0xff;\

	)

38 
	gtx_vÆ
[1] = 
oui
>>8 & 0xff;\

39 
	gtx_vÆ
[2] = 
oui
 & 0xff

40 
	#SET_OPCODE
(
tx_vÆ
,
›code
Ëtx_vÆ[3]=
	)
opcode

41 
	#SET_TLV
(
tx_vÆ
,
bønch
,
Àaf
Ëtx_vÆ[4]=bønch;\

	)

42 
	gtx_vÆ
[5]=
Àaf
>>8 & 0xff;\

43 
	gtx_vÆ
[6]=
Àaf
 & 0xff

44 
	#SET_PORT
(
tx_vÆ
,
p‹t
Ëtx_vÆ[7] = 0x01;\

	)

45 
	gtx_vÆ
[8] = 
p‹t


46 
	#SET_BRANCH_LEAF
(
tx_vÆ
,
bønch
,
Àaf
Ëtx_vÆ[9]=bønch;\

	)

47 
	gtx_vÆ
[10]=
Àaf
>>8 & 0xff;\

48 
	gtx_vÆ
[11]=
Àaf
 & 0xff

49 
	#SET_VALUE
(
tx_vÆ
,
width
,
vÆue
Ëtx_vÆ[12] = width;\

	)

50 
	gtx_vÆ
[13] = 
vÆue
>>8 & 0xff;\

51 
	gtx_vÆ
 [14] = 
vÆue
 & 0xff

53 
	#ALARM_INFO_HEAD
 14

	)

54 
	#ALARM_INFO_MAX_WIDTH
 4

	)

58 
obje˘Ty≥
;

59 
	mö°™˚Num
;

60 
	mÆ¨mID
;

61 
	mÆ¨mSèã
;

62 
	mÀngth
;

63 
	mÆ¨mInfo
[
ALARM_INFO_MAX_WIDTH
];

64 }
	tÆ¨m_ªp‹t_t
;

69 
	m£tAœrmThªshﬁd
;

70 
	m˛órAœrmThªshﬁd
;

71 }
	tÆ¨m_thr_t
;

73 #ifde‡
ONU_1PORT


74 
	#NUMBER_OF_PORTS
 1

	)

76 
	#NUMBER_OF_PORTS
 4

	)

81 
	mm⁄ô‹1
;

82 
	mÀvñ1
;

83 
	mm⁄ô‹2
;

84 
	mÀvñ2
;

85 }
	tÆ¨m_ªp‹t_dry_Æ¨m_t
;

87 
Æ¨m_ªp‹t_dry_Æ¨m_t
 
Æ¨m_ªp‹t_dry_Æ¨m
;

92 
	#ALARM_ONU_BASE
 0x0000

	)

93 
	#ALARM_PON_IF_BASE
 0x0100

	)

94 
	#ALARM_CARD_BASE
 0x0200

	)

95 
	#ALARM_ETH_PORT_BASE
 0x0300

	)

96 
	#ALARM_POTS_BASE
 0x0400

	)

97 
	#ALARM_E1_BASE
 0x0500

	)

99 
	#ALARM_OBJ_TYPE_MASK
 0xff00

	)

100 
	#ALARM_INSTANCE_TYPE_MASK
 0x00ff

	)

110 
	#ALARM_SIGNAL
 0x00

	)

111 
	#ALARM_SIGNAL_RECOVER
 0x01

	)

116 
	mALARM_PON_BEGIN
 = 
ALARM_PON_IF_BASE
,

117 
	mALARM_RX_POWER_HIGH
,

118 
	mALARM_RX_POWER_LOW
,

119 
	mALARM_TX_POWER_HIGH
,

120 
	mALARM_TX_POWER_LOW
,

121 
	mALARM_TX_BIAS_HIGH
,

122 
	mALARM_TX_BIAS_LOW
,

123 
	mALARM_VCC_HIGH
,

124 
	mALARM_VCC_LOW
,

125 
	mALARM_TEMP_HIGH
,

126 
	mALARM_TEMP_LOW
,

127 
	mWARNING_RX_POWER_HIGH
,

128 
	mWARNING_RX_POWER_LOW
,

129 
	mWARNING_TX_POWER_HIGH
,

130 
	mWARNING_TX_POWER_LOW
,

131 
	mWARNING_TX_BIAS_HIGH
,

132 
	mWARNING_TX_BIAS_LOW
,

133 
	mWARNING_VCC_HIGH
,

134 
	mWARNING_VCC_LOW
,

135 
	mWARNING_TEMP_HIGH
,

136 
	mWARNING_TEMP_LOW
,

137 }
	tp⁄_Æ¨m_t
;

141 
	mALARM_POTS_BEGIN
 = 
ALARM_POTS_BASE
,

142 }
	tpŸs_Æ¨m_t
;

146 
	mALARM_ETHPORT_BEGIN
 = 
ALARM_ETH_PORT_BASE
,

147 
	mALARM_ETHPORT_AUTONEG
,

148 
	mALARM_ETHPORT_LOS
,

149 
	mALARM_ETHPORT_FAILURE
,

150 
	mALARM_ETHPORT_LDP
,

151 }
	tp‹t_Æ¨m_t
;

155 
	mALARM_CARD_BEGIN
 = 
ALARM_CARD_BASE
,

156 }
	tˇrd_Æ¨m_t
;

160 
	mALARM_ONU_BEGIN
 = 
ALARM_ONU_BASE
,

161 
	mALARM_EQUIPMENT
,

162 
	mALARM_UPS_POWER
,

163 
	mALARM_UPS_MISSING
,

164 
	mALARM_BATTERY_FAILURE
,

165 
	mALARM_UPS_VOLT_LOW
,

166 }
	t⁄u_Æ¨m_t
;

170 
	mPON_TYPE
,

171 
	mETH_TYPE
,

172 
	mVOIP_TYPE
,

173 
	mADSL2_TYPE
,

174 
	mVDSL2_TYPE
,

175 
	mE1_TYPE
,

176 }
	tp‹t_ty≥_t
;

179 
	mCTC_OBJ_ONU
 = 0xffff,

180 
	mCTC_OBJ_PORT
 = 0x0001,

181 
	mCTC_OBJ_CARD
 = 0x0002,

182 
	mCTC_OBJ_LLID
 = 0x0003,

183 
	mCTC_OBJ_PON_IF
 = 0x0004,

184 
	mCTC_OBJ_OTHER
 = 0xfffe,

185 } 
	tCTC_OBJ_TYPE_t
;

188 
	mCTC_STACK_ALARM_CONFIG_DISABLED
 = 0x1,

189 
	mCTC_STACK_ALARM_CONFIG_ENABLED
 = 0x2,

190 } 
	tCTC_STACK_Æ¨m_admö_c⁄fig_t
;

192 
	#INT8U
 

	)

193 
	#INT16U
 

	)

194 
	#INT32U
 

	)

196 
	#Gë_ö°™˚Num
(
p‹t_num
, 
ty≥
Ë—y≥)<<24|’‹t_num+1)

	)

197 
	#Gë_objTy≥
()

	)

199 
	#MASK_1_BIT
 0x1

	)

200 
	#MASK_2_BIT
 0x3

	)

201 
	#MASK_3_BIT
 0x7

	)

203 
	#ALARM_TYPE_LINK_MASK
 
MASK_1_BIT


	)

204 
	#ALARM_TYPE_LDP_MASK
 
MASK_1_BIT


	)

205 
	#ALARM_TYPE_UPS_MASK
 
MASK_2_BIT


	)

207 
	#QUERY_TIME
 3

	)

208 
	#OAM_ALARM_TIME
 1

	)

209 
	#LDP_RESOLVE_TIME
 (9/
QUERY_TIME
)

	)

212 
g_Æ¨m_ëh_°©e
[
NUMBER_OF_PORTS
];

213 
g_Æ¨m_⁄u_°©e
;

214 
g_Æ¨m_p⁄_°©e
;

215 
g_Æ¨m_ˇrd_°©e
;

216 
g_Æ¨m_pŸs_°©e
;

217 
g_Æ¨m_e1_°©e
;

221 
	#˛ór_p‹t_Æ¨m_°©e
(
p‹t
, 
ty≥
,
mask
,
g_vÆue
Ë
g_Æ¨m_
##g_vÆue[p‹t] &~((maskË<< (ty≥))

	)

222 
	#£t_p‹t_Æ¨m_°©e
(
p‹t
, 
ty≥
,
mask
, 
g_vÆue
Ë
g_Æ¨m_
##g_vÆue[p‹t] |(maskË<< (ty≥)

	)

223 
	#c⁄fig_p‹t_Æ¨m_°©e
(
p‹t
, 
ty≥
, 
°©e
, 
mask
,
g_vÆue
Ëdo{
	`˛ór_p‹t_Æ¨m_°©e
’‹t,Åy≥,mask, g_vÆue);\

	)

224 
	gg_Æ¨m_
##
	gg_vÆue
[
p‹t
] |
°©e
 << (
ty≥
);\

226 
	#gë_p‹t_Æ¨m_°©e
(
p‹t
,
ty≥
,
mask
,
g_vÆue
Ë(
g_Æ¨m_
##g_vÆue[p‹t] >> (ty≥Ë& (mask))

	)

229 
	#˛ór_globÀ_Æ¨m_°©e
(
ty≥
,
mask
, 
g_vÆue
Ë
g_Æ¨m_
##g_vÆuê&~((maskË<< (ty≥))

	)

230 
	#£t_globÀ_Æ¨m_°©e
(
ty≥
,
mask
, 
g_vÆue
Ë
g_Æ¨m_
##g_vÆuê|(maskË<< (ty≥)

	)

231 
	#c⁄fig_globÀ_Æ¨m_°©e
(
ty≥
, 
°©e
,
mask
, 
g_vÆue
Ëdo{
	`˛ór_globÀ_Æ¨m_°©e
—y≥,mask, g_vÆue);\

	)

232 
g_Æ¨m_
##
g_vÆue
 |
°©e
 << (
ty≥
);\

233 
	}

	$}whûe
(0)

234 
	#gë_globÀ_Æ¨m_°©e
(
ty≥
,
mask
, 
g_vÆue
Ë(
g_Æ¨m_
##g_vÆuê>> (ty≥Ë& (mask))

	)

238 
	#gë_ëh_Æ¨m_°©e
(
p‹t
, 
ty≥
Ë
	`gë_p‹t_Æ¨m_°©e
’‹t,Åy≥,
MASK_1_BIT
,
ëh_°©e
)

	)

239 
	#c⁄fig_ëh_Æ¨m_°©e
(
p‹t
, 
ty≥
, 
°©e
Ë
	`c⁄fig_p‹t_Æ¨m_°©e
’‹t,Åy≥, sèã,
MASK_1_BIT
, 
ëh_°©e
)

	)

241 
	#gë_⁄u_Æ¨m_°©e
(
ty≥
Ë
	`gë_globÀ_Æ¨m_°©e
—y≥,
MASK_1_BIT
, 
⁄u_°©e
)

	)

242 
	#c⁄fig_⁄u_Æ¨m_°©e
(
ty≥
, 
°©e
Ë
	`c⁄fig_globÀ_Æ¨m_°©e
—y≥, sèã,
MASK_1_BIT
, 
⁄u_°©e
)

	)

244 
	#gë_p⁄_Æ¨m_°©e
(
ty≥
Ë
	`gë_globÀ_Æ¨m_°©e
—y≥,
MASK_1_BIT
,
p⁄_°©e
)

	)

245 
	#c⁄fig_p⁄_Æ¨m_°©e
(
ty≥
, 
°©e
Ë
	`c⁄fig_globÀ_Æ¨m_°©e
—y≥, sèã,
MASK_1_BIT
, 
p⁄_°©e
)

	)

249 
	#gë_ëh_Æ¨m_íabÀ
(
p‹t
, 
ty≥
Ë
	`gë_p‹t_Æ¨m_°©e
’‹t,Åy≥,
MASK_1_BIT
,
ëh_íabÀ
)

	)

250 
	#c⁄fig_ëh_Æ¨m_íabÀ
(
p‹t
, 
ty≥
, 
°©e
Ë
	`c⁄fig_p‹t_Æ¨m_°©e
’‹t,Åy≥, sèã,
MASK_1_BIT
, 
ëh_íabÀ
)

	)

252 
	#gë_⁄u_Æ¨m_íabÀ
(
ty≥
Ë
	`gë_globÀ_Æ¨m_°©e
—y≥,
MASK_1_BIT
, 
⁄u_íabÀ
)

	)

253 
	#c⁄fig_⁄u_Æ¨m_íabÀ
(
ty≥
, 
°©e
Ë
	`c⁄fig_globÀ_Æ¨m_°©e
—y≥, sèã,
MASK_1_BIT
, 
⁄u_íabÀ
)

	)

255 
	#gë_p⁄_Æ¨m_íabÀ
(
ty≥
Ë
	`gë_globÀ_Æ¨m_°©e
—y≥,
MASK_1_BIT
,
p⁄_íabÀ
)

	)

256 
	#c⁄fig_p⁄_Æ¨m_íabÀ
(
ty≥
, 
°©e
Ë
	`c⁄fig_globÀ_Æ¨m_°©e
—y≥, sèã,
MASK_1_BIT
, 
p⁄_íabÀ
)

	)

260 (* 
	tÆ¨m_num_t
)(
	tcur_°©e
);

262 #ifde‡
CTC_2_1


263 
	`ﬂm_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
);

265 
	`ﬂm_Æ¨m
(
Æ¨m_num
, 
p‹t
);

268 
	`Æ¨m_±hªad
();

271 
g_Æ¨m_ups_°©e
;

272 
r°pw¨nög°©e
[
NUMBER_OF_PORTS
] ;

276 
ALARM_UPS_STATE_ON
,

277 
ALARM_UPS_STATE_POWER_LOSING
,

278 
ALARM_UPS_STATE_VOLT_LOW
,

279 
ALARM_UPS_STATE_OFF
,

280 }
	tups_Æ¨m_t
;

282 
	#£t_Æ¨m_ups_cur_°©e
(
cur_°©e
Ë
g_Æ¨m_ups_°©e
 = 
	)
cur_state

283 
	#gë_Æ¨m_ups_cur_°©e
(Ë
g_Æ¨m_ups_°©e


	)

291 
	`CTC_STACK_Æ¨m_£t_thr
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
INT32U
 
risög_thr
, INT32U 
ÁŒög_thr
);

292 
	`CTC_STACK_Æ¨m_gë_thr
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
INT32U
 *
risög_thr
, INT32U *
ÁŒög_thr
);

293 
	`CTC_STACK_Æ¨m_gë_°©e
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, *
íabÀd
);

294 
	`CTC_STACK_Æ¨m_£t_°©e
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
íabÀd
);

295 *
	`ï⁄_ﬂm_˘c_Æ¨m_thªad
(*
¨gu
);

297 #ifde‡
ALARM_DEG_TRACE


298 
	#TRACE_ALARM
(
fmt
, 
¨g
...Ë
	`¥ötf
(fmt,##¨g);\

	)

299 
	$fÊush
(
°dout
)

301 
	#TRACE_ALARM
(
fmt
, 
¨g
...)

	)

304 #ifde‡
ALARM_DEG_ARG


305 
	#TRACE_ALARM_ARG
(
¨g
Ë
	`TRACE_ALARM
("%s:%lu\n", #¨g,árg);\

	)

306 
	$fÊush
(
°dout
)

308 
	#TRACE_ALARM_ARG
(
¨g
)

	)

	@inc/user/oam_lw.h

4 #i‚de‡
__LW_EOAM_H__


5 
	#__LW_EOAM_H__


	)

7 #ifde‡
__˝lu•lus


11 
	~"lw_c⁄fig.h
"

15 
	#EOAM_ENABLE
 1

	)

16 
	#EOAM_DISABLE
 2

	)

18 
	#EOAM_ETH_HDR_SIZE
 18

	)

19 
	#EOAM_PAD_MIN_SIZE
 42

	)

20 
	#EOAM_PAD_MAX_SIZE
 1496

	)

21 
	#EOAM_PAD_HDR_SIZE
 11

	)

22 
	#EOAM_PAD_EVT_HDR_SIZE
 6

	)

23 
	#EOAM_PAD_DATA_MIN_SIZE
 (
EOAM_PAD_MIN_SIZE
 - 
EOAM_PAD_HDR_SIZE
Ë

	)

24 
	#EOAM_PAD_DATA_MAX_SIZE
 (
EOAM_PAD_MAX_SIZE
 - 
EOAM_PAD_HDR_SIZE
Ë

	)

26 
	#EOAM_PKT_MAX_SIZE
 (
EOAM_PAD_MAX_SIZE
 + 
EOAM_ETH_HDR_SIZE
)

	)

27 
	#EOAM_PKT_MIN_SIZE
 (
EOAM_PAD_MIN_SIZE
 + 
EOAM_ETH_HDR_SIZE
)

	)

30 
	#EOAM_GET_REQUEST
 0x01

	)

31 
	#EOAM_GET_RESPONSE
 0x02

	)

32 
	#EOAM_SET_REQUEST
 0x03

	)

33 
	#EOAM_SET_RESPONSE
 0x04

	)

34 
	#EOAM_EVENT
 0x05

	)

35 
	#EOAM_USER_DATAGRAM
 0x06

	)

38 
	#EOAM_ETH_OFFSET_DA
 0

	)

39 
	#EOAM_ETH_OFFSET_SA
 6

	)

40 
	#EOAM_ETH_OFFSET_TYPE
 12

	)

41 
	#EOAM_ETH_OFFSET_SUBTYPE
 14

	)

42 
	#EOAM_ETH_OFFSET_FLAGS
 15

	)

43 
	#EOAM_ETH_OFFSET_CODE
 17

	)

46 
	#EOAM_PAD_OFFSET_OUI
 0

	)

47 
	#EOAM_PAD_OFFSET_PDUTYPE
 3

	)

48 
	#EOAM_PAD_OFFSET_REQID
 4

	)

49 
	#EOAM_PAD_OFFSET_ERRCODE
 6

	)

50 
	#EOAM_PAD_OFFSET_CTRL
 7

	)

51 
	#EOAM_PAD_OFFSET_DATA
 11

	)

53 
	#EOAM_BATCH_CFG_TLV_OFF
 6

	)

55 
	#LINK_IS_UP
 1

	)

56 
	#LINK_IS_DOWN
 0

	)

59 
	#EOAM_OP_ADD
 1

	)

60 
	#EOAM_OP_DEL
 2

	)

62 
	#IP_NORMAL
 0x00

	)

63 
	#IP_ALL_ZERO
 0x01

	)

64 
	#IP_BROADCAST
 0x02

	)

65 
	#IP_HOST
 0x03

	)

66 
	#IP_MULTICAST
 0x04

	)

67 
	#IP_EXPERIMENTAL
 0x05

	)

68 
	#IP_SELF
 0x06

	)

69 
	#IP_FIRST_ZERO
 0x07

	)

70 
	#IP_ADDR_LEN
 4

	)

73 
	#MAX_PERMIT_OAM_LEN
 100

	)

75 
	#BATCH_HEAD_SIZE
 6

	)

78 
	#_1000M_SFF_PX10_U
 4

	)

79 
	#_1000M_SFF_PX20_U
 5

	)

82 
	#EOAM_OUI_SIZE
 3

	)

85 
	#CALL_EOAM_FUNC_AND_BREAK
(
Ty≥
, 
EﬂmFunc
)\

	)

86 
Ty≥
 :\

87 
ulRë
 = 
EﬂmFunc
(
pucPduD©aBuf
, 
usPduD©aLí
);\

91 
	#FILL_MIN_PAD_DATA
(
usPadLí
Ë((usPadLíË(usPadLíË< 
EOAM_PAD_MIN_SIZE
 ? EOAM_PAD_MIN_SIZE : (usPadLí))

	)

93 
	#NTOHL
(
x
Ë
	`¡ohl
((
UINT32
)(x))

	)

94 
	#NTOHS
(
x
Ë
	`¡ohs
((
UINT16
)(x))

	)

95 
	#HTONL
(
x
Ë
	`ht⁄l
((
UINT32
)(x))

	)

96 
	#HTONS
(
x
Ë
	`ht⁄s
((
UINT16
)(x))

	)

98 
	#OAM_H3C_SUPPORT
 1

	)

101 
	#ONU_START_SEND_SOFTWARE
 0x01

	)

102 
	#ONU_SENDING_SOFTWARE
 0x02

	)

103 
	#ONU_STOP_SEND_SOFTWARE
 0x03

	)

108 
	#HARDWARE_REV
 "A"

	)

110 
	sègUL⁄g_8


112 
UINT32
 
ulD©a
[2];

113 }
	tULONG_8
;

116 
	#VOS_OK
 0

	)

117 
	#VOS_ERR
 1

	)

118 
	#VOS_NOT_SUPPORT
 4

	)

119 
	#VOS_FULL
 5

	)

120 
	#VOS_EXIST
 6

	)

121 
	#VOS_NO_MATCH
 10

	)

122 
	#VOS_FINISH_OK
 11

	)

123 
	#VOS_FINISH_ERR
 12

	)

124 
	#VOS_CONTINUE
 21

	)

125 
	#VOS_ONU_BUSY
 0x55

	)

126 
	#VOS_NO_RESOURCE
 0x56

	)

127 
	#VOS_NOT_FOUND
 0xFFFF

	)

128 
	#VOS_FILE_TOO_LARGE
 36

	)

129 
	#VOS_TIMEOUT
 37

	)

132 
	#VRP_YES
 1

	)

133 
	#VRP_NO
 0

	)

135 
	#_H3C_DEBUG


	)

137 #i‡
deföed
(
_H3C_DEBUG
)

138 
	#EOAM_ASSERT
(
exp
Ë
	`OAM_As£π
((
SHORT
)”xp), 
__FILE__
, 
__LINE__
)

	)

140 
	#EOAM_ASSERT
(
exp
)

	)

143 
¥öt2c⁄sﬁe
(*
fmt
, ...);

145 
	#EOAM_PRINT
(
fmt
, 
¨gs
...Ë\

	)

148 
¥öt2c⁄sﬁe
(
fmt
 ,##
¨gs
);\

151 #i‚de‡
BOOL_TRUE


152 
	#BOOL_TRUE
 ((
BOOL_T
)1)

	)

155 #i‚de‡
STATIC


156 
	#STATIC
 

	)

159 #i‚de‡
IN


160 
	#IN


	)

163 #i‚de‡
OUT


164 
	#OUT


	)

168 #i‚de‡
BOOL_FALSE


169 
	#BOOL_FALSE
 ((
BOOL_T
)0)

	)

172 
	#COMPARE_EQUAL
 0

	)

173 
	#COMPARE_NOT_EQUAL
 1

	)

175 
	#VRP_MODULE_SMLK
 
VRP_NO


	)

178 
	#MAC_ADDR_LEN
 6

	)

181 #i‡
deföed
(
CONFIG_PRODUCT_EM200
)

182 
	#MAX_PORT_NUM
 1

	)

184 
	#MAX_PORT_NUM
 4

	)

188 
	#MIN_UNI_PORT_ID
 1

	)

189 
	#MAX_UNI_PORT_ID
 
MAX_PORT_NUM


	)

192 
	#ONU_WORK_MODE_C_MODE
 100

	)

193 
	#ONU_WORK_MODE_H_MODE
 101

	)

195 
	#NUMBER_OF_DOT1P
 8

	)

198 
	#NUMBER_OF_SWITCH_PRI_QUEUE
 4

	)

201 
	#IC_INFO_LOG
 1

	)

202 
	#IC_INFO_TRAP
 2

	)

203 
	#IC_INFO_DEBUG
 3

	)

204 
	#IC_INFO_KIND
 3

	)

206 
	#IC_LEVEL_TOP
 0

	)

207 
	#IC_LEVEL_EMERG
 0

	)

208 
	#IC_LEVEL_ALERT
 1

	)

209 
	#IC_LEVEL_CRIT
 2

	)

210 
	#IC_LEVEL_ERR
 3

	)

211 
	#IC_LEVEL_WARN
 4

	)

212 
	#IC_LEVEL_NOTICE
 5

	)

213 
	#IC_LEVEL_INFO
 6

	)

214 
	#IC_LEVEL_DEBUG
 7

	)

215 
	#IC_MAX_LEVEL_NUM
 7

	)

216 
	#IC_LEVEL_INVALID
 0xFF

	)

218 
	#MAX_SEND_INFO_SIZE
 128

	)

219 
	#TRAP_LEAF_SIZE
 50

	)

222 
	#RSTP_ROLE_DISABLEDPORT
 0

	)

223 
	#RSTP_ROLE_ROOTPORT
 1

	)

224 
	#RSTP_ROLE_DESIGNATEDPORT
 2

	)

225 
	#RSTP_ROLE_ALTERNATEPORT
 3

	)

226 
	#RSTP_ROLE_BACKUPPORT
 4

	)

228 #i‚de‡
RSTP_LOGID_PFWD


229 
	#RSTP_LOGID_PFWD
 5

	)

231 #i‚de‡
RSTP_LOGID_PDISC


232 
	#RSTP_LOGID_PDISC
 6

	)

244 
	#HLTOBUF
(
buf
, 
x
)\

	)

246 *((
	gbuf
Ë+ 0Ë(
UCHAR
)(((
ULONG
)(
x
) & 0xFF000000) >> 24);\

247 *((
	gbuf
Ë+ 1Ë(
UCHAR
)(((
ULONG
)(
x
) & 0x00FF0000) >> 16);\

248 *((
	gbuf
Ë+ 2Ë(
UCHAR
)(((
ULONG
)(
x
) & 0x0000FF00) >> 8 );\

249 *((
	gbuf
Ë+ 3Ë(
UCHAR
)(((
ULONG
)(
x
) & 0x000000FF) >> 0 );\

252 
	#HSTOBUF
(
buf
, 
x
)\

	)

254 *((
	gbuf
Ë+ 0Ë(
UCHAR
)(((
USHORT
)(
x
) & 0xFF00) >> 8);\

255 *((
	gbuf
Ë+ 1Ë(
UCHAR
)(((
USHORT
)(
x
) & 0x00FF) >> 0);\

258 
	#BUFTOHL
(
buf
, 
x
Ë\

	)

259 dÿ{ 
	gx
 = (
buf
)[3] + \

260 ((
buf
)[2] << 8) + \

261 ((
buf
)[1] << 16) + \

262 ((
buf
)[0] << 24); \

265 
	#BUFTOTHL
(
buf
, 
x
, 
ty≥
Ë\

	)

266 dÿ{ 
	gx
 = (
ty≥
)((
buf
)[3] + \

267 ((
buf
)[2] << 8) + \

268 ((
buf
)[1] << 16) + \

269 ((
buf
)[0] << 24)); \

272 
	#BUFTOHS
(
buf
, 
x
Ë\

	)

273 dÿ{ 
	gx
 = (
buf
)[1] + \

274 ((
buf
)[0] << 8); \

277 
	#BUFTOTHS
(
buf
, 
x
, 
ty≥
Ë\

	)

278 dÿ{ 
	gx
 = (
ty≥
)((
buf
)[1] + \

279 ((
buf
)[0] << 8)); \

282 
	#MAC_COPY
(
pDe°
, 
pSrc
Ë
	`vosMemCpy
’De°,ÖSrc, 
MAC_ADDR_LEN
)

	)

284 
	#STR_LENGTH
(
pcSå
Ë(
ULONG
)(
	`°æí
((
CHAR
 *ÌcSå))

	)

286 
	#EOAMPORT_2_LPORT
(
ucEP‹t
Ë((ucEP‹tË+ 1)

	)

287 
	#LPORT_2_EOAMPORT
(
ucLP‹t
Ë((ucLP‹tË- 1)

	)

289 
	#DEFAULT_IP
 0xC0A800F0

	)

290 
	#DEFAULT_MASK
 0xFFFFFF00

	)

291 
	#DEFAULT_GW
 0x00000000

	)

293 
	#DEFAULT_SVLAN_MEM_CFG_ENTRY
 63

	)

294 
	#DEFAULT_SVLAN_ID
 4095

	)

297 
	#VLAN_ID_0
 0

	)

298 
	#MIN_VLAN_ID
 1

	)

299 
	#MAX_VLAN_ID
 4094

	)

300 
	#MAX_VLAN_NUM
 4095

	)

307 
	eègEPON_SUBPORT_STPSTATUS


309 
	gEPON_SUBPORT_STP_DISABLED
 = 1,

310 
	gEPON_SUBPORT_STP_DISCARDING
,

311 
	gEPON_SUBPORT_STP_LEARNING
,

312 
	gEPON_SUBPORT_STP_FORWARDING
,

313 
	gEPON_SUBPORT_STP_BUTT


314 } 
	tEPON_SUBPORT_STPSTATUS_E
;

318 
	eègEPON_ALERT_PONSTATUS


320 
	gEPON_ALERT_PON_ALWAYS_LASER_ON
 = 1,

321 
	gEPON_ALERT_PON_ALWAYS_LASER_RECOVER
,

322 
	gEPON_ALERT_PON_BUTT


323 } 
	tEPON_ALERT_PONSTATUS_E
;

327 
	eègEOAM_ONUTRAP_TYPE


329 
	gEOAM_EVENT_ONUTRAP_UNI_UPDOWN
,

330 
	gEOAM_EVENT_ONUTRAP_STPSTATE
,

331 
	gEOAM_EVENT_ONUTRAP_ALAWAYS_LASER_ON
 = 3,

332 
	gEOAM_EVENT_ONUTRAP_BUTT


333 }
	tEOAM_ONUTRAP_TYPE_E
;

335 
	eègEPON_SUBPORT_LINKSTATUS


337 
	gEPON_SUBPORT_OPEN
,

338 
	gEPON_SUBPORT_CLOSE
,

339 
	gEPON_SUBPORT_BUTT


340 } 
	tEPON_SUBPORT_LINKSTATUS_E
;

343 
	eègONU_PRI_TRUST_MODE


345 
	gONU_PRI_TRUST_MODE_IP_TOS
,

346 
	gONU_PRI_TRUST_MODE_DOT1P
,

347 
	gONU_PRI_TRUST_MODE_DSCP
,

348 
	gONU_PRI_TRUST_MODE_PORT
,

349 
	gONU_PRI_TRUST_MODE_BUTT


350 } 
	tONU_PRI_TRUST_MODE_E
;

353 
	eègONU_QUEUE_SCHEDULER_MODE


355 
	gONU_QUEUE_SCHEDULER_MODE_WFQ
,

356 
	gONU_QUEUE_SCHEDULER_MODE_SPQ
,

357 
	gONU_QUEUE_SCHEDULER_MODE_WRR
,

358 
	gONU_QUEUE_SCHEDULER_MODE_BUTT


359 } 
	tONU_QUEUE_SCHEDULER_MODE_E
;

363 
	sUNI_COUNTER


366 
ULONG
 
	gInUniˇ°
;

367 
ULONG
 
	gInMu…iˇ°
;

368 
ULONG
 
	gInBrﬂdˇ°
;

369 
ULONG
 
	gInPau£
;

370 
ULONG
 
	gOutUniˇ°
;

371 
ULONG
 
	gOutMu…iˇ°
;

372 
ULONG
 
	gOutBrﬂdˇ°
;

373 
ULONG
 
	gOutPau£
;

376 
ULONG
 
	gInEº‹
;

377 
ULONG
 
	gInOvîÊow
;

378 
ULONG
 
	gInUndîÊow
;

379 
ULONG
 
	gInCrcEº‹
;

380 
ULONG
 
	gOutEº‹
;

381 
ULONG
 
	gOutCﬁlisi⁄
;

382 
ULONG
 
	gOutL©e
;

383 
ULONG
 
	gulInDr›≥d
;

384 
ULONG
 
	gulInFûãr
;

385 
ULONG
 
	gulOutFûãr
;

389 
UINT64
 
	guiRecO˘ës
;

390 
ULONG
 
	gulRevBadO˘ës
;

391 
UINT64
 
	guiTønsO˘ës
;

392 } 
	tUNI_COUNTER_S
;

394 
	sègP‹t_Mib_Cou¡îs


396 
UINT64
 
	guiIfInO˘ës
;

397 
UINT64
 
	guiDdŸ3SètsFCSEº‹s
;

398 
UINT64
 
	guiDŸ3SètsSymbﬁEº‹s
;

399 
UINT64
 
	guiDŸ3InPau£Fømes
;

400 
UINT64
 
	guiDŸ3C⁄åﬁInUnknownOpcodes
;

401 
UINT64
 
	guiEthîSètsFøgmíts
;

402 
UINT64
 
	guiEthîSètsJabbîs
;

403 
UINT64
 
	guiIfInUˇ°Pkts
;

404 
UINT64
 
	guiEthîSètsDr›Evíts
;

405 
UINT64
 
	guiEthîSètsO˘ës
;

406 
UINT64
 
	guiEthîSètsUndîsizePkts
;

407 
UINT64
 
	guiEthîSètsOvîsizePkts
;

408 
UINT64
 
	guiEthîSètsPkts64O˘ës
;

409 
UINT64
 
	guiEthîSètsPkts65to127O˘ës
;

410 
UINT64
 
	guiEthîSètsPkts128to255O˘ës
;

411 
UINT64
 
	guiEthîSètsPkts256to511O˘ës
;

412 
UINT64
 
	guiEthîSètsPkts512to1023O˘ës
;

413 
UINT64
 
	guiEthîSètsPkts1024toMaxO˘ës
;

414 
UINT64
 
	guiEthîSètsMˇ°Pkts
;

415 
UINT64
 
	guiEthîSètsBˇ°Pkts
;

416 
UINT64
 
	guiIfOutO˘ës
;

417 
UINT64
 
	guiDŸ3SètsSögÀCﬁlisi⁄Fømes
;

418 
UINT64
 
	guiDŸ3SètsMu…ùÀCﬁlisi⁄Fømes
;

419 
UINT64
 
	guiDŸ3SètsDe„ºedTønsmissi⁄s
;

420 
UINT64
 
	guiDŸ3SètsL©eCﬁlisi⁄s
;

421 
UINT64
 
	guiEthîSètsCﬁlisi⁄s
;

422 
UINT64
 
	guiDŸ3SètsEx˚ssiveCﬁlisi⁄s
;

423 
UINT64
 
	guiDŸ3OutPau£Fømes
;

424 
UINT64
 
	guiDŸ1dBa£P‹tDñayEx˚ededDisˇrds
;

425 
UINT64
 
	guiDŸ1dTpP‹tInDisˇrds
;

426 
UINT64
 
	guiIfOutUˇ°Pkts
;

427 
UINT64
 
	guiIfOutMu…iˇ°Pkts
;

428 
UINT64
 
	guiIfOutBroˇ°Pkts
;

429 
UINT64
 
	guiOutOampduPkts
;

430 
UINT64
 
	guiInOampduPkts
;

431 
UINT64
 
	guiPktgíPkts
;

432 
UINT64
 
	guiDŸ1dTpLó∫E¡ryDisˇrd
;

433 }
	tPORT_MIB_COUNTER_S
;

435 
	sègPON_COUNTERS


437 
ULONG_8
 
	guŒRxPkt
;

438 
ULONG_8
 
	guŒTxPkt
;

439 
ULONG_8
 
	guŒDr›Pkt
;

440 
ULONG_8
 
	guŒCrcEº
;

441 
ULONG_8
 
	guŒRxEº
;

442 
ULONG_8
 
	guŒRxByã
;

443 
ULONG_8
 
	guŒTxByã
;

444 
ULONG_8
 
	guŒAlgEº
;

445 
ULONG_8
 
	guŒTooL⁄g
;

446 } 
	tPON_COUNTERS_S
;

448 
	eègP‹tDu∂exVÆue


451 
	gOAM_PORT_DUPLEX_HALF
 = 0,

452 
	gOAM_PORT_DUPLEX_FULL
 = 1,

453 
	gOAM_PORT_DUPLEX_AUTO
 = 2

454 }
	tPORT_DUPLEX_MODE_E
 ;

457 
	eègUNI_MDI_MODE


459 
	gMDI_MODE_NORMAL
,

460 
	gMDI_MODE_CROSS
,

461 
	gMDI_MODE_AUTO
,

462 
	gMDI_MODE_BUTT


463 } 
	tUNI_MDI_MODE_E
;

466 
	eègRXTX_ACT


468 
	gRXTX_ACT_TRANS_EOAM
,

469 
	gRXTX_ACT_RCV_EOAM
,

470 
	gRXTX_ACT_TRANS_STP
,

471 
	gRXTX_ACT_RCV_STP
,

472 
	gRXTX_ACT_TRANS_IGMP
,

473 
	gRXTX_ACT_RCV_IGMP
,

474 
	gRXTX_ACT_TRANS_DHCP
,

475 
	gRXTX_ACT_RCV_DHCP
,

476 
	gRXTX_ACT_TRANS_IP
,

477 
	gRXTX_ACT_RCV_IP
,

478 
	gRXTX_ACT_TRANS_AGMP
,

479 
	gRXTX_ACT_RCV_AGMP
,

480 
	gRXTX_ACT_TRANS_ACMP
,

481 
	gRXTX_ACT_RCV_ACMP
,

482 
	gRXTX_ACT_FWD_CAR_ARP
,

483 
	gRXTX_ACT_DROP_CAR_ARP
,

484 
	gRXTX_ACT_FWD_CAR_STP
,

485 
	gRXTX_ACT_DROP_CAR_STP
,

486 
	gRXTX_ACT_FWD_CAR_DHCP
,

487 
	gRXTX_ACT_DROP_CAR_DHCP
,

488 
	gRXTX_ACT_RCV_PPPOE
,

489 
	gRXTX_ACT_TRANS_PPPOE
,

490 
	gRXTX_ACT_FWD_CAR_ONU_MAC
,

491 
	gRXTX_ACT_DROP_CAR_ONU_MAC
,

492 
	gRXTX_ACT_RX_ETH
,

493 
	gRXTX_ACT_TX_ETH
,

494 
	gRXTX_ACT_TX_PP_PKT
,

495 
	gRXTX_ACT_RX_PP_PKT
,

496 
	gRXTX_ACT_TRANS_SMLK
,

497 
	gRXTX_ACT_TRANS_ONU
,

498 
	gRXTX_ACT_BUTT


499 } 
	tRXTX_ACT_E
;

501 
	sègONU_BOARD_UID


503 
UCHAR
 
	gaucBﬂrdTy≥
[16];

504 
UCHAR
 
	gaucHo°Ty≥
[16];

505 
UCHAR
 
	gaucH™dShake
[16];

506 
UCHAR
 
	gaucBﬂrdVî
[8];

507 
UCHAR
 
	gaucSo·Vî
[8];

508 
UCHAR
 
	gaucEïromVî
[8];

509 
UCHAR
 
	gaucBoŸVî
[8];

510 } 
	tONU_BOARD_UID_S
;

511 
	eègINF_ONU_BOARD_TYPE


513 
	gONU_BORAD_TYPE_EPN104
,

514 
	gONU_BOARD_TYPE_BUTT


515 } 
	tONU_BOARD_TYPE_E
;

517 
	eègEOAM_ONU_AUTHORIZE_STATUS


519 
	gEOAM_ONU_AUTHORIZE_STATUS_PASS
 = 0,

520 
	gEOAM_ONU_AUTHORIZE_STATUS_CANCEL
,

521 
	gEOAM_ONU_AUTHORIZE_STATUS_BUTT


522 } 
	tEOAM_ONU_AUTHORIZE_STATUS_E
;

525 
	eègEOAM_ONU_AUTHORIZE_REASON


527 
	gEOAM_ONU_AUTHORIZE_REASON_UNDOSHUTDOWN
 = 0,

528 
	gEOAM_ONU_AUTHORIZE_REASON_SHUTDOWN
,

529 
	gEOAM_ONU_AUTHORIZE_REASON_BUTT


530 } 
	tEOAM_ONU_AUTHORIZE_REASON_E
;

535 
	th3c_£m_t
;

538 
	sègEOAM_CTL_BLOCK


541 
ULONG
 
	gucVî
 : 2;

542 
ULONG
 
	gucRe£rved1
 : 6;

545 
ULONG
 
	gbNìdRïœy
 : 1;

546 
ULONG
 
	gbLa°Pkt
 : 1;

547 
ULONG
 
	gbSuµ‹tRëøns
 : 1;

548 
ULONG
 
	gbNìdRëøns
 : 1;

549 
ULONG
 
	gucRëønsC¡
 : 2;

550 
ULONG
 
	gucRe£rved2
 : 2;

553 
ULONG
 
	gusPacC¡
 : 11;

554 
ULONG
 
	gucRe£rved3
 : 4;

555 
ULONG
 
	gbFú°
 : 1;

556 } 
	tEOAM_CTL_BLOCK_S
;

559 
	sègEOAM_PAD_INFO


561 
UCHAR
 *
	gpucOui
;

562 
UCHAR
 
	gucPduTy≥
;

563 
USHORT
 
	gusReqId
;

564 
UCHAR
 
	gucEºCode
;

567 
ULONG
 
	gulReqCå
;

568 
EOAM_CTL_BLOCK_S
 
	g°Cé
;

569 } 
	gunCé
;

570 } 
	tEOAM_PAD_INFO_S
;

573 
	sègEOAM_PAD_PTR


575 
UCHAR
 *
	gpucPadHdr
;

576 
UCHAR
 *
	gpucPadD©a
;

577 
UCHAR
 *
	gpucEvtD©a
;

578 
USHORT
 
	gusPadLí
;

579 } 
	tEOAM_PAD_PTR_S
;

582 
	sègEOAM_RECEIVE_PKT


584 
UCHAR
 
	gaucPadBuf
[
EOAM_PAD_MAX_SIZE
];

585 
EOAM_PAD_INFO_S
 
	g°Info
;

586 
EOAM_PAD_PTR_S
 
	g°På
;

587 
h3c_£m_t
 
	g°Sem
;

588 } 
	tEOAM_RECEIVE_PKT_S
;

591 
	sègEOAM_SEND_PKT


593 
UCHAR
 
	gaucEthHdr
[
EOAM_ETH_HDR_SIZE
];

594 
UCHAR
 
	gaucPadBuf
[
EOAM_PAD_MAX_SIZE
];

595 
EOAM_PAD_PTR_S
 
	g°På
;

596 
h3c_£m_t
 
	g°Sem
;

597 } 
	tEOAM_SEND_PKT_S
;

599 
	eègACL_FILTER_TYPE


601 
	gFILTER_SRC_MAC
,

602 
	gFILTER_DEST_MAC
,

603 
	gFILTER_ETHER_TYPE
,

604 
	gFILTER_VLAN_ID
,

605 
	gFILTER_SRC_IP
,

606 
	gFILTER_DEST_IP
,

607 
	gBIND_SRC_IP
,

608 
	gBIND_DEST_IP
,

609 
	gFILTER_SRC_TCP
,

610 
	gFILTER_DEST_TCP
,

611 
	gFILTER_SRC_UDP
,

612 
	gFILTER_DEST_UDP
,

613 
	gFILTER_BUTT


614 } 
	tACL_FILTER_TYPE_E
;

617 
	uègACL_FILTER_VALUE


619 
UCHAR
 
	gaucMacAddr
[
MAC_ADDR_LEN
];

620 
ULONG
 
	gusEthîTy≥
;

621 
ULONG
 
	gusVœnId
;

622 
ULONG
 
	gulIpAddr
;

623 
ULONG
 
	gusP‹t
;

624 } 
	tACL_FILTER_VALUE_U
;

626 
	eègONU_DIRECTION


628 
	gDIRECTION_UPLINK
,

629 
	gDIRECTION_DOWNLINK
,

630 
	gDIRECTION_BOTH
,

631 
	gDIRECTION_BUTT


632 } 
	tONU_DIRECTION_E
;

636 
	sègACL_FILTER_RULE


638 
ACL_FILTER_TYPE_E
 
	gíTy≥
;

639 
ONU_DIRECTION_E
 
	gíDúe˘
;

640 
ACL_FILTER_VALUE_U
 
	gunVÆue
;

641 
ULONG
 
	guiRuÀPª˚dí˚
;

642 } 
	tACL_FILTER_RULE_S
;

646 
	sègEﬂm_Fûãr


648 
ACL_FILTER_RULE_S
 
	g°Hód
;

649 
ACL_FILTER_RULE_S
 *
	g°Next
;

650 
ULONG
 
	gulNum
;

651 }
	tEOAM_FILTER_S
;

653 
	uègACL_CLF_RMK_VAL


655 
UCHAR
 
	gaucMacAddr
[
MAC_ADDR_LEN
];

656 
ULONG
 
	gulVÆue
;

657 } 
	tACL_CLF_RMK_VAL_EN
;

660 
	eègEOAM_REQEST_ID


662 
	gEOAM_GET_UNISTATUS
 = 0,

663 
	gEOAM_SET_UNISTATUS
,

664 
	gEOAM_UPDATE_ONUSOFTWARE
,

665 
	gEOAM_DOT1X_CTRL
,

666 
	gEOAM_MC_FILTER_CTRL
,

667 
	gEOAM_SET_RESETONU
,

668 
	gEOAM_GET_MIBINFO
,

669 
	gEOAM_RESTORE_EEPROM
,

670 
	gEOAM_GET_S3100MAC
,

671 
	gEOAM_SET_1XNAMEPASSWORD
,

672 
	gEOAM_GET_1XNAMEPASSWORD
,

673 
	gEOAM_SET_RSTONUCNT
,

674 
	gEOAM_ADD_IGSPFILTER
,

675 
	gEOAM_DEL_IGSPFILTER
,

676 
	gEOAM_NOTIFY_BRIGDEMAC
,

677 
	gEOAM_GET_IGSPFILTER
,

678 
	gEOAM_GET_VERSION
,

679 
	gEOAM_STP_CTRL
,

680 
	gEOAM_OPTION82_CTRL
,

681 
	gEOAM_WFQ_SPQ_SWITCH
,

682 
	gEOAM_BIND_IPADDRESS
,

683 
	gEOAM_GET_CPURATE
,

684 
	gEOAM_GET_UPDATERECORD
,

685 
	gEOAM_GET_SELFTESTRECORD
,

686 
	gEOAM_UPDATE_EEPROM
,

687 
	gEOAM_SAVE_EEPROM
,

688 
	gEOAM_PRIORITYMODE_CTRL
,

689 
	gEOAM_SUBPORT_ENABLE
,

690 
	gEOAM_SUBPORT_VLANMODE_CTRL
,

691 
	gEOAM_SET_SUBPORT_VLAN
,

692 
	gEOAM_SET_SUBPORT_PRIORITY
,

693 
	gEOAM_SET_SUBPORT_BANDWIDTH
,

694 
	gEOAM_SUBPORT_FLOW_CTRL
,

695 
	gEOAM_SUBPORT_SPEED_CTRL
,

696 
	gEOAM_SUBPORT_DUPLEX_CTRL
,

697 
	gEOAM_GET_SUBPORT_DATA
,

698 
	gEOAM_SET_SUBPORT_TRUNKVLAN
,

699 
	gEOAM_FLASH_DATATEST
,

700 
	gEOAM_FLASH_ADDRTEST
,

701 
	gEOAM_FLASH_BLOCKTEST
,

702 
	gEOAM_WATCHDOG_TEST
,

703 
	gEOAM_EEPROM_TEST
,

704 
	gEOAM_INNER_LOOPBACK
,

705 
	gEOAM_EXTERN_LOOPBACK
,

706 
	gEOAM_OPTICS_STATUSTEST
,

707 
	gEOAM_GET_VERSION_EQUIP
,

708 
	gEOAM_GET_SDRAMTEST
,

709 
	gEOAM_GET_MANUINFO
,

710 
	gEOAM_SET_MANUINFO
,

711 
	gEOAM_SET_RSTSUBPORTCNT
,

712 
	gEOAM_SET_SUBPORT_MDI
,

713 
	gEOAM_SUBPORT_QINQ_CTRL
,

714 
	gEOAM_GET_IGSP_DATA
,

715 
	gEOAM_GET_STP_DATA
,

716 
	gEOAM_UPDATE_ONUBOOTROM
,

717 
	gEOAM_IGSP_CTRL
,

718 
	gEOAM_SET_DEBUG_DEST
,

719 
	gEOAM_SET_ONU_MAC
,

720 
	gEOAM_GET_ONU_MAC
,

721 
	gEOAM_SET_ONU_CMD
,

722 
	gEOAM_DEL_6045_MAC_TBL
,

723 
	gEOAM_SET_SUBPORT_CFG
,

724 
	gEOAM_SET_ONU_MSG_FILTER
,

725 
	gEOAM_SET_ONU_FLOW_CLASS
,

726 
	gEOAM_SET_ONU_QUEUE_SIZE
,

727 
	gEOAM_SET_ONU_UNI_MAC_NUM
,

728 
	gEOAM_GET_ONU_PON_STATISTICS
,

729 
	gEOAM_SET_LIGHT_MODE
,

730 
	gEOAM_SET_PQ_POLICER
,

731 
	gEOAM_DIAG_CONSOLE_TEST
,

732 
	gEOAM_ADD_STATIC_MAC
,

733 
	gEOAM_DEL_STATIC_MAC
,

734 
	gEOAM_SET_SUBPORT_ISOLATE
,

735 
	gEOAM_GET_ONU_LIGHT_MODE
,

736 
	gEOAM_SET_ONU_WORK_MODE
 ,

737 
	gEOAM_SET_ONU_IP_ADDR
,

738 
	gEOAM_SET_UNI_BLOCK
,

739 
	gEOAM_SET_LED_CTRL
,

740 
	gEOAM_SET_6045_TEST
,

741 
	gEOAM_GET_BOARD_INFO
,

742 
	gEOAM_GET_OPTICMODE_TYPE
,

743 
	gEOAM_PPPOE_PLUS_CTRL
,

744 
	gEOAM_SET_ONU_PORT_NUM
,

745 
	gEOAM_SET_COS_MAP_LOCAL
,

746 
	gEOAM_GET_DHCP_CLIENT_INFO
,

747 
	gEOAM_SET_UNI_IGSP_FAST_LEAVE
,

748 
	gEOAM_SET_UNI_MIRROR
,

749 
	gEOAM_SET_UNI_MONITOR
,

750 
	gEOAM_DHCP_CTRL
,

751 
	gEOAM_SET_MANAGEMENT_VLAN
,

752 
	gEOAM_SET_MANAGEMENT_VLAN_INTF
,

753 
	gEOAM_SET_IGSP_PRO
,

754 
	gEOAM_SET_DHCP_CLIENT
,

755 
	gEOAM_GET_DHCP_SNOOPING_INFO
,

756 
	gEOAM_QINQ_CTRL
,

757 
	gEOAM_NOTIFY_ONU_AUTHORIZE
,

758 
	gEOAM_NOTIFY_ACCESS_PVID
,

759 
	gEOAM_GET_UNI_VCT
,

760 
	gEOAM_SET_ONU_EVENT
,

761 
	gEOAM_ADD_STATIC_MCAST_MAC
,

762 
	gEOAM_DEL_STATIC_MCAST_MAC
,

763 
	gEOAM_SET_SUBPORT_QINQ
,

764 
	gEOAM_GET_MULTI_PON_PHY_INFO
,

765 
	gEOAM_GET_ONU_SMART_LINK_INFO
,

766 
	gEOAM_GET_S485_PROPERTYCFG
,

767 
	gEOAM_GET_S485_SESSIONCFG_G
,

768 
	gEOAM_GET_S485_SESSIONCFG_D
,

769 
	gEOAM_SET_S485_SESSIONCFG_D
,

770 
	gEOAM_SET_S485_PROPERTYCFG
,

771 
	gEOAM_SET_SUBPORT_SPEED_1000
,

772 
	gEOAM_SET_ONU_LUMINESCENCE_OFF
,

774 
	gEOAM_SET_ECONUVLANID
 = 0x0100,

775 
	gEOAM_SET_ECONUPRIORITY
 = 0x0101,

776 
	gEOAM_SET_ECONU_LED
 = 0x0102,

777 
	gEOAM_SET_ET704_VLANMODE
 = 0x0200,

778 
	gEOAM_SET_ET704_SUBPORTCFG
 = 0x0201,

779 
	gEOAM_NOTIFY_LOOPBACK
 = 0x0202,

780 
	gEOAM_NOTIFY_NO_LOOPBACK
 = 0x0203,

781 
	gEOAM_REQEST_BUTT
,

783 
	gEOAM_GET_ONU_STRINGS
 = 0xFFFD,

784 
	gEOAM_BATCH_GET
 = 0xEEEE,

785 
	gEOAM_UNI_BATCH_SET
 = 0xFFFE,

786 
	gEOAM_BATCH_SET
 = 0xFFFF

787 } 
	tEOAM_REQEST_ID_E
;

790 
	eègEOAM_EVENT_TYPE


792 
	gEOAM_EVENT_SUBPORT_STATUS_CHANGE
 = 0,

793 
	gEOAM_EVENT_UPDATE_SOFTWARE_FAILURE
,

794 
	gEOAM_EVENT_DEBUG_INFO_REPORT
,

795 
	gEOAM_EVENT_MC_MAC_IS_EMPTY
,

796 
	gEOAM_EVENT_SMLK_NEIGHBOR_FROM31
,

797 
	gEOAM_EVENT_SET_TRUNK_FINISH
,

798 
	gEOAM_EVENT_DEBUG_STRING
,

799 
	gEOAM_EVENT_LOG_STRING
,

800 
	gEOAM_EVENT_TRAP_STRING
,

801 
	gEOAM_EVENT_LAST_HANDLER


802 } 
	tEOAM_EVENT_TYPE_E
;

804 
	eègEOAM_LED_CTRL_CODE


806 
	gEOAM_LED_CTRL_ON
,

807 
	gEOAM_LED_CTRL_OFF
,

808 
	gEOAM_LED_CTRL_DEFAULT
,

809 
	gEOAM_LED_CTRL_BUTT


810 }
	tEOAM_LED_CTRL_CODE_E
;

813 
	eègLIGHT_MODE


815 
	gLIGHT_MODE_OFF
 = 0,

816 
	gLIGHT_MODE_ALWAYS
 = 1,

817 
	gLIGHT_MODE_NOMAL
 = 2,

818 
	gLIGHT_MODE_BUTT


819 } 
	tLIGHT_MODE_E
;

822 
	#IS_BATCH_SET_CFG
(
íReqId
Ë\

	)

823 –(
	gíReqId
 =
EOAM_STP_CTRL
) \

824 || (
íReqId
 =
EOAM_IGSP_CTRL
) \

825 || (
íReqId
 =
EOAM_OPTION82_CTRL
) \

826 || (
íReqId
 =
EOAM_PRIORITYMODE_CTRL
) \

827 || (
íReqId
 =
EOAM_WFQ_SPQ_SWITCH
) \

828 || (
íReqId
 =
EOAM_BIND_IPADDRESS
) \

829 || (
íReqId
 =
EOAM_SET_ONU_IP_ADDR
) \

830 || (
íReqId
 =
EOAM_SET_ONU_MSG_FILTER
) \

831 || (
íReqId
 =
EOAM_SET_ONU_FLOW_CLASS
) \

832 || (
íReqId
 =
EOAM_SET_ONU_QUEUE_SIZE
) \

833 || (
íReqId
 =
EOAM_SET_PQ_POLICER
) \

834 || (
íReqId
 =
EOAM_SET_ONU_UNI_MAC_NUM
) \

835 || (
íReqId
 =
EOAM_PPPOE_PLUS_CTRL
) \

836 || (
íReqId
 =
EOAM_SET_ONU_PORT_NUM
) \

837 || (
íReqId
 =
EOAM_SET_COS_MAP_LOCAL
) \

838 || (
íReqId
 =
EOAM_SET_UNI_IGSP_FAST_LEAVE
) \

839 || (
íReqId
 =
EOAM_SET_UNI_MONITOR
) \

840 || (
íReqId
 =
EOAM_DHCP_CTRL
) \

841 || (
íReqId
 =
EOAM_SET_MANAGEMENT_VLAN
) \

842 || (
íReqId
 =
EOAM_SET_MANAGEMENT_VLAN_INTF
)\

843 || (
íReqId
 =
EOAM_SET_IGSP_PRO
) \

844 || (
íReqId
 =
EOAM_SET_DHCP_CLIENT
) \

845 || (
íReqId
 =
EOAM_QINQ_CTRL
) \

846 || (
íReqId
 =
EOAM_SET_SUBPORT_QINQ
) \

847 || (
íReqId
 =
EOAM_NOTIFY_ONU_AUTHORIZE
))

849 
	sPmc_Oam_Hódî
 {

850 
UCHAR
 
oui
[
EOAM_OUI_SIZE
];

851 
UCHAR
 
	gext_code
;

852 }
__©åibuã__
((
∑cked
));

853 
Pmc_Oam_Hódî
 
	tPMC_OAM_HEADER_S
;

855 
	#OAM_OAMPDU_CODE_SET_THRESH
 0x70

	)

857 
	eègQOS_Queue_Schedue_Mode


859 
	gQOS_QUEUE_SCHEDULER_MODE_WFQ
,

860 
	gQOS_QUEUE_SCHEDULER_MODE_SPQ
,

861 
	gQOS_QUEUE_SCHEDULER_MODE_BUTT


862 } 
	tQOS_QUEUE_SCHEDULER_MODE_E
;

864 
	eègQOS_Pri_Tru°_Mmode


866 
	gQOS_PRI_TRUST_MODE_IP_TOS
,

867 
	gQOS_PRI_TRUST_MODE_DOT1P
,

868 
	gQOS_PRI_TRUST_MODE_DSCP
,

869 
	gQOS_PRI_TRUST_MODE_PORT
,

870 
	gQOS_PRI_TRUST_MODE_BUTT


871 } 
	tQOS_PRI_TRUST_MODE_E
;

873 
	eègPORT_Dúe˘


875 
	gDIRECT_IN
,

876 
	gDIRECT_OUT
,

877 
	gDIRECT_BOTH
,

878 
	gDIRECT_END_OAM


879 }
	tPORT_DIRECT_E
;

881 
	eègPORT_Du∂ex


883 
	gDUPLEX_AUTO
,

884 
	gDUPLEX_FULL
,

885 
	gDUPLEX_HALF
,

886 
	gDUPLEX_END


887 }
	tPORT_DUPLEX_E
;

888 
	eèg_ALARM_OAM_TYPE


890 
	gOAM_THRSD_ERRORED_SYM_PRD
 = 0x0000,

891 
	gOAM_THRSD_ERRORED_FRAME
,

892 
	gOAM_THRSD_ERRORED_FRAME_PRD
,

893 
	gOAM_THRSD_ERRORED_FRM_SEC
,

894 
	gOAM_THRSD_TYPE_END


895 }
	tALARM_OAM_TYPE_E
;

898 
	eègPORT_STATUS


900 
	gSTATUS_UP
,

901 
	gSTATUS_DOWN
,

902 
	gSTATUS_BUTT


903 } 
	tPORT_STATUS_E
;

905 
	eègPORT_S≥ed


907 
	gSPEED_AUTO
,

908 
	gSPEED_10M
,

909 
	gSPEED_100M
,

910 
	gSPEED_1000M
,

911 
	gSPEED_END


912 }
	tPORT_SPEED_E
;

914 
	eègPORT_Mdi


916 
	gMDI_AUTO
,

917 
	gMDI_ACROSS
,

918 
	gMDI_NORMAL
,

919 
	gMDI_END


920 }
	tPORT_MDI_E
;

923 
	eègUNI_SPEED_MODE


925 
	gSPEED_MODE_AUTO
 = 0,

926 
	gSPEED_MODE_10M
 = 10,

927 
	gSPEED_MODE_100M
 = 100,

928 
	gSPEED_MODE_1000M
 = 1000,

929 
	gSPEED_MODE_BUTT


930 } 
	tUNI_SPEED_MODE_E
;

933 
	eègUNI_DUPLEX_MODE


935 
	gDUPLEX_MODE_HALF
,

936 
	gDUPLEX_MODE_FULL
,

937 
	gDUPLEX_MODE_AUTO
,

938 
	gDUPLEX_MODE_BUTT


939 } 
	tUNI_DUPLEX_MODE_E
;

941 
	#CABLE_PAIR_NUM
 4

	)

942 
	#VCT_NOT_SUPPORT
 0xFFFFFFFF

	)

944 
	eègVCT_CABLE_STATUS


946 
	gVCT_TEST_FAIL
,

947 
	gVCT_NORMAL_CABLE
,

948 
	gVCT_IMPEDANCE_MISMATCH
,

949 
	gVCT_OPEN_CABLE
,

950 
	gVCT_SHORT_CABLE
,

951 
	gVCT_SHORT_BUTT


952 }
	tVCT_CABLE_STATUS_E
;

954 
	sègVCT_CABLE_DIAG


956 
VCT_CABLE_STATUS_E
 
	g´nCabÀSètus
[
CABLE_PAIR_NUM
];

957 
USHORT
 
	gausCabÀLí
[
CABLE_PAIR_NUM
];

958 }
	tVCT_CABLE_DIAG_S
;

960 
	eíV˘Te°Sètus


962 
	gTEST_FAIL
 = 0,

963 
	gNORMAL_CABLE
,

964 
	gOPEN_CABLE
,

965 
	gSHORT_CABLE
,

966 
	gABNORMAL_CABLE
,

967 }
	tVCT_TEST_STATUS_E
;

969 
	sègV˘Te°Düg


971 
VCT_TEST_STATUS_E
 
	gíCabÀSètus
;

972 
ULONG
 
	gulCabÀLí
;

973 
ULONG
 
	gulIm≥d™˚Mism©ch
;

974 
ULONG
 
	gulPaúSkew
;

975 
ULONG
 
	gulPaúSw≠
;

976 
ULONG
 
	gulPﬁ¨ôySw≠
;

977 
ULONG
 
	gulIn£πi⁄Loss
;

978 
ULONG
 
	gulRëu∫Loss
;

979 
ULONG
 
	gulNóªndCros°Æk
;

980 }
	tVCT_TEST_DIAG_S
;

982 
	sègRt˘Resu…


984 
ULONG
 
	gaulCh™√lSh‹t
[
CABLE_PAIR_NUM
];

985 
ULONG
 
	gaulCh™√lO≥n
[
CABLE_PAIR_NUM
];

986 
ULONG
 
	gaulCh™√lMism©ch
[
CABLE_PAIR_NUM
];

987 
ULONG
 
	gaulCh™√lLí
[
CABLE_PAIR_NUM
];

988 }
	tRTCT_RESULT_S
;

993 c⁄° 
UCHAR
 
g_aucH3cOui
[
EOAM_OUI_SIZE
];

994 c⁄° 
UCHAR
 
g_aucPmcOui
[
EOAM_OUI_SIZE
];

997 
UINT8
 
g_bLightAlways
;

998 
USHORT
 
g_usBoŸLﬂdîVî
;

999 
UCHAR
 
g_ucOnuUpgødeId
;

1004 
VOID
 
EOAM_Inô
 ( VOID );

1005 
VOID
 
EOAM_Pkt_H™dÀ
 (
IN
 
UCHAR
 *
pucPkt
, IN 
USHORT
 
usPktLígth
);

1006 
VOID
 
POam_Pkt_H™dÀ
 (
IN
 
UCHAR
 *
pucPkt
, IN 
USHORT
 
usPktLígth
);

1007 
ULONG
 
EOAM_SídUpgødeResu…
 (
IN
 ULONG 
ulResu…
);

1008 
ULONG
 
EOAM_SídDebugInfo
 (
IN
 
UCHAR
 *
pucDebugInof
, IN 
USHORT
 
usInfoLígth
, IN UCHAR 
ucDebugLevñ
);

1009 
ULONG
 
EOAM_SídLogInfo
 (
IN
 
UCHAR
 *
pucLogInof
, IN 
USHORT
 
usInfoLígth
, IN UCHAR 
ucDebugLevñ
);

1010 
ULONG
 
EOAM_SídUniTøpInfo
 (
IN
 
UCHAR
 
ucUniNo
, IN UCHAR 
ucUniSèã
, IN UCHAR 
ucDebugLevñ
);

1011 
ULONG
 
EOAM_SídSçTøpInfo
 (
IN
 
UCHAR
 
ucUniNo
, IN UCHAR 
ucUniSèã
, IN UCHAR 
ucDebugLevñ
);

1012 
ULONG
 
EOAM_SídP⁄TøpInfo
 (
IN
 
UCHAR
 
ucP⁄Sèã
, IN UCHAR 
ucDebugLevñ
);

1013 
VOID
 
PrötH3cPackë
 (
IN
 
RXTX_ACT_E
 
íA˘
, IN 
UCHAR
 *
pucBuf
, IN 
USHORT
 
usLígth
);

1014 
ULONG
 
Drv_Di•SçInfo
 (
IN
 
UCHAR
 
ucSequí˚
, IN 
CHAR
 *
szSåög
);

1015 
ULONG
 
FUNC_GëP⁄Cou¡î
–
PON_COUNTERS_S
 *
p°Cås
 );

1016 
ONU_BOARD_TYPE_E
 
g_íOnuBﬂrdTy≥
;

1017 #ifde‡
__˝lu•lus


	@inc/user/opconn_usr_ioctrl.h

18 #i‚de‡
__OPCONN_USR_IOCTL__


19 
	#__OPCONN_USR_IOCTL__


	)

21 #i‚de‡
INOUT


22 
	#IN


	)

23 
	#OUT


	)

24 
	#INOUT


	)

32 
	#MAX_LASER_ON_TIME
 (0XFFFF)

	)

33 
	#MAX_LASER_OFF_TIME
 (0XFFFF)

	)

34 
	#MAX_SERDES_DELAY_TIME
 (0XFF)

	)

36 
	#CLASSIFY_MAX_FIELD
 32

	)

37 
	#CLASSIFY_MAX_ITEM_NUM
 128

	)

38 
	#CLT_CLASSIFY_MAX_DSCP
 64

	)

44 
	#TAB_CLS_MASK_LEN
 24

	)

45 
	#TAB_CLS_ADDR_LEN
 128

	)

46 
	#TAB_CLS_RULE_LEN
 128

	)

47 
	#TAB_CLS_COUNTER_LEN
 128

	)

48 
	#TAB_BRG_VTT_LEN
 16

	)

49 
	#TAB_PON_MAC_LEN
 64

	)

51 
	#TAB_US_SHPBD_LEN
 16

52 
	#TAB_US_SHPBD_PIR_START
 8

	)

53 
	#TAB_DS_SHPBD_LEN
 9

	)

55 
	#TAB_US_WRED_LEN
 8

	)

56 
	#TAB_DS_WRED_LEN
 8

	)

58 
	#TAB_Q_CONF_STA_LEN
 16

	)

59 
	#TAB_DMA0_RX_LEN
 64

	)

60 
	#TAB_DMA0_TX_LEN
 64

	)

61 
	#TAB_DMA1_RX_LEN
 64

	)

62 
	#TAB_DMA1_TX_LEN
 64

	)

65 
	#TAB_CLS_MASK_WIDTH
 7

	)

66 
	#TAB_CLS_ADDR_WIDTH
 1

	)

67 
	#TAB_CLS_RULE_WIDTH
 8

	)

68 
	#TAB_CLS_COUNTER_WIDTH
 1

	)

69 
	#TAB_BRG_VTT_WIDTH
 1

	)

70 
	#TAB_PON_MAC_WIDTH
 2

	)

71 
	#TAB_US_SHPBD_WIDTH
 1

	)

72 
	#TAB_DS_SHPBD_WIDTH
 1

	)

74 
	#TAB_US_WRED_WIDTH
 2

	)

75 
	#TAB_DS_WRED_WIDTH
 2

	)

77 
	#TAB_Q_CONF_STA_WIDTH
 2

	)

78 
	#TAB_DMA0_RX_WIDTH
 1

	)

79 
	#TAB_DMA0_TX_WIDTH
 1

	)

80 
	#TAB_DMA1_RX_WIDTH
 1

	)

81 
	#TAB_DMA1_TX_WIDTH
 1

	)

83 
	#TAB_MAX_WIDTH
 (10)

	)

86 
	#ONLY_SUPPORT_SINGLE_TAG
 1

	)

88 
	#CLASSIFY_ADDRESS_LENGTH
 0X7F

	)

89 
	#CLASSIFY_RULE_PUCKER_LEN
 12

	)

90 
	#CLASSIFY_CAL_VALUE_LEN
 16

	)

91 
	#CLASSIFY_MAX_RULE_ENTRY
 
TAB_CLS_RULE_LEN


	)

92 
	#CLASSIFY_MIN_MASK_ENTRY
 8

	)

93 
	#CLASSIFY_MAX_MASK_ENTRY
 
TAB_CLS_MASK_LEN


	)

94 
	#CLASSIFY_MAX_ADDR_ENTRY
 
TAB_CLS_ADDR_LEN


	)

95 
	#CLASSIFY_PACKET_HEADER_LEN
 80

	)

97 
	#CLASSIFY_6OFFSET_LENGTH
 24

	)

98 
	#CLASSIFY_5OFFSET_LENGTH
 20

	)

99 
	#CLASSIFY_4OFFSET_LENGTH
 16

	)

100 
	#CLASSIFY_3OFFSET_LENGTH
 12

	)

101 
	#CLASSIFY_2OFFSET_LENGTH
 8

	)

102 
	#CLASSIFY_1OFFSET_LENGTH
 4

	)

104 
	#CLASSIFY_KEYVALUE_LENGTH
 
CLASSIFY_6OFFSET_LENGTH


	)

106 
	#CLASSIFY_RULE_TABLE_GROUP
 4

	)

107 
	#CLASSIFY_OFFSET_MAX_STEP_VALUE
 12

	)

108 
	#CLASSIFY_OFFSET_LEN
 4

	)

109 
	#CLASSIFY_ENTRYS_PER_GROUP
 32

	)

110 
	#CLASSIFY_FIELD_MS_BIT
 0x80000000

	)

112 
	#CLASSIFY_MSEL_SET_FLAG
 1

	)

113 
	#CLASSIFY_MSEL_CLR_FLAG
 2

	)

115 
	#CLASSIFY_LOCAL_TBL
 1

	)

116 
	#CLASSIFY_HW_TBL
 2

	)

117 
	#CLASSIFY_OFFSET_NUM
 
CLASSIFY_FOFFSET_6


	)

119 
	#CLASSIFY_TRAN_ACTION_COPY
 
OPL_REG_BIT0


	)

120 
	#CLASSIFY_TRAN_ACTION_DROP
 
OPL_REG_BIT1


	)

121 
	#CLASSIFY_TRAN_ACTION_REDIRECTUNI
 
OPL_REG_BIT2


	)

122 
	#CLASSIFY_TRAN_ACTION_REDIRECTALL
 
OPL_REG_BIT3


	)

123 
	#CLASSIFY_TRAN_ACTION_MIRROR
 
OPL_REG_BIT4


	)

124 
	#CLASSIFY_TRAN_ACTION_NOTCOPY
 
OPL_REG_BIT5


	)

125 
	#CLASSIFY_TRAN_ACTION_NOTDROP
 
OPL_REG_BIT6


	)

127 
	#CLASSIFY_OPTRAN_ACTION_NOTCOPY
 
OPL_REG_BIT2


	)

128 
	#CLASSIFY_OPTRAN_ACTION_NOTDROP
 
OPL_REG_BIT3


	)

130 
	#CLASSIFY_RMK_ACTION_SET_DEI
 
OPL_REG_BIT0


	)

131 
	#CLASSIFY_RMK_ACTION_CHANGE_IDEI
 
OPL_REG_BIT1


	)

132 
	#CLASSIFY_RMK_ACTION_CHANGE_V4TOS
 
OPL_REG_BIT2


	)

133 
	#CLASSIFY_RMK_ACTION_CHANGE_V6TOS
 
OPL_REG_BIT3


	)

134 
	#CLASSIFY_RMK_ACTION_CHANGE_ICOS
 
OPL_REG_BIT4


	)

135 
	#CLASSIFY_RMK_ACTION_CHANGE_SCOS
 
OPL_REG_BIT5


	)

136 
	#CLASSIFY_RMK_ACTION_CHANGE_CCOS
 
OPL_REG_BIT6


	)

137 
	#CLASSIFY_RMK_ACTION_CHANGE_CVID
 
OPL_REG_BIT7


	)

138 
	#CLASSIFY_RMK_ACTION_CHANGE_SVID
 
OPL_REG_BIT8


	)

140 
	#CLASSIFY_RMK_IDEI_FROM_RULE
 0

	)

141 
	#CLASSIFY_RMK_IDEI_FROM_SCOS
 
OPL_REG_BIT0


	)

142 
	#CLASSIFY_RMK_IDEI_FROM_V4DSCP
 
OPL_REG_BIT1


	)

143 
	#CLASSIFY_RMK_IDEI_FROM_V6DSCP
 ((
OPL_REG_BIT0
Ë| (
OPL_REG_BIT1
))

	)

145 
	#CLASSIFY_RMK_TOS_FROM_RULE
 0

	)

146 
	#CLASSIFY_RMK_TOS_FROM_SCOS
 
OPL_REG_BIT0


	)

147 
	#CLASSIFY_RMK_TOS_FROM_CCOS
 
OPL_REG_BIT1


	)

149 
	#CLASSIFY_RMK_ICOS_FROM_RULE
 0

	)

150 
	#CLASSIFY_RMK_ICOS_FROM_SCOS
 
OPL_REG_BIT0


	)

151 
	#CLASSIFY_RMK_ICOS_FROM_V4DSCP
 
OPL_REG_BIT1


	)

152 
	#CLASSIFY_RMK_ICOS_FROM_V6DSCP
 ((
OPL_REG_BIT0
Ë| (
OPL_REG_BIT1
))

	)

154 
	#CLASSIFY_RMK_SCOS_FROM_RULE
 0

	)

155 
	#CLASSIFY_RMK_SCOS_FROM_CCOS
 
OPL_REG_BIT0


	)

156 
	#CLASSIFY_RMK_SCOS_FROM_V4TOS
 
OPL_REG_BIT1


	)

157 
	#CLASSIFY_RMK_SCOS_FROM_V6TOS
 ((
OPL_REG_BIT0
Ë| (
OPL_REG_BIT1
))

	)

159 
	#CLASSIFY_RMK_CCOS_FROM_RULE
 0

	)

160 
	#CLASSIFY_RMK_CCOS_FROM_SCOS
 
OPL_REG_BIT0


	)

161 
	#CLASSIFY_RMK_CCOS_FROM_V4TOS
 
OPL_REG_BIT1


	)

162 
	#CLASSIFY_RMK_CCOS_FROM_V6TOS
 ((
OPL_REG_BIT0
Ë| (
OPL_REG_BIT1
))

	)

166 
	mCLASSIFY_FOFFSET_1
 = 1,

167 
	mCLASSIFY_FOFFSET_2
,

168 
	mCLASSIFY_FOFFSET_3
,

169 
	mCLASSIFY_FOFFSET_4
,

170 
	mCLASSIFY_FOFFSET_5
,

171 
	mCLASSIFY_FOFFSET_6


177 
	mCLASSIFY_FOFFSET_VALUE_0
,

178 
	mCLASSIFY_FOFFSET_VALUE_1
,

179 
	mCLASSIFY_FOFFSET_VALUE_2
,

180 
	mCLASSIFY_FOFFSET_VALUE_3
,

181 
	mCLASSIFY_FOFFSET_VALUE_4
,

182 
	mCLASSIFY_FOFFSET_VALUE_5
,

183 
	mCLASSIFY_FOFFSET_VALUE_6
,

184 
	mCLASSIFY_FOFFSET_VALUE_7
,

185 
	mCLASSIFY_FOFFSET_VALUE_8
,

186 
	mCLASSIFY_FOFFSET_VALUE_9
,

187 
	mCLASSIFY_FOFFSET_VALUE_10
,

188 
	mCLASSIFY_FOFFSET_VALUE_11
,

193 
	mOFFSET_FIND_MATCH_STARTBIT
 = 1,

194 
	mOFFSET_FIND_CLOSEST_STARTBIT
,

195 
	mOFFSET_FIND_NONE
,

200 
	mOFFSET_WINDOWS_SEARCH_LOOP_1
 = 1,

201 
	mOFFSET_WINDOWS_SEARCH_LOOP_2


206 
	mSET_DEI
,

207 
	mCHANGE_IDEI
,

208 
	mCHANGE_V4TOS
,

209 
	mCHANGE_V6TOS
,

210 
	mCHANGE_ICOS
,

211 
	mCHANGE_SCOS
,

212 
	mCHANGE_CCOS
,

213 
	mCHANGE_CVID
,

214 
	mCHANGE_SVID
,

219 
	mRULE_IDEI
 = 1,

220 
	mV4TOS
,

221 
	mV6TOS
,

222 
	mRULE_ICOS
,

223 
	mSCOS
,

224 
	mCCOS
,

225 
	mRULE_SCOS
,

226 
	mRULE_CCOS
,

227 
	mRULE_TOS
,

228 
	mV4DSCP
,

229 
	mV6DSCP
,

235 
	#MULTCAST_CLS_STARTID
 96

	)

236 
	#MAX_GROUP_NUM
 32

	)

240 
	#MC_MAX_GROUP_NUM
 64

	)

242 
	#MC_MAX_GROUP_NUM
 ((
ODM_NUM_OF_PORTS
)*(
ODM_MAX_GRUP_NUM_PER_PORT
))

	)

247 
	#DAL_VTT_REC_INVALID
 (0)

	)

248 
	#DAL_VTT_REC_VALID
 (1)

	)

249 
	#DAL_VTT_FULL
 (-100)

	)

251 
	#DAL_VTT_PORT_DEFAULT
 (0)

	)

252 
	#DAL_VTT_PON_PORT_STRIP
 (1)

	)

253 
	#DAL_VTT_GE_PORT_STRIP
 (1)

	)

255 
	#DAL_TAG_STRIP_EN
 (1)

	)

256 
	#DAL_TAG_STRIP_DIS
 (0)

	)

257 
	#DAL_VTT_LOOKUPFAIL_BY_PASS
 (1)

	)

258 
	#DAL_VTT_LOOKUPFAIL_DROP
 (0)

	)

260 
	#DAL_PORT_DEFAULT_PVID
 (1)

	)

262 
	#DAL_PORT_PVID_VTT_ENTRY_START_NUM
 (11)

	)

263 
	#DAL_PORT_PVID_VTT_ENTRY_NUM
 (1)

	)

265 
	#DAL_PORT_VTT_ENTRY_START_NUM
 (0)

	)

266 
	#DAL_PORT_VTT_ENTRY_NUM
 (11)

	)

268 
	#DAL_PORT_MCAST_ENTRY_START_NUM
 (12)

	)

269 
	#DAL_PORT_MCAST_ENTRY_NUM
 (4)

	)

271 #¥agm®
∑ck
(1)

275 
	sDAL_PON_STATUS_s
{

276 
UINT32
 
	mbfG©ePídögNum
:5;

277 
UINT32
 
	mbfRsved0
:8;

278 
UINT32
 
	mbfDiscLEvít
:4;

279 
UINT32
 
	mbfDiscCEvít
:4;

280 
UINT32
 
	mbfDiscLSèã
:4;

281 
UINT32
 
	mbfDiscCSèã
:4;

282 }
	tDAL_PON_STATUS_t
;

287 
	mCLASSIFY_NO_TAG
 = 
OPL_ZERO
,

288 
	mCLASSIFY_ONE_TAG
 = 1,

289 
	mCLASSIFY_TWO_TAG


294 
	mCLASSIFY_PPPOE_IP
 = 1,

295 
	mCLASSIFY_EII_IP
,

300 
	mCLASSIFY_DAL_TABLE
,

301 
	mCLASSIFY_ASIC_TABLE
,

302 
	mCLASSIFY_DAL_AND_ASIC_TABLE


308 
	mCLASSIFY_DESTINATIONMAC
 =0,

309 
	mCLASSIFY_SOURCEMAC
,

313 
	mCLASSIFY_FIRST_TPID
,

314 
	mCLASSIFY_FIRST_COS
,

315 
	mCLASSIFY_FIRST_VLAN
,

316 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


318 
	mCLASSIFY_SECOND_TPID
,

319 
	mCLASSIFY_SECOND_COS
,

320 
	mCLASSIFY_SECOND_VLAN
,

323 
	mCLASSIFY_TYPE_LENGTH
,

326 
	mCLASSIFY_VERSION
,

328 
	mCLASSIFY_TOS
,

334 
	mCLASSIFY_PRO_TYPE
,

336 
	mCLASSIFY_SOURCE_IP
,

337 
	mCLASSIFY_DESTINATION_IP
,

340 
	mCLASSIFY_SOURCE_PORT
,

341 
	mCLASSIFY_DESTINATION_PORT
,

344 
	mCLASSIFY_USER_FIELD1
,

345 
	mCLASSIFY_LAST_NULL_FIELD


351 
	mCLASSIFY_PPPOE_DESTINATIONMAC
 =0,

352 
	mCLASSIFY_PPPOE_SOURCEMAC
,

356 
	mCLASSIFY_PPPOE_FIRST_TPID
,

357 
	mCLASSIFY_PPPOE_FIRST_COS
,

358 
	mCLASSIFY_PPPOE_FIRST_VLAN
,

359 
	mCLASSIFY_PPPOE_SECOND_TPID
,

360 
	mCLASSIFY_PPPOE_SECOND_COS
,

361 
	mCLASSIFY_PPPOE_SECOND_VLAN
,

364 
	mCLASSIFY_PPPOE_TYPE_LENGTH
,

365 
	mCLASSIFY_PPPOE_CODE
,

367 
	mCLASSIFY_PPPOE_PPPPRO_TYPE
,

368 
	mCLASSIFY_PPPOE_LCPIPCPCODE
,

369 
	mCLASSIFY_PPPOE_IPVER
,

374 
	mCLASSIFY_PPPOE_TOS
,

380 
	mCLASSIFY_PPPOE_PRO_TYPE
,

382 
	mCLASSIFY_PPPOE_SOURCE_IP
,

383 
	mCLASSIFY_PPPOE_DESTINATION_IP
,

386 
	mCLASSIFY_PPPOE_SOURCE_PORT
,

387 
	mCLASSIFY_PPPOE_DESTINATION_PORT
,

390 
	mCLASSIFY_PPPOE_USER_FIELD1
,

391 
	mCLASSIFY_PPPOE_LAST_NULL_FIELD


394 
	eTRAF_ACTION_s


396 
	mCOPY_PACKETS_TO_CPU
 = 1,

397 
	mDROP_PACKETS
 = 2,

398 
	mDO_NOT_COPY_TO_CPU
 = 4,

399 
	mDO_NOT_DROP
 = 8

400 }
	tTRAF_ACTION_e
;

402 
	eRMK_ACTION_s


404 
	mCHANGE_COS_FIELD
 = 1,

405 
	mCHANGE_ICOS_FIELD
 = 2,

406 
	mDO_NOT_OP_VLAN0
 = 0,

407 
	mDO_NOT_OP_VLAN1
 = 4,

408 
	mINSERT_TAG_AFTER_SA
 = 8,

409 
	mCHANGE_VID_AS_RULE_VID
 = 0XC,

410 }
	tRMK_ACTION_e
;

412 
	eCTC_ETHER_PRI_s


414 
	mCTC_ETHER_PRI_0
 = 0X00,

415 
	mCTC_ETHER_PRI_1
 = 0X01,

416 
	mCTC_ETHER_PRI_2
 = 0X02,

417 
	mCTC_ETHER_PRI_3
 = 0X03,

418 
	mCTC_ETHER_PRI_4
 = 0X04,

419 
	mCTC_ETHER_PRI_5
 = 0X05,

420 
	mCTC_ETHER_PRI_6
 = 0X06,

421 
	mCTC_ETHER_PRI_7
 = 0X07,

422 
	mCTC_ETHER_PRI_END
 = 0XFF

423 }
	tCTC_ETHER_PRI_e
;

425 
	eCTC_QUEUE_MAP_s


427 
	mCTC_QUEUE_MAP_0
 = 0X00,

428 
	mCTC_QUEUE_MAP_1
 = 0X01,

429 
	mCTC_QUEUE_MAP_2
 = 0X02,

430 
	mCTC_QUEUE_MAP_3
 = 0X03,

431 
	mCTC_QUEUE_MAP_4
 = 0X04,

432 
	mCTC_QUEUE_MAP_5
 = 0X05,

433 
	mCTC_QUEUE_MAP_6
 = 0X06,

434 
	mCTC_QUEUE_MAP_7
 = 0X07,

435 
	mCTC_QUEUE_MAP_END
 = 0XFF

436 }
	tCTC_QUEUE_MAP_e
;

439 #i‡
deföed
(
ONU_4PORT_AR8327
)

440 
	#DAL_MAX_PORT_LEARN_LIMIT_NUM
 1024

	)

442 
	eègFDB_MAC_TYPE_E


444 
	mFDB_MAC_INVALID
,

445 
	mFDB_MAC_DYNAMIC
,

446 
	mFDB_MAC_STATIC
,

447 
	mFDB_MAC_DISCARD
,

448 
	mFDB_MAC_TYPE_MAX


449 }
	tFDB_MAC_TYPE_E
;

451 
	eègFDB_MAC_TYPE_E


453 
	mFDB_MAC_INVALID
,

454 
	mFDB_MAC_DYNAMIC
,

455 
	mFDB_MAC_STATIC
,

456 
	mFDB_MAC_TYPE_MAX


457 }
	tFDB_MAC_TYPE_E
;

460 
	eFDB_PORT_TYPE_e


462 
	mFDB_PORT_TYPE_GE
,

463 
	mFDB_PORT_TYPE_PON
,

464 
	mFDB_PORT_TYPE_MAX


465 }
	tFDB_PORT_TYPE_t
;

467 
	sègFDB_MAC_ENTRY_INFO_S


469 
UINT16
 
	musTy≥
;

470 
UINT16
 
	musP‹tTy≥
;

471 
UINT16
 
	musP‹tBôm≠
;

472 
UINT16
 
	musVœnId
;

473 
UINT8
 
	maucMacAddªss
[6];

474 }
	tFDB_MAC_ENTRY_INFO_S
;

477 
	sGROUP_ADDR_CLS_INDEX_MAP_s
{

478 
UINT8
 
	mvÆid
;

479 
UINT16
 
	m˛sIndex
;

480 
UINT8
 
	mmac
[
MAC_LENGTH
];

481 
UINT16
 
	mvid
;

482 
UINT32
 
	mù
;

483 }
	tGROUP_ADDR_CLS_INDEX_MAP_t
;

486 
	sCLASSIFY_ADDR_TBL_s


488 #ifde‡
OPCONN_BIG_ENDIAN


489 
UINT32
 
	mbfRe£rved
:12;

490 
UINT32
 
	mbfAddr3
:5;

491 
UINT32
 
	mbfAddr2
:5;

492 
UINT32
 
	mbfAddr1
:5;

493 
UINT32
 
	mbfAddr0
:5;

495 
UINT32
 
	mbfAddr0
:5;

496 
UINT32
 
	mbfAddr1
:5;

497 
UINT32
 
	mbfAddr2
:5;

498 
UINT32
 
	mbfAddr3
:5;

499 
UINT32
 
	mbfRe£rved
:12;

501 }
	tCLASSIFY_ADDR_TBL_t
;

503 
	sCLASSIFY_MASK_TBL_s


505 #ifde‡
OPCONN_BIG_ENDIAN


506 
UINT32
 
	mbfRe£rved
:5;

507 
UINT32
 
	mbfVÆid
:1;

508 
UINT32
 
	mbfImask
:1;

509 
UINT32
 
	mbfEmask
:1;

510 
UINT32
 
	mbfOff£t6
:4;

511 
UINT32
 
	mbfOff£t5
:4;

512 
UINT32
 
	mbfOff£t4
:4;

513 
UINT32
 
	mbfOff£t3
:4;

514 
UINT32
 
	mbfOff£t2
:4;

515 
UINT32
 
	mbfOff£t1
:4;

517 
UINT8
 
	mMask
[
CLASSIFY_KEYVALUE_LENGTH
];

519 
UINT32
 
	mbfOff£t1
:4;

520 
UINT32
 
	mbfOff£t2
:4;

521 
UINT32
 
	mbfOff£t3
:4;

522 
UINT32
 
	mbfOff£t4
:4;

523 
UINT32
 
	mbfOff£t5
:4;

524 
UINT32
 
	mbfOff£t6
:4;

525 
UINT32
 
	mbfEmask
:1;

526 
UINT32
 
	mbfImask
:1;

527 
UINT32
 
	mbfVÆid
:1;

528 
UINT32
 
	mbfRe£rved
:5;

530 
UINT8
 
	mMask
[
CLASSIFY_KEYVALUE_LENGTH
];

532 } 
	tCLASSIFY_MASK_TBL_t
;

534 
	sCLASSIFY_RULE_TBL_s


536 #ifde‡
OPCONN_BIG_ENDIAN


537 
UINT32
 
	mbfRe£rved
:31;

538 
UINT32
 
	mbfTønA˘H
:1;

540 
UINT32
 
	mbfTønA˘L
:3;

541 
UINT32
 
	mbfEgªss
:1;

542 
UINT32
 
	mbfIngªss
:1;

543 
UINT32
 
	mbfRmkA˘
:4;

544 
UINT32
 
	mbfRmkCos
:3;

545 
UINT32
 
	mbfRmkIcos
:3;

546 
UINT32
 
	mbfRmkVid
:12;

547 
UINT32
 
	mbfM£l
:5;

549 
UINT8
 
	mRuÀ
[
CLASSIFY_KEYVALUE_LENGTH
];

551 
UINT32
 
	mbfTønA˘H
:1;

552 
UINT32
 
	mbfRe£rved
:31;

554 
UINT32
 
	mbfM£l
:5;

555 
UINT32
 
	mbfRmkVid
:12;

556 
UINT32
 
	mbfRmkIcos
:3;

557 
UINT32
 
	mbfRmkCos
:3;

558 
UINT32
 
	mbfRmkA˘
:4;

559 
UINT32
 
	mbfIngªss
:1;

560 
UINT32
 
	mbfEgªss
:1;

561 
UINT32
 
	mbfTønA˘L
:3;

563 
UINT8
 
	mRuÀ
[
CLASSIFY_KEYVALUE_LENGTH
];

565 }
	tCLASSIFY_RULE_TBL_t
;

567 
	sCLASSIFY_ADDR_RULEHIT_s


569 #ifde‡
OPCONN_BIG_ENDIAN


570 
UINT32
 
	mbfRe£rved
:8;

571 
UINT32
 
	mbfRuÀHô
:24;

574 
UINT32
 
	mbfRuÀHô
:24;

575 
UINT32
 
	mbfRe£rved
:8;

577 }
	tCLASSIFY_ADDR_RULEHIT_t
;

578 
	sCLASSIFY_METER_TBL_s


580 #ifde‡
OPCONN_BIG_ENDIAN


581 
UINT32
 
	mbfResv
:12;

582 
UINT32
 
	mbfCú
: 10;

583 
UINT32
 
	mbfCbs
: 10;

585 
UINT32
 
	mbfCbs
: 10;

586 
UINT32
 
	mbfCú
: 10;

587 
UINT32
 
	mbfResv
:12;

589 }
	tCLASSIFY_METER_TBL_t
;

591 
	sCLASSIFY_ADDR_ENTRY_s


593 
UINT16
 
	mCœsAddr
[
CLASSIFY_RULE_TABLE_GROUP
];

594 }
	tCLASSIFY_ADDR_ENTRY_t
;

596 
	sCLASSIFY_MASK_ENTRY_s


598 
UINT32
 
	mbfRe£rved
:5;

599 
UINT32
 
	mbfVÆid
:1;

600 
UINT32
 
	mbfImask
:1;

601 
UINT32
 
	mbfEmask
:1;

602 
UINT32
 
	mbfOff£t6
:4;

603 
UINT32
 
	mbfOff£t5
:4;

604 
UINT32
 
	mbfOff£t4
:4;

605 
UINT32
 
	mbfOff£t3
:4;

606 
UINT32
 
	mbfOff£t2
:4;

607 
UINT32
 
	mbfOff£t1
:4;

609 
UINT8
 
	mMask
[
CLASSIFY_KEYVALUE_LENGTH
];

611 
UINT8
 
	mmaskPri
;

612 
UINT16
 
	mª„ªn˚Cou¡
;

613 } 
	tCLASSIFY_MASK_ENTRY_t
;

615 
	sCLASSIFY_RULE_ENTRY_s


617 
UINT32
 
	mbfRe£rved
:31;

618 
UINT32
 
	mbfTønA˘H
:1;

620 
UINT32
 
	mbfTønA˘L
:3;

621 
UINT32
 
	mbfEgªss
:1;

622 
UINT32
 
	mbfIngªss
:1;

623 
UINT32
 
	mbfRmkA˘
:4;

624 
UINT32
 
	mbfRmkCos
:3;

625 
UINT32
 
	mbfRmkIcos
:3;

626 
UINT32
 
	mbfRmkVid
:12;

627 
UINT32
 
	mbfM£l
:5;

629 
UINT8
 
	mRuÀ
[
CLASSIFY_KEYVALUE_LENGTH
];

630 }
	tCLASSIFY_RULE_ENTRY_t
;

632 
	sCLASSIFY_METER_s


634 
UINT8
 
	mu£d
;

635 
UINT8
 
	mcbs
;

636 
UINT8
 
	mcú
;

637 }
	tCLASSIFY_METER_t
;

639 
	sCLASSIFY_RULE_MALLOC_s


641 
UINT8
 
	mmÆlocFœg
;

642 
UINT8
 
	mmodM£lFœg
;

643 }
	tCLASSIFY_RULE_MALLOC_t
;

645 
	sCLASSIFY_OFFSET_SET_PAR_s


647 
UINT8
 
	moff£tSeq
;

648 
UINT8
 
	m£¨chLo›
;

649 
UINT16
 
	m°¨tBô
;

650 
UINT16
 
	mfõldLígth
;

651 }
	tCLASSIFY_OFFSET_SET_PAR_t
;

653 
	sCLASSIFY_FIELD_ADDRLEN_s


655 
UINT16
 
	mfõldOff£t
;

656 
UINT16
 
	mfõldLígth
;

657 }
	tCLASSIFY_FIELD_ADDRLEN_t
;

659 
	sCLASSIFY_MASK_OFFSET_FIELD_s


661 
UINT8
 
	moff£tVÆue
[6];

662 }
	tCLASSIFY_MASK_OFFSET_FIELD_t
;

664 
	uCLASSIFY_FIELD_MAP_s


668 #ifde‡
OPCONN_BIG_ENDIAN


669 
UINT32
 
	mbfE«De°MAC
:1;

670 
UINT32
 
	mbfE«SrcMAC
:1;

671 
UINT32
 
	mbfE«Fú°TPID
:1;

672 
UINT32
 
	mbfE«Fú°COS
:1;

673 
UINT32
 
	mbfE«Fú°Tag
:1;

674 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


676 
UINT32
 
	mbfE«Sec⁄dTPID
:1;

677 
UINT32
 
	mbfE«Sec⁄dCOS
:1;

678 
UINT32
 
	mbfE«Sec⁄dTAG
:1;

680 
UINT32
 
	mbfE«Lí‹Ty≥
:1;

681 
UINT32
 
	mbfE«IpVî
:1;

682 
UINT32
 
	mbfE«IpTos
:1;

683 
UINT32
 
	mbfE«IpProTy≥
:1;

684 
UINT32
 
	mbfE«SrcIP
:1;

685 
UINT32
 
	mbfE«De°IP
:1;

686 
UINT32
 
	mbfE«SrcP‹t
:1;

687 
UINT32
 
	mbfE«De°P‹t
:1;

688 
UINT32
 
	mbfE«U£rDeföe1
:1;

689 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


690 
	mUINT32
 :18;

692 
	mUINT32
 :15;

695 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


696 
	mUINT32
 :18;

698 
	mUINT32
 :15;

700 
UINT32
 
	mbfE«U£rDeföe1
:1;

701 
UINT32
 
	mbfE«De°P‹t
:1;

702 
UINT32
 
	mbfE«SrcP‹t
:1;

703 
UINT32
 
	mbfE«De°IP
:1;

704 
UINT32
 
	mbfE«SrcIP
:1;

705 
UINT32
 
	mbfE«IpProTy≥
:1;

706 
UINT32
 
	mbfE«IpTos
:1;

707 
UINT32
 
	mbfE«IpVî
:1;

708 
UINT32
 
	mbfE«Lí‹Ty≥
:1;

709 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


711 
UINT32
 
	mbfE«Sec⁄dTAG
:1;

712 
UINT32
 
	mbfE«Sec⁄dCOS
:1;

713 
UINT32
 
	mbfE«Sec⁄dTPID
:1;

715 
UINT32
 
	mbfE«Fú°Tag
:1;

716 
UINT32
 
	mbfE«Fú°COS
:1;

717 
UINT32
 
	mbfE«Fú°TPID
:1;

718 
UINT32
 
	mbfE«SrcMAC
:1;

719 
UINT32
 
	mbfE«De°MAC
:1;

722 }
	mEIIFõld
;

727 #ifde‡
OPCONN_BIG_ENDIAN


728 
UINT32
 
	mbfE«De°MAC
:1;

729 
UINT32
 
	mbfE«SrcMAC
:1;

730 
UINT32
 
	mbfE«Fú°TPID
:1;

731 
UINT32
 
	mbfE«Fú°COS
:1;

732 
UINT32
 
	mbfE«Fú°Tag
:1;

733 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


735 
UINT32
 
	mbfE«Sec⁄dTPID
:1;

736 
UINT32
 
	mbfE«Sec⁄dCOS
:1;

737 
UINT32
 
	mbfE«Sec⁄dTAG
:1;

739 
UINT32
 
	mbfE«Lí‹Ty≥
:1;

740 
UINT32
 
	mbfE«PPPCode
:1;

741 
UINT32
 
	mbfE«PPP¥oTy≥
:1;

742 
UINT32
 
	mbfE«L˝Ip˝
:1;

743 
UINT32
 
	mbfE«IpVî
:1;

744 
UINT32
 
	mbfE«IpTos
:1;

745 
UINT32
 
	mbfE«IpProTy≥
:1;

746 
UINT32
 
	mbfE«SrcIP
:1;

747 
UINT32
 
	mbfE«De°IP
:1;

748 
UINT32
 
	mbfE«SrcP‹t
:1;

749 
UINT32
 
	mbfE«De°P‹t
:1;

750 
UINT32
 
	mbfE«U£rDeföe1
:1;

751 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


752 
	mUINT32
 :15;

754 
	mUINT32
 :12;

757 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


758 
	mUINT32
 :15;

760 
	mUINT32
 :12;

762 
UINT32
 
	mbfE«U£rDeföe1
:1;

763 
UINT32
 
	mbfE«De°P‹t
:1;

764 
UINT32
 
	mbfE«SrcP‹t
:1;

765 
UINT32
 
	mbfE«De°IP
:1;

766 
UINT32
 
	mbfE«SrcIP
:1;

767 
UINT32
 
	mbfE«IpProTy≥
:1;

768 
UINT32
 
	mbfE«IpTos
:1;

769 
UINT32
 
	mbfE«IpVî
:1;

770 
UINT32
 
	mbfE«L˝Ip˝
:1;

771 
UINT32
 
	mbfE«PPP¥oTy≥
:1;

772 
UINT32
 
	mbfE«PPPCode
:1;

773 
UINT32
 
	mbfE«Lí‹Ty≥
:1;

774 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


776 
UINT32
 
	mbfE«Sec⁄dTAG
:1;

777 
UINT32
 
	mbfE«Sec⁄dCOS
:1;

778 
UINT32
 
	mbfE«Sec⁄dTPID
:1;

780 
UINT32
 
	mbfE«Fú°Tag
:1;

781 
UINT32
 
	mbfE«Fú°COS
:1;

782 
UINT32
 
	mbfE«Fú°TPID
:1;

783 
UINT32
 
	mbfE«SrcMAC
:1;

784 
UINT32
 
	mbfE«De°MAC
:1;

787 }
	mPµoEFõld
;

790 
UINT32
 
	mbôM≠
;

791 }
	tCLASSIFY_FIELD_MAP_t
;

793 
	sCLASSIFY_EII_s


795 #ifde‡
OPCONN_BIG_ENDIAN


796 
UINT8
 
	mDe°Mac
[6];

797 
UINT8
 
	mSrcMac
[6];

799 
UINT32
 
	mbfFú°Tpid
: 16;

800 
UINT32
 
	mbfFú°Cos
: 3;

801 
UINT32
 
	mbfRe£r_Fú°CFI
: 1;

802 
UINT32
 
	mbfFú°Vœn
: 12;

803 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


805 
UINT32
 
	mbfSec⁄dTpid
: 16;

806 
UINT32
 
	mbfSec⁄dCos
: 3;

807 
UINT32
 
	mbfRe£r_Sec⁄dCFI
: 1;

808 
UINT32
 
	mbfSec⁄dVœn
: 12;

810 
UINT32
 
	mbfLíOrTy≥
: 16;

812 
UINT32
 
	mbfIpVîsi⁄
: 4;

813 
UINT32
 
	mbfRe£rved
: 4;

814 
UINT32
 
	mbfIpTos
: 8;

816 
UINT16
 
	mª£r_IpPktLí
;

817 
UINT16
 
	mª£r_IpIdítify
;

819 
UINT16
 
	mbfRe£r_IpSli˚Fœg
: 3;

820 
UINT16
 
	mbfRe£r_IpSli˚Off£t
: 13;

822 
UINT8
 
	mª£r_IpTé
;

823 
UINT8
 
	mùProTy≥
;

825 
UINT16
 
	mª£r_IpCheckSum
;

826 
UINT32
 
	m§cIP
;

827 
UINT32
 
	mde°IP
;

828 
UINT16
 
	m§cP‹t
;

829 
UINT16
 
	mde°P‹t
;

830 
UINT32
 
	mu£rDeföe
;

833 
UINT8
 
	mDe°Mac
[6];

834 
UINT8
 
	mSrcMac
[6];

836 
UINT32
 
	mbfFú°Vœn
: 12;

837 
UINT32
 
	mbfRe£r_Fú°CFI
: 1;

838 
UINT32
 
	mbfFú°Cos
: 3;

839 
UINT32
 
	mbfFú°Tpid
: 16;

840 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


842 
UINT32
 
	mbfSec⁄dVœn
: 12;

843 
UINT32
 
	mbfRe£r_Sec⁄dCFI
: 1;

844 
UINT32
 
	mbfSec⁄dCos
: 3;

845 
UINT32
 
	mbfSec⁄dTpid
: 16;

848 
UINT32
 
	mbfIpTos
: 8;

849 
UINT32
 
	mbfRe£rved
: 4;

850 
UINT32
 
	mbfIpVîsi⁄
: 4;

851 
UINT32
 
	mbfLíOrTy≥
: 16;

854 
UINT16
 
	mª£r_IpPktLí
;

855 
UINT16
 
	mª£r_IpIdítify
;

857 
UINT16
 
	mbfRe£r_IpSli˚Off£t
: 13;

858 
UINT16
 
	mbfRe£r_IpSli˚Fœg
: 3;

860 
UINT8
 
	mª£r_IpTé
;

861 
UINT8
 
	mùProTy≥
;

863 
UINT16
 
	mª£r_IpCheckSum
;

864 
UINT32
 
	m§cIP
;

865 
UINT32
 
	mde°IP
;

866 
UINT16
 
	m§cP‹t
;

867 
UINT16
 
	mde°P‹t
;

868 
UINT32
 
	mu£rDeföe
;

870 }
	tCLASSIFY_EII_t
;

872 
	sCLASSIFY_PPPPOE_s


874 #ifde‡
OPCONN_BIG_ENDIAN


875 
UINT8
 
	mDe°Mac
[6];

876 
UINT8
 
	mSrcMac
[6];

878 
UINT32
 
	mbfFú°Tpid
: 16;

879 
UINT32
 
	mbfFú°Cos
: 3;

880 
UINT32
 
	mbfRe£r_Fú°CFI
: 1;

881 
UINT32
 
	mbfFú°Vœn
: 12;

882 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


884 
UINT32
 
	mbfSec⁄dCos
: 3;

885 
UINT32
 
	mbfRe£r_Sec⁄dCFI
: 1;

886 
UINT32
 
	mbfSec⁄dVœn
: 12;

887 
UINT32
 
	mbfSec⁄dTpid
: 16;

889 
UINT16
 
	mÀnOrTy≥
;

892 
UINT8
 
	mª£rved
;

893 
UINT8
 
	mµpCode
;

894 
UINT16
 
	m£ssi⁄Id
;

895 
UINT16
 
	mÀngth
;

897 
UINT32
 
	mµpProTy≥
: 16;

898 
UINT32
 
	mbfL˝Ip˝CodeH
: 4;

899 
UINT32
 
	mbfIpVî_l˝Ip˝CodeL
: 4;

900 
UINT32
 
	mùTos
: 8;

902 
UINT16
 
	mª£r_PktLí
;

903 
UINT16
 
	mª£r_IpIdíty
;

905 
UINT16
 
	mbfRe£r_IpSli˚Fœg
: 3;

906 
UINT16
 
	mbfRe£r_IpSli˚Off£t
:13;

908 
UINT8
 
	mª£r_IpTé
;

909 
UINT8
 
	mùProTy≥
;

910 
UINT16
 
	mª£r_IpCheckSum
;

912 
UINT32
 
	m§cIP
;

913 
UINT32
 
	mde°IP
;

914 
UINT16
 
	m§cP‹t
;

915 
UINT16
 
	mde°P‹t
;

917 
UINT32
 
	mu£rDeföe
;

919 
UINT8
 
	mDe°Mac
[6];

920 
UINT8
 
	mSrcMac
[6];

922 
UINT32
 
	mbfFú°Vœn
: 12;

923 
UINT32
 
	mbfRe£r_Fú°CFI
: 1;

924 
UINT32
 
	mbfFú°Cos
: 3;

925 
UINT32
 
	mbfFú°Tpid
: 16;

926 #ifde‡
ONLY_SUPPORT_SINGLE_TAG


928 
UINT32
 
	mbfSec⁄dVœn
: 12;

929 
UINT32
 
	mbfRe£r_SecCFI
: 1;

930 
UINT32
 
	mbfSec⁄dCos
: 3;

931 
UINT32
 
	mbfSec⁄dTpid
: 16;

933 
UINT16
 
	mÀnOrTy≥
;

936 
UINT8
 
	mª£rved
;

937 
UINT8
 
	mµpCode
;

938 
UINT16
 
	m£ssi⁄Id
;

939 
UINT16
 
	mÀngth
;

941 
UINT32
 
	mùTos
: 8;

942 
UINT32
 
	mbfIpVî_l˝Ip˝CodeL
: 4;

943 
UINT32
 
	mbfL˝Ip˝CodeH
: 4;

944 
UINT32
 
	mµpProTy≥
: 16;

946 
UINT16
 
	mª£r_PktLí
;

947 
UINT16
 
	mª£r_IpIdíty
;

949 
UINT16
 
	mbfRe£r_IpSli˚Off£t
:13;

950 
UINT16
 
	mbfRe£r_IpSli˚Fœg
: 3;

952 
UINT8
 
	mª£r_IpTé
;

953 
UINT8
 
	mùProTy≥
;

954 
UINT16
 
	mª£r_IpCheckSum
;

956 
UINT32
 
	m§cIP
;

957 
UINT32
 
	mde°IP
;

958 
UINT16
 
	m§cP‹t
;

959 
UINT16
 
	mde°P‹t
;

961 
UINT32
 
	mu£rDeföe
;

964 }
	tCLASSIFY_PPPOE_t
;

968 
CLASSIFY_EII_t
 
	mEIIVÆue
;

969 
CLASSIFY_PPPOE_t
 
	mPPP€VÆue
;

970 }
	tClsD©aVÆue_t
;

972 
	sCLASSIFY_PARAMETER_s


974 
UINT8
 
	mpktTy≥
;

975 
UINT8
 
	megªssMask
;

976 
UINT8
 
	mögªssMask
;

977 
UINT8
 
	mmaskPri
;

978 
UINT16
 
	mcbs
;

979 
UINT16
 
	mcú
;

981 
CLASSIFY_FIELD_MAP_t
 
	mFõldM≠
;

982 
CLASSIFY_RULE_ENTRY_t
 
	mRuÀE¡ry
;

983 
ClsD©aVÆue_t
 
	mPktRuÀVÆue
;

984 
ClsD©aVÆue_t
 
	mPktU§Mask
;

986 }
	tCLASSIFY_PARAMETER_t
;

988 
	sCLASSIFY_MASK_PARAMETER_s


990 
UINT8
 
	mpktTy≥
;

992 
UINT16
 
	megªssMask
;

993 
UINT16
 
	mögªssMask
;

995 
UINT16
 
	mmaskID
;

997 
CLASSIFY_FIELD_MAP_t
 
	mFõldM≠
;

1001 
CLASSIFY_EII_t
 
	mEIIVÆue
;

1002 
CLASSIFY_PPPOE_t
 
	mPPP€VÆue
;

1003 }
	mRuÀVÆue
;

1007 
CLASSIFY_EII_t
 
	mEIIU§Mask
;

1008 
CLASSIFY_PPPOE_t
 
	mPPP€U§Mask
;

1009 }
	mU§Mask
;

1011 }
	tCLASSIFY_MASK_PARAMETER_t
;

1013 
	sCLASSIFY_RULE_PARAMETER_s


1015 
UINT8
 
	mpktTy≥
;

1016 
UINT16
 
	mcbs
;

1017 
UINT16
 
	mcú
;

1018 
UINT16
 
	mmaskID
;

1020 
CLASSIFY_RULE_ENTRY_t
 
	mRuÀE¡ry
;

1024 
CLASSIFY_EII_t
 
	mEIIVÆue
;

1025 
CLASSIFY_PPPOE_t
 
	mPPP€VÆue
;

1026 }
	mRuÀVÆue
;

1028 }
	tCLASSIFY_RULE_PARAMETER_t
;

1030 
	sCLASSIFY_MASKINFO_FOR_RULE_s


1032 
CLASSIFY_MASK_OFFSET_FIELD_t
 
	mMaskOff£t
;

1033 
UINT16
 
	mögªssMask
;

1034 
UINT16
 
	megªssMask
;

1035 
UINT32
 
	mfõldM≠
;

1036 
UINT8
 
	mMask
[
CLASSIFY_KEYVALUE_LENGTH
];

1040 
CLASSIFY_EII_t
 
	mEIIU§Mask
;

1041 
CLASSIFY_PPPOE_t
 
	mPPP€U§Mask
;

1042 }
	mU§Mask
;

1044 }
	tCLASSIFY_MASKINFO_FOR_RULE_t
;

1046 
	s›l_˛s_hwtbl_s
{

1047 
UINT16
 
	m˛sHwRuÀID
;

1048 
UINT16
 
	m˛sHwMaskID
;

1049 
UINT16
 
	m˛sHwAddr
;

1050 
UINT16
 
	m˛sHwOff
;

1051 }
	t›l_˛s_hwtbl_t
;

1053 
	sCLASSIFY_ITEM_s


1055 
CLASSIFY_PARAMETER_t
 
	mP¨amëî
;

1056 
UINT16
 
	m˛assifyRuÀID
;

1057 
›l_˛s_hwtbl_t
 
	mshadowtbl
;

1058 
UINT8
 
	mvÆid
;

1059 }
	tCLASSIFY_ITEM_t
;

1061 
	sCLS_CONFIG_INFO_s


1063 #i‡
deföed
(
ONU_4PORT_AR8306
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

1064 
UINT8
 
	m«me
[64];

1065 
UINT8
 
	mp‹ts
[10];

1067 
UINT8
 
	mvÆid
 :1;

1068 
UINT8
 
	mt_a˘
 :4;

1069 
UINT8
 
	m∑d
 :3;

1070 
UINT8
 
	mruÀPri
;

1071 
UINT8
 
	mqueueM≠Id
;

1072 
UINT8
 
	mcosM≠VÆ
;

1073 
UINT8
 
	mögªssmask
;

1074 
UINT8
 
	mbögªss
;

1075 
UINT16
 
	mrmkvidOp
:2;

1078 
UINT16
 
	mrmkcosch™ge
:1;

1079 
UINT16
 
	mrmkicosch™ge
:1;

1082 
UINT16
 
	mrmkvid
:12;

1084 
UINT32
 
	md°MacFœg
:1;

1085 
UINT32
 
	m§cMacFœg
:1;

1086 
UINT32
 
	mëhîPriFœg
:1;

1087 
UINT32
 
	mvœnIdFœg
:1;

1088 
UINT32
 
	mÀnOrTy≥Fœg
:1;

1089 
UINT32
 
	md°IpFœg
:1;

1090 
UINT32
 
	m§cIpFœg
:1;

1091 
UINT32
 
	mùTy≥Fœg
:1;

1092 
UINT32
 
	mùV4Ds˝Fœg
:1;

1093 
UINT32
 
	mùV6PªFœg
:1;

1094 
UINT32
 
	m§cL4P‹tFœg
:1;

1095 
UINT32
 
	md°L4P‹tFœg
:1;

1096 
UINT32
 
	mrsvFœg
:21;

1099 
UINT8
 
	mlowR™ge
[6];

1100 
UINT8
 
	mhighR™ge
[6];

1101 }
	md°Mac
;

1104 
UINT8
 
	mlowR™ge
[6];

1105 
UINT8
 
	mhighR™ge
[6];

1106 }
	m§cMac
;

1109 
UINT8
 
	mlowR™ge
;

1110 
UINT8
 
	mhighR™ge
;

1111 }
	mëhîPri
;

1114 
UINT16
 
	mlowR™ge
;

1115 
UINT16
 
	mhighR™ge
;

1116 }
	mvœnId
;

1119 
UINT16
 
	mlowR™ge
;

1120 
UINT16
 
	mhighR™ge
;

1121 }
	mÀnOrTy≥
;

1124 
UINT32
 
	mlowR™ge
;

1125 
UINT32
 
	mhighR™ge
;

1126 }
	md°Ip
;

1129 
UINT32
 
	mlowR™ge
;

1130 
UINT32
 
	mhighR™ge
;

1131 }
	m§cIp
;

1134 
UINT8
 
	mlowR™ge
;

1135 
UINT8
 
	mhighR™ge
;

1136 }
	mùTy≥
;

1139 
UINT8
 
	mlowR™ge
;

1140 
UINT8
 
	mhighR™ge
;

1141 }
	mùV4Ds˝
;

1144 
UINT8
 
	mlowR™ge
;

1145 
UINT8
 
	mhighR™ge
;

1146 }
	mùV6Pª
;

1149 
UINT16
 
	mlowR™ge
;

1150 
UINT16
 
	mhighR™ge
;

1151 }
	m§cL4P‹t
;

1154 
UINT16
 
	mlowR™ge
;

1155 
UINT16
 
	mhighR™ge
;

1156 }
	md°L4P‹t
;

1158 
UINT8
 
	md°MacOp
;

1159 
UINT8
 
	m§cMacOp
;

1160 
UINT8
 
	mëhîPriOp
;

1161 
UINT8
 
	mvœnIdOp
;

1162 
UINT8
 
	mÀnOrTy≥Op
;

1163 
UINT8
 
	md°IpOp
;

1164 
UINT8
 
	m§cIpOp
;

1165 
UINT8
 
	mùTy≥Op
;

1166 
UINT8
 
	mùV4Ds˝Op
;

1167 
UINT8
 
	mùV6PªOp
;

1168 
UINT8
 
	m§cL4P‹tOp
;

1169 
UINT8
 
	md°L4P‹tOp
;

1170 }
	tCLS_CONFIG_INFO_t
;

1172 
	s›l_a˛_li°_s
{

1173 
li°_hód
 
	mli°
;

1174 
UINT16
 
	mruÀid
;

1175 
UINT16
 
	mt˙um
;

1176 
UINT8
 
	m¥öum
;

1177 
UINT8
 
	mruÀ¥i
;

1178 
UINT16
 
	mdÆödex
;

1179 
›l_˛s_hwtbl_t
 
	mhwshadow
;

1180 
CLS_CONFIG_INFO_t
 
	m°CœssCfg
;

1181 
UINT8
 
	m°©us
;

1182 
UINT8
 
	m«me
[32];

1183 } 
	t›l_a˛_li°_t
;

1187 
	eDAL_PORT_SPEED_s
{

1188 
	mDAL_10_MBPS
 = 10,

1189 
	mDAL_100_MBPS
 = 100,

1190 
	mDAL_1000_MBPS
 = 1000,

1191 
	mDAL_END_MBSP


1192 }
	tDAL_PORT_SPEED_e
;

1194 
	eDAL_DUPLEX_MODE_s


1196 
	mDAL_HALF_DUPLEX
 = 0X01,

1197 
	mDAL_FULL_DUPLEX
 = 0X02

1198 }
	tDAL_DUPLEX_MODE_e
;

1200 
	eDAL_AUTONEG_DONE_s


1202 
	mDAL_AUTONEG_FAILED
 = 0X00,

1203 
	mDAL_AUTONEG_COMPLETED
 = 0X01

1204 }
	tDAL_AUTONEG_DONE_e
;

1208 
	eègRSTP_P2P_MODE


1210 
	mRSTP_P2P_FORCE_TRUE
,

1211 
	mRSTP_P2P_FORCE_FALSE
,

1212 
	mRSTP_P2P_AUTO
,

1213 }
	tRSTP_P2P_MODE_E
;

1217 
	eVLAN_EGRESS_TYPE_S


1219 
	mUNMODIFY
 = 0,

1220 
	mUNTAG
 = 1,

1221 
	mTAG
 = 2

1222 }
	tVLAN_EGRESS_TYPE_E
;

1226 
	mUNMODIFY_EGRESS
 = 0,

1227 
	mUNTAGGED_EGRESS
,

1228 
	mTAGGED_EGRESS
,

1229 
	mADD_TAG


1230 } 
	tPORT_EGRESS_MODE
;

1234 
	mDOT1Q_MODE_DISABLE
 = 0,

1235 
	mDOT1Q_MODE_FALLBACK
,

1236 
	mDOT1Q_MODE_CHECK
,

1237 
	mDOT1Q_MODE_SECURE


1238 } 
	tSW_DOT1Q_MODE
;

1240 
	eDAL_VTT_TYPE_s


1242 
	mDAL_VTT_UC
 = 0,

1243 
	mDAL_VTT_MC
 = 1,

1244 
	mDAL_VTT_END


1245 }
	tDAL_VTT_TYPE_e
;

1247 
	sVTT_RECORD_s


1249 
UINT32
 
	msVœnInfo
;

1250 
UINT32
 
	mcVœnInfo
;

1251 
UINT8
 
	mvÆid
;

1252 }
	tVTT_RECORD_t
;

1254 
	sVLAN_CONFI_INFO_s


1256 
UINT8
 
	mvœnMode
;

1257 
UINT16
 
	mdeÁu…VœnTag
;

1258 
UINT16
 
	mdeÁu…TPID
;

1259 
UINT8
 
	mdeÁu…PRI
;

1260 
UINT8
 
	mdeÁu…CFI
;

1261 
UINT8
 
	mnumOfVâRec‹ds
;

1262 
VTT_RECORD_t
 
	mvâ_ªc‹d
[
DAL_PORT_VTT_ENTRY_NUM
];

1263 }
	tVLAN_CONFI_INFO_t
;

1269 
	eUP_DOWN_STREAM_s


1271 
	mUP_STREAM
 = 0,

1272 
	mDOWN_STREAM
 = 1,

1273 
	mBOTH_STREAM
 = 2

1274 }
	tUP_DOWN_STREAM_e
;

1276 
	eUP_QUEUE_PRI_s


1278 
	mUP_Q_PRI0
 = 0,

1279 
	mUP_Q_PRI1
 = 1,

1280 
	mUP_Q_PRI2
 = 2,

1281 
	mUP_Q_PRI3
 = 3,

1282 
	mUP_Q_PRI4
 = 4,

1283 
	mUP_Q_PRI5
 = 5,

1284 
	mUP_Q_PRI6
 = 6,

1285 
	mUP_Q_PRI7
 = 7

1286 }
	tUP_QUEUE_PRI_e
;

1288 
	eDOWN_QUEUE_PRI_s


1290 
	mDOWN_Q_PRI0
 = 0,

1291 
	mDOWN_Q_PRI1
 = 1,

1292 
	mDOWN_Q_PRI2
 = 2,

1293 
	mDOWN_Q_PRI3
 = 3,

1294 
	mDOWN_Q_PRI4
 = 4,

1295 
	mDOWN_Q_PRI5
 = 5,

1296 
	mDOWN_Q_PRI6
 = 6,

1297 
	mDOWN_Q_PRI7
 = 7

1298 }
	tDOWN_QUEUE_PRI_e
;

1300 
	eTM_US_WRED_TYPE_s


1302 
	mUS_WRED_MINTH
,

1303 
	mUS_WRED_MAXTH
,

1304 
	mUS_WRED_WEIGHT
,

1305 
	mUS_WRED_C1
,

1306 
	mUS_WRED_END
,

1307 }
	tTM_US_WRED_TYPE_e
;

1309 
	eTM_DS_WRED_TYPE_s
{

1310 
	mDS_WRED_MINTH
,

1311 
	mDS_WRED_MAXTH
,

1312 
	mDS_WRED_WEIGHT
,

1313 
	mDS_WRED_C1
,

1314 
	mDS_WRED_END
,

1315 }
	tTM_DS_WRED_TYPE_e
;

1317 
	sTM_US_Q_CONF_STA_s


1319 #ifde‡
OPCONN_BIG_ENDIAN


1320 
UINT32
 
	mbfRe£rved0
:5;

1321 
UINT32
 
	mbfNumOfCñl
:14;

1322 
UINT32
 
	mbfNumOfPkt
:13;

1324 
UINT32
 
	mbfRe£rved1
:5;

1325 
UINT32
 
	mbfMaxNumOfCñl
:14;

1326 
UINT32
 
	mbfMaxNumOfPkt
:13;

1328 
UINT32
 
	mbfNumOfPkt
:13;

1329 
UINT32
 
	mbfNumOfCñl
:14;

1330 
UINT32
 
	mbfRe£rved0
:5;

1332 
UINT32
 
	mbfMaxNumOfPkt
:13;

1333 
UINT32
 
	mbfMaxNumOfCñl
:14;

1334 
UINT32
 
	mbfRe£rved1
:5;

1336 }
	tTM_US_Q_CONF_STA_t
;

1338 
	sTM_DS_Q_CONF_STA_s


1340 #ifde‡
OPCONN_BIG_ENDIAN


1341 
UINT32
 
	mbfRe£rved0
:5;

1342 
UINT32
 
	mbfNumOfCñl
:14;

1343 
UINT32
 
	mbfNumOfPkt
:13;

1345 
UINT32
 
	mbfRe£rved2
:5;

1346 
UINT32
 
	mbfMaxNumOfCñl
:14;

1347 
UINT32
 
	mbfMaxNumOfPkt
:13;

1349 
UINT32
 
	mbfNumOfPkt
:13;

1350 
UINT32
 
	mbfNumOfCñl
:14;

1351 
UINT32
 
	mbfRe£rved0
:5;

1353 
UINT32
 
	mbfMaxNumOfPkt
:13;

1354 
UINT32
 
	mbfMaxNumOfCñl
:14;

1355 
UINT32
 
	mbfRe£rved2
:5;

1357 }
	tTM_DS_Q_CONF_STA_t
;

1359 
	sTM_US_Q_SHAPER_PA1_s


1361 #ifde‡
OPCONN_BIG_ENDIAN


1362 
UINT32
 
	mbfRe£rved0
:7;

1363 
UINT32
 
	mbfPú
:15;

1364 
UINT32
 
	mbfPbs
:10;

1366 
UINT32
 
	mbfPbs
:10;

1367 
UINT32
 
	mbfPú
:15;

1368 
UINT32
 
	mbfRe£rved0
:7;

1370 }
	tTM_US_Q_SHAPER_PA1_t
;

1372 
	sTM_DS_Q_SHAPER_PA_s


1374 #ifde‡
OPCONN_BIG_ENDIAN


1375 
UINT32
 
	mbfRe£rved0
:7;

1376 
UINT32
 
	mbfCú
:15;

1377 
UINT32
 
	mbfCbs
:10;

1379 
UINT32
 
	mbfCbs
:10;

1380 
UINT32
 
	mbfCú
:15;

1381 
UINT32
 
	mbfRe£rved0
:7;

1383 }
	tTM_DS_Q_SHAPER_PA_t
;

1385 
	sTM_US_Q_SHAPER_PA_s


1387 #ifde‡
OPCONN_BIG_ENDIAN


1388 
UINT32
 
	mbfRe£rved0
:7;

1389 
UINT32
 
	mbfCú
:15;

1390 
UINT32
 
	mbfCbs
:10;

1392 
UINT32
 
	mbfCbs
:10;

1393 
UINT32
 
	mbfCú
:15;

1394 
UINT32
 
	mbfRe£rved0
:7;

1396 }
	tTM_US_Q_SHAPER_PA_t
;

1398 
	sTM_DS_WRED_PA_s


1400 #ifde‡
OPCONN_BIG_ENDIAN


1401 
UINT32
 
	mbfRe£rved0
:16;

1402 
UINT32
 
	mbfC1
:4;

1403 
UINT32
 
	mbfWeight
:4;

1404 
UINT32
 
	mbfMaxthH
:8;

1406 
UINT32
 
	mbfMaxthL
:12;

1407 
UINT32
 
	mbfMöth
:20;

1409 
UINT32
 
	mbfMaxthH
:8;

1410 
UINT32
 
	mbfWeight
:4;

1411 
UINT32
 
	mbfC1
:4;

1412 
UINT32
 
	mbfRe£rved0
:16;

1414 
UINT32
 
	mbfMöth
:20;

1415 
UINT32
 
	mbfMaxthL
:12;

1417 }
	tTM_DS_WRED_PA_t
;

1419 
	sTM_US_WRED_PA_s


1421 #ifde‡
OPCONN_BIG_ENDIAN


1422 
UINT32
 
	mbfRe£rved0
:16;

1423 
UINT32
 
	mbfC1
:4;

1424 
UINT32
 
	mbfWeight
:4;

1425 
UINT32
 
	mbfMaxthH
:8;

1427 
UINT32
 
	mbfMaxthL
:12;

1428 
UINT32
 
	mbfMöth
:20;

1430 
UINT32
 
	mbfMaxthH
:8;

1431 
UINT32
 
	mbfWeight
:4;

1432 
UINT32
 
	mbfC1
:4;

1433 
UINT32
 
	mbfRe£rved0
:16;

1435 
UINT32
 
	mbfMöth
:20;

1436 
UINT32
 
	mbfMaxthL
:12;

1438 }
	tTM_US_WRED_PA_t
;

1442 
	ePHY_SPEED_MODE_s


1444 
	mPHY_SPEED_10M
 = 0X00,

1445 
	mPHY_SPEED_100M
 = 0X01,

1446 
	mPHY_SPEED_1000M
 = 0X02,

1447 
	mPHY_SPEED_RSV


1448 }
	tPHY_SPEED_MODE_e
;

1450 
	ePHY_DUPLEX_MODE_s


1452 
	mPHY_HALF_DUPLEX
 = 0X00,

1453 
	mPHY_FULL_DUPLEX
 = 0X01

1454 }
	tPHY_DUPLEX_MODE_e
;

1456 
	ePHY_AUTONEG_DONE_s


1458 
	mPHY_AUTONEG_FAILED
 = 0X00,

1459 
	mPHY_AUTONEG_COMPLETED
 = 0X01

1460 }
	tPHY_AUTONEG_DONE_e
;

1464 
	eOPCONN_TAB_s


1466 
	mOPCONN_TAB_CLS_MASK
 = 
OPL_ZERO
,

1467 
	mOPCONN_TAB_CLS_ADDR
,

1468 
	mOPCONN_TAB_CLS_RULE
,

1469 
	mOPCONN_TAB_CLS_COUNTER
,

1470 
	mOPCONN_TAB_PON_MAC
,

1471 
	mOPCONN_TAB_US_SHPBD
,

1472 
	mOPCONN_TAB_DS_SHPBD
,

1473 
	mOPCONN_TAB_US_WRED
,

1474 
	mOPCONN_TAB_DS_WRED
,

1475 
	mOPCONN_TAB_Q_CONF_STA
,

1476 
	mOPCONN_TAB_DMA0_RX
,

1477 
	mOPCONN_TAB_DMA0_TX
,

1478 
	mOPCONN_TAB_DMA1_RX
,

1479 
	mOPCONN_TAB_DMA1_TX
,

1480 
	mOPCONN_TAB_END


1481 }
	tOPCONN_TAB_e
;

1487 
	sPON_MPCP_DISC_STATUS_s


1489 #ifde‡
OPCONN_BIG_ENDIAN


1490 
UINT32
 
	mbfRsved1
:3;

1491 
UINT32
 
	mbfG©ePídögNum
:5;

1492 
UINT32
 
	mbfRsved0
:8;

1493 
UINT32
 
	mbfDiscLEvít
:4;

1494 
UINT32
 
	mbfDiscCEvít
:4;

1495 
UINT32
 
	mbfDiscLSèã
:4;

1496 
UINT32
 
	mbfDiscCSèã
:4;

1498 
UINT32
 
	mbfDiscCSèã
:4;

1499 
UINT32
 
	mbfDiscLSèã
:4;

1500 
UINT32
 
	mbfDiscCEvít
:4;

1501 
UINT32
 
	mbfDiscLEvít
:4;

1502 
UINT32
 
	mbfResved0
:8;

1503 
UINT32
 
	mbfG©ePídögNum
:5;

1504 
UINT32
 
	mbfRsved1
:3;

1506 }
	tPON_MPCP_DISC_STATUS_t
;

1508 
	ePON_MPCP_EVENT_s


1510 
	mEVENT_BEGIN
,

1511 
	mEVENT_REGISTER_EVENT_FROM_DISCAGENT
,

1512 
	mEVENT_INSIDE_DISCWINDOW
,

1513 
	mEVENT_DEREGISTER_FROM_DISCAGENT_AND_NOT_IN_DISCWINDOW
,

1514 
	mEVENT_OLT_PERMIT_REGISTER_AND_NOT_IN_DISCWINDOW
,

1515 
	mEVENT_OLT_DENY_REGISTER_AND_NOT_IN_DISCWINDOW
,

1516 
	mEVENT_NEW_DISCWINDOW
,

1517 
	mEVENT_PERMIT_ACK_EVENT_FROM_DISCAGENT
,

1518 
	mEVENT_DENY_ACK_EVENT_FROM_DISCAGENT
,

1519 
	mEVENT_REGISTER_FROM_OLT
,

1520 
	mEVENT_REGISTERED_AND_TIMSTAMP_DRIFT_EVENT
,

1521 
	mEVENT_DEREGISTER_EVENT_FROM_OLT
,

1522 
	mEVENT_DEREGISTER_EVENT_FROM_DISCAGENT_WHEN_ONU_IS_REGISTERED
,

1523 
	mEVENT_WATCHDOG_TIMEOUT
,

1524 
	mEVENT_END


1525 }
	tPON_MPCP_EVENT_e
;

1528 
	ePON_MPCP_STATE_s


1530 
	mSTATE_WAIT
,

1531 
	mSTATE_REGISTERING
,

1532 
	mSTATE_REGISTER_REQUEST
,

1533 
	mSTATE_REGISTER_PENDING
,

1534 
	mSTATE_DENIED
,

1535 
	mSTATE_RETRY
,

1536 
	mSTATE_REGISTER_ACK
,

1537 
	mSTATE_NACK
,

1538 
	mSTATE_REGISTERD
,

1539 
	mSTATE_REMOTE_DEREGISTER
,

1540 
	mSTATE_LOCAL_DEREGISTER
,

1541 
	mSTATE_WATCHDOG_TIMEOUT
,

1542 
	mSTATE_END


1543 }
	tPON_MPCP_STATE_e
;

1548 
	#DAL_MAC_MAX_LPORT_NUM
 (1)

	)

1549 
	#DAL_MAC_MAX_PHYPORT_NUM
 (0)

	)

1550 
	#DAL_MAC_GE_PORT_BITMAP
 (0x2)

	)

1551 
	#DAL_MAC_DEFAULT_AGING_TIME_IN_SEC
 (1200)

	)

1553 
	#DONOT_DROP
 (1<<3)

	)

1554 
	#DONOT_COPY_TO_CPU
 (1<<2)

	)

1555 
	#DROP_PKTS
 (1<<1)

	)

1556 
	#COPY_PKTS_TO_CPU
 (1)

	)

1557 
	#RMK_INSERT_VID
 (2)

	)

1558 
	#RMK_CHANGE_VID
 (3)

	)

1560 
	#DAL_NUM_OF_PORTS
 1

	)

1561 
	#MAX_NUM_OF_VLAN
 4095

	)

1565 
	#OT_EPROM_I2C_ADDR
 0x50

	)

1566 
	#OT_I2C_ADDR
 0x00

	)

1569 
	sOPCONN_TAB_INFO_s


1571 
UINT32
 
	mèbId
;

1572 
UINT32
 
	mnumOfRec
;

1573 
UINT32
 
	mwidthOfRec
;

1574 
UINT8
 *
	mdesc
;

1575 }
	tOPCONN_TAB_INFO_t
;

1581 
	#OPL_MAX_NUM_OF_INTR_LEVEL2
 32

	)

1583 
	eUPTM_INT_TYPE_s


1585 
	mTMUS_QUEUE_FULL_INT_TYPE
,

1586 
	mTMUS_RD_ERR_INT_TYPE
,

1587 
	mTMUS_PKT_POS_ERR_INT_TYPE
,

1588 
	mTMUS_PKT_LEN_ERR_INT_TYPE
,

1589 
	mTMUS_LL_FULL_INT_TYPE
,

1590 
	mTMUS_RPT_ERR_INT_TYPE
,

1591 
	mTM_HEAD_DISORDER_INT_TYPE
,

1592 
	mTM_HEAD_OVFLW_INT_TYPE
,

1593 
	mTM_MPCP_SEND_FAIL_ERR_INT_TYPE
,

1594 
	mTM_MPCP_SEND_OK_ERR_INT_TYPE
,

1595 
	mTMUS_INT_TYPE_END


1596 }
	tUPTM_INT_TYPE_e
;

1598 
	eDNTM_INT_TYPE_s


1600 
	mTMDS_QUEUE_FULL_INT_TYPE
,

1601 
	mTMDS_RD_ERR_INT_TYPE
,

1602 
	mTMDS_PKT_POS_ERR_INT_TYPE
,

1603 
	mTMDS_PKT_LEN_ERR_INT_TYPE
,

1604 
	mTMDS_LL_FULL_INT_TYPE
,

1605 
	mTMDS_INT_TYPE_END


1606 }
	tDNTM_INT_TYPE_e
;

1608 
	eBRG_INT_TYPE_s


1610 
	mRX_DIS_DROP_INT_TYPE
,

1611 
	mTX_DIS_DROP_INT_TYPE
,

1612 
	mRSV_MAC_DROP_INT_TYPE
,

1613 
	mUSR_MAC_DROP_INT_TYPE
,

1614 
	mUS_VTT_ERR_INT_TYPE
,

1615 
	mDS_VTT_ERR_INT_TYPE
,

1616 
	mUS_TAG_ERR_INT_TYPE
,

1617 
	mDS_TAG_ERR_INT_TYPE
,

1618 
	mUS_ARL_SMAC_CFL_INT_TYPE
,

1619 
	mDS_ARL_SMAC_CFL_INT_TYPE
,

1620 
	mUS_ZERO_DA_DROP_INT_TYPE
,

1621 
	mDS_ZERO_DA_DROP_INT_TYPE
,

1622 
	mARL_FULL_ARL_NEW_REQ_INT_TYPE
,

1623 
	mUS_NON_UCST_DROP_INT_TYPE
,

1624 
	mDS_NON_UCST_DROP_INT_TYPE
,

1625 
	mBRG_INT_TYPE_END


1626 }
	tBRG_INT_TYPE_e
;

1628 
	eMPCP_INT_TYPE_s


1630 
	mMPCP_STATE_INT_TYPE
,

1631 
	mMPCP_GATE_DISORDER_INT_TYPE
,

1632 
	mMPCP_ECHO_PENDING_ERR_INT_TYPE
,

1633 
	mMPCP_STATE_CHANGE_INT_TYPE
,

1634 
	mMPCP_GRANT_LIST_FULL_INT_TYPE
,

1635 
	mMPCP_GATE_TIMEOUT_INT_TYPE
,

1636 
	mMPCP_LINK_UP_INT_TYPE
,

1637 
	mMPCP_LINK_DOWN_INT_TYPE
,

1638 
	mMPCP_INT_TYPE_END


1639 }
	tMPCP_INT_TYPE_e
;

1641 
	eMISC_INT_TYPE_s


1643 
	mMISC_DATA_SPACE_FULL_INT_TYPE
,

1644 
	mMISC_TRAF_OVFLW_INT_TYPE
,

1645 
	mMISC_MPIS_UFLOW_INT_TYPE
,

1646 
	mMISC_LL_EMPTY_INT_TYPE
,

1647 
	mMISC_INT_TYPE_END


1648 }
	tMISC_INT_TYPE_e
;

1650 
	ePMAC_INT_TYPE_s


1652 
	mSIGNAL_VAL_INT_TYPE
,

1653 
	mSYNC_ERR_RX_INT_TYPE
,

1654 
	mSYNC_ERR_TX_INT_TYPE
,

1655 
	mRXPLL_LCK_CHANGE_INT_TYPE
,

1656 
	mTXPLL_LCK_CHANGE_INT_TYPE
,

1657 
	mLINK_CHANGE_INT_TYPE
,

1658 
	mCRC8_ERR_INT_TYPE
,

1659 
	mLOS_IND_INT_TYPE
,

1660 
	mPMAC_INT_TYPE_END


1661 }
	tPMAC_INT_TYPE_e
;

1663 
	ePCM_INT_TYPE_s


1665 
	mTX_FIFO_FULL_ERR_INT_TYPE
,

1666 
	mTX_FIFO_EMPTY_ERR_INT_TYPE
,

1667 
	mRX_FIFO_FULL_ERR_INT_TYPE
,

1668 
	mRX_FIFO_EMPTY_ERR_INT_TYPE
,

1669 
	mTX_FIFO_ALMOST_EMPTY_INT_TYPE
,

1670 
	mRX_FIFO_ALMOST_FULL_INT_TYPE
,

1671 
	mPCM_INT_TYPE_END


1672 }
	tPCM_INT_TYPE_e
;

1674 
	eOPL_INTR_L1_ID_s


1676 
	mOPL_IRQ0_INTR
,

1677 
	mOPL_IRQ1_INTR
,

1678 
	mOPL_IRQ2_INTR
,

1679 
	mOPL_IRQ3_INTR
,

1680 
	mOPL_IRQ4_INTR
,

1681 
	mOPL_IRQ5_INTR
,

1682 
	mOPL_IRQ6_INTR
,

1683 
	mOPL_IRQ7_INTR
,

1684 
	mOPL_IRQ8_INTR
,

1685 
	mOPL_IRQ9_INTR
,

1686 
	mOPL_IRQ10_INTR
,

1687 
	mOPL_IRQ11_INTR
,

1688 
	mOPL_MISC_INTR
,

1689 
	mOPL_BRG_INTR
,

1690 
	mOPL_UPTM_INTR
,

1691 
	mOPL_DNTM_INTR
,

1692 
	mOPL_MPCP_INTR
,

1693 
	mOPL_PMAC_INTR
,

1694 
	mOPL_GE_INTR
,

1695 
	mOPL_PCM_INTR
,

1696 
	mOPL_DMA0_INTR
,

1697 
	mOPL_DMA1_INTR
,

1698 
	mOPL_SPI_INTR
,

1699 
	mOPL_WDOG_INTR
,

1700 
	mOPL_RTC_INTR
,

1701 
	mOPL_TIMER0_INTR
,

1702 
	mOPL_TIMER1_INTR
,

1703 
	mOPL_TIMER2_INTR
,

1704 
	mOPL_TIMER3_INTR
,

1705 
	mOPL_I2C_INTR
,

1706 
	mOPL_UART0_INTR
,

1707 
	mOPL_UART1_INTR
,

1708 
	mOPL_END_INTR


1709 }
	tOPL_INTR_L1_ID_e
;

1711 
	sOPL_INT_LEVEL2_s


1713 
INT16
 
	mid
;

1714 
UINT8
 *
	m«me
;

1715 
UINT32
 
	m≥nAddr
;

1716 
UINT32
 
	m≥nBô
;

1717 
INT32
 
	míAddr
;

1718 
UINT32
 
	míBô
;

1719 
UINT32
 
	mcou¡î
;

1720 
UINT32
 
	mulEºC¡
;

1721 }
	tOPL_INT_LEVEL2_t
;

1723 
	sOPL_INT_s


1725 
OPL_INTR_L1_ID_e
 
	mid
;

1726 
UINT8
 * 
	m«me
;

1727 
UINT32
 
	mcou¡î
;

1728 
UINT32
 
	mîrCou¡î
;

1729 
OPL_INT_LEVEL2_t
 
	mÀvñ2I¡
[
OPL_MAX_NUM_OF_INTR_LEVEL2
];

1730 }
	tOPL_INT_t
;

1734 
	#BRG_RSV_MAC_NUM
 33

	)

1735 
	#PON_BRG_MAC_ENTRY_NUM
 
TAB_PON_MAC_LEN


	)

1738 
	#GMAC_TBI_MODE
 0

	)

1739 
	#GMAC_GMII_MODE
 1

	)

1742 
	eBRG_PORT_NUM_s


1744 
	mBRG_PORT_GE
 = 0,

1745 
	mBRG_PORT_PON
 = 1,

1746 
	mBRG_PORT_CPU
 = 2,

1747 
	mBRG_PORT_END


1748 }
	tBRG_PORT_NUM_e
;

1750 
	eBRG_PON_PORT_LINK_CONTROL_s


1752 
	mPON_PORT_TRSMT_EN
,

1753 
	mPON_PORT_TAG
,

1754 
	mPON_PORT_UNTAG
,

1755 
	mPON_PORT_I_COS
,

1756 
	mPON_PORT_I_ACTION
,

1757 
	mPON_PORT_PVID
,

1758 
	mPON_PORT_COS
,

1759 
	mPON_PORT_RSV
,

1760 
	mPON_PORT_LP
,

1761 
	mPON_PORT_LERN_LIMIT
,

1762 
	mPON_PORT_LERN_DROP
,

1763 
	mPON_PORT_LERN
,

1764 
	mPON_PORT_RCV_EN
,

1765 
	mPON_PORT_END


1766 }
	tBRG_PON_PORT_LINK_CONTROL_e
;

1768 
	eBRG_GE_PORT_LINK_CONTROL_s


1770 
	mGE_PORT_TRSMT_EN
,

1771 
	mGE_PORT_TAG
,

1772 
	mGE_PORT_UNTAG
,

1773 
	mGE_PORT_I_COS
,

1774 
	mGE_PORT_I_ACTION
,

1775 
	mGE_PORT_PVID
,

1776 
	mGE_PORT_COS
,

1777 
	mGE_PORT_RSV
,

1778 
	mGE_PORT_LP
,

1779 
	mGE_PORT_LERN_LIMIT
,

1780 
	mGE_PORT_LERN_DROP
,

1781 
	mGE_PORT_LERN
,

1782 
	mGE_PORT_RCV_EN
,

1783 
	mGE_PORT_END


1784 }
	tBRG_GE_PORT_LINK_CONTROL_e
;

1786 
	sBRG_PORT_TAB_GE_s


1788 #ifde‡
OPCONN_BIG_ENDIAN


1789 
UINT32
 
	mª£rved
:4;

1790 
UINT32
 
	mrcv_í
:1;

1791 
UINT32
 
	mÀ∫
:1;

1792 
UINT32
 
	mÀ∫_dr›
:1;

1793 
UINT32
 
	mÀ∫_limô
:1;

1794 
UINT32
 
	mÕ
:1;

1795 
UINT32
 
	mrsv_í
:1;

1796 
UINT32
 
	mcos
:3;

1797 
UINT32
 
	mpvid
:12;

1798 
UINT32
 
	mi_a˘i⁄
:1;

1799 
UINT32
 
	mi_cos
:3;

1800 
UINT32
 
	mu¡ag
:1;

1801 
UINT32
 
	mèg
:1;

1802 
UINT32
 
	måsmt_í
:1;

1804 
UINT32
 
	måsmt_í
:1;

1805 
UINT32
 
	mèg
:1;

1806 
UINT32
 
	mu¡ag
:1;

1807 
UINT32
 
	mi_cos
:3;

1808 
UINT32
 
	mi_a˘i⁄
:1;

1809 
UINT32
 
	mpvid
:12;

1810 
UINT32
 
	mcos
:3;

1811 
UINT32
 
	mrsv_í
:1;

1812 
UINT32
 
	mÕ
:1;

1813 
UINT32
 
	mÀ∫_limô
:1;

1814 
UINT32
 
	mÀ∫_dr›
:1;

1815 
UINT32
 
	mÀ∫
:1;

1816 
UINT32
 
	mrcv_í
:1;

1817 
UINT32
 
	mª£rved
:4;

1819 }
	tBRG_PORT_TAB_GE_t
;

1821 
	sBRG_PORT_TAB_PON_s


1823 #ifde‡
OPCONN_BIG_ENDIAN


1824 
UINT32
 
	mª£rved
:4;

1825 
UINT32
 
	mrcv_í
:1;

1826 
UINT32
 
	mÀ∫
:1;

1827 
UINT32
 
	mÀ∫_dr›
:1;

1828 
UINT32
 
	mÀ∫_limô
:1;

1829 
UINT32
 
	mÕ
:1;

1830 
UINT32
 
	mrsv_í
:1;

1831 
UINT32
 
	mcos
:3;

1832 
UINT32
 
	mpvid
:12;

1833 
UINT32
 
	mi_a˘i⁄
:1;

1834 
UINT32
 
	mi_cos
:3;

1835 
UINT32
 
	mu¡ag
:1;

1836 
UINT32
 
	mèg
:1;

1837 
UINT32
 
	måsmt_í
:1;

1839 
UINT32
 
	måsmt_í
:1;

1840 
UINT32
 
	mèg
:1;

1841 
UINT32
 
	mu¡ag
:1;

1842 
UINT32
 
	mi_cos
:3;

1843 
UINT32
 
	mi_a˘i⁄
:1;

1844 
UINT32
 
	mpvid
:12;

1845 
UINT32
 
	mcos
:3;

1846 
UINT32
 
	mrsv_í
:1;

1847 
UINT32
 
	mÕ
:1;

1848 
UINT32
 
	mÀ∫_limô
:1;

1849 
UINT32
 
	mÀ∫_dr›
:1;

1850 
UINT32
 
	mÀ∫
:1;

1851 
UINT32
 
	mrcv_í
:1;

1852 
UINT32
 
	mª£rved
:4;

1854 }
	tBRG_PORT_TAB_PON_t
;

1856 
	sBRG_PORT_TAB_ENTRY_s


1860 
BRG_PORT_TAB_GE_t
 
	mp‹t_íåy_ge
;

1861 
BRG_PORT_TAB_PON_t
 
	mp‹t_íåy_p⁄
;

1862 }
	mcomm⁄
;

1863 }
	tBRG_PORT_TAB_ENTRY_t
;

1866 
	#DAL_CNT_POLL_GE_MASK
 0x00000001

	)

1867 
	#DAL_CNT_POLL_PON_MASK
 0x00000002

	)

1868 
	#DAL_CNT_POLL_FE_MASK
 0x00000004

	)

1869 
	#DAL_CNT_POLL_TM_MASK
 0x00000008

	)

1870 
	#DAL_CNT_POLL_CLE_MASK
 0x00000010

	)

1871 
	#DAL_CNT_POLL_BRG_MASK
 0x00000020

	)

1872 
	#DAL_CNT_POLL_MPCP_MASK
 0x00000040

	)

1873 
	#DAL_CNT_POLL_MARB_MASK
 0x00000080

	)

1874 
	#DAL_CNT_POLL_CPDMA_MASK
 0x00000100

	)

1875 
	#DAL_CNT_POLL_FEDMA_MASK
 0x00000200

	)

1876 
	#DAL_CNT_POLL_GEPARSER_MASK
 0x00000400

	)

1877 
	#DAL_CNT_POLL_CLEHIT_MASK
 0x00000800

	)

1878 
	#DAL_CNT_POLL_SWITCH_MASK
 0x00001000

	)

1880 
	#DAL_CNT_GE_NUM
 38

	)

1881 
	#DAL_CNT_PON_NUM
 45

	)

1882 
	#DAL_CNT_FE_NUM
 9

	)

1883 
	#DAL_CNT_TM_NUM
 12

	)

1884 
	#DAL_CNT_CLE_NUM
 2

	)

1885 
	#DAL_CNT_BRG_NUM
 18

	)

1886 
	#DAL_CNT_MPCP_NUM
 17

	)

1887 
	#DAL_CNT_MARB_NUM
 6

	)

1888 
	#DAL_CNT_CPDMA_NUM
 11

	)

1889 
	#DAL_CNT_FEDMA_NUM
 7

	)

1890 
	#DAL_CNT_GEPARSER_NUM
 6

	)

1891 
	#DAL_CNT_CLEHIT_NUM
 128

	)

1892 
	#DAL_CNT_MAX_NUM
 128

	)

1894 
	sOPL_CNT_ADD_s


1896 
UINT32
 
	muiHigh
;

1897 
UINT32
 
	muiLow
;

1898 }
	tOPL_CNT_ADD_t
;

1900 
	sOPL_CNT_s


1902 
UINT16
 
	musId
;

1903 
UINT8
 
	mpucName
[32];

1904 
OPL_CNT_ADD_t
 
	m°Added
;

1905 
UINT8
 
	mpucHñp
[80];

1906 }
	tOPL_CNT_t
;

1910 
	eOPL_PON_CNT_ST_IDX_e


1912 
	mOPL_PON_CNT_ST_IDX_TxTŸÆPkts
 = 2,

1913 
	mOPL_PON_CNT_ST_IDX_TxMACC⁄åﬁPkts
 = 6,

1914 
	mOPL_PON_CNT_ST_IDX_TxOAMPkts
 = 15,

1915 
	mOPL_PON_CNT_ST_IDX_RxTŸÆPkts
 = 22,

1916 
	mOPL_PON_CNT_ST_IDX_RxMACC⁄åﬁPkts
 = 27,

1917 
	mOPL_PON_CNT_ST_IDX_RxOAMPkts
 = 42

1918 }
	tOPL_PON_CNT_ST_IDX_t
;

1922 
	eOPL_MPCP_CNT_ST_IDX_e


1924 
	mOPL_MPCP_CNT_ST_IDX_REGREQ
 = 12,

1925 
	mOPL_MPCP_CNT_ST_IDX_REGACK
 = 13

1926 }
	tOPL_MPCP_CNT_ST_IDX_t
;

1928 
	sONU_PON_P‹t_Sèti°ics_Gë_1_s
{

1929 
UINT64
 
	mFømesTønsmôãdOK
;

1930 
UINT64
 
	mO˘ësTønsmôãdOK
;

1931 
UINT64
 
	mMu…iˇ°FømesXmôãdOK
;

1932 
UINT64
 
	mBrﬂdˇ°FømesXmôãdOK
;

1933 
UINT64
 
	mPONPau£FømesTønsmôãdOk
;

1934 
UINT64
 
	mFømesRe˚ivedOK
;

1935 
UINT64
 
	mO˘ësRe˚ivedOK
;

1936 
UINT64
 
	mMu…iˇ°FømesRe˚ivedOK
;

1937 
UINT64
 
	mBrﬂdˇ°FømesRe˚ivedOK
;

1938 
UINT64
 
	mPONPau£FømesRe˚ivedOk
;

1939 
UINT64
 
	mSögÀCﬁlisi⁄Fømes
;

1940 
UINT64
 
	mMu…ùÀCﬁlisi⁄Fømes
;

1941 
UINT64
 
	mAlignmítEº‹s
;

1942 
UINT64
 
	mFømeTooL⁄gEº‹s
;

1943 }
	tONU_PON_P‹t_Sèti°ics_Gë_1_t
;

1945 
	sONU_PON_P‹t_Sèti°ics_Gë_2_s
{

1946 
UINT64
 
	mCRC8Eº‹s
;

1947 
UINT64
 
	mFECC‹ª˘edBlocks
;

1948 
UINT64
 
	mFECUnc‹ª˘abÀBlocks
;

1949 
UINT64
 
	mMPCPMACCålFømesTønsmôãd
;

1950 
UINT64
 
	mMPCPMACCålFømesRe˚ived
;

1951 
UINT64
 
	mMPCPTxG©e
;

1952 
UINT64
 
	mMPCPTxRegAck
;

1953 
UINT64
 
	mMPCPTxRegi°î
;

1954 
UINT64
 
	mMPCPTxRegReque°
;

1955 
UINT64
 
	mMPCPTxRï‹t
;

1956 
UINT64
 
	mMPCPRxG©e
;

1957 
UINT64
 
	mMPCPRxRegAck
;

1958 
UINT64
 
	mMPCPRxRegi°î
;

1959 
UINT64
 
	mMPCPRxRegReque°
;

1960 
UINT64
 
	mMPCPRxRï‹t
;

1961 }
	tONU_PON_P‹t_Sèti°ics_Gë_2_t
;

1963 
	sONU_P‹t_Flux_Sèti°ics_Cou¡î_s
{

1964 
UINT64
 
	mifInO˘ës
;

1965 
UINT64
 
	mifInUˇ°Pkts
;

1966 
UINT64
 
	mifInNUˇ°Pkts
;

1967 
UINT64
 
	mifInDisˇrds
;

1968 
UINT64
 
	mifInEº‹s
;

1969 
UINT64
 
	mifOutO˘ës
;

1970 
UINT64
 
	mifOutUˇ°Pkts
;

1971 
UINT64
 
	mifOutNUˇ°Pkts
;

1972 
UINT64
 
	mifOutDisˇrds
;

1973 
UINT64
 
	mifOutEº‹s
;

1974 }
	tONU_P‹t_Flux_Sèti°ics_Cou¡î_t
;

1977 #¥agm®
∑ck
 ()

1985 
OPL_STATUS
 
dÆP⁄MacIdSë
–
UINT8
 * 
mac
 );

1987 
OPL_STATUS
 
dÆP⁄MacIdGë
–
UINT8
 * 
mac
 );

1989 
OPL_STATUS
 
dÆP⁄PhyFecModeSë
–
UINT32
 
mode
 );

1991 
OPL_STATUS
 
dÆP⁄PhyFecModeGë
–
UINT32
 * 
mode
 );

1993 
OPL_STATUS
 
dÆP⁄PhyTrùÀChunögModeSë
–
UINT32
 
mode
 );

1995 
OPL_STATUS
 
dÆP⁄PhyTrùÀChunögModeGë
–
UINT32
 * 
mode
 );

1997 
OPL_STATUS
 
dÆP⁄PhyAesModeSë
–
UINT32
 
mode
 );

1999 
OPL_STATUS
 
dÆP⁄PhyAesModeGë
–
UINT32
 * 
mode
 );

2001 
OPL_STATUS
 
dÆP⁄La£rOnC¡Së
–
UINT32
 
cou¡
 );

2003 
OPL_STATUS
 
dÆP⁄La£rOnC¡Gë
–
UINT32
 * 
cou¡
 );

2005 
OPL_STATUS
 
dÆP⁄La£rOffC¡Së
–
UINT32
 
cou¡
 );

2007 
OPL_STATUS
 
dÆP⁄La£rOffC¡Gë
–
UINT32
 * 
cou¡
 );

2009 
OPL_STATUS
 
dÆP⁄SyncTimeGë
–
UINT32
 * 
cou¡
 );

2011 
OPL_STATUS
 
dÆP⁄LlidGë
–
UINT32
 * 
Œid
 );

2013 
OPL_STATUS
 
dÆP⁄SîdesDñayC¡Së
–
UINT32
 
cou¡
 );

2015 
OPL_STATUS
 
dÆP⁄SîdesDñayC¡Gë
–
UINT32
 * 
cou¡
 );

2017 
OPL_STATUS
 
dÆP⁄SecurôyModeSë
–
UINT32
 
ch™√l
, UINT32 
mode
 );

2019 
OPL_STATUS
 
dÆP⁄SecurôyModeGë
–
UINT32
 
ch™√l
, UINT32 * 
mode
 );

2021 
OPL_STATUS
 
dÆP⁄SecurôyAesModeSë
–
UINT32
 
ch™√l
, UINT32 
mode
 );

2023 
OPL_STATUS
 
dÆP⁄SecurôyAesModeGë
–
UINT32
 
ch™√l
, UINT32 * 
mode
 );

2025 
OPL_STATUS
 
dÆP⁄Uniˇ°TrùÀChu∫ögKeyGë
–
UINT8
 
keyIndex
, UINT8 * 
keyBuff
 );

2027 
OPL_STATUS
 
dÆP⁄ScbTrùÀChu∫ögKeySë
–
UINT8
 
keyIndex
, UINT8 * 
keyBuff
 );

2029 
OPL_STATUS
 
dÆP⁄Uniˇ°AesKeyGë
–
UINT8
 
keyIndex
, UINT8 * 
keyBuff
, UINT8 
mode
 );

2031 
OPL_STATUS
 
dÆP⁄ScbAesKeySë
–
UINT8
 
keyIndex
, UINT8 * 
keyBuff
, UINT8 
mode
 );

2033 
OPL_STATUS
 
dÆP⁄TrùÀChu∫ögModeGë
–
UINT8
 * 
mode
 );

2035 
OPL_STATUS
 
dÆP⁄TrùÀChu∫ögModeSë
–
UINT8
 
mode
 );

2037 
OPL_STATUS
 
dÆP⁄Mp˝DbaAgítC⁄figAŒSë
(

2038 
UINT32
 
˝R±SèMode
,

2039 
UINT32
 
˝MîgeR±SídMode
,

2040 
UINT32
 
˝R±SídMode
,

2041 
UINT32
 
˝PktInôTimîCfg
,

2042 
UINT32
 
˝DñèTxN‹mÆNoFecTime
,

2043 
UINT32
 
˝TxMp˝NoFecTime
 );

2045 
OPL_STATUS
 
dÆP⁄Mp˝DbaAgítC⁄figAŒGë
(

2046 
UINT32
 * 
˝R±SèMode
,

2047 
UINT32
 * 
˝MîgeR±SídMode
,

2048 
UINT32
 * 
˝R±SídMode
,

2049 
UINT32
 * 
˝PktInôTimîCfg
,

2050 
UINT32
 * 
˝DñèTxN‹mÆNoFecTime
,

2051 
UINT32
 * 
˝TxMp˝NoFecTime
 );

2053 
OPL_STATUS
 
dÆP⁄DñayC⁄figAŒSë
(

2054 
UINT8
 
˝TxDlyEn
,

2055 
UINT8
 
˝SyncEn
,

2056 
UINT16
 
˝R±£¡Dñt
,

2057 
UINT16
 
˝TxDly
 );

2059 
OPL_STATUS
 
dÆP⁄DñayC⁄figAŒGë
(

2060 
UINT32
 * 
˝TxDlyEn
,

2061 
UINT32
 * 
˝SyncEn
,

2062 
UINT32
 * 
˝R±£¡Dñt
,

2063 
UINT32
 * 
˝TxDly
 );

2065 
OPL_STATUS
 
dÆP⁄Mp˝SètusGë
–
DAL_PON_STATUS_t
 * 
p⁄Sètus
 );

2067 
OPL_STATUS
 
dÆP⁄OamFöishedSë
–
UINT32
 
ﬂmFöished
 );

2069 
OPL_STATUS
 
dÆP⁄Mp˝FsmHﬁdOvîCålSë
–
UINT32
 
íabÀ
 );

2071 
OPL_STATUS
 
dÆP⁄Mp˝FsmHﬁdOvîCålGë
–
UINT32
 * 
íabÀ
 );

2073 
OPL_STATUS
 
dÆP⁄Mp˝FsmHﬁdOvîTimeSë
–
UINT32
 
hﬁdTime
 );

2075 
OPL_STATUS
 
dÆP⁄Mp˝FsmHﬁdOvîTimeGë
–
UINT32
 * 
hﬁdTime
 );

2077 
OPL_STATUS
 
dÆClsTblE¡ryAdd
(

2078 
CLASSIFY_MASK_ENTRY_t
 *
pMaskE¡ry
,

2079 
CLASSIFY_RULE_ENTRY_t
 *
pRuÀE¡ry
,

2080 
UINT16
 *
pCruÀID
, 
›l_˛s_hwtbl_t
 *
pClshwtbl
 );

2082 
OPL_STATUS
 
dÆClsTblE¡ryDñ
–
CLASSIFY_MASK_ENTRY_t
 *
pMaskE¡ry
, 
CLASSIFY_RULE_ENTRY_t
 *
pRuÀE¡ry
, 
UINT16
 *
pCruÀID
 );

2084 
OPL_STATUS
 
dÆClsMaskTblWr
–
CLASSIFY_MASK_ENTRY_t
 *
pMask
, 
UINT8
 
maskID
 );

2086 
OPL_STATUS
 
dÆClsRuÀTblWr
–
CLASSIFY_RULE_ENTRY_t
 *
pRuÀ
, 
UINT16
 
ruÀID
 );

2088 
OPL_STATUS
 
dÆClsAddrTblWr
–
UINT16
 
addªss
, UINT16 
off£t
, UINT16 
ruÀId
 );

2090 
OPL_STATUS
 
dÆClsMaskHwWr
–
CLASSIFY_MASK_ENTRY_t
 *
pMask
, 
UINT8
 
maskID
 );

2092 
OPL_STATUS
 
dÆClsRuÀHwWr
–
CLASSIFY_RULE_ENTRY_t
 *
pRuÀ
, 
UINT16
 
ruÀID
 );

2094 
OPL_STATUS
 
dÆClsAddrHwWr
–
UINT16
 
addªss
, UINT16 
off£t
, UINT16 
ruÀId
 );

2096 
OPL_STATUS
 
dÆClsRuÀTblRd
–
CLASSIFY_RULE_ENTRY_t
 *
pRuÀ
, 
UINT16
 
ruÀID
, 
UINT8
 
tblTy≥
 );

2098 
OPL_STATUS
 
dÆClsAddrTblRd
–
UINT16
 
addªss
, UINT16 
off£t
, UINT16 *
pRuÀId
, 
UINT8
 
tblTy≥
 );

2100 
OPL_STATUS
 
dÆClsE¡rySë
–
CLASSIFY_PARAMETER_t
 *
pMaskRuÀP¨
, 
UINT16
 *
pCruÀID
, 
›l_˛s_hwtbl_t
 *
pCmaskID
 );

2102 
OPL_STATUS
 
dÆClsE¡ryMove
–
CLASSIFY_PARAMETER_t
 *
pRuÀP¨
, 
UINT16
 * 
pCruÀID
 );

2104 
OPL_STATUS
 
dÆClsInô
( );

2106 
OPL_STATUS
 
dÆClsTønA˘Së
–
UINT16
 
˛assRuÀID
, 
UINT8
 
a˘VÆue
 );

2108 
OPL_STATUS
 
dÆClsRmkA˘Së
–
UINT16
 
˛assRuÀID
, 
UINT8
 
rmka˘VÆ
 );

2110 
OPL_STATUS
 
dÆClsRmkCosSë
–
UINT16
 
˛assRuÀID
, 
UINT8
 
cosVÆue
 );

2112 
OPL_STATUS
 
dÆClsRmkIcosSë
–
UINT16
 
˛assRuÀID
, 
UINT8
 
iCosVÆ
 );

2114 
OPL_STATUS
 
dÆClsRmkVidSë
–
UINT16
 
˛assRuÀID
, UINT16 
rmkVid
 );

2116 
OPL_STATUS
 
dÆClsEgªssP‹tCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
p‹tID
, UINT8 
eMask
, UINT8 
bE«bÀ
 );

2118 
OPL_STATUS
 
dÆClsIngªssP‹tCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
p‹tID
, UINT8 
iMask
, UINT8 
bE«bÀ
 );

2120 
OPL_STATUS
 
dÆClsTønA˘Cfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
a˘VÆue
 );

2122 
OPL_STATUS
 
dÆClsRmkA˘Cfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
rmkA˘VÆ
 );

2124 
OPL_STATUS
 
dÆClsRmkCosCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
cosVÆue
 );

2126 
OPL_STATUS
 
dÆClsRmkIcosCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
iCosVÆue
 );

2128 
OPL_STATUS
 
dÆClsRmkVidCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT16 
rmkVid
 );

2130 
OPL_STATUS
 
dÆClsMaskPrioCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
maskPrio
 );

2132 
OPL_STATUS
 
dÆClsDe°MacAddrCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, 
INT8
 * 
pDe°Mac
, INT8 * 
pU§Mask
, UINT8 
bE«bÀ
 );

2134 
OPL_STATUS
 
dÆClsSrcMacAddrCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, 
INT8
 * 
pSrcMac
, INT8 * 
pU§Mask
, UINT8 
bE«bÀ
 );

2136 
OPL_STATUS
 
dÆClsFú°CosCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
cosVÆ
, UINT8 
u§Mask
, UINT8 
bE«bÀ
 );

2138 
OPL_STATUS
 
dÆClsFú°VidCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT16 
vœnID
, UINT16 
u§Mask
, UINT8 
bE«bÀ
 );

2140 
OPL_STATUS
 
dÆClsTy≥LíCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT16 
ty≥Lí
, UINT16 
u§Mask
, UINT8 
bE«bÀ
 );

2142 
OPL_STATUS
 
dÆClsDe°IpCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, 
INT8
 * 
pDe°Ip
, INT8 * 
pU§Mask
, UINT8 
bE«bÀ
 );

2144 
OPL_STATUS
 
dÆClsSrcIpCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, 
INT8
 * 
pSrcIp
, INT8 * 
pU§Mask
, UINT8 
bE«bÀ
 );

2146 
OPL_STATUS
 
dÆClsIpTy≥Cfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
ùTy≥
, UINT8 
u§Mask
, UINT8 
bE«bÀ
 );

2148 
OPL_STATUS
 
dÆClsIpTosCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT8 
ùTos
, UINT8 
u§Mask
, UINT8 
bE«bÀ
 );

2150 
OPL_STATUS
 
dÆClsL4De°P‹tCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT16 
L4De°P‹tID
, UINT16 
u§Mask
, UINT8 
bE«bÀ
 );

2152 
OPL_STATUS
 
dÆClsL4SrcP‹tCfg
–
UINT16
 
˛assIãmID
, 
UINT8
 
pktTy≥
, UINT16 
L4SrcP‹tID
, UINT16 
u§Mask
, UINT8 
bE«bÀ
 );

2155 
OPL_STATUS
 
dÆClsRuÀE¡ryShow
(
UINT16
 
°¨tId
, UINT16 
ídId
, 
UINT8
 
mode
 );

2156 
OPL_STATUS
 
dÆClsMaskE¡ryShow
(
UINT16
 
°¨tId
, UINT16 
ídId
, 
UINT8
 
mode
 );

2157 
OPL_STATUS
 
dÆClsAddrE¡ryShow
(
UINT16
 
°¨tId
, UINT16 
ídId
, 
UINT8
 
mode
 );

2158 
OPL_STATUS
 
dÆClsCfgShow
(
UINT16
 
usFú°Iãm
,UINT16 
usLa°Iãm
);

2161 
OPL_STATUS
 
dÆClsRuÀDñ
–
UINT16
 
˛assIãmID
 );

2163 
OPL_STATUS
 
dÆClsC⁄vîtP¨a
–
CLASSIFY_ITEM_t
 *
pCœssIãmInfo
, 
CLS_CONFIG_INFO_t
 *
°CœssCfg
, 
UINT8
 
pktTy≥
 );

2165 
OPL_STATUS
 
dÆClsCtcInô
( );

2167 
OPL_STATUS
 
dÆClsVÆidE¡ryGë
(
UINT16
 *
puiClsId
);

2169 
OPL_STATUS
 
dÆClsRuÀCtcAdd
–
CLS_CONFIG_INFO_t
 *
°CœssCfg
, 
UINT16
 *
ruÀId
 );

2171 
OPL_STATUS
 
dÆClsRuÀCtcDñ
–
CLS_CONFIG_INFO_t
 *
°CœssCfg
, 
UINT16
 *
ruÀId
 );

2173 
OPL_STATUS
 
dÆClsRuÀCtcCÀ¨
( );

2175 
OPL_STATUS
 
dÆExClsDñE¡ry
–
UINT32
 
ruÀIndex
 );

2177 
OPL_STATUS
 
dÆChùRe£t
( );

2179 
OPL_STATUS
 
dÆDem⁄Inô
( );

2181 
OPL_STATUS
 
dÆAæAgeTimeSë
–
UINT32
 
ageögTime
 );

2183 
OPL_STATUS
 
dÆAæAgeTimeGë
–
UINT32
 *
ageögTime
 );

2185 
OPL_STATUS
 
dÆAæMacAdd
–
UINT8
 
p‹tNum
, UINT8 *
macAddªss
, 
UINT16
 
vœnIndex
 );

2187 
OPL_STATUS
 
dÆAæMacDñ
–
UINT8
 
p‹tNum
, UINT8 *
macAddªss
, 
UINT16
 
vœnIndex
 );

2189 
OPL_STATUS
 
dÆAæMacRemove
–
UINT8
 *
macAddªss
, 
UINT16
 
vœnIndex
 );

2191 
OPL_STATUS
 
dÆAæFlushDy«mic
( );

2193 
OPL_STATUS
 
dÆAæFlushAŒ
( );

2195 
OPL_STATUS
 
dÆAæLó∫EnSë
–
UINT8
 
íabÀ
 );

2197 
OPL_STATUS
 
dÆAæLó∫EnGë
–
UINT8
 *
íabÀ
 );

2199 
OPL_STATUS
 
dÆAæSo·Ló∫EnSë
–
UINT8
 
íabÀ
 );

2201 
OPL_STATUS
 
dÆAæSo·Ló∫EnGë
–
UINT8
 *
íabÀ
 );

2203 
OPL_STATUS
 
dÆAæAgeE«bÀSë
–
UINT8
 
íabÀ
 );

2205 
OPL_STATUS
 
dÆAæAgeE«bÀGë
–
UINT8
 *
íabÀ
 );

2207 
OPL_STATUS
 
dÆAæMacNumLimôSë
–
UINT32
 
p‹tID
, 
UINT8
 
íabÀ
, UINT32 
num
 );

2209 
OPL_STATUS
 
dÆAæMu…iP‹tMacAdd
–
UINT32
 
uiP‹tNum
, UINT32 * 
auiP‹éi°
, 
UINT8
 * 
aucMacAddªss
, 
UINT16
 
usVœnId
 );

2211 
OPL_STATUS
 
dÆAæMu…iP‹tMacDñ
–
UINT32
 
uiP‹tNum
, UINT32 * 
auiP‹éi°
, 
UINT8
 * 
aucMacAddªss
, 
UINT16
 
usVœnId
 );

2213 
OPL_STATUS
 
dÆAæMacE¡ryFöd
–
UINT8
 * 
aucMacAddªss
, 
UINT16
 
usVœnId
, 
FDB_MAC_ENTRY_INFO_S
 * 
p°MacE¡ryInfo
, 
OPL_BOOL
 * 
pbFöd
 );

2215 
OPL_STATUS
 
dÆAæMacE¡ryTøvî£
–
UINT32
 * 
puiSèπMacE¡ryId
, 
FDB_MAC_ENTRY_INFO_S
 * 
p°MacE¡ryInfo
, 
OPL_BOOL
 * 
pbFöd
 );

2217 
OPL_STATUS
 
dÆAæMacE¡ryShowO√
–
INT32
 
lFd
, 
UINT8
 * 
aucMacAddªss
, 
UINT16
 
usTy≥
, 
UINT32
 
uiP‹tNum
, UINT32 * 
auiP‹éi°
 );

2219 
OPL_STATUS
 
dÆAæMacE¡ryShowAŒ
–
INT32
 
lFd
, 
UINT16
 
usTy≥
, 
UINT32
 
uiP‹tNum
, UINT32 * 
auiP‹éi°
 );

2221 
OPL_STATUS
 
dÆMu…iˇ°Inô
( );

2223 
OPL_STATUS
 
dÆVâE¡ryTagAdd
(
UINT8
 
p⁄_°rù_í
,UINT8 
ge_°rù_í
, 
UINT16
 
c_vid
,UINT16 
s_vid
);

2225 #i‡
deföed
(
ONU_4PORT_AR8327
)

2226 
OPL_STATUS
 
dÆMu…iˇ°VœnAddP‹t
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, 
UINT32
 
èg
 );

2228 
OPL_STATUS
 
dÆMu…iˇ°VœnAddP‹t
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
 );

2230 
OPL_STATUS
 
dÆMu…iˇ°VœnDñP‹t
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
 );

2232 
OPL_STATUS
 
dÆMu…iˇ°VœnTagSåùe
–
UINT8
 
p‹tNum
, UINT8 
íabÀ
 );

2234 
OPL_STATUS
 
dÆMu…iˇ°AæAddP‹t
–
UINT8
 
p‹tNum
, UINT8 * 
macAddr
 );

2236 
OPL_STATUS
 
dÆMu…iˇ°AæP‹tDñ
–
UINT8
 
p‹tNum
, UINT8 * 
macAddr
 );

2238 
OPL_STATUS
 
dÆMu…iˇ°AæVœnAdd
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
 );

2240 
OPL_STATUS
 
dÆMu…iˇ°AæVœnDñ
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
 );

2242 
OPL_STATUS
 
dÆMu…iˇ°AæTabFlush
( );

2244 
OPL_STATUS
 
dÆMu…iˇ°P‹tVœnMacAdd
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
, 
OPL_BOOL
 
fuzzy
 );

2246 
OPL_STATUS
 
dÆMu…iˇ°P‹tVœnMacDñ
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
, 
OPL_BOOL
 
fuzzy
 );

2248 
OPL_STATUS
 
dÆMu…iˇ°P‹tVœnIpAdd
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, 
UINT32
 
ù
 );

2250 
OPL_STATUS
 
dÆMu…iˇ°P‹tVœnIpDñ
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, 
UINT32
 
ù
 );

2252 
OPL_STATUS
 
dÆMu…iˇ°RuÀDñAŒ
( );

2254 
OPL_STATUS
 
dÆMu…iˇ°D©aFûãrAdd
( );

2256 
OPL_STATUS
 
dÆMu…iˇ°D©aFûãrDñ
( );

2258 
OPL_STATUS
 
dÆMu…iˇ°NumofRuÀGë
–
UINT16
 * 
numOfRuÀ
 );

2260 
OPL_STATUS
 
dÆP‹tNumIsInvÆid
–
UINT8
 
p‹tId
 );

2263 
OPL_STATUS
 
dÆP‹tS≥cificDu∂exRód
–
UINT8
 
p‹tId
, 
UINT32
 * 
du∂ex
 );

2266 
OPL_STATUS
 
dÆPhyS≥cificAut⁄egRód
–
UINT8
 
p‹tId
, 
UINT32
 * 
°©e
 );

2269 
OPL_STATUS
 
dÆP‹tS≥cificS≥edRód
–
UINT8
 
p‹tId
, 
UINT32
 * 
p‹tS≥ed
 );

2272 
OPL_STATUS
 
dÆP‹tSèãGë
–
UINT8
 
p‹tId
, UINT8 * 
°©us
 );

2275 
OPL_STATUS
 
dÆP‹tS≥edSë
–
UINT8
 
p‹tId
, 
UINT32
 
p‹tS≥ed
 );

2278 
OPL_STATUS
 
dÆP‹tS≥edGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
p‹tS≥ed
 );

2281 
OPL_STATUS
 
dÆP‹tDu∂exSë
–
UINT8
 
p‹tId
, 
UINT32
 
du∂ex
 );

2284 
OPL_STATUS
 
dÆP‹tDu∂exGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
du∂ex
 );

2287 
OPL_STATUS
 
dÆP‹tFlowc⁄åﬁSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
 );

2290 
OPL_STATUS
 
dÆP‹tFlowc⁄åﬁGë
–
UINT8
 
p‹tId
, UINT8 * 
íabÀ
 );

2293 
OPL_STATUS
 
dÆP‹tLo›backSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
 );

2296 
OPL_STATUS
 
dÆP‹tUsPﬁicögE«bÀSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
 );

2299 
OPL_STATUS
 
dÆP‹tUsPﬁicögCúSë
–
UINT8
 
p‹tId
, 
UINT32
 
cú
 );

2302 
OPL_STATUS
 
dÆP‹tUsPﬁicögCúGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
cú
 );

2305 
OPL_STATUS
 
dÆP‹tUsPﬁicögCbsSë
–
UINT8
 
p‹tId
, 
UINT32
 
cbs
 );

2308 
OPL_STATUS
 
dÆP‹tUsPﬁicögCbsGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
cbs
 );

2311 
OPL_STATUS
 
dÆP‹tUsPﬁicögEbsSë
–
UINT8
 
p‹tId
, 
UINT32
 
ebs
 );

2314 
OPL_STATUS
 
dÆP‹tUsPﬁicögEbsGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
ebs
 );

2317 
OPL_STATUS
 
dÆP‹tUsPﬁicögSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
, 
UINT32
 
cú
, UINT32 
cbs
, UINT32 
ebs
 );

2320 
OPL_STATUS
 
dÆP‹tUsPﬁicögGë
–
UINT8
 
p‹tId
, UINT8 * 
íabÀ
, 
UINT32
 * 
cú
, UINT32 * 
cbs
, UINT32 * 
ebs
 );

2323 
OPL_STATUS
 
dÆP‹tDsPﬁicögE«bÀSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
 );

2326 
OPL_STATUS
 
dÆP‹tDsPﬁicögE«bÀGë
–
UINT8
 
p‹tId
, UINT8 * 
íabÀ
 );

2329 
OPL_STATUS
 
dÆP‹tDsPﬁicögCúSë
–
UINT8
 
p‹tId
, 
UINT32
 
cú
 );

2332 
OPL_STATUS
 
dÆP‹tDsPﬁicögCúGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
cú
 );

2335 
OPL_STATUS
 
dÆP‹tDsPﬁicögPúSë
–
UINT8
 
p‹tId
, 
UINT32
 
pú
 );

2338 
OPL_STATUS
 
dÆP‹tDsPﬁicögPúGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
pú
 );

2341 
OPL_STATUS
 
dÆP‹tDsPﬁicögSë
–
UINT8
 
p‹tId
, UINT8 
íabÀ
, 
UINT32
 
cú
, UINT32 
pú
 );

2344 
OPL_STATUS
 
dÆP‹tDsPﬁicögGë
–
UINT8
 
p‹tId
, UINT8 * 
íabÀ
, 
UINT32
 * 
cú
, UINT32 * 
pú
 );

2347 
OPL_STATUS
 
dÆPhyAdmöSèãGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
°©e
 );

2350 
OPL_STATUS
 
dÆPhyAdmöC⁄åﬁSë
–
UINT8
 
p‹tId
,
UINT32
 
°©e
 );

2353 
OPL_STATUS
 
dÆPhyAut⁄egAdmöSèãGë
–
UINT8
 
p‹tId
, 
UINT32
 * 
°©e
 );

2356 
OPL_STATUS
 
dÆPhyAut⁄egE«bÀSë
–
UINT8
 
p‹tId
,
UINT32
 
íabÀ
 );

2359 
OPL_STATUS
 
dÆPhyAut⁄egRe°¨t
–
UINT8
 
p‹tId
 );

2362 
OPL_STATUS
 
dÆP‹tInô
( );

2365 
OPL_STATUS
 
dÆR°pModeSë
–
IN
 
OPL_BOOL
 
bE«bÀ
 );

2368 
OPL_STATUS
 
dÆR°pP‹tSèãGë
–
IN
 
UINT32
 
ulP‹tId
, 
OUT
 
UINT8
 * 
pucP‹tSèã
 );

2371 
OPL_STATUS
 
dÆR°pP‹tSèãSë
–
IN
 
UINT32
 
ulP‹tId
, IN 
UINT8
 
ucP‹tSèã
 );

2374 
OPL_STATUS
 
dÆR°pP‹tMacFlush
–
UINT32
 
ulP‹tid
, 
BOOL_T
 
bO∆yThisP‹t
 );

2377 
OPL_STATUS
 
dÆSt‹mClsRuÀAdd
–
UINT32
 
°‹mLimôTy≥
, 
UP_DOWN_STREAM_e
 
°ªamTy≥
 );

2380 
OPL_STATUS
 
dÆSt‹mClsRuÀDñ
–
UINT32
 
°‹mLimôTy≥
, 
UP_DOWN_STREAM_e
 
°ªamTy≥
 );

2383 
OPL_STATUS
 
dÆSt‹mCålFømeSë
–
UINT32
 
p‹tId
, UINT32 
°‹mLimôTy≥
, UINT32 
limôE«bÀ
 );

2386 
OPL_STATUS
 
dÆSt‹mCålFømeGë
–
UINT32
 
p‹tId
, UINT32 
°‹mLimôTy≥
, UINT32 * 
limôE«bÀ
 );

2389 
OPL_STATUS
 
dÆSt‹mCålR©eSë
–
UINT32
 
p‹tId
, UINT32 
øãLimô
 );

2392 
OPL_STATUS
 
dÆSt‹mCålR©eGë
–
UINT32
 
p‹tId
, UINT32 * 
øãLimô
 );

2395 
OPL_STATUS
 
›lVîSåGë
–
UINT8
 * 
pSåög
 );

2404 
OPL_STATUS
 
dÆVâModeSë
–
UINT8
 
mode
, 
UINT32
 
p‹tId
 );

2407 
OPL_STATUS
 
dÆVâModeGë
–
UINT8
 * 
mode
, 
UINT32
 
p‹tId
 );

2410 
OPL_STATUS
 
dÆVâTpidSë
–
UINT16
 
çid
, 
UINT32
 
p‹tId
 );

2413 
OPL_STATUS
 
dÆVâTpidGë
–
UINT16
 * 
çid
, 
UINT32
 
p‹tId
 );

2416 
OPL_STATUS
 
dÆVâVidSë
–
UINT16
 
pvid
, 
UINT32
 
p‹tId
 );

2419 
OPL_STATUS
 
dÆVâVidGë
–
UINT16
 * 
pvid
, 
UINT32
 
p‹tId
 );

2422 
OPL_STATUS
 
dÆVâDeÁu…PriSë
–
UINT8
 
ëhîPri
, 
UINT32
 
p‹tId
 );

2425 
OPL_STATUS
 
dÆVâDeÁu…PriGë
–
UINT8
 * 
ëhîPri
, 
UINT32
 
p‹tId
 );

2428 
OPL_STATUS
 
dÆVâTagE¡ryAdd
–
UINT8
 
pSåù
, UINT8 
gSåù
, 
UINT32
 
cVœn
, UINT32 
sVœn
, UINT32 
p‹tId
, UINT32 * 
pE¡ryIndex
, UINT8 
ty≥
 );

2431 
OPL_STATUS
 
dÆVâTagE¡ryGë
–
UINT8
 
VÆidRec‹dIndex
, 
UINT32
 * 
cVœn
, UINT32 * 
sVœn
, UINT32 
p‹tId
 );

2434 
OPL_STATUS
 
dÆVâTagE¡ryDñ
–
UINT8
 
pSåù
, UINT8 
gSåù
, 
UINT32
 
cVœn
, UINT32 
sVœn
, UINT32 
p‹tId
, UINT32 * 
pE¡ryIndex
, UINT8 
ty≥
 );

2437 
OPL_STATUS
 
dÆVâNumOfRec‹dGë
–
UINT8
 * 
numOfRec‹ds
, 
UINT32
 
p‹tId
 );

2440 
OPL_STATUS
 
dÆVâMu…iˇ°E¡ryAdd
–
UINT8
 
pSåù
, UINT8 
gSåù
, 
UINT32
 
cVœn
, UINT32 
sVœn
, UINT32 
p‹tId
 );

2443 
OPL_STATUS
 
dÆVâMu…iˇ°E¡ryDñ
–
UINT8
 
pSåù
, UINT8 
gSåù
, 
UINT32
 
cVœn
, UINT32 
sVœn
, UINT32 
p‹tId
 );

2446 
OPL_STATUS
 
dÆVâMu…iˇ°SåùE«bÀ
–
UINT8
 
p‹tId
, 
UINT32
 
íabÀ
 );

2449 
OPL_STATUS
 
dÆVâMu…iˇ°Inô
–
UINT8
 
p‹tId
 );

2452 
OPL_STATUS
 
dÆVâMu…iˇ°NumOfRec‹dGë
–
UINT8
 * 
numOfRec‹ds
 );

2455 
OPL_STATUS
 
dÆVâInô
( );

2459 
OPL_STATUS
 
tmGeSh≠îE«bÀHwWrôe
–
UINT8
 
°ªam
, UINT8 
íabÀ
 );

2462 
OPL_STATUS
 
tmGeSh≠îE«bÀHwRód
–
UINT8
 
°ªam
, UINT8 * 
íabÀ
 );

2465 
OPL_STATUS
 
tmQueueSh≠îE«bÀHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, UINT8 
íabÀ
 );

2468 
OPL_STATUS
 
tmQueueSh≠îE«bÀHwRód
–
UINT8
 
°ªam
, UINT8 
Qid
, UINT8 * 
íabÀ
 );

2471 
OPL_STATUS
 
tmQueuePriHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, UINT8 
¥i‹ôy
 );

2474 
OPL_STATUS
 
tmQueuePriHwRód
–
UINT8
 
°ªam
, UINT8 
Qid
, UINT8 * 
¥i‹ôy
 );

2477 
OPL_STATUS
 
tmQueueWeightHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 
weight
 );

2480 
OPL_STATUS
 
tmQueueWeightHwRód
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 * 
weight
 );

2483 
OPL_STATUS
 
tmGeCúHwWrôe
–
UINT8
 
°ªam
, 
UINT32
 
geCú
 );

2486 
OPL_STATUS
 
tmGeCúHwRód
–
UINT8
 
°ªam
, 
UINT32
 * 
geCú
 );

2489 
OPL_STATUS
 
tmGeCbsHwWrôe
–
UINT8
 
°ªam
, 
UINT32
 
geCbs
 );

2492 
OPL_STATUS
 
tmGeCbsHwRód
–
UINT8
 
°ªam
, 
UINT32
 * 
geCbs
 );

2495 
OPL_STATUS
 
tmCosIcosM≠HwWrôe
–
UINT8
 
°ªam
, UINT8 
cos
, UINT8 
icos
 );

2498 
OPL_STATUS
 
tmCosIcosM≠HwRód
–
UINT8
 
°ªam
, UINT8 
cos
, UINT8 * 
icos
 );

2501 
OPL_STATUS
 
tmQueueCbsHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 
cbs
 );

2504 
OPL_STATUS
 
tmQueueCbsHwRód
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 * 
cbs
 );

2507 
OPL_STATUS
 
tmQueueCúHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 
cú
 );

2510 
OPL_STATUS
 
tmQueueCúHwRód
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 * 
cú
 );

2513 
OPL_STATUS
 
tmWªdCfgSë
–
UINT8
 
°ªam
, UINT8 
queueId
, UINT8 
ty≥
, 
UINT32
 
vÆue
 );

2516 
OPL_STATUS
 
tmWªdE«bÀHwWrôe
–
UINT8
 
°ªam
, UINT8 
queueId
, 
UINT32
 
íabÀ
 );

2519 
OPL_STATUS
 
tmWªdE«bÀHwRód
–
UINT8
 
°ªam
, UINT8 
queueId
, 
UINT32
 * 
íabÀ
 );

2522 
OPL_STATUS
 
tmUsSh≠îTabDúe˘HwWrôe
–
UINT32
 
íåyId
, UINT32 
cú
, UINT32 
cbs
 );

2525 
OPL_STATUS
 
tmUsWªdTabDúe˘HwWrôe
–
UINT32
 
íåyId
, UINT32 
weight
, UINT32 
möth
, UINT32 
maxth
 );

2528 
OPL_STATUS
 
tmDsWªdTabDúe˘HwWrôe
–
UINT32
 
íåyId
, UINT32 
weight
, UINT32 
möth
, UINT32 
maxth
 );

2531 
OPL_STATUS
 
tmDsSh≠îTabDúe˘HwWrôe
–
UINT32
 
íåyId
, UINT32 
cú
, UINT32 
cbs
 );

2534 
OPL_STATUS
 
tmQueueMaxCñlNumHwWrôe
–
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT16
 
maxCñlNum
 );

2537 
OPL_STATUS
 
tmWªdCfgGë
–
UINT8
 
°ªam
, UINT8 
queueId
, UINT8 
ty≥
, 
UINT32
 * 
vÆue
 );

2540 
OPL_STATUS
 
tmMaxpUsWªdTabDúe˘HwWrôe
–
UINT32
 
íåyId
, 
UINT8
 
c1
, UINT32 
weight
, UINT32 
möth
, UINT32 
maxth
 );

2543 
OPL_STATUS
 
tmMaxpDsWªdTabDúe˘HwWrôe
–
UINT32
 
íåyId
, 
UINT8
 
c1
, UINT32 
weight
, UINT32 
möth
, UINT32 
maxth
 );

2545 
OPL_STATUS
 
tmQueueSh≠îCúE«bÀHwWrôe
(
UINT8
 
°ªam
,UINT8 
Qid
,UINT8 
íabÀ
);

2547 
OPL_STATUS
 
tmUsSh≠îTabPúDúe˘HwWrôe
(
UINT32
 
íåyId
,UINT32 
pú
,UINT32 
pbs
);

2549 
OPL_STATUS
 
tmQueueMaxPktNumHwWrôe
(
UINT8
 
°ªam
,UINT8 
Qid
,
UINT16
 
maxPktNum
);

2551 
OPL_STATUS
 
tmUsSh≠îTabCúDúe˘HwWrôe
(
UINT32
 
íåyId
,UINT32 
cú
,UINT32 
cbs
);

2553 
OPL_STATUS
 
tmQueueSh≠îPúE«bÀHwWrôe
(
UINT8
 
°ªam
,UINT8 
Qid
,UINT8 
íabÀ
);

2555 
OPL_STATUS
 
phyS≥edHwWrôe
(
UINT32
 
phyS≥edMode
);

2557 
OPL_STATUS
 
phyS≥edHwRód
(
PHY_SPEED_MODE_e
 *
phyS≥edMode
);

2559 
OPL_STATUS
 
phyDu∂exHwWrôe
(
PHY_DUPLEX_MODE_e
 
phyDu∂exMode
);

2561 
OPL_STATUS
 
phyDu∂exHwRód
(
PHY_DUPLEX_MODE_e
 *
phyDu∂exMode
);

2563 
OPL_STATUS
 
phyAutoNegHwWrôe
(
UINT8
 
íabÀ
);

2565 
OPL_STATUS
 
phyAutoNegHwRód
(
UINT8
 *
íabÀ
);

2567 
OPL_STATUS
 
phyRe°¨tAutoNeg
();

2569 
OPL_STATUS
 
phyLo›backE«bÀHwWrôe
(
UINT8
 
íabÀ
);

2571 
OPL_STATUS
 
phyLo›backE«bÀHwRód
(
UINT8
 *
íabÀ
);

2573 
OPL_STATUS
 
phyRe£t
();

2575 
OPL_STATUS
 
phyPowîDown
(
UINT8
 
íabÀ
);

2577 
OPL_STATUS
 
phyLökSètusHwRód
(
UINT8
 *
lökSètus
);

2579 
OPL_STATUS
 
phyFlowC⁄åﬁEnHwWrôe
(
UINT8
 
íabÀ
);

2581 
OPL_STATUS
 
phyS≥cificAutoRód
(
UINT32
 *
phyAut⁄egD⁄e
);

2583 
OPL_STATUS
 
phyS≥cificS≥edRód
(
PHY_SPEED_MODE_e
 *
phyS≥ed
);

2585 
OPL_STATUS
 
phyS≥cificDu∂exRód
(
PHY_DUPLEX_MODE_e
 *
phyDu∂ex
);

2587 
OPL_STATUS
 
›lRegRód
(
UINT32
 
ªgAddr
,UINT32 *
ªgVÆ
);

2589 
OPL_STATUS
 
›lRegWrôe
(
UINT32
 
ªgAddr
,UINT32 
ªgVÆ
);

2591 
OPL_STATUS
 
›lRegFõldRód
(
UINT32
 
ªgAddr
,
UINT16
 
fõldOff£t
,UINT16 
fõldWidth
,UINT32 *
d©a0
);

2593 
OPL_STATUS
 
›lRegFõldWrôe
(
UINT32
 
ªgAddr
,
UINT16
 
fõldOff£t
,UINT16 
fõldWidth
,UINT32 
d©a0
);

2595 
OPL_STATUS
 
›lTabRód
(
OPCONN_TAB_e
 
ªgi⁄
,
UINT32
 
°¨tId
,UINT32 
num
,UINT32 *
pVÆ
);

2597 
OPL_STATUS
 
›lTabWrôe
(
OPCONN_TAB_e
 
ªgi⁄
,
UINT32
 
°¨tId
,UINT32 
num
,UINT32 *
pVÆ
);

2599 
OPL_STATUS
 
mdioRegi°îRód
(
UINT8
 
devi˚Addr
,UINT8 
ªgAddr
,
UINT16
 *
d©a0
);

2601 
OPL_STATUS
 
mdioRegi°îWrôe
(
UINT8
 
devi˚Addr
,UINT8 
ªgAddr
,
UINT16
 
d©a0
);

2603 
OPL_STATUS
 
mdioRegi°îFõldRód
(
UINT8
 
devi˚Addr
,UINT8 
ªgAddr
,UINT8 
off£t
,UINT8 
width
,
UINT16
 *
d©a0
);

2605 
OPL_STATUS
 
mdioRegi°îFõldWrôe
(
UINT8
 
devi˚Addr
,UINT8 
ªgAddr
,UINT8 
off£t
,UINT8 
width
,
UINT16
 
d©a0
);

2608 
OPL_STATUS
 
MdioSwGlobÆRegRód
–
UINT32
 
ªgAddr
, UINT32 * 
ªgVÆ
 );

2609 
OPL_STATUS
 
MdioSwGlobÆRegWrôe
–
UINT32
 
ªgAddr
, UINT32 
ªgVÆ
 );

2612 
OPL_STATUS
 
mdioRegi°îInô
();

2614 
OPL_STATUS
 
chùRe£t
();

2616 
OPL_STATUS
 
chùAârGë
(
UINT8
 
ty≥
,
UINT32
 *
vÆue
);

2618 
OPL_STATUS
 
chùInô
();

2620 
OPL_STATUS
 
ª•öInô
();

2622 
OPL_STATUS
 
lökLi°E«bÀ
();

2624 
OPL_STATUS
 
gmacInô
();

2626 
OPL_STATUS
 
pmacInô
();

2628 
OPL_STATUS
 
dÆClsDñE¡ry
(
UINT32
 
ruÀid
);

2630 
OPL_STATUS
 
dÆVoùClsDñE¡ry
(
UINT32
 
ruÀid
);

2632 
OPL_STATUS
 
dÆVâVœnAggDñ
(
UINT16
 
egªssP‹t
, UINT16 
èrgëVœn
, UINT16 
aggedVœn
,
UINT8
 *
aggedMac
);

2634 
OPL_STATUS
 
dÆVâVœnAggAdd
(
UINT16
 
p‹tId
, UINT16 
sVœn
, UINT16 
cVœn
,
UINT8
 *
aggedMac
, UINT16* 
ruÀId
);

2636 
OPL_STATUS
 
brgRsvMacCålHwRód
(
UINT8
 
macNum
,UINT8 *
icos
,UINT8 *
macCé
);

2638 
OPL_STATUS
 
brgRsvMacCålHwWrôe
(
UINT8
 
macNum
,UINT8 
icos
,UINT8 
macCé
);

2640 
OPL_STATUS
 
dÆMu…iˇ°E«bÀ
();

2642 
OPL_STATUS
 
dÆMu…iˇ°DißbÀ
();

2644 
i2cInô
 (
i2cMode
, 
ötMode
, 
UINT8
 
¶vAddr
, 
nR©e
);

2646 
i2cRódR™dom
 (
UINT8
 
¶vAddr
, UINT8 
°aRegAddr
, 
UINT32
 
nByã
, UINT8 *
pD©aBuf
 );

2648 
OPL_STATUS
 
dÆOnuClsRuÀCtcAdd
(
›l_a˛_li°_t
 *
ﬂm˛s
);

2650 
OPL_STATUS
 
dÆOnuClsRuÀCtcCh™ge
(
›l_a˛_li°_t
 *
ﬂm˛s
,
UINT16
 
√wmask
);

2652 
OPL_STATUS
 
dÆOnuClsRuÀCtcDñ
(
›l_a˛_li°_t
 *
ﬂm˛s
);

2654 
OPL_STATUS
 
dÆVoùClsDñE¡ry
(
UINT32
 
ruÀid
);

2656 
OPL_STATUS
 
dÆCœCfgCheck
(
CLS_CONFIG_INFO_t
 *
°CœssCfg
,
UINT16
 *
ruÀId
);

2658 
OPL_STATUS
 
dÆP‹tPvidSë
(
UINT8
 
p‹tId
,
UINT16
 
pvid
);

2660 
OPL_STATUS
 
dÆP‹tPvidGë
(
UINT8
 
p‹tId
,
UINT16
 *
pvid
);

2662 
OPL_STATUS
 
dÆP‹tVœnModeSë
(
UINT8
 
p‹tId
,UINT8 
mode
);

2664 
OPL_STATUS
 
dÆP‹tVœnModeGë
(
UINT8
 
p‹tId
,UINT8 *
mode
);

2666 
OPL_STATUS
 
dÆP‹tDeÁu…PriSë
(
UINT8
 
p‹tId
,UINT8 
deÁu…Pri
);

2668 
OPL_STATUS
 
dÆTrunkE¡ryAdd
(
UINT8
 
p‹tId
, 
UINT32
 
vœnId
);

2670 
OPL_STATUS
 
dÆTrunkE¡ryDñ
(
UINT8
 
p‹tId
, 
UINT32
 
vœnId
);

2672 
OPL_STATUS
 
dÆTrunkE¡ryVÆueGë
(
UINT8
 
p‹tId
, 
UINT16
 
íåyIndex
, UINT16 *
pVœnId
);

2674 
OPL_STATUS
 
dÆTrunkE¡ryNumGë
(
UINT8
 
p‹tId
, 
UINT32
 *
pNum
);

2676 
OPL_STATUS
 
dÆTrunkE¡ryCÀ¨
(
UINT8
 
p‹tId
);

2678 
OPL_STATUS
 
dÆCª©eVœnID
(
UINT16
 
vid
);

2680 
OPL_STATUS
 
dÆFlushVœnAŒ
();

2682 
OPL_STATUS
 
dÆSëLoˇlSwôch
(
UINT8
 
Õ‹t
,UINT8 
íabÀ
);

2684 
OPL_STATUS
 
dÆClsRmkA˘Gë
(
UINT16
 
˛assIãmID
,
UINT8
 
pktTy≥
,UINT8 *
rmkA˘VÆ
);

2686 
OPL_STATUS
 
dÆP⁄Inô
();

2688 
OPL_STATUS
 
dÆDbaQueueThªshﬁdSë
(
UINT8
 
qSëNum
,UINT8 
qNum
,
UINT16
 
thªshﬁdVÆ
);

2690 
OPL_STATUS
 
dÆDbaQueueThªshﬁdGë
(
UINT8
 
qSëNum
,UINT8 
qNum
,
UINT16
 *
thªshﬁdVÆ
);

2692 
OPL_STATUS
 
dÆDbaRï‹tModeSë
(
UINT32
 
mode
);

2694 
OPL_STATUS
 
dÆDbaRï‹tModeGë
(
UINT32
 *
mode
);

2696 
OPL_STATUS
 
dÆOnuMtuSë
(
UINT32
 
mtuSize
);

2698 
OPL_STATUS
 
dÆOnuMtuGë
(
UINT32
 *
mtuSize
);

2700 
OPL_STATUS
 
dÆOnuP⁄Lo›backC⁄fig
(
UINT32
 
uni‹scb
, UINT32 
íabÀ
);

2702 
OPL_STATUS
 
dÆOnuP⁄TxPﬁ¨ôyC⁄fig
(
UINT32
 
low‹high
);

2704 
OPL_STATUS
 
brgU§DeföeRsvMacHwWrôe
(
UINT8
 
num
,UINT8 *
mac
);

2706 
OPL_STATUS
 
brgU§DeföeRsvMacHwRód
(
UINT8
 
num
,UINT8 *
mac
);

2708 
OPL_STATUS
 
brgU§DeföeRsvMacCålHwWrôe
(
UINT8
 
macNum
,UINT8 
icos
,UINT8 
macCé
);

2710 
OPL_STATUS
 
brgU§DeföeRsvMacCålHwRód
(
UINT8
 
macNum
,UINT8 *
icos
,UINT8 *
macCé
);

2712 
OPL_STATUS
 
dÆPONP‹tSèti°icsGë1
(
ONU_PON_P‹t_Sèti°ics_Gë_1_t
 * 
p⁄Sèts
);

2714 
OPL_STATUS
 
dÆPONP‹tSèti°icsGë2
(
ONU_PON_P‹t_Sèti°ics_Gë_2_t
 * 
p⁄Sèts
);

2716 
OPL_STATUS
 
dÆP‹tFluxSèti°icsCou¡îGë
(
ONU_P‹t_Flux_Sèti°ics_Cou¡î_t
 * 
p‹tSèts
);

2718 
OPL_STATUS
 
dÆCou¡îGë
–
moduÀBô
, 
OPL_CNT_t
 * 
›lCou¡î
, 
°¨t
, 
num
 );

2720 
OPL_STATUS
 
dÆCou¡îE«bÀ
(
moduÀBôm≠
);

2722 
OPL_STATUS
 
dÆCou¡îE«bÀGë
(*
moduÀBôm≠
);

2724 
OPL_STATUS
 
dÆCou¡îCÀ¨
(
moduÀBôm≠
);

2726 
OPL_STATUS
 
dÆAæDisˇrdMacAdd
(
UINT8
 *
macAddªss
);

2728 
OPL_STATUS
 
dÆAæDisˇrdMacDñ
(
UINT8
 *
macAddªss
);

2730 
OPL_STATUS
 
dÆA˛R°pAdd
(
UINT8
 
Êg
);

2732 
OPL_STATUS
 
dÆMu…iˇ°VœnCª©e
(
UINT16
 
vœnId
);

2734 
OPL_STATUS
 
dÆMu…iˇ°VœnDñëe
(
UINT16
 
vœnId
);

2736 
OPL_STATUS
 
dÆA˛ClsFödName
(
CLS_CONFIG_INFO_t
 *
°CœssCfg
,
UINT8
 * 
«me
);

2738 
OPL_STATUS
 
dÆAæFlushAŒByP‹t
(
UINT8
 
p‹tId
);

2740 
OPL_STATUS
 
dÆP‹tLó∫E«bÀSë
(
UINT8
 
p‹tId
,
UINT32
 
íabÀ
);

2742 
OPL_STATUS
 
dÆAæMacMove
(
UINT32
 
p‹t
, UINT32 
toP‹t
);

2744 
OPL_STATUS
 
dÆAæMacFûãrAdd
(
UINT8
 
p‹tId
, 
UINT16
 
vœnId
, UINT8 *
macAddªss
);

2746 
OPL_STATUS
 
dÆAæMacFûãrDñ
(
UINT8
 
p‹tId
, 
UINT16
 
vœnId
, UINT8 *
macAddªss
);

2748 
OPL_STATUS
 
dÆAæMacDlfFûãrEn
(
UINT8
 
p‹tId
, UINT8 
íabÀ
);

2750 
OPL_STATUS
 
dÆAæMacP‹tLockDr›En
(
UINT8
 
p‹tId
, UINT8 
íabÀ
);

2752 
OPL_STATUS
 
dÆMúP‹tSë
(
UINT8
 
p‹tId
);

2754 
OPL_STATUS
 
dÆMúP‹tGë
(
UINT8
 * 
p‹tId
);

2756 
OPL_STATUS
 
dÆMúIngP‹tSë
(
UINT8
 
p‹tId
, 
UINT32
 
íabÀ
);

2758 
OPL_STATUS
 
dÆMúIngP‹tGë
(
UINT8
 
p‹tId
, 
UINT32
 * 
íabÀ
);

2760 
OPL_STATUS
 
dÆMúEgP‹tSë
(
UINT8
 
p‹tId
, 
UINT32
 
íabÀ
);

2762 
OPL_STATUS
 
dÆMúEgP‹tGë
(
UINT8
 
p‹tId
, 
UINT32
 * 
íabÀ
);

2764 
OPL_STATUS
 
dÆDñëeVœnID
(
UINT16
 
vid
);

2766 
OPL_STATUS
 
dÆAddVœnP‹t
(
UINT8
 
p‹tId
, 
UINT16
 
vid
, 
VLAN_EGRESS_TYPE_E
 
ty≥
);

2768 
OPL_STATUS
 
dÆMoveVœnP‹t
(
UINT8
 
p‹tId
, 
UINT16
 
vid
);

2770 
OPL_STATUS
 
dÆMibGë
(
UINT8
 
p‹tId
, * 
mib
);

2772 
OPL_STATUS
 
isis_phy_gë
(
UINT32
 
dev_id
, UINT32 
phy_addr
,UINT32 
ªg
, 
UINT16
 *
vÆue
);

2774 
OPL_STATUS
 
isis_phy_£t
(
UINT32
 
dev_id
, UINT32 
phy_addr
,UINT32 
ªg
, 
UINT16
 
vÆue
);

2776 
OPL_STATUS
 
isis_ªg_gë
(
UINT32
 
dev_id
, UINT32 
ªg_addr
, 
UINT8
 *
vÆue
,UINT32 
vÆue_Àn
);

2778 
OPL_STATUS
 
isis_ªg_£t
(
UINT32
 
dev_id
, UINT32 
ªg_addr
, 
UINT8
 *
vÆue
,UINT32 
vÆue_Àn
);

2780 
OPL_STATUS
 
isis_ªg_fõld_gë
(
UINT32
 
dev_id
, UINT32 
ªg_addr
,UINT32 
bô_off£t
, UINT32 
fõld_Àn
,
UINT8
 *
vÆue
, UINT32 
vÆue_Àn
);

2782 
OPL_STATUS
 
isis_ªg_fõld_£t
(
UINT32
 
dev_id
, UINT32 
ªg_addr
,UINT32 
bô_off£t
, UINT32 
fõld_Àn
,c⁄° 
UINT8
 *
vÆue
, UINT32 
vÆue_Àn
);

2784 
OPL_STATUS
 
isis_a˛_ruÀ_dump
(
UINT32
 
dev_id
);

2786 
OPL_STATUS
 
isis_a˛_li°_dump
(
UINT32
 
dev_id
);

2788 
OPL_STATUS
 
©hîos_show_˙t
(
UINT32
 
p‹t_id
);

2790 
OPL_STATUS
 
dÆArVâShow
(
UINT32
 
p‹tId
);

2792 
OPL_STATUS
 
dÆVœnShow
(
UINT32
 
vid
);

2794 
OPL_STATUS
 
dÆQöqPvidSë
(
UINT32
 
uiPvid
, UINT32 
uiPri‹ôy
);

2796 
OPL_STATUS
 
dÆQöqPvidReSë
(
UINT32
 
uiPvid
, UINT32 
uiPri‹ôy
);

2798 
OPL_STATUS
 
dÆ25L90ImodSë
(
UINT32
 
uiModVÆ
);

2800 
OPL_STATUS
 
dÆ25L90ApcSë
(
UINT32
 
uiApcVÆ
);

2802 
OPL_STATUS
 
dÆ25L90FTOvîSë
(
UINT32
 
FTOvîFLAG
);

	@inc/user/raisecom.h

1 #i‚de‡
__RAISECOM_H__


2 
	#__RAISECOM_H__


	)

3 
	~"ﬂm.h
"

5 
	#MAC_TYPE_STATIC
 0X0002

	)

6 
	#MAC_TYPE_DYNAMIC
 0X0001

	)

7 
	#MAC_TYPE_ALL
 0X0000

	)

9 
	#MAC_TYPE_PORT_UNI_1
 0X01

	)

10 
	#MAC_TYPE_PORT_UNI_2
 0X02

	)

11 
	#MAC_TYPE_PORT_UNI_3
 0X03

	)

12 
	#MAC_TYPE_PORT_UNI_4
 0X04

	)

13 
	#MAC_TYPE_PORT_UPLINK
 0XFE

	)

14 
	#MAC_TYPE_PORT_ALL
 0X00

	)

16 
	#GET_UPTIME_ERROR
 -1

	)

17 
	#GET_UPTIME_SUCCESS
 0

	)

18 
	#FILE_UPTIME
 "/¥oc/u±ime"

	)

21 
	#RAISECOM_SET
 0X01

	)

22 
	#RAISECOM_NO
 0X00

	)

24 
	#RAISECOM_ENABLE
 0X01

	)

25 
	#RAISECOM_DISABLE
 0X02

	)

26 
	#MAC_BIND_SET
 0X81

	)

27 
	#MAC_BIND_SET_UNDO
 0X82

	)

28 
	#MAC_STATIC_DISP
 0X83

	)

30 
	#RAISECOM_LEAF_RATE_LIMIT_UPLINK
 0x0000107c

	)

31 
	#RAISECOM_LEAF_FLOW_CONTROL_UPLINK
 0x0000107e

	)

32 
	#RAISECOM_LEAF_GET_TEMPARATURE
 0x0000106a

	)

33 
	#RAISECOM_LEAF_GET_CURRENT
 0x00001069

	)

34 
	#RAISECOM_LEAF_SET_HOSTNAME
 0x00001001

	)

35 
	#RAISECOM_LEAF_GET_SHAPPING
 0x000010c9

	)

36 
	#RAISECOM_LEAF_GET_HOSTNAME
 0x00001001

	)

37 
	#RAISECOM_LEAF_SET_FILTER_BY_VLAN
 0x00001019

	)

38 
	#RAISECOM_LEAF_GET_L2ADDRESS
 0x0000101f

	)

39 
	#RAISECOM_LEAF_GET_STATISTICS
 0x00001026

	)

40 
	#RAISECOM_LEAF_SET_MNG_VLAN
 0x000073e9

	)

41 
	#RAISECOM_LEAF_SET_STATIC_MAC
 0x000073eb

	)

42 
	#RAISECOM_LEAF_GET_MULTICAST_MAC
 0x000073f2

	)

43 
	#RAISECOM_LEAF_SET_LOOKBACK
 0x00001023

	)

44 
	#RAISECOM_LEAF_SET_PORT_MODE
 0x00001012

	)

45 
	#RAISECOM_LEAF_SET_MAC_AGING
 0x00001008

	)

46 
	#RAISECOM_LEAF_GET_PORT_MODE
 0x00001011

	)

47 
	#RAISECOM_LEAF_SET_PORT_ISOLATION
 0x0000100f

	)

48 
	#RAISECOM_LEAF_SET_STATISTICS_CLEAR
 0x00001027

	)

49 
	#RAISECOM_LEAF_GET_MCAST_MAC
 0x00001017

	)

50 
	#RAISECOM_LEAF_SET_TELNET
 0x0000102d

	)

51 
	#RAISECOM_LEAF_SET_MAC_CLEAR
 0x00001021

	)

52 
	#RAISECOM_LEAF_SET_DLF
 0x00001079

	)

53 
	#RAISECOM_LEAF_SET_UPLINK_FLOW
 0x00001077

	)

54 
	#RAISECOM_LEAF_GET_UPTIME
 0x00001040

	)

55 
	#RAISECOM_LEAF_GET_DEVICE_INFO
 0x00001006

	)

56 
	#RAISECOM_LEAF_SET_FASTLEAVE
 0x00001016

	)

57 
	#RAISECOM_LEAF_SET_IGMP_QUERYCOUNT
 0x0000101e

	)

58 
	#RAISECOM_LEAF_SET_IGMP_INTERVEL
 0x0000101e

	)

59 
	#RAISECOM_LEAF_SET_MAC_LIMIT
 0x00001013

	)

62 
	#RC_CONFIG_FLOW_CONTROL_MASK
 (1<<14)

	)

63 
	#RC_CONFIG_PHY_STATE_MASK
 (1<<10)

	)

64 
	#RC_CONFIG_POLICING_INGRESS_MASK
 (1<<12)

	)

65 
	#RC_CONFIG_POLICING_EGRESS_MASK
 (1<<8)

	)

67 
	#RC_CONFIG_VLAN_MODE_MASK
 (3<<4)

	)

68 
	#RC_CONFIG_ISOLATION_MASK
 (1<<2)

	)

69 
	#RC_CONFIG_MVLAN_STRIP_MASK
 (1<<5)

	)

70 
	#RC_CONFIG_MVLAN_FASTLEAVE_MASK
 (1<<6)

	)

74 
	mRC_PORT_AUTO
 = 1,

75 
	mRC_PORT_10HALF
,

76 
	mRC_PORT_10FULL
,

77 
	mRC_PORT_100HALF
,

78 
	mRC_PORT_100FULL
,

79 
	mRC_PORT_1000HALF
,

80 
	mRC_PORT_1000FULL


82 
	trc_p‹t_mode_t
;

84 
	søi£com_hdr
 {

85 
u8_t
 
	mde°
[6];

86 
u8_t
 
	m§c
[6];

87 
u32_t
 
	mdŸvid
;

88 
u8_t
 
	mÀngth
[2];

89 
u32_t
 
	mp_code
;

90 
u8_t
 
	mª£rved
[12];

91 
u32_t
 
	mÀaf
;

92 
u32_t
 
	m£quí˚_l
;

93 
u16_t
 
	m£quí˚_s
;

94 }
__©åibuã__
((
∑cked
));

95 
øi£com_hdr
 
	tøi£com_hdr_t
;

97 
	søi£com_hódî_out
 {

98 
u8_t
 
	mde°
[6];

99 
u8_t
 
	m§c
[6];

100 
u16_t
 
	mty≥
;

101 }
__©åibuã__
((
∑cked
));

102 
øi£com_hódî_out
 
	tøi£com_hódî_out_t
;

105 
	søi£com_out
 {

106 
u32_t
 
	mp_code
;

107 
u32_t
 
	mª£rved1
;

108 
u32_t
 
	mª£rved2
;

109 
u32_t
 
	mª£rved3
;

110 
u32_t
 
	mÀaf
;

111 
u32_t
 
	m£quí˚_l
;

112 
u16_t
 
	m£quí˚_s
;

113 }
__©åibuã__
((
∑cked
));

114 
øi£com_out
 
	tøi£com_out_t
;

116 
	~<sys/sockë.h
>

117 
	~<√töë/ö.h
>

118 
	~<√t/if.h
>

120 
	src_mng_ù
 {

121 
u16_t
 
	mbønch
;

122 
u8_t
 
	mª£rved
[10];

123 
u32_t
 
	mÀaf
;

124 
ö_addr
 
	mùaddr
;

125 
ö_addr
 
	mmask
;

126 
ö_addr
 
	mg©eway
;

127 }
__©åibuã__
((
∑cked
));

128 
rc_mng_ù
 
	trc_mng_ù_t
;

131 
	src_mng_ù_out
 {

132 
u32_t
 
	mª£rved
;

133 
u32_t
 
	mª£rved2
;

134 
ö_addr
 
	mùaddr
;

135 
ö_addr
 
	mmask
;

136 
ö_addr
 
	mg©eway
;

137 
u16_t
 
	mvœn
;

138 
u32_t
 
	mª£rved3
;

139 }
__©åibuã__
((
∑cked
));

140 
rc_mng_ù_out
 
	trc_mng_ù_out_t
;

143 
	src_fûãr_∑π1
 {

144 
u8_t
 
	ma˘i⁄
;

145 
u8_t
 
	mª£rved
;

146 
u8_t
 
	mù_¥Ÿﬁ
;

147 
u16_t
 
	mª£rved2
;

148 
u8_t
 
	mp‹t
;

149 
u16_t
 
	m•‹t
;

150 
u16_t
 
	mdp‹t
;

151 
u16_t
 
	mª£rved3
;

152 
u32_t
 
	msù
;

153 
u32_t
 
	msù_mask
;

154 
u32_t
 
	mdù
;

155 
u32_t
 
	mdù_mask
;

156 }
__©åibuã__
((
∑cked
));

157 
rc_fûãr_∑π1
 
	trc_fûãr_∑π1_t
;

160 
	src_fûãr_∑π2
 {

161 
u8_t
 
	ma˘i⁄
;

162 
u8_t
 
	mª£rved
;

163 
u32_t
 
	mp‹t
;

164 
u16_t
 
	mëh_ty≥
;

165 
u8_t
 
	msmac
[6];

166 
u8_t
 
	mdmac
[6];

167 }
__©åibuã__
((
∑cked
));

168 
rc_fûãr_∑π2
 
	trc_fûãr_∑π2_t
;

171 
	src_fûãr_∑π3
 {

172 
u8_t
 
	ma˘i⁄
;

173 
u8_t
 
	mª£rved
;

174 
u32_t
 
	mp‹t
;

175 
u16_t
 
	mvœn
;

176 }
__©åibuã__
((
∑cked
));

177 
rc_fûãr_∑π3
 
	trc_fûãr_∑π3_t
;

180 
	src_mng_vœn
 {

181 
u16_t
 
	mª£rved
;

182 
u32_t
 
	mª£rved2
;

183 
u32_t
 
	mª£rved3
;

184 
u32_t
 
	mª£rved4
;

185 
u16_t
 
	mª£rved5
;

186 
u16_t
 
	mvœn
;

187 }
__©åibuã__
((
∑cked
));

188 
rc_mng_vœn
 
	trc_mng_vœn_t
;

190 
	src_p‹t_•ìd_du∂ex
 {

191 
u16_t
 
	mp‹t
;

192 
u8_t
 
	mmode
;

193 }
__©åibuã__
((
∑cked
));

194 
rc_p‹t_•ìd_du∂ex
 
	trc_p‹t_•ìd_du∂ex_t
;

196 
	src_Á°_Àave
{

197 
u16_t
 
	mp‹t
;

198 
u8_t
 
	mmode
;

199 }
__©åibuã__
((
∑cked
));

200 
rc_Á°_Àave
 
	trc_Á°_Àave_t
;

203 
	src_p‹t_múr‹
 {

204 
u32_t
 
	mmode
;

205 
u32_t
 
	mª£rved
;

206 
u8_t
 
	mögªss_mask
;

207 
u8_t
 
	mª£rved2
[30];

208 
u8_t
 
	mögªss_mask_u∂ök
;

209 
u8_t
 
	megªss_mask
;

210 
u8_t
 
	mª£rved3
[30];

211 
u8_t
 
	megªss_mask_u∂ök
;

212 }
__©åibuã__
((
∑cked
));

213 
rc_p‹t_múr‹
 
	trc_p‹t_múr‹_t
;

215 
	src_p‹t_m⁄ô‹
 {

216 
u32_t
 
	mmode
;

217 
u16_t
 
	mp‹t
;

218 }
__©åibuã__
((
∑cked
));

219 
rc_p‹t_m⁄ô‹
 
	trc_p‹t_m⁄ô‹_t
;

221 
	src_múr‹_a˘
 {

222 
u32_t
 
	mmode
;

223 
u8_t
 
	ma˘
;

224 }
__©åibuã__
((
∑cked
));

225 
rc_múr‹_a˘
 
	trc_múr‹_a˘_t
;

228 
	src_p‹t_isﬁ©e
 {

229 
u16_t
 
	mp‹t
;

230 
u8_t
 
	ma˘
;

231 }
__©åibuã__
((
∑cked
));

232 
rc_p‹t_isﬁ©e
 
	trc_p‹t_isﬁ©e_t
;

234 
	src_uni_˛ór
 {

235 
u8_t
 
	ma˘
;

236 
u8_t
 
	mp‹t
;

237 }
__©åibuã__
((
∑cked
));

238 
rc_uni_˛ór
 
	trc_uni_˛ór_t
;

241 
	src_uni_mac_limô
 {

242 
u16_t
 
	mp‹t
;

243 
u16_t
 
	mª£rved
;

244 
u32_t
 
	mmac_limô
;

245 }
__©åibuã__
((
∑cked
));

246 
rc_uni_mac_limô
 
	trc_uni_mac_limô_t
;

249 
	src_°©ic_mac
 {

250 
u16_t
 
	ma˘
;

251 
u32_t
 
	mª£rved2
;

252 
u32_t
 
	mª£rved3
;

253 
u8_t
 
	mmac
[6];

254 
u16_t
 
	mp‹t
;

255 }
__©åibuã__
((
∑cked
));

256 
rc_°©ic_mac
 
	trc_°©ic_mac_t
;

258 
	src_mac_böd
 {

259 
u16_t
 
	mvœn
;

260 
u16_t
 
	mp‹t
;

261 
u8_t
 
	mmac
[6];

263 
rc_mac_böd
 
	trc_mac_böd_t
;

266 
	src_devi˚
 {

267 
u8_t
 
	mª£rved
[12];

268 
u8_t
 
	m⁄u_mac
[6];

269 
u8_t
 
	mhw_vîsi⁄
[8];

270 
u8_t
 
	msw_vîsi⁄
[16];

271 
u8_t
 
	mfw_vîsi⁄
[16];

272 
u8_t
 
	mho°«me
[32];

273 
u8_t
 
	mª£rved2
[50];

274 
u32_t
 
	mÊash_size
;

275 
u32_t
 
	msdøm
;

276 
u8_t
 
	mª£rved3
[6];

277 
u16_t
 
	mswôch_modﬁe
;

278 
u8_t
 
	mpf_vîsi⁄
[100];

279 }
__©åibuã__
((
∑cked
));

280 
rc_devi˚
 
	trc_devi˚_t
;

283 
	src_mac_°©ic_mul
 {

284 
u16_t
 
	ma˘
;

285 
u32_t
 
	mª£rved
;

286 
u16_t
 
	mª£rved2
;

287 
u16_t
 
	mvœn
;

288 
u8_t
 
	mmac
[6];

289 
u8_t
 
	mp‹t_mask
;

290 }
__©åibuã__
((
∑cked
));

291 
rc_mac_°©ic_mul
 
	trc_mac_°©ic_mul_t
;

293 
	src_uni_°©i°ic
 {

294 
u16_t
 
	mª£rved
;

295 
u32_t
 
	mp‹t
;

296 
u8_t
 
	mª£rved2
;

297 
u16_t
 
	mª£rved3
;

298 
u8_t
 
	mª£rved4
[0x1b];

299 
u8_t
 
	m⁄es
[27];

300 
u8_t
 
	mzîos
;

302 
u64_t
 
	mifInUˇ°Pkts
;

303 
u64_t
 
	mifInMˇ°Pkts
;

304 
u64_t
 
	mifInBˇ°Pkts
;

305 
u64_t
 
	mifInPau£Pkts
;

306 
u64_t
 
	mifInGoodO˘ës
;

307 
u64_t
 
	mifInBadO˘ës
;

308 
u64_t
 
	mifInUndîsizePkts
;

310 
u64_t
 
	mifInFøgmítsPkts
;

311 
u64_t
 
	mifInOvîsizePkts
;

312 
u64_t
 
	mifInJabbîsPkts
;

313 
u64_t
 
	mifInFCSEº‹s
;

316 
u64_t
 
	mifIn_64_O˘ës
;

317 
u64_t
 
	mifIn_65_127_O˘ës
;

318 
u64_t
 
	mifIn_128_255_O˘ës
;

319 
u64_t
 
	mifIn_256_511_O˘ës
;

320 
u64_t
 
	mifIn_512_1023_O˘ës
;

321 
u64_t
 
	mifIn_1024_1518_O˘ës
;

323 
u64_t
 
	mifOutUˇ°Pkts
;

324 
u64_t
 
	mifOutMˇ°Pkts
;

325 
u64_t
 
	mifOutBˇ°Pkts
;

326 
u64_t
 
	mifOutPau£Pkts
;

327 
u64_t
 
	mifOutGoodO˘ës
;

329 
u64_t
 
	mifInEº‹Pkts
;

330 
u64_t
 
	mifInDisˇrdPkts
;

331 
u64_t
 
	mifInUnkownPrŸos
;

332 
u64_t
 
	mifOutEº‹Pkts
;

333 
u64_t
 
	mifOutDisˇrdPkts
;

335 }
__©åibuã__
((
∑cked
));

336 
rc_uni_°©i°ic
 
	trc_uni_°©i°ic_t
;

338 
	src_mac_out_°©ic
{

339 
u16_t
 
	mª£rved
;

340 
u32_t
 
	mª£rved2
;

341 
u8_t
 
	mmac
[6];

342 
u16_t
 
	mp‹t
;

343 }
__©åibuã__
((
∑cked
));

344 
rc_mac_out_°©ic
 
	trc_mac_out_°©ic_t
;

347 
	src_mac_°©ic
 {

348 
u8_t
 
	mmac
[6];

349 
u16_t
 
	mp‹t
;

350 }
__©åibuã__
((
∑cked
));

351 
rc_mac_°©ic
 
	trc_mac_°©ic_t
;

353 
	src_lookback
 {

354 
u16_t
 
	mhñlo_time
;

355 
u16_t
 
	mvœn
;

356 }
__©åibuã__
((
∑cked
));

357 
rc_lookback
 
	trc_lookback_t
;

359 
	src_igmp
{

360 
u16_t
 
	mª£rved
;

361 
u8_t
 
	mquîyCou¡
;

362 
u8_t
 
	mquîyI¡îvÆ
;

363 
u16_t
 
	magögTime
;

364 }
__©åibuã__
((
∑cked
));

365 
rc_igmp
 
	trc_igmp_t
;

368 
	src_dh˝
{

369 
u32_t
 
	mbønch
;

370 
u8_t
 
	ma˘
;

371 }
__©åibuã__
((
∑cked
));

372 
rc_dh˝
 
	trc_dh˝_t
;

374 
	src_dh˝_a˘
{

375 
u32_t
 
	mbønch
;

376 
u8_t
 
	ma˘
;

377 }
__©åibuã__
((
∑cked
));

378 
rc_dh˝_a˘
 
	trc_dh˝_a˘_t
;

380 
	src_dh˝_¢o›ög
{

381 
u32_t
 
	mbønch
;

382 
u8_t
 
	ma˘
;

383 }
__©åibuã__
((
∑cked
));

384 
rc_dh˝_¢o›ög
 
	trc_dh˝_¢o›ög_t
;

386 
	src_dh˝_›ti⁄82_fõld
{

387 
u32_t
 
	mbønch
;

388 
u32_t
 
	mª£rved
;

389 
u8_t
 
	md©aFõld
[10];

390 }
__©åibuã__
((
∑cked
));

391 
rc_dh˝_›ti⁄82_fõld
 
	trc_dh˝_›ti⁄82_fõld_t
;

394 
	src_dh˝_›ti⁄82_mode
{

395 
u32_t
 
	mbønch
;

396 
u16_t
 
	mmode
;

397 }
__©åibuã__
((
∑cked
));

398 
rc_dh˝_›ti⁄82_mode
 
	trc_dh˝_›ti⁄82_mode_t
;

400 
	src_l2mac_fõÀd
{

401 
u8_t
 
	mmac
[6];

402 
u16_t
 
	mª£rved
;

403 
u32_t
 
	mp‹t
;

404 
u8_t
 
	mª£rved2
;

405 
u8_t
 
	mty≥
;

406 
u16_t
 
	magögLe·
;

407 }
__©åibuã__
((
∑cked
));

408 
rc_l2mac_fõÀd
 
	trc_l2mac_fõÀd_t
;

410 
	src_l2mac
{

411 
u16_t
 
	mmacMax
;

412 
u16_t
 
	mmacNum
;

413 }
__©åibuã__
((
∑cked
));

414 
rc_l2mac
 
	trc_l2mac_t
;

416 
	src_l2mac_ö
{

417 
u32_t
 
	mmacTy≥
;

418 
u16_t
 
	m£ndMac
;

419 
u16_t
 
	mmaxMac
;

420 }
__©åibuã__
((
∑cked
));

421 
rc_l2mac_ö
 
	trc_l2mac_ö_t
;

423 
	src_p‹t_mac
{

424 
u8_t
 
	mmac
[6];

425 
u32_t
 
	mp‹t
;

426 
u8_t
 
	mty≥
;

427 
u16_t
 
	magögLe·
;

429 
rc_p‹t_mac
 
	trc_p‹t_mac_t
;

432 
	src_fûãr_a˛
 {

433 
u8_t
 
	mty≥
;

434 
u8_t
 
	mvÆue
[6];

435 
u8_t
 
	ma˛ruÀID
;

437 
rc_fûãr_a˛
 
	trc_fûãr_a˛_t
;

440 
	src_c⁄fig_down_⁄u


442 
u8_t
 
	mª£rved
[42];

443 
u8_t
 
	mmvœn_mode
;

444 
u8_t
 
	mª£rved1
[16];

445 
u8_t
 
	migmp_öãrvÆ
;

446 
u16_t
 
	migmp_agögTime
;

447 
u8_t
 
	mª£rved2
;

448 
u8_t
 
	migmp_quîy_cou¡
;

449 
u8_t
 
	mª£rved3
[8];

450 }
__©åibuã__
((
∑cked
));

451 
rc_c⁄fig_down_⁄u
 
	trc_c⁄fig_down_⁄u_t
;

453 
	src_c⁄fig_down_p‹t


455 
u8_t
 
	mª£rved0
[4];

456 
u16_t
 
	mphy_admö_˘æ
;

457 
u16_t
 
	m«tiveVœn
;

458 
u16_t
 
	mª£rved1
;

459 
u16_t
 
	mvœn_å™¶©e_ödex
[16];

460 
u16_t
 
	mpﬁicög_ö_cú
;

461 
u16_t
 
	mpﬁicög_ö_cbs
;

462 
u16_t
 
	mpﬁicög_ö_ebs
;

463 
u32_t
 
	mpﬁicög_ex_cú
;

464 
u32_t
 
	mpﬁicög_ex_pú
;

465 
u8_t
 
	mª£rved2
[4];

466 
u16_t
 
	mmvœn
;

467 
u8_t
 
	mª£rved3
[14];

468 
u8_t
 
	mmvœn_ch™√l
;

469 
u8_t
 
	mmvœn_èg_°rù
;

470 
u8_t
 
	mmode
;

471 
u8_t
 
	mª£rved4
[5];

472 
u8_t
 
	m˛ass_m¨k
;

473 
u8_t
 
	mª£rved5
[11];

474 }
__©åibuã__
((
∑cked
));

475 
rc_c⁄fig_down_p‹t
 
	trc_c⁄fig_down_p‹t_t
;

477 
	src_å™¶©i⁄_∑ú


479 
u16_t
 
	mödex
;

480 
u32_t
 
	mﬁdTag
;

481 
u32_t
 
	m√wTag
;

482 
u8_t
 
	mzîos
[6];

483 }
__©åibuã__
((
∑cked
));

484 
rc_å™¶©i⁄_∑ú
 
	trc_å™¶©i⁄_∑ú_t
;

487 
	src_˛ass_m¨k


489 
u32_t
 
	mp‹t_ödex
;

490 
u8_t
 
	m˛ass_ödex
;

491 
u8_t
 
	m¥i
;

492 
u16_t
 
	mvÆue_ödex
;

493 
u8_t
 
	mqueue_m≠
;

494 
u8_t
 
	mª£rved
[15];

495 }
__©åibuã__
((
∑cked
));

496 
rc_˛ass_m¨k
 
	trc_˛ass_m¨k_t
;

497 
	src_˛ass_ödex


499 
u16_t
 
	muiIndex
;

500 
u8_t
 
	m˛ass_ty≥
;

502 
rc_˛ass_ödex
 
	trc_˛ass_ödex_t
;

504 
	src_˛ass_m¨k_l2


506 
u16_t
 
	mvÆue_ödex
;

507 
u16_t
 
	mª£rved
;

508 
u16_t
 
	mëh_ty≥
;

509 
u8_t
 
	msmac
[6];

510 
u8_t
 
	mdmac
[6];

511 
u8_t
 
	mª£rved2
[6];

512 }
__©åibuã__
((
∑cked
));

513 
rc_˛ass_m¨k_l2
 
	trc_˛ass_m¨k_l2_t
;

515 
	src_˛ass_m¨k_l3


517 
u16_t
 
	mvÆue_ödex
;

518 
u8_t
 
	mª£rved
;

519 
u8_t
 
	mù_ty≥
;

520 
u32_t
 
	msù
;

521 
u32_t
 
	msù_mask
;

522 
u16_t
 
	ml4_•‹t
;

523 
u16_t
 
	mª£rved2
;

524 
u32_t
 
	mdù
;

525 
u32_t
 
	mdù_mask
;

526 
u16_t
 
	ml4_dp‹t
;

527 
u16_t
 
	mª£rved3
;

528 }
__©åibuã__
((
∑cked
));

529 
rc_˛ass_m¨k_l3
 
	trc_˛ass_m¨k_l3_t
;

532 
e›l_rc_pdu_ª˚ive
(
u8_t
 *
p_ö
, 
u16_t
 
Àngth
);

	@inc/user/stats.h

25 #i‚de‡
__STATS_H__


26 
	#__STATS_H__


	)

28 
	~"›c⁄n_u§_io˘æ.h
"

31 
	#CNT_SWH_PORT_NUM
 30

	)

33 
	#SWITCH_PORT_NUM
 4

	)

35 
	#DECIMAL_STR_LEN
 21

	)

36 
	#LONG_HEX_NUM
 8

	)

39 
	#STAT_PON_RCV_BITS_ERR
 0

	)

40 
	#STAT_PON_RCV_BITS_OK
 1

	)

41 
	#STAT_PON_TRX_PKT_OK
 2

	)

42 
	#STAT_PON_TRX_BROD_PKT
 3

	)

43 
	#STAT_PON_TRX_PAUSE
 5

	)

44 
	#STAT_PON_RCV_PKT_OK
 16

	)

45 
	#STAT_PON_RCV_FRM_DROP
 17

	)

46 
	#STAT_PON_RCV_FRM_CRC
 18

	)

47 
	#STAT_PON_RCV_BROD_PKT
 23

	)

48 
	#STAT_PON_RCV_PAUSE
 25

	)

49 
	#STAT_PON_RCV_OVERSIZE
 29

	)

51 
	#STAT_GE_TX_TOTAL_PKT
 0

	)

52 
	#STAT_GE_TX_PAUSE
 3

	)

53 
	#STAT_GE_TX_BYTE
 11

	)

54 
	#STAT_GE_RX_PKT_OK
 13

	)

55 
	#STAT_GE_RX_FRM_DROP
 14

	)

56 
	#STAT_GE_RX_PAUSE
 22

	)

57 
	#STAT_GE_RX_BYTE
 34

	)

60 
	sp⁄_°©i°ic_s
{

61 
UINT64
 
	mO˘ësTx
;

62 
UINT64
 
	mO˘ësTxR©e
;

63 
UINT64
 
	mO˘ësTxT›R©e
;

64 
UINT64
 
	mFømeTx
;

65 
UINT64
 
	mFømeTxR©e
;

66 
UINT64
 
	mTxPackësEº‹
;

67 
UINT64
 
	mO˘ësRx
;

68 
UINT64
 
	mO˘ësRxR©e
;

69 
UINT64
 
	mO˘ësRxT›R©e
;

70 
UINT64
 
	mFømeRx
;

71 
UINT64
 
	mFømeRxR©e
;

72 
UINT64
 
	mRxLo£Packës
;

73 
UINT64
 
	mRxLo£PackësR©e
;

74 }
	tp⁄_°©i°ics_t
;

75 #i‚de‡
__OPCONN_PORT_STAT__


76 
	#__OPCONN_PORT_STAT__


	)

77 
	sp‹t_°©i°ic_s
{

78 
UINT64
 
	mO˘ësTx
;

79 
UINT64
 
	mO˘ësTxR©e
;

80 
UINT64
 
	mO˘ësTxT›R©e
;

81 
UINT64
 
	mUniˇ°FømesTx
;

82 
UINT64
 
	mN⁄Uniˇ°FømesTx
;

83 
UINT64
 
	mFømeTxR©e
;

84 
UINT64
 
	mTxPackësEº‹
;

85 
UINT64
 
	mO˘ësRx
;

86 
UINT64
 
	mO˘ësRxR©e
;

87 
UINT64
 
	mO˘ësRxT›R©e
;

88 
UINT64
 
	mUniˇ°FømesRx
;

89 
UINT64
 
	mN⁄Uniˇ°FømesRx
;

90 
UINT64
 
	mFømeRxR©e
;

91 
UINT64
 
	mRxPackësEº‹
;

92 }
	tp‹t_°©i°ics_t
;

96 
OPL_STATUS
 
odmP⁄SögÀP‹tSètsGë
(
UINT8
 
p‹t_id
, 
p‹t_°©i°ics_t
 *
p‹tSèts
);

97 
OPL_STATUS
 
odmP⁄SètsGë
(
p⁄_°©i°ics_t
 * 
p⁄Sèts
);

99 
OPL_STATUS
 
ShowC¡Ge
(
iWrFd
, 
uiMode
);

100 
OPL_STATUS
 
ShowC¡P⁄
(
iWrFd
, 
uiMode
);

101 
OPL_STATUS
 
ShowC¡Fe
(
iWrFd
, 
uiMode
);

102 
OPL_STATUS
 
ShowC¡Tm
(
iWrFd
, 
uiMode
);

103 
OPL_STATUS
 
ShowC¡CÀ
(
iWrFd
, 
uiMode
);

104 
OPL_STATUS
 
ShowC¡Brg
(
iWrFd
, 
uiMode
);

105 
OPL_STATUS
 
ShowC¡Mp˝
(
iWrFd
, 
uiMode
);

106 
OPL_STATUS
 
ShowC¡M¨b
(
iWrFd
, 
uiMode
);

107 
OPL_STATUS
 
ShowC¡Cpdma
(
iWrFd
, 
uiMode
);

108 
OPL_STATUS
 
ShowC¡Fedma
(
iWrFd
, 
uiMode
);

109 
OPL_STATUS
 
ShowC¡GeP¨£r
(
iWrFd
, 
uiMode
);

110 
OPL_STATUS
 
ShowC¡CÀHô
(
iWrFd
, 
UINT8
 
ucSèπ
, UINT8 
ucNum
);

	@inc/user/system.h

29 #i‚de‡
__SYSTEM_H_


30 
	#__SYSTEM_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~"defs.h
"

37 
	~<sys/time.h
>

38 
	~<time.h
>

40 #¥agm®
∑ck
(1)

42 
	sODM_SYS_IF_CONFIG_s


44 
UINT8
 
ucIf
;

45 
UINT8
 
ucIfMode
;

46 
UINT8
 
ucIfSh¨eMode
;

47 
UINT8
 
ucIpMode
;

48 
UINT32
 
ulIpAddr
;

49 
UINT32
 
ulIpMask
;

50 
UINT32
 
ulGwAddr
;

51 
UINT32
 
ulDnsAddr
;

52 
UINT8
 
ucPPPoEAuthTy≥
;

53 
acPPPoEU£r
[32];

54 
acPPPoEPass
[32];

55 
UINT8
 
ucQoSMode
;

56 
UINT8
 
ucQoSVÆ
;

57 
UINT8
 
ucTagged
;

58 
UINT16
 
usCVœn
;

59 
UINT8
 
ucPri‹ôy
;

60 
UINT16
 
usSVLAN
;

61 }
	tODM_SYS_IF_CONFIG_t
;

63 
	e√t_°©e


65 
NET_DOWN
 = 0,

66 
NET_UP
 = 1

71 
UINT32
 
ﬁdIp
;

72 
UINT8
 
modeCh™geTy≥
;

73 
UINT8
 
ucIf
;

74 
UINT8
 
ucMode
;

75 
UINT8
 
ödex
;

77 
UINT8
 
sh¨eModeCh™ged
;

78 
UINT8
 
ﬁdSh¨eMode
;

79 
UINT8
 
√wSh¨eMode
;

80 
UINT8
 
ﬁdTagMode
;

81 
UINT8
 
rsved
;

83 } 
	tIF_MODE_VOIP_PARA_S
;

85 #¥agm®
∑ck
()

87 
odmSysCfgInô
();

89 
UINT32
 
odmSysCfgSnSë
(c⁄° *
pcSîülNo
);

91 
UINT32
 
odmSysCfgNameSë
(c⁄° * 
pcName
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

92 
UINT32
 
odmSysCfgLoˇti⁄Së
(c⁄° *
pcLoˇti⁄
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

93 
UINT32
 
odmSysCfgNTPSîvi˚Së
(
UINT8
 
ucA˘i⁄
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

94 
UINT32
 
odmSysCfgNTPSîvîSë
(c⁄° *
pcAddr
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

95 
UINT32
 
odmSysCfgD©eSë
(*
pcD©e
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

96 
UINT32
 
odmSysCfgTimeSë
(*
pcTime
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

97 
UINT32
 
odmSysCfgTimeZ⁄eSë
(c⁄° *
pcTimeZ⁄e
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

98 
UINT32
 
odmSysCfgDayLightSavögSë
(
UINT8
 
ucA˘i⁄
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

100 
STATUS
 
odmSysPPPoESë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
IF_MODE_VOIP_PARA_S
 *
pIfModeVoùP¨a
);

101 
STATUS
 
odmSysDHCPSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
IF_MODE_VOIP_PARA_S
 *
pIfModeVoùP¨a
);

103 
UINT32
 
odmSysCfgIfSh¨eModeSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucIfSh¨eMode
);

104 
UINT32
 
odmSysCfgIfIpModeSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucIpMode
, 
IF_MODE_VOIP_PARA_S
 * 
pifModeP¨a
);

105 
UINT32
 
odmSysCfgIfIpAddrSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 
ulIpAddªss
);

106 
UINT32
 
odmSysCfgIfIpMaskSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 
ulIpMask
);

107 
UINT32
 
odmSysCfgIfIpG©ewaySë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 
ùAddªss
);

108 
UINT32
 
odmSysCfgIfIpDnsSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 
ùAddªss
);

109 
UINT32
 
odmSysCfgIfPPPoEModeSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucIfPPPoEMode
);

110 
UINT32
 
odmSysCfgIfPPPoEU£rSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcU£rName
);

111 
UINT32
 
odmSysCfgIfPPPoEPassSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcPassw‹d
);

112 
UINT32
 
odmSysCfgIfQoSModeSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucIfQoSMode
);

113 
UINT32
 
odmSysCfgIfQoSVÆSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucQoSVÆ
);

114 
UINT32
 
odmSysCfgIfTagModeSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucIfTagMode
);

115 
UINT32
 
odmSysCfgIfCVLANSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
UINT16
 
usCVLAN
);

116 
UINT32
 
odmSysCfgIfPriSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 
ucPri‹ôy
);

117 
UINT32
 
odmSysCfgIfSVLANSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
UINT16
 
usSVLAN
);

118 
UINT32
 
odmSysCÀ¨IpInfo
(
UINT8
 
ucIf
, UINT8 
ucIfMode
);

121 
UINT32
 
odmSysIfC⁄figSë
(
ODM_SYS_IF_CONFIG_t
 *
p°IpC⁄fig
);

122 
UINT32
 
odmSysIfMacAddrSë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucMac
);

124 
UINT32
 
odmSysCfgTñ√tSîvi˚Së
(
UINT8
 
ucA˘i⁄
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

125 
UINT32
 
odmSysCfgTñ√tP‹tSë
(
UINT16
 
usP‹t
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

126 
UINT32
 
odmSysCfgTñ√tSessi⁄NumSë
(
UINT16
 
usSessi⁄Num
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

127 
UINT32
 
odmSysCfgSessi⁄TimeoutSë
(UINT32 
ulTimeout
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

129 
UINT32
 
odmSysCfgWebSîvi˚Së
(
UINT8
 
ucA˘i⁄
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

130 
UINT32
 
odmSysCfgWebP‹tSë
(
UINT16
 
usP‹t
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

131 
UINT32
 
odmSysCfgWebSessi⁄NumSë
(
UINT16
 
usSessi⁄Num
, 
OnCh™gedCÆlBack
 
pCÆlBack
);

133 c⁄° * 
odmSysCfgNameGë
();

134 c⁄° * 
odmSysCfgLoˇti⁄Gë
();

135 
UINT8
 
odmSysCfgNTPSîvi˚Gë
();

136 c⁄° * 
odmSysCfgNTPSîvîGë
();

137 
UINT32
 
odmSysCfgD©eGë
(*
pcD©e
);

138 
UINT32
 
odmSysCfgTimeGë
(* 
pcTime
);

139 
time_t
 
odmSysCfgTimeGëT
—ime_à* 
pTime
);

141 
UINT32
 
odmSysCfgIfSh¨eModeGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucIfSh¨eMode
);

142 
UINT32
 
odmSysCfgIfIpModeGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucIfIpMode
);

143 
UINT32
 
odmSysCfgIfIpAddrGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 *
pulIpAddªss
);

144 
UINT32
 
odmSysCfgIfIpAddrGëS
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcIpAddr
);

145 
UINT32
 
odmSysCfgIfIpMaskGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 *
pulIpAddªss
);

146 
UINT32
 
odmSysCfgIfIpMaskGëS
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcIpMask
);

147 
UINT32
 
odmSysCfgIfIpG©ewayGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 *
pulIpAddªss
);

148 
UINT32
 
odmSysCfgIfIpG©ewayGëS
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcIpAddr
);

149 
UINT32
 
odmSysCfgIfIpDnsGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT32 *
pulIpAddªss
);

150 
UINT32
 
odmSysCfgIfIpDnsGëS
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcIpAddr
);

151 
UINT32
 
odmSysCfgIfPPPoEModeGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucPPPoEMode
);

152 
UINT32
 
odmSysCfgIfPPPoEU£rGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcU£rName
);

153 
UINT32
 
odmSysCfgIfPPPoEPassGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, *
pcPassw‹d
);

154 
UINT32
 
odmSysCfgIfQoSModeGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucQoSMode
);

155 
UINT32
 
odmSysCfgIfQoSVÆGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucQoSVÆ
);

156 
UINT32
 
odmSysCfgIfTagModeGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucTagMode
);

157 
UINT32
 
odmSysCfgIfCVLANGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
UINT16
 *
pusCVLAN
);

158 
UINT32
 
odmSysCfgIfPriGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucPri
);

159 
UINT32
 
odmSysCfgIfSVLANGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, 
UINT16
 *
pusSVLAN
);

162 
UINT32
 
odmSysIfC⁄figGë
(
ODM_SYS_IF_CONFIG_t
 *
p°IpC⁄fig
);

163 
UINT32
 
odmSysIfMacAddrGë
(
UINT8
 
ucIf
, UINT8 
ucIfMode
, UINT8 *
pucMac
);

165 c⁄° * 
odmSysCfgTimeZ⁄eGëS
();

166 
UINT8
 
odmSysCfgTimeZ⁄eGë
();

167 
UINT8
 
odmSysCfgDayLightSavögGë
();

169 
UINT8
 
odmSysCfgTñ√tSîvi˚Gë
();

170 
UINT16
 
odmSysCfgTñ√tP‹tGë
();

171 
UINT16
 
odmSysCfgTñ√tSessi⁄NumGë
();

172 
UINT32
 
odmSysCfgSessi⁄TimeoutGë
();

174 
UINT8
 
odmSysCfgWebSîvi˚Gë
();

175 
UINT16
 
odmSysCfgWebP‹tGë
();

176 
UINT16
 
odmSysCfgWebSessi⁄NumGë
();

178 
UINT32
 
odmSysInfoShow
(
ENV_t
 *
p°Env
);

179 
UINT32
 
odmSysCfgShow
(
ENV_t
 *
p°Env
);

181 
STATUS
 
odmSysRe£t
();

183 
STATUS
 
odmSysCfgTempDúGë
(*
pcDe°
);

184 
STATUS
 
odmSysCfgLoˇlTempDúGë
(*
pcDe°
);

185 
STATUS
 
odmSysCfgMsqDúGë
(*
pcDe°
);

187 
UINT32
 
odmSysSo·w¨eBuûdTimeGë
(* 
pcD©eTime
);

188 
UINT32
 
odmSysCPUP©hMtuGë
(UINT32 *
˝uMtu
);

189 
UINT32
 
odmSysCPUP©hMtuSë
(UINT32 
˝uMtu
);

191 
UINT32
 
odmSysMtuSë
(UINT32 
sysMtu
);

192 
UINT32
 
odmSysMtuGë
(UINT32 *
sysMtu
);

194 
UINT8
 
odmSysVoIPP‹tBa£Gë
();

195 
UINT32
 
odmSysVoIPP‹tBa£Së
(
UINT8
 
ucBa£
);

197 #ifde‡
__˝lu•lus


	@inc/user/yotc.h

9 #i‚de‡
__YOTC_H__


10 
	#__YOTC_H__


	)

11 
	~<sys/sockë.h
>

12 
	~<√töë/ö.h
>

13 
	~<√t/if.h
>

16 
	#YOTC_OAM_OUI
 {0x00, 0x0c, 0xd8}

	)

17 
	#YOTC_ORGSPEC_HDR_LEN
 7

	)

20 
	#OAM_YOTC_EXT_OPCODE_GET_REQUEST
 0x01

	)

21 
	#OAM_YOTC_EXT_OPCODE_GET_RESPONSE
 0x02

	)

22 
	#OAM_YOTC_EXT_OPCODE_SET_REQUEST
 0x03

	)

23 
	#OAM_YOTC_EXT_OPCODE_SET_RESPONSE
 0x04

	)

25 
	#OAM_YOTC_BRANCH_STANDARD_ATTRIB
 0x07

	)

26 
	#OAM_YOTC_BRANCH_STANDARD_ACTION
 0x09

	)

27 
	#OAM_YOTC_BRANCH_EXTENDED_ATTRIB
 0xC7

	)

28 
	#OAM_YOTC_BRANCH_EXTENDED_ACTION
 0xC9

	)

30 
	#OAM_YOTC_EXT_LEAF_STATS
 0X0043

	)

31 
	#OAM_YOTC_EXT_LEAF_OPTICS
 0X0050

	)

32 
	#OAM_YOTC_EXT_LEAF_RSTP
 0X0016

	)

33 
	#OAM_YOTC_EXT_LEAF_ETH_STATE
 0X0013

	)

34 
	#OAM_YOTC_EXT_LEAF_PORT_MODE
 0X0012

	)

35 
	#OAM_YOTC_EXT_LEAF_ISOLATE
 0X000A

	)

36 
	#OAM_YOTC_EXT_LEAF_ADMIN_IP
 0x0019

	)

37 
	#OAM_YOTC_EXT_LEAF_ADMIN_VLAN
 0x0024

	)

38 
	#OAM_YOTC_EXT_LEAF_MAC_AGING
 0x0010

	)

39 
	#OAM_YOTC_EXT_LEAF_MAC_LIMIT
 0X0005

	)

40 
	#OAM_YOTC_EXT_LEAF_MAC_BLACK
 0x0033

	)

41 
	#OAM_YOTC_EXT_LEAF_MAC_WHITE
 0X0021

	)

42 
	#OAM_YOTC_EXT_LEAF_VLAN_TRUNK
 0X0017

	)

43 
	#OAM_YOTC_EXT_LEAF_UPGRADE
 0X0031

	)

46 
	mYOTC_PORT_MODE_AUTO
 = 0,

47 
	mYOTC_PORT_MODE_10HALF
,

48 
	mYOTC_PORT_MODE_10FULL
,

49 
	mYOTC_PORT_MODE_100HALF
,

50 
	mYOTC_PORT_MODE_100FULL
,

51 
	mYOTC_PORT_MODE_1G
,

52 
	mYOTC_PORT_MODE_10G


54 
	tyŸc_p‹t_mode_e
;

56 
	#OAM_YOTC_ENABLE
 0X01

	)

57 
	#OAM_YOTC_DISABLE
 0X00

	)

59 
	#OAM_YOTC_TRUNK_DEL
 0X0000

	)

60 
	#OAM_YOTC_TRUNK_ADD
 0X0100

	)

61 
	#OAM_YOTC_TRUNK_PVID
 0X0200

	)

63 
	syŸc_hódî
 {

64 
u8_t
 
	moui
[3];

65 
u8_t
 
	mext_›code
;

66 }
__©åibuã__
((
∑cked
));

67 
yŸc_hódî
 
	tyŸc_hódî_t
;

69 
	syŸc_°©s_ª£t


71 
u8_t
 
	mbønch
;

72 
u16_t
 
	mÀaf
;

73 
u8_t
 
	mwidth
;

74 
u8_t
 
	mp‹t
;

75 }
__©åibuã__
((
∑cked
));

76 
yŸc_°©s_ª£t
 
	tyŸc_°©s_ª£t_t
;

78 
	syŸc_›tics


80 
u8_t
 
	mbønch
;

81 
u16_t
 
	mÀaf
;

82 
u8_t
 
	mwidth
;

83 
u16_t
 
	må™˚ivîTemp
;

84 
u16_t
 
	msuµlyVﬁt
;

85 
u16_t
 
	mbüsCuºít
;

86 
u16_t
 
	mtxPowî
;

87 
u16_t
 
	mrxPowî
;

88 }
__©åibuã__
((
∑cked
));

89 
yŸc_›tics
 
	tyŸc_›tics_t
;

91 
	syŸc_p‹t_°©s


93 
u8_t
 
	mbønch
;

94 
u16_t
 
	mÀaf
;

95 
u8_t
 
	mwidth
;

97 
u64_t
 
	mifInO˘ës
;

98 
u64_t
 
	mifInTŸÆPkts
;

99 
u32_t
 
	mifInUˇ°Pkts
;

100 
u32_t
 
	mifInMˇ°Pkts
;

101 
u32_t
 
	mifInBˇ°Pkts
;

102 
u32_t
 
	mifInRxDisˇrdPkts
;

103 
u32_t
 
	mifInEº‹Pkts
;

104 
u32_t
 
	mifInRu¡sPkts
;

105 
u32_t
 
	mifInGü¡sPkts
;

106 
u32_t
 
	mifInUnknowPkts
;

107 
u32_t
 
	mifInCRCPkts
;

109 
u64_t
 
	mifOutO˘ës
;

110 
u64_t
 
	mifOutTŸÆPkts
;

111 
u32_t
 
	mifOutUˇ°Pkts
;

112 
u32_t
 
	mifOutMˇ°Pkts
;

113 
u32_t
 
	mifOutBˇ°Pkts
;

115 
u32_t
 
	mifRxR©e
;

116 
u32_t
 
	mifTxR©e
;

117 }
__©åibuã__
((
∑cked
));

118 
yŸc_p‹t_°©s
 
	tyŸc_p‹t_°©s_t
;

120 
	syŸc_p‹t


122 
u8_t
 
	mbønch
;

123 
u16_t
 
	mÀaf
;

124 
u8_t
 
	mwidth
;

125 
u8_t
 
	mp‹t
;

126 }
__©åibuã__
((
∑cked
));

127 
yŸc_p‹t
 
	tyŸc_p‹t_t
;

129 
	syŸc_r°p


131 
u8_t
 
	mbønch
;

132 
u16_t
 
	mÀaf
;

133 
u8_t
 
	mwidth
;

134 
u8_t
 
	mvÆue
;

135 }
__©åibuã__
((
∑cked
));

136 
yŸc_r°p
 
	tyŸc_r°p_t
;

138 
	syŸc_p‹t_°©e


140 
u8_t
 
	mbønch
;

141 
u16_t
 
	mÀaf
;

142 
u8_t
 
	mwidth
;

143 
u16_t
 
	mmode
;

144 }
__©åibuã__
((
∑cked
));

145 
yŸc_p‹t_°©e
 
	tyŸc_p‹t_°©e_t
;

147 
	syŸc_p‹t_mode


149 
u8_t
 
	mbønch
;

150 
u16_t
 
	mÀaf
;

151 
u8_t
 
	mwidth
;

152 
u8_t
 
	mp‹t
;

153 
u8_t
 
	mmode
;

154 }
__©åibuã__
((
∑cked
));

155 
yŸc_p‹t_mode
 
	tyŸc_p‹t_mode_t
;

157 
	syŸc_p‹t_isﬁ©e


159 
u8_t
 
	mbønch
;

160 
u16_t
 
	mÀaf
;

161 
u8_t
 
	mwidth
;

162 
u8_t
 
	ma˘i⁄
;

163 }
__©åibuã__
((
∑cked
));

164 
yŸc_p‹t_isﬁ©e
 
	tyŸc_p‹t_isﬁ©e_t
;

166 
	syŸc_admöù


168 
u8_t
 
	mbønch
;

169 
u16_t
 
	mÀaf
;

170 
u8_t
 
	mwidth
;

171 
ö_addr
 
	mùaddr
;

172 
ö_addr
 
	mmask
;

173 
ö_addr
 
	mg©eway
;

174 }
__©åibuã__
((
∑cked
));

175 
yŸc_admöù
 
	tyŸc_admöù_t
;

177 
	syŸc_admövœn


179 
u8_t
 
	mbønch
;

180 
u16_t
 
	mÀaf
;

181 
u8_t
 
	mwidth
;

182 
u16_t
 
	mª£rved
;

183 
u16_t
 
	mvœn
;

184 }
__©åibuã__
((
∑cked
));

185 
yŸc_admövœn
 
	tyŸc_admövœn_t
;

187 
	syŸc_mac_agög


189 
u8_t
 
	mbønch
;

190 
u16_t
 
	mÀaf
;

191 
u8_t
 
	mwidth
;

192 
u32_t
 
	magögTime
;

193 }
__©åibuã__
((
∑cked
));

194 
yŸc_mac_agög
 
	tyŸc_mac_agög_t
;

196 
	syŸc_mac_limô


198 
u8_t
 
	mbønch
;

199 
u16_t
 
	mÀaf
;

200 
u8_t
 
	mwidth
;

201 
u8_t
 
	mp‹t
;

202 
u8_t
 
	mnumLimô
;

203 }
__©åibuã__
((
∑cked
));

204 
yŸc_mac_limô
 
	tyŸc_mac_limô_t
;

206 
	syŸc_mac_whôe


208 
u8_t
 
	mbønch
;

209 
u16_t
 
	mÀaf
;

210 
u8_t
 
	mwidth
;

211 
u8_t
 
	ma˘i⁄
;

212 
u8_t
 
	mmac
[6];

213 
u8_t
 
	mp‹t
;

214 }
__©åibuã__
((
∑cked
));

215 
yŸc_mac_whôe
 
	tyŸc_mac_t
;

217 
	syŸc_p‹t_åunk


219 
u8_t
 
	mbønch
;

220 
u16_t
 
	mÀaf
;

221 
u8_t
 
	mwidth
;

222 
u8_t
 
	mp‹t
;

223 
u16_t
 
	mty≥
;

224 
u8_t
 
	m¥i
;

225 
u16_t
 
	mvœnid
;

226 
u16_t
 
	ma˘i⁄
;

227 }
__©åibuã__
((
∑cked
));

228 
yŸc_p‹t_åunk
 
	tyŸc_p‹t_åunk_t
;

230 
	syŸc_⁄u_upgøde


232 
u8_t
 
	mbønch
;

233 
u16_t
 
	mÀaf
;

234 
u8_t
 
	mwidth
;

235 }
__©åibuã__
((
∑cked
));

236 
yŸc_⁄u_upgøde
 
	tyŸc_⁄u_upgøde_t
;

238 
yŸc_ﬂm_öô
();

	@inc/user/zte.h

17 #i‚de‡
__ZTE_H__


18 
	#__ZTE_H__


	)

22 #i‚de‡
OAM_SUPPORT_ZTE_EXT


23 
	#OAM_SUPPORT_ZTE_EXT
 1

	)

27 
	~"ﬂm.h
"

28 
	~"˘c_ﬂm.h
"

30 
	#MAC_FILE
 "/tmp/macdump"

	)

32 
	#ZTE_OAM_OUI
 {0x00, 0x0F, 0x3E}

	)

33 
	#ZTE_ORGSPEC_HDR_LEN
 6

	)

37 
	#OAM_ZTE_EXT_OPCODE_GET_REQUEST
 0x01

	)

38 
	#OAM_ZTE_EXT_OPCODE_GET_RESPONSE
 0x02

	)

39 
	#OAM_ZTE_EXT_OPCODE_SET_REQUEST
 0x03

	)

40 
	#OAM_ZTE_EXT_OPCODE_SET_RESPONSE
 0x04

	)

42 
	#OAM_ZTE_EXT_TYPE_GENERAL
 0x00

	)

43 
	#OAM_ZTE_EXT_TYPE_FE
 0x01

	)

44 
	#OAM_ZTE_EXT_TYPE_VOIP
 0x02

	)

45 
	#OAM_ZTE_EXT_TYPE_CATV
 0x03

	)

47 
	#OAM_ZTE_EXT_BRANCH_ATTR
 0x0F

	)

48 
	#OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
 0x10

	)

50 
	#ZTE_DHCP_DISABLE
 0x02

	)

51 
	#ZTE_DHCP_ENABLE
 0x01

	)

54 
	#OAM_ZTE_EXT_LEAF_ONU_SUPPORT
 0x0101

	)

55 
	#OAM_ZTE_EXT_LEAF_ONU_SN
 0x0104

	)

57 
	#OAM_ZTE_EXT_LEAF_CONFIG_PARAM
 0x0106

	)

58 
	#OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
 0x0107

	)

59 
	#OAM_ZTE_EXT_LEAF_TYPE_C_SET
 0x0109

	)

60 
	#OAM_ZTE_EXT_LEAF_TYPE_C_GET
 0x010®

	)

61 
	#OAM_ZTE_EXT_LEAF_SET_PORT_MODE
 0x0204

	)

62 
	#OAM_ZTE_EXT_LEAF_GET_PORT_MODE
 0x0205

	)

65 
	#OAM_ZTE_EXT_LEAF_ALARM_INFO
 0x8000

	)

67 
	#OAM_ZTE_EXT_LEAF_ALARM_CFG
 0x8001

	)

68 
	#OAM_ZTE_EXT_LEAF_UPGRADE_PARA
 0x8002

	)

69 
	#OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
 0x8003

	)

70 
	#OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
 0x8004

	)

72 
	#OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING2
 0x00a4

	)

74 
	#OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
 0x8005

	)

75 
	#OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
 0x8006

	)

76 
	#OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
 0x8007

	)

77 
	#OAM_ZTE_EXT_LEAF_UNI_ISOLATION
 0x8008

	)

78 
	#OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
 0x8010

	)

79 
	#OAM_ZTE_EXT_LEAF_PORT_MODE
 0x8011

	)

80 
	#OAM_ZTE_EXT_LEAF_UNI_MAC_QUERY
 0x8012

	)

81 
	#OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
 0x8013

	)

82 
	#OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
 0x8014

	)

83 
	#OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
 0x8015

	)

84 
	#OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
 0x8016

	)

85 
	#OAM_ZTE_EXT_LEAF_UNI_STATS_RESET
 0x8017

	)

86 
	#OAM_ZTE_EXT_LEAF_UNI_STATS_QUERY
 0x8018

	)

88 
	#OAM_ZTE_EXT_LEAF_TX_LASER_ALWAYS_ON
 0x8019

	)

89 
	#OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
 0x801A

	)

90 
	#OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
 0x801B

	)

91 
	#OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
 0x801C

	)

93 
	#OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP
 0x801F

	)

96 
	#OAM_ZTE_EXT_LEAF_HG_REPORT
 0x6000

	)

97 
	#OAM_ZTE_EXT_LEAF_HG_MAC_INFO
 0x6001

	)

98 
	#OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
 0x6002

	)

99 
	#OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
 0x6003

	)

101 
	#OAM_ZTE_EXT_LEAF_IAD_INFO
 0x0061

	)

102 
	#OAM_ZTE_EXT_LEAF_VOIP_INFO
 0x0062

	)

103 
	#OAM_ZTE_EXT_LEAF_GBL_PARA
 0x0063

	)

104 
	#OAM_ZTE_EXT_LEAF_H248_PARA
 0x0064

	)

105 
	#OAM_ZTE_EXT_LEAF_H248_USER_TID_SET
 0x0065

	)

106 
	#OAM_ZTE_EXT_LEAF_H248_USER_TID_GET
 0x0066

	)

107 
	#OAM_ZTE_EXT_LEAF_H248_RTP_TID_CFG
 0x0067

	)

108 
	#OAM_ZTE_EXT_LEAF_H248_RTP_TID_INFO
 0x0068

	)

109 
	#OAM_ZTE_EXT_LEAF_SIP_PARA
 0x0069

	)

110 
	#OAM_ZTE_EXT_LEAF_SIP_USER_PARA
 0x006®

	)

111 
	#OAM_ZTE_EXT_LEAF_FAX_CFG
 0x006b

	)

112 
	#OAM_ZTE_EXT_LEAF_IAD_OPER_STAT
 0x006¯

	)

113 
	#OAM_ZTE_EXT_LEAF_USER_POTS_IF_STAT
 0x006d

	)

114 
	#OAM_ZTE_EXT_LEAF_IAD_RESET
 0x006ê

	)

115 
	#OAM_ZTE_EXT_LEAF_SIP_PORT_RESET
 0x006‡

	)

116 
	#OAM_ZTE_EXT_LEAF_ONU_CARD_INFO
 0x0070

	)

117 
	#OAM_ZTE_EXT_LEAF_VOIP_OTHER_CFG
 0x8080

	)

118 
	#OAM_ZTE_EXT_LEAF_VOIP_L3_TOS
 0x8081

	)

119 
	#OAM_ZTE_EXT_LEAF_VOIP_CALLER_ID
 0x8082

	)

120 
	#OAM_ZTE_EXT_LEAF_VOIP_PRIVATE_SIP_SDP
 0x8083

	)

121 
	#OAM_ZTE_EXT_LEAF_VOIP_SIPDIGITALMAP
 0x8084

	)

122 
	#OAM_ZTE_EXT_LEAF_VOIP_TIMEER_CONFIG
 0x8085

	)

123 
	#OAM_ZTE_EXT_LEAF_VOIP_SIP_USERPARAM_CONFIG_1
 0x8086

	)

125 
	#OAM_ZTE_POTS_PORT_ID_MIN
 0x50

	)

126 
	#OAM_ZTE_POTS_PORT_ID_MAX
 0x51

	)

129 
	szã_hódî
 {

130 
u8_t
 
	moui
[3];

131 
u8_t
 
	mext_›code
;

132 
u8_t
 
	mty≥
;

133 
u8_t
 
	mp‹t
;

134 }
__©åibuã__
((
∑cked
));

135 
zã_hódî
 
	tzã_hódî_t
;

140 
	sﬂm_zã_⁄u_soup‹t
 {

141 
u8_t
 
	mbønch
;

142 
u16_t
 
	mÀaf
;

143 
u8_t
 
	mwidth
;

144 
u8_t
 
	mis_soup‹t
;

145 }
__©åibuã__
((
∑cked
));

146 
ﬂm_zã_⁄u_soup‹t
 
	tﬂm_zã_⁄u_soup‹t_t
;

150 
	sﬂm_zã_⁄u_¢
 {

151 
u8_t
 
	mbønch
;

152 
u16_t
 
	mÀaf
;

153 
u8_t
 
	mwidth
;

154 
u8_t
 
	m¢
[128];

155 }
__©åibuã__
((
∑cked
));

156 
ﬂm_zã_⁄u_¢
 
	tﬂm_zã_⁄u_¢_t
;

159 
	sﬂm_zã_⁄u_c⁄fig_∑øm
 {

160 
u8_t
 
	mbønch
;

161 
u16_t
 
	mÀaf
;

162 
u8_t
 
	mwidth
;

163 
u8_t
 
	ma˘i⁄
;

164 }
__©åibuã__
((
∑cked
));

165 
ﬂm_zã_⁄u_c⁄fig_∑øm
 
	tﬂm_zã_⁄u_c⁄fig_∑øm_t
;

168 
	sﬂm_zã_mgmt_ù_cfg
 {

169 
u8_t
 
	mbønch
;

170 
u16_t
 
	mÀaf
;

171 
u8_t
 
	mwidth
;

172 
u32_t
 
	mù_addr
;

173 
u32_t
 
	mù_mask
;

174 
u8_t
 
	mmgmt_¥i
;

175 
u16_t
 
	mmgmt_vœn
;

176 
u8_t
 
	mmgmt_°©us
;

177 
u32_t
 
	mmgmt_ho°_sub√t
;

178 
u32_t
 
	mmgmt_ho°_mask
;

179 
u32_t
 
	mmgmt_g©eway
;

180 }
__©åibuã__
((
∑cked
));

181 
ﬂm_zã_mgmt_ù_cfg
 
	tﬂm_zã_mgmt_ù_cfg_t
;

184 
	sﬂm_zã_ty≥_c
 {

185 
u8_t
 
	mbønch
;

186 
u16_t
 
	mÀaf
;

187 
u8_t
 
	mwidth
;

188 
u8_t
 
	mk1
;

189 
u8_t
 
	mk2
;

190 }
__©åibuã__
((
∑cked
));

191 
ﬂm_zã_ty≥_c
 
	tﬂm_zã_ty≥_c_t
;

195 
	sﬂm_zã_Æ¨m_öfo
{

196 
u8_t
 
	mbønch
;

197 
u16_t
 
	mÀaf
;

198 
u8_t
 
	mwidth
;

199 
u16_t
 
	mÆ¨m_id
;

200 
u8_t
 
	mª£rved
[3];

201 }
__©åibuã__
((
∑cked
));

202 
ﬂm_zã_Æ¨m_öfo
 
	tﬂm_zã_Æ¨m_öfo_t
;

205 
	sﬂm_zã_Æ¨m_cfg
{

206 
u8_t
 
	mbønch
;

207 
u16_t
 
	mÀaf
;

208 
u8_t
 
	mwidth
;

209 
u8_t
 
	mÆ¨m_c⁄fig
;

210 }
__©åibuã__
((
∑cked
));

211 
ﬂm_zã_Æ¨m_cfg
 
	tﬂm_zã_Æ¨m_cfg_t
;

214 
	sﬂm_zã_upgøde_∑ø
{

215 
u8_t
 
	mbønch
;

216 
u16_t
 
	mÀaf
;

217 
u8_t
 
	mwidth
;

218 
u32_t
 
	mù_addr
;

219 
u32_t
 
	mù_mask
;

220 
u32_t
 
	mg©eway
;

221 
u16_t
 
	mvœnid
;

222 
u8_t
 
	mu£∫ame
[8];

223 
u8_t
 
	m∑ssw‹d
[8];

224 
u8_t
 
	ma˘i⁄
;

225 
u8_t
 
	mvî_num
;

226 
u8_t
 
	mvî_«me1
[16];

227 
u8_t
 
	mvî_«me2
[16];

228 
u8_t
 
	mvî_«me3
[16];

229 }
__©åibuã__
((
∑cked
));

230 
ﬂm_zã_upgøde_∑ø
 
	tﬂm_zã_upgøde_∑ø_t
;

233 
	sﬂm_zã_mac_limô
{

234 
u8_t
 
	mbønch
;

235 
u16_t
 
	mÀaf
;

236 
u8_t
 
	mwidth
;

237 
u16_t
 
	mlimô_num
;

238 }
__©åibuã__
((
∑cked
));

239 
ﬂm_zã_mac_limô
 
	tﬂm_zã_mac_limô_t
;

242 
	sﬂm_zã_mac_agög
{

243 
u8_t
 
	mbønch
;

244 
u16_t
 
	mÀaf
;

245 
u8_t
 
	mwidth
;

246 
u32_t
 
	magög_time
;

247 }
__©åibuã__
((
∑cked
));

248 
ﬂm_zã_mac_agög
 
	tﬂm_zã_mac_agög_t
;

251 
	sﬂm_zã_p‹t_mac_fûãr
{

252 
u8_t
 
	mbønch
;

253 
u16_t
 
	mÀaf
;

254 
u8_t
 
	mwidth
;

255 
u8_t
 
	ma˘i⁄
;

256 
u8_t
 
	mnum_of_íåõs
;

257 }
__©åibuã__
((
∑cked
));

258 
ﬂm_zã_p‹t_mac_fûãr
 
	tﬂm_zã_p‹t_mac_fûãr_t
;

260 
	sﬂm_zã_p‹t_mac_fûãr_íåy
{

261 
u16_t
 
	mvœn_id
;

262 
u8_t
 
	mmac_addr
[6];

263 }
__©åibuã__
((
∑cked
));

264 
ﬂm_zã_p‹t_mac_fûãr_íåy
 
	tﬂm_zã_p‹t_mac_fûãr_íåy_t
;

267 
	sﬂm_zã_p‹t_mac_bödög
{

268 
u8_t
 
	mbønch
;

269 
u16_t
 
	mÀaf
;

270 
u8_t
 
	mwidth
;

271 
u8_t
 
	ma˘i⁄
;

272 
u8_t
 
	mnum_of_íåõs
;

273 }
__©åibuã__
((
∑cked
));

274 
ﬂm_zã_p‹t_mac_bödög
 
	tﬂm_zã_p‹t_mac_bödög_t
;

276 
	sﬂm_zã_p‹t_mac_bödög_íåy
{

277 
u16_t
 
	mvœn_id
;

278 
u8_t
 
	mmac_addr
[6];

279 }
__©åibuã__
((
∑cked
));

280 
ﬂm_zã_p‹t_mac_bödög_íåy
 
	tﬂm_zã_p‹t_mac_bödög_íåy_t
;

283 
	sﬂm_zã_°©ic_mac_cfg
{

284 
u8_t
 
	mbønch
;

285 
u16_t
 
	mÀaf
;

286 
u8_t
 
	mwidth
;

287 
u8_t
 
	ma˘i⁄
;

288 
u8_t
 
	mnum_of_íåõs
;

289 }
__©åibuã__
((
∑cked
));

290 
ﬂm_zã_°©ic_mac_cfg
 
	tﬂm_zã_°©ic_mac_cfg_t
;

292 
	sﬂm_zã_°©ic_mac_íåy
{

293 
u16_t
 
	mvœn_id
;

294 
u8_t
 
	mmac_addr
[6];

295 }
__©åibuã__
((
∑cked
));

296 
ﬂm_zã_°©ic_mac_íåy
 
	tﬂm_zã_°©ic_mac_íåy_t
;

299 
	sﬂm_zã_uni_isﬁ©i⁄
{

300 
u8_t
 
	mbønch
;

301 
u16_t
 
	mÀaf
;

302 
u8_t
 
	mwidth
;

303 
u8_t
 
	misﬁ©i⁄
;

304 }
__©åibuã__
((
∑cked
));

305 
ﬂm_zã_uni_isﬁ©i⁄
 
	tﬂm_zã_uni_isﬁ©i⁄_t
;

308 
	sﬂm_zã_⁄u_ëhî_°©s
{

309 
u8_t
 
	mbønch
;

310 
u16_t
 
	mÀaf
;

311 
u8_t
 
	mwidth
;

312 
u64_t
 
	mifInO˘ës
;

313 
u64_t
 
	mifInUˇ°Pkts
;

314 
u64_t
 
	mifInNUˇ°Pkts
;

315 
u64_t
 
	mifInDisˇrds
;

316 
u64_t
 
	mifInEº‹s
;

317 
u64_t
 
	mifOutO˘ës
;

318 
u64_t
 
	mifOutUˇ°Pkts
;

319 
u64_t
 
	mifOutNUˇ°Pkts
;

320 
u64_t
 
	mifOutDisˇrds
;

321 
u64_t
 
	mifOutEº‹s
;

322 
u64_t
 
	mª£rved1
;

323 
u64_t
 
	mª£rved2
;

324 
u64_t
 
	mª£rved3
;

325 
u64_t
 
	mª£rved4
;

326 }
__©åibuã__
((
∑cked
));

327 
ﬂm_zã_⁄u_ëhî_°©s
 
	tﬂm_zã_⁄u_ëhî_°©s_t
;

330 
	sﬂm_zã_p‹t_mode
{

331 
u8_t
 
	mbønch
;

332 
u16_t
 
	mÀaf
;

333 
u8_t
 
	mwidth
;

334 
u8_t
 
	mp‹t_mode
;

341 }
__©åibuã__
((
∑cked
));

342 
ﬂm_zã_p‹t_mode
 
	tﬂm_zã_p‹t_mode_t
;

345 
	sﬂm_zã_uni_mac_quîy
{

346 
u8_t
 
	mbønch
;

347 
u16_t
 
	mÀaf
;

348 
u8_t
 
	m›_code
;

349 
u16_t
 
	mwidth
;

350 
u16_t
 
	møndom_vÆue
;

351 
u16_t
 
	m£q_no
;

352 
u16_t
 
	mtŸÆ_num
;

353 }
__©åibuã__
((
∑cked
));

354 
ﬂm_zã_uni_mac_quîy
 
	tﬂm_zã_uni_mac_quîy_t
;

356 
	sﬂm_zã_uni_mac_quîy_íåy
{

357 
u8_t
 
	mmac_addr
[6];

358 }
__©åibuã__
((
∑cked
));

359 
ﬂm_zã_uni_mac_quîy_íåy
 
	tﬂm_zã_uni_mac_quîy_íåy_t
;

361 
	sﬂm_zã_uni_mac_quîy_block
{

362 
u32_t
 
	maddr_num
;

363 
u32_t
 
	maddr_ty≥
;

364 
ﬂm_zã_uni_mac_quîy_íåy_t
 
	mmac_vÆue
[20];

365 }
__©åibuã__
((
∑cked
));

366 
ﬂm_zã_uni_mac_quîy_block
 
	tﬂm_zã_uni_mac_quîy_block_t
;

374 
	sﬂm_zã_pmac_ds_sh≠ög
{

375 
u8_t
 
	mbønch
;

376 
u16_t
 
	mÀaf
;

377 
u8_t
 
	mwidth
;

378 
u8_t
 
	mds_øã_›î
;

379 
u8_t
 
	mds_øã_cú
[3];

380 
u8_t
 
	mds_øã_cbs
[3];

381 }
__©åibuã__
((
∑cked
));

382 
ﬂm_zã_pmac_ds_sh≠ög
 
	tﬂm_zã_pmac_ds_sh≠ög_t
;

385 
	sﬂm_zã_pmac_buff_cfg
{

386 
u8_t
 
	mbønch
;

387 
u16_t
 
	mÀaf
;

388 
u8_t
 
	mwidth
;

389 
u8_t
 
	mmgmt_ödiˇti⁄
;

390 
u8_t
 
	mdúe˘i⁄
;

391 
u8_t
 
	mbuff_size
[3];

392 }
__©åibuã__
((
∑cked
));

393 
ﬂm_zã_pmac_buff_cfg
 
	tﬂm_zã_pmac_buff_cfg_t
;

396 
	sﬂm_zã_pmac_buff_quîy
{

397 
u8_t
 
	mbønch
;

398 
u16_t
 
	mÀaf
;

399 
u8_t
 
	mwidth
;

400 
u8_t
 
	mbuff_mgmt_ˇ∑bûôy
;

401 
u8_t
 
	mds_buff_mö
[3];

402 
u8_t
 
	mds_buff_max
[3];

403 
u8_t
 
	mus_buff_mö
[3];

404 
u8_t
 
	mus_buff_max
[3];

405 }
__©åibuã__
((
∑cked
));

406 
ﬂm_zã_pmac_buff_quîy
 
	tﬂm_zã_pmac_buff_quîy_t
;

409 
	sﬂm_zã_uni_°©s_cfg
{

410 
u8_t
 
	mbønch
;

411 
u16_t
 
	mÀaf
;

412 
u8_t
 
	mwidth
;

413 
u8_t
 
	ma˘i⁄
;

414 
u8_t
 
	m°©s_öãrvÆ
[3];

415 
u32_t
 
	m°©s_duøti⁄
;

416 }
__©åibuã__
((
∑cked
));

417 
ﬂm_zã_uni_°©s_cfg
 
	tﬂm_zã_uni_°©s_cfg_t
;

420 
	sﬂm_zã_uni_°©s_ª£t
{

421 
u8_t
 
	mbønch
;

422 
u16_t
 
	mÀaf
;

423 
u8_t
 
	mwidth
;

424 
u8_t
 
	mª£t
;

425 }
__©åibuã__
((
∑cked
));

426 
ﬂm_zã_uni_°©s_ª£t
 
	tﬂm_zã_uni_°©s_ª£t_t
;

429 
	sﬂm_zã_uni_°©s_quîy
{

430 
u8_t
 
	mbønch
;

431 
u16_t
 
	mÀaf
;

432 
u8_t
 
	mwidth
;

433 
u8_t
 
	mcﬁÀ˘_ödiˇti⁄
;

434 
u64_t
 
	mifInO˘ës
;

435 
u64_t
 
	mifInUˇ°Pkts
;

436 
u64_t
 
	mifInNUˇ°Pkts
;

437 
u64_t
 
	mifInDisˇrds
;

438 
u64_t
 
	mifInEº‹s
;

439 
u64_t
 
	mifOutO˘ës
;

440 
u64_t
 
	mifOutUˇ°Pkts
;

441 
u64_t
 
	mifOutNUˇ°Pkts
;

442 
u64_t
 
	mifOutDisˇrds
;

443 
u64_t
 
	mifOutEº‹s
;

444 }
__©åibuã__
((
∑cked
));

445 
ﬂm_zã_uni_°©s_quîy
 
	tﬂm_zã_uni_°©s_quîy_t
;

448 
	sﬂm_zã_tx_œ£r_Æways_⁄
{

449 
u8_t
 
	mbønch
;

450 
u16_t
 
	mÀaf
;

451 
u8_t
 
	mwidth
;

452 
u8_t
 
	mp⁄_p‹t_num
;

453 
u8_t
 
	mmaö_p⁄_tx_Æways_í
;

454 
u8_t
 
	m£c⁄d_p⁄_tx_Æways_í
;

455 }
__©åibuã__
((
∑cked
));

456 
ﬂm_zã_tx_œ£r_Æways_⁄
 
	tﬂm_zã_tx_œ£r_Æways_⁄_t
;

459 
	sﬂm_zã_tx_œ£r_c⁄åﬁ
{

460 
u8_t
 
	mbønch
;

461 
u16_t
 
	mÀaf
;

462 
u8_t
 
	mwidth
;

463 
u8_t
 
	mm©chmac_í
;

464 
u8_t
 
	mp⁄_mac_vÆue
[6];

465 
u8_t
 
	ma˘i⁄
;

466 
u16_t
 
	mduπime
;

467 }
__©åibuã__
((
∑cked
));

468 
ﬂm_zã_tx_œ£r_c⁄åﬁ
 
	tﬂm_zã_tx_œ£r_c⁄åﬁ_t
;

471 
	sﬂm_zã_p⁄_°©s_°©ics_1
{

472 
u8_t
 
	mbønch
;

473 
u16_t
 
	mÀaf
;

474 
u8_t
 
	mwidth
;

475 
u64_t
 
	mFømesTønsmôãdOK
;

476 
u64_t
 
	mO˘ësTønsmôãdOK
;

477 
u64_t
 
	mMu…iˇ°FømesXmôãdOK
;

478 
u64_t
 
	mBrﬂdˇ°FømesXmôãdOK
;

479 
u64_t
 
	mPONPau£FømesTønsmôãdOk
;

480 
u64_t
 
	mFømesRe˚ivedOK
;

481 
u64_t
 
	mO˘ësRe˚ivedOK
;

482 
u64_t
 
	mMu…iˇ°FømesRe˚ivedOK
;

483 
u64_t
 
	mBrﬂdˇ°FømesRe˚ivedOK
;

484 
u64_t
 
	mPONPau£FømesRe˚ivedOk
;

485 
u64_t
 
	mSögÀCﬁlisi⁄Fømes
;

486 
u64_t
 
	mMu…ùÀCﬁlisi⁄Fømes
;

487 
u64_t
 
	mAlignmítEº‹s
;

488 
u64_t
 
	mFømeTooL⁄gEº‹s
;

489 }
__©åibuã__
((
∑cked
));

490 
ﬂm_zã_p⁄_°©s_°©ics_1
 
	tﬂm_zã_p⁄_°©s_°©ics_1_t
;

493 
	sﬂm_zã_p⁄_°©s_°©ics_2
{

494 
u8_t
 
	mbønch
;

495 
u16_t
 
	mÀaf
;

496 
u8_t
 
	mwidth
;

497 
u64_t
 
	mCRC8Eº‹s
;

498 
u64_t
 
	mFECC‹ª˘edBlocks
;

499 
u64_t
 
	mFECUnc‹ª˘abÀBlocks
;

500 
u64_t
 
	mMPCPMACCålFømesTønsmôãd
;

501 
u64_t
 
	mMPCPMACCålFømesRe˚ived
;

502 
u64_t
 
	mMPCPTxG©e
;

503 
u64_t
 
	mMPCPTxRegAck
;

504 
u64_t
 
	mMPCPTxRegi°î
;

505 
u64_t
 
	mMPCPTxRegReque°
;

506 
u64_t
 
	mMPCPTxRï‹t
;

507 
u64_t
 
	mMPCPRxG©e
;

508 
u64_t
 
	mMPCPRxRegAck
;

509 
u64_t
 
	mMPCPRxRegi°î
;

510 
u64_t
 
	mMPCPRxRegReque°
;

511 
u64_t
 
	mMPCPRxRï‹t
;

512 }
__©åibuã__
((
∑cked
));

513 
ﬂm_zã_p⁄_°©s_°©ics_2
 
	tﬂm_zã_p⁄_°©s_°©ics_2_t
;

516 
	sﬂm_zã_hg_ªp‹t
{

517 
u8_t
 
	mbønch
;

518 
u16_t
 
	mÀaf
;

519 
u8_t
 
	mwidth
;

520 
u16_t
 
	mmsg_id
;

521 
u8_t
 
	mmsg_öfo
[120];

522 }
__©åibuã__
((
∑cked
));

523 
ﬂm_zã_hg_ªp‹t
 
	tﬂm_zã_hg_ªp‹t_t
;

527 
	sﬂm_zã_hg_mac_öfo
{

528 
u8_t
 
	mbønch
;

529 
u16_t
 
	mÀaf
;

530 
u8_t
 
	mwidth
;

531 
u8_t
 
	ma˘i⁄
;

532 
u8_t
 
	mnum_of_íåõs
;

533 }
__©åibuã__
((
∑cked
));

534 
ﬂm_zã_hg_mac_öfo
 
	tﬂm_zã_hg_mac_öfo_t
;

536 
	sﬂm_zã_hg_mac_íåy
{

537 
u8_t
 
	mmac_addr
[6];

538 }
__©åibuã__
((
∑cked
));

539 
ﬂm_zã_hg_mac_íåy
 
	tﬂm_zã_hg_mac_íåy_t
;

542 
	sﬂm_zã_hg_mgmt_vœn
{

543 
u8_t
 
	mbønch
;

544 
u16_t
 
	mÀaf
;

545 
u8_t
 
	mwidth
;

546 
u16_t
 
	mhg_mgmt_vœn
;

547 }
__©åibuã__
((
∑cked
));

548 
ﬂm_zã_hg_mgmt_vœn
 
	tﬂm_zã_hg_mgmt_vœn_t
;

551 
	sﬂm_zã_hg_ac˚ss_öfo
{

552 
u8_t
 
	mbønch
;

553 
u16_t
 
	mÀaf
;

554 
u8_t
 
	mwidth
;

555 
u8_t
 
	mhg_mac
[6];

556 
u8_t
 
	mhg_ªp‹t_°©e
;

557 }
__©åibuã__
((
∑cked
));

558 
ﬂm_zã_hg_ac˚ss_öfo
 
	tﬂm_zã_hg_ac˚ss_öfo_t
;

561 
	sﬂm_zã_üd_öfo
{

562 
u8_t
 
	mbønch
;

563 
u16_t
 
	mÀaf
;

564 
u8_t
 
	mwidth
;

565 
u8_t
 
	mmac_addr
[6];

566 
u8_t
 
	m¥Ÿocﬁ_suµ‹ãd
;

567 
u8_t
 
	mso·w¨e_vî
[32];

568 
u8_t
 
	mso·w¨e_time
[32];

569 
u8_t
 
	mvoù_u£r_cou¡
;

570 }
__©åibuã__
((
∑cked
));

571 
ﬂm_zã_üd_öfo
 
	tﬂm_zã_üd_öfo_t
;

574 
	sﬂm_zã_voù_öfo
{

575 
u8_t
 
	mbønch
;

576 
u16_t
 
	mÀaf
;

577 
u8_t
 
	mwidth
;

578 
u32_t
 
	m¥Ÿocﬁ_cfg
;

582 }
__©åibuã__
((
∑cked
));

583 
ﬂm_zã_voù_öfo
 
	tﬂm_zã_voù_öfo_t
;

586 
	sﬂm_zã_gbl_∑ø
{

587 
u8_t
 
	mbønch
;

588 
u16_t
 
	mÀaf
;

589 
u8_t
 
	mwidth
;

590 
u8_t
 
	mvoi˚_ù_ªÀ©i⁄
;

591 
u8_t
 
	mvoi˚_ù_mode
;

592 
u32_t
 
	müd_ù_addªss
;

593 
u32_t
 
	müd_√t_mask
;

594 
u32_t
 
	müd_deÁu…_gw
;

595 
u32_t
 
	m¥im¨y_dns
;

596 
u8_t
 
	mµp€_mode
;

597 
u8_t
 
	mµp€_u£∫ame
[32];

598 
u8_t
 
	mµp€_∑ssw‹d
[32];

599 
u8_t
 
	mègged_Êag
;

600 
u16_t
 
	mvoi˚_d©a_cvœn
;

601 
u8_t
 
	mvoi˚_d©a_¥i
;

602 
u16_t
 
	mvoi˚_d©a_svœn
;

603 }
__©åibuã__
((
∑cked
));

604 
ﬂm_zã_gbl_∑ø
 
	tﬂm_zã_gbl_∑ø_t
;

607 
	sﬂm_zã_h248_∑ø
{

608 
u8_t
 
	mbønch
;

609 
u16_t
 
	mÀaf
;

610 
u8_t
 
	mwidth
;

611 
u32_t
 
	mªg_£rv_ù
;

612 
u16_t
 
	mªg_£rv_p‹t_no
;

613 
u32_t
 
	mbak_ªg_£rv_ù
;

614 
u16_t
 
	mbak_ªg_£rv_p‹t_no
;

615 
u8_t
 
	mπp_lök_kït_Êag
;

616 
u8_t
 
	mã°_lök_kït_mode
;

617 
u16_t
 
	mhóπbót_cy˛e
;

618 
u8_t
 
	mhóπbót_cou¡
;

619 
u8_t
 
	mh248_ªg_mode
;

620 
u8_t
 
	mmid
[64];

621 
u16_t
 
	mmgp_p‹t_no
;

622 }
__©åibuã__
((
∑cked
));

623 
ﬂm_zã_h248_∑ø
 
	tﬂm_zã_h248_∑ø_t
;

626 
	sﬂm_zã_h248_u£r_tid_cfg
{

627 
u8_t
 
	mbønch
;

628 
u16_t
 
	mÀaf
;

629 
u8_t
 
	mwidth
;

630 
u8_t
 
	mnum_of_u£r_tid_group
;

631 }
__©åibuã__
((
∑cked
));

632 
ﬂm_zã_h248_u£r_tid_cfg
 
	tﬂm_zã_h248_u£r_tid_cfg_t
;

634 
	sﬂm_zã_h248_u£r_tid_gΩ
{

635 
u8_t
 
	mfú°_tid_ödex
;

636 
u8_t
 
	mnum_of_tid
;

637 
u8_t
 
	mtid_¥efix
[16];

638 
u8_t
 
	mtid_digô_begö
[8];

639 
u8_t
 
	mtid_mode
;

640 
u8_t
 
	mtid_digô_Àn
;

641 }
__©åibuã__
((
∑cked
));

642 
ﬂm_zã_h248_u£r_tid_gΩ
 
	tﬂm_zã_h248_u£r_tid_gΩ_t
;

645 
	sﬂm_zã_h248_u£r_tid_«me
{

646 
u8_t
 
	mbønch
;

647 
u16_t
 
	mÀaf
;

648 
u8_t
 
	mwidth
;

649 
u8_t
 
	mu£r_tid_«me
[32];

650 }
__©åibuã__
((
∑cked
));

651 
ﬂm_zã_h248_u£r_tid_«me
 
	tﬂm_zã_h248_u£r_tid_«me_t
;

654 
	sﬂm_zã_h248_πp_tid_cfg
{

655 
u8_t
 
	mbønch
;

656 
u16_t
 
	mÀaf
;

657 
u8_t
 
	mwidth
;

658 
u8_t
 
	mπp_tid_¥efix
[16];

659 
u8_t
 
	mπp_tid_digô_begö
[8];

660 
u8_t
 
	mπp_tid_mode
;

661 
u8_t
 
	mπp_tid_digô_Àn
;

662 }
__©åibuã__
((
∑cked
));

663 
ﬂm_zã_h248_πp_tid_cfg
 
	tﬂm_zã_h248_πp_tid_cfg_t
;

666 
	sﬂm_zã_h248_πp_tid_öfo
{

667 
u8_t
 
	mbønch
;

668 
u16_t
 
	mÀaf
;

669 
u8_t
 
	mwidth
;

670 
u8_t
 
	mnum_of_πp_tid
;

671 
u8_t
 
	mfú°_πp_tid_«me
[32];

672 }
__©åibuã__
((
∑cked
));

673 
ﬂm_zã_h248_πp_tid_öfo
 
	tﬂm_zã_h248_πp_tid_öfo_t
;

676 
	sﬂm_zã_sù_∑ø
{

677 
u8_t
 
	mbønch
;

678 
u16_t
 
	mÀaf
;

679 
u8_t
 
	mwidth
;

680 
u16_t
 
	mmg_p‹t_no
;

681 
u32_t
 
	mªg_£rv_ù
;

682 
u16_t
 
	mªg_£rv_p‹t_no
;

683 
u32_t
 
	mback_ªg_£rv_ù
;

684 
u16_t
 
	mback_ªg_£rv_p‹t_no
;

685 
u32_t
 
	m¥oxy_£rv_ù
;

686 
u16_t
 
	m¥oxy_£rv_p‹t_no
;

687 
u32_t
 
	mbak_¥oxy_£rv_ù
;

688 
u16_t
 
	mbak_¥oxy_£rv_p‹t_no
;

689 
u32_t
 
	mout_bound_£rv_ù
;

690 
u16_t
 
	mout_bound_£rv_p‹t_no
;

691 
u32_t
 
	mªg_öãrvÆ
;

692 
u8_t
 
	mhóπ_bót_swôch
;

693 
u16_t
 
	mhóπ_bót_cy˛e
;

694 
u16_t
 
	mhóπ_bót_cou¡
;

695 }
__©åibuã__
((
∑cked
));

696 
ﬂm_zã_sù_∑ø
 
	tﬂm_zã_sù_∑ø_t
;

699 
	sﬂm_zã_sù_u£r_∑ø
{

700 
u8_t
 
	mbønch
;

701 
u16_t
 
	mÀaf
;

702 
u8_t
 
	mwidth
;

703 
u8_t
 
	mu£r_accou¡
[10];

704 
u8_t
 
	mu£r_«me
[32];

705 
u8_t
 
	mu£r_∑sswd
[16];

706 }
__©åibuã__
((
∑cked
));

707 
ﬂm_zã_sù_u£r_∑ø
 
	tﬂm_zã_sù_u£r_∑ø_t
;

711 
	sﬂm_zã_Áx_cfg
{

712 
u8_t
 
	mbønch
;

713 
u16_t
 
	mÀaf
;

714 
u8_t
 
	mwidth
;

715 
u32_t
 
	mvoi˚_t38_íabÀ
;

716 
u32_t
 
	mvoi˚_Áx_c⁄åﬁ
;

720 }
__©åibuã__
((
∑cked
));

721 
ﬂm_zã_Áx_cfg
 
	tﬂm_zã_Áx_cfg_t
;

724 
	sﬂm_zã_üd_›î_°©
{

725 
u8_t
 
	mbønch
;

726 
u16_t
 
	mÀaf
;

727 
u8_t
 
	mwidth
;

728 
u32_t
 
	müd_›î_°©us
;

734 }
__©åibuã__
((
∑cked
));

735 
ﬂm_zã_üd_›î_°©
 
	tﬂm_zã_üd_›î_°©_t
;

739 
	sﬂm_zã_u£r_pŸs_if_°©
{

740 
u8_t
 
	mbønch
;

741 
u16_t
 
	mÀaf
;

742 
u8_t
 
	mwidth
;

743 
u32_t
 
	müd_p‹t_°©us
;

756 
u32_t
 
	müd_p‹t_£rvi˚_ty≥
;

761 
u32_t
 
	müd_p‹t_£rvi˚_°©
;

766 
u32_t
 
	müd_p‹t_codec_mode
;

775 }
__©åibuã__
((
∑cked
));

776 
ﬂm_zã_u£r_pŸs_if_°©
 
	tﬂm_zã_u£r_pŸs_if_°©_t
;

779 
	sﬂm_zã_üd_ª£t
{

780 
u8_t
 
	mbønch
;

781 
u16_t
 
	mÀaf
;

782 
u8_t
 
	mwidth
;

783 
u32_t
 
	müd_ªg_‹_uƒeg
;

788 }
__©åibuã__
((
∑cked
));

789 
ﬂm_zã_üd_ª£t
 
	tﬂm_zã_üd_ª£t_t
;

792 
	sﬂm_zã_sù_p‹t_ª£t
{

793 
u8_t
 
	mbønch
;

794 
u16_t
 
	mÀaf
;

795 
u8_t
 
	mwidth
;

796 
u32_t
 
	msù_p‹t_ªg_‹_uƒeg
;

800 }
__©åibuã__
((
∑cked
));

801 
ﬂm_zã_sù_p‹t_ª£t
 
	tﬂm_zã_sù_p‹t_ª£t_t
;

804 
	sﬂm_zã_⁄u_ˇrd_öfo
{

805 
u8_t
 
	mbønch
;

806 
u16_t
 
	mÀaf
;

807 
u8_t
 
	mwidth
;

808 
u8_t
 
	mtŸÆ_voù_moduÀ_ö°ÆÀd
;

809 }
__©åibuã__
((
∑cked
));

810 
ﬂm_zã_⁄u_ˇrd_öfo
 
	tﬂm_zã_⁄u_ˇrd_öfo_t
;

812 
	sﬂm_zã_⁄u_ˇrd_íåy
{

813 
u8_t
 
	m¶Ÿ_num
;

814 
u8_t
 
	mu£r_cou¡
;

815 }
__©åibuã__
((
∑cked
));

816 
ﬂm_zã_⁄u_ˇrd_íåy
 
	tﬂm_zã_⁄u_ˇrd_íåy_t
;

819 
	sﬂm_zã_⁄u_Ÿhî_c⁄fig
{

820 
u8_t
 
	mbønch
;

821 
u16_t
 
	mÀaf
;

822 
u8_t
 
	mwidth
;

823 
u8_t
 
	mnoi˚_gíî©i⁄_ncg
;

824 
u8_t
 
	mvoi˚_dëe˘i⁄_vad
;

825 
u8_t
 
	mecho_ˇn˚Œ©i⁄
;

826 
u16_t
 
	m£ndög_dtmf
;

827 }
__©åibuã__
((
∑cked
));

828 
ﬂm_zã_⁄u_Ÿhî_c⁄fig
 
	tﬂm_zã_⁄u_Ÿhî_c⁄fig_t
;

831 
	sﬂm_zã_⁄u_l3_tos
{

832 
u8_t
 
	mbønch
;

833 
u16_t
 
	mÀaf
;

834 
u8_t
 
	mwidth
;

835 
u8_t
 
	ml3_tos_mode
;

836 
u8_t
 
	msigÆ_tos_ds˝_œbñlög
;

837 
u8_t
 
	mvoi˚_tos_ds˝_œbñlög
;

838 }
__©åibuã__
((
∑cked
));

839 
ﬂm_zã_⁄u_l3_tos
 
	tﬂm_zã_⁄u_l3_tos_t
;

842 
	sﬂm_zã_⁄u_ˇŒî_id
{

843 
u8_t
 
	mbønch
;

844 
u16_t
 
	mÀaf
;

845 
u8_t
 
	mwidth
;

846 
u8_t
 
	m¥e£¡ög_ˇŒî_íabÀ
;

847 
u8_t
 
	mcid_ty≥
;

848 }
__©åibuã__
((
∑cked
));

849 
ﬂm_zã_⁄u_ˇŒî_id
 
	tﬂm_zã_⁄u_ˇŒî_id_t
;

852 
	sﬂm_zã_⁄u_sù_sdp
{

853 
u8_t
 
	mbønch
;

854 
u16_t
 
	mÀaf
;

855 
u8_t
 
	mwidth
;

856 
u8_t
 
	msdp_codecs_¥e˚dí˚
[20];

857 }
__©åibuã__
((
∑cked
));

858 
ﬂm_zã_⁄u_sù_sdp
 
	tﬂm_zã_⁄u_sù_sdp_t
;

862 
	sﬂm_zã_⁄u_sùdigôÆm≠
{

863 
u8_t
 
	mbønch
;

864 
u16_t
 
	mÀaf
;

865 
u8_t
 
	mwidth
;

866 
u8_t
 
	mnum_sùdigôÆm≠
;

867 }
__©åibuã__
((
∑cked
));

868 
ﬂm_zã_⁄u_sùdigôÆm≠
 
	tﬂm_zã_⁄u_sùdigôÆm≠_t
;

870 
	sﬂm_zã_⁄u_sùdigôÆm≠_block
{

871 
u8_t
 
	mblock_no
;

872 
u8_t
 
	msùdigôÆm≠_block
[125];

873 }
__©åibuã__
((
∑cked
));

874 
ﬂm_zã_⁄u_sùdigôÆm≠_block
 
	tﬂm_zã_⁄u_sùdigôÆm≠_block_t
;

878 
	sﬂm_zã_⁄u_timî_c⁄fig
{

879 
u8_t
 
	mbønch
;

880 
u16_t
 
	mÀaf
;

881 
u8_t
 
	mwidth
;

882 
u8_t
 
	mdml
;

883 
u8_t
 
	mdms
;

884 }
__©åibuã__
((
∑cked
));

885 
ﬂm_zã_⁄u_timî_c⁄fig
 
	tﬂm_zã_⁄u_timî_c⁄fig_t
;

888 
	sﬂm_zã_sù_u£r_∑ø_1
{

889 
u8_t
 
	mbønch
;

890 
u16_t
 
	mÀaf
;

891 
u8_t
 
	mwidth
;

892 
u8_t
 
	mu£r_accou¡
[16];

893 
u8_t
 
	mu£r_«me
[32];

894 
u8_t
 
	mu£r_∑sswd
[16];

895 }
__©åibuã__
((
∑cked
));

896 
ﬂm_zã_sù_u£r_∑ø_1
 
	tﬂm_zã_sù_u£r_∑ø_1_t
;

898 
	sﬂm_zã_⁄u_ˇ∑bûôes2
{

899 
u8_t
 
	mbønch
;

900 
u16_t
 
	mÀaf
;

901 
u8_t
 
	mwidth
;

902 
u32_t
 
	m⁄u_ty≥
;

903 
u8_t
 
	mmu…iLlid
;

904 
u8_t
 
	m¥Ÿe˘i⁄_ty≥
;

905 
u8_t
 
	mnumbî_of_PONIf
;

906 
u8_t
 
	mnumbî_of_¶Ÿ
;

907 
u8_t
 
	mnumbî_of_öãrÁ˚_ty≥
;

908 
u32_t
 
	m„_öãrÁ˚_ty≥
;

909 
u16_t
 
	mnumbî_of_„_p‹t
;

910 
u32_t
 
	mvoù_öãrÁ˚_ty≥
;

911 
u16_t
 
	mnumbî_of_voù_p‹t
;

912 
u8_t
 
	mb©ãry_backup
;

913 }
__©åibuã__
((
∑cked
));

914 
ﬂm_zã_⁄u_ˇ∑bûôes2
 
	tﬂm_zã_⁄u_ˇ∑bûôes2_t
;

917 
	sﬂm_zã_mgmt_dh˝
{

918 
u8_t
 
	mbønch
;

919 
u16_t
 
	mÀaf
;

920 
u8_t
 
	mwidth
;

921 
u16_t
 
	mvœnid
;

922 
u8_t
 
	m¥i
;

923 
u8_t
 
	ma˘i⁄
;

924 }
__©åibuã__
((
∑cked
));

925 
ﬂm_zã_mgmt_dh˝
 
	tﬂm_zã_mgmt_dh˝_t
;

927 
CTC_gëVœnMode
(
UINT32
 
Õ‹t
, 
UINT8
* 
pVœnMode
);

929 
wrôe_mac_uˇ°_dump
();

930 
zã_ﬂm_öô
();

931 
e›l_zã_˘c_gë_ªq
(
u16_t
 
Àaf
, 
u8_t
** 
µ_byã
, u8_t* 
pRïlybuf
, u16_t* 
pGíÀn
);

932 
e›l_zã_˘c_£t_ªq
(
˘c_v¨In°™t_t
 *
pV¨In°™t
, 
˘c_v¨Des¸ùt‹_t
 
°V¨Desc
, 
u8_t
** 
µ_byã
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
);

	@multicast/h/errors.h

29 #i‚de‡
__ERRORS_H_


30 
	#__ERRORS_H_


	)

34 
	#ERROR_CODE_BASE
 500

	)

35 
	#ERR_START
 (
ERROR_CODE_BASE
 + 1Ë

	)

36 
	#ERR_INVALID_PARAMETERS
 (
ERROR_CODE_BASE
 + 2Ë

	)

37 
	#ERR_NULL_POINTER
 (
ERROR_CODE_BASE
 + 3Ë

	)

38 
	#ERR_MEM_ALLOC_FAIL
 (
ERROR_CODE_BASE
 + 4Ë

	)

39 
	#ERR_MEM_FREE_FAIL
 (
ERROR_CODE_BASE
 + 5Ë

	)

41 
	#ERR_SEM_CREATE_FAIL
 (
ERROR_CODE_BASE
 + 6Ë

	)

42 
	#ERR_SEM_DELETE_FAIL
 (
ERROR_CODE_BASE
 + 7Ë

	)

43 
	#ERR_SEM_TAKE_FAIL
 (
ERROR_CODE_BASE
 + 8Ë

	)

44 
	#ERR_SEM_GIVE_FAIL
 (
ERROR_CODE_BASE
 + 9Ë

	)

46 
	#ERR_TIMER_CREATE_FAIL
 (
ERROR_CODE_BASE
 + 10Ë

	)

47 
	#ERR_TIMER_DELETE_FAIL
 (
ERROR_CODE_BASE
 + 11Ë

	)

48 
	#ERR_TIMER_START_FAIL
 (
ERROR_CODE_BASE
 + 12Ë

	)

49 
	#ERR_TIMER_CANCEL_FAIL
 (
ERROR_CODE_BASE
 + 13Ë

	)

51 
	#ERR_TASK_CREATE_FAIL
 (
ERROR_CODE_BASE
 + 14Ë

	)

52 
	#ERR_TASK_DELETE_FAIL
 (
ERROR_CODE_BASE
 + 15Ë

	)

54 
	#ERR_MSGQ_CREATE_FAIL
 (
ERROR_CODE_BASE
 + 16Ë

	)

55 
	#ERR_MSGQ_DELETE_FAIL
 (
ERROR_CODE_BASE
 + 17Ë

	)

56 
	#ERR_MSGQ_SEND_FAIL
 (
ERROR_CODE_BASE
 + 18Ë

	)

57 
	#ERR_MSGQ_RECV_FAIL
 (
ERROR_CODE_BASE
 + 19Ë

	)

59 
	#ERR_INVALID_MAC
 (
ERROR_CODE_BASE
 + 20Ë

	)

60 
	#ERR_INVALID_UNI_MAC
 (
ERROR_CODE_BASE
 + 21Ë

	)

61 
	#ERR_INVALID_MC_MAC
 (
ERROR_CODE_BASE
 + 22Ë

	)

62 
	#ERR_INVALID_BC_MAC
 (
ERROR_CODE_BASE
 + 23Ë

	)

64 
	#ERR_INVALID_PORT
 (
ERROR_CODE_BASE
 + 24Ë

	)

66 
	#ERR_CALL_DAL_FAIL
 (
ERROR_CODE_BASE
 + 25Ë

	)

68 
	#ERR_CONFIG_SET_FAIL
 (
ERROR_CODE_BASE
 + 26Ë

	)

69 
	#ERR_CONFIG_GET_FAIL
 (
ERROR_CODE_BASE
 + 27Ë

	)

71 
	#ERR_DUPLICATE_ITEM
 (
ERROR_CODE_BASE
 + 28Ë

	)

72 
	#ERR_OUT_OF_RANGE
 (
ERROR_CODE_BASE
 + 29Ë

	)

73 
	#ERR_EXCEED_MAXIMUM
 (
ERROR_CODE_BASE
 + 30Ë

	)

74 
	#ERR_DATABASE_FAILED
 (
ERROR_CODE_BASE
 + 31Ë

	)

76 
	#ERR_INVALID_IP_ADDR
 (
ERROR_CODE_BASE
 + 32Ë

	)

77 
	#ERR_INVALID_IP_MASK
 (
ERROR_CODE_BASE
 + 33Ë

	)

79 
	#ERR_INVALID_DATE
 (
ERROR_CODE_BASE
 + 34Ë

	)

80 
	#ERR_INVALID_TIME
 (
ERROR_CODE_BASE
 + 35Ë

	)

82 
	#ERR_NULL_LOID
 (
ERROR_CODE_BASE
 + 36Ë

	)

83 
	#ERR_NULL_PASSWORD
 (
ERROR_CODE_BASE
 + 37Ë

	)

85 
	#ERR_VARNORESOURCE
 0x87

	)

89 
	#DVRS_BASE
 1000

	)

90 
	#DVRS_INIT_ERROR
 (
DVRS_BASE
 + 1)

	)

94 
	#MULTICAST_BASE
 3000

	)

95 
	#MULTICAST_INIT_ERROR
 (
MULTICAST_BASE
 + 0)

	)

96 
	#MULTICAST_CONFIGURATION_ERROR
 (
MULTICAST_BASE
 + 10)

	)

97 
	#MULTICAST_IGMP_PACKET_ERROR
 (
MULTICAST_BASE
 + 20)

	)

98 
	#MULTICAST_IGMP_PACKET_CHECKSUM_ERROR
 (
MULTICAST_BASE
 + 21)

	)

99 
	#MULTICAST_IGMP_VERSION_UNSUPPORTED
 (
MULTICAST_BASE
 + 22)

	)

100 
	#MULTICAST_IGMP_JOIN_ACTION_ERROR
 (
MULTICAST_BASE
 + 30)

	)

101 
	#MULTICAST_IGMP_ADD_ERROR
 (
MULTICAST_BASE
 + 31)

	)

102 
	#MULTICAST_IGMP_QUERY_ACTION_VLAN_ERROR
 (
MULTICAST_BASE
 + 40)

	)

103 
	#MULTICAST_IGMP_QUERY_ACTION_MULTICAST_NOT_EXIST
 (
MULTICAST_BASE
 + 41)

	)

104 
	#MULTICAST_IGMP_QUERY_ACTION_PACKET_ERROR
 (
MULTICAST_BASE
 + 42)

	)

105 
	#MULTICAST_IGMP_LEAVE_ACTION_ERROR
 (
MULTICAST_BASE
 + 50)

	)

106 
	#MULTICAST_IGMP_LEAVE_ACTION_DESTIP_ERROR
 (
MULTICAST_BASE
 + 51)

	)

107 
	#MULTICAST_IGMP_LEAVE_ACTION_GROUP_NOT_EXIST_ERROR
 (
MULTICAST_BASE
 + 52)

	)

108 
	#MULTICAST_IGMP_LEAVE_ACTION_PORT_NOT_EXIST_ERROR
 (
MULTICAST_BASE
 + 53)

	)

110 
	#IGMP_CONFIG_MULTICAST_VLAN_NODE_EXIST
 (
MULTICAST_BASE
 + 54)

	)

111 
	#IGMP_CONFIG_MULTICAST_VLAN_NODE_NOT_EXIST
 (
MULTICAST_BASE
 + 55)

	)

112 
	#IGMP_CONFIG_PORT_TAGSTRIP_EXIST
 (
MULTICAST_BASE
 + 56)

	)

114 
	#MULTICAST_IGMP_MULTICAST_VLAN_ERROR
 (
MULTICAST_BASE
 + 57)

	)

115 
	#MULTICAST_IGMP_JOIN_GROUP_ADDRESS_ERROR
 (
MULTICAST_BASE
 + 58)

	)

117 
	#MULTICAST_IGMP_LEAVE_ACTION_DESTMAC_ERROR
 (
MULTICAST_BASE
 + 59)

	)

118 
	#MULTICAST_IGMP_LEAVE_GROUP_ADDRESS_ERROR
 (
MULTICAST_BASE
 + 60)

	)

119 
	#MULTICAST_IGMP_PARA_ERROR
 (
MULTICAST_BASE
 + 61)

	)

120 
	#MULTICAST_IGMP_MULTICAST_MAC_ERROR
 (
MULTICAST_BASE
 + 62)

	)

121 
	#MULTICAST_IGMP_JOIN_MAX_GROUP_NUMBER_ERROR
 (
MULTICAST_BASE
 + 63)

	)

126 
	#PORTS_BASE
 6000

	)

127 
	#PORTS_INIT_ERROR
 (
PORTS_BASE
 + 0)

	)

128 
	#PORTS_IWF_PARAMETER_OUTOF_RANGE
 (
PORTS_BASE
 + 1)

	)

129 
	#PORTS_IWF_UPPT_LATENCY_TYPE_ERROR
 (
PORTS_BASE
 + 2)

	)

130 
	#PORTS_IWF_PORT_PHY_MISMATCH
 (
PORTS_BASE
 + 3)

	)

131 
	#PORTS_IWF_PARAMETER_INVALID
 (
PORTS_BASE
 + 4)

	)

135 
	#PORT_MIRROR_BASE
 7000

	)

136 
	#PORT_MIRROR_INVALID_POINTER
 (
PORT_MIRROR_BASE
 + 0)

	)

137 
	#PORT_MIRROR_EXIST_CHECK_ERROR
 (
PORT_MIRROR_BASE
 + 1)

	)

141 
	#QOS_BASE
 9000

	)

142 
	#QOS_INIT_ERROR
 (
QOS_BASE
 + 0)

	)

143 
	#QOS_GENERAL_ERROR
 
QOS_INIT_ERROR


	)

144 
	#QOS_INVALID_POINTER
 (
QOS_GENERAL_ERROR
 + 1)

	)

145 
	#QOS_INVALID_TYPE
 (
QOS_GENERAL_ERROR
 + 2)

	)

147 
	#QOS_CLS_EXIST_CHECK_ERROR
 (
QOS_GENERAL_ERROR
 + 10)

	)

148 
	#QOS_CLS_INSTALL_CHECK_ERROR
 (
QOS_GENERAL_ERROR
 + 11)

	)

149 
	#QOS_CLS_NOANY_MATCH
 (
QOS_GENERAL_ERROR
 + 12)

	)

150 
	#QOS_CLS_ACTION_ERROR
 (
QOS_GENERAL_ERROR
 + 13)

	)

154 
	#SECURITY_BASE
 10000

	)

158 
	#SNMP_BASE
 13000

	)

159 
	#SNMP_INIT_ERROR
 (
SNMP_BASE
 + 0)

	)

163 
	#SYS_BASE
 17000

	)

164 
	#SYS_INIT_ERROR
 (
SYS_BASE
 + 0)

	)

165 
	#SYS_TELNETD_ALREADY_INITIALIZED
 (
SYS_BASE
 + 1)

	)

166 
	#SYS_TELNETD_CREATE_SOCKET_FAILED
 (
SYS_BASE
 + 2)

	)

167 
	#SYS_TELNETD_CREATE_FAILED
 (
SYS_BASE
 + 3)

	)

168 
	#SYS_TELNETD_NOT_INITIALIZED
 (
SYS_BASE
 + 4)

	)

169 
	#SYS_LOG_THREAD_ALREADY_INITIALIZED
 (
SYS_BASE
 + 5)

	)

170 
	#SYS_LOG_THREAD_CREATE_FAILED
 (
SYS_BASE
 + 6)

	)

171 
	#SYS_LOG_THREAD_NOT_INITIALIZED
 (
SYS_BASE
 + 7)

	)

172 
	#SYS_USER_INVALID
 (
SYS_BASE
 + 8)

	)

173 
	#SYS_USER_STATE_INVALID
 (
SYS_BASE
 + 9)

	)

174 
	#SYS_USER_PASSWD_INVALID
 (
SYS_BASE
 + 10)

	)

175 
	#SYS_USER_PASSWD_DONT_MATCH
 (
SYS_BASE
 + 11)

	)

176 
	#SYS_SESSION_INVALID_ID
 (
SYS_BASE
 + 12)

	)

177 
	#SYS_SESSION_CAN_NOT_KILL_YOURSELF
 (
SYS_BASE
 + 13)

	)

178 
	#SYS_LOG_OUT_OF_MEMORY
 (
SYS_BASE
 + 14)

	)

179 
	#SYS_LOG_SERVER_ALREADY_EXIST
 (
SYS_BASE
 + 15)

	)

180 
	#SYS_LOG_SERVER_NOT_EXIST
 (
SYS_BASE
 + 16)

	)

181 
	#SYS_LOG_SERVER_CFG_ERROR
 (
SYS_BASE
 + 17)

	)

185 
	#WEB_BASE
 23000

	)

186 
	#WEB_INIT_ERROR
 (
WEB_BASE
 + 0)

	)

187 
	#WEB_ALREADY_INITIALIZED
 (
WEB_BASE
 + 1)

	)

188 
	#WEB_HAS_NOT_INITIALIZED
 (
WEB_BASE
 + 1)

	)

189 
	#WEB_STOP_FAILED
 (
WEB_BASE
 + 1)

	)

192 
	#VLAN_BASE
 26000

	)

193 
	#VLAN_INIT_ERROR
 (
VLAN_BASE
 + 0)

	)

194 
	#VLAN_GERNEL_ERROR
 (
VLAN_INIT_ERROR
)

	)

195 
	#VLAN_NAME_ID_MAPERROR
 (
VLAN_GERNEL_ERROR
 + 1)

	)

196 
	#VLAN_ID_EXIST_ERR
 (
VLAN_GERNEL_ERROR
 + 2)

	)

197 
	#VLAN_NAME_EXIST_ERR
 (
VLAN_GERNEL_ERROR
 + 3)

	)

198 
	#VLAN_PORT_IS_MEMBER
 (
VLAN_GERNEL_ERROR
 + 4)

	)

199 
	#VOICEVLAN_PORT_EXCEED
 (
VLAN_GERNEL_ERROR
 +5)

	)

203 
	#PORT_BASE
 29000

	)

204 
	#PORT_INIT_ERROR
 (
PORT_BASE
 + 0)

	)

205 
	#PORT_INVALID
 (
PORT_BASE
 + 1)

	)

208 
	#VTT_BASE
 32000

	)

209 
	#VTT_INIT_EROR
 (
VTT_BASE
 + 0)

	)

210 
	#VTT_GERNEL_ERROR
 (
VTT_BASE
 + 1)

	)

211 
	#VTT_ENTRY_ISEXISTED
 (
VTT_BASE
 + 2)

	)

212 
	#VTT_ENTRY_CONFLICT
 (
VTT_BASE
 + 3)

	)

213 
	#VTT_VLAN_NOT_AT_TRANSLATION_MODE
 (
VTT_BASE
 + 4)

	)

214 
	#VTT_ENTRY_FULL
 (
VTT_BASE
 + 5)

	)

215 
	#VTT_NO_SUCH_ENTRY
 (
VTT_BASE
 + 6)

	)

216 
	#VTT_INDEX_OUT_OF_RANGE
 (
VTT_BASE
 + 7)

	)

218 
	#VLAN_TRUNK_BASE
 33000

	)

219 
	#PORT_NOT_AT_VLAN_TRUNK_MODE
 (
VLAN_TRUNK_BASE
 + 0)

	)

220 
	#PORT_NO_VLAN_TRUNK_RESOURCE
 (
VLAN_TRUNK_BASE
 + 1)

	)

221 
	#PORT_VLAN_TRUNK_ENTRY_NOT_EXIST
 (
VLAN_TRUNK_BASE
 + 2)

	)

227 
	#FDB_BASE
 35000

	)

228 
	#FDB_MAC_AGINGTIME_SET_ERROR
 (
FDB_BASE
 + 1)

	)

229 
	#FDB_MAC_AGINGTIME_GET_ERROR
 (
FDB_BASE
 + 2)

	)

230 
	#FDB_MAC_ADD_ERROR
 (
FDB_BASE
 + 3)

	)

231 
	#FDB_MAC_DEL_ERROR
 (
FDB_BASE
 + 4)

	)

232 
	#FDB_MAC_PORT_ADD_ERROR
 (
FDB_BASE
 + 5)

	)

233 
	#FDB_MAC_PORT_DEL_ERROR
 (
FDB_BASE
 + 6)

	)

234 
	#FDB_MAC_DEL_ALL_ERROR
 (
FDB_BASE
 + 7)

	)

235 
	#FDB_MAC_DISCARD_ERROR
 (
FDB_BASE
 + 8)

	)

236 
	#FDB_MAC_DISCARD_CLEAR_ERROR
 (
FDB_BASE
 + 9)

	)

237 
	#FDB_MAC_SHOW_ONE_ERROR
 (
FDB_BASE
 + 10)

	)

238 
	#FDB_MAC_SHOW_ALL_ERROR
 (
FDB_BASE
 + 11)

	)

239 
	#FDB_MAC_MAC_LEARN_SET_ERROR
 (
FDB_BASE
 + 12)

	)

240 
	#FDB_MAC_MAC_AGING_SET_ERROR
 (
FDB_BASE
 + 13)

	)

241 
	#FDB_MAC_SOFT_LEARN_SET_ERROR
 (
FDB_BASE
 + 14)

	)

242 
	#FDB_MAC_SOFT_LEARN_GET_ERROR
 (
FDB_BASE
 + 15)

	)

243 
	#FDB_MAC_MOVE_ERROR
 (
FDB_BASE
 + 16)

	)

245 
	#FDB_MAC_CFG_FILE_SECTION_READ_ERROR
 (
FDB_BASE
 + 100)

	)

246 
	#FDB_MAC_CFG_FILE_KEY_READ_ERROR
 (
FDB_BASE
 + 101)

	)

247 
	#FDB_MAC_CFG_FILE_AGINGTIME_SET_ERROR
 (
FDB_BASE
 + 102)

	)

248 
	#FDB_MAC_CFG_FILE_MAC_DISCARD_ADD_ERROR
 (
FDB_BASE
 + 103)

	)

249 
	#FDB_MAC_CFG_FILE_MAC_DISCARD_DEL_ERROR
 (
FDB_BASE
 + 104)

	)

250 
	#FDB_MAC_CFG_FILE_MAC_ADD_ERROR
 (
FDB_BASE
 + 105)

	)

251 
	#FDB_MAC_CFG_FILE_MAC_DEL_ERROR
 (
FDB_BASE
 + 106)

	)

252 
	#FDB_MAC_CFG_FILE_MAC_PORT_ADD_ERROR
 (
FDB_BASE
 + 107)

	)

253 
	#FDB_MAC_CFG_FILE_MAC_PORT_DEL_ERROR
 (
FDB_BASE
 + 108)

	)

259 
	#RSTP_BASE
 38000

	)

260 
	#RSTP_BRD_ENABLE_ERROR
 (
RSTP_BASE
 + 1)

	)

261 
	#RSTP_BRD_DISABLE_ERROR
 (
RSTP_BASE
 + 2)

	)

262 
	#RSTP_BRD_HELLOTIME_SET_ERROR
 (
RSTP_BASE
 + 3)

	)

263 
	#RSTP_BRD_FWDDELAY_SET_ERROR
 (
RSTP_BASE
 + 4)

	)

264 
	#RSTP_BRD_MAXAGE_SET_ERROR
 (
RSTP_BASE
 + 5)

	)

265 
	#RSTP_BRD_VERSION_SET_ERROR
 (
RSTP_BASE
 + 6)

	)

266 
	#RSTP_BRD_PRI_SET_ERROR
 (
RSTP_BASE
 + 7)

	)

267 
	#RSTP_PORT_MODE_SET_ERROR
 (
RSTP_BASE
 + 8)

	)

268 
	#RSTP_PORT_EDGE_SET_ERROR
 (
RSTP_BASE
 + 9)

	)

269 
	#RSTP_PORT_P2P_SET_ERROR
 (
RSTP_BASE
 + 10)

	)

270 
	#RSTP_PORT_PATH_COST_SET_ERROR
 (
RSTP_BASE
 + 11)

	)

271 
	#RSTP_PORT_PRI_SET_ERROR
 (
RSTP_BASE
 + 12)

	)

272 
	#RSTP_PORT_STAT_GET_ERROR
 (
RSTP_BASE
 + 13)

	)

273 
	#RSTP_BRD_NOT_ENABLE_WARNING
 (
RSTP_BASE
 + 14)

	)

274 
	#RSTP_BRD_CFG_RECOVER_ERROR
 (
RSTP_BASE
 + 15)

	)

275 
	#RSTP_PORT_CFG_RECOVER_ERROR
 (
RSTP_BASE
 + 16)

	)

277 
	#RSTP_CFG_FILE_SECTION_READ_ERROR
 (
RSTP_BASE
 + 100)

	)

278 
	#RSTP_CFG_FILE_KEY_READ_ERROR
 (
RSTP_BASE
 + 101)

	)

279 
	#RSTP_CFG_FILE_BRD_MODE_SET_ERROR
 (
RSTP_BASE
 + 102)

	)

280 
	#RSTP_CFG_FILE_BRD_HELLOTIME_SET_ERROR
 (
RSTP_BASE
 + 103)

	)

281 
	#RSTP_CFG_FILE_BRD_FWDDELAY_SET_ERROR
 (
RSTP_BASE
 + 104)

	)

282 
	#RSTP_CFG_FILE_BRD_MAXAGE_SET_ERROR
 (
RSTP_BASE
 + 105)

	)

283 
	#RSTP_CFG_FILE_BRD_VERSION_SET_ERROR
 (
RSTP_BASE
 + 106)

	)

284 
	#RSTP_CFG_FILE_BRD_PRI_SET_ERROR
 (
RSTP_BASE
 + 107)

	)

285 
	#RSTP_CFG_FILE_PORT_MODE_SET_ERROR
 (
RSTP_BASE
 + 108)

	)

286 
	#RSTP_CFG_FILE_PORT_EDGE_SET_ERROR
 (
RSTP_BASE
 + 109)

	)

287 
	#RSTP_CFG_FILE_PORT_P2P_SET_ERROR
 (
RSTP_BASE
 + 110)

	)

288 
	#RSTP_CFG_FILE_PORT_PATH_COST_SET_ERROR
 (
RSTP_BASE
 + 111)

	)

289 
	#RSTP_CFG_FILE_PORT_PRI_SET_ERROR
 (
RSTP_BASE
 + 112)

	)

290 
	#RSTP_CFG_FILE_BRD_DIAMETER_SET_ERROR
 (
RSTP_BASE
 + 113)

	)

292 
	#RSTP_INIT_ERROR
 (
RSTP_BASE
 + 1000)

	)

297 
	#OP_ERROR_MSG
(
ERRCODE
) \

298 
	`sysGëEº‹Såög
(
ERRCODE
)

	)

	@multicast/h/mc_control.h

30 #i‚de‡
MC_CONTROL_H


31 
	#MC_CONTROL_H


	)

36 
	~<¨∑/öë.h
>

50 
	~"›≠i_comm_li°.h
"

51 
	~"›≠i_comm_öë.h
"

52 
	~"vos_timî.h
"

53 
	~<debug.h
>

55 
	~"lw_ty≥.h
"

56 
	~"pdt_c⁄fig.h
"

64 
	#OPL_FALSE
 0

	)

65 
	#OPL_TRUE
 1

	)

67 
	#OPL_ENABLE
 1

	)

68 
	#OPL_DISABLE
 0

	)

69 
	tOPL_BOOL
;

70 
	tOPL_STATUS
;

71 
	#PORT_PON_LOGIC
 
LOGIC_PON_PORT


	)

73 
	#ODM_START_PORT_NUN
 1

	)

77 
	#ODM_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

79 
	#VLAN_DEFAULT_STPID
 0x88a8

	)

80 
	#VLAN_DEFAULT_CTPID
 0x8100

	)

82 
	#OP_MAX_VLAN_NUMBER
 4096

	)

83 
	#MAC_ADDRESS_LENGTH
 6

	)

85 
	#MC_ROUTER_PORT_NUM
 1

	)

86 
	#MC_VLAN_TRANSLATION_ENTRY
 (16*
ODM_NUM_OF_PORTS
)

	)

87 
	#MC_MAX_HOST_NUM_PER_GROUP
 64

	)

89 
	#PORT_PON_PHYSICAL
 1

	)

90 
	#PORT_CPU_PHYSICAL
 2

	)

91 
	#PORT_GE_PHYSICAL
 0

	)

95 
	#OPL_ZERO
 (0x00)

	)

96 
	#OPL_ERROR
 (-1)

	)

97 
	#OPL_OK
 (0x00Ë

	)

98 
	#OPL_BAD_PARA
 (-2Ë

	)

99 
	#OPL_NOT_SUPPORTED
 (-3Ë

	)

100 
	#OPL_EXIST
 (-4Ë

	)

101 
	#OPL_NOT_EXIST
 (-5Ë

	)

102 
	#OPL_FAIL
 (-6Ë

	)

103 
	#OPL_BAD_VALUE
 (-7Ë

	)

104 
	#OPL_NO_MEMORY
 (-8Ë

	)

105 
	#OPL_NOT_FOUND
 (-10Ë

	)

106 
	#OPL_NO_MORE
 (-11Ë

	)

107 
	#OPL_NO_SUCH
 (-12Ë

	)

108 
	#OPL_TIMEOUT
 (-13Ë

	)

109 
	#OPL_FULL
 (-13Ë

	)

111 
	#SMALL_BUF_LEN
 256

	)

112 
	#BIG_BUF_LEN
 2048

	)

114 
	#MODULE
 
MOD_MCAST


	)

116 
	#MULTICAST_ALL_HOST_GROUP
 ()
	`öë_addr
("224.0.0.1")

	)

117 
	#MULTICAST_ALL_ROUTERS_GROUP
 ()
	`öë_addr
("224.0.0.2")

	)

119 
	#IGMP_TYPE_GENERAL_QUERY
 0x11

	)

120 
	#IGMP_TYPE_V1_REPORT
 0x12

	)

121 
	#IGMP_TYPE_V2_REPORT
 0x16

	)

122 
	#IGMP_TYPE_V2_LEAVE
 0x17

	)

123 
	#IGMP_TYPE_V3_REPORT
 0x22

	)

125 
	#IGMP_VERSION_1
 0x1

	)

126 
	#IGMP_VERSION_2
 0x2

	)

127 
	#IGMP_VERSION_3
 0x3

	)

130 
	#IGMP_HOST_AGING_TIME_DEFAULT
 260

	)

131 
	#LAST_MEMBER_QUERY_INTERVAL_DEFAULT
 1000

	)

132 
	#LAST_MEMBER_QUERY_COUNT_DEFAULT
 2

	)

133 
	#IGMP_MAX_GROUP_NUMBER_PER_PORT
 8

	)

136 
	#CFGFILE_MULTICAST
 "/cfg/mu…iˇ°.c⁄f"

	)

137 
	#CFGSECTION_MULTICAST_IGMP_MANAGEMENT
 "IGMP"

	)

138 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_IGMP_MODE
 "igmp_mode"

	)

139 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_MODE
 "mode"

	)

140 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_CTC_CONTROL_TYPE
 "˘c_c⁄åﬁ_ty≥"

	)

141 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_LEAVE_MODE
 "Àave_mode"

	)

142 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_HOST_AGING_TIME
 "ho°_agög_time"

	)

143 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_INTERVAL
 "œ°_quîy_öãrvÆ"

	)

144 
	#CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_COUNT
 "œ°_quîy_cou¡"

	)

145 
	#CFGSECTION_MULTICAST_IGMP_SNOOPING
 "IGMP_Sno›ög"

	)

147 
	#CFGSECTION_MULTICAST_IGMP_PORT
 "P‹t_"

	)

148 
	#CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
 "mu…iˇ°_vœn"

	)

149 
	#CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP
 "èg°rù_mode"

	)

150 
	#CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP_TRANSLATION_VLAN
 "å™¶©i⁄_vœn_"

	)

151 
	#CFGKEY_MULTICAST_IGMP_PORT_MAX_GROUP_NUM
 "max_group_num"

	)

153 
	#CFGSECTION_MULTICAST_IGMP_GROUP
 "Mu…iˇ°_Group_"

	)

154 
	#CFGSECTION_MULTICAST_IGMP_GROUP_PORT
 "p‹t"

	)

155 
	#CFGSECTION_MULTICAST_IGMP_GROUP_VLAN
 "mu…iˇ°_vœn"

	)

156 
	#CFGSECTION_MULTICAST_IGMP_GROUP_DA_MAC
 "da_mac"

	)

159 
	#MC_BITMAP_GDA_MAC
 (0x1<<0)

	)

160 
	#MC_BITMAP_GDA_IP
 (0x1<<1)

	)

161 
	#MC_BITMAP_HOST_PORT_ID
 (0x1<<2)

	)

162 
	#MC_BITMAP_VLAN_ID
 (0x1<<3)

	)

163 
	#MC_BITMAP_SA_MAC
 (0x1<<4)

	)

164 
	#MC_BITMAP_HOST_SRC_IP
 (0x1<<5)

	)

165 
	#MC_BITMAP_HOST_SA_MAC
 (0x1<<6)

	)

167 
	#MC_BITMAP
 
mcC⁄åﬁBlock
.
bôm≠


	)

168 
	#MC_HOST_BITMAP
 
mcC⁄åﬁBlock
.
ho°Bôm≠


	)

170 
	#ODM_MAX_GRUP_NUM_PER_PORT
 64

	)

172 
	#mc_¥ötf
 
¥ötf


	)

174 
	#mc_¥ötf
(
fmt
, ...)

	)

176 
	#INVALID_32
 (()0xffffffff)

	)

177 
	#NO_ERROR
 0

	)

178 
	#MC_MAX_GROUP_NUM
 ((
ODM_NUM_OF_PORTS
)*(
ODM_MAX_GRUP_NUM_PER_PORT
))

	)

179 
	#OPL_NULL
 ((*Ë0)

	)

180 
	#MIN_LOGIC_UNI_ID
 1

	)

181 
	#MAX_LOGIC_UNI_ID
 
MAX_PORT_NUM


	)

183 
	#IS_VALID_UNI_PORT
(
_p‹t
Ë((_p‹à>
MIN_LOGIC_UNI_ID
Ë&& (_p‹à<
MAX_LOGIC_UNI_ID
))

	)

184 
	#VALID_PORT_ID
(
_p‹t
Ë((_p‹à>
MIN_LOGIC_UNI_ID
Ë&& (_p‹à<
MAX_LOGIC_PORT_NUM
))

	)

186 #¥agm®
∑ck
 (1)

187 
	eègMULTICAST_Tag_O≥r_Mode


189 
	mMC_TAG_MODE_TRANSPARENT
=0,

190 
	mMC_TAG_MODE_STRIP
,

191 
	mMC_TAG_MODE_TRANSLATION
,

192 
	mMC_TAG_MODE_END


193 } 
	tMC_TAG_MODE_E
;

195 
	eDEBUG_LEVEL_s


197 
	mDEBUG_LEVEL_OFF
,

198 
	mDEBUG_LEVEL_CRITICAL
,

199 
	mDEBUG_LEVEL_WARNING
,

200 
	mDEBUG_LEVEL_INFO
,

201 
	mDEBUG_LEVEL_DEBUGGING
,

202 
	mDEBUG_LEVEL_MAX


203 }
	tDEBUG_LEVEL_e
;

206 
	#ETH_MAC_ADDR_LEN
 6

	)

207 
	#ETH_MAC_ADDR_LEN
 6

	)

209 
	sëh_vœn_èg_s


211 
	mty≥
;

212 #ifde‡
EOPL_LITTLE_BITFIELD


213 
	mvid
:12,

214 
	mcfi
:1,

215 
	m¥i
:3;

217 
	m¥i
:3,

218 
	mcfi
:1,

219 
	mvid
:12;

221 }
	tëh_vœn_èg_t
;

224 
	sëh_hódî_wôh_sgl_èg_s


226 
	mde°
[
ETH_MAC_ADDR_LEN
];

227 
	m§c
[
ETH_MAC_ADDR_LEN
];

228 
ëh_vœn_èg_t
 
	mvœn_èg
;

229 
	m¥Ÿocﬁ
;

231 }
	tëh_hódî_wôh_sgl_èg_t
;

233 
	smu…iˇ°_c⁄åﬁ_íåy_s


235 
	mp‹t
;

236 
	mvid
;

237 
	mmmac
[
ETH_MAC_ADDR_LEN
];

239 } 
	tmu…iˇ°_c⁄åﬁ_íåy_t
;

240 #¥agm®
∑ck
 ()

242 
	emu…iˇ°_c⁄åﬁ_s


244 
	mMC_CTL_GDA_MAC
 = 0x00,

245 
	mMC_CTL_GDA_MAC_VID
 = 0x01,

246 
	mMC_CTL_GDA_GDA_SA_MAC
 = 0x02,

247 
	mMC_CTL_GDA_GDA_IP_VID
 = 0x03,

248 
	mMC_CTL_END


250 } 
	tmu…iˇ°_c⁄åﬁ_e
;

255 
	eTAG_TYPE_e
 {

256 
	mTAG_TYPE_UNTAG
=0,

257 
	mTAG_TYPE_SINGLE_TAG
,

258 
	mTAG_TYPE_DOUBLE_TAG


259 } 
	tTAG_TYPE_t
;

264 
	eGROUP_STATE_e
 {

265 
	mGROUP_STATE_LEARNING
=0,

266 
	mGROUP_STATE_CONFIG_BY_CLI
,

267 
	mGROUP_STATE_CONFIG_BY_OAM


268 } 
	tGROUP_STATE_t
;

273 
	eMC_MODE_e
 {

274 
	mMC_MODE_SNOOPING
=0,

275 
	mMC_MODE_CTC
,

276 
	mMC_MODE_PROXY
,

277 
	mMC_MODE_STOP


278 } 
	tMC_MODE_t
;

283 
	eMC_LEAVE_MODE_e
 {

284 
	mMC_LEAVE_MODE_NON_FAST_LEAVE
=1,

285 
	mMC_LEAVE_MODE_FAST


286 } 
	tMC_LEAVE_MODE_t
;

288 
	eMULTICAST_TAG_OPER_MODE_e
 {

289 
	mMC_TAG_OPER_MODE_TRANSPARENT
=0,

290 
	mMC_TAG_OPER_MODE_STRIP
,

291 
	mMC_TAG_OPER_MODE_TRANSLATION


292 } 
	tMC_TAG_OPER_MODE_t
;

294 
	eCTC_CONTROL_TYPE_e
 {

295 
	mMC_CTL_GDA_MAC
 = 0x00,

296 
	mMC_CTL_GDA_MAC_VID
 = 0x01,

297 
	mMC_CTL_GDA_GDA_SA_MAC
 = 0x02,

298 
	mMC_CTL_GDA_GDA_IP_VID
 = 0x03,

299 } 
	tCTC_CONTROL_TYPE_t
;

301 
	eCTC_CONTROL_BITMAP_e
 {

302 
	mCTC_CONTROL_BITMAP_GDA_MAC
=
MC_BITMAP_GDA_MAC
|
MC_BITMAP_HOST_PORT_ID
,

303 
	mCTC_CONTROL_BITMAP_GDA_MAC_VLAN_ID
=
MC_BITMAP_GDA_MAC
|
MC_BITMAP_HOST_PORT_ID
|
MC_BITMAP_VLAN_ID
,

304 
	mCTC_CONTROL_BITMAP_GDA_MAC_SA_MAC
=
MC_BITMAP_GDA_MAC
|
MC_BITMAP_SA_MAC
|
MC_BITMAP_HOST_PORT_ID
,

305 
	mCTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
=
MC_BITMAP_GDA_IP
|
MC_BITMAP_HOST_PORT_ID


306 } 
	tCTC_CONTROL_TYPE_BITMAP_t
;

308 
	eMC_GROUP_TYPE_e
 {

309 
	mMC_GROUP_TYPE_DYNAMIC
=1,

310 
	mMC_GROUP_TYPE_STATIC


311 } 
	tMC_GROUP_TYPE_t
;

313 
	eMC_DN_SWITCH_TYPE_e
 {

314 
	mMC_DN_SWITCH_TYPE_ONU_1PORT
=1,

315 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_88E6045
,

316 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_88E6046
,

317 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_88E6097
,

318 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_AR8306
,

319 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_AR8228
,

320 
	mMC_DN_SWITCH_TYPE_ONU_4PORT_AR8327


321 } 
	tMC_DN_SWITCH_TYPE_t
;

323 
	sMC_CONTROL_s
 {

324 
	mmcRecvEn
;

325 
	mmcMode
;

326 
	mÀaveMode
;

327 
	m˘cC⁄åﬁTy≥
;

328 
	mbôm≠
;

329 
	mho°Bôm≠
;

331 
	mdnSwôchTy≥
;

333 
	mho°AgögTime
;

334 
	mœ°QuîyI¡îvÆ
;

335 
	mœ°QuîyCou¡
;

337 
	mmaxGroupNum
[
ODM_NUM_OF_PORTS
+1];

339 
	m°pid
;

340 
	m˘pid
;

342 
	misInôülized
;

347 } 
	tMC_CONTROL_t
;

349 
	sMC_PACKET_DESC_s
 {

350 
	migmpGroupMac
[
MAC_ADDRESS_LENGTH
];

352 
	mdaMac
[
MAC_ADDRESS_LENGTH
];

353 
	mßMac
[
MAC_ADDRESS_LENGTH
];

354 
	msTpid
;

355 
	msVœn
;

356 
	mcTpid
;

357 
	mcVœn
;

359 
	mde°Ip
;

360 
	m§cIp
;

362 
	migmpVîsi⁄
;

363 
	migmpTy≥
;

364 
	migmpMaxRe•Time
;

365 
	migmpGroupAdªss
;

367 
	mögªssPackëLígth
;

368 *
	mögªssPackë
;

369 
	mögªssP‹tId
;

370 
	mögªssTagTy≥
;

371 
	mögªssIsHaveIpO±i⁄s
;

375 
	megªssP‹tId
;

379 
TIMER_OBJ_t
 *
	mn⁄Fa°LóveTimî
;

381 
	mn⁄Fa°LóveQuîyPackëLígth
;

382 *
	mn⁄Fa°LóveQuîyPackë
;

383 
	mn⁄Fa°LóveEgªssTagTy≥
;

384 
	mn⁄Fa°LóveEgªssIsHaveIpO±i⁄s
;

386 
	misN⁄Fa°LóveTimîSèπ
;

387 } 
	tMC_PACKET_DESC_t
;

389 
	sMC_HOST_s
 {

390 
	mßMac
[
MAC_ADDRESS_LENGTH
];

391 
	m§cIp
;

393 
	m°©e
;

395 
	mho°AgögTime
;

396 
	misLa°Rï‹tRe˚võd
;

397 
	misN⁄Fa°LóveTimîSèπ
;

398 } 
	tMC_HOST_t
;

400 
	sMC_GROUP_s
 {

401 
	mgroupMac
[
MAC_ADDRESS_LENGTH
];

402 
	mßMac
[
MAC_ADDRESS_LENGTH
];

403 
	mgroupAddªss
;

404 
	mmcVœn
;

405 
	mho°P‹tId
;

407 
	m°©e
;

409 
˛Li°
 *
	mho°Li°
;

410 
	mho°TŸÆNum
;

412 
	mho°AgögTime
;

413 
	misLa°Rï‹tRe˚võd
;

414 
	misN⁄Fa°LóveTimîSèπ
;

415 
	mquîy˙t
;

416 } 
	tMC_GROUP_t
;

418 
	sMC_VLAN_TRANSLATION_ENTRY_s
 {

419 
	míabÀ
;

420 
	mp‹tId
;

421 
	mmcVid
;

422 
	mu£rVid
;

423 } 
	tMC_VLAN_TRANSLATION_ENTRY_t
;

425 
	sMC_ROUTER_PORT_ENTRY_s
 {

426 
	míabÀ
;

427 
	mrouãrP‹tId
;

428 } 
	tMC_ROUTER_PORT_ENTRY_t
;

430 
	sMC_CONTROL_STATS_s


433 
	mgíîÆQuîyV1RxCou¡
;

434 
	mgíîÆQuîyV2RxCou¡
;

435 
	mgroupS≥cificV2QuîyRxCou¡
;

436 
	mŸhîHo°RxUnknownCou¡
;

437 
	mŸhîRouãrRxUnknownCou¡
;

439 
	mjoöRï‹tV1RxCou¡
;

440 
	mjoöRï‹tV2RxCou¡
;

441 
	mÀaveV2RxCou¡
;

443 
	mmemAŒocCou¡
;

444 
	mmem‰ìCou¡
;

446 } 
	tMC_CONTROL_STATS_t
;

447 #¥agm®
∑ck
 (1)

450 
	sëh_hódî_n⁄e_èg_s


452 
	mde°
[
ETH_MAC_ADDR_LEN
];

453 
	m§c
[
ETH_MAC_ADDR_LEN
];

454 
	m¥Ÿocﬁ
;

456 }
	tëh_hódî_n⁄e_èg_t
;

458 
	sùv4_hódî_s


461 #ifde‡
EOPL_LITTLE_BITFIELD


462 
	mihl
:4,

463 
	mvîsi⁄
:4;

465 
	mvîsi⁄
:4,

466 
	mihl
:4;

468 
	mtos
;

469 
	mtŸÆ_Àn
;

470 
	mid
;

471 
	m‰ag_off
;

472 
	mâl
;

473 
	m¥Ÿocﬁ
;

474 
	mchecksum
;

475 
	m§c_addr
;

476 
	mde°_addr
;

479 }
	tùv4_hódî_t
;

481 
	sùv4_hódî_›t_s


484 #ifde‡
EOPL_LITTLE_BITFIELD


485 
	m›ti⁄
:5,

486 
	mo_˛ass
:2,

487 
	mcÊag
:1;

490 
	mcÊag
:1,

491 
	mo_˛ass
:2,

492 
	m›ti⁄
:5;

495 
	mÀngth
;

497 }
	tùv4_hódî_›t_t
;

501 
	sùv4_rouãr_Æît_›t_s


503 
ùv4_hódî_›t_t
 
	mty≥
;

504 
	mvÆue
[2];

506 }
	tùv4_rouãr_Æît_›t_t
;

509 
	sigmp_msg_s


511 
	mty≥
;

512 
	mmax_ª•_time
;

513 
	mchecksum
;

514 
	mgroup
;

516 }
	tigmp_msg_t
;

519 
	sëh_igmp_‰m_n⁄e_èg_s


521 
ëh_hódî_n⁄e_èg_t
 
	mëh_hdr
;

522 
ùv4_hódî_t
 
	mù_hdr
;

523 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

524 
igmp_msg_t
 
	migmp_msg
;

526 } 
	t__©åibuã__
((
	t∑cked
)Ë
	tëh_igmp_‰m_n⁄e_èg_t
;

529 
	sëh_igmp_‰m_wôh_sgl_s


531 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

532 
ùv4_hódî_t
 
	mù_hdr
;

533 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

534 
igmp_msg_t
 
	migmp_msg
;

536 } 
	t__©åibuã__
((
	t∑cked
)Ë
	tëh_igmp_‰m_wôh_sgl_t
;

539 
	sëh_igmp_‰m_n⁄e_èg_n⁄e_›t_s


541 
ëh_hódî_n⁄e_èg_t
 
	mëh_hdr
;

542 
ùv4_hódî_t
 
	mù_hdr
;

543 
igmp_msg_t
 
	migmp_msg
;

545 } 
	t__©åibuã__
((
	t∑cked
)Ë
	tëh_igmp_‰m_n⁄e_èg_n⁄e_›t_t
;

548 
	sëh_igmp_‰m_wôh_sgl_n⁄e_›t_s


550 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

551 
ùv4_hódî_t
 
	mù_hdr
;

552 
igmp_msg_t
 
	migmp_msg
;

554 } 
	t__©åibuã__
((
	t∑cked
)Ë
	tëh_igmp_‰m_wôh_sgl_n⁄e_›t_t
;

556 
	sho°_outbound_hdr_s


558 #ifde‡
EOPL_LITTLE_BITFIELD


559 
	mï‹t
:4,

560 
	micos
:3,

561 
	mª£rved
:1;

564 
	mª£rved
:1,

565 
	micos
:3,

566 
	mï‹t
:4;

569 }
	tho°_outbound_hdr_t
;

572 
	sho°_öbound_hdr_s


574 #ifde‡
EOPL_LITTLE_BITFIELD


575 
	mù‹t
:4,

576 
	mª£rved
:28;

578 
	mª£rved
:28,

579 
	mù‹t
:4;

582 }
	tho°_öbound_hdr_t
;

585 
	sëh_igmp_‰m_s


587 
ho°_outbound_hdr_t
 
	mho°_hdr
;

588 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

589 
ùv4_hódî_t
 
	mù_hdr
;

590 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

591 
igmp_msg_t
 
	migmp_msg
;

593 } 
	tëh_igmp_‰m_t
;

596 
	sëh_igmp_‰m_ö_s


598 
ho°_öbound_hdr_t
 
	mho°_hdr
;

599 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

600 
ùv4_hódî_t
 
	mù_hdr
;

601 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

602 
igmp_msg_t
 
	migmp_msg
;

604 } 
	tëh_igmp_‰m_ö_t
;

605 #¥agm®
∑ck
 ()

608 
	sMC_IGMP_MSG_s


610 
	mlSeqNo
;

611 *
	mpBuff
;

612 
	mÀn
;

613 
	mp‹tId
;

614 } 
	tMC_IGMP_MSG_t
;

616 
	eMC_TIMER_MSG_TYPE_s


618 
	mMC_HOST_AGING_TIMER_SNOOPING
,

619 
	mMC_HOST_AGING_TIMER_CTC
,

620 
	mMC_SNOOP_NON_FAST_LEAVE
,

621 
	mMC_CTC_LEAVE_ACTIVE


622 } 
	tMC_TIMER_MSG_TYPE_e
;

624 
	sMC_TIMER_MSG_s


626 
	mlSeqNo
;

627 
MC_TIMER_MSG_TYPE_e
 
	mmsgTy≥
;

628 *
	mdesc
;

629 } 
	tMC_TIMER_MSG_t
;

631 
	#OP_DEBUG
(
LEVEL
, 
FMT
, ...Ë\

	)

633 
¥ötf
(
FMT
, ##
__VA_ARGS__
); \

636 
	#OP_DEBUG
(
LEVEL
, 
FMT
, ...)

	)

642 
	#RETURN_VAL_IF_FAIL
(
c⁄dôi⁄
, 
ªtvÆ
Ëdÿ{ if(!(c⁄dôi⁄)){ 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Éº‹Ço: 0x%08X, %d.\n", 
__FUNCTION__
, 
__LINE__
, (ÏëvÆ,ÑëvÆ);  (ªtvÆ); } 
	}
} 0)

	)

644 
	#GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
Ë\

	)

646 
	gcom∑ªResu…
 = 
OPL_FALSE
; \

647 if(
	gbôm≠
&
	gMC_BITMAP_HOST_PORT_ID
) { \

648 if(
	gnode
->
	gho°P‹tId
 =
ho°P‹tId
) { \

649 
com∑ªResu…
 |
MC_BITMAP_HOST_PORT_ID
; \

652 if(
	gbôm≠
&
	gMC_BITMAP_GDA_MAC
) { \

653 if(!
vosMemCmp
(
node
->
groupMac
, groupMac, 
MAC_ADDRESS_LENGTH
)) { \

654 
	gcom∑ªResu…
 |
MC_BITMAP_GDA_MAC
; \

657 if(
	gbôm≠
&
	gMC_BITMAP_GDA_IP
) { \

658 if(
	gnode
->
	ggroupAddªss
 =
groupAddªss
) { \

659 
com∑ªResu…
 |
MC_BITMAP_GDA_IP
; \

662 if(
	gbôm≠
&
	gMC_BITMAP_VLAN_ID
) { \

663 if(
	gnode
->
	gmcVœn
 =
mcVœn
) { \

664 
com∑ªResu…
 |
MC_BITMAP_VLAN_ID
; \

669 
	#HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
Ë\

	)

671 
	gcom∑ªResu…
 = 
OPL_FALSE
; \

672 if(
	gho°Bôm≠
&
	gMC_BITMAP_HOST_SRC_IP
) { \

673 if(
	gnode
->
	g§cIp
 =
§cIp
) { \

674 
com∑ªResu…
 |
MC_BITMAP_HOST_SRC_IP
; \

677 if(
	gho°Bôm≠
&
	gMC_BITMAP_HOST_SA_MAC
) { \

678 if(!
vosMemCmp
(
node
->
ßMac
, saMac, 
MAC_ADDRESS_LENGTH
)) { \

679 
	gcom∑ªResu…
 |
MC_BITMAP_HOST_SA_MAC
; \

685 
	#MC_DEBUG
(
LEVEL
, 
FMT
, ...Ë\

	)

686 
OP_DEBUG
(
LEVEL
, 
FMT
, ##
__VA_ARGS__
)

688 
	#MC_DEBUG
(
LEVEL
, 
FMT
, ...)

	)

691 #i‚de‡
MAX_VLAN_ID


692 
	#MAX_VLAN_ID
 4095

	)

694 
	#IS_VALID_VLAN_ID
(
vid
Ë(((vid)<=
MAX_VLAN_ID
Ë? 
OPL_TRUE
 : 
OPL_FALSE
)

	)

695 
	#IS_VALID_PORT_ID
(
pid
Ë((’id)>=
ODM_START_PORT_NUN
&&’id)<=
ODM_NUM_OF_PORTS
Ë? 
OPL_TRUE
 : 
OPL_FALSE
)

	)

697 (*
	tmcHo°AgögTimîH™dÀr
)(
	tMC_TIMER_MSG_TYPE_e
 
	tmsgTy≥
, 
	tMC_PACKET_DESC_t
 *
	tdesc
);

704 
MC_VLAN_TRANSLATION_ENTRY_t
 
mcTagTøn¶©i⁄TabÀ
[
MC_VLAN_TRANSLATION_ENTRY
];

705 
UINT32
 
	`CTC_CheckVÆidVidF‹LgcP‹t
(UINT32 
Õ‹t
, UINT32 
uiMcVid
, 
UINT8
* 
pVœnMode
,UINT8* 
pVœnExi°
);

706 
mu…iˇ°_c⁄åﬁ_e
 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
();

707 
	`m˘ag_å™¶©i⁄_check
(
p‹tId
, 
mcVid
, 
u£rVid
);

	@multicast/h/opapi_comm_inet.h

25 #i‚de‡
OPAPI_COMM_INET_H


26 
	#OPAPI_COMM_INET_H


	)

28 
	~<°dio.h
>

29 
	~<°rög.h
>

30 
	~<°dlib.h
>

31 
	~<¨∑/öë.h
>

32 
	~<lw_ty≥.h
>

34 
	#vosMemCpy
 
mem˝y


	)

35 
	#vosMemSë
 
mem£t


	)

36 
	#vosS¥ötf
 
•rötf


	)

37 
	#vosSåCpy
 
°r˝y


	)

40 
	sù_addr
 {

41 
	maddr
;

44 
ölöe
 
	$_chksum
(*
d©≠å
, 
Àn
)

46 
acc
;

48 
acc
 = 0; 
Àn
 > 1;Üen -= 2) {

49 
acc
 +(*((*Ë
d©≠å
))++;

53 i‡(
Àn
 == 1) {

54 
acc
 +
	`ht⁄s
((Ë((*(*Ë
d©≠å
) & 0xff) << 8);

55 
	`¥ötf
("öë: chksum: odd byã %d\n", *(*Ë
d©≠å
);

58  
acc
;

59 
	}
}

62 
ölöe
 
	$˛I√tChksum
(*
d©≠å
, 
Àn
)

64 
acc
;

66 
acc
 = 
	`_chksum
(
d©≠å
, 
Àn
);

68 
acc
 >> 16) {

69 
acc
 = (acc & 0xffff) + (acc >> 16);

71  ~(
acc
 & 0xffff);

72 
	}
}

76 
ölöe
 
	$˛McMacGëByMcIp
(*
mcmac
, 
mcù
)

78 * 
mac
;

80 i‡(
mcmac
 =
NULL
) {

84 
mac
 = 
mcmac
;

85 
mac
[0] = 0x01;

86 
mac
[1] = 0x0;

87 
mac
[2] = 0x5e;

88 
mac
[3] = ((
mcù
 & 0x7fffff) >> 16) & 0xff;

89 
mac
[4] = ((
mcù
 & 0x7fffff) >> 8) & 0xff;

90 
mac
[5] = (
mcù
 & 0x7fffff) & 0xff;

92 
	}
}

95 
ölöe
 
	$˛MacCmp
(*
mac1
, *
mac2
)

97 
i
;

99 i‡((
mac1
 =
NULL
Ë|| (
mac2
 == NULL)) {

103 
i
 = 0; i < 6; i++) {

104 i‡(
mac1
[
i
] !
mac2
[i]) {

105  
FALSE
;

108  
TRUE
;

109 
	}
}

112 
ölöe
 
	$˛SåögGëByMac
(*
mac_°rög
,

113 *
mac
)

115 i‡(
mac
 =
NULL
 || 
mac_°rög
 == NULL) {

119 
	`vosS¥ötf
(
mac_°rög
,

121 
mac
[0],

122 
mac
[1],

123 
mac
[2],

124 
mac
[3],

125 
mac
[4],

126 
mac
[5]);

129 
	}
}

131 
ölöe
 
	$˛MacGëBySåög
(*
mac
,

132 *
mac_°rög
)

134 
°rLí
 = 0;

135 
i
 = 0;

136 
macAddr
[6];

137 
nVaûdNum
;

139 i‡((
NULL
 =
mac_°rög
Ë|| (NULL =
mac
)) {

143 
°rLí
 = 
	`vosSåLí
(
mac_°rög
);

144 i‡(
°rLí
 != 17) {

149 
nVaûdNum
 = 
	`ssˇnf
(
mac_°rög
,

151 &
macAddr
[0],

152 &
macAddr
[1],

153 &
macAddr
[2],

154 &
macAddr
[3],

155 &
macAddr
[4],

156 &
macAddr
[5]);

158 i‡(
nVaûdNum
 != 6) {

163 
i
 = 0; i < 6; i ++) {

164 
mac
[
i
] = (Ë
macAddr
[i];

168 
	}
}

170 
ölöe
 
	$˛IpAddrCmp
(
ù_addr
 *
addr1
, ù_add∏*
addr2
)

172 (
addr1
->
addr
 =
addr2
->addr);

173 
	}
}

175 
ölöe
 
	$˛SåögGëByIp
(*
ù_°rög
, 
ù
)

177 
ö_addr
 
ö
;

179 
	`mem˝y
(&
ö
, &
ù
, 4);

181 
	`°r˝y
(
ù_°rög
, 
	`öë_¡ﬂ
(
ö
));

184 
	}
}

186 
ölöe
 
	$ëhPackëPröt
(*
pkt
, 
Àn
)

188 
i
;

190 i‡(
pkt
 =
NULL
 || 
Àn
 < 0) {

194 
	`¥ötf
("%-32s:\n", "------packetÖrint------");

195 
i
 = 0; i < (
Àn
 + 3) / 4; i++) {

196 
	`¥ötf
("%08X ", *((*Ë
pkt
 + 
i
));

197 i‡(
i
 != 0 && (i + 1) % 8 == 0) {

198 
	`¥ötf
("\n");

201 
	`¥ötf
("\n");

204 
	}
}

206 
ölöe
 
	$ùAddrPröt
(
ù_addr
 *
ùaddr
)

208 i‡(
ùaddr
 =
NULL
) {

212 
	`¥ötf
("%d.%d.%d.%d\n",

213 (Ë(
	`¡ohl
((
ùaddr
)->
addr
) >> 24) & 0xff,

214 (Ë(
	`¡ohl
((
ùaddr
)->
addr
) >> 16) & 0xff,

215 (Ë(
	`¡ohl
((
ùaddr
)->
addr
) >> 8) & 0xff,

216 (Ë
	`¡ohl
((
ùaddr
)->
addr
) & 0xff);

219 
	}
}

221 
ölöe
 
	$ëhMacPröt
(*
mac
)

223 
mac°rög
[20];

225 i‡(
mac
 =
NULL
) {

229 
	`mem£t
(
mac°rög
, 0, 20);

231 
	`˛SåögGëByMac
(
mac°rög
, 
mac
);

233 
	`¥ötf
("MACáddr=%s\n", 
mac°rög
);

236 
	}
}

239 
	#CRC_BYTE_BIT_COUNT
 0x80

	)

240 
	#CRC16_POLYNOMIAL_AMERICAN
 0x8005

	)

241 
	#CRC16_POLYNOMIAL_CCITT
 0x1021

	)

242 
	#CRC16_RESULT_LENGTH
 0x0000FFFF

	)

243 
	#CRC16_MOST_SIGNIFICIANT_BIT
 0x00008000

	)

244 
	#CRC32_POLYNOMIAL
 0x04C11DB7

	)

245 
	#CRC32_RESULT_LENGTH
 0xFFFFFFFF

	)

246 
	#CRC32_MOST_SIGNIFICIANT_BIT
 0x80000000

	)

249 
ölöe
 
	$CRC16BôShi·
(
UINT8
 *
pucVÆue
,

250 
UINT32
 
ulVÆueLeg¡h
,

251 
UINT16
 *
pusCrcVÆue
)

253 
UINT8
 
ucCh¨Bô
 = 0;

254 
UINT16
 
usCrc
 = 0xFFFF;

256 i‡(
NULL
 =
pucVÆue
) {

260 0 !
ulVÆueLeg¡h
--) {

261 
ucCh¨Bô
 = 
CRC_BYTE_BIT_COUNT
; 0 != ucCharBit; ucCharBit /= 2) {

262 i‡(0 !(
usCrc
 & 
CRC16_MOST_SIGNIFICIANT_BIT
)) {

263 
usCrc
 *= 2;

264 
usCrc
 ^
CRC16_POLYNOMIAL_CCITT
;

267 
usCrc
 *= 2;

270 i‡(((*
pucVÆue
Ë& 
ucCh¨Bô
) != 0) {

271 
usCrc
 ^
CRC16_POLYNOMIAL_CCITT
;

275 
pucVÆue
++;

278 *
pusCrcVÆue
 = 
usCrc
;

281 
	}
}

283 
ölöe
 
	$TabÀAddrCÆ16
(
UINT8
 *
pucVÆue
,

284 
UINT32
 
ulVÆueLí
,

285 
UINT16
 
usAddrMask
,

286 
UINT16
 *
pusAddªss
)

288 
UINT16
 
usCrcVÆue
 = 0;

289 
iSètus
;

291 i‡(
NULL
 =
pucVÆue
) {

295 
iSètus
 = 
	`CRC16BôShi·
(
pucVÆue
, 
ulVÆueLí
, &
usCrcVÆue
);

296 i‡(0 !
iSètus
) {

297  
iSètus
 ;

300 *
pusAddªss
 = 
usAddrMask
 & 
usCrcVÆue
;

303 
	}
}

	@multicast/h/opapi_comm_list.h

17 #i‚de‡
OPAPI_COMM_LIST_H


18 
	#OPAPI_COMM_LIST_H


	)

21 
	~<°dio.h
>

22 
	~<°rög.h
>

23 
	~<°dlib.h
>

26 
_˛Li°
 
	t˛Li°
;

28 
	s_˛Li°
 {

29 *
	md©a
;

30 
˛Li°
 *
	m√xt
;

31 
˛Li°
 *
	m¥ev
;

41 
˛Li°
 *
˛Li°La°
(˛Li° *
li°
);

42 
˛Li°
 *
˛Li°Aµíd
(˛Li° *
li°
, *
d©a
);

43 
˛Li°
 *
˛Li°Remove
(˛Li° *
li°
, c⁄° *
d©a
);

44 
˛Li°
 *
˛Li°Nth
(˛Li° *
li°
, 
n
);

45 
˛Li°Fªe
(
˛Li°
 *
li°
);

46 
˛Li°Posôi⁄
(
˛Li°
 *
li°
, clLi° *
lök
);

47 
˛Li°Pröt
(
˛Li°
 *
li°
);

	@multicast/h/opapi_comm_tree.h

17 #i‚de‡
OPAPI_COMM_TREE_H


18 
	#OPAPI_COMM_TREE_H


	)

21 
	~<°dio.h
>

22 
	~<°rög.h
>

23 
	~<°dlib.h
>

26 (*
	t˛Tøvî£Func
Ë(*
	tkey
, *
	td©a
);

27 (*
	t˛Com∑ªFunc
Ë(*
	tkey
, *
	td©a
);

28 (*
	t˛De°royFunc
Ë(*
	tkey
);

30 
	s˛Tªe
 {

31 
˛TªeNode
 *
roŸ
;

32 
˛Com∑ªFunc
 
key_com∑ª
;

33 
˛De°royFunc
 
key_de°roy
;

36 
	s˛TªeNode
 {

37 *
key
;

38 
˛TªeNode
 *
À·
;

39 
˛TªeNode
 *
right
;

47 
˛Tªe
 *
	`˛TªeNew
(
˛Com∑ªFunc
 
key_com∑ª
,

48 
˛De°royFunc
 
key_de°roy
);

49 
˛Tªe
 *
	`˛TªeNew
(
˛Com∑ªFunc
 
key_com∑ª
,

50 
˛De°royFunc
 
key_de°roy
);

51 
	`˛TªeIn£π
(
˛Tªe
 *
åì
, *
key
);

52 
	`˛TªeRemove
(
˛Tªe
 *
åì
, *
key
);

53 
	`˛TªeTøvî£
(
˛Tªe
 *
åì
,

54 
˛Tøvî£Func
 
åavî£Func
,

55 *
u£rD©a
);

56 *
	`˛TªeSórch
(
˛Tªe
 *
åì
, *
u£rD©a
);

57 
	`˛TªeDe°roy
(
˛Tªe
 *
åì
);

	@multicast/h/opl_ethernet.h

23 #i‚de‡
OPL_ETHERNET_H


24 
	#OPL_ETHERNET_H


	)

26 
	~"›l_ho°.h
"

28 
	#ETH_MAC_ADDR_LEN
 6

	)

30 
	#ETH_P_IP
 0x0800

	)

32 
	#ETH_8021Q_STAG_TYPE
 0x8100

	)

33 
	#ETH_8021Q_CTAG_TYPE
 0x88A8

	)

35 
	#INET_IP_VER
 4

	)

37 
	#IPV4_PROTOCOL_IGMP
 2

	)

38 
	#IPV4_IGMP_TTL
 1

	)

40 
	#IP_ROUTER_ALERT_OPTION_NUM
 0x14

	)

44 #¥agm®
∑ck
 (1)

47 
	sëh_vœn_èg_s


49 
UINT16
 
	mty≥
;

50 #ifde‡
EOPL_LITTLE_BITFIELD


51 
UINT16
 
	mvid
:12,

52 
	mcfi
:1,

53 
	m¥i
:3;

55 
UINT16
 
	m¥i
:3,

56 
	mcfi
:1,

57 
	mvid
:12;

59 }
	tëh_vœn_èg_t
;

62 
	sëh_hódî_n⁄e_èg_s


64 
UINT8
 
	mde°
[
ETH_MAC_ADDR_LEN
];

65 
UINT8
 
	m§c
[
ETH_MAC_ADDR_LEN
];

66 
UINT16
 
	m¥Ÿocﬁ
;

68 }
	tëh_hódî_n⁄e_èg_t
;

71 
	sëh_hódî_wôh_sgl_èg_s


73 
UINT8
 
	mde°
[
ETH_MAC_ADDR_LEN
];

74 
UINT8
 
	m§c
[
ETH_MAC_ADDR_LEN
];

75 
ëh_vœn_èg_t
 
	mvœn_èg
;

76 
UINT16
 
	m¥Ÿocﬁ
;

78 }
	tëh_hódî_wôh_sgl_èg_t
;

81 
	sëh_hódî_øi£com_s


83 
UINT8
 
	mde°
[
ETH_MAC_ADDR_LEN
];

84 
UINT8
 
	m§c
[
ETH_MAC_ADDR_LEN
];

85 
UINT16
 
	m¥Ÿocﬁ
;

86 
UINT16
 
	mŒid
;

88 }
	tëh_hódî_øi£com_t
;

91 
	sùv4_hódî_s


94 #ifde‡
EOPL_LITTLE_BITFIELD


95 
UINT8
 
	mihl
:4,

96 
	mvîsi⁄
:4;

98 
UINT8
 
	mvîsi⁄
:4,

99 
	mihl
:4;

101 
UINT8
 
	mtos
;

102 
UINT16
 
	mtŸÆ_Àn
;

103 
UINT16
 
	mid
;

104 
UINT16
 
	m‰ag_off
;

105 
UINT8
 
	mâl
;

106 
UINT8
 
	m¥Ÿocﬁ
;

107 
UINT16
 
	mchecksum
;

108 
UINT32
 
	m§c_addr
;

109 
UINT32
 
	mde°_addr
;

112 }
	tùv4_hódî_t
;

115 
	sùv4_hódî_›t_s


118 #ifde‡
EOPL_LITTLE_BITFIELD


119 
UINT8
 
	m›ti⁄
:5,

120 
	mo_˛ass
:2,

121 
	mcÊag
:1;

124 
UINT8
 
	mcÊag
:1,

125 
	mo_˛ass
:2,

126 
	m›ti⁄
:5;

129 
UINT8
 
	mÀngth
;

131 }
	tùv4_hódî_›t_t
;

134 
	sùv4_rouãr_Æît_›t_s


136 
ùv4_hódî_›t_t
 
	mty≥
;

137 
UINT8
 
	mvÆue
[2];

139 }
	tùv4_rouãr_Æît_›t_t
;

142 
	sigmp_msg_s


144 
UINT8
 
	mty≥
;

145 
UINT8
 
	mmax_ª•_time
;

146 
UINT16
 
	mchecksum
;

147 
UINT32
 
	mgroup
;

149 }
	tigmp_msg_t
;

152 
	sëh_igmp_‰m_s


154 
ho°_outbound_hdr_t
 
	mho°_hdr
;

155 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

156 
ùv4_hódî_t
 
	mù_hdr
;

157 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

158 
igmp_msg_t
 
	migmp_msg
;

160 } 
	tëh_igmp_‰m_t
;

163 
	sëh_igmp_‰m_ö_s


165 
ho°_öbound_hdr_t
 
	mho°_hdr
;

166 
ëh_hódî_wôh_sgl_èg_t
 
	mëh_hdr
;

167 
ùv4_hódî_t
 
	mù_hdr
;

168 
ùv4_rouãr_Æît_›t_t
 
	mù_›t
;

169 
igmp_msg_t
 
	migmp_msg
;

171 } 
	tëh_igmp_‰m_ö_t
;

173 #¥agm®
∑ck
 ()

	@multicast/h/vos_alloc.h

28 #i‚de‡
__VOS_ALLOC_H_


29 
	#__VOS_ALLOC_H_


	)

34 #ifde‡
__˝lu•lus


37 
	~<sys/ty≥s.h
>

38 
	~<°dlib.h
>

39 
	~<mÆloc.h
>

59 
	#vosAŒoc
(
size
Ë
	`mÆloc
(size)

	)

79 
	#vosFªe
(
pMemBlock
Ë
	`‰ì
’MemBlock)

	)

100 
	#vosReAŒoc
(
pMemBlock
,
size
Ë
	`ªÆloc
’MemBlock,size)

	)

103 #ifde‡
__˝lu•lus


	@multicast/h/vos_bitmap.h

31 #i‚de‡
__VOS_BITMAP_H_


32 
	#__VOS_BITMAP_H_


	)

34 #ifde‡
__˝lu•lus


40 
	~<lw_ty≥.h
>

42 
UINT16
 
vosFú°SëBôPosGë
–
UINT32
 
VÆue
, UINT32 
SèπPosôi⁄
 );

43 
UINT16
 
vosLa°SëBôPosGë
–
UINT32
 
VÆue
);

44 
UINT16
 
vosFú°CÀ¨BôPosGë
–
UINT32
 
VÆue
, UINT32 
SèπPosôi⁄
 );

45 
UINT32
 
vosBôCÀ¨
–UINT32 
OrigöÆVÆue
, UINT32 
BôPosôi⁄
 );

46 
UINT32
 
vosBôSë
–UINT32 
OrigöÆVÆue
, UINT32 
BôPosôi⁄
 );

47 
UINT32
 
vosSëBôsGë
(UINT32 
VÆue
);

48 
UINT32
 
vosCÀ¨BôsGë
(UINT32 
VÆue
);

50 íum{ 
FIRST_BIT_POSITION
 = 0 };

52 #ifde‡
VOS_BITMAP_MAIN


54 
UINT16


55 
aSëBô
[] =

74 
UINT8


75 
aRevî£Bô
[] =

111 
UINT32
 
aMaskBô
[] =

122 
UINT32
 
aCÀ¨BôM≠
[] =

134 
UINT32
 
aCÀ¨BôM≠
[];

135 
UINT16
 
aSëBô
[];

136 
UINT32
 
aMaskBô
[];

137 
UINT8
 
aRevî£Bô
[];

141 
	#VOS_UIN32_VALUE_REVERSE
–
VÆue
 ) \

	)

143 
UINT8
 
	gTemp
 = (
VÆue
); \

144 
UINT32
 
	gVÆ
; \

145 
	gVÆ
 = 
aRevî£Bô
[
Temp
]; \

146 
	gVÆ
 = 
VÆ
 << 8; \

147 
	gTemp
 = (
VÆue
) >> 8; \

148 
	gVÆ
 +
aRevî£Bô
[
Temp
]; \

149 
	gVÆ
 = 
VÆ
 << 8; \

150 
	gTemp
 = (
VÆue
) >> 16; \

151 
	gVÆ
 +
aRevî£Bô
[
Temp
]; \

152 
	gVÆ
 = 
VÆ
 << 8; \

153 
	gTemp
 = (
VÆue
) >> 24; \

154 
	gVÆ
 +
aRevî£Bô
[
Temp
]; \

155 (
	gVÆue
Ë
VÆ
; \

164 
	#VOS_FIRST_SET_BIT_POS_GET
–
BôPosôi⁄
, 
VÆue
, 
SèπPosôi⁄
 ) \

	)

166 
UINT32
 
	gTempVÆ
 = (
VÆue
Ë& 
aMaskBô
[
SèπPosôi⁄
]; \

167 if–(
	gTempVÆ
Ë=0 ) (
BôPosôi⁄
Ë
INVALID_16
; \

169 if–
	gTempVÆ
 > 0x0000FFFF ) \

170 if–
	gTempVÆ
 > 0x00FFFFFF ) \

171 (
	gBôPosôi⁄
Ë
aSëBô
[*(
UINT8
 *)(&
TempVÆ
 )] - 1 ; \

173 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
TempVÆ
 )+1)] + 7; \

175 if–(
	gTempVÆ
) > 0x000000FF ) \

176 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
TempVÆ
 ) + 2)] + 15; \

178 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
TempVÆ
 ) + 3)] +23; \

187 
	#VOS_FIRST_CLEAR_BIT_POS_GET
–
BôPosôi⁄
, 
VÆue
 , 
SèπPosôi⁄
 ) \

	)

189 
UINT32
 
	gBô
 = (
VÆue
) ^ 0xFFFFFFFF; \

190 
	gBô
 &
aMaskBô
[(
SèπPosôi⁄
)]; \

191 if–
	gBô
 =0 ) (
BôPosôi⁄
Ë
INVALID_16
; \

193 if–
	gBô
 > 0x0000FFFF ) \

194 if–
	gBô
 > 0x00FFFFFF ) \

195 (
	gBôPosôi⁄
Ë
aSëBô
[*(
UINT8
 *)(&
Bô
 )] - 1 ; \

197 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
Bô
 )+1)] + 7; \

199 if–
	gBô
 > 0x000000FF ) \

200 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
Bô
 ) + 2)] + 15; \

202 (
	gBôPosôi⁄
Ë
aSëBô
[*((
UINT8
 *)(&
Bô
 ) + 3)] +23; \

212 
	#VOS_IS_BIT_SET
–
BôPosôi⁄
, 
VÆ
 ) \

	)

213 –(
	gVÆ
Ë& ~
	gaCÀ¨BôM≠
[(
BôPosôi⁄
)] )

215 
	#VOS_IS_BIT_CLEARED
–
BôPosôi⁄
, 
VÆ
 ) \

	)

216 –((
	gVÆ
Ë& ~
	gaCÀ¨BôM≠
[(
BôPosôi⁄
)]) ^ ~aClearBitMap[BitPosition] )

218 
	#VOS_BIT_CLEAR
–
OrigöÆVÆue
, 
BôPosôi⁄
 ) \

	)

220 if–(
	gBôPosôi⁄
) < 32 ) \

221 (
	gOrigöÆVÆue
Ë&
aCÀ¨BôM≠
[(
BôPosôi⁄
)]; \

224 
	#VOS_BIT_SET
–
OrigöÆVÆue
, 
BôPosôi⁄
 ) \

	)

226 if–(
	gBôPosôi⁄
) < 32 ) \

227 (
	gOrigöÆVÆue
Ë|~
aCÀ¨BôM≠
[(
BôPosôi⁄
)]; \

231 #ifde‡
__˝lu•lus


	@multicast/h/vos_config.h

29 #i‚de‡
__VOS_CONFIG_H_


30 
	#__VOS_CONFIG_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~<vos_ty≥s.h
>

39 
	#OP_VOS_CONFIG_STR_MAX
 128

	)

41 
	#FLASH_DEV_NAME_CFG
 "/dev/mtdcfg"

	)

42 
	#FLASH_DEV_NAME_OS1
 "/dev/mtdk0"

	)

43 
	#FLASH_DEV_NAME_OS2
 "/dev/mtdk1"

	)

46 
FLASH_BOOT_FLAG_NORMAL
,

47 
FLASH_BOOT_FLAG_UPGRADE
,

48 
FLASH_BOOT_FLAG_MAX


52 
FLASH_BOOT_FLAG_NORMAL_OFFSET
,

53 
FLASH_BOOT_FLAG_UPGRADE_OFFSET
,

54 
FLASH_CONFIG_FILE_LEN_OFFSET
,

55 
FLASH_CONFIG_FILE_CHSUM_OFFSET
 = 10

62 
	#FLASH_BOOT_OS1_FLAG
 '1'

	)

63 
	#FLASH_BOOT_OS2_FLAG
 '2'

	)

76 
vosC⁄figGëFromFœsh
(*
toFûeName
);

78 
vosC⁄figInô
();

79 
vosC⁄figDe°roy
();

81 
vosC⁄figBoŸFœgSë
(
uöt8
 
off£t
, uöt8 
vÆue
);

82 
uöt8
 
vosC⁄figBoŸFœgGë
(uöt8 
off£t
);

84 
vosC⁄figFûeLígthSë
(
uöt32
 
vÆue
);

85 
uöt32
 
vosC⁄figFûeLígthGë
();

87 
vosC⁄figFûeCheckSumSë
(
uöt32
 
vÆue
);

88 
uöt32
 
vosC⁄figFûeCheckSumGë
();

90 
vosC⁄figSave
(*
‚ame
);

91 
vosC⁄figExp‹t
(*
‚ame
);

92 
vosC⁄figEø£
();

94 
vosC⁄figRe‰esh
();

95 
vosC⁄figRe‰eshByModuÀ
(*
‚ame
);

97 
vosC⁄figFlush
();

98 
vosC⁄figFlushByModuÀ
(*
‚ame
);

100 
vosC⁄figShowByKey
(*
‚ame
, *
£˘i⁄
, *
key
, 
fd
);

101 
vosC⁄figShowBySe˘i⁄
(*
‚ame
, *
£˘i⁄
, 
fd
);

102 
vosC⁄figShowByModuÀ
(*
‚ame
, 
fd
);

103 
vosC⁄figShow
(
fd
);

105 *
vosC⁄figVÆueGë
(

106 *
‚ame
,

107 c⁄° *
£˘i⁄
,

108 *
key
,

109 *
deÁu…_vÆue
);

110 
vosC⁄figI¡egîGë
(

111 *
‚ame
,

112 *
£˘i⁄
,

113 *
key
,

114 
deÁu…_vÆue
);

115 
uöt32
 
vosC⁄figUI¡32Gë
(

116 *
‚ame
,

117 *
£˘i⁄
,

118 *
key
,

119 
uöt32
 
deÁu…_vÆue
);

121 
vosC⁄figVÆueSë
(

122 *
‚ame
,

123 c⁄° *
£˘i⁄
,

124 *
key
,

125 c⁄° *
vÆue
);

126 
vosC⁄figI¡egîSë
(

127 *
‚ame
,

128 *
£˘i⁄
,

129 *
key
,

130 
vÆue
);

131 
vosC⁄figUI¡32Së
(

132 *
‚ame
,

133 *
£˘i⁄
,

134 *
key
,

135 
uöt32
 
vÆue
);

137 
vosC⁄figModuÀDñëe
(*
‚ame
);

138 
vosC⁄figSe˘i⁄Dñëe
(*
‚ame
, c⁄° *
£˘i⁄
);

139 
vosC⁄figKeyDñëe
(

140 *
‚ame
,

141 *
£˘i⁄
,

142 *
key
);

144 
vosC⁄figModuÀCou¡
();

145 
vosC⁄figSe˘i⁄Cou¡
(*
‚ame
);

146 
vosC⁄figKeyCou¡
(*
‚ame
,

147 *
£˘i⁄
);

149 
vosC⁄figSe˘i⁄Cª©e
(

150 *
‚ame
,

151 c⁄° *
£˘i⁄
);

152 
vosC⁄figModuÀIsExi°ed
(*
‚ame
);

153 
vosC⁄figSe˘i⁄IsExi°ed
(

154 *
‚ame
,

155 c⁄° *
£˘i⁄
);

156 
vosC⁄figKeyIsExi°ed
(

157 *
‚ame
,

158 c⁄° *
£˘i⁄
,

159 *
key
);

161 
vosC⁄figSe˘i⁄GëByIndex
(*
‚ame
, 
ödex
, **
£˘i⁄
);

162 
vosC⁄figKeyGëByIndex
(

163 *
‚ame
,

164 *
£˘i⁄
,

165 
ödex
,

166 **
key
,

167 **
vÆue
);

169 #ifde‡
__˝lu•lus


	@multicast/h/vos_hash.h

29 #i‚de‡
__VOS_HASH_H_


30 
	#__VOS_HASH_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~<°rög.h
>

38 
	~<vos_ty≥s.h
>

40 #i‚de‡
__USE_ISOC99


41 
	#ölöe


	)

44 
	#vosHashTabÀCª©e
(
hSize
Ë\

	)

45 
vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosHashE¡ryFªe
, 
hSize
)

47 
HASH_ENTRY_s
;

48 
HASH_TABLE_s
;

49 
HASH_TABLE_s
 
	tHASH_TABLE_t
;

51 
uöt32
 
vosSåögHash
(*
§c
);

52 
vosEquÆSåög
(*
k1
, *
k2
);

53 
vosHashE¡ryFªe
(*
key
, *
vÆue
);

55 
HASH_TABLE_t
 *
vosHashCª©e
(
uöt32
 (*
keyfunc
)(*),

56 (*
com∑ªfunc
)(*, *),

57 (*
íåyde°royfunc
)(*, *),

58 
size
);

59 
vosHashCÀ¨
(
HASH_TABLE_t
 *
èb
);

60 
vosHashFªe
(
HASH_TABLE_t
 *
èb
);

61 
vosHashIn£π
(*
key
, *
d©a
, 
HASH_TABLE_t
 *
èb
);

62 
vosHashRemove
(*
key
, 
HASH_TABLE_t
 *
èb
);

63 *
vosHashVÆue
(*
key
, 
HASH_TABLE_t
 *
èb
);

64 
vosHashVÆueGëByIndex
(
uöt32
 
ödex
,

65 
HASH_TABLE_t
 *
èb
,

66 **
key
,

67 **
d©a
);

68 
vosHashF‹EachDo
(
HASH_TABLE_t
 *
èb
, (
cb
)(*, *));

69 
vosHashF‹EachDoCb
(
HASH_TABLE_t
 *
èb
,

70 
FUNCPTR
 
pCÆlback
,

71 
uöt32
 
ulArg3
,

72 
uöt32
 
ulArg4
,

73 
uöt32
 
ulArg5
,

74 
uöt32
 
ulArg6
,

75 
uöt32
 
ulArg7
,

76 
uöt32
 
ulArg8
);

78 
vosHashSize
(
HASH_TABLE_t
 *
èb
);

79 
vosHashCou¡
(
HASH_TABLE_t
 *
èb
);

80 
vosHashIãms
(
HASH_TABLE_t
 *
èb
);

82 #ifde‡
__˝lu•lus


	@multicast/h/vos_io.h

29 #i‚de‡
__VOS_IO_H_


30 
	#__VOS_IO_H_


	)

32 #ifde‡
__˝lu•lus


39 #ifde‡
NO_FILE_IO


40 * 
	tFILE
;

42 
	~<°dio.h
>

44 
	~<uni°d.h
>

45 
	~<f˙é.h
>

46 
	~<°d¨g.h
>

47 
	~<lw_ty≥.h
>

51 
	#OP_VOS_NAME_MAX
 256

	)

53 
	#OP_STDIN_FILENO
 0

	)

54 
	#OP_STDOUT_FILENO
 1

	)

55 
	#OP_STDERR_FILENO
 2

	)

61 
	sVOS_DIRENT_s
 {

62 
	gdúName
[
OP_VOS_NAME_MAX
];

65 
	sVOS_DIR_s
 {

66 
	gisNëIO
;

67 *
	gpvDú
;

68 
VOS_DIRENT_s
 
	gde
;

69 } 
	tVOS_DIR_t
;

72 
vosIOInô
();

73 
vosIODe°roy
();

74 
vosC⁄sﬁeLock
();

75 
vosC⁄sﬁeU∆ock
();

77 
vosPrötk
(const *, ...) ;

79 
vosVPrötk
(c⁄° *, 
va_li°
 
≠
);

81 
vosPrötkC⁄sE«bÀ
(
íabÀ
);

82 
vosPrötkC⁄sIsE«bÀd
();

83 
vosPrötkC⁄s
(const *, ...) ;

86 
vosPrötkFûeE«bÀ
(
íabÀ
);

87 
vosPrötkFûeIsE«bÀd
();

88 
vosPrötkFûeO≥n
(*
fûíame
, 
≠≥nd
);

89 
vosPrötkFûeClo£
();

90 
vosPrötkFûe
(const *, ...) ;

92 
vosVPrötkFûe
(c⁄° *, 
va_li°
 
≠
);

93 *
vosPrötkFûeName
();

96 
VOS_DIR_t
 *
vosO≥nDú
(*
dúName
);

97 
vosClo£Dú
(
VOS_DIR_t
 *
pDú
);

98 
VOS_DIRENT_s
 *
vosRódDú
(
VOS_DIR_t
 *
pDú
);

99 
vosRewödDú
(
VOS_DIR_t
 *
pDú
);

102 
vosO≥n
(*
«me
, 
oÊag
, ...);

103 
vosClo£
(
fd
);

104 
FILE
 *
vosFO≥n
(*
«me
, *
mode
);

105 
vosFClo£
(
FILE
 *
Â
);

106 
vosHomeDúSë
(*
dú
);

107 *
vosHomeDúGë
(*
buf
, 
size_t
 
size
);

108 
vosHomeDúRemove
();

109 *
vosCuºítDúGë
(*
buf
, 
size_t
 
size
);

110 
vosLi°Dú
(*
fûíame
, *
Êags
);

111 
vosCh™geDú
(*
fûíame
);

112 
vosRemove
(*
fûíame
);

113 
vosRíame
(*
fûe_ﬁd
, *
fûe_√w
);

114 
vosMakeDú
(*
∑th
);

115 
vosRemoveDú
(*
∑th
);

116 
vosSˇnDúFûes
(*
∑th
, *
«me
, (
cb
)(*));

117 * 
vosFGëWhﬁeLöe
(
FILE
 *
Â
);

121 *
vosRódLöe
(
ªadFd
, 
wrôeFd
, *
¥om±
, *
buf
, 
bufsize
, *
deÊ
);

122 
vosRódCh¨
(
ªadFd
, 
wrôeFd
, c⁄° *
¥om±
);

124 
vosGëCh¨
(
fd
);

125 * 
vosGës
(
fd
, *
s
);

126 * 
vosFGës
(*
s
, 
size
, 
fd
);

127 
vosSa„Ród
(
fd
, *
buf
, 
UINT32
 
cou¡
);

128 
vosSa„Wrôe
(
fd
, c⁄° *
buf
, 
UINT32
 
cou¡
);

129 
vosPutCh¨
(
fd
, 
c
);

130 
vosPuts
(
fd
, c⁄° *
s
);

131 
vosFPuts
(
fd
, c⁄° *
s
);

133 
vosPrötf
(
fd
, c⁄° *
fmt
, ...);

135 
vosVPrötf
(
fd
, c⁄° *
fmt
, 
va_li°
 
v¨g
);

137 
vosN⁄BlockögOn
(
fd
);

138 
vosN⁄BlockögOff
(
fd
);

140 
vosFûeRód
–*
fûíame
, **
buf„r
 );

141 
vosFûeWrôe
–*
fûíame
, *
buf„r
, 
size_t
 
nbyãs
 );

142 
vosFûeSize
–*
fûíame
);

145 #ifde‡
__˝lu•lus


	@multicast/h/vos_libc.h

29 #i‚de‡
__VOS_LIBC_H_


30 
	#__VOS_LIBC_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~<vos_ty≥s.h
>

38 
	~<°d¨g.h
>

39 
	~<°rög.h
>

43 
	#RTOS_STRINGS


	)

47 #ifde‡
RTOS_STRINGS


48 
	#vosSåLí
 
°æí


	)

49 
	#vosSåCpy
 
°r˝y


	)

50 
	#vosSåCmp
 
°rcmp


	)

51 
	#vosMemCpy
 
mem˝y


	)

52 
	#vosMemSë
 
mem£t


	)

54 
vosSåLí
(c⁄° *
s
);

55 *
vosSåCpy
(*, const *);

56 *
vosSåC©
(*
d°
, c⁄° *
§c
);

57 
vosSåCmp
(const *, const *);

58 *
vosMemCpy
(*, c⁄° *, 
size_t
);

59 *
vosMemSë
(*, , 
size_t
);

63 
vosMemCmp
(c⁄° *, c⁄° *, 
size_t
);

65 *
vosSåDup
(c⁄° *
s
);

66 
vosSåToI¡
(c⁄° *
s
, **
íd
);

67 
vosSåToUI¡
(c⁄° *
s
, **
íd
);

68 
vosI¡ToSå
(*
buf
, 
uöt32
 
num
,

69 
ba£
, 
ˇps
, 
¥ec
);

70 *
vosSåSå
(c⁄° *
s1
, c⁄° *
s2
);

72 #ifde‡
COMPILER_HAS_DOUBLE


73 
vosDoubÀToSå
(*
buf
, 
f
, 
decimÆs
);

75 
vosVS≈rötf
(*
buf
, 
size_t
 
bufsize
,

76 c⁄° *
fmt
, 
va_li°
 
≠
);

77 
vosVS¥ötf
(*
buf
, c⁄° *
fmt
, 
va_li°
 
≠
);

78 
vosS≈rötf
(*
buf
, 
size_t
 
bufsize
, c⁄° *
fmt
, ...);

79 
vosS¥ötf
(*
buf
, c⁄° *
fmt
, ...);

80 *
vosSa„SåNCpy
(*
d°
, c⁄° *
§c
, 
size_t
 
size
);

81 *
vosLa°Ch¨Is
(c⁄° *
s
, 
c
);

82 *
vosVA•rötf
(c⁄° *
fmt
, 
va_li°
 *
¨gs
);

83 *
vosA•rötf
(c⁄° *
fmt
, ...);

85 
uöt32
 *
¸c32FûlTabÀ
(
ídün
);

86 
uöt32
 
vosCRC32
(c⁄° *
s
,
size
);

87 
vosCheckCRC
(c⁄° *
s
,
size
,
vÆue
);

88 
vosSy°em
(c⁄° *
cmd
);

91 #ifde‡
__˝lu•lus


	@multicast/h/vos_macros.h

30 #i‚de‡
__MACROS_H_


31 
	#__MACROS_H_


	)

33 #ifde‡
__˝lu•lus


37 
	~<°dio.h
>

73 #ifde‡
DEBUG


75 
	#ASSERT
(
e
,
s
Ë((!”)Ë? \

	)

76 
¥ötf
("**ASSERT!: FILE: %s FUNC: %s Ln: %4d <"#e">.\r\n%s\r\n", \

77 
__FILE__
, 
__FUNCTION__
, 
__LINE__
,(
s
)): () 0)

81 
	#ASSERT
(
e
,
s
)

	)

116 
	#WARNMSG
(
s
Ë
	`¥ötf
("****WARN!: FILE: %†FUNC: %† Ln: %4d <%s>.\r\n", 
__FILE__
, 
__FUNCTION__
, 
__LINE__
, s)

	)

149 
	#DIM
(
Aºay
Ë((((Aºay)Ë/ ((Aºay)[0])))

	)

182 #i‚de‡
LASTINDEX


183 
	#LASTINDEX
(
¨øy
Ë((◊ºay))/(◊ºay[0]))-1)

	)

196 #i‚de‡
NULLCHAR


197 
	#NULLCHAR
 '\0'

	)

218 
	#SAME
 0

	)

250 #i‚de‡
LASTCHAR


251 
	#LASTCHAR
(
s
Ë((s)[
	`°æí
((s))-1])

	)

284 #i‚de‡
ISMTSTRING


285 
	#ISMTSTRING
(
s
Ë(s)[0] =
NULLCHAR
 ? 
TRUE
: 
FALSE


	)

319 #i‚de‡
MAX


320 
	#MAX
(
a
,
b
Ë((◊Ë> (b)Ë? (aË: (b))

	)

321 
	#MIN
(
a
,
b
Ë((◊Ë< (b)Ë? (aË: (b))

	)

355 
	#LWRLIM
(
ivÆ
, 
imö
Ë((ivÆË>(imö)Ë? 
TRUE
 : 
FALSE


	)

388 
	#UPRLIM
(
ivÆ
, 
imax
Ë((ivÆË<(imax)Ë? 
TRUE
 : 
FALSE


	)

422 
	#INRANGE
(
ivÆ
, 
imö
, 
imax
Ë
	`LWRLIM
(ivÆ, imöË&& 
	`UPRLIM
(ivÆ, imax)

	)

458 
	#CONSTRAIN
(
vÆ
, 
bŸ
, 
t›
Ë{vÆ = 
	`MAX
(vÆ, bŸ); vÆ = 
	`MIN
(vÆ,Å›);}

	)

460 #ifde‡
__˝lu•lus


	@multicast/h/vos_match.h

29 #i‚de‡
__VOS_MATCH_H_


30 
	#__VOS_MATCH_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~<°dio.h
>

37 
	~<sys/ty≥s.h
>

39 
vosM©ch
(*
°rög
, *
∑âîn
);

41 #ifde‡
__˝lu•lus


	@multicast/h/vos_msq.h

29 #i‚de‡
__VOS_MSQ_H_


30 
	#__VOS_MSQ_H_


	)

32 #ifde‡
__˝lu•lus


36 
	~<vos_ty≥s.h
>

38 
vosMsqInô
(* 
pcP©h
);

39 
vosMsqDe°roy
();

40 
vosMsqCª©e
(
maxMsgLígth
);

41 
vosMsqSíd
(
msqid
, *
msgBuf
, 
uöt32
 
msgsz
);

42 
uöt32
 
vosMsqRe˚ive
(
msqid
, *
msgBuf
, uöt32 
msgsz
);

43 
vosMsqDñëe
(
msqid
);

45 #ifde‡
__˝lu•lus


	@multicast/h/vos_sync.h

3 #i‚de‡
__VOS_SYNC_H_


4 
	#__VOS_SYNC_H_


	)

6 
	~<sys/ty≥s.h
>

7 
	~<°dlib.h
>

8 
	~<î∫o.h
>

9 
	~<sig«l.h
>

10 
	~<uni°d.h
>

11 
	~<±hªad.h
>

12 
	~<£m≠h‹e.h
>

13 
	~<as£π.h
>

15 
	~<vos_Æloc.h
>

16 
	~<vos_thªad.h
>

20 #ifde‡
__˝lu•lus


24 
	#VOS_MUTEX_FOREVER
 (-1)

	)

25 
	#VOS_MUTEX_NOWAIT
 0

	)

27 
	#VOS_SEM_FOREVER
 (-1)

	)

28 
	#VOS_SEM_BINARY
 1

	)

29 
	#VOS_SEM_COUNTING
 0

	)

31 
	#VOS_MUTEX_OK
 0

	)

32 
	#VOS_SEM_OK
 0

	)

34 
	#VOS_MUTEX_t
 
±hªad_muãx_t


	)

35 
	#VOS_SEM_t
 
£m_t


	)

37 
vosMuãxCª©e
(
±hªad_muãx_t
 *
muãx
);

38 
	#vosMuãxDe°roy
(
muãx
Ë
	`±hªad_muãx_de°roy
(muãx)

	)

39 
	#vosMuãxTake
(
muãx
Ë
	`±hªad_muãx_lock
(muãx)

	)

40 
	#vosMuãxGive
(
muãx
Ë
	`±hªad_muãx_u∆ock
(muãx)

	)

42 
vosSemCª©e
(
£m_t
 *
£m
, 
sh¨ed
, 
öôül_cou¡
);

43 
	#vosSemDe°roy
(
£m
Ë
	`£m_de°roy
(£m)

	)

44 
	#vosSemTake
(
£m
Ë
	`£m_waô
(£m)

	)

45 
	#vosSemGive
(
£m
Ë
	`£m_po°
(£m)

	)

47 #ifde‡
__˝lu•lus


	@multicast/h/vos_thread.h

29 #i‚de‡
__VOS_THREAD_H_


30 
	#__VOS_THREAD_H_


	)

32 #ifde‡
__˝lu•lus


40 
	#OP_VOS_THREAD_STKSZ
 65536

	)

44 
	#VOS_THREAD_t
 
±hªad_t


	)

46 
vosThªadInô
();

47 
VOS_THREAD_t
 
vosThªadCª©e
(*
«me
, 
°ackSize
, 
¥i
, *(*
func
)(*), *
¨g
);

48 
vosThªadDe°roy
(
VOS_THREAD_t
);

49 
VOS_THREAD_t
 
vosThªadSñf
();

50 
vosThªadExô
(
rc
);

51 
vosThªadMaöSë
(
VOS_THREAD_t
 
thªad
);

52 
VOS_THREAD_t
 
vosThªadMaöGë
();

53 
vosThªadVîify
(
VOS_THREAD_t
 
thªad
);

54 
vosThªadShow
(
fd
);

57 #ifde‡
__˝lu•lus


	@multicast/h/vos_time.h

29 #i‚de‡
__VOS_TIME_H_


30 
	#__VOS_TIME_H_


	)

32 #ifde‡
__˝lu•lus


38 
	~<lw_ty≥.h
>

42 
	#SECOND_USEC
 (1000000)

	)

46 
	tVOS_TIME_t
;

47 
UINT64
 
	tVOS_TIME_USECS_t
;

51 
VOS_TIME_USECS_t
 
vosTimeU£csGë
();

54 
VOS_TIME_t
 
vosTimeGë
();

56 
vosUDñay
(
UINT32
 
u£c
);

58 
	#vosSÀï
(
£c
Ë
	`¶ìp
(£c)

	)

59 
	#vosUSÀï
(
u£c
Ë
	`u¶ìp
(u£c)

	)

62 #ifde‡
__˝lu•lus


	@multicast/h/vos_timer.h

39 #i‚de‡
__VOS_TIMER_H_


40 
	#__VOS_TIMER_H_


	)

42 #ifde‡
__˝lu•lus


48 
	eTIMER_TYPE_s
 {

49 
TMRT_UNKNOWN
 = 0,

50 
ONE_SHOT_TIMER
 = 1,

51 
REOCURRING_TIMER
 = 2

52 }
	tTIMER_TYPE_t
;

54 
	eTIMER_STATE_s


56 
TMR_ST_FREE
 = 0,

57 
TMR_ST_TAKEN
 = 1,

58 
TMR_ST_RUNNING
 = 2

59 }
	tTIMER_STATE_t
;

61 íum { 
TIMER_GRANULARITY
 = 50 };

63 
	sTIMER_OBJ_s


65 
TIMER_STATE_t
 
°Sèã
;

66 
UINT32
 
ulIndex
;

67 
UINT32
 
ulCÆIndex
;

68 
TIMER_TYPE_t
 
°Ty≥
;

69 
UINT32
 
ulTimeOut
;

70 
TIMER_OBJ_s
 *
p°Pªv
;

71 
TIMER_OBJ_s
 *
p°Next
;

72 (*
p°CÆlBackFunc
)();

73 
UINT32
 
ulCÆlBackArg1
;

74 
UINT32
 
ulCÆlBackArg2
;

75 
UINT32
 
ulCÆlBackArg3
;

76 
UINT32
 
ulCÆlBackArg4
;

77 
UINT32
 
ulCÆlBackArg5
;

78 
UINT32
 
ulCÆlBackArg6
;

79 
UINT32
 
ulCÆlBackArg7
;

80 
UINT32
 
ulCÆlBackArg8
;

81 
UINT64
 
ulWøpCou¡î
;

82 }
	tTIMER_OBJ_t
;

84 
vosTimîInô
();

86 
vosTimîShutdown
();

88 
TIMER_OBJ_t
 * 
vosTimîGëFªe
();

90 
vosTimîRñó£
(
TIMER_OBJ_t
 *
p°Timî
);

92 
vosTimîSèπ
(
TIMER_OBJ_t
 *
p°Timî
,

93 
TIMER_TYPE_t
 
°Ty≥
,

94 
UINT32
 
ulTimeout
,

95 (*
p°CÆlBack
)(),

96 
UINT32
 
ulCÆlBackArg1
,

97 
UINT32
 
ulCÆlBackArg2
,

98 
UINT32
 
ulCÆlBackArg3
,

99 
UINT32
 
ulCÆlBackArg4
,

100 
UINT32
 
ulCÆlBackArg5
,

101 
UINT32
 
ulCÆlBackArg6
,

102 
UINT32
 
ulCÆlBackArg7
,

103 
UINT32
 
ulCÆlBackArg8
);

105 
vosTimîC™˚l
(
TIMER_OBJ_t
 *
p°Timî
);

107 
vosTimîReScheduÀ
(
TIMER_OBJ_t
 *
p°Timî
, 
UINT32
 
ulTimeout
);

109 
vosTimîShow
(
fd
);

111 #ifde‡
__˝lu•lus


	@multicast/h/vos_types.h

1 #i‚de‡
_VOS_TYPE_H_


2 
	#_VOS_TYPE_H_


	)

3 
	töt8
;

4 
	töt16
;

5 
	töt32
;

6 
	töt64
;

7 
	tuöt8
;

8 
	tuöt16
;

9 
	tuöt32
;

10 
	tuöt64
;

11 (*
	gFUNCPTR
) ();

12 (*
	gVOIDFUNCPTR
) ();

13 (*
	gDBLFUNCPTR
) ();

14 (*
	gFLTFUNCPTR
) ();

15 #i‚de‡
INVALID_8


16 
	#INVALID_8
 ((
uöt8
)0xff)

	)

19 #i‚de‡
INVALID_16


20 
	#INVALID_16
 ((
uöt16
)0xffff)

	)

23 #i‚de‡
INVALID_32


24 
	#INVALID_32
 ((
uöt32
)0xffffffff)

	)

27 #i‚de‡
OK


28 
	#OK
 0

	)

31 #i‚de‡
ERROR


32 
	#ERROR
 -1

	)

35 #i‚de‡
NO_ERROR


36 
	#NO_ERROR
 0

	)

	@multicast/src/mc_control.c

2 
	~"vos_ty≥s.h
"

3 
	~"vos_time.h
"

6 
	~<lw_ty≥.h
>

8 
	~<lw_drv_pub.h
>

10 
	~<lw_drv_ªq.h
>

12 
	~"mc_c⁄åﬁ.h
"

13 
	~<î∫o.h
>

14 
	~<vos_sync.h
>

15 
	~<sys/ty≥s.h
>

16 
	~<sys/ùc.h
>

17 
	~<sys/msg.h
>

18 
	~<îr‹s.h
>

19 
	~<sys/io˘l.h
>

20 
	~<sys/sockë.h
>

21 
	~<√töë/ö.h
>

22 
	~<√t/if.h
>

23 
	~<vos_msq.h
>

25 
	~<sys/waô.h
>

26 
	~<sys/fûe.h
>

27 
	~<löux/if_∑ckë.h
>

28 
	~<löux/if_ëhî.h
>

29 
	~<löux/fûãr.h
>

31 
	~"ùc_˛õ¡.h
"

34 
	#SHOW_ON
 0

	)

36 
uöt8
 
	gMC_MODE_SWITCH_OCCUR
 = 0;

39 
	sﬂm_mˇ°_vœn_å™¶©i⁄_íåy
{

40 
uöt16
 
	mmˇ°_vœn
;

41 
uöt16
 
	mùtv_vœn
;

42 }
__©åibuã__
((
∑cked
));

43 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy
 
	tﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
;

45 
VOS_MUTEX_t
 
	ggHo°SídMuãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

46 
INT16
 
e›l_ho°_£nd
(*
pkt
, 
UINT16
 
Àn
);

47 
BOOL
 
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
UINT32
 
vœnId
);

52 
TIMER_OBJ_t
 *
	gmcHo°AgögTimî
 = 
NULL
;

56 
uöt32
 
	gmcVœnNum
 = 0;

58 
uöt32
 
	gmcVœnM≠
[
OP_MAX_VLAN_NUMBER
];

60 
uöt32
 
	gmcMaxGroupPîP‹t
[
ODM_NUM_OF_PORTS
+1];

62 
uöt32
 
	gmcTagO≥rPîP‹t
[
ODM_NUM_OF_PORTS
+1];

64 
uöt32
 
	gmcGroupTŸÆNum
;

67 
MC_VLAN_TRANSLATION_ENTRY_t
 
	gmcTagTøn¶©i⁄TabÀ
[
MC_VLAN_TRANSLATION_ENTRY
];

69 
MC_ROUTER_PORT_ENTRY_t
 
	gmcRouãrP‹t
[
MC_ROUTER_PORT_NUM
];

71 
MC_CONTROL_STATS_t
 
	gmcC⁄åﬁSèts
;

73 
˛Li°
 *
	gmcGroupLi°
;

75 
MC_CONTROL_t
 
	gmcC⁄åﬁBlock
;

77 
uöt32
 
	gmcPktPrötDebug
 = 0;

79 
VOS_SEM_t
 
	gmcGroupSem
;

80 
uöt32
 
	gmcGroupLock
 = 0;

83 
uöt32
 
	gmcDnSwôchTy≥
 = 
MC_DN_SWITCH_TYPE_ONU_1PORT
;

88 #i‚de‡
MAX_MC_MSG_QUEUE


89 
	#MAX_MC_MSG_QUEUE
 1024

	)

92 #i‚de‡
MC_IGMP_MSG_SIZE


93 
	#MC_IGMP_MSG_SIZE
 ((
MC_IGMP_MSG_t
Ë- ())

	)

96 #i‚de‡
MC_TIMER_MSG_SIZE


97 
	#MC_TIMER_MSG_SIZE
 ((
MC_TIMER_MSG_t
Ë- ())

	)

100 
MC_IGMP_MSG_t
 
	gmcIgmpMsg
;

101 
MC_TIMER_MSG_t
 
	gmcTimîMsg
;

103 vﬁ©ûê
	gmcIgmpMsgId
 = -1;

104 vﬁ©ûê
	gmcTimîMsgId
 = -1;

106 
	gmcIgmpSequí˚No
 = 0;

107 
	gmcTimîSequí˚No
 = 0;

109 
VOS_SEM_t
 
	gmcMsgSem
;

110 
VOS_SEM_t
 
	gmcTimîSem
;

111 
uöt32
 
	gmcMsgLock
 = 0;

112 
uöt32
 
	gmcTimîLock
 = 0;

114 
î∫o
;

138 
uöt32


139 
	$chksum
(* 
d©≠å
, 
Àn
)

141 
uöt32
 
acc
;

142 
uöt16
 *
ãmp
;

143 
ãmp
 = (
uöt16
 *)
d©≠å
;

145 
acc
 = 0; 
Àn
 > 1;Üen -= 2) {

147 
acc
 +*
ãmp
++;

151 i‡(
Àn
 == 1) {

152 
acc
 +
	`ht⁄s
((
uöt16
Ë((*(
uöt8
 *Ë
d©≠å
) & 0xff) << 8);

153 
	`mc_¥ötf
("öë: chksum: odd byã %d\n", *(
uöt8
 *Ë
d©≠å
);

156  
acc
;

157 
	}
}

175 
uöt16


176 
	$›_lib_öë_chksum
(* 
d©≠å
, 
uöt16
 
Àn
)

178 
uöt32
 
acc
;

180 
acc
 = 
	`chksum
(
d©≠å
, 
Àn
);

182 
acc
 >> 16) {

183 
acc
 = (acc & 0xffff) + (acc >> 16);

185  ~(
acc
 & 0xffff);

186 
	}
}

189 
	$pktPrötDebug
(* 
pkt
, 
Àn
)

191 
i
;

192 if(
mcPktPrötDebug
) {

193 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "------ëhî√à∑ckëÖröt------:Àn=%d.\r\n", 
Àn
);

194 
i
 = 0; i < (
Àn
 + 3) / 4; i++) {

195 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%08x ", *((*Ë
pkt
 + 
i
));

196 i‡(
i
 != 0 && (i + 1) % 8 == 0) {

197 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "\n");

200 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "\n");

204 
	}
}

206 
	$descPrötDebug
(
MC_PACKET_DESC_t
 *
desc
)

208 
uöt8
 
daMacSå
[
SMALL_BUF_LEN
];

209 
uöt8
 
ßMacSå
[
SMALL_BUF_LEN
];

210 
uöt8
 
de°IpSå
[
SMALL_BUF_LEN
];

211 
uöt8
 
§cIpSå
[
SMALL_BUF_LEN
];

212 
uöt8
 
groupAddªssSå
[
SMALL_BUF_LEN
];

214 
	`vosMemSë
(
daMacSå
, 0, (daMacStr));

215 
	`vosMemSë
(
ßMacSå
, 0, (saMacStr));

216 
	`vosMemSë
(
de°IpSå
, 0, (destIpStr));

217 
	`vosMemSë
(
§cIpSå
, 0, (srcIpStr));

218 
	`vosMemSë
(
groupAddªssSå
, 0, (groupAddressStr));

220 
	`˛SåögGëByMac
(
daMacSå
, 
desc
->
daMac
);

221 
	`˛SåögGëByMac
(
ßMacSå
, 
desc
->
ßMac
);

222 
	`˛SåögGëByIp
(
de°IpSå
, 
desc
->
de°Ip
);

223 
	`˛SåögGëByIp
(
§cIpSå
, 
desc
->
§cIp
);

224 
	`˛SåögGëByIp
(
groupAddªssSå
, 
desc
->
igmpGroupAdªss
);

226 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Desc: daMac=%s, saMac=%s,ÅagType=%d, vlan=%d, destIp=%s, srcIp=%s, groupAddress=%s, igmpType=%d,ÖortId=%d.\r\n",

227 
daMacSå
, 
ßMacSå
, 
desc
->
ögªssTagTy≥
, desc->
cVœn
, 
de°IpSå
, 
§cIpSå
, 
groupAddªssSå
, desc->
igmpTy≥
, desc->
ögªssP‹tId
);

230 
	}
}

233 
	$mcGroupSemLock
()

235 if(
mcGroupLock
 == 0)

237 i‡(
VOS_SEM_OK
 !
	`vosSemCª©e
(&
mcGroupSem
, 0, 1))

239 
	`mc_¥ötf
("GroupÜock initial failed.\n");

242 
mcGroupLock
 = 1;

244 
	`vosSemTake
(&
mcGroupSem
);

247 
	}
}

248 
	$mcGroupSemUnLock
()

250 i‡(
mcGroupLock
 == 0)

253 
	`vosSemGive
(&
mcGroupSem
);

256 
	}
}

259 
	$mcIgmpMsgSeqNoGë
()

261 
mcIgmpSequí˚No
++;

263 i‡(
mcIgmpSequí˚No
 > 
MAX_MC_MSG_QUEUE
)

264 
mcIgmpSequí˚No
 = 1;

265  
mcIgmpSequí˚No
;

266 
	}
}

268 
	$mcMsgSemLock
()

270 i‡(
mcMsgLock
 == 0)

272 i‡(
VOS_SEM_OK
 !
	`vosSemCª©e
(&
mcMsgSem
, 0, 1))

274 
	`mc_¥ötf
("mcMsgÜock initial failed.\n");

277 
mcMsgLock
 = 1;

279 
	`vosSemTake
(&
mcMsgSem
);

282 
	}
}

285 
	$mcMsgSemUnLock
()

287 i‡(
mcMsgLock
 == 0)

290 
	`vosSemGive
(&
mcMsgSem
);

293 
	}
}

296 
	$mcI≈utMsgSíd
(
uöt8
 *
ögªssRawPkt
, 
uöt32
 
ögªssRawPktLí
, uöt32 
p‹tId
)

298 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcI≈utMsgSíd:Ö‹tId=%d.\r\n", 
p‹tId
);

300 
	`mcMsgSemLock
();

302 
mcIgmpMsg
.
lSeqNo
 = 
	`mcIgmpMsgSeqNoGë
();

303 
mcIgmpMsg
.
pBuff
 = 
	`vosAŒoc
(
BIG_BUF_LEN
);

304 i‡(
NULL
 =
mcIgmpMsg
.
pBuff
)

306 
	`mcMsgSemUnLock
();

309 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

310 
mcIgmpMsg
.
Àn
 = 
ögªssRawPktLí
;

311 
mcIgmpMsg
.
p‹tId
 =ÖortId;

312 
	`vosMemCpy
(
mcIgmpMsg
.
pBuff
, 
ögªssRawPkt
, 
ögªssRawPktLí
);

314 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcI≈utMsgSíd:ÖBuff=0x%xÜí=%dÖ‹tId=%d.\r\n", 
mcIgmpMsg
.
pBuff
, mcIgmpMsg.
Àn
, mcIgmpMsg.
p‹tId
);

316 
	`vosMsqSíd
(
mcIgmpMsgId
, (*)&
mcIgmpMsg
, 
MC_IGMP_MSG_SIZE
);

318 
	`mcMsgSemUnLock
();

319 
	}
}

322 
	$mcTimîMsgSeqNoGë
()

324 
mcTimîSequí˚No
++;

326 i‡(
mcTimîSequí˚No
 > 
MAX_MC_MSG_QUEUE
)

327 
mcTimîSequí˚No
 = 1;

328  
mcTimîSequí˚No
;

329 
	}
}

332 
	$mcTimîSemLock
()

334 i‡(
mcTimîLock
 == 0)

336 i‡(
VOS_SEM_OK
 !
	`vosSemCª©e
(&
mcTimîSem
, 0, 1))

338 
	`mc_¥ötf
("mcTimerÜock initial failed.\n");

341 
mcTimîLock
 = 1;

343 
	`vosSemTake
(&
mcTimîSem
);

346 
	}
}

348 
	$mcTimîSemUnLock
()

350 i‡(
mcTimîLock
 == 0)

353 
	`vosSemGive
(&
mcTimîSem
);

356 
	}
}

359 
	$mcTimîMsgSíd
(
MC_TIMER_MSG_TYPE_e
 
msgTy≥
, 
MC_PACKET_DESC_t
 *
desc
)

361 
	`mcTimîSemLock
();

363 
mcTimîMsg
.
lSeqNo
 = 
	`mcIgmpMsgSeqNoGë
();

364 
mcTimîMsg
.
msgTy≥
 = msgType;

365 i‡(
desc
)

367 
mcTimîMsg
.
desc
 =(
uöt8
 *)desc;

369 
	`vosMsqSíd
(
mcTimîMsgId
, (*)&
mcTimîMsg
, 
MC_TIMER_MSG_SIZE
);

371 
	`mcTimîSemUnLock
();

372 
	}
}

375 
OPL_STATUS
 
	$mcVœnM≠Inô
()

377 
	`vosMemSë
(
mcVœnM≠
,0,(mcVlanMap));

379  
OPL_OK
;

380 
	}
}

383 
OPL_STATUS
 
	$mcVœnM≠Add
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

386 i‡(0 =
mcVœnM≠
[
vœnId
])

388 
mcVœnNum
++;

391 
mcVœnM≠
[
vœnId
] |1<<
p‹tId
;

393  
OPL_OK
;

394 
	}
}

397 
OPL_STATUS
 
	$mcVœnM≠Dñ
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

399 
mcVœnM≠
[
vœnId
] &~(1<<
p‹tId
);

401 i‡(0 =
mcVœnM≠
[
vœnId
])

403 i‡(0 < 
mcVœnNum
)

405 
mcVœnNum
--;

409  
OPL_OK
;

410 
	}
}

413 
uöt32
 
	$mcVœnNumGë
()

415  
mcVœnNum
;

416 
	}
}

418 
OPL_STATUS
 
	$mcVœnExi°
(
uöt32
 
vœnId
)

420 i‡(0 =
mcVœnM≠
[
vœnId
]) {

421  
OPL_FALSE
;

424  
OPL_TRUE
;

425 
	}
}

427 
OPL_STATUS
 
	$mcVœnM≠Exi°
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

429 if((
mcVœnM≠
[
vœnId
]&1<<
p‹tId
)!=0) {

430  
OPL_TRUE
;

433  
OPL_FALSE
;

435 
	}
}

438 
OPL_STATUS
 
	$mcTagO≥rPîP‹tInô
()

440 
	`vosMemSë
(
mcTagO≥rPîP‹t
,0,(mcTagOperPerPort));

442  
OPL_OK
;

443 
	}
}

446 
OPL_STATUS
 
	$mcTagO≥rPîP‹tSë
(
uöt32
 
p‹tId
, 
MC_TAG_OPER_MODE_t
 
ègO≥r
)

448 
mcTagO≥rPîP‹t
[
p‹tId
] = 
ègO≥r
;

450  
OPL_OK
;

451 
	}
}

454 
MC_TAG_OPER_MODE_t
 
	$mcTagO≥rPîP‹tGë
(
uöt32
 
p‹tId
)

456  
mcTagO≥rPîP‹t
[
p‹tId
];

457 
	}
}

460 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀInô
()

462 
	`vosMemSë
(
mcTagTøn¶©i⁄TabÀ
,0,(mcTagTranslationTable));

464  
OPL_OK
;

465 
	}
}

467 
	$mcTagTøn¶©i⁄TabÀNum
()

469 
uöt32
 
i
;

470 
num
=0;

471 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++)

473 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

475 
	`mc_¥ötf
("***caution ***Åhere isá sameÉntry \r\n");

476 
num
++;

480  
num
;

481 
	}
}

484 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀAdd
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

486 
uöt32
 
i
;

488 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

489 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

490 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId

491 &&
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 == mcVid

492 &&
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 == userVid) {

494 
	`mc_¥ötf
("***caution ***Åhere isá sameÉntry \r\n");

496  
OPL_OK
;

501 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

502 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
!=
OPL_ENABLE
) {

503 
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
 = 
OPL_ENABLE
;

504 
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 =ÖortId;

505 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 = mcVid;

506 
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 = userVid;

508  
OPL_OK
;

513  
OPL_FULL
;

514 
	}
}

517 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀDñ
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

519 
uöt32
 
i
;

521 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

522 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

523 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId

524 &&
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 == mcVid

525 &&
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 == userVid) {

526 
	`vosMemSë
(&
mcTagTøn¶©i⁄TabÀ
[
i
], 0, (
MC_VLAN_TRANSLATION_ENTRY_t
));

528  
OPL_OK
;

534  
OPL_NOT_EXIST
;

535 
	}
}

537 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀGë
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 *
u£rVid
)

539 
uöt32
 
i
;

541 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

542 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

543 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId

544 &&
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 == mcVid) {

545 *
u£rVid
 = 
mcTagTøn¶©i⁄TabÀ
[
i
].userVid;

546  
OPL_OK
;

552  
OPL_NOT_EXIST
;

553 
	}
}

556 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀU£rvidExi°
(
uöt32
 
p‹tId
, uöt32 
u£rVid
)

558 
uöt32
 
i
;

560 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++)

562 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
)

564 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
=ı‹tId && 
u£rVid
==mcTagTranslationTable[i].userVid)

566  
OPL_TRUE
;

572  
OPL_FALSE
;

573 
	}
}

576 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀCÀ¨
(
uöt32
 
p‹tId
)

578 
uöt32
 
i
;

580 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

581 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

582 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId) {

583 
	`vosMemSë
(&
mcTagTøn¶©i⁄TabÀ
[
i
], 0, (
MC_VLAN_TRANSLATION_ENTRY_t
));

589  
OPL_OK
;

590 
	}
}

593 
OPL_STATUS
 
	$mcRouãrP‹tInô
()

595 
	`vosMemSë
(
mcRouãrP‹t
,0,(mcRouterPort));

598 
öt32
 
	`DRV_GëSwôchU∂ökLP‹t
(
uöt32
 *
puiLP‹t
);

599 
uöt32
 
uiLU∂ökP‹t
;

600 
öt32
 
iRë
;

602 
iRë
 = 
	`DRV_GëSwôchU∂ökLP‹t
(&
uiLU∂ökP‹t
);

603 i‡(
NO_ERROR
 !
iRë
)

605  
OPL_ERROR
;

608 ()
	`mcRouãrP‹tAdd
(
uiLU∂ökP‹t
);

613  
OPL_OK
;

614 
	}
}

617 
OPL_STATUS
 
	$mcRouãrP‹tAdd
(
uöt32
 
p‹tId
)

619 
uöt32
 
i
;

621 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

622 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

623 if(
mcRouãrP‹t
[
i
].
rouãrP‹tId
 =
p‹tId
) {

624  
OPL_EXIST
;

629 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

630 if(
mcRouãrP‹t
[
i
].
íabÀ
!=
OPL_ENABLE
) {

631 
mcRouãrP‹t
[
i
].
íabÀ
 = 
OPL_ENABLE
;

632 
mcRouãrP‹t
[
i
].
rouãrP‹tId
 = 
p‹tId
;

634  
OPL_OK
;

638  
OPL_FULL
;

639 
	}
}

642 
OPL_STATUS
 
	$mcRouãrP‹tDñ
(
uöt32
 
p‹tId
)

644 
uöt32
 
i
;

646 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

647 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

648 if(
mcRouãrP‹t
[
i
].
rouãrP‹tId
 =
p‹tId
) {

649 
	`vosMemSë
(&
mcRouãrP‹t
[
i
], 0, (
MC_ROUTER_PORT_ENTRY_t
));

650  
OPL_OK
;

655  
OPL_NOT_EXIST
;

656 
	}
}

659 
OPL_STATUS
 
	$mcRouãrP‹tExi°
(
uöt32
 
p‹tId
)

661 
uöt32
 
i
;

663 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

664 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

665 if(
mcRouãrP‹t
[
i
].
rouãrP‹tId
 =
p‹tId
) {

666  
OPL_TRUE
;

671  
OPL_FALSE
;

672 
	}
}

675 
OPL_STATUS
 
	$mcGroupLi°Inô
()

677 
mcGroupLi°
 = 
NULL
;

678  
OPL_OK
;

679 
	}
}

682 
MC_GROUP_t
 *
	$mcGroupLi°Add
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

683 
uöt32
 
mcVœn
, uöt32 
°©e
, uöt32 
bôm≠
)

685 
uöt32
 
i
;

686 
˛Li°
 *
li°
;

687 
MC_GROUP_t
 *
node
;

688 
uöt32
 
com∑ªResu…
;

690 
li°
 = 
NULL
;

691 
node
 = 
NULL
;

692 
com∑ªResu…
 = 
OPL_FALSE
;

695 
li°
 = 
mcGroupLi°
;

696 
li°
) {

697 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

698 if(
node
) {

699 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

701 if(
bôm≠
==
com∑ªResu…
) {

704 
com∑ªResu…
 = 
OPL_FALSE
;

705 
li°
 =Üi°->
√xt
;

708 if(
li°
==
NULL
) {

710 
node
 = 
NULL
;

711 
node
 = 
	`vosAŒoc
((
MC_GROUP_t
));

712 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

713 
	`RETURN_VAL_IF_FAIL
(
node
!=
NULL
, NULL);

714 
	`vosMemSë
(
node
, 0, (
MC_GROUP_t
));

716 
mcGroupLi°
 = (
˛Li°
 *)
	`˛Li°In£π
(mcGroupLi°, (*)
node
);

717 
mcGroupTŸÆNum
++;

721 if(
bôm≠
&
MC_BITMAP_GDA_MAC
) {

722 
	`vosMemCpy
(
node
->
groupMac
, groupMac, 
MAC_ADDRESS_LENGTH
);

725 
node
->
groupAddªss
 = groupAddress;

726 
node
->
mcVœn
 = mcVlan;

727 
node
->
ho°P‹tId
 = hostPortId;

728 
node
->
°©e
 = state;

729 
node
->
quîy˙t
 = 0;

731  
node
;

732 
	}
}

735 
OPL_STATUS
 
	$mcGroupLi°Dñ
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

736 
uöt32
 
mcVœn
, uöt32 
bôm≠
)

738 
uöt32
 
i
;

739 
˛Li°
 *
li°
;

740 
MC_GROUP_t
 *
node
;

741 
uöt32
 
com∑ªResu…
;

743 
li°
 = 
NULL
;

744 
node
 = 
NULL
;

745 
com∑ªResu…
 = 
OPL_FALSE
;

748 
li°
 = 
mcGroupLi°
;

749 
li°
) {

750 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

751 if(
node
) {

752 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

754 if(
bôm≠
==
com∑ªResu…
) {

757 
com∑ªResu…
 = 
OPL_FALSE
;

758 
li°
 =Üi°->
√xt
;

761 if(
li°
==
NULL
) {

762  
OPL_NOT_EXIST
;

766 
mcGroupLi°
 = 
	`˛Li°Remove
(mcGroupLi°, (*)
node
);

767 
	`vosFªe
(
node
);

768 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

769 
mcGroupTŸÆNum
--;

771  
OPL_OK
;

772 
	}
}

775 
MC_GROUP_t
 *
	$mcGroupLi°Gë
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

776 
uöt32
 
mcVœn
, uöt32 
bôm≠
)

778 
uöt32
 
i
;

779 
˛Li°
 *
li°
;

780 
MC_GROUP_t
 *
node
;

781 
uöt32
 
com∑ªResu…
;

783 
li°
 = 
NULL
;

784 
node
 = 
NULL
;

785 
com∑ªResu…
 = 
OPL_FALSE
;

788 
li°
 = 
mcGroupLi°
;

789 
li°
) {

790 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

791 if(
node
) {

792 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

794 if(
bôm≠
==
com∑ªResu…
) {

797 
com∑ªResu…
 = 
OPL_FALSE
;

798 
li°
 =Üi°->
√xt
;

801 if(
li°
!=
NULL
) {

802  
node
;

805  
NULL
;

806 
	}
}

809 
uöt32
 
	$mcGroupNumPîP‹t
(
uöt32
 
ho°P‹tId
)

811 
uöt32
 
i
;

812 
˛Li°
 *
li°
;

813 
MC_GROUP_t
 *
node
;

815 
uöt32
 
num
;

817 
li°
 = 
NULL
;

818 
node
 = 
NULL
;

819 
num
 = 0;

822 
li°
 = 
mcGroupLi°
;

823 
li°
) {

824 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

826 if(
node
->
ho°P‹tId
==hostPortId) {

827 
num
++;

830 
li°
 =Üi°->
√xt
;

833  
num
;

834 
	}
}

838 
uöt32
 
	$mcGroupNumPîP‹tPîMcvid
(
uöt32
 
ho°P‹tId
, uöt32 
mcVœn
)

840 
uöt32
 
i
;

841 
˛Li°
 *
li°
;

842 
MC_GROUP_t
 *
node
;

844 
uöt32
 
num
;

846 
li°
 = 
NULL
;

847 
node
 = 
NULL
;

848 
num
 = 0;

851 
li°
 = 
mcGroupLi°
;

852 
li°
) {

853 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

855 i‡((
node
->
ho°P‹tId
==hostPortId) &&

856 (
node
->
mcVœn
 == mcVlan)) {

857 
num
++;

860 
li°
 =Üi°->
√xt
;

863  
num
;

864 
	}
}

867 
OPL_STATUS
 
	$mcCtcMcvœnMemRmv
(
uöt32
 
ho°P‹tId
, uöt32 
mcVœn
)

869 
uöt32
 
num
;

870 
OPL_STATUS
 
ªt
;

872 
num
 = 
	`mcGroupNumPîP‹tPîMcvid
(
ho°P‹tId
, 
mcVœn
);

875 i‡(0 =
num
)

877 
ªt
 = 
	`odmMcVœnM≠Dñ
(
ho°P‹tId
, 
mcVœn
);

878 i‡(
OPL_OK
 !
ªt
)

880  
OPL_ERROR
;

884  
OPL_OK
;

885 
	}
}

889 
OPL_STATUS
 
	$mcGroupLi°Ho°Li°Em±y
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

890 
uöt32
 
mcVœn
, uöt32 
bôm≠
)

892 
uöt32
 
i
;

893 
˛Li°
 *
li°
;

894 
MC_GROUP_t
 *
node
;

895 
uöt32
 
com∑ªResu…
;

897 
li°
 = 
NULL
;

898 
node
 = 
NULL
;

899 
com∑ªResu…
 = 
OPL_FALSE
;

902 
li°
 = 
mcGroupLi°
;

903 
li°
) {

904 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

905 if(
node
) {

906 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

908 if(
bôm≠
==
com∑ªResu…
) {

911 
com∑ªResu…
 = 
OPL_FALSE
;

912 
li°
 =Üi°->
√xt
;

915 if(
li°
==
NULL
) {

916  
OPL_NOT_EXIST
;

919 if(!
node
->
ho°Li°
) {

920  
OPL_TRUE
;

923  
OPL_FALSE
;

925 
	}
}

928 
OPL_STATUS
 
	$mcGroupLi°De°‹y
()

930 
uöt32
 
i
;

931 
˛Li°
 *
li°
;

932 
MC_GROUP_t
 *
node
;

934 
li°
 = 
NULL
;

935 
node
 = 
NULL
;

938 
li°
 = 
mcGroupLi°
;

939 
li°
) {

940 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

941 
	`mcHo°Li°De°‹y
(
node
);

942 
	`vosFªe
(
node
);

943 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

944 
li°
 =Üi°->
√xt
;

946 
	`˛Li°Fªe
(
mcGroupLi°
);

947 
mcGroupLi°
 = 
NULL
;

948 
mcGroupTŸÆNum
 = 0;

950  
OPL_OK
;

951 
	}
}

954 
OPL_STATUS
 
	$mcGroupLi°SëHo°AgögTime
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

955 
uöt32
 
mcVœn
, uöt32 
bôm≠
, uöt32 
ho°AgögTime
)

957 
uöt32
 
i
;

958 
˛Li°
 *
li°
;

959 
MC_GROUP_t
 *
node
;

960 
uöt32
 
com∑ªResu…
;

962 
li°
 = 
NULL
;

963 
node
 = 
NULL
;

964 
com∑ªResu…
 = 
OPL_FALSE
;

967 
li°
 = 
mcGroupLi°
;

968 
li°
) {

969 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

970 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

971 if(
bôm≠
==
com∑ªResu…
) {

974 
com∑ªResu…
 = 
OPL_FALSE
;

975 
li°
 =Üi°->
√xt
;

978 if(
li°
==
NULL
) {

979  
OPL_NOT_EXIST
;

983 
node
->
ho°AgögTime
 = hostAgingTime;

985  
OPL_OK
;

986 
	}
}

988 
OPL_STATUS
 
	$mcGroupLi°SëisLa°Rï‹tRe˚võd
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

989 
uöt32
 
mcVœn
, uöt32 
bôm≠
, uöt32 
isLa°Rï‹tRe˚võd
)

991 
uöt32
 
i
;

992 
˛Li°
 *
li°
;

993 
MC_GROUP_t
 *
node
;

994 
uöt32
 
com∑ªResu…
;

996 
li°
 = 
NULL
;

997 
node
 = 
NULL
;

998 
com∑ªResu…
 = 
OPL_FALSE
;

1001 
li°
 = 
mcGroupLi°
;

1002 
li°
) {

1003 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

1004 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

1005 if(
bôm≠
==
com∑ªResu…
) {

1008 
com∑ªResu…
 = 
OPL_FALSE
;

1009 
li°
 =Üi°->
√xt
;

1012 if(
li°
==
NULL
) {

1013  
OPL_NOT_EXIST
;

1017 
node
->
isLa°Rï‹tRe˚võd
 = isLastReportRecevied;

1019  
OPL_OK
;

1020 
	}
}

1023 
OPL_STATUS
 
	$mcGroupLi°SëisN⁄Fa°LóveTimîSèπ
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

1024 
uöt32
 
mcVœn
, uöt32 
bôm≠
, uöt32 
isN⁄Fa°LóveTimîSèπ
)

1026 
uöt32
 
i
;

1027 
˛Li°
 *
li°
;

1028 
MC_GROUP_t
 *
node
;

1029 
uöt32
 
com∑ªResu…
;

1031 
li°
 = 
NULL
;

1032 
node
 = 
NULL
;

1033 
com∑ªResu…
 = 
OPL_FALSE
;

1036 
li°
 = 
mcGroupLi°
;

1037 
li°
) {

1038 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

1039 
	`GROUP_COMPARE
(
node
, 
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
, 
com∑ªResu…
);

1040 if(
bôm≠
==
com∑ªResu…
) {

1043 
com∑ªResu…
 = 
OPL_FALSE
;

1044 
li°
 =Üi°->
√xt
;

1047 if(
li°
==
NULL
) {

1048  
OPL_NOT_EXIST
;

1052 
node
->
isN⁄Fa°LóveTimîSèπ
 = isNonFastLeaveTimerStart;

1054  
OPL_OK
;

1055 
	}
}

1058 
OPL_STATUS
 
	$mcHo°Li°Inô
(
MC_GROUP_t
 *
group
)

1060 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1062 
group
->
ho°Li°
 = 
NULL
;

1063 
group
->
ho°TŸÆNum
 = 0;

1065  
OPL_OK
;

1066 
	}
}

1069 
MC_HOST_t
 *
	$mcHo°Li°Add
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
, uöt32 
°©e
,

1070 
uöt32
 
ho°Bôm≠
)

1072 
uöt32
 
i
;

1073 
˛Li°
 *
li°
;

1074 
MC_HOST_t
 *
node
;

1075 
uöt32
 
com∑ªResu…
;

1077 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, NULL);

1079 
li°
 = 
NULL
;

1080 
node
 = 
NULL
;

1081 
com∑ªResu…
 = 
OPL_FALSE
;

1084 
li°
 = 
group
->
ho°Li°
;

1085 
li°
) {

1086 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1087 if(
node
) {

1088 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1090 if(
ho°Bôm≠
==
com∑ªResu…
) {

1093 
com∑ªResu…
 = 
OPL_FALSE
;

1094 
li°
 =Üi°->
√xt
;

1097 if(
li°
==
NULL
) {

1099 
node
 = 
NULL
;

1100 
node
 = 
	`vosAŒoc
((
MC_HOST_t
));

1101 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

1102 
	`RETURN_VAL_IF_FAIL
(
node
!=
NULL
, NULL);

1103 
	`vosMemSë
(
node
, 0, (*node));

1105 
group
->
ho°Li°
 = (
˛Li°
 *)
	`˛Li°In£π
(group->ho°Li°, (*)
node
);

1106 
group
->
ho°TŸÆNum
++;

1110 if(
ho°Bôm≠
&
MC_BITMAP_HOST_SA_MAC
) {

1111 
	`vosMemCpy
(
node
->
ßMac
, saMac, 
MAC_ADDRESS_LENGTH
);

1113 
node
->
§cIp
 = srcIp;

1114 
node
->
°©e
 = state;

1116  
node
;

1117 
	}
}

1120 
OPL_STATUS
 
	$mcHo°Li°Dñ
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
,

1121 
uöt32
 
ho°Bôm≠
)

1123 
uöt32
 
i
;

1124 
˛Li°
 *
li°
;

1125 
MC_HOST_t
 *
node
;

1126 
uöt32
 
com∑ªResu…
;

1128 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1130 
li°
 = 
NULL
;

1131 
node
 = 
NULL
;

1132 
com∑ªResu…
 = 
OPL_FALSE
;

1135 
li°
 = 
group
->
ho°Li°
;

1136 
li°
) {

1137 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1138 if(
node
) {

1139 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1141 if(
ho°Bôm≠
==
com∑ªResu…
) {

1144 
com∑ªResu…
 = 
OPL_FALSE
;

1145 
li°
 =Üi°->
√xt
;

1148 if(
li°
==
NULL
) {

1149  
OPL_NOT_EXIST
;

1153 
group
->
ho°Li°
 = 
	`˛Li°Remove
(group->ho°Li°, (*)
node
);

1154 
	`vosFªe
(
node
);

1155 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

1156 
group
->
ho°TŸÆNum
--;

1158  
OPL_OK
;

1159 
	}
}

1162 
MC_HOST_t
 *
	$mcHo°Li°Gë
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
,

1163 
uöt32
 
ho°Bôm≠
)

1165 
uöt32
 
i
;

1166 
˛Li°
 *
li°
;

1167 
MC_HOST_t
 *
node
;

1168 
uöt32
 
com∑ªResu…
;

1170 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, NULL);

1172 
li°
 = 
NULL
;

1173 
node
 = 
NULL
;

1174 
com∑ªResu…
 = 
OPL_FALSE
;

1177 
li°
 = 
group
->
ho°Li°
;

1178 
li°
) {

1179 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1180 if(
node
) {

1181 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1183 if(
ho°Bôm≠
==
com∑ªResu…
) {

1186 
com∑ªResu…
 = 
OPL_FALSE
;

1187 
li°
 =Üi°->
√xt
;

1190 if(
li°
==
NULL
) {

1191  
NULL
;

1194  
node
;

1196 
	}
}

1199 
OPL_STATUS
 
	$mcHo°Li°De°‹y
(
MC_GROUP_t
 *
group
)

1201 
uöt32
 
i
;

1202 
˛Li°
 *
li°
;

1203 
MC_HOST_t
 *
node
;

1205 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1207 
li°
 = 
NULL
;

1208 
node
 = 
NULL
;

1211 
li°
 = 
group
->
ho°Li°
;

1212 
li°
) {

1213 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1214 
	`vosFªe
(
node
);

1215 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

1216 
li°
 =Üi°->
√xt
;

1218 
	`˛Li°Fªe
(
group
->
ho°Li°
);

1219 
group
->
ho°Li°
 = 
NULL
;

1220 
group
->
ho°TŸÆNum
 = 0;

1222  
OPL_OK
;

1223 
	}
}

1234 
OPL_STATUS
 
	$mcHo°Li°SëHo°AgögTime
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
,

1235 
uöt32
 
ho°Bôm≠
, uöt32 
ho°AgögTime
)

1237 
uöt32
 
i
;

1238 
˛Li°
 *
li°
;

1239 
MC_HOST_t
 *
node
;

1240 
uöt32
 
com∑ªResu…
;

1242 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1244 
li°
 = 
NULL
;

1245 
node
 = 
NULL
;

1246 
com∑ªResu…
 = 
OPL_FALSE
;

1249 
li°
 = 
group
->
ho°Li°
;

1250 
li°
) {

1251 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1252 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1253 if(
ho°Bôm≠
==
com∑ªResu…
) {

1256 
com∑ªResu…
 = 
OPL_FALSE
;

1257 
li°
 =Üi°->
√xt
;

1260 if(
li°
==
NULL
) {

1261  
OPL_NOT_EXIST
;

1265 
node
->
ho°AgögTime
 = hostAgingTime;

1267  
OPL_OK
;

1268 
	}
}

1271 
OPL_STATUS
 
	$mcHo°Li°SëisLa°Rï‹tRe˚võd
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
,

1272 
uöt32
 
ho°Bôm≠
, uöt32 
isLa°Rï‹tRe˚võd
)

1274 
uöt32
 
i
;

1275 
˛Li°
 *
li°
;

1276 
MC_HOST_t
 *
node
;

1277 
uöt32
 
com∑ªResu…
;

1279 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1281 
li°
 = 
NULL
;

1282 
node
 = 
NULL
;

1283 
com∑ªResu…
 = 
OPL_FALSE
;

1286 
li°
 = 
group
->
ho°Li°
;

1287 
li°
) {

1288 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1289 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1290 if(
ho°Bôm≠
==
com∑ªResu…
) {

1293 
com∑ªResu…
 = 
OPL_FALSE
;

1294 
li°
 =Üi°->
√xt
;

1297 if(
li°
==
NULL
) {

1298  
OPL_NOT_EXIST
;

1301 
node
->
isLa°Rï‹tRe˚võd
 = isLastReportRecevied;

1303  
OPL_OK
;

1304 
	}
}

1307 
OPL_STATUS
 
	$mcHo°Li°SëisN⁄Fa°LóveTimîSèπ
(
MC_GROUP_t
 *
group
, 
uöt8
 *
ßMac
, 
uöt32
 
§cIp
,

1308 
uöt32
 
ho°Bôm≠
, uöt32 
isN⁄Fa°LóveTimîSèπ
)

1310 
uöt32
 
i
;

1311 
˛Li°
 *
li°
;

1312 
MC_HOST_t
 *
node
;

1313 
uöt32
 
com∑ªResu…
;

1315 
	`RETURN_VAL_IF_FAIL
(
group
!=
NULL
, 
OPL_BAD_PARA
);

1317 
li°
 = 
NULL
;

1318 
node
 = 
NULL
;

1319 
com∑ªResu…
 = 
OPL_FALSE
;

1322 
li°
 = 
group
->
ho°Li°
;

1323 
li°
) {

1324 
node
 = (
MC_HOST_t
 *)
li°
->
d©a
;

1325 
	`HOST_COMPARE
(
node
, 
ßMac
, 
§cIp
, 
ho°Bôm≠
, 
com∑ªResu…
);

1326 if(
ho°Bôm≠
==
com∑ªResu…
) {

1329 
com∑ªResu…
 = 
OPL_FALSE
;

1330 
li°
 =Üi°->
√xt
;

1333 if(
li°
==
NULL
) {

1334  
OPL_NOT_EXIST
;

1338 
node
->
isN⁄Fa°LóveTimîSèπ
 = isNonFastLeaveTimerStart;

1340  
OPL_OK
;

1341 
	}
}

1344 
OPL_STATUS
 
	$mcVœnM≠Show
()

1346 
i
 = 0;

1347 
	`¥ötf
("\nVlanMapÅable:\n");

1348 
i
=0; i<
OP_MAX_VLAN_NUMBER
; i++)

1350 if(
mcVœnM≠
[
i
])

1352 
	`¥ötf
("vlan:%dÖortMask:0x%02x\n",

1353 
i
,

1354 
mcVœnM≠
[
i
]);

1357 
	}
}

1359 
OPL_STATUS
 
	$mcTagTøn¶©i⁄Show
()

1361 
i
 = 0;

1362 
	`¥ötf
("\nTranslationÅable:\n");

1363 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++)

1365 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
)

1367 
	`¥ötf
("port:%d mcVlan:%d userVlan:%d\n",

1368 
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
,

1369 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
,

1370 
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
);

1373 
	}
}

1375 
OPL_STATUS
 
	$mcTagO≥rPîP‹tShow
()

1377 
i
 = 0;

1378 
	`¥ötf
("\nOperÅable:\n");

1379 
i
=1; i<(
ODM_NUM_OF_PORTS
+1); i++)

1381 
	`¥ötf
("port:%d oper:%d\n",

1382 
i
,

1383 
mcTagO≥rPîP‹t
[
i
]);

1385 
	}
}

1388 
OPL_STATUS
 
	$mcGroupShow
()

1390 
uöt32
 
i
, 
j
;

1391 
˛Li°
 *
li°
, *
hli°
;

1392 
MC_GROUP_t
 *
node
;

1393 
MC_HOST_t
 *
hnode
;

1394 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

1395 
uöt8
 
ùSå
[
SMALL_BUF_LEN
];

1397 
i
 = 
j
 = 0;

1398 
li°
 = 
hli°
 = 
NULL
;

1399 
node
 = 
NULL
;

1400 
hnode
 = 
NULL
;

1401 
	`vosMemSë
(
macSå
, 0, (macStr));

1402 
	`vosMemSë
(
ùSå
, 0, (ipStr));

1405 
li°
 = 
mcGroupLi°
;

1406 
li°
) {

1407 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

1408 if(
node
->
groupMac
!=
NULL
)

1409 
	`˛SåögGëByMac
(
macSå
, 
node
->
groupMac
);

1411 
	`˛SåögGëByIp
(
ùSå
, 
node
->
groupAddªss
);

1412 
	`¥ötf
("\n\nG%d: GMac:%s, GAddr:%s, McVlan:%d, HostPort:%d, HostNum:%d, state:%d, AgingTime:%d, isLastReportRecevied:%d, isNonFastLeaveTimerStart:%d.\n",

1413 
i
++, 
macSå
, 
ùSå
, 
node
->
mcVœn
,

1414 
node
->
ho°P‹tId
,Çode->
ho°TŸÆNum
,Çode->
°©e
,Çode->
ho°AgögTime
,

1415 
node
->
isLa°Rï‹tRe˚võd
,Çode->
isN⁄Fa°LóveTimîSèπ
);

1417 
hli°
 = 
node
->
ho°Li°
;

1418 
hli°
) {

1419 
hnode
 = (
MC_HOST_t
 *)
hli°
->
d©a
;

1421 
	`˛SåögGëByIp
(
ùSå
, 
hnode
->
§cIp
);

1422 
	`¥ötf
(" H%d: SrcIp:%s, state:%d, AgingTime:%d, isLastReportRecevied:%d, isNonFastLeaveTimerStart:%d.\n",

1423 
j
++, 
ùSå
, 
hnode
->
°©e
, hnode->
ho°AgögTime
, hnode->
isLa°Rï‹tRe˚võd
,

1424 
hnode
->
isN⁄Fa°LóveTimîSèπ
);

1426 
hli°
 = hli°->
√xt
;

1429 
j
 = 0;

1430 
li°
 =Üi°->
√xt
;

1433  
OPL_OK
;

1434 
	}
}

1437 
	$mcGroupInfoShow
(
UINT32
 
uiIndex
, UINT32 *
puiReIndex
, 
CHAR
 *
pszIg•InfoSå
)

1439 
uöt8
 
i
, 
j
;

1440 
˛Li°
 *
li°
;

1441 
MC_GROUP_t
 *
°Node
;

1442 
uöt32
 
groupAddªss
;

1443 
uöt8
 
auiIpSå
[16];

1444 
uöt32
 
ulSåLí
 = 0;

1445 
uöt8
 
macSå
[20];

1446 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

1447 
UINT32
 
uiIg•Index
 = 0;

1448 
MC_GROUP_t
 
a°McGroupE¡ry
[
MC_MAX_GROUP_NUM
];

1449 
MC_GROUP_t
 *
p°TempNode
 = 
NULL
;

1450 
UINT32
 
uiNodeNum
 = 0;

1451 
UINT32
 
uiTemp
 = 0;

1452 
uöt32
 
mcIg•Mode
;

1454 if((
NULL
 =
puiReIndex
Ë|| (NULL =
pszIg•InfoSå
))

1459 if(0 =
uiIndex
)

1461 
	`mem£t
(&
a°McGroupE¡ry
, 0, (astMcGroupEntry));

1462 
p°TempNode
 = 
a°McGroupE¡ry
;

1463 
uiNodeNum
 = 0;

1464 
uiIg•Index
 = 0;

1465 
mcC⁄åﬁBlock
.
mcMode
)

1467 
MC_MODE_SNOOPING
:

1468 
mcIg•Mode
 = 
MC_MODE_SNOOPING
;

1469 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen), "\rMulticast-mode:IGMP-snooping\n");

1470 
	`mcGroupSemLock
();

1471 
li°
 = 
mcGroupLi°
;

1472 i‡(
NULL
 !
li°
)

1474 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1476 *
puiReIndex
 = 1;

1480 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen), "\r\nMulticast GroupÇum is 0.\n");

1481 *
puiReIndex
 = 0;

1484 
NULL
 !
li°
)

1486 
°Node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

1487 
	`mem˝y
(
p°TempNode
, 
°Node
, (
MC_GROUP_t
));

1488 
p°TempNode
++;

1489 
uiNodeNum
++;

1490 
li°
 =Üi°->
√xt
;

1492 
	`mcGroupSemUnLock
();

1495 
MC_MODE_CTC
:

1496 
mcIg•Mode
 = 
MC_MODE_CTC
;

1497 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen), "\rMulticast-mode: Multicast-control \n");

1498 
	`mcGroupSemLock
();

1499 
li°
 = 
mcGroupLi°
;

1500 i‡(
NULL
 !
li°
)

1502 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1504 *
puiReIndex
 = 1;

1508 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen), "\r\nMulticast GroupÇum is 0.\n");

1509 *
puiReIndex
 = 0;

1511 
NULL
 !
li°
)

1513 
°Node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

1514 
	`mem˝y
(
p°TempNode
, 
°Node
, (
MC_GROUP_t
));

1515 
p°TempNode
++;

1516 
uiNodeNum
++;

1517 
li°
 =Üi°->
√xt
;

1519 
	`mcGroupSemUnLock
();

1523 *
puiReIndex
 = 0;

1527  
ulSåLí
;

1532 
	#IGSP_GETINFONUM_ONCE
 10

	)

1533 
	#OPCONN_IGSPINFO_LEN
 1024

	)

1534 
uiTemp
 = 0;

1535 ;
uiIg•Index
 < 
uiNodeNum
; uiIgspIndex++)

1537 
uiTemp
++;

1538 if(
IGSP_GETINFONUM_ONCE
 < 
uiTemp
 || 
OPCONN_IGSPINFO_LEN
 < 
ulSåLí
)

1543 if(
mcIg•Mode
 =
MC_MODE_SNOOPING
)

1545 
°Node
 = &
a°McGroupE¡ry
[
uiIg•Index
];

1546 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
°Node
->
groupAddªss
);

1547 
	`˛SåögGëByMac
(
macSå
, 
ãmpGroupMac
);

1548 
	`˛SåögGëByIp
(
auiIpSå
, 
°Node
->
groupAddªss
);

1549 i‡(0 =
°Node
->
mcVœn
)

1551 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1553 
uiIg•Index
+1, 
macSå
, 
auiIpSå
, "N/A", 
°Node
->
ho°P‹tId
, stNode->
ho°TŸÆNum
);

1556 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1558 
uiIg•Index
+1, 
macSå
, 
auiIpSå
, 
°Node
->
mcVœn
, stNode->
ho°P‹tId
, stNode->
ho°TŸÆNum
);

1564 
°Node
 = &
a°McGroupE¡ry
[
uiIg•Index
];

1565 
	`˛SåögGëByMac
(
macSå
, 
°Node
->
groupMac
);

1566 i‡(0 =
°Node
->
mcVœn
)

1568 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1570 
uiIg•Index
+1, 
macSå
, "N/A", 
°Node
->
ho°P‹tId
, "N/A");

1573 
ulSåLí
 +
	`•rötf
((
CHAR
 *)(
pszIg•InfoSå
 + ulStrLen),

1575 
uiIg•Index
+1, 
macSå
, 
°Node
->
mcVœn
, stNode->
ho°P‹tId
, "N/A");

1582 i‡(
uiIg•Index
 >
uiNodeNum
)

1584 *
puiReIndex
 = 0;

1588 *
puiReIndex
 = 
uiIg•Index
;

1590  
ulSåLí
;

1594  
ulSåLí
;

1596 
	}
}

1607 
OPL_STATUS
 
	$mcC⁄åﬁSètsInô
()

1609 
	`vosMemSë
(&
mcC⁄åﬁSèts
,0,(mcControlStats));

1611  
OPL_OK
;

1612 
	}
}

1623 
OPL_STATUS
 
	$mcC⁄åﬁBlockInô
()

1625 
uöt32
 
i
;

1627 
	`vosMemSë
(&
mcC⁄åﬁBlock
,0,(mcControlBlock));

1630 
mcC⁄åﬁBlock
.
mcRecvEn
 = 
OPL_ENABLE
;

1631 
mcC⁄åﬁBlock
.
mcMode
 = 
MC_MODE_SNOOPING
;

1634 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
 = 
MC_CTL_GDA_MAC_VID
;

1635 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC_VLAN_ID
;

1636 
mcC⁄åﬁBlock
.
ho°Bôm≠
 = 
MC_BITMAP_HOST_SA_MAC
;

1637 
mcC⁄åﬁBlock
.
ÀaveMode
 = 
MC_LEAVE_MODE_NON_FAST_LEAVE
;

1640 
mcC⁄åﬁBlock
.
ho°AgögTime
 = 
IGMP_HOST_AGING_TIME_DEFAULT
;

1641 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
 = 
LAST_MEMBER_QUERY_INTERVAL_DEFAULT
;

1642 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
 = 
LAST_MEMBER_QUERY_COUNT_DEFAULT
;

1643 
mcC⁄åﬁBlock
.
°pid
 = 
VLAN_DEFAULT_STPID
;

1644 
mcC⁄åﬁBlock
.
˘pid
 = 
VLAN_DEFAULT_CTPID
;

1645 
mcC⁄åﬁBlock
.
dnSwôchTy≥
 = 
mcDnSwôchTy≥
;

1647 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

1649 
mcC⁄åﬁBlock
.
maxGroupNum
[
i
] = 
ODM_MAX_GRUP_NUM_PER_PORT
;

1653  
OPL_OK
;

1654 
	}
}

1665 
	$mcC⁄åﬁBlockIsInôülizedSë
(
uöt32
 
mode
)

1667 
mcC⁄åﬁBlock
.
isInôülized
 = 
mode
;

1668 
	}
}

1679 
uöt32
 
	$mcC⁄åﬁBlockIsInôülizedGë
()

1681  
mcC⁄åﬁBlock
.
isInôülized
;

1682 
	}
}

1693 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockRecvEnSë
(
uöt32
 
mcRecvEn
)

1695 
ªt
;

1697 
ªt
 = 0;

1699 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMcC⁄åﬁBlockRecvEnSë: mcRecvEn=%d.\r\n", 
mcRecvEn
);

1702 if(
mcRecvEn
!=
OPL_DISABLE
) {

1707 
INT32
 
	`DRV_E«bÀSwôchMc
(INT32 
iE«bÀ
);

1708 
ªt
 = 
	`DRV_E«bÀSwôchMc
(
TRUE
);

1709 i‡(
NO_ERROR
 !
ªt
)

1711 
	`mc_¥ötf
("\nfunc:%s,löe:%d. FaûedÅÿíabÀ mu…iˇ°.\n",
__FUNCTION__
,
__LINE__
);

1712  
OPL_ERROR
;

1723 
INT32
 
	`DRV_E«bÀSwôchMc
(INT32 
iE«bÀ
);

1724 
ªt
 = 
	`DRV_E«bÀSwôchMc
(
FALSE
);

1725 i‡(
NO_ERROR
 !
ªt
)

1727 
	`mc_¥ötf
("\nfunc:%s,löe:%d. FaûedÅÿíabÀ mu…iˇ°.\n",
__FUNCTION__
,
__LINE__
);

1728 
OPL_ERROR
;

1737 
mcC⁄åﬁBlock
.
mcRecvEn
 = mcRecvEn;

1740 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1741 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_IGMP_MODE
, 
mcC⁄åﬁBlock
.
mcRecvEn
);

1743  
OPL_OK
;

1744 
	}
}

1755 
uöt32
 
	$mcC⁄åﬁBlockRecvEnGë
()

1757  
mcC⁄åﬁBlock
.
mcRecvEn
;

1758 
	}
}

1769 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockModeSë
(
uöt32
 
mcMode
)

1772 
mcC⁄åﬁBlock
.
mcMode
 = mcMode;

1775 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1776 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_MODE
, 
mcC⁄åﬁBlock
.
mcMode
);

1778  
OPL_OK
;

1779 
	}
}

1790 
uöt32
 
	$mcC⁄åﬁBlockModeGë
()

1792  
mcC⁄åﬁBlock
.
mcMode
;

1793 
	}
}

1795 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockCtcC⁄åﬁTy≥Së
(
uöt32
 
˘cC⁄åﬁTy≥
)

1797 if(
˘cC⁄åﬁTy≥
==
mcC⁄åﬁBlock
.ctcControlType) {

1798  
OPL_OK
;

1802 
	`odmMu…iˇ°C⁄åﬁE¡ryCÀ¨
();

1805 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
 = ctcControlType;

1807 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC
) {

1808 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC
;

1810 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC_VID
) {

1811 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC_VLAN_ID
;

1813 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_SA_MAC
) {

1814 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC_SA_MAC
;

1816 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_IP_VID
) {

1817 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
;

1821 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1822 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_CTC_CONTROL_TYPE
, 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
);

1824  
OPL_OK
;

1825 
	}
}

1827 
uöt32
 
	$mcC⁄åﬁBlockCtcC⁄åﬁTy≥Gë
()

1829  
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
;

1830 
	}
}

1841 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockLóveModeSë
(
uöt32
 
ÀaveMode
)

1844 
mcC⁄åﬁBlock
.
ÀaveMode
 =ÜeaveMode;

1847 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1848 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LEAVE_MODE
, 
mcC⁄åﬁBlock
.
ÀaveMode
);

1850  
OPL_OK
;

1851 
	}
}

1862 
uöt32
 
	$mcC⁄åﬁBlockLóveModeGë
()

1864  
mcC⁄åﬁBlock
.
ÀaveMode
;

1865 
	}
}

1876 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockHo°AgögTimeSë
(
uöt32
 
ho°AgögTime
)

1879 
mcC⁄åﬁBlock
.
ho°AgögTime
 = hostAgingTime;

1882 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1883 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_HOST_AGING_TIME
, 
mcC⁄åﬁBlock
.
ho°AgögTime
);

1885  
OPL_OK
;

1886 
	}
}

1897 
uöt32
 
	$mcC⁄åﬁBlockHo°AgögTimeGë
()

1899  
mcC⁄åﬁBlock
.
ho°AgögTime
;

1900 
	}
}

1911 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockLa°QuîyI¡îvÆSë
(
uöt32
 
œ°QuîyI¡îvÆ
)

1914 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
 =ÜastQueryInterval;

1917 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1918 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_INTERVAL
, 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
);

1920  
OPL_OK
;

1921 
	}
}

1932 
uöt32
 
	$mcC⁄åﬁBlockLa°QuîyI¡îvÆGë
()

1934  
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
;

1935 
	}
}

1946 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockLa°QuîyCou¡Së
(
uöt32
 
œ°QuîyCou¡
)

1949 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
 =ÜastQueryCount;

1952 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

1953 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_COUNT
, 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
);

1955  
OPL_OK
;

1956 
	}
}

1967 
uöt32
 
	$mcC⁄åﬁBlockLa°QuîyCou¡Gë
()

1969  
mcC⁄åﬁBlock
.
œ°QuîyCou¡
;

1970 
	}
}

1981 
OPL_STATUS
 
	$odmMcVœnM≠Add
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

1983 
p‹tIdSå
[
SMALL_BUF_LEN
];

1984 
√wSå
[
BIG_BUF_LEN
];

1985 
vœnIdSå
[
SMALL_BUF_LEN
];

1986 *
c⁄figFûeSå
, *
p
;

1987 
ªt
;

1989 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

1990 
	`vosMemSë
(
√wSå
, 0, (newStr));

1991 
	`vosMemSë
(
vœnIdSå
, 0, (vlanIdStr));

1992 
c⁄figFûeSå
 = 
p
 = 
NULL
;

1993 
ªt
 = 0;

1997 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
vœnId
)==
OPL_TRUE
) {

1998 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d, vœ¿exi°s,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
vœnId
);

1999  
OPL_OK
;

2004 
ªt
 = 
	`dÆMcVœnM≠Add
(
p‹tId
, 
vœnId
);

2005 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2008 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2009 
c⁄figFûeSå
 = (*)
	`vosC⁄figVÆueGë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2010 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
, 
NULL
);

2012 if(
c⁄figFûeSå
 =
NULL
) {

2013 
	`vosS¥ötf
(
√wSå
, "%d", 
vœnId
);

2017 
	`vosS¥ötf
(
vœnIdSå
, "%d", 
vœnId
);

2018 
p
 = 
	`°r°r
(
c⁄figFûeSå
, 
vœnIdSå
);

2019 if(
p
 !
NULL
) {

2020  
OPL_EXIST
;

2023 
	`vosS¥ötf
(
√wSå
, "%s,%d", 
c⁄figFûeSå
, 
vœnId
);

2026 
	`vosC⁄figVÆueSë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
,

2027 
√wSå
);

2030 
ªt
 = 
	`mcVœnM≠Add
(
p‹tId
, 
vœnId
);

2031 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2033  
OPL_OK
;

2034 
	}
}

2037 
OPL_STATUS
 
	$mcGroupLi°DñbyP‹t
(
uöt32
 
ho°P‹tId
)

2040 
uöt32
 
i
;

2041 
˛Li°
 *
li°
;

2042 
MC_GROUP_t
 *
node
;

2043 
uöt32
 
com∑ªResu…
;

2045 
li°
 = 
NULL
;

2046 
node
 = 
NULL
;

2047 
com∑ªResu…
 = 
OPL_FALSE
;

2050 
	`mcGroupSemLock
();

2051 
li°
 = 
mcGroupLi°
;

2052 
li°
)

2054 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

2055 i‡(
ho°P‹tId
 =
node
->hostPortId)

2057 
	`mcHo°Li°De°‹y
(
node
);

2058 
mcGroupLi°
 = 
	`˛Li°Remove
(mcGroupLi°, (*)
node
);

2059 
	`vosFªe
(
node
);

2060 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

2061 
mcGroupTŸÆNum
--;

2064 
li°
 =Üi°->
√xt
;

2066 
	`mcGroupSemUnLock
();

2068  
OPL_OK
;

2069 
	}
}

2081 
OPL_STATUS
 
	$odmMcVœnM≠Dñ
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

2083 
p‹tIdSå
[
SMALL_BUF_LEN
];

2084 
√wSå
[
BIG_BUF_LEN
];

2085 
vœnIdSå
[
SMALL_BUF_LEN
];

2086 *
c⁄figFûeSå
, *
p
, *
p_√xt
;

2087 
ªt
;

2088 
if_dñëe
;

2089 
isVœnP‹tExi°
;

2090 
uöt32
 
i
;

2092 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2093 
	`vosMemSë
(
√wSå
, 0, (newStr));

2094 
	`vosMemSë
(
vœnIdSå
, 0, (vlanIdStr));

2095 
c⁄figFûeSå
 = 
p
 = 
p_√xt
 = 
NULL
;

2096 
ªt
 = 0;

2097 
if_dñëe
 = 
OPL_FALSE
;

2098 
isVœnP‹tExi°
 = 
OPL_FALSE
;

2101 
ªt
 = 
	`mcVœnM≠Dñ
(
p‹tId
, 
vœnId
);

2102 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2105 
ªt
 = 
	`dÆMcVœnM≠Dñ
(
p‹tId
, 
vœnId
);

2106 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2109 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2110 
c⁄figFûeSå
 = (*)
	`vosC⁄figVÆueGë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2111 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
, 
NULL
);

2113 if(
c⁄figFûeSå
==
NULL
) {

2114  
OPL_ERROR
;

2117 
	`vosSåCpy
(
√wSå
, 
c⁄figFûeSå
);

2119 
	`vosS¥ötf
(
vœnIdSå
, "%d", 
vœnId
);

2121 
p
 = 
	`°r°r
(
√wSå
, 
vœnIdSå
);

2122 if(
p
 =
NULL
) {

2123  
ERROR
;

2125 
p_√xt
 = 
	`°r°r
(
p
, ",");

2126 if(
p_√xt
 =
NULL
) {

2127 if(
p
 =
√wSå
) {

2128 
if_dñëe
 = 
OPL_TRUE
;

2131 
p
--;

2132 *
p
 = '\0';

2136 
p_√xt
++;

2137 *(*)
p_√xt
 !
NULL
) {

2138 *(
p
++Ë*(
p_√xt
++);

2140 *
p
 = '\0';

2143 if(
if_dñëe
 =
OPL_TRUE
)

2144 
	`vosC⁄figKeyDñëe
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
);

2146 
	`vosC⁄figVÆueSë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
, 
√wSå
);

2148  
OPL_OK
;

2149 
	}
}

2160 
OPL_STATUS
 
	$odmMcC⁄åﬁBlockMaxGroupNumSë
(
uöt32
 
p‹tId
, uöt32 
maxGroup
)

2162 
p‹tIdSå
[
SMALL_BUF_LEN
];

2164 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2169 i‡(
ODM_MAX_GRUP_NUM_PER_PORT
 < 
maxGroup
)

2171  
OPL_ERROR
;

2174 
mcC⁄åﬁBlock
.
maxGroupNum
[
p‹tId
] = 
maxGroup
;

2179 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2180 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2181 
CFGKEY_MULTICAST_IGMP_PORT_MAX_GROUP_NUM
,

2182 
mcC⁄åﬁBlock
.
maxGroupNum
[
p‹tId
]);

2184 
	`odmMu…iˇ°C⁄åﬁE¡ryNumSë
(
p‹tId
, 
maxGroup
);

2186  
OPL_OK
;

2187 
	}
}

2198 
uöt32
 
	$mcC⁄åﬁBlockmaxGroupNumGë
(
uöt32
 
p‹tId
)

2200  
mcC⁄åﬁBlock
.
maxGroupNum
[
p‹tId
];

2201 
	}
}

2212 
OPL_STATUS
 
	$odmMcTagO≥rSë
(
uöt32
 
p‹tId
, 
MC_TAG_OPER_MODE_t
 
ègO≥r
)

2214 
ªt
;

2215 
uöt32
 
vœnMode
;

2216 
p‹tIdSå
[
SMALL_BUF_LEN
];

2218 
ªt
 = 0;

2219 
vœnMode
 = 0;

2220 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2224 if(
ègO≥r
==
	`mcTagO≥rPîP‹tGë
(
p‹tId
) &&

2225 
ègO≥r
!=
MC_TAG_OPER_MODE_TRANSLATION
) {

2226 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,ÅagO≥∏d€†nŸ ch™ge,ÅagO≥r=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ègO≥r
);

2227  
OPL_OK
;

2232 
ªt
 = 
	`dÆMcTagO≥rSë
(
p‹tId
, 
ègO≥r
);

2233 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2236 
ªt
 = 
	`mcTagO≥rPîP‹tSë
(
p‹tId
, 
ègO≥r
);

2237 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2240 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2241 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP
,

2242 
ègO≥r
);

2244  
OPL_OK
;

2245 
	}
}

2247 
OPL_STATUS
 
	$m˘ag_å™¶©i⁄_check
(
p‹tId
, 
mcVid
, 
u£rVid
)

2249 
i
 = 0;

2250 
ªt
 = 0;

2252 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

2253 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
!=
OPL_ENABLE
)

2255 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 == userVid){

2256 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 == mcVid){

2257  
OPL_OK
;

2259 
	`mc_¥ötf
("userVid whichÉqualÅoÉxisted userVid inÅheÅranslationÅable isÇotállowed \r\n");

2260  
OPL_ERROR
;

2262 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 =
mcVid
) {

2263 
	`mc_¥ötf
("mcVid whichÉqualÅoÉxisted userVid inÅheÅranslationÅable isÇotállowed \r\n");

2264  
OPL_ERROR
;

2266 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 =
u£rVid
){

2267 
	`mc_¥ötf
("userVid whichÉqualÅoÉxisted mcVid inÅheÅranslationÅable isÇotállowed \r\n");

2268  
OPL_ERROR
;

2270 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 !p‹tId && mcTagTøn¶©i⁄TabÀ[i].
mcVid
 == mcVid)

2272 
	`mc_¥ötf
("differenceÖortid:mcVid whichÉqualÅoÉxisted mcVid, but userVid is difference inÅheÅranslationÅable isÇotállowed \r\n");

2273  
OPL_ERROR
;

2278 if(
MC_MODE_CTC
 !
	`mcC⁄åﬁBlockModeGë
())

2280 
	`mc_¥ötf
(" isÇot MC_MODE_CTC");

2281 if(1==
	`mcVœnExi°
(
mcVid
Ë|| 1==mcVœnExi°(
u£rVid
))

2282 { 
	`mc_¥ötf
("ERROR:mcVlanExist....");

2283  
OPL_ERROR
;

2288 if(
FALSE
 =
	`CTC_CheckVÆidVidF‹Mcvœn
(
mcVid
Ë|| FALSE =CTC_CheckVÆidVidF‹Mcvœn(
u£rVid
))

2290  
OPL_ERROR
;

2294  
OPL_OK
;

2295 
	}
}

2298 
OPL_STATUS
 
	$odmMcTagTøn¶©i⁄Së
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

2300 
i
,
ªt
;

2301 
p‹tIdSå
[
SMALL_BUF_LEN
];

2302 
mcVidSå
[
SMALL_BUF_LEN
];

2303 
uöt32
 
ﬁdU£rVid
;

2305 
ªt
 = 0;

2306 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2307 
	`vosMemSë
(
mcVidSå
, 0, (mcVidStr));

2309 if(
	`mcTagO≥rPîP‹tGë
(
p‹tId
)!=
MC_TAG_OPER_MODE_TRANSLATION
) {

2311  
OPL_ERROR
;

2315 if(
	`mcTagTøn¶©i⁄TabÀCheck
(
p‹tId
,
mcVid
,
u£rVid
)!=
OPL_OK
){

2316  
OPL_ERROR
;

2322 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

2323 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
!=
OPL_ENABLE
 ||

2324 
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 !=ÖortId)

2326 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 == userVid){

2327 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 == mcVid){

2328  
OPL_OK
;

2330 
	`mc_¥ötf
("userVid whichÉqualÅoÉxisted userVid inÅheÅranslationÅable isÇotállowed \r\n");

2331  
OPL_ERROR
;

2333 i‡(
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 =
mcVid
) {

2334 
	`mc_¥ötf
("mcVid whichÉqualÅoÉxisted userVid inÅheÅranslationÅable isÇotállowed \r\n");

2335  
OPL_ERROR
;

2337 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 =
u£rVid
){

2338 
	`mc_¥ötf
("userVid whichÉqualÅoÉxisted mcVid inÅheÅranslationÅable isÇotállowed \r\n");

2339  
OPL_ERROR
;

2345 if(1==
	`mcVœnExi°
(
mcVid
Ë|| 1==mcVœnExi°(
u£rVid
))

2347  
OPL_ERROR
;

2351 if(
FALSE
 =
	`CTC_CheckVÆidVidF‹Mcvœn
(
mcVid
Ë|| FALSE =CTC_CheckVÆidVidF‹Mcvœn(
u£rVid
))

2353  
OPL_ERROR
;

2359 if(
	`mcTagTøn¶©i⁄TabÀGë
(
p‹tId
, 
mcVid
, &
ﬁdU£rVid
Ë=
OPL_OK
)

2361 if(
ﬁdU£rVid
 !
u£rVid
)

2364 
ªt
 = 
	`dÆMcTagTøn¶©i⁄Dñ
(
p‹tId
, 
mcVid
, 
ﬁdU£rVid
);

2365 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2368 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀDñ
(
p‹tId
, 
mcVid
, 
ﬁdU£rVid
);

2369 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2373  
OPL_OK
;

2380 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMcTagTranslationSet:ÖortId=%d, mcVid=%d, userVid=%d.\r\n",

2381 
p‹tId
, 
mcVid
, 
u£rVid
);

2382 
ªt
 = 
	`dÆMcTagTøn¶©i⁄Add
(
p‹tId
, 
mcVid
, 
u£rVid
);

2383 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2386 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀAdd
(
p‹tId
, 
mcVid
, 
u£rVid
);

2387 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2390 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2391 
	`vosS¥ötf
(
mcVidSå
, "%s%d", 
CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP_TRANSLATION_VLAN
, 
mcVid
);

2393 
	`vosC⁄figUI¡32Së
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
mcVidSå
, 
u£rVid
);

2395  
OPL_OK
;

2396 
	}
}

2400 
OPL_STATUS
 
	$odmMcTagTøn¶©i⁄CÀ¨
(
uöt32
 
p‹tId
)

2402 
ªt
;

2403 
p‹tIdSå
[
SMALL_BUF_LEN
];

2404 
mcVidSå
[
SMALL_BUF_LEN
];

2405 
uöt32
 
i
;

2407 
ªt
 = 0;

2408 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2409 
	`vosMemSë
(
mcVidSå
, 0, (mcVidStr));

2411 if(
	`mcTagO≥rPîP‹tGë
(
p‹tId
)!=
MC_TAG_OPER_MODE_TRANSLATION
) {

2413  
OPL_OK
;

2418 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMcTagTøn¶©i⁄CÀ¨:Ö‹tId=%d.\r\n", 
p‹tId
);

2419 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

2420 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

2421 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId) {

2422 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMcTagTranslationSet:ÖortId=%d, mcVid=%d, userVid=%d.\r\n",

2423 
p‹tId
, 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
, mcTagTøn¶©i⁄TabÀ[i].
u£rVid
);

2424 
ªt
 = 
	`dÆMcTagTøn¶©i⁄Dñ
(
p‹tId
, 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
, mcTagTøn¶©i⁄TabÀ[i].
u£rVid
);

2425 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2431 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀCÀ¨
(
p‹tId
);

2432 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2435 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
p‹tId
);

2436 
i
=1; i<
OP_MAX_VLAN_NUMBER
; i++) {

2437 
	`vosS¥ötf
(
mcVidSå
, "%s%d", 
CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP_TRANSLATION_VLAN
, 
i
);

2438 
	`vosC⁄figKeyDñëe
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
mcVidSå
);

2441  
OPL_OK
;

2442 
	}
}

2453 
OPL_STATUS
 
	$odmMcGroupAdd
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

2454 
uöt32
 
mcVœn
, uöt32 
°©e
, uöt32 
bôm≠
)

2456 
ªt
;

2457 
MC_GROUP_t
 *
group
;

2459 
ªt
 = 0;

2460 
group
 = 
NULL
;

2463 
ªt
 = 
	`dÆMcGroupAdd
(
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
bôm≠
);

2464 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2467 
group
 = 
	`mcGroupLi°Add
(
ho°P‹tId
, 
groupMac
, 
groupAddªss
, 
mcVœn
, 
°©e
, 
bôm≠
);

2468 
	`RETURN_VAL_IF_FAIL
(
group
 !
NULL
, 
OPL_ERROR
);

2470  
OPL_OK
;

2471 
	}
}

2482 
OPL_STATUS
 
	$odmMcGroupDñ
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
,

2483 
uöt32
 
mcVœn
, uöt32 
bôm≠
)

2485 
ªt
;

2487 
ªt
 = 0;

2490 
ªt
 = 
	`dÆMcGroupDñ
(
ho°P‹tId
, 
groupMac
, 
groupAddªss
,

2491 
mcVœn
, 
bôm≠
);

2492 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2495 
ªt
 = 
	`mcGroupLi°Dñ
(
ho°P‹tId
, 
groupMac
, 
groupAddªss
,

2496 
mcVœn
, 
bôm≠
);

2497 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2499  
OPL_OK
;

2500 
	}
}

2511 
	$mcHo°AgögTimîSë
(
uöt32
 
ho°AgögTime
)

2513 
ªt
;

2514 
˛Li°
 *
li°
, *
li°Next
, *
hli°
, *
hli°Next
;

2515 
MC_GROUP_t
 *
node
;

2516 
MC_HOST_t
 *
hnode
;

2518 
ªt
 = 0;

2519 
li°
 = 
li°Next
 = 
hli°
 = 
hli°Next
 = 
NULL
;

2520 
node
 = 
NULL
;

2521 
hnode
 = 
NULL
;

2523 
	`mcGroupSemLock
();

2526 
li°
 = 
mcGroupLi°
;

2527 
li°
) {

2528 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

2529 
li°Next
 = 
li°
->
√xt
;

2530 
hli°
 = 
node
->
ho°Li°
;

2531 
hli°
) {

2532 
hnode
 = (
MC_HOST_t
 *)
hli°
->
d©a
;

2533 
hli°Next
 = 
hli°
->
√xt
;

2535 
hnode
->
ho°AgögTime
 = hostAgingTime;

2537 
hli°
 = 
hli°Next
;

2540 
li°
 = 
li°Next
;

2543 
	`mcGroupSemUnLock
();

2546 
	}
}

2557 
	$mcHo°AgögTimîSno›ögH™dÀr
()

2559 
ªt
;

2560 
˛Li°
 *
li°
, *
li°Next
, *
hli°
, *
hli°Next
;

2561 
MC_GROUP_t
 *
node
;

2562 
MC_HOST_t
 *
hnode
;

2564 if(!
mcC⁄åﬁBlock
.
ho°AgögTime
) {

2568 
ªt
 = 0;

2569 
li°
 = 
li°Next
 = 
hli°
 = 
hli°Next
 = 
NULL
;

2570 
node
 = 
NULL
;

2571 
hnode
 = 
NULL
;

2573 
	`mcGroupSemLock
();

2576 
li°
 = 
mcGroupLi°
;

2577 
li°
) {

2578 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

2579 
li°Next
 = 
li°
->
√xt
;

2580 
hli°
 = 
node
->
ho°Li°
;

2581 
hli°
) {

2582 
hnode
 = (
MC_HOST_t
 *)
hli°
->
d©a
;

2583 
hli°Next
 = 
hli°
->
√xt
;

2584 if(!
hnode
->
ho°AgögTime
) {

2585 
ªt
 = 
	`mcHo°Li°Dñ
(
node
, 
hnode
->
ßMac
, hnode->
§cIp
, 
MC_HOST_BITMAP
);

2586 
hnode
 = 
NULL
;

2588 if(!
node
->
ho°Li°
) {

2589 
ªt
 = 
	`odmMcGroupDñ
(
node
->
ho°P‹tId
,Çode->
groupMac
,Çode->
groupAddªss
,

2590 
node
->
mcVœn
, 
MC_BITMAP
);

2592 
node
 = 
NULL
;

2596 
hnode
->
ho°AgögTime
--;

2598 
hli°
 = 
hli°Next
;

2601 
li°
 = 
li°Next
;

2604 
	`mcGroupSemUnLock
();

2607 
	}
}

2618 
	$mcHo°AgögTimîCtcH™dÀr
()

2620 if(!
mcC⁄åﬁBlock
.
ho°AgögTime
) {

2625 
	}
}

2636 
	$mcHo°AgögTimîInô
(
uöt32
 
mcMode
, uöt32 
mûli£c⁄d
)

2639 
mcHo°AgögTimîH™dÀr
 
h™dî
;

2640 
MC_TIMER_MSG_TYPE_e
 
msgTy≥
;

2642 if(
mcHo°AgögTimî
) {

2643 
	`vosTimîC™˚l
(
mcHo°AgögTimî
);

2644 
mcHo°AgögTimî
 = 
NULL
;

2647 i‡(!
mcHo°AgögTimî
) {

2648 
mcHo°AgögTimî
 = 
	`vosTimîGëFªe
();

2651 
mcMode
) {

2652 
MC_MODE_SNOOPING
:

2653 
h™dî
 = 
mcTimîMsgSíd
;

2654 
msgTy≥
 = 
MC_HOST_AGING_TIMER_SNOOPING
;

2656 
MC_MODE_CTC
:

2657 
h™dî
 = 
mcTimîMsgSíd
;

2658 
msgTy≥
 = 
MC_HOST_AGING_TIMER_CTC
;

2661 
h™dî
 = 
NULL
;

2662 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "NŸ suµ‹t, mcMode=%d.\r\n", 
mcMode
);

2666 i‡(
mcHo°AgögTimî
&&
h™dî
!=
NULL
) {

2667 
	`vosTimîSèπ
(
mcHo°AgögTimî
, 
REOCURRING_TIMER
, 
mûli£c⁄d
,

2668 (
FUNCPTR
)
h™dî
,(
uöt32
)
msgTy≥
,0,0,0,0,0,0,0);

2672 
	}
}

2683 
OPL_STATUS
 
	$mcInôFromC⁄figFûe
()

2685 
uöt32
 
i
, 
j
, 
u£rVid
;

2686 
ªt
;

2687 
p‹tIdSå
[
SMALL_BUF_LEN
];

2688 
vœnIdSå
[
SMALL_BUF_LEN
];

2689 
ãmpSå
[
BIG_BUF_LEN
];

2690 
å™sVœnSå
[
SMALL_BUF_LEN
];

2691 *
vœnM≠FromFûe
, *
p
, *
ouãrBuf
;

2692 
uöt32
 
vœnId
;

2693 
MC_TAG_OPER_MODE_t
 
ègO≥rTmp
;

2694 
uöt32
 
vœnMode
;

2696 
ªt
 = 0;

2697 
	`vosMemSë
(
p‹tIdSå
, 0, (portIdStr));

2698 
	`vosMemSë
(
vœnIdSå
, 0, (vlanIdStr));

2699 
	`vosMemSë
(
ãmpSå
, 0, (tempStr));

2700 
	`vosMemSë
(
å™sVœnSå
, 0, (transVlanStr));

2701 
vœnM≠FromFûe
 = 
p
 = 
ouãrBuf
 = 
NULL
;

2702 
vœnId
 = 0;

2703 
ègO≥rTmp
 = 0;

2704 
vœnMode
 = 0;

2706 
mcC⁄åﬁBlock
.
mcRecvEn
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2707 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2708 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_IGMP_MODE
, 
mcC⁄åﬁBlock
.
mcRecvEn
);

2710 if(
mcC⁄åﬁBlock
.
mcRecvEn
) {

2714 
INT32
 
	`DRV_E«bÀSwôchMc
(INT32 
iE«bÀ
);

2715 
ªt
 = 
	`DRV_E«bÀSwôchMc
(
TRUE
);

2716 i‡(
NO_ERROR
 !
ªt
)

2718 
	`mc_¥ötf
("\nfunc:%s,löe:%d. FaûedÅÿíabÀ mu…iˇ°.\n",
__FUNCTION__
,
__LINE__
);

2719  
OPL_ERROR
;

2731 
INT32
 
	`DRV_E«bÀSwôchMc
(INT32 
iE«bÀ
);

2732 
ªt
 = 
	`DRV_E«bÀSwôchMc
(
FALSE
);

2733 i‡(
NO_ERROR
 !
ªt
)

2735 
	`mc_¥ötf
("\nfunc:%s,löe:%d. FaûedÅÿíabÀ mu…iˇ°.\n",
__FUNCTION__
,
__LINE__
);

2736  
OPL_ERROR
;

2744 
mcC⁄åﬁBlock
.
mcMode
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2745 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2746 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_MODE
, 
mcC⁄åﬁBlock
.
mcMode
);

2748 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_SNOOPING
) {

2749 
mcC⁄åﬁBlock
.
ho°Bôm≠
 = 
MC_BITMAP_HOST_SRC_IP
;

2751 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_CTC
) {

2752 
mcC⁄åﬁBlock
.
ho°Bôm≠
 = 0;

2754 
	`mcHo°AgögTimîInô
(
mcC⁄åﬁBlock
.
mcMode
, 1000);

2756 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2757 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2758 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_CTC_CONTROL_TYPE
, 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
);

2760 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_SNOOPING
) {

2761 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
;

2763 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_CTC
) {

2764 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC
) {

2765 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC
;

2767 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC_VID
) {

2771 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC
;

2774 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_SA_MAC
) {

2775 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC_SA_MAC
;

2777 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_IP_VID
) {

2778 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
;

2782 
mcC⁄åﬁBlock
.
ÀaveMode
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2783 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2784 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LEAVE_MODE
, 
mcC⁄åﬁBlock
.
ÀaveMode
);

2786 
mcC⁄åﬁBlock
.
ho°AgögTime
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2787 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2788 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_HOST_AGING_TIME
, 
mcC⁄åﬁBlock
.
ho°AgögTime
);

2790 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2791 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2792 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_INTERVAL
, 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
);

2794 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
,

2795 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
,

2796 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_LAST_QUERY_COUNT
, 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
);

2798 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

2799 
	`vosS¥ötf
(
p‹tIdSå
, "%s%d", 
CFGSECTION_MULTICAST_IGMP_PORT
, 
i
);

2802 
vœnM≠FromFûe
 = (*)
	`vosC⁄figVÆueGë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2803 
CFGKEY_MULTICAST_IGMP_PORT_MULTICAST_VLAN
, 
NULL
);

2804 if(
vœnM≠FromFûe
 !
NULL
) {

2805 
	`vosSåCpy
(
ãmpSå
, 
vœnM≠FromFûe
);

2806 
p
 = 
	`°πok_r
(
ãmpSå
, ",", &
ouãrBuf
);

2807 if(
p
 !
NULL
) {

2808 if((
vœnId
=
	`©ﬁ
(
p
)) > 0) {

2810 
ªt
 = 
	`dÆMcVœnM≠Add
(
i
, 
vœnId
);

2811 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2813 
ªt
 = 
	`mcVœnM≠Add
(
i
, 
vœnId
);

2814 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2818 (
p
 = 
	`°πok_r
(
NULL
, ",", &
ouãrBuf
))) {

2819 if(
p
 !
NULL
) {

2820 if((
vœnId
=
	`©ﬁ
(
p
)) > 0) {

2822 
ªt
 = 
	`dÆMcVœnM≠Add
(
i
, 
vœnId
);

2823 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2826 
ªt
 = 
	`mcVœnM≠Add
(
i
, 
vœnId
);

2827 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2835 
ègO≥rTmp
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2836 
CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP
, 
MC_TAG_OPER_MODE_TRANSPARENT
);

2839 
ªt
 = 
	`dÆMcTagO≥rSë
(
i
, 
ègO≥rTmp
);

2840 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2843 
ªt
 = 
	`mcTagO≥rPîP‹tSë
(
i
, 
ègO≥rTmp
);

2844 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2847 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

2848 
	`vosS¥ötf
(
å™sVœnSå
, "%s%d", 
CFGKEY_MULTICAST_IGMP_PORT_TAGSTRIP_TRANSLATION_VLAN
, 
j
);

2849 
u£rVid
 = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
, 
å™sVœnSå
, 0);

2850 if(
u£rVid
 > 0) {

2854 
ªt
 = 
	`dÆMcTagTøn¶©i⁄Add
(
i
, 
j
, 
u£rVid
);

2855 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2858 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀAdd
(
i
, 
j
, 
u£rVid
);

2859 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

2864 
mcC⁄åﬁBlock
.
maxGroupNum
[
i
] = 
	`vosC⁄figUI¡32Gë
(
CFGFILE_MULTICAST
, 
p‹tIdSå
,

2865 
CFGKEY_MULTICAST_IGMP_PORT_MAX_GROUP_NUM
,

2866 
mcC⁄åﬁBlock
.
maxGroupNum
[
i
]);

2869  
OPL_OK
;

2870 
	}
}

2881 
OPL_STATUS
 
	$mcCtcPackëSëVœn
(
uöt8
 *
∑ckë
, 
uöt32
 *
∑ckëLígth
, uöt32 *
ègTy≥
, uöt32 
çid
, uöt32 
vœnId
)

2883 
uöt32
 
c›yLígth
;

2884 
ëh_hódî_wôh_sgl_èg_t
 *
sglEthHódî
;

2886 
sglEthHódî
 = 
NULL
;

2889 if(*
ègTy≥
==
TAG_TYPE_UNTAG
) {

2890 
c›yLígth
 = *
∑ckëLígth
;

2892 
c›yLígth
-->12) {

2893 *(
∑ckë
+
c›yLígth
+3) = *(packet+copyLength-1);

2896 *
∑ckëLígth
 = *packetLength+4;

2897 *
ègTy≥
 = 
TAG_TYPE_SINGLE_TAG
;

2901 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
∑ckë
;

2902 
sglEthHódî
->
vœn_èg
.
ty≥
 = 
çid
;

2903 
sglEthHódî
->
vœn_èg
.
vid
 = 
vœnId
;

2904 
sglEthHódî
->
vœn_èg
.
¥i
 =0;

2906  
OPL_OK
;

2907 
	}
}

2918 
OPL_STATUS
 
	$mcSno›ögQuîyA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

2920 
uöt32
 
i
;

2921 
ªt
;

2922 
uöt32
 
mcVœnExi°
;

2923 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

2924 
uöt32
 
u£rVid
 = 0;

2926 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingQueryAction,Énter.\r\n");

2928 
mcVœnExi°
 = 
OPL_FALSE
;

2929 
	`vosMemSë
(
macSå
, 0, (macStr));

2932 if(
desc
->
ögªssTagTy≥
==
TAG_TYPE_UNTAG
) {

2933 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

2934 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping query:ÇoÅag, dropped.\r\n");

2935  
OPL_ERROR
;

2938 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

2941 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
) ||

2942 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
))

2944 
mcVœnExi°
 = 
OPL_TRUE
;

2948 if(
mcVœnExi°
==
OPL_FALSE
) {

2949 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

2950 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping query: multicast vlan mismatch, dropped.\r\nportId=%d, vlan=%d.\r\n",

2951 
desc
->
ögªssP‹tId
, desc->
cVœn
);

2952  
OPL_ERROR
;

2957 if(
OPL_FALSE
==
	`mcRouãrP‹tExi°
(
desc
->
ögªssP‹tId
)) {

2958 
mcC⁄åﬁSèts
.
ŸhîHo°RxUnknownCou¡
++;

2959 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping query: queryÖacketÇotÑeceived fromÑouterÖorts.\r\nportId=%d.\r\n",

2960 
desc
->
ögªssP‹tId
);

2961  
OPL_ERROR
;

2965 if(
desc
->
igmpMaxRe•Time
) {

2966 
desc
->
igmpVîsi⁄
 = 
IGMP_VERSION_2
;

2967 if(
desc
->
igmpGroupAdªss
) {

2968 
mcC⁄åﬁSèts
.
groupS≥cificV2QuîyRxCou¡
++;

2971 
mcC⁄åﬁSèts
.
gíîÆQuîyV2RxCou¡
++;

2975 
desc
->
igmpVîsi⁄
 = 
IGMP_VERSION_1
;

2976 
mcC⁄åﬁSèts
.
gíîÆQuîyV1RxCou¡
++;

2980 if(
desc
->
igmpGroupAdªss
==0&&desc->
de°Ip
==
MULTICAST_ALL_HOST_GROUP
) {

2982 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

2983 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
)

2984 || 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
)) {

2985 
desc
->
egªssP‹tId
 = 
i
;

2986 
	`mcSno›ögOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

2987 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

2991  
OPL_OK
;

2995 if(
desc
->
igmpGroupAdªss
==desc->
de°Ip
&&desc->igmpGroupAdªss!=
MULTICAST_ALL_HOST_GROUP
) {

2996 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

2997 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
)

2998 || 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
)) {

2999 #i‚de‡
SEND_SPECIFIC_QUERY_TO_UNI_PORT_DIRECTLY


3000 if(
	`mcGroupLi°Gë
(
i
, 
desc
->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
))

3003 
desc
->
egªssP‹tId
 = 
i
;

3004 
	`mcSno›ögOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

3005 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

3010  
OPL_OK
;

3013 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping query: bad queryÖacket.\r\n");

3014  
OPL_ERROR
;

3015 
	}
}

3016 
	$vosHWAddrGë
(
UINT8
 *
ifName
, UINT8 *
macAddr
)

3018 
i‰eq
 ifreq;

3019 
INT32
 
sock
;

3021 i‡(
NULL
 =
macAddr
 || NULL =
ifName
)

3023  
ERROR
;

3026 i‡((
sock
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0)) < 0)

3028 
	`vosPrötk
("open sockÉrror.\n");

3029  
ERROR
;

3031 
	`°r˝y
(
i‰eq
.
i‰_«me
, &
ifName
[0]);

3032 i‡(
	`io˘l
(
sock
, 
SIOCGIFHWADDR
, &
i‰eq
) < 0)

3037 
	`˛o£
(
sock
);

3038  
ERROR
;

3040 
macAddr
[0] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[0];

3041 
macAddr
[1] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[1];

3042 
macAddr
[2] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[2];

3043 
macAddr
[3] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[3];

3044 
macAddr
[4] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[4];

3045 
macAddr
[5] = 
i‰eq
.
i‰_hwaddr
.
ß_d©a
[5];

3046 
	`˛o£
(
sock
);

3047  
OK
;

3048 
	}
}

3049 
	$vosIPAddrGë
(
UINT8
 *
ifName
, *
ùAddr
)

3051 
i‰eq
 ifreq;

3052 
INT32
 
sock
;

3053 
sockaddr_ö
 *
psLoˇlAddr
;

3054 *
tmpIpAddr
 = 
NULL
;

3056 i‡(
NULL
 =
ùAddr
 || NULL =
ifName
)

3058  
ERROR
;

3061 i‡((
sock
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0)) < 0)

3064  
ERROR
;

3066 
	`°r˝y
(
i‰eq
.
i‰_«me
, &
ifName
[0]);

3068 i‡(
	`io˘l
(
sock
, 
SIOCGIFADDR
, &
i‰eq
) < 0)

3071 
	`˛o£
(
sock
);

3072  
ERROR
;

3074 
psLoˇlAddr
 = (
sockaddr_ö
 *)&
i‰eq
.
i‰_addr
;

3075 
tmpIpAddr
 = (*)
	`öë_¡ﬂ
(
psLoˇlAddr
->
sö_addr
);

3076 
	`°r˝y
(
ùAddr
, 
tmpIpAddr
);

3077 
	`˛o£
(
sock
);

3078  
OK
;

3079 
	}
}

3090 
OPL_STATUS
 
	$mcSno›ögQuîyPackëGíî©e
(
MC_PACKET_DESC_t
 *
desc
,

3091 
uöt8
 *
quîyPkt
)

3093 
uöt8
 
ho°SaMac
[
MAC_ADDRESS_LENGTH
];

3094 
uöt8
 
ho°SrcIp
[
SMALL_BUF_LEN
];

3096 
ëh_igmp_‰m_wôh_sgl_t
 *
pkt
;

3097 
uöt32
 
vid
;

3098 
uöt16
 
pvid
;

3099 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 
å™¶©i⁄_íåy
[16];

3100 
uöt8
 
num
, 
ödex
;

3102 
ªt
 = 
NO_ERROR
;

3103 
sys_√tw‹k_t
 
öfo
;

3104 *
tmpIpAddr
 = 
NULL
;

3106 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingQueryPacketGenerate,Énter.\r\n");

3108 
	`vosMemSë
(
ho°SaMac
, 0, (hostSaMac));

3109 
	`vosMemSë
(
ho°SrcIp
, 0, (hostSrcIp));

3111 
pkt
 = (
ëh_igmp_‰m_wôh_sgl_t
 *)
quîyPkt
;

3113 if(
	`vosHWAddrGë
("ëh0", 
ho°SaMac
Ë!
NO_ERROR
) {

3114 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "Query generate: Get host MACÉrror.\r\n");

3115  
OPL_ERROR
;

3119 if(
	`vosIPAddrGë
("ëh0", 
ho°SrcIp
Ë!
NO_ERROR
) {

3120 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "Query generate: Get host IPÉrror.\r\n");

3121  
OPL_ERROR
;

3124 
	`mem£t
(&
öfo
, 0, (
sys_√tw‹k_t
));

3125 
	`ﬂm_ùc_gë_sys_√tw‹kög
(
sys_√tw‹k_t
 *
öfo
);

3126 
ªt
 = 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

3127 if(
IPC_STATUS_OK
 !
ªt
)

3129 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "Query generate: Get host IPÉrror.\r\n");

3130  
OPL_ERROR
;

3132 
tmpIpAddr
 = (*)
	`öë_¡ﬂ
(
öfo
.
√tif
.
ù
);

3133 
	`°r˝y
(
ho°SrcIp
, 
tmpIpAddr
);

3137 
	`vosMemCpy
(
pkt
->
ëh_hdr
.
de°
, 
desc
->
igmpGroupMac
, 
MAC_ADDRESS_LENGTH
);

3138 
	`vosMemCpy
(
pkt
->
ëh_hdr
.
§c
, 
ho°SaMac
, 
MAC_ADDRESS_LENGTH
);

3139 
pkt
->
ëh_hdr
.
vœn_èg
.
ty≥
 = 
desc
->
cTpid
;

3141 
vid
=1; vid<
OP_MAX_VLAN_NUMBER
; vid++) {

3142 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
desc
->
ögªssP‹tId
, 
vid
)) {

3146 if(
vid
!=
OP_MAX_VLAN_NUMBER
) {

3148 
	`odmMu…iˇ°TagTøn¶©i⁄Gë
(
desc
->
ögªssP‹tId
, 
å™¶©i⁄_íåy
, &
num
);

3149 
ödex
=0; index<
num
; index++) {

3150 if(
å™¶©i⁄_íåy
[
ödex
].
mˇ°_vœn
==
vid
) {

3151 
vid
 = 
å™¶©i⁄_íåy
[
ödex
].
ùtv_vœn
;

3156 
pkt
->
ëh_hdr
.
vœn_èg
.
vid
 = vid;

3160 
	`mc_¥ötf
("mcSnoopingQueryPacketGenerate: fatalÉrror\n");

3170 i‡(0 =
desc
->
cVœn
)

3172 
pkt
->
ëh_hdr
.
vœn_èg
.
ty≥
 = 0x8100;

3174 
pkt
->
ëh_hdr
.
vœn_èg
.
vid
 = 0xfff;

3178 
pkt
->
ëh_hdr
.
¥Ÿocﬁ
 = 0x0800;

3181 
pkt
->
ù_hdr
.
vîsi⁄
 = 0x4;

3182 
pkt
->
ù_hdr
.
ihl
 = 6;

3183 
pkt
->
ù_hdr
.
tŸÆ_Àn
 = 32;

3189 
pkt
->
ù_hdr
.
âl
 = 64;

3191 
pkt
->
ù_hdr
.
âl
 = 1;

3195 
pkt
->
ù_hdr
.
¥Ÿocﬁ
 = 2;

3196 
pkt
->
ù_hdr
.
checksum
 = 0;

3197 
pkt
->
ù_hdr
.
§c_addr
 = 
	`öë_addr
(
ho°SrcIp
);

3198 
pkt
->
ù_hdr
.
de°_addr
 = 
desc
->
igmpGroupAdªss
;

3200 *(
uöt32
 *)&
pkt
->
ù_›t
 = 0x94040000;

3202 
pkt
->
ù_hdr
.
checksum
 = 
	`›_lib_öë_chksum
(&pkt->ù_hdr,Ökt->ù_hdr.
ihl
*4);

3205 
pkt
->
igmp_msg
.
ty≥
 = 
IGMP_TYPE_GENERAL_QUERY
;

3209 
pkt
->
igmp_msg
.
max_ª•_time
 = 100;

3211 
pkt
->
igmp_msg
.
max_ª•_time
 = 10;

3215 
pkt
->
igmp_msg
.
checksum
 = 0;

3216 
pkt
->
igmp_msg
.
group
 = 
desc
->
igmpGroupAdªss
;

3218 
pkt
->
igmp_msg
.
checksum
 = 
	`›_lib_öë_chksum
(&pkt->igmp_msg, 8);

3221 
desc
->
n⁄Fa°LóveEgªssIsHaveIpO±i⁄s
 = 
OPL_TRUE
;

3222 
desc
->
n⁄Fa°LóveQuîyPackëLígth
 = 64;

3223 
desc
->
n⁄Fa°LóveQuîyPackë
 = 
quîyPkt
;

3224 
desc
->
n⁄Fa°LóveEgªssTagTy≥
 = 
TAG_TYPE_SINGLE_TAG
;

3227 if(
desc
->
ögªssTagTy≥
==
TAG_TYPE_UNTAG
) {

3228 
	`vosMemCpy
(
quîyPkt
+12, quîyPkt+16, 
desc
->
n⁄Fa°LóveQuîyPackëLígth
-16);

3229 
desc
->
n⁄Fa°LóveQuîyPackëLígth
 -= 4;

3230 
desc
->
n⁄Fa°LóveEgªssTagTy≥
 = 
TAG_TYPE_UNTAG
;

3233  
OPL_OK
;

3234 
	}
}

3246 
OPL_STATUS
 
	$mcSno›ögN⁄Fa°LóveA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

3248 
ªt
;

3249 
uöt8
 
quîyPkt
[
BIG_BUF_LEN
];

3251 
uöt32
 
j
;

3252 
TIMER_OBJ_t
 *
tmpTimî
;

3253 
MC_GROUP_t
 *
group
 = 
NULL
;

3254 
MC_HOST_t
 *
ho°
 = 
NULL
;

3256 
uni_num
=0;

3257 
œ°_num_Êag
=0;

3260 
ªt
 = 0;

3261 
	`vosMemSë
(
quîyPkt
, 0, (queryPkt));

3262 
j
 = 0;

3263 
tmpTimî
 = 
NULL
;

3264 
group
 = 
NULL
;

3265 
ho°
 = 
NULL
;

3267 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingNonFastLeaveAction,Énter.\r\n");

3270 
	`mcSno›ögQuîyPackëGíî©e
(
desc
, 
quîyPkt
);

3274 
	`mcGroupSemLock
();

3277 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

3278 if(!
group
) {

3279 
kûl_timî
;

3284 
ho°
 = 
	`mcHo°Li°Gë
(
group
, 
desc
->
ßMac
, desc->
§cIp
, 
MC_HOST_BITMAP
);

3285 if(!
ho°
) {

3286 
kûl_timî
;

3292 if(
group
->
quîy˙t
<
	`mcC⁄åﬁBlockLa°QuîyCou¡Gë
()) {

3293 if(
ho°
->
isLa°Rï‹tRe˚võd
==
OPL_TRUE
) {

3294 
ho°
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

3295 
kûl_timî
;

3298 
	`mcSno›ögOuçut
(
desc
->
ögªssP‹tId
, desc->
n⁄Fa°LóveEgªssTagTy≥
,

3299 
desc
->
n⁄Fa°LóveQuîyPackë
, desc->
n⁄Fa°LóveQuîyPackëLígth
,

3300 
OPL_TRUE
);

3302 
group
->
quîy˙t
++;

3303 
	`mcGroupSemUnLock
();

3305  
OPL_OK
;

3312 if(
group
->
quîy˙t
==
	`mcC⁄åﬁBlockLa°QuîyCou¡Gë
()) {

3313 if(
ho°
->
isLa°Rï‹tRe˚võd
==
OPL_TRUE
) {

3314 
ho°
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

3315 
kûl_timî
;

3320 
uni_num
=
ODM_START_PORT_NUN
;uni_num<=
ODM_NUM_OF_PORTS
;uni_num++)

3322 if(
uni_num
!=
group
->
ho°P‹tId
)

3324 if(
	`mcGroupLi°Gë
(
uni_num
, 
desc
->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
))

3326 
œ°_num_Êag
=1;

3331 
œ°_num_Êag
=0;

3337 
ªt
 = 
	`mcHo°Li°Dñ
(
group
, 
ho°
->
ßMac
, ho°->
§cIp
, 
MC_HOST_BITMAP
);

3338 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3340 if(
OPL_TRUE
==
	`mcGroupLi°Ho°Li°Em±y
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

3341 
group
->
mcVœn
, 
MC_BITMAP
)) {

3343 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

3344 
group
->
mcVœn
, 
MC_BITMAP
);

3345 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3347 
group
 = 
NULL
;

3354 i‡((0==
œ°_num_Êag
)&&((
NULL
 =
group
Ë|| (group->
isLa°Rï‹tRe˚võd
 !
OPL_TRUE
))) {

3355 
j
=0; j<
MC_ROUTER_PORT_NUM
; j++) {

3356 if(
mcRouãrP‹t
[
j
].
íabÀ
==
OPL_ENABLE
) {

3357 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
j
].
rouãrP‹tId
;

3358 
ªt
 = 
	`mcSno›ögOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

3359 
desc
->
ögªssPackëLígth
, 
OPL_TRUE
);

3366 
kûl_timî
;

3371 
kûl_timî
:

3372 
	`mcGroupSemUnLock
();

3376 i‡(
group
)

3378 
group
->
quîy˙t
 = 0;

3382 
tmpTimî
 = 
desc
->
n⁄Fa°LóveTimî
;

3383 
	`vosTimîC™˚l
(
tmpTimî
);

3385 
	`vosFªe
(
desc
->
ögªssPackë
);

3386 
desc
->
ögªssPackë
 = 
NULL
;

3387 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

3388 
	`vosFªe
(
desc
);

3389 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

3391  
OPL_OK
;

3392 
	}
}

3403 
OPL_STATUS
 
	$mcSno›ögLóveA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

3405 
ªt
;

3406 
uöt32
 
i
;

3407 
MC_GROUP_t
 *
group
;

3408 
MC_HOST_t
 *
ho°
;

3409 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

3410 
MC_PACKET_DESC_t
 *
descN⁄Fa°LóveTimî
;

3411 
cuº_ho°P‹tId
 = 1;

3412 
MC_GROUP_t
 *
tmp_group
 = 
NULL
;

3414 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingLeaveAction,Énter.\r\n");

3416 
ªt
 = 0;

3417 
group
 = 
NULL
;

3418 
ho°
 = 
NULL
;

3419 
	`vosMemSë
(
macSå
, 0, (macStr));

3420 
descN⁄Fa°LóveTimî
 = 
NULL
;

3423 if(!(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
)) {

3424 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "SnoopingÜeave:ÜeqveÖacketÇotÑeceived from hostÖorts.\r\nportId=%d.\r\n",

3425 
desc
->
ögªssP‹tId
);

3426  
OPL_ERROR
;

3430 if(!(
desc
->
daMac
[0]==0x01 && desc->daMac[1]==0x00

3431 && 
desc
->
daMac
[2]==0x5e && desc->daMac[3]==0x0

3432 && 
desc
->
daMac
[4]==0x0 && desc->daMac[5]==0x02)) {

3433 
	`˛SåögGëByMac
(
macSå
, 
desc
->
daMac
);

3434 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Sno›ögÜóve: D®MACÉº‹.\r\ndaMac=%s.\r\n", 
macSå
);

3435  
OPL_ERROR
;

3441 if((
desc
->
igmpGroupAdªss
&0xe0000000) != 0xe0000000) {

3442 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "SnoopingÜeave: Groupáddress isÇot multicastáddress.\r\ngroupAddr=%s\r\n",

3443 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
));

3444  
OPL_ERROR
;

3447 if(
MULTICAST_ALL_ROUTERS_GROUP
!=
desc
->
de°Ip
) {

3448 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "SnoopingÜeave: Dest IPÉrror.\r\ndestIp=%s.",

3449 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
de°Ip
));

3450  
OPL_ERROR
;

3455 
	`ﬂm_ùc_gë_sys_mvœn
(
sys_mvœn_t
 *
mvœn
);

3456 
ªt_ùc
; 
sys_mvœn_t
 
öfo
;

3457 
ªt_ùc
 = 
	`ﬂm_ùc_gë_sys_mvœn
(&
öfo
);

3458 if(
IPC_STATUS_OK
 !
ªt_ùc
)

3460 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "SnoopingJoinAction: Get mvlanÉrror.\r\n");

3461  
OPL_ERROR
;

3464 if(
desc
->
cVœn
 =
öfo
.
m_vœn
)

3467 
desc
->
cVœn
 = 0;

3472 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

3473 if(!
group
) {

3474 
	`˛SåögGëByMac
(
macSå
, 
desc
->
igmpGroupMac
);

3475 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

3477 
desc
->
ögªssP‹tId
, 
macSå
, 
	`öë_¡ﬂ
(*(
ö_addr
 *)&desc->
igmpGroupAdªss
), desc->
cVœn
);

3478  
OPL_ERROR
;

3483 
ho°
 = 
	`mcHo°Li°Gë
(
group
, 
desc
->
ßMac
, desc->
§cIp
, 
MC_HOST_BITMAP
);

3484 if(!
ho°
) {

3485 
	`˛SåögGëByMac
(
macSå
, 
desc
->
ßMac
);

3486 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

3488 
macSå
, 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
§cIp
));

3489 
	`˛SåögGëByMac
(
macSå
, 
desc
->
igmpGroupMac
);

3490 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

3492 
desc
->
ögªssP‹tId
, 
macSå
, 
	`öë_¡ﬂ
(*(
ö_addr
 *)&desc->
igmpGroupAdªss
), desc->
cVœn
);

3493  
OPL_ERROR
;

3497 
cuº_ho°P‹tId
 = 
group
->
ho°P‹tId
;

3501 if(
	`mcC⁄åﬁBlockLóveModeGë
()==
MC_LEAVE_MODE_FAST
) {

3502 
	`mc_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3504 
ªt
 = 
	`mcHo°Li°Dñ
(
group
, 
ho°
->
ßMac
, ho°->
§cIp
, 
MC_HOST_BITMAP
);

3505 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3507 if(
OPL_TRUE
==
	`mcGroupLi°Ho°Li°Em±y
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

3508 
group
->
mcVœn
, 
MC_BITMAP
)) {

3510 
	`mc_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3511 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

3512 
group
->
mcVœn
, 
MC_BITMAP
);

3513 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3515 
group
 = 
NULL
;

3528 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++)

3530 if(
cuº_ho°P‹tId
 !
i
)

3533 
tmp_group
 = 
	`mcGroupLi°Gë
(
i
, 
desc
->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

3534 if(
tmp_group
)

3536  
OPL_OK
;

3544 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

3545 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

3546 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
i
].
rouãrP‹tId
;

3547 
ªt
 = 
	`mcSno›ögOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

3548 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

3549 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3553  
OPL_OK
;

3557 if(
	`mcC⁄åﬁBlockLóveModeGë
()==
MC_LEAVE_MODE_NON_FAST_LEAVE
) {

3558 
	`mc_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3559 if(
ho°
->
isN⁄Fa°LóveTimîSèπ
==
OPL_TRUE
) {

3560 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

3562  
OPL_ERROR
;

3566 
ªt
 = 
	`mcGroupLi°SëisLa°Rï‹tRe˚võd
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

3567 
group
->
mcVœn
, (
MC_BITMAP_HOST_PORT_ID
|
MC_BITMAP_GDA_MAC
|
MC_BITMAP_GDA_IP
|
MC_BITMAP_VLAN_ID
), 
OPL_FALSE
);

3568 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3571 
ho°
->
isN⁄Fa°LóveTimîSèπ
=
OPL_TRUE
;

3574 
descN⁄Fa°LóveTimî
 = (
MC_PACKET_DESC_t
 *)
	`vosAŒoc
((MC_PACKET_DESC_t));

3575 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

3576 if(!
descN⁄Fa°LóveTimî
) {

3577  
OPL_ERROR
;

3579 
	`vosMemSë
(
descN⁄Fa°LóveTimî
, 0, (
MC_PACKET_DESC_t
));

3581 
	`vosMemCpy
(
descN⁄Fa°LóveTimî
, 
desc
, (
MC_PACKET_DESC_t
));

3583 
desc
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_TRUE
;

3585 
ªt
 = 
	`mcHo°Li°SëisLa°Rï‹tRe˚võd
(
group
, 
ho°
->
ßMac
, ho°->
§cIp
,

3586 
MC_HOST_BITMAP
, 
OPL_FALSE
);

3587 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3590 
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
 = 
	`vosTimîGëFªe
();

3591 if(
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
) {

3592 
ªt
 = 
	`vosTimîSèπ
(
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
, 
REOCURRING_TIMER
,

3593 
	`mcC⁄åﬁBlockLa°QuîyI¡îvÆGë
(),

3594 (
FUNCPTR
)
mcTimîMsgSíd
,

3595 
MC_SNOOP_NON_FAST_LEAVE
, (
uöt32
)
descN⁄Fa°LóveTimî
, 0,0,0,0,0,0);

3597 i‡(0 !
ªt
)

3599 
	`vosFªe
(
descN⁄Fa°LóveTimî
);

3600 
desc
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

3607 
	`vosFªe
(
descN⁄Fa°LóveTimî
);

3608 
desc
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

3612  
OPL_OK
;

3615  
OPL_ERROR
;

3616 
	}
}

3627 
OPL_STATUS
 
	$mcSno›ögJoöA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

3629 
ªt
;

3631 
uöt32
 
i
;

3632 
uöt32
 
j
;

3633 
uöt32
 
num
= 0;

3635 
MC_GROUP_t
 *
group
;

3636 
MC_HOST_t
 *
ho°
;

3637 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

3638 
uöt8
 
macSå1
[
SMALL_BUF_LEN
];

3639 
uöt8
 
macSå2
[
SMALL_BUF_LEN
];

3641 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingJoinAction,Énter.\r\n");

3644 
ªt
 = 0;

3645 
group
 = 
NULL
;

3646 
ho°
 = 
NULL
;

3647 
	`vosMemSë
(
ãmpGroupMac
, 0, 
MAC_ADDRESS_LENGTH
);

3648 
	`vosMemSë
(
macSå1
, 0, (macStr1));

3649 
	`vosMemSë
(
macSå2
, 0, (macStr2));

3653 
	`ﬂm_ùc_gë_sys_mvœn
(
sys_mvœn_t
 *
mvœn
);

3654 
ªt_ùc
; 
sys_mvœn_t
 
öfo
;

3655 
ªt_ùc
 = 
	`ﬂm_ùc_gë_sys_mvœn
(&
öfo
);

3656 if(
IPC_STATUS_OK
 !
ªt_ùc
)

3658 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "SnoopingJoinAction: Get mvlanÉrror.\r\n");

3659  
OPL_ERROR
;

3662 if(
desc
->
cVœn
 =
öfo
.
m_vœn
)

3665 
desc
->
cVœn
 = 0;

3669 
MC_TAG_OPER_MODE_t
 
›î_mode
 = 
	`mcTagO≥rPîP‹tGë
(
desc
->
ögªssP‹tId
);

3670 i‡(0 =
desc
->
cVœn
)

3672 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++)

3674 if(
MC_TAG_OPER_MODE_TRANSLATION
 =
›î_mode
)

3676 if(
OPL_TRUE
==
	`mcTagTøn¶©i⁄TabÀU£rvidExi°
(
desc
->
ögªssP‹tId
, 
j
))

3678 
num
++;

3683 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
desc
->
ögªssP‹tId
, 
j
))

3685 
num
++;

3689 i‡(0 =
num
){

3690 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSno›ögJoö:Çÿvœ¿c⁄figuêöÖ‹à%d.\r\n", 
desc
->
ögªssP‹tId
);

3691  
OPL_ERROR
;

3696 if(
MC_TAG_OPER_MODE_TRANSLATION
 =
›î_mode
)

3698 if(
OPL_TRUE
!=
	`mcTagTøn¶©i⁄TabÀU£rvidExi°
(
desc
->
ögªssP‹tId
, desc->
cVœn
)) {

3699  
OPL_ERROR
;

3704 if(
OPL_TRUE
!=
	`mcVœnM≠Exi°
(
desc
->
ögªssP‹tId
, desc->
cVœn
)) {

3705  
OPL_ERROR
;

3713 if(!(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
)) {

3714 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join: joinÖacketÇotÑeceived from hostÖorts.\r\nportId=%d.\r\n",

3715 
desc
->
ögªssP‹tId
);

3716  
OPL_ERROR
;

3723 if((
desc
->
igmpGroupAdªss
&0xe0000000) != 0xe0000000) {

3724 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join: Groupáddress isÇot multicastáddress.\r\ngroupAddr=%s\r\n",

3725 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
));

3726  
OPL_ERROR
;

3729 if(
desc
->
igmpGroupAdªss
!=desc->
de°Ip
) {

3730 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join: groupáddressÇotÉqualÅo dest ip.\r\ngroupAddr=%s, destIp=%s.\r\n",

3731 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
), i√t_¡ﬂ(*(ö_add∏*)&desc->
de°Ip
));

3732  
OPL_ERROR
;

3735 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
desc
->
igmpGroupAdªss
);

3736 if(
FALSE
==
	`˛MacCmp
(
ãmpGroupMac
, 
desc
->
daMac
)) {

3737 
	`˛SåögGëByMac
(
macSå1
, 
ãmpGroupMac
);

3738 
	`˛SåögGëByMac
(
macSå2
, 
desc
->
daMac
);

3739 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join: group macÇotÉqualÅo dest mac.\r\ngroupMac=%s, destMac=%s.\r\n",

3740 
macSå1
, 
macSå2
);

3741  
OPL_ERROR
;

3746 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

3747 if(!
group
) {

3749 if(
	`mcGroupNumPîP‹t
(
desc
->
ögªssP‹tId
)==
	`mcC⁄åﬁBlockmaxGroupNumGë
(desc->ingressPortId)) {

3750 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join:Ñeach max groupÇumber.\r\ngroupNum=%d.\r\n",

3751 
	`mcC⁄åﬁBlockmaxGroupNumGë
(
desc
->
ögªssP‹tId
));

3752  
OPL_ERROR
;

3755 
ªt
 = 
	`odmMcGroupAdd
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
GROUP_STATE_LEARNING
, 
MC_BITMAP
);

3756 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3758 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

3759 
	`RETURN_VAL_IF_FAIL
(
group
 !
NULL
, 
OPL_NOT_EXIST
);

3766 
ho°
 = 
	`mcHo°Li°Gë
(
group
, 
desc
->
ßMac
, desc->
§cIp
, 
MC_HOST_BITMAP
);

3767 if(!
ho°
) {

3769 
ho°
 = 
	`mcHo°Li°Add
(
group
, 
desc
->
ßMac
, desc->
§cIp
, 
GROUP_STATE_LEARNING
, 
MC_HOST_BITMAP
);

3770 
	`RETURN_VAL_IF_FAIL
(
ho°
 !
NULL
, 
OPL_ERROR
);

3775 
ªt
 = 
	`mcHo°Li°SëHo°AgögTime
(
group
, 
desc
->
ßMac
, desc->
§cIp
,

3776 
MC_HOST_BITMAP
, 
	`mcC⁄åﬁBlockHo°AgögTimeGë
());

3777 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3779 
ªt
 = 
	`mcHo°Li°SëisLa°Rï‹tRe˚võd
(
group
, 
desc
->
ßMac
, desc->
§cIp
,

3780 
MC_HOST_BITMAP
, 
OPL_TRUE
);

3781 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3784 
ªt
 = 
	`mcGroupLi°SëisLa°Rï‹tRe˚võd
(
group
->
ho°P‹tId
, group->
groupMac
,

3785 
group
->
groupAddªss
, group->
mcVœn
, (
MC_BITMAP_HOST_PORT_ID
|
MC_BITMAP_GDA_MAC
|
MC_BITMAP_GDA_IP
|
MC_BITMAP_VLAN_ID
), 
OPL_TRUE
);

3786 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3791 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

3792 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

3793 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
i
].
rouãrP‹tId
;

3794 
ªt
 = 
	`mcSno›ögOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

3795 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

3796 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

3800  
OPL_OK
;

3801 
	}
}

3812 
OPL_STATUS
 
	$mcSno›ögOuçut
(
uöt32
 
egªssP‹tId
, uöt32 
ègTy≥
, 
uöt8
 *
∑ckë
, uöt32 
∑ckëLí
,

3813 
uöt32
 
isLa°QuîyPackë
)

3815 
uöt8
 
aucPackë
[
BIG_BUF_LEN
];

3816 
uöt8
 *
tmpPackëPoöãr
;

3817 
uöt32
 
mcVid
, 
u£rVid
;

3818 
uöt32
 
tmpPackëLígth
;

3819 
öt32
 
ªt
;

3820 
ëh_hódî_wôh_sgl_èg_t
 *
sglEthHódî
;

3821 
ho°_outbound_hdr_t
 *
out_hdr
;

3823 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcSnoopingOutput,Énter.\r\n");

3825 
	`vosMemSë
(
aucPackë
, 0, (aucPacket));

3826 
mcVid
 = 
u£rVid
 = 0;

3827 
ªt
 = 0;

3830 
tmpPackëPoöãr
 = 
aucPackë
 + (
ho°_outbound_hdr_t
);

3831 
tmpPackëLígth
 = 0;

3833 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
∑ckë
;

3836 if((
egªssP‹tId
!=
PORT_PON_LOGIC


3837 && 
ègTy≥
==
TAG_TYPE_SINGLE_TAG


3838 && 
	`mcTagO≥rPîP‹tGë
(
egªssP‹tId
)==
MC_TAG_OPER_MODE_STRIP
)

3839 || (
ègTy≥
==
TAG_TYPE_SINGLE_TAG
&&
sglEthHódî
->
vœn_èg
.
vid
==0xfff)){

3841 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 12);

3842 
	`vosMemCpy
(
tmpPackëPoöãr
+12, 
∑ckë
+16, 
∑ckëLí
-16);

3843 
tmpPackëLígth
 = 
∑ckëLí
-4;

3845 if(
egªssP‹tId
!=
PORT_PON_LOGIC


3846 && 
ègTy≥
==
TAG_TYPE_SINGLE_TAG


3847 && 
	`mcTagO≥rPîP‹tGë
(
egªssP‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION


3848 && 
isLa°QuîyPackë
==
OPL_FALSE
) {

3849 
mcVid
 = 
sglEthHódî
->
vœn_èg
.
vid
;

3850 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀGë
(
egªssP‹tId
, 
mcVid
, &
u£rVid
);

3851 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 
∑ckëLí
);

3852 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
tmpPackëPoöãr
;

3853 if(
ªt
 =
OPL_OK
)

3855 
sglEthHódî
->
vœn_èg
.
vid
 = 
u£rVid
;

3859 
sglEthHódî
->
vœn_èg
.
vid
 = 
mcVid
;

3862 
tmpPackëLígth
 = 
∑ckëLí
;

3865 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 
∑ckëLí
);

3866 
tmpPackëLígth
 = 
∑ckëLí
;

3870 
out_hdr
 = (
ho°_outbound_hdr_t
 *)
aucPackë
;

3871 
out_hdr
->
ª£rved
 = 0;

3872 
out_hdr
->
icos
 = 0;

3873 
out_hdr
->
ï‹t
 = 
egªssP‹tId
;

3875 
tmpPackëLígth
 +(
ho°_outbound_hdr_t
);

3877 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Sno›ög ouçut: sídÖackëÅÿ%d,ÖackëLígth=%d.\r\n", 
egªssP‹tId
, 
tmpPackëLígth
-1);

3882 if(
egªssP‹tId
==
PORT_PON_LOGIC
)

3884 
	`ﬂm_ùc_gë_sys_mvœn
(
sys_mvœn_t
 *
mvœn
);

3885 
ªt_ùc
;

3886 
sys_mvœn_t
 
öfo
;

3887 
ªt_ùc
 = 
	`ﬂm_ùc_gë_sys_mvœn
(&
öfo
);

3888 if(
IPC_STATUS_OK
 !
ªt_ùc
)

3890 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "SnoopingJoinAction: Get mvlanÉrror.\r\n");

3891  
OPL_ERROR
;

3893 if(
öfo
.
m_vœn
 =
sglEthHódî
->
vœn_èg
.
vid
)

3896 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 12);

3897 
	`vosMemCpy
(
tmpPackëPoöãr
+12, 
∑ckë
+16, 
∑ckëLí
-16);

3898 
tmpPackëLígth
 = 
∑ckëLí
-4;

3902 
	`e›l_ho°_£nd
((*)
out_hdr
, 
tmpPackëLígth
);

3904  
OPL_OK
;

3905 
	}
}

3916 
OPL_STATUS
 
	$mcSno›ögI≈ut
(
MC_PACKET_DESC_t
 *
desc
)

3918 
ªt
 = 
OPL_ERROR
;

3923 
desc
->
igmpTy≥
) {

3924 
IGMP_TYPE_GENERAL_QUERY
:

3928 
ªt
 = 
	`mcSno›ögQuîyA˘i⁄
(
desc
);

3930 
IGMP_TYPE_V1_REPORT
:

3934 
mcC⁄åﬁSèts
.
joöRï‹tV1RxCou¡
++;

3935 
ªt
 = 
	`mcSno›ögJoöA˘i⁄
(
desc
);

3937 
IGMP_TYPE_V2_REPORT
:

3941 
mcC⁄åﬁSèts
.
joöRï‹tV2RxCou¡
++;

3942 
ªt
 = 
	`mcSno›ögJoöA˘i⁄
(
desc
);

3944 
IGMP_TYPE_V2_LEAVE
:

3948 
mcC⁄åﬁSèts
.
ÀaveV2RxCou¡
++;

3949 
ªt
 = 
	`mcSno›ögLóveA˘i⁄
(
desc
);

3955 if(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
) {

3956 
mcC⁄åﬁSèts
.
ŸhîHo°RxUnknownCou¡
++;

3959 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

3969  
ªt
;

3970 
	}
}

3981 
OPL_STATUS
 
	$mcCtcQuîyA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

3983 
uöt32
 
i
;

3984 
ªt
;

3985 
uöt32
 
mcVœnExi°
;

3986 
uöt32
 
u£rVid
 = 0;

3988 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcCtcQueryAction,Énter.\r\n");

3990 
mcVœnExi°
 = 
OPL_FALSE
;

3993 if(
desc
->
ögªssTagTy≥
==
TAG_TYPE_UNTAG
) {

3994 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

3995 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC query:ÇoÅag, dropped.\r\n");

3996  
OPL_ERROR
;

3999 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

4000 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
)

4001 || 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
)) {

4002 
mcVœnExi°
 = 
OPL_TRUE
;

4005 if(
mcVœnExi°
==
OPL_FALSE
) {

4006 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

4007 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC query: multicast vlan mismatch, dropped.\r\nportId=%d, vlan=%d.\r\n",

4008 
desc
->
ögªssP‹tId
, desc->
cVœn
);

4009  
OPL_ERROR
;

4014 if(
OPL_FALSE
==
	`mcRouãrP‹tExi°
(
desc
->
ögªssP‹tId
)) {

4015 
mcC⁄åﬁSèts
.
ŸhîHo°RxUnknownCou¡
++;

4016 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC query: queryÖacketÇotÑeceived fromÑouterÖorts.\r\nportId=%d.\r\n",

4017 
desc
->
ögªssP‹tId
);

4018  
OPL_ERROR
;

4022 if(
desc
->
igmpMaxRe•Time
) {

4023 
desc
->
igmpVîsi⁄
 = 
IGMP_VERSION_2
;

4024 if(
desc
->
igmpGroupAdªss
) {

4025 
mcC⁄åﬁSèts
.
groupS≥cificV2QuîyRxCou¡
++;

4028 
mcC⁄åﬁSèts
.
gíîÆQuîyV2RxCou¡
++;

4032 
desc
->
igmpVîsi⁄
 = 
IGMP_VERSION_1
;

4033 
mcC⁄åﬁSèts
.
gíîÆQuîyV1RxCou¡
++;

4037 if(
desc
->
igmpGroupAdªss
==0&&desc->
de°Ip
==
MULTICAST_ALL_HOST_GROUP
) {

4039 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

4040 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
)

4041 || 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
)) {

4042 
desc
->
egªssP‹tId
 = 
i
;

4043 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4044 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

4048  
OPL_OK
;

4052 if(
desc
->
igmpGroupAdªss
==desc->
de°Ip
&&desc->igmpGroupAdªss!=
MULTICAST_ALL_HOST_GROUP
) {

4053 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

4054 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
i
, 
desc
->
cVœn
)

4055 || 
OPL_OK
==
	`mcTagTøn¶©i⁄TabÀGë
(
i
, 
desc
->
cVœn
, &
u£rVid
)) {

4056 if(
	`mcGroupLi°Gë
(
i
, 
desc
->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
)) {

4057 
desc
->
egªssP‹tId
 = 
i
;

4058 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4059 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

4064  
OPL_OK
;

4067 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC query: bad queryÖacket.\r\n");

4068  
OPL_ERROR
;

4069 
	}
}

4080 
OPL_STATUS
 
	$mcCtcN⁄Fa°LóveA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

4082 
ªt
;

4083 
uöt8
 
quîyPkt
[
BIG_BUF_LEN
];

4085 
uöt32
 
j
;

4086 
TIMER_OBJ_t
 *
tmpTimî
;

4087 
MC_GROUP_t
 *
group
 = 
NULL
;

4089 
ªt
 = 0;

4090 
	`vosMemSë
(
quîyPkt
, 0, (queryPkt));

4091 
j
 = 0;

4092 
tmpTimî
 = 
NULL
;

4093 
group
 = 
NULL
;

4095 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTCÇon-fast-leave:\r\n");

4098 
	`mcSno›ögQuîyPackëGíî©e
(
desc
, 
quîyPkt
);

4102 
	`mcGroupSemLock
();

4104 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

4105 if(!
group
) {

4106 
kûl_timî
;

4112 if(
group
->
quîy˙t
<
	`mcC⁄åﬁBlockLa°QuîyCou¡Gë
()) {

4113 if(
group
->
isLa°Rï‹tRe˚võd
==
OPL_TRUE
) {

4114 
group
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

4115 
kûl_timî
;

4118 
	`mcCtcOuçut
(
desc
->
ögªssP‹tId
, desc->
n⁄Fa°LóveEgªssTagTy≥
,

4119 
desc
->
n⁄Fa°LóveQuîyPackë
, desc->
n⁄Fa°LóveQuîyPackëLígth
,

4120 
OPL_TRUE
);

4122 
group
->
quîy˙t
++;

4123 
	`mcGroupSemUnLock
();

4125  
OPL_OK
;

4132 if(
group
->
quîy˙t
==
	`mcC⁄åﬁBlockLa°QuîyCou¡Gë
()) {

4133 if(
group
->
isLa°Rï‹tRe˚võd
==
OPL_TRUE
) {

4134 
group
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_FALSE
;

4135 
kûl_timî
;

4139 if(
OPL_TRUE
==
	`mcGroupLi°Ho°Li°Em±y
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

4140 
group
->
mcVœn
, 
MC_BITMAP
)) {

4142 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

4143 
group
->
mcVœn
, 
MC_BITMAP
);

4150 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
group
->
ho°P‹tId
, group->
mcVœn
))

4153 
ªt
 = 
	`mcCtcMcvœnMemRmv
(
group
->
ho°P‹tId
, group->
mcVœn
);

4154 i‡(
OPL_OK
 !
ªt
)

4156  
OPL_ERROR
;

4163 
group
 = 
NULL
;

4167 
j
=0; j<
MC_ROUTER_PORT_NUM
; j++) {

4168 if(
mcRouãrP‹t
[
j
].
íabÀ
==
OPL_ENABLE
) {

4169 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
j
].
rouãrP‹tId
;

4170 
ªt
 = 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4171 
desc
->
ögªssPackëLígth
, 
OPL_TRUE
);

4176 
kûl_timî
;

4181 
kûl_timî
:

4182 
	`mcGroupSemUnLock
();

4186 i‡(
group
)

4188 
group
->
quîy˙t
 = 0;

4192 
tmpTimî
 = 
desc
->
n⁄Fa°LóveTimî
;

4193 
	`vosTimîC™˚l
(
tmpTimî
);

4195 
	`vosFªe
(
desc
->
ögªssPackë
);

4196 
desc
->
ögªssPackë
 = 
NULL
;

4197 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

4198 
	`vosFªe
(
desc
);

4199 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

4201  
OPL_OK
;

4202 
	}
}

4213 
OPL_STATUS
 
	$mcCtcLóveA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

4215 
ªt
;

4216 
uöt32
 
i
;

4217 
MC_GROUP_t
 *
group
;

4218 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

4219 
MC_PACKET_DESC_t
 *
descN⁄Fa°LóveTimî
;

4221 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcCtcLeaveAction,Énter.\r\n");

4223 
ªt
 = 0;

4224 
group
 = 
NULL
;

4225 
	`vosMemSë
(
macSå
, 0, (macStr));

4226 
descN⁄Fa°LóveTimî
 = 
NULL
;

4229 if(!(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
)) {

4230 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTCÜeave:ÜeqveÖacketÇotÑeceived from hostÖorts.\r\nportId=%d.\r\n",

4231 
desc
->
ögªssP‹tId
);

4232  
OPL_ERROR
;

4236 if(!(
desc
->
daMac
[0]==0x01 && desc->daMac[1]==0x00

4237 && 
desc
->
daMac
[2]==0x5e && desc->daMac[3]==0x0

4238 && 
desc
->
daMac
[4]==0x0 && desc->daMac[5]==0x02)) {

4239 
	`˛SåögGëByMac
(
macSå
, 
desc
->
daMac
);

4240 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTCÜóve: D®MACÉº‹.\r\ndaMac=%s.\r\n", 
macSå
);

4241  
OPL_ERROR
;

4247 if((
desc
->
igmpGroupAdªss
&0xe0000000) != 0xe0000000) {

4248 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTCÜeave: Groupáddress isÇot multicastáddress.\r\ngroupAddr=%s\r\n",

4249 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
));

4250  
OPL_ERROR
;

4253 if(
MULTICAST_ALL_ROUTERS_GROUP
!=
desc
->
de°Ip
) {

4254 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTCÜeave: Dest IPÉrror.\r\ndestIp=%s.",

4255 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
de°Ip
));

4256  
OPL_ERROR
;

4260 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

4261 if(!
group
) {

4262 
	`˛SåögGëByMac
(
macSå
, 
desc
->
igmpGroupMac
);

4263 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

4265 
desc
->
ögªssP‹tId
, 
macSå
, 
	`öë_¡ﬂ
(*(
ö_addr
 *)&desc->
igmpGroupAdªss
), desc->
cVœn
);

4268 if(
	`mcC⁄åﬁBlockLóveModeGë
()==
MC_LEAVE_MODE_FAST
) {

4270 
	`mcCtcPackëSëVœn
(
desc
->
ögªssPackë
, &desc->
ögªssPackëLígth
,

4271 &
desc
->
ögªssTagTy≥
, 
VLAN_DEFAULT_CTPID
, desc->
ögªssP‹tId
);

4274 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

4275 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

4276 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
i
].
rouãrP‹tId
;

4277 
ªt
 = 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4278 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

4279 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4283  
OPL_ERROR
;

4289 
	`mcCtcPackëSëVœn
(
desc
->
ögªssPackë
, &desc->
ögªssPackëLígth
,

4290 &
desc
->
ögªssTagTy≥
, 
VLAN_DEFAULT_CTPID
, desc->
ögªssP‹tId
);

4295 if(
	`mcC⁄åﬁBlockLóveModeGë
()==
MC_LEAVE_MODE_FAST
) {

4297 if(
OPL_TRUE
==
	`mcGroupLi°Ho°Li°Em±y
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

4298 
group
->
mcVœn
, 
MC_BITMAP
)) {

4300 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

4301 
group
->
mcVœn
, 
MC_BITMAP
);

4302 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4308 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
group
->
ho°P‹tId
, group->
mcVœn
))

4311 
ªt
 = 
	`mcCtcMcvœnMemRmv
(
group
->
ho°P‹tId
, group->
mcVœn
);

4312 i‡(
OPL_OK
 !
ªt
)

4314  
OPL_ERROR
;

4320 
group
 = 
NULL
;

4324 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

4325 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

4326 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
i
].
rouãrP‹tId
;

4327 
ªt
 = 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4328 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

4329 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4333  
OPL_OK
;

4337 if(
	`mcC⁄åﬁBlockLóveModeGë
()==
MC_LEAVE_MODE_NON_FAST_LEAVE
) {

4338 if(
group
->
isN⁄Fa°LóveTimîSèπ
==
OPL_TRUE
) {

4339 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

4341  
OPL_ERROR
;

4343 
group
->
isN⁄Fa°LóveTimîSèπ
=
OPL_TRUE
;

4346 
descN⁄Fa°LóveTimî
 = (
MC_PACKET_DESC_t
 *)
	`vosAŒoc
((MC_PACKET_DESC_t));

4347 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

4348 if(!
descN⁄Fa°LóveTimî
) {

4349  
OPL_ERROR
;

4351 
	`vosMemSë
(
descN⁄Fa°LóveTimî
, 0, (
MC_PACKET_DESC_t
));

4353 
	`vosMemCpy
(
descN⁄Fa°LóveTimî
, 
desc
, (
MC_PACKET_DESC_t
));

4355 
desc
->
isN⁄Fa°LóveTimîSèπ
 = 
OPL_TRUE
;

4357 
ªt
 = 
	`mcGroupLi°SëisLa°Rï‹tRe˚võd
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

4358 
group
->
mcVœn
, 
MC_BITMAP
, 
OPL_FALSE
);

4359 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4362 
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
 = 
	`vosTimîGëFªe
();

4363 if(
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
) {

4364 
	`vosTimîSèπ
(
descN⁄Fa°LóveTimî
->
n⁄Fa°LóveTimî
, 
REOCURRING_TIMER
,

4365 
	`mcC⁄åﬁBlockLa°QuîyI¡îvÆGë
(),

4366 (
FUNCPTR
)
mcTimîMsgSíd
,

4367 
MC_CTC_LEAVE_ACTIVE
, (
uöt32
)
descN⁄Fa°LóveTimî
, 0,0,0,0,0,0);

4370  
OPL_OK
;

4373  
OPL_ERROR
;

4375 
	}
}

4387 
OPL_STATUS
 
	$mcCtcJoöA˘i⁄
(
MC_PACKET_DESC_t
 *
desc
)

4389 
ªt
;

4390 
uöt32
 
i
;

4391 
MC_GROUP_t
 *
group
;

4392 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

4393 
uöt8
 
macSå1
[
SMALL_BUF_LEN
];

4394 
uöt8
 
macSå2
[
SMALL_BUF_LEN
];

4396 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcCtcJoinAction,Énter.\r\n");

4398 
ªt
 = 0;

4399 
group
 = 
NULL
;

4400 
	`vosMemSë
(
ãmpGroupMac
, 0, 
MAC_ADDRESS_LENGTH
);

4401 
	`vosMemSë
(
macSå1
, 0, (macStr1));

4402 
	`vosMemSë
(
macSå2
, 0, (macStr2));

4405 if(!(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
)) {

4406 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Snooping join: joinÖacketÇotÑeceived from hostÖorts.\r\nportId=%d.\r\n",

4407 
desc
->
ögªssP‹tId
);

4408  
OPL_ERROR
;

4414 if((
desc
->
igmpGroupAdªss
&0xe0000000) != 0xe0000000) {

4415 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC join: Groupáddress isÇot multicastáddress.\r\ngroupAddr=%s\r\n",

4416 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
));

4417  
OPL_ERROR
;

4420 if(
desc
->
igmpGroupAdªss
!=desc->
de°Ip
) {

4421 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC join: groupáddressÇotÉqualÅo dest ip.\r\ngroupAddr=%s, destIp=%s.\r\n",

4422 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
desc
->
igmpGroupAdªss
), i√t_¡ﬂ(*(ö_add∏*)&desc->
de°Ip
));

4423  
OPL_ERROR
;

4426 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
desc
->
igmpGroupAdªss
);

4427 if(
FALSE
==
	`˛MacCmp
(
ãmpGroupMac
, 
desc
->
daMac
)) {

4428 
	`˛SåögGëByMac
(
macSå1
, 
ãmpGroupMac
);

4429 
	`˛SåögGëByMac
(
macSå2
, 
desc
->
daMac
);

4430 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC join: group macÇotÉqualÅo dest mac.\r\ngroupMac=%s, destMac=%s.\r\n",

4431 
macSå1
, 
macSå2
);

4432  
OPL_ERROR
;

4436 
	`mcCtcPackëSëVœn
(
desc
->
ögªssPackë
, &desc->
ögªssPackëLígth
,

4437 &
desc
->
ögªssTagTy≥
, 
VLAN_DEFAULT_CTPID
, desc->
ögªssP‹tId
);

4440 
group
 = 
	`mcGroupLi°Gë
(
desc
->
ögªssP‹tId
, desc->
igmpGroupMac
, desc->
igmpGroupAdªss
, desc->
cVœn
, 
MC_BITMAP
);

4441 if(
group
) {

4444 
ªt
 = 
	`mcGroupLi°SëHo°AgögTime
(
group
->
ho°P‹tId
, group->
groupMac
,

4445 
group
->
groupAddªss
, group->
mcVœn
, 
MC_BITMAP
, 
	`mcC⁄åﬁBlockHo°AgögTimeGë
());

4446 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4448 
ªt
 = 
	`mcGroupLi°SëisLa°Rï‹tRe˚võd
(
group
->
ho°P‹tId
, group->
groupMac
,

4449 
group
->
groupAddªss
, group->
mcVœn
, 
MC_BITMAP
, 
OPL_TRUE
);

4450 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4454 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

4455 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

4456 
desc
->
egªssP‹tId
 = 
mcRouãrP‹t
[
i
].
rouãrP‹tId
;

4458 
ªt
 = 
	`mcCtcOuçut
(
desc
->
egªssP‹tId
, desc->
ögªssTagTy≥
, desc->
ögªssPackë
,

4459 
desc
->
ögªssPackëLígth
, 
OPL_FALSE
);

4460 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

4464  
OPL_OK
;

4465 
	}
}

4477 
OPL_STATUS
 
	$mcCtcOuçut
(
uöt32
 
egªssP‹tId
, uöt32 
ègTy≥
, 
uöt8
 *
∑ckë
, uöt32 
∑ckëLí
,

4478 
uöt32
 
isLa°QuîyPackë
)

4480 
uöt8
 *
tmpPackëPoöãr
;

4481 
uöt8
 
aucPackë
[
BIG_BUF_LEN
];

4482 
uöt32
 
tmpPackëLígth
;

4483 
uöt32
 
mcVid
, 
u£rVid
;

4484 
öt32
 
ªt
;

4485 
ho°_outbound_hdr_t
 *
out_hdr
;

4486 
ëh_hódî_wôh_sgl_èg_t
 *
sglEthHódî
;

4488 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcCtcOutput,Énter.\r\n");

4490 
	`vosMemSë
(
aucPackë
, 0, (aucPacket));

4493 
tmpPackëPoöãr
 = 
aucPackë
 + (
ho°_outbound_hdr_t
);

4494 
tmpPackëLígth
 = 0;

4496 
mcVid
 = 
u£rVid
 = 0;

4497 
ªt
 = 0;

4500 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
∑ckë
;

4503 if((
egªssP‹tId
!=
PORT_PON_LOGIC


4504 && 
ègTy≥
==
TAG_TYPE_SINGLE_TAG


4505 && 
	`mcTagO≥rPîP‹tGë
(
egªssP‹tId
)==
MC_TAG_OPER_MODE_STRIP
)

4506 || (
ègTy≥
==
TAG_TYPE_SINGLE_TAG
&&
sglEthHódî
->
vœn_èg
.
vid
==0xfff)){

4508 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 12);

4509 
	`vosMemCpy
(
tmpPackëPoöãr
+12, 
∑ckë
+16, 
∑ckëLí
-16);

4510 
tmpPackëLígth
 = 
∑ckëLí
-4;

4512 if(
egªssP‹tId
!=
PORT_PON_LOGIC


4513 && 
ègTy≥
==
TAG_TYPE_SINGLE_TAG


4514 && 
	`mcTagO≥rPîP‹tGë
(
egªssP‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION


4515 && 
isLa°QuîyPackë
==
OPL_FALSE
) {

4516 
mcVid
 = 
sglEthHódî
->
vœn_èg
.
vid
;

4517 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀGë
(
egªssP‹tId
, 
mcVid
, &
u£rVid
);

4518 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 
∑ckëLí
);

4519 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
tmpPackëPoöãr
;

4520 if(
ªt
 =
OPL_OK
)

4522 
sglEthHódî
->
vœn_èg
.
vid
 = 
u£rVid
;

4525 
tmpPackëLígth
 = 
∑ckëLí
;

4528 
	`vosMemCpy
(
tmpPackëPoöãr
, 
∑ckë
, 
∑ckëLí
);

4529 
tmpPackëLígth
 = 
∑ckëLí
;

4535 
out_hdr
 = (
ho°_outbound_hdr_t
 *)
aucPackë
;

4536 
out_hdr
->
ª£rved
 = 0;

4537 
out_hdr
->
icos
 = 0;

4538 
out_hdr
->
ï‹t
 = 
egªssP‹tId
;

4540 
tmpPackëLígth
 +(
ho°_outbound_hdr_t
);

4542 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "CTC ouçut: sídÖackëÅÿ%d,ÖackëLígth=%d.\r\n", 
egªssP‹tId
, 
tmpPackëLígth
-1);

4545 
	`e›l_ho°_£nd
((*)
out_hdr
, 
tmpPackëLígth
);

4546  
OPL_OK
;

4547 
	}
}

4559 
OPL_STATUS
 
	$mcCtcI≈ut
(
MC_PACKET_DESC_t
 *
desc
)

4561 
ªt
 = 
OPL_OK
;

4566 
desc
->
igmpTy≥
) {

4567 
IGMP_TYPE_GENERAL_QUERY
:

4569 
ªt
 = 
	`mcCtcQuîyA˘i⁄
(
desc
);

4571 
IGMP_TYPE_V1_REPORT
:

4573 
mcC⁄åﬁSèts
.
joöRï‹tV1RxCou¡
++;

4574 
ªt
 = 
	`mcCtcJoöA˘i⁄
(
desc
);

4576 
IGMP_TYPE_V2_REPORT
:

4578 
mcC⁄åﬁSèts
.
joöRï‹tV2RxCou¡
++;

4579 
ªt
 = 
	`mcCtcJoöA˘i⁄
(
desc
);

4581 
IGMP_TYPE_V2_LEAVE
:

4583 
mcC⁄åﬁSèts
.
ÀaveV2RxCou¡
++;

4584 
ªt
 = 
	`mcCtcLóveA˘i⁄
(
desc
);

4588 if(
desc
->
ögªssP‹tId
>=
ODM_START_PORT_NUN
&&desc->ögªssP‹tId<=
ODM_NUM_OF_PORTS
) {

4589 
mcC⁄åﬁSèts
.
ŸhîHo°RxUnknownCou¡
++;

4592 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
++;

4602  
ªt
;

4603 
	}
}

4614 
OPL_STATUS
 
	$mcModeSwôch
()

4616 
uöt32
 
i
;

4617 
MC_TAG_OPER_MODE_t
 
tdMcTagOp
;

4619 
i
 = 0;

4621 
	`mcC⁄åﬁBlockIsInôülizedSë
(
OPL_FALSE
);

4622 
MC_MODE_SWITCH_OCCUR
 = 1;

4625 
	`odmMu…iˇ°C⁄åﬁE¡ryCÀ¨
();

4626 
i
=
ODM_START_PORT_NUN
; i<
ODM_NUM_OF_PORTS
+1; i++) {

4627 
	`odmMu…iˇ°VœnCÀ¨
(
i
);

4630 
tdMcTagOp
 = 
	`mcTagO≥rPîP‹tGë
(
i
);

4632 
	`odmMu…iˇ°Tag°rùSë
(
i
, 
MC_TAG_OPER_MODE_TRANSPARENT
);

4634 
	`odmMu…iˇ°Tag°rùSë
(
i
, 
tdMcTagOp
);

4640 
	`odmMu…iˇ°GroupMaxNumSë
(
i
, 
IGMP_MAX_GROUP_NUMBER_PER_PORT
);

4643 
MC_MODE_SWITCH_OCCUR
 = 0;

4647 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_SNOOPING
)

4649 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
;

4652 if(
mcC⁄åﬁBlock
.
mcMode
==
MC_MODE_CTC
)

4654 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC
)

4656 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC
;

4658 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_MAC_VID
)

4662 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC
;

4664 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_SA_MAC
)

4666 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_MAC_SA_MAC
;

4668 if(
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
==
MC_CTL_GDA_GDA_IP_VID
)

4670 
MC_BITMAP
 = 
CTC_CONTROL_BITMAP_GDA_IP_VLAN_ID
;

4674 
	`mcC⁄åﬁBlockIsInôülizedSë
(
OPL_TRUE
);

4676  
OPL_OK
;

4677 
	}
}

4688 
OPL_STATUS
 
	$mcI≈ut
(
uöt8
 *
ögªssRawPkt
, 
uöt32
 
ögªssRawPktLí
, uöt32 
p‹tId
)

4690 
iRë
;

4691 
MC_PACKET_DESC_t
 
desc
;

4692 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

4694 
ëh_hódî_wôh_sgl_èg_t
 *
sglEthHódî
;

4695 
ùv4_hódî_t
 *
ùv4Hódî
;

4696 
igmp_msg_t
 *
igmpMsg
;

4697 
uöt8
 *
øwPkt
;

4698 
uöt32
 
øwPktLí
;

4700 
	`RETURN_VAL_IF_FAIL
(
ögªssRawPkt
!=
NULL
, 
OPL_BAD_PARA
);

4701 
	`RETURN_VAL_IF_FAIL
(
ögªssRawPktLí
<=1518, 
OPL_BAD_PARA
);

4703 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcI≈ut,É¡î.\r\nögªssRawPkt=0x%x,ögªssRawPktLí=%d,p‹tId=%d.\r\n", 
ögªssRawPkt
, 
ögªssRawPktLí
, 
p‹tId
);

4704 
	`pktPrötDebug
(
ögªssRawPkt
, 
ögªssRawPktLí
);

4706 if(
	`mcC⁄åﬁBlockRecvEnGë
()==
OPL_DISABLE
) {

4707  
OPL_ERROR
;

4710 if(
	`mcC⁄åﬁBlockIsInôülizedGë
()!=
OPL_TRUE
) {

4711  
OPL_ERROR
;

4714 
	`vosMemSë
(&
desc
, 0, (desc));

4715 
sglEthHódî
 = 
NULL
;

4716 
ùv4Hódî
 = 
NULL
;

4717 
igmpMsg
 = 
NULL
;

4718 
øwPkt
 = 
NULL
;

4719 
øwPktLí
 = 0;

4726 
øwPkt
 = (
uöt8
 *)
	`vosAŒoc
(
BIG_BUF_LEN
);

4727 
mcC⁄åﬁSèts
.
memAŒocCou¡
++;

4728 if(
øwPkt
) {

4729 
	`vosMemSë
(
øwPkt
, 0, (
BIG_BUF_LEN
));

4731 
	`vosMemCpy
(
øwPkt
, 
ögªssRawPkt
, 
ögªssRawPktLí
);

4732 
øwPktLí
 = 
ögªssRawPktLí
;

4733 
desc
.
ögªssPackë
 = 
øwPkt
;

4734 
desc
.
ögªssPackëLígth
 = 
øwPktLí
;

4735 
desc
.
ögªssP‹tId
 = 
p‹tId
;

4738 
sglEthHódî
 = (
ëh_hódî_wôh_sgl_èg_t
 *)
øwPkt
;

4740 
	`vosMemCpy
(
desc
.
daMac
, 
sglEthHódî
->
de°
, 
ETH_MAC_ADDR_LEN
);

4741 
	`vosMemCpy
(
desc
.
ßMac
, 
sglEthHódî
->
§c
, 
ETH_MAC_ADDR_LEN
);

4743 if(
sglEthHódî
->
vœn_èg
.
ty≥
==
VLAN_DEFAULT_STPID


4744 ||
sglEthHódî
->
vœn_èg
.
ty≥
==
VLAN_DEFAULT_CTPID
) {

4745 
desc
.
cTpid
 = 
sglEthHódî
->
vœn_èg
.
ty≥
;

4746 
desc
.
cVœn
 = 
sglEthHódî
->
vœn_èg
.
vid
;

4747 
desc
.
ögªssTagTy≥
 = 
TAG_TYPE_SINGLE_TAG
;

4750 
desc
.
cTpid
 = 0;

4751 
desc
.
cVœn
 = 0;

4752 
desc
.
ögªssTagTy≥
 = 
TAG_TYPE_UNTAG
;

4756 if(
desc
.
ögªssTagTy≥
 =
TAG_TYPE_SINGLE_TAG
) {

4757 
ùv4Hódî
 = (
ùv4_hódî_t
 *)(
øwPkt
+18);

4759 if(
desc
.
ögªssTagTy≥
 =
TAG_TYPE_UNTAG
) {

4760 
ùv4Hódî
 = (
ùv4_hódî_t
 *)(
øwPkt
+14);

4762 
desc
.
de°Ip
 = 
ùv4Hódî
->
de°_addr
;

4763 
desc
.
§cIp
 = 
ùv4Hódî
->
§c_addr
;

4765 if(
ùv4Hódî
->
¥Ÿocﬁ
==0x11)

4767 
	`vosFªe
(
desc
.
ögªssPackë
);

4768 
desc
.
ögªssPackë
 = 
NULL
;

4771  
OPL_ERROR
;

4777 if(
ùv4Hódî
->
ihl
==5) {

4778 
desc
.
ögªssIsHaveIpO±i⁄s
 = 
OPL_FALSE
;

4779 
igmpMsg
 = (
igmp_msg_t
 *)((
uöt8
 *)
ùv4Hódî
+20);

4781 if(
ùv4Hódî
->
ihl
==6) {

4782 
desc
.
ögªssIsHaveIpO±i⁄s
 = 
OPL_TRUE
;

4783 
igmpMsg
 = (
igmp_msg_t
 *)((
uöt8
 *)
ùv4Hódî
+24);

4787 i‡(
ùv4Hódî
->
ihl
<5){

4789 
	`vosFªe
(
desc
.
ögªssPackë
);

4790 
desc
.
ögªssPackë
 = 
NULL
;

4792  
OPL_ERROR
;

4794 if(
ùv4Hódî
->
ihl
==5) {

4795 
desc
.
ögªssIsHaveIpO±i⁄s
 = 
OPL_FALSE
;

4798 
desc
.
ögªssIsHaveIpO±i⁄s
 = 
OPL_TRUE
;

4801 
igmpMsg
 = (
igmp_msg_t
 *)((
uöt8
 *)
ùv4Hódî
 + (4*(ùv4Hódî->
ihl
)));

4807 
	`mc_¥ötf
("\nigmpÅype:%d,Ñsptime:%d, groupadd:0x%08X.\n",

4808 
igmpMsg
->
ty≥
,igmpMsg->
max_ª•_time
,igmpMsg->
group
);

4811 
desc
.
igmpTy≥
 = 
igmpMsg
->
ty≥
;

4812 
desc
.
igmpMaxRe•Time
 = 
igmpMsg
->
max_ª•_time
;

4813 
desc
.
igmpGroupAdªss
 = 
igmpMsg
->
group
;

4815 
	`˛McMacGëByMcIp
(
desc
.
igmpGroupMac
, desc.
igmpGroupAdªss
);

4822 if(!(
desc
.
daMac
[0]==0x01 && desc.daMac[1]==0x00 && desc.daMac[2]==0x5e)) {

4823 
	`˛SåögGëByMac
(
macSå
, 
desc
.
daMac
);

4824 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Eº‹Öackë, d®MACÉº‹.\r\ndaMac=%s\r\n", 
macSå
);

4825 
	`vosFªe
(
desc
.
ögªssPackë
);

4826 
desc
.
ögªssPackë
 = 
NULL
;

4827 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

4828  
OPL_ERROR
;

4831 
	`mcGroupSemLock
();

4833 
mcC⁄åﬁBlock
.
mcMode
) {

4834 
MC_MODE_SNOOPING
:

4836 
	`mc_¥ötf
("\nfunc:%†ig• mode\n",
__FUNCTION__
);

4838 
iRë
 = 
	`mcSno›ögI≈ut
(&
desc
);

4840 
MC_MODE_CTC
:

4842 
	`mc_¥ötf
("\nfunc:%†˘¯mode\n",
__FUNCTION__
);

4844 
iRë
 = 
	`mcCtcI≈ut
(&
desc
);

4851 
	`mcGroupSemUnLock
();

4853 if((
desc
.
isN⁄Fa°LóveTimîSèπ
==
OPL_FALSE
Ë|| (
OPL_OK
 !
iRë
)) {

4855 
	`vosFªe
(
desc
.
ögªssPackë
);

4856 
desc
.
ögªssPackë
 = 
NULL
;

4857 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

4861  
OPL_OK
;

4863 
	}
}

4875 
OPL_STATUS
 
	$mcSno›ögGroupShowByVœn
(
fd
, 
uöt16
 
vœnId
)

4877 
uöt32
 
i
, 
j
;

4878 
˛Li°
 *
li°
, *
hli°
;

4879 
MC_GROUP_t
 *
node
;

4880 
MC_HOST_t
 *
hnode
;

4881 
uöt8
 
macSå
[
SMALL_BUF_LEN
];

4882 
uöt8
 
ùSå
[
SMALL_BUF_LEN
];

4883 
uöt8
 
°rög
[
SMALL_BUF_LEN
];

4885 
i
 = 
j
 = 0;

4886 
li°
 = 
hli°
 = 
NULL
;

4887 
node
 = 
NULL
;

4888 
hnode
 = 
NULL
;

4889 
	`vosMemSë
(
macSå
, 0, (macStr));

4890 
	`vosMemSë
(
ùSå
, 0, (ipStr));

4893 
	`vosPrötf
(
fd
, " %-20s : ", "RouterÖorts");

4894 
i
=0; i<
MC_ROUTER_PORT_NUM
; i++) {

4895 if(
mcRouãrP‹t
[
i
].
íabÀ
==
OPL_ENABLE
) {

4896 
	`vosPrötf
(
fd
, "%d ", 
mcRouãrP‹t
[
i
].
rouãrP‹tId
);

4899 
	`vosPrötf
(
fd
, "\r\n");

4901 
	`mcGroupSemLock
();

4905 
li°
 = 
mcGroupLi°
;

4906 
i
 = 0;

4907 
li°
) {

4908 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

4911 if(
vœnId
!=
node
->
mcVœn
 && vlanId!=0) {

4912 
li°
 =Üi°->
√xt
;

4916 
	`vosS¥ötf
(
°rög
, "%s%d", "Mu…iˇ° Grou∞", 
i
);

4917 
	`vosPrötf
(
fd
, " [%s]\r\n", 
°rög
);

4919 if(
node
->
groupMac
!=
NULL
)

4920 
	`˛SåögGëByMac
(
macSå
, 
node
->
groupMac
);

4921 if(
MC_BITMAP
&
MC_BITMAP_GDA_MAC
) {

4922 
	`vosPrötf
(
fd
, "GroupMAC: %s, ", 
macSå
);

4925 
	`˛SåögGëByIp
(
ùSå
, 
node
->
groupAddªss
);

4926 if(
MC_BITMAP
&
MC_BITMAP_GDA_IP
) {

4927 
	`vosPrötf
(
fd
, "GroupAddr: %s, ", 
ùSå
);

4929 
	`vosPrötf
(
fd
, "p‹t: %d, vid: %d.\r\n", 
node
->
ho°P‹tId
,Çode->
mcVœn
);

4931 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "G%d: GMac:%s, GAddr:%s, McVlan:%d, HostPort:%d, HostNum:%d, state:%d, AgingTime:%d, isLastReportRecevied:%d, isNonFastLeaveTimerStart:%d.\n",

4932 
i
, 
macSå
, 
ùSå
, 
node
->
mcVœn
,

4933 
node
->
ho°P‹tId
,Çode->
ho°TŸÆNum
,Çode->
°©e
,Çode->
ho°AgögTime
,

4934 
node
->
isLa°Rï‹tRe˚võd
,Çode->
isN⁄Fa°LóveTimîSèπ
);

4936 
hli°
 = 
node
->
ho°Li°
;

4937 
j
 = 0;

4938 
hli°
) {

4939 
hnode
 = (
MC_HOST_t
 *)
hli°
->
d©a
;

4940 
	`˛SåögGëByIp
(
ùSå
, 
hnode
->
§cIp
);

4941 
	`vosPrötf
(
fd
, "ho°IP:%s;\r\n", 
ùSå
);

4943 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, " H%d: SrcIp:%s, state:%d, AgingTime:%d, isLastReportRecevied:%d, isNonFastLeaveTimerStart:%d.\n",

4944 
j
, 
ùSå
, 
hnode
->
°©e
, hnode->
ho°AgögTime
, hnode->
isLa°Rï‹tRe˚võd
,

4945 
hnode
->
isN⁄Fa°LóveTimîSèπ
);

4947 
j
++;

4948 
hli°
 = hli°->
√xt
;

4951 
i
++;

4952 
li°
 =Üi°->
√xt
;

4955 
	`mcGroupSemUnLock
();

4957  
OPL_OK
;

4958 
	}
}

4971 
OPL_STATUS
 
	$mcC⁄åﬁSètsShow
(
fd
)

4973 
	`vosPrötf
(
fd
, " [%s]\r\n", "Multicast Statistics");

4974 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "gíîÆQuîyV1RxCou¡", 
mcC⁄åﬁSèts
.
gíîÆQuîyV1RxCou¡
);

4975 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "gíîÆQuîyV2RxCou¡", 
mcC⁄åﬁSèts
.
gíîÆQuîyV2RxCou¡
);

4976 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "groupS≥cificV2QuîyRxCou¡", 
mcC⁄åﬁSèts
.
groupS≥cificV2QuîyRxCou¡
);

4977 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "ŸhîHo°RxUnknownCou¡", 
mcC⁄åﬁSèts
.
ŸhîHo°RxUnknownCou¡
);

4978 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "ŸhîRouãrRxUnknownCou¡", 
mcC⁄åﬁSèts
.
ŸhîRouãrRxUnknownCou¡
);

4979 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "joöRï‹tV1RxCou¡", 
mcC⁄åﬁSèts
.
joöRï‹tV1RxCou¡
);

4980 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "joöRï‹tV2RxCou¡", 
mcC⁄åﬁSèts
.
joöRï‹tV2RxCou¡
);

4981 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "ÀaveV2RxCou¡", 
mcC⁄åﬁSèts
.
ÀaveV2RxCou¡
);

4982 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "memAŒocCou¡", 
mcC⁄åﬁSèts
.
memAŒocCou¡
);

4983 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "mem‰ìCou¡", 
mcC⁄åﬁSèts
.
mem‰ìCou¡
);

4985  
NO_ERROR
;

4986 
	}
}

4999 
OPL_STATUS
 
	$mcC⁄åﬁBlockShow
(
fd
)

5001 
	`vosPrötf
(
fd
, "Multicast configuration:\r\n");

5003 
	`vosPrötf
(
fd
, " [%s]\r\n", 
CFGSECTION_MULTICAST_IGMP_MANAGEMENT
);

5004 
	`vosPrötf
(
fd
, " %-20†: %d(0:dißbÀ,1:íabÀ)\r\n", 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_IGMP_MODE
, 
mcC⁄åﬁBlock
.
mcRecvEn
);

5005 
	`vosPrötf
(
fd
, " %-20†: %d(0:SNOOPING,1:CTC)\r\n", 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_MODE
, 
mcC⁄åﬁBlock
.
mcMode
);

5006 
	`vosPrötf
(
fd
, " %-20†: %d(0:GDA_MAC,1:GDA_MAC_VID,2:GDA_SA_MAC,3:GDA_IP_VID)\r\n", 
CFGKEY_MULTICAST_IGMP_MANAGEMENT_CTC_CONTROL_TYPE
, 
mcC⁄åﬁBlock
.
˘cC⁄åﬁTy≥
);

5007 
	`vosPrötf
(
fd
, " %-20†: %d(1:NON_FAST_LEAVE,2:FAST_LEAVE)\r\n", "Àavêmode", 
mcC⁄åﬁBlock
.
ÀaveMode
);

5008 
	`vosPrötf
(
fd
, " %-20†: %ds\r\n", "ho°ágögÅime", 
mcC⁄åﬁBlock
.
ho°AgögTime
);

5009 
	`vosPrötf
(
fd
, " %-20†: %dms\r\n", "œ° quîy i¡îvÆ", 
mcC⁄åﬁBlock
.
œ°QuîyI¡îvÆ
);

5010 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "œ° quîy cou¡", 
mcC⁄åﬁBlock
.
œ°QuîyCou¡
);

5012  
NO_ERROR
;

5013 
	}
}

5026 
OPL_STATUS
 
	$mcP‹tC⁄figShow
(
fd
, 
uöt32
 
p‹tId
)

5028 
ªt
;

5029 
uöt32
 
i
;

5030 
p‹tSå
[
SMALL_BUF_LEN
];

5032 
	`vosMemSë
(
p‹tSå
, 0, (portStr));

5034 
	`vosS¥ötf
(
p‹tSå
, "%s%d", "P‹à", 
p‹tId
);

5035 
	`vosPrötf
(
fd
, " [%s]\r\n", 
p‹tSå
);

5038 
	`vosPrötf
(
fd
, " %-20s : ", "multicast vlan");

5040 
i
=1; i<
OP_MAX_VLAN_NUMBER
; i++) {

5041 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
i
)==
OPL_TRUE
) {

5042 
	`vosPrötf
(
fd
, "%d ", 
i
);

5045 
	`vosPrötf
(
fd
, "\r\n");

5047 
	`vosPrötf
(
fd
, " %-20†: %d(0:TRANSPARENT,1:STRIP,2:TRANSLATION)\r\n", "èg°rù mode", 
	`mcTagO≥rPîP‹tGë
(
p‹tId
));

5050 
	`vosPrötf
(
fd
, " %-20s : ","mcVlan->userVlan");

5051 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

5052 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

5053 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId) {

5054 
	`vosPrötf
(
fd
, "%d->%d, ", 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
, mcTagTøn¶©i⁄TabÀ[i].
u£rVid
);

5058 
	`vosPrötf
(
fd
, "\r\n");

5060 
	`vosPrötf
(
fd
, " %-20†: %d\r\n", "max grou∞num", 
mcC⁄åﬁBlock
.
maxGroupNum
[
p‹tId
]);

5062  
NO_ERROR
;

5063 
	}
}

5074 * 
	$mcIgmpMsgThªad
(*
¨g
)

5076 
MC_IGMP_MSG_t
 
msg
;

5077 
uöt32
 
Àngth
;

5079 
mcIgmpMsgId
 >= 0)

5081 
Àngth
 = 
	`vosMsqRe˚ive
(
mcIgmpMsgId
, (*)&
msg
, 
MC_IGMP_MSG_SIZE
);

5082 i‡(
Àngth
 =
INVALID_32
)

5086 
	`mc_¥ötf
("\nRturn from mcIgmpMsgThread.\n");

5092 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "vosMsqRe˚ivêf‹ mcIgmpMsgThªad:p‹tId=%d.\r\n", 
msg
.
p‹tId
);

5096 
	`mc_¥ötf
("\nRecieveá igmp message.\n");

5099 
	`mcI≈ut
(
msg
.
pBuff
, msg.
Àn
, msg.
p‹tId
);

5100 
	`vosFªe
(
msg
.
pBuff
);

5101 
mcC⁄åﬁSèts
.
mem‰ìCou¡
++;

5102 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "mcInputMsgSend:vosFree.\r\n");

5103 #i‡(
SHOW_ON
)

5104 
	`mcGroupShow
();

5105 
	`mcVœnM≠Show
();

5106 
	`mcTagTøn¶©i⁄Show
();

5107 
	`mcTagO≥rPîP‹tShow
();

5111 
	`vosThªadExô
(0);

5112 
	}
}

5123 * 
	$mcTimîMsgThªad
(*
¨g
)

5125 
MC_TIMER_MSG_t
 
msg
;

5126 
uöt32
 
Àngth
;

5128 
mcTimîMsgId
 >= 0)

5130 
Àngth
 = 
	`vosMsqRe˚ive
(
mcTimîMsgId
, (*)&
msg
, 
MC_TIMER_MSG_SIZE
);

5131 i‡(
Àngth
 =
INVALID_32
)

5136 
msg
.
msgTy≥
)

5138 
MC_HOST_AGING_TIMER_SNOOPING
:

5139 
	`mcHo°AgögTimîSno›ögH™dÀr
();

5141 
MC_HOST_AGING_TIMER_CTC
:

5142 
	`mcHo°AgögTimîCtcH™dÀr
();

5144 
MC_SNOOP_NON_FAST_LEAVE
:

5145 
	`mcSno›ögN⁄Fa°LóveA˘i⁄
((
MC_PACKET_DESC_t
 *)
msg
.
desc
);

5147 
MC_CTC_LEAVE_ACTIVE
:

5148 
	`mcCtcN⁄Fa°LóveA˘i⁄
((
MC_PACKET_DESC_t
 *)
msg
.
desc
);

5151 
	`mc_¥ötf
("%s[%d]: InvÆid M¯Timî msgTy≥.\n", 
__FUNCTION__
, 
__LINE__
);

5156 
	`vosThªadExô
(0);

5157 
	}
}

5158 
INT32
 
	$DRV_SwôchMcInô
()

5160 
INT32
 
Rë
;

5161 
UINT32
 
uiLP‹tId
;

5162 
logic_pmask_t
 
p‹tmask
;

5163 
	#DLF_TYPE_MCAST
 3

	)

5164 
	#DLF_TYPE_IPMC
 0

	)

5167 
Rë
 = 
	`Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_CPU_ONLY
);

5168 i‡(
DRV_OK
 !
Rë
)

5170 
	`mc_¥ötf
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

5171  
ERROR
;

5175 
Rë
 = 
	`Io˘l_SëMˇ°LookupMissDr›
(
ENABLE
);

5176 i‡(
DRV_OK
 !
Rë
)

5178 
	`mc_¥ötf
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

5179  
ERROR
;

5184 
	`mem£t
(&
p‹tmask
, 0, (portmask));

5185 if(0 !
	`Io˘l_SëLookupMissFloodE«bÀ
(
DLF_TYPE_MCAST
, 
p‹tmask
))

5187 
	`mc_¥ötf
("MC set floodÖort forÇone:DLF_TYPE_MCAST failed\n");

5189 if(0 !
	`Io˘l_SëLookupMissFloodE«bÀ
(
DLF_TYPE_IPMC
, 
p‹tmask
))

5191 
	`mc_¥ötf
("MC set floodÖort forÇone:DLF_TYPE_IPMC failed\n");

5195  
NO_ERROR
;

5196 
	}
}

5213 
OPL_STATUS
 
	$odmMu…iˇ°Inô
()

5215 
uöt32
 
i
;

5218 
VOS_THREAD_t
 
mcMsgThªadId
 = (VOS_THREAD_t)
NULL
;

5220 
	`vosMsqInô
("/var/msq00000000");

5221 
	`vosC⁄figInô
();

5222 
	`mcC⁄åﬁBlockIsInôülizedSë
((
uöt32
)
OPL_FALSE
);

5225 
	`mcC⁄åﬁBlockInô
();

5226 
	`mcVœnM≠Inô
();

5227 
	`mcTagO≥rPîP‹tInô
();

5228 
	`mcTagTøn¶©i⁄TabÀInô
();

5229 
	`mcRouãrP‹tInô
();

5230 
	`odmMu…iˇ°C⁄åﬁE¡ryCÀ¨
();

5231 
	`mcC⁄åﬁSètsInô
();

5235 
INT32
 
Rë
;

5236 
Rë
 = 
	`DRV_SwôchMcInô
();

5237 i‡(
NO_ERROR
 !
Rë
)

5239 
	`mc_¥ötf
("\nfunc:%s,löe:%d. FaûedÅÿöô mu…iˇ°.\n",
__FUNCTION__
,
__LINE__
);

5240  
OPL_FALSE
;

5248 
	`mcInôFromC⁄figFûe
();

5250 
mcIgmpMsgId
 = 
	`vosMsqCª©e
((
MC_IGMP_MSG_t
));

5251 i‡(
mcIgmpMsgId
 == -1)

5253 
	`mc_¥ötf
("%s[%d], vosMsqCª©êÁû.\n", 
__FUNCTION__
, 
__LINE__
);

5254  
OPL_FALSE
;

5257 
mcMsgThªadId
 = 
	`vosThªadCª©e
("tMcIgmp", 
OP_VOS_THREAD_STKSZ
, 60,

5258 (*)
mcIgmpMsgThªad
, (*)
NULL
);

5259 i‡(
mcMsgThªadId
 =(
VOS_THREAD_t
Ë
NULL
)

5261 
	`mc_¥ötf
("%s[%d], vosThªadCª©êÁû.\n", 
__FUNCTION__
, 
__LINE__
);

5262  
OPL_FALSE
;

5265 
mcTimîMsgId
 = 
	`vosMsqCª©e
((
MC_TIMER_MSG_t
));

5266 i‡(
mcTimîMsgId
 == -1)

5268 
	`mc_¥ötf
("%s[%d], vosMsqCª©êÁû.\n", 
__FUNCTION__
, 
__LINE__
);

5269  
OPL_FALSE
;

5272 
mcMsgThªadId
 = (
VOS_THREAD_t
Ë
NULL
;

5273 
mcMsgThªadId
 = 
	`vosThªadCª©e
("tMcTimî", 
OP_VOS_THREAD_STKSZ
, 100,

5274 (*)
mcTimîMsgThªad
, (*)
NULL
);

5275 i‡(
mcMsgThªadId
 ==(
VOS_THREAD_t
Ë
NULL
)

5277 
	`mc_¥ötf
("%s[%d], vosThªadCª©êÁû.\n", 
__FUNCTION__
, 
__LINE__
);

5278  
OPL_FALSE
;

5281 
	`mcC⁄åﬁBlockIsInôülizedSë
((
uöt32
)
OPL_TRUE
);

5283  
OPL_OK
;

5284 
	}
}

5290 
INT32
 
	$_CTC_GëP‹tVœnModeCfg
(
UINT32
 
uiLP‹tId
, 
CTC_VLAN_CFG_S
 *
p°CtcVœnMode
)

5292 i‡((!
	`IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

5293 (
NULL
 =
p°CtcVœnMode
))

5295 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5296  
ERROR
;

5299 i‡(
DRV_OK
 !
	`Io˘l_˘c_gë_a˛_ruÀ
(
uiLP‹tId
, 
p°CtcVœnMode
))

5301 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5302  
ERROR
;

5305  
NO_ERROR
;

5306 
	}
}

5311 
BOOL
 
	$CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
UINT32
 
vœnId
)

5313 
i
 = 0;

5315 i‡(!
	`VALID_VLAN_ID
(
vœnId
))

5317  
FALSE
;

5320 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++)

5322 if(
OPL_ENABLE
 =
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
)

5324 if(
vœnId
 =
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 || vœnId =mcTagTøn¶©i⁄TabÀ[i].
u£rVid
)

5326  
FALSE
;

5331  
TRUE
;

5332 
	}
}

5334 
UINT32
 
	$CTC_CheckVÆidVidF‹LgcP‹t
(
UINT32
 
Õ‹t
, UINT32 
uiVid
, 
UINT8
* 
pVœnMode
,UINT8* 
pVœnExi°
)

5336 
UINT32
 
uiLP‹tIndex
 = 
Õ‹t
;

5337 
CTC_VLAN_CFG_S
 
°VœnMode
;

5339 i‡(!
	`VALID_VLAN_ID
(
uiVid
))

5344 (
VOID
)
	`_CTC_GëP‹tVœnModeCfg
(
uiLP‹tIndex
, &
°VœnMode
);

5345 *
pVœnMode
 = 
°VœnMode
.
mode
;

5346 i‡(
CTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

5348 
UINT32
 
uiVœnIndex
 = 0;

5350 i‡(
uiVid
 =
°VœnMode
.
deÁu…_vœn
)

5352 *
pVœnExi°
 = 
TRUE
;

5356 
uiVœnIndex
 = 0; uiVœnIndex < 
°VœnMode
.
numbî_of_íåõs
; uiVlanIndex++)

5358 i‡((
uiVid
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
<<1]) ||

5359 (
uiVid
 =
°VœnMode
.
vœn_li°
[(
uiVœnIndex
<<1) + 1]))

5361 *
pVœnExi°
 = 
TRUE
;

5366 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

5368 i‡(
uiVid
 =
°VœnMode
.
deÁu…_vœn
)

5370 *
pVœnExi°
 = 
TRUE
;

5374 *
pVœnExi°
 = 
FALSE
;

5377 
	}
}

5382 
BOOL
 
	$CTC_CheckVÆidVidF‹Mcvœn
(
UINT32
 
uiMcVid
)

5384 
UINT32
 
uiLP‹tIndex
;

5385 
CTC_VLAN_CFG_S
 
°VœnMode
;

5387 i‡(!
	`VALID_VLAN_ID
(
uiMcVid
))

5389  
FALSE
;

5392 
	`LgcP‹tF‹
(
uiLP‹tIndex
)

5394 (
VOID
)
	`_CTC_GëP‹tVœnModeCfg
(
uiLP‹tIndex
, &
°VœnMode
);

5395 i‡(
CTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

5397 
UINT32
 
uiVœnIndex
 = 0;

5399 i‡(
uiMcVid
 =
°VœnMode
.
deÁu…_vœn
)

5401  
FALSE
;

5404 
uiVœnIndex
 = 0; uiVœnIndex < 
°VœnMode
.
numbî_of_íåõs
; uiVlanIndex++)

5406 i‡((
uiMcVid
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
<<1]) ||

5407 (
uiMcVid
 =
°VœnMode
.
vœn_li°
[(
uiVœnIndex
<<1) + 1]))

5409  
FALSE
;

5413 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

5415 i‡(
uiMcVid
 =
°VœnMode
.
deÁu…_vœn
)

5417  
FALSE
;

5422  
TRUE
;

5423 
	}
}

5434 
	$odmMu…iˇ°VœnAdd
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

5436 
ªt
 = 0;

5437 
uöt32
 
i
;

5438 
uöt32
 
p‹t_¨øy
[
ODM_NUM_OF_PORTS
+1];

5440 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastVlanAdd:ÖortId=%d,vlanId=%d.\r\n",

5441 
p‹tId
, 
vœnId
);

5443 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5444 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_VLAN_ID
(
vœnId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

5450 
BOOL
 
	`CTC_CheckVÆidVidF‹Mcvœn
(
uöt32
 
uiMcVid
);

5451 i‡(
FALSE
 =
	`CTC_CheckVÆidVidF‹Mcvœn
(
vœnId
))

5453  
OPL_ERROR
;

5459 
	`vosMemSë
(
p‹t_¨øy
, 0, (port_array));

5461 if(
p‹tId
 == 255) {

5462 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5463 
p‹t_¨øy
[
i
] = 1;

5467 
p‹t_¨øy
[
p‹tId
] = 1;

5470 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5471 if(
p‹t_¨øy
[
i
] == 1) {

5472 
	`odmMcVœnM≠Add
(
i
, 
vœnId
);

5477  
OPL_OK
;

5478 
	}
}

5490 
	$odmMu…iˇ°VœnDñëe
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

5492 
ªt
;

5494 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastVlanDelete:ÖortId=%d,vlanId=%d.\r\n",

5495 
p‹tId
, 
vœnId
);

5497 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5498 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_VLAN_ID
(
vœnId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

5500 
ªt
 = 0;

5502 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
vœnId
)) {

5503 
ªt
 = 
	`odmMcVœnM≠Dñ
(
p‹tId
, 
vœnId
);

5504 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

5507  
OPL_OK
;

5508 
	}
}

5519 
	$odmMu…iˇ°VœnCÀ¨
(
uöt32
 
p‹tId
)

5521 
uöt32
 
i
, 
j
;

5522 
ªt
;

5523 
uöt32
 
p‹t_¨øy
[
ODM_NUM_OF_PORTS
+1];

5525 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°VœnCÀ¨:Ö‹tId=%d.\r\n", 
p‹tId
);

5527 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5529 
ªt
 = 0;

5530 
	`vosMemSë
(
p‹t_¨øy
, 0, (port_array));

5532 if(
p‹tId
 == 255) {

5533 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5534 
p‹t_¨øy
[
i
] = 1;

5538 
p‹t_¨øy
[
p‹tId
] = 1;

5541 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5542 if(
p‹t_¨øy
[
i
] == 1) {

5543 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

5544 if(
	`mcVœnM≠Exi°
(
i
, 
j
)) {

5545 
ªt
 = 
	`odmMcVœnM≠Dñ
(
i
, 
j
);

5549 
	`mcGroupLi°DñbyP‹t
(
i
);

5554  
NO_ERROR
;

5555 
	}
}

5568 
	$odmTøn¶©i⁄VœnGë
(
uöt32
 
p‹tId
, 
uöt16
 *
vœnId
, 
uöt8
 *
num
)

5571 
uöt32
 
j
;

5572 
uöt8
 
vœnIdNum
 = 0;

5573 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 
å™œti⁄_íåy
[
MC_VLAN_TRANSLATION_ENTRY
];

5575 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmTranslationVlanGet:ÖortId=%d, vlanId=0x%X,Çum=0x%X.\r\n",

5576 
p‹tId
, 
vœnId
, 
num
);

5578 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5579 
	`RETURN_VAL_IF_FAIL
(
vœnId
!=
NULL
, 
OPL_BAD_PARA
);

5580 
	`RETURN_VAL_IF_FAIL
(
num
!=
NULL
, 
OPL_BAD_PARA
);

5582 
	`DBG_PRINTF
("vœnId:%d,Çum:%d", *
vœnId
, *
num
);

5583 
	`mem£t
(
å™œti⁄_íåy
, 0, (tranlation_entry));

5584 
	`odmMu…iˇ°TagTøn¶©i⁄Gë
(
p‹tId
, 
å™œti⁄_íåy
, &
vœnIdNum
);

5585 *
vœnId
)

5586 
vœnId
++;

5587 
j
=0; j<
vœnIdNum
; j++)

5589 *
vœnId
 = 
å™œti⁄_íåy
[
j
].
ùtv_vœn
;

5590 
vœnId
++;

5592 *
num
 +
vœnIdNum
;

5593 
	`DBG_PRINTF
("vœnId:%d,Çum:%d", *
vœnId
, *
num
);

5595  
OPL_OK
;

5596 
	}
}

5609 
	$odmMu…iˇ°VœnGë
(
uöt32
 
p‹tId
, 
uöt16
 *
vœnId
, 
uöt8
 *
num
)

5612 
uöt32
 
j
;

5613 
uöt8
 
vœnIdNum
 = 0;

5615 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastVlanGet:ÖortId=%d, vlanId=0x%X,Çum=0x%X.\r\n",

5616 
p‹tId
, 
vœnId
, 
num
);

5618 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5619 
	`RETURN_VAL_IF_FAIL
(
vœnId
!=
NULL
, 
OPL_BAD_PARA
);

5620 
	`RETURN_VAL_IF_FAIL
(
num
!=
NULL
, 
OPL_BAD_PARA
);

5621 *
vœnId
)

5622 
vœnId
++;

5623 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

5624 if(
OPL_TRUE
==
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

5625 *
vœnId
 = 
j
;

5626 
vœnId
++;

5627 
vœnIdNum
++;

5631 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastVlanGet:ÖortId=%d,Çum=%d.\r\n",

5632 
p‹tId
, 
vœnIdNum
);

5634 *
num
 +
vœnIdNum
;

5635  
OPL_OK
;

5636 
	}
}

5647 
	$odmMu…iˇ°Tag°rùSë
(
uöt32
 
p‹tId
, uöt32 
ègO≥r
)

5649 
uöt32
 
i
;

5651 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagstripSet:ÖortId=%d,ÅagOper=%d.\r\n",

5652 
p‹tId
, 
ègO≥r
);

5654 i‡(
IS_ONU_RESPIN
)

5657 i‡(0 =
p‹tId
Ë 
NO_ERROR
;

5660 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5662 if(
p‹tId
 == 255) {

5663 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5664 
	`odmMcTagO≥rSë
(
i
, 
ègO≥r
);

5668 
	`odmMcTagO≥rSë
(
p‹tId
, 
ègO≥r
);

5671  
NO_ERROR
;

5672 
	}
}

5683 
	$odmMu…iˇ°Tag°rùGë
(
uöt32
 
p‹tId
, 
uöt8
 *
ègO≥r
)

5685 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagstripGet:ÖortId=%d,ÅagOper=0x%X.\r\n",

5686 
p‹tId
, 
ègO≥r
);

5688 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5689 
	`RETURN_VAL_IF_FAIL
(
ègO≥r
!=
NULL
, 
OPL_BAD_PARA
);

5691 *
ègO≥r
 = 
	`mcTagO≥rPîP‹tGë
(
p‹tId
);

5693  
OPL_OK
;

5694 
	}
}

5696 
	$odmMu…iˇ°TagTøn¶©i⁄Add
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

5698 
uöt32
 
i
;

5699 
ªt
;

5701 
ªt
 = 0;

5703 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagTranslationSet:ÖortId=%d, mcVid=%d, userVid=%d.\r\n",

5704 
p‹tId
, 
mcVid
, 
u£rVid
);

5706 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5710 if(
p‹tId
 == 255) {

5711 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5712 
	`odmMcTagTøn¶©i⁄Së
(
i
, 
mcVid
, 
u£rVid
);

5716 
ªt
 = 
	`odmMcTagTøn¶©i⁄Së
(
p‹tId
, 
mcVid
, 
u£rVid
);

5717 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

5720  
NO_ERROR
;

5721 
	}
}

5724 
	$odmMu…iˇ°TagTøn¶©i⁄Gë
(
uöt32
 
p‹tId
, 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 *
p_å™œti⁄_íåy
, 
uöt8
 *
num
)

5726 
uöt32
 
i
;

5727 
uöt32
 
íåyNum
;

5728 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 *
tmp
;

5730 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagTranslationGet:ÖortId=%d,Ö_tranlation_entry=0x%08X,Çum=0x%08X.\r\n",

5731 
p‹tId
, 
p_å™œti⁄_íåy
, 
num
);

5733 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

5734 
	`RETURN_VAL_IF_FAIL
(
p_å™œti⁄_íåy
!=
NULL
, 
OPL_BAD_PARA
);

5735 
	`RETURN_VAL_IF_FAIL
(
num
!=
NULL
, 
OPL_BAD_PARA
);

5737 
íåyNum
 = 0;

5738 
tmp
 = 
p_å™œti⁄_íåy
;

5740 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

5741 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

5742 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId) {

5743 
tmp
->
mˇ°_vœn
 = 
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
;

5744 
tmp
->
ùtv_vœn
 = 
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
;

5746 
tmp
++;

5747 
íåyNum
++;

5752 *
num
 = 
íåyNum
;

5754 
tmp
 = 
p_å™œti⁄_íåy
;

5755 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagTranslationGet:ÖortId=%d,Çum=%d.\r\n",

5756 
p‹tId
, *
num
);

5757 
i
=0; i<
íåyNum
; i++) {

5758 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastTagTranslationGet:ÖortId=%d, index=%d, mvlan=%d, uvlan=%d.\r\n",

5759 
p‹tId
, 
i
, 
tmp
->
mˇ°_vœn
,Åmp->
ùtv_vœn
);

5760 
tmp
++;

5763  
OPL_OK
;

5764 
	}
}

5768 
	$odmMu…iˇ°VœnTøn¶©eE¡ryCÀ¨
(
uöt32
 
p‹tId
)

5770 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastVlanTranslateEntryClear:ÖortId=%d.\r\n",

5771 
p‹tId
);

5773 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5775 
	`odmMcTagTøn¶©i⁄CÀ¨
(
p‹tId
);

5777  
OPL_OK
;

5778 
	}
}

5789 
	$odmMu…iˇ°SwôchSë
(
uöt32
 
mode
)

5791 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°SwôchSë: mode=%d.\r\n", 
mode
);

5793 if(
mode
==0) {

5794 if(
	`mcC⁄åﬁBlockModeGë
()!=
MC_MODE_SNOOPING
) {

5795 
	`odmMcC⁄åﬁBlockModeSë
(
MC_MODE_SNOOPING
);

5796 
	`mcModeSwôch
();

5799 
	`mc_¥ötf
("\nfunc:%†£t†ig• mode.\n",
__FUNCTION__
);

5802 if(
mode
==1) {

5803 if(
	`mcC⁄åﬁBlockModeGë
()!=
MC_MODE_CTC
) {

5804 
	`odmMcC⁄åﬁBlockModeSë
(
MC_MODE_CTC
);

5805 
	`mcModeSwôch
();

5808 
	`mc_¥ötf
("\nfunc:%†£t†˘¯c⁄åﬁ mode.\n",
__FUNCTION__
);

5812  
OPL_OK
;

5813 
	}
}

5824 
	$odmMu…iˇ°SwôchGë
()

5826 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastSwitchGet: mode=%d.\r\n",

5827 
	`mcC⁄åﬁBlockModeGë
());

5829 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
) {

5832 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
) {

5836  
OPL_ERROR
;

5837 
	}
}

5848 
	$odmMu…iˇ°GroupMaxNumSë
(
uöt32
 
p‹tId
, uöt32 
num
)

5850 
uöt32
 
i
;

5852 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastGroupMaxNumSet:ÖortId=%d,Çum=%d.\r\n",

5853 
p‹tId
, 
num
);

5856 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5859 if(
ODM_MAX_GRUP_NUM_PER_PORT
 < 
num
)

5861 
	`MC_DEBUG
(
DEBUG_LEVEL_CRITICAL
, "odmMu…iˇ°GroupMaxNumSë:Çum=%d.\r\n", 
num
);

5862  
ERR_INVALID_PARAMETERS
;

5866 if(
p‹tId
 == 255) {

5867 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

5868 
	`odmMcC⁄åﬁBlockMaxGroupNumSë
(
i
, 
num
);

5872 
	`odmMcC⁄åﬁBlockMaxGroupNumSë
(
p‹tId
, 
num
);

5875 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°GroupMaxNumSë:Çum=%d.\r\n", 
num
);

5876  
OPL_OK
;

5877 
	}
}

5888 
uöt8
 
	$odmMu…iˇ°GroupMaxNumGë
(
uöt32
 
p‹tId
)

5890 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastGroupMaxNumGet:ÖortId=%d,Çum=%d.\r\n",

5891 
p‹tId
, 
	`mcC⁄åﬁBlockmaxGroupNumGë
(portId));

5893 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5895  
	`mcC⁄åﬁBlockmaxGroupNumGë
(
p‹tId
);

5896 
	}
}

5898 
	$odmMu…iˇ°Fa°ÀaveAdmöSèãGë
()

5900 
uöt32
 
ÀaveMode
;

5902 
ÀaveMode
 = 
	`mcC⁄åﬁBlockLóveModeGë
();

5904 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastFastleaveAdminStateGet:ÜeaveMode=%d.\r\n",

5905 
ÀaveMode
);

5907 if(
ÀaveMode
==
MC_LEAVE_MODE_FAST
) {

5910 if(
ÀaveMode
==
MC_LEAVE_MODE_NON_FAST_LEAVE
) {

5914  
OPL_ERROR
;

5915 
	}
}

5917 
	$odmMu…iˇ°Fa°ÀaveModeSë
(
uöt32
 
íabÀ
)

5919 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°Fa°ÀaveModeSë:É«bÀ=%d.\r\n", 
íabÀ
);

5921 if(
íabÀ
==1) {

5922 
	`odmMcC⁄åﬁBlockLóveModeSë
(
MC_LEAVE_MODE_FAST
);

5925 if(
íabÀ
==0) {

5926 
	`odmMcC⁄åﬁBlockLóveModeSë
(
MC_LEAVE_MODE_NON_FAST_LEAVE
);

5929  
OPL_OK
;

5930 
	}
}

5932 
	$odmMu…iˇ°C⁄åﬁTy≥Së
(
mu…iˇ°_c⁄åﬁ_e
 
ty≥
)

5934 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°C⁄åﬁTy≥Së:Åy≥=%d.\r\n", 
ty≥
);

5936 
	`odmMcC⁄åﬁBlockCtcC⁄åﬁTy≥Së
(
ty≥
);

5938  
NO_ERROR
;

5939 
	}
}

5941 
mu…iˇ°_c⁄åﬁ_e
 
	$odmMu…iˇ°C⁄åﬁTy≥Gë
()

5943  
	`mcC⁄åﬁBlockCtcC⁄åﬁTy≥Gë
();

5944 
	}
}

5946 
	$odmMu…iˇ°C⁄åﬁE¡ryAdd
(
uöt32
 
p‹tId
, uöt32 
vœnId
, 
uöt8
 *
mac
)

5948 
uöt8
 
daMacSå
[
SMALL_BUF_LEN
];

5949 
MC_GROUP_t
 *
group
;

5950 
ªt
;

5951 
uöt32
 
groupAddªss
;

5952 
uöt32
 
u£rVid
 = 0;

5953 
å™¶_exi°
 = 
OPL_NOT_EXIST
;

5954 
uöt32
 
p‹t_›î
 = 0;

5956 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

5957 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_VLAN_ID
(
vœnId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

5958 
	`RETURN_VAL_IF_FAIL
(
mac
!=
NULL
, 
OPL_BAD_PARA
);

5960 if(
	`mcC⁄åﬁBlockModeGë
()!=
MC_MODE_CTC
) {

5961 
	`DBG_PRINTF
("Not in CTC mode.\r\n");

5962  
OPL_ERROR
;

5965 
p‹t_›î
 = 
	`mcTagO≥rPîP‹tGë
(
p‹tId
);

5966 
	`vosMemSë
(
daMacSå
, 0, (daMacStr));

5967 
group
 = 
NULL
;

5968 
ªt
 = 0;

5969 
groupAddªss
 = 0;

5972 if(
MC_TAG_OPER_MODE_TRANSLATION
 =
p‹t_›î
)

5974 if(
OPL_NOT_EXIST
==(
å™¶_exi°
=
	`mcTagTøn¶©i⁄TabÀGë
(
p‹tId
, 
vœnId
, &
u£rVid
)))

5976 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Translation vlan isÇotÉxist.");

5982 
	`˛SåögGëByMac
(
daMacSå
, 
mac
);

5984 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryAdd:ÖortId=%d, vlanId=%d, mac=%s.\r\n",

5985 
p‹tId
, 
vœnId
, 
daMacSå
);

5987 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID


5988 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

5990 if(
MC_TAG_OPER_MODE_TRANSLATION
 !
p‹t_›î
)

5992 if(
OPL_OK
 !
	`odmMu…iˇ°VœnAdd
(
p‹tId
, 
vœnId
))

5994 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Mc vlanáddÉrror.");

5995  
OPL_ERROR
;

5999 
	`mcGroupSemLock
();

6003 if(
	`mcGroupNumPîP‹t
(
p‹tId
)==
	`mcC⁄åﬁBlockmaxGroupNumGë
(portId)) {

6004 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Reach max groupÇumber.\r\ngroupNum=%d.\r\n",

6005 
	`mcC⁄åﬁBlockmaxGroupNumGë
(
p‹tId
));

6007 
	`mcGroupSemUnLock
();

6009  
OPL_ERROR
;

6014 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC


6015 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID
) {

6018 if(
MC_TAG_OPER_MODE_TRANSLATION
 !
p‹t_›î
)

6020 
ªt
 = 
	`odmMcGroupAdd
(
p‹tId
, 
mac
, 0, 
vœnId
, 
GROUP_STATE_CONFIG_BY_OAM
, 
MC_BITMAP
);

6021 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6022 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6026 
ªt
 = 
	`odmMcGroupAdd
(
p‹tId
, 
mac
, 0, 
u£rVid
, 
GROUP_STATE_CONFIG_BY_OAM
, 
MC_BITMAP
);

6027 if(
ªt
!=
OPL_OK
)

6029 
	`mcGroupSemUnLock
();

6031 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6035 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6037 
groupAddªss
 = *(
uöt32
 *)&
mac
[2];

6039 if(
MC_TAG_OPER_MODE_TRANSLATION
 !
p‹t_›î
)

6041 
ªt
 = 
	`odmMcGroupAdd
(
p‹tId
, 0, 
groupAddªss
, 
vœnId
, 
GROUP_STATE_CONFIG_BY_OAM
, 
MC_BITMAP
);

6042 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6043 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6047 
ªt
 = 
	`odmMcGroupAdd
(
p‹tId
, 0, 
groupAddªss
, 
u£rVid
, 
GROUP_STATE_CONFIG_BY_OAM
, 
MC_BITMAP
);

6048 if(
ªt
!=
OPL_OK
) {

6049 
	`mcGroupSemUnLock
(); }

6050 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6055 
	`mcGroupSemUnLock
();

6057 #i‡
	`deföed
(
ONU_1PORT
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

6058 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID


6059 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6060 
ªt
 = 
	`odmMu…iˇ°VœnAdd
(
p‹tId
, 
vœnId
);

6061 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6065  
NO_ERROR
;

6066 
	}
}

6068 
	$odmMu…iˇ°C⁄åﬁE¡ryDñëe
(
uöt32
 
p‹tId
, uöt32 
vœnId
, 
uöt8
 *
mac
)

6070 
uöt8
 
daMacSå
[
SMALL_BUF_LEN
];

6071 
MC_GROUP_t
 *
group
;

6072 
ªt
;

6073 
uöt32
 
groupAddªss
;

6076 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[256];

6078 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[
MC_MAX_GROUP_NUM
];

6082 
UINT16
 
num
, 
m
;

6083 
dñ
;

6086 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_TRUE
||p‹tId==255, 
OPL_BAD_PARA
);

6087 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_VLAN_ID
(
vœnId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

6088 
	`RETURN_VAL_IF_FAIL
(
mac
!=
NULL
, 
OPL_BAD_PARA
);

6090 
	`vosMemSë
(
daMacSå
, 0, (daMacStr));

6091 
group
 = 
NULL
;

6092 
ªt
 = 0;

6093 
	`vosMemSë
(
daMacSå
, 0, (daMacStr));

6094 
groupAddªss
 = 0;

6095 
num
 = 0;

6097 
uöt32
 
u£rVid
 = 0;

6098 
å™¶_exi°
 = 
OPL_NOT_EXIST
;

6099 
uöt32
 
p‹t_›î
 = 
	`mcTagO≥rPîP‹tGë
(
p‹tId
);

6101 if(
MC_TAG_OPER_MODE_TRANSLATION
 =
p‹t_›î
)

6103 if(
OPL_NOT_EXIST
 =(
å™¶_exi°
=
	`mcTagTøn¶©i⁄TabÀGë
(
p‹tId
, 
vœnId
, &
u£rVid
)))

6105 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Translation vlan isÇotÉxist.");

6110 
	`˛SåögGëByMac
(
daMacSå
, 
mac
);

6112 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryDelete:ÖortId=%d, vlanId=%d, mac=%s.\r\n",

6113 
p‹tId
, 
vœnId
, 
daMacSå
);

6115 if(
	`mcC⁄åﬁBlockModeGë
()!=
MC_MODE_CTC
) {

6116  
OPL_ERROR
;

6119 
	`mcGroupSemLock
();

6122 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC


6123 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID
) {

6126 if(
MC_TAG_OPER_MODE_TRANSLATION
 !
p‹t_›î
)

6128 
group
 = 
	`mcGroupLi°Gë
(
p‹tId
, 
mac
, 0, 
vœnId
, 
MC_BITMAP
);

6132 
group
 = 
	`mcGroupLi°Gë
(
p‹tId
, 
mac
, 0, 
u£rVid
, 
MC_BITMAP
);

6136 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6138 
groupAddªss
 = *(
uöt32
 *)&
mac
[2];

6140 if(
MC_TAG_OPER_MODE_TRANSLATION
 !
p‹t_›î
)

6142 
group
 = 
	`mcGroupLi°Gë
(
p‹tId
, 0, 
groupAddªss
, 
vœnId
, 
MC_BITMAP
);

6146 
group
 = 
	`mcGroupLi°Gë
(
p‹tId
, 0, 
groupAddªss
, 
u£rVid
, 
MC_BITMAP
);

6151 if(!
group
) {

6152 
	`˛SåögGëByMac
(
daMacSå
, 
mac
);

6153 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

6155 
p‹tId
, 
daMacSå
, 
	`öë_¡ﬂ
(*(
ö_addr
 *)&
groupAddªss
), 
vœnId
);

6157 
	`mcGroupSemUnLock
();

6159  
OPL_OK
;

6163 if(
OPL_TRUE
==
	`mcGroupLi°Ho°Li°Em±y
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

6164 
group
->
mcVœn
, 
MC_BITMAP
)) {

6167 
	`mc_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

6168 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

6169 
group
->
mcVœn
, 
MC_BITMAP
);

6170 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6172 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6174 
group
 = 
NULL
;

6177 
	`mcGroupSemUnLock
();

6179 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID


6180 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6181 
	`odmMu…iˇ°C⁄åﬁE¡ryGë
(
˘l_íåy_li°
, &
num
);

6183 
dñ
 = 
OPL_TRUE
;

6184 
m
 = 0; m < 
num
; m++)

6186 i‡((
˘l_íåy_li°
[
m
].
p‹t
 =
p‹tId
Ë&& (˘l_íåy_li°[m].
vid
 =
vœnId
))

6188 
dñ
 = 
OPL_FALSE
;

6193 i‡(
dñ
)

6195 
ªt
 = 
	`odmMu…iˇ°VœnDñëe
(
p‹tId
, 
vœnId
);

6196 i‡(
OPL_OK
 !
ªt
)

6199 
	`mc_¥ötf
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
,
__LINE__
);

6201  
OPL_ERROR
;

6205  
OPL_OK
;

6206 
	}
}

6208 
	$odmMu…iˇ°C⁄åﬁE¡ryDñëeByVœn
(
uöt32
 
vœnId
)

6210 
ªt
;

6211 
˛Li°
 *
li°
;

6212 
MC_GROUP_t
 *
group
;

6213 
uöt32
 
groupM©ched
;

6214 
uöt32
 
i
;

6216 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryDeleteByVlan: vlanId=%d.\r\n",

6217 
vœnId
);

6219 
	`RETURN_VAL_IF_FAIL
(
	`IS_VALID_VLAN_ID
(
vœnId
)==
OPL_TRUE
, 
OPL_BAD_PARA
);

6221 
ªt
 = 0;

6222 
li°
 = 
NULL
;

6223 
group
 = 
NULL
;

6224 
groupM©ched
 = 
OPL_FALSE
;

6226 
	`mcGroupSemLock
();

6228 
li°
 = 
mcGroupLi°
;

6230 
li°
) {

6231 
li°
) {

6232 
group
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6234 if(
group
->
mcVœn
==
vœnId
) {

6235 
groupM©ched
 = 
OPL_TRUE
;

6237 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

6238 
group
->
mcVœn
, 
MC_BITMAP
);

6240 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6242 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6244 
group
 = 
NULL
;

6249 
li°
 =Üi°->
√xt
;

6252 if(
groupM©ched
==
OPL_TRUE
) {

6253 
li°
 = 
mcGroupLi°
;

6254 
groupM©ched
 = 
OPL_FALSE
;

6261 
	`mcGroupSemUnLock
();

6263 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID


6264 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6266 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

6267 
ªt
 = 
	`odmMu…iˇ°VœnDñëe
(
i
, 
vœnId
);

6272  
NO_ERROR
;

6273 
	}
}

6275 
	$odmMu…iˇ°C⁄åﬁE¡ryCÀ¨
()

6277 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryClear: .\r\n");

6279 
ªt
;

6280 
˛Li°
 *
li°
;

6281 
MC_GROUP_t
 *
group
;

6282 
uöt32
 
i
, 
j
;

6284 
ªt
 = 0;

6285 
li°
 = 
NULL
;

6286 
group
 = 
NULL
;

6288 
	`mcGroupSemLock
();

6292 
li°
 = 
mcGroupLi°
;

6295 
li°
) {

6296 
group
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6298 
ªt
 = 
	`dÆMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

6299 
group
->
mcVœn
, 
MC_BITMAP
);

6301 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6303 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6305 
li°
 =Üi°->
√xt
;

6309 
	`mcGroupLi°De°‹y
();

6311 
	`mcGroupSemUnLock
();

6313 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID


6314 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6315 
i
 = 
ODM_START_PORT_NUN
; i < 
ODM_NUM_OF_PORTS
+1; i++) {

6316 
ªt
 = 
	`odmMu…iˇ°VœnCÀ¨
(
i
);

6317 if(
ªt
!=
OPL_OK
Ë{ 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
,Ñet,Ñet); }

6321  
OPL_OK
;

6322 
	}
}

6324 
	$odmMu…iˇ°C⁄åﬁE¡ryGë
(
mu…iˇ°_c⁄åﬁ_íåy_t
 *
˘l_íåy_li°
, 
UINT16
 *
num
)

6326 
mu…iˇ°_c⁄åﬁ_íåy_t
 *
±r_íåy
;

6327 
UINT16
 
íåy_numbî
;

6328 
˛Li°
 *
li°
;

6329 
MC_GROUP_t
 *
node
;

6331 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryGet: ctl_entry_list=0x%0X,Çum=0x%X.\r\n",

6332 
˘l_íåy_li°
, 
num
);

6334 if((
OPL_NULL
 =
num
)||(OPL_NULL =
˘l_íåy_li°
))

6335  
OPL_ERROR
;

6337 
íåy_numbî
 = 0;

6338 
li°
 = 
NULL
;

6339 
node
 = 
NULL
;

6341 
	`mcGroupSemLock
();

6343 
±r_íåy
 = 
˘l_íåy_li°
;

6346 
li°
 = 
mcGroupLi°
;

6347 
li°
) {

6348 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6353 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC


6354 || 
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID
) {

6356 
	`vosMemCpy
(
±r_íåy
->
mmac
, 
node
->
groupMac
, 
MAC_ADDRESS_LENGTH
);

6358 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_GDA_IP_VID
) {

6360 
	`vosMemCpy
(&
±r_íåy
->
mmac
[2], &
node
->
groupAddªss
, 4);

6363 i‡(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

6365 
	`vosMemCpy
(&
±r_íåy
->
mmac
[2], &
node
->
groupAddªss
, 4);

6369 
	`vosMemCpy
(
±r_íåy
->
mmac
, 
node
->
groupMac
, 
MAC_ADDRESS_LENGTH
);

6373 
±r_íåy
->
p‹t
 = 
node
->
ho°P‹tId
;

6374 
±r_íåy
->
vid
 = 
node
->
mcVœn
;

6375 
íåy_numbî
++;

6376 
±r_íåy
++;

6378 
li°
 =Üi°->
√xt
;

6381 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryGet: ctl_entry_list=0x%0X,Çum=%d.\r\n",

6382 
˘l_íåy_li°
, 
íåy_numbî
);

6384 *
num
 = 
íåy_numbî
;

6386 
	`mcGroupSemUnLock
();

6388  
OPL_OK
;

6389 
	}
}

6392 
	$odmIg•MacGroupTabÀGë
(
mu…iˇ°_c⁄åﬁ_íåy_t
 *
˘l_íåy_li°
, 
UINT16
 *
num
)

6394 
mu…iˇ°_c⁄åﬁ_íåy_t
 *
±r_íåy
;

6395 
UINT16
 
íåy_numbî
;

6396 
˛Li°
 *
li°
;

6397 
MC_GROUP_t
 *
node
;

6398 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

6400 if((
OPL_NULL
 =
num
)||(OPL_NULL =
˘l_íåy_li°
))

6401  
OPL_ERROR
;

6403 
íåy_numbî
 = 0;

6404 
li°
 = 
NULL
;

6405 
node
 = 
NULL
;

6407 
	`mcGroupSemLock
();

6409 
±r_íåy
 = 
˘l_íåy_li°
;

6412 
li°
 = 
mcGroupLi°
;

6413 
li°
) {

6414 
node
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6416 
	`vosMemSë
(
ãmpGroupMac
, 0, 
MAC_ADDRESS_LENGTH
);

6417 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
node
->
groupAddªss
);

6419 
	`vosMemCpy
(
±r_íåy
->
mmac
, 
ãmpGroupMac
, 
MAC_ADDRESS_LENGTH
);

6421 
±r_íåy
->
p‹t
 = 
node
->
ho°P‹tId
;

6422 
±r_íåy
->
vid
 = 
node
->
mcVœn
;

6423 
íåy_numbî
++;

6424 
±r_íåy
++;

6426 
li°
 =Üi°->
√xt
;

6428 *
num
 = 
íåy_numbî
;

6430 
	`mcGroupSemUnLock
();

6432  
OPL_OK
;

6433 
	}
}

6437 
	$odmMu…iˇ°Ho°AgögTimeSë
(
uöt32
 
ho°AgögTime
)

6439 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°Ho°AgögTimeSë: ho°AgögTime=%d.\r\n", 
ho°AgögTime
);

6441 if(
	`mcC⁄åﬁBlockModeGë
()!=
MC_MODE_SNOOPING
) {

6442 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Not in Snooping mode.\r\n");

6443  
OPL_ERROR
;

6446 
	`odmMcC⁄åﬁBlockHo°AgögTimeSë
(
ho°AgögTime
);

6447 
	`mcHo°AgögTimîSë
(
ho°AgögTime
);

6449  
OPL_OK
;

6450 
	}
}

6452 
uöt32
 
	$odmMu…iˇ°C⁄åﬁE¡ryNumGë
(
uöt32
 
p‹tId
)

6454 
uöt32
 
ªt
 = 
OPL_ZERO
;

6455 
˛Li°
 *
li°
 = 
NULL
;

6456 
MC_GROUP_t
 *
group
;

6458 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryNumGet:ÖortId=%d.\r\n",

6459 
p‹tId
);

6461 if(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_FALSE
)

6463 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "odmMulticastControlEntryNumGet: invalidÖortId.\r\n");

6464  
ªt
;

6467 
	`mcGroupSemLock
();

6469 
li°
 = 
mcGroupLi°
;

6471 
li°
) {

6472 
group
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6473 if(
group
 && group->
ho°P‹tId
 =
p‹tId
) {

6474 
ªt
++;

6476 
li°
 =Üi°->
√xt
;

6479 
	`mcGroupSemUnLock
();

6481  
ªt
;

6482 
	}
}

6484 
	$odmMu…iˇ°C⁄åﬁE¡ryNumSë
(
uöt32
 
p‹tId
, uöt32 
num
)

6486 
ªt
;

6487 
˛Li°
 *
li°
;

6488 
MC_GROUP_t
 *
group
;

6489 
uöt32
 
groupM©ched
;

6490 
uöt32
 
dñE¡ryNum
, 
íåyNum
;

6492 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMulticastControlEntryNumSet:ÖortId=%d,num=%d.\r\n",

6493 
p‹tId
, 
num
);

6495 if(
	`IS_VALID_PORT_ID
(
p‹tId
)==
OPL_FALSE
)

6497 
	`MC_DEBUG
(
DEBUG_LEVEL_WARNING
, "odmMulticastControlEntryNumSet: invalidÖortId.\r\n");

6498  
OPL_BAD_PARA
;

6501 
ªt
 = 0;

6502 
li°
 = 
NULL
;

6503 
group
 = 
NULL
;

6504 
groupM©ched
 = 
OPL_FALSE
;

6505 
íåyNum
 = 0;

6506 
dñE¡ryNum
 = 0;

6508 
	`mcGroupSemLock
();

6510 
li°
 = 
mcGroupLi°
;

6512 
li°
) {

6513 
group
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6514 if(
group
 && group->
ho°P‹tId
 =
p‹tId
) {

6515 
íåyNum
++;

6517 
li°
 =Üi°->
√xt
;

6520 i‡(
íåyNum
 <
num
)

6522 
	`mcGroupSemUnLock
();

6523  
NO_ERROR
;

6526 
dñE¡ryNum
 = 
íåyNum
 - 
num
;

6528 
li°
 = 
mcGroupLi°
;

6530 
li°
) {

6531 
li°
) {

6532 
group
 = (
MC_GROUP_t
 *)
li°
->
d©a
;

6534 if(
group
 &&

6535 
group
->
ho°P‹tId
 =
p‹tId
 &&

6536 
dñE¡ryNum
 > 0) {

6537 
groupM©ched
 = 
OPL_TRUE
;

6539 
ªt
 = 
	`odmMcGroupDñ
(
group
->
ho°P‹tId
, group->
groupMac
, group->
groupAddªss
,

6540 
group
->
mcVœn
, 
MC_BITMAP
);

6542 if(
ªt
!=
OPL_OK
Ë{ 
	`mcGroupSemUnLock
(); }

6544 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

6546 
dñE¡ryNum
--;

6548 
group
 = 
NULL
;

6553 
li°
 =Üi°->
√xt
;

6556 if(
groupM©ched
==
OPL_TRUE
) {

6557 
li°
 = 
mcGroupLi°
;

6558 
groupM©ched
 = 
OPL_FALSE
;

6565 
	`mcGroupSemUnLock
();

6567  
NO_ERROR
;

6568 
	}
}

6570 
UINT32
 
	$DRV_GëSwôchHódîLí
()

6574 
	}
}

6578 
	$odmMu…iˇ°IgmpMsgH™dÀr
(*
±r_‰m
, 
uöt32
 
Àn
)

6580 
ho°_öbound_hdr_t
 *
±r_öb_hdr
;

6581 
uöt32
 
i_p‹t_logic
;

6583 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°IgmpMsgH™dÀr:Àn=%d.\r\n", 
Àn
);

6585 
	`RETURN_VAL_IF_FAIL
(
±r_‰m
!=
NULL
, 
OPL_BAD_PARA
);

6586 
	`RETURN_VAL_IF_FAIL
(
Àn
<=1518+4, 
OPL_BAD_PARA
);

6594 
uöt32
 
uiR…HódîLí
;

6595 
uöt32
 
ªt
;

6597 
	`mc_¥ötf
("odmMulticastIgmpMsgHandler\r\n");

6600 
ªt
 = 
	`DRV_GëP‹tFromSwôchHódî
((
±r_‰m
 + 12), &
i_p‹t_logic
);

6601 i‡(0 !
ªt
)

6603 
	`mc_¥ötf
("\nFailedÅo getÖort id from header.\n");

6604  
OPL_ERROR
;

6607 i‡(0xFF =
i_p‹t_logic
)

6609 
	`mc_¥ötf
("\nFailedÅo changeÖhyÖortÅoÜogicÖort.\n");

6610  
OPL_ERROR
;

6614 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°IgmpMsgH™dÀr:Àn=%d,Ö‹t=%d.\r\n", 
Àn
-4, 
i_p‹t_logic
);

6615 
	`pktPrötDebug
(
±r_‰m
, 
Àn
);

6618 
	`mc_¥ötf
("\nSend msgÅo mcIgmpMsgThread.\n");

6620 
uiR…HódîLí
 = 
	`DRV_GëSwôchHódîLí
();

6621 i‡(
Àn
 > (
uiR…HódîLí
+12))

6623 
Àn
 -
uiR…HódîLí
;

6627 
	`mc_¥ötf
("\nErrorÖacketÜength.\n");

6628  
OPL_ERROR
;

6631 
	`mem˝y
(
±r_‰m
+12,Öå_‰m+12+
uiR…HódîLí
, 
Àn
-12);

6632 
	`mcI≈utMsgSíd
(
±r_‰m
, 
Àn
, 
i_p‹t_logic
);

6637  
OPL_OK
;

6638 
	}
}

6642 
	$odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t
(

6643 
UINT8
 
p‹tNum
,
UINT16
 
vœn
,UINT8 
wôhTag
,UINT8 *
∑yLﬂd
,UINT16 
Àn
, 
uöt8
 *
øw_pkt
)

6645 
uöt32
 
∑ckëLígth
;

6647 
	`RETURN_VAL_IF_FAIL
(
∑yLﬂd
!=
NULL
, 
OPL_BAD_PARA
);

6648 
	`RETURN_VAL_IF_FAIL
(
øw_pkt
!=
NULL
, 
OPL_BAD_PARA
);

6649 
	`RETURN_VAL_IF_FAIL
(
Àn
<=1518+4, 
OPL_BAD_PARA
);

6651 if(!(
p‹tNum
==
PORT_PON_LOGIC


6652 || 
	`IS_VALID_PORT_ID
(
p‹tNum
))) {

6653 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t:Ingªs†p‹àîr‹.\r\≈‹tNum=%d.\r\n", 
p‹tNum
);

6654  
OPL_ERROR
;

6657 if(
p‹tNum
==
PORT_PON_LOGIC
) {

6659 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t:‰omÖ⁄,Üí=%d,Ö‹t=%d.\r\n", 
Àn
, 
p‹tNum
);

6660 
	`pktPrötDebug
(
∑yLﬂd
, 
Àn
);

6664 
	`mcI≈utMsgSíd
(
∑yLﬂd
, 
Àn
, 
p‹tNum
);

6666 if(
wôhTag
==1) {

6667 
∑ckëLígth
 = 12 + 4 + 
Àn
;

6670 
∑ckëLígth
 = 12 + 
Àn
;

6672 
	`mcI≈utMsgSíd
(
øw_pkt
+4, 
∑ckëLígth
, 
p‹tNum
);

6678 if(
wôhTag
==1) {

6679 
∑ckëLígth
 = 12 + 4 + 
Àn
;

6682 
∑ckëLígth
 = 12 + 
Àn
;

6686 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t:‰om ho°,Üí=%d,Ö‹t=%d, wôhèg=%d.\r\n", 
∑ckëLígth
, 
p‹tNum
,
wôhTag
);

6687 
	`pktPrötDebug
(
øw_pkt
+4, 
∑ckëLígth
);

6689 
	`mcI≈utMsgSíd
(
øw_pkt
+4, 
∑ckëLígth
, 
p‹tNum
);

6692  
NO_ERROR
;

6693 
	}
}

6696 
OPL_STATUS
 
	$mcTagTøn¶©i⁄TabÀCheck
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

6698 
uöt32
 
i
;

6699 if(
mcVid
==
u£rVid
)

6701 
	`mc_¥ötf
("mcVid shouldÇotÉqualÅo userVid \r\n");

6702  
OPL_ERROR
;

6705 
i
=0; i<
MC_VLAN_TRANSLATION_ENTRY
; i++) {

6706 if(
mcTagTøn¶©i⁄TabÀ
[
i
].
íabÀ
==
OPL_ENABLE
) {

6707 if((
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId)

6708 && ((
mcTagTøn¶©i⁄TabÀ
[
i
].
mcVid
 =
u£rVid
) || (mcTagTranslationTable[i].userVid == userVid)))

6710 
	`mc_¥ötf
("userVid whichÉqualÅoÉxisted mcVid or userVid inÅheÅranslationÅable isÇotállowed \r\n");

6711  
OPL_ERROR
;

6713 if((
mcTagTøn¶©i⁄TabÀ
[
i
].
p‹tId
 ==ÖortId)

6714 &&(
mcTagTøn¶©i⁄TabÀ
[
i
].
u£rVid
 =
mcVid
)) {

6715 
	`mc_¥ötf
("mcVid whichÉqualÅoÉxisted userVid inÅheÅranslationÅable isÇotállowed \r\n");

6716  
OPL_ERROR
;

6721  
OPL_OK
;

6722 
	}
}

6728 
	#MC_CONTROL_TEST


	)

6729 #ifde‡
MC_CONTROL_TEST


6732 
	gigmpGíîÆQuîySögÀMsg
[72] =

6749 
	gigmpGíîÆQuîySögÀ
[68] =

6765 
	gigmpGíîÆQuîyU¡ag
[64] =

6780 
	gigmpS≥cificQuîySögÀ
[68] =

6796 
	gigmpS≥cificQuîyU¡ag
[64] =

6812 
	gigmpRï‹tU¡ag1_ho°Ip1
[64] =

6827 
	gigmpRï‹tU¡ag2
[64] =

6844 
	gigmpRï‹tSögÀEº
[72] =

6861 
	gigmpRï‹tU¡agEº
[68] =

6878 
	gigmpRï‹tSögÀMsg
[72] =

6895 
	gigmpRï‹tSögÀ
[68] =

6912 
	gigmpRï‹tSögÀ1
[68] =

6928 
	gigmpRï‹tSögÀ2
[68] =

6945 
	gigmpLóveU¡ag
[64] =

6962 
	gigmpLóveSögÀMsg
[72] =

6979 
	gigmpLóveSögÀ
[68] =

6996 
	gigmpLóveSögÀ1
[68] =

7012 
	gigmpLóveSögÀ2
[68] =

7029 
	$igmpTe°
()

7032 
	`mcModeSwôch
(
MC_MODE_SNOOPING
);

7035 
	}
}

7037 
	$mc_maö
()

7041 
MC_GROUP_t
 *
node
;

7042 
uöt8
 
macSå
[6] = {0,0,0,0,0,0x55};

7043 
uöt8
 
§cMacSåØ
[6] = {0,0,0,0,0,0xaa};

7044 
uöt8
 
§cMacSåbb
[6] = {0,0,0,0,0,0xbb};

7046 
node
 = 
NULL
;

7048 
	`mcVœnM≠Inô
();

7050 
node
 = 
	`mcGroupLi°Gë
(1, 
macSå
, 0x11223344, 100, 0x7);

7052 if(!
node
)

7055 
	`mcHo°Li°Inô
(
node
);

7056 
	`mcHo°Li°Add
(
node
, 
§cMacSåØ
, 0x000000aa, 1, 0x60);

7057 
	`mcHo°Li°Add
(
node
, 
§cMacSåbb
, 0x000000bb, 1, 0x60);

7058 
	`mcHo°Li°SëisLa°Rï‹tRe˚võd
(
node
, 
§cMacSåØ
, 0x000000aa, 0x60, 1);

7059 
	`mcHo°Li°SëisN⁄Fa°LóveTimîSèπ
(
node
, 
§cMacSåbb
, 0x000000bb, 0x60, 1);

7060 
	`mcGroupShow
();

7061 
	`mcHo°Li°Dñ
(
node
, 
§cMacSåØ
, 0x000000aa, 0x60);

7062 
	`mcHo°Li°Dñ
(
node
, 
§cMacSåbb
, 0x000000bb, 0x60);

7063 
	`mcGroupShow
();

7066 
	}
}

7069 
sock_fûãr
 
	gmutiˇ°_bpf_fûãr
 [] = {

7071 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 0),

7072 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0x01, 0, 5),

7073 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 1),

7074 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0x00, 0, 3),

7075 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 2),

7076 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0x5e, 0, 1),

7078 
BPF_STMT
(
BPF_RET
+
BPF_K
,0x7fffffff),

7080 
BPF_STMT
(
BPF_RET
+
BPF_K
,0),

7083 
VOID
 
	$£tup_sockë_fûãr
(
INT
 
s
)

7085 
sock_Ârog
 
p
;

7089 
p
.
Àn
 = (
mutiˇ°_bpf_fûãr
)/ (
sock_fûãr
);

7090 
p
.
fûãr
 = 
mutiˇ°_bpf_fûãr
;

7092 
	`£tsock›t
–
s
, 
SOL_SOCKET
, 
SO_ATTACH_FILTER
, &
p
, (p));

7095 
	}
}

7097 
	#CPU_HEAD_LEN
 4

	)

7098 
UINT8
 
	gaucIgmpMac
[6] = {0x01,0x00,0x5e,0x00,0x00,0x00};

7099 
UINT8
 
	gcu°omîTpid
[2] ={0x81,0x00};

7100 
OPL_BOOL
 
	gg_bHo°DsDbgEn
 = 
OPL_TRUE
;

7102 
	$e›l_pkt_¥o˚ss
(* 
pkt
, 
UINT16
 
Àn
)

7104 
ho°_öbound_hdr_t
 *
p°InHódî
 = 
NULL
;

7105 
UINT8
 
ucP‹t
;

7106 
UINT32
 
ödex
;

7107 *
pucBuf
;

7108 
UINT8
 *
pbuf
;

7110 i‡(
NULL
 =
pkt
 || 0 =
Àn
)

7113 i‡(
OPL_TRUE
 =
g_bHo°DsDbgEn
)

7115 
	`mc_¥ötf
("\r\nRcv Pkà‰om PON/GE,Üí=%u\r\n",
Àn
);

7116 
pucBuf
 = (*)
pkt
;

7117 
ödex
 = 0; index < 
Àn
; index++)

7119 if((
ödex
 != 0) && (index%16 == 0))

7121 
	`mc_¥ötf
("\r\n%02x ",(
UINT8
)
pucBuf
[
ödex
]);

7125 
	`mc_¥ötf
("%02x ",(
UINT8
)
pucBuf
[
ödex
]);

7128 
	`mc_¥ötf
("\r\n");

7131 
pbuf
 = (
UINT8
 *)
pkt
 + (
ho°_öbound_hdr_t
);

7134 
UINT32
 
vœn
 = 0;

7136 
p°InHódî
 = (
ho°_öbound_hdr_t
 *)
pkt
;

7137 
ucP‹t
 = 
p°InHódî
->
ù‹t
;

7139 if(!
	`memcmp
(&
aucIgmpMac
[0], 
pbuf
, 3))

7141 if(
pbuf
[12] =
cu°omîTpid
[0] &&Öbuf[13] == customerTpid[1])

7143 
vœn
 = ((
pbuf
[14]&0xf) << 8)|pbuf[15];

7144 
	`odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t
(

7145 
ucP‹t
, (
UINT16
)
vœn
, 1, &
pbuf
[12+4],

7146 (
UINT16
)(
Àn
 - 16 -(
ho°_öbound_hdr_t
)), (
UINT8
 *)
pkt
);

7149 
	`odmMu…iˇ°IgmpMsgH™dÀr_Mu…iP‹t
(

7150 
ucP‹t
, 0, 0, &
pbuf
[12],

7151 (
UINT16
)(
Àn
 - 12 -(
ho°_öbound_hdr_t
)), (
UINT8
 *)
pkt
);

7154 
	}
}

7156 
INT16
 
	$e›l_ho°_sockë_ªcv
(
sockë_fd
)

7158 
ho°_öbound_hdr_t
 *
±r_pkt_hdr
;

7159 
ﬂm_rcv_pkt
[2048];

7160 * 
pBuff
 = 
ﬂm_rcv_pkt
;

7161 
ho°_öbound_hdr_t
 *
p°InHódî
 = (ho°_öbound_hdr_à*)
pBuff
;

7163 
INT32
 
usLí
;

7164 
INT32
 
cou¡î
=0;

7166 
msghdr
 
msg
;

7167 
iovec
 
iov
;

7168 
mw_l2_˘l_s
 
l2_˘l
;

7171 
pBuff
[0]=0;

7172 
pBuff
[1]=0;

7173 
pBuff
[2]=0;

7174 
pBuff
[3]=0;

7176 
	`mem£t
(&
msg
, 0, (msg));

7177 
	`mem£t
(&
iov
, 0, (iov));

7178 
	`mem£t
(&
l2_˘l
, 0, (l2_ctl));

7179 
iov
.
iov_ba£
 = (*)&
pBuff
[
CPU_HEAD_LEN
];

7180 
iov
.
iov_Àn
 = 2048-
CPU_HEAD_LEN
;

7181 
msg
.
msg_iov
 = &
iov
;

7182 
msg
.
msg_iovÀn
 = 1;

7183 
msg
.
msg_c⁄åﬁ
 = &
l2_˘l
;

7184 
msg
.
msg_c⁄åﬁÀn
 = (
l2_˘l
);

7186 (
usLí
 = 
	`ªcvmsg
(
sockë_fd
, &
msg
, 0)) > 0)

7188 
usLí
+=
CPU_HEAD_LEN
;

7190 
p°InHódî
->
ù‹t
 = 
l2_˘l
.
¶l_p‹t
;

7191 
p°InHódî
->
ª£rved
 = 0;

7194 
	`e›l_pkt_¥o˚ss
((*)
pBuff
, 
usLí
);

7196 
±r_pkt_hdr
 = (
ho°_öbound_hdr_t
 *)
pBuff
;

7199 
	`mc_¥ötf
("\r PacketÑeceived from Host interface:\n"

7201 ,
±r_pkt_hdr
->
ù‹t
);

7203 
cou¡î
++;

7204 i‡(
cou¡î
 > 32)

7207 
msg
.
msg_c⁄åﬁ
 = &
l2_˘l
;

7208 
msg
.
msg_c⁄åﬁÀn
 = (
l2_˘l
);

7212 
	}
}

7214 *
	$ï⁄_mutiˇ°_rxThªad
(*
¨gu
)

7216 
øw_sockë
;

7217 
sockaddr_Œ
 
¶l
;

7218 
i‰eq
 
if°ru˘
;

7220 
øw_sockë
 = 
	`sockë
(
PF_PACKET
, 
SOCK_RAW
, 
	`ht⁄s
(
ETH_P_ALL
));

7221 i‡(0 > 
øw_sockë
){

7222 
	`mc_¥ötf
("raw_socket socket createÉrror!\n");

7226 
	`°r˝y
(
if°ru˘
.
i‰_«me
, "eth0");

7227 
	`io˘l
(
øw_sockë
, 
SIOCGIFINDEX
, &
if°ru˘
);

7229 
	`£tup_sockë_fûãr
(
øw_sockë
);

7231 
	`mem£t
–&
¶l
, 0, (sll) );

7232 
¶l
.
¶l_Ámûy
 = 
AF_PACKET
;

7233 
¶l
.
¶l_ifödex
 = 
if°ru˘
.
i‰_ifödex
;

7234 
¶l
.
¶l_¥Ÿocﬁ
 = 
	`ht⁄s
(
ETH_P_ALL
);

7236 if(
	`böd
(
øw_sockë
, (
sockaddr
 *Ë&
¶l
, (sll)) == -1 ){

7237 
	`mc_¥ötf
("\nraw_socket bind createÉrror!\n");

7241 
	`mc_¥ötf
("sockë inô okÑaw_sockë=%d\n", 
øw_sockë
);

7244 
	`e›l_ho°_sockë_ªcv
(
øw_sockë
);

7245 
	`vosUSÀï
(1000);

7248 
	`vosThªadExô
(0);

7249 
	}
}

7251 
INT16
 
	$e›l_l2_£nd
(* 
∑ckë
, 
UINT16
 
Àngth
)

7253 
l2_£nd_›
 
l2_öfo
;

7254 
ho°_outbound_hdr_t
 *
±r_pkt_hdr
 = 
NULL
;

7256 
	`mem£t
(&
l2_öfo
, 0, (l2_info));

7257 
l2_öfo
.
usVid
 = 0;

7259 
±r_pkt_hdr
 = (
ho°_outbound_hdr_t
 *)
∑ckë
;

7260 
	`SëLgcMaskBôNoCheck
(
±r_pkt_hdr
->
ï‹t
, &
l2_öfo
.
p‹tmask
);

7262 
	`mc_¥ötf
("e›l_l2_£ndÖ‹tmask=%x\n", 
l2_öfo
.
p‹tmask
.
pbôs
[0]);

7264 if(
DRV_OK
 =
	`l2_£nd_by_p‹t
(&
∑ckë
[1], 
Àngth
-1, &
l2_öfo
)){

7265  
OPL_OK
;

7268 
	}
}

7270 
INT16
 
	$e›l_ho°_£nd
(*
pkt
, 
UINT16
 
Àn
)

7272 
INT16
 
°s
;

7274 
ho°_outbound_hdr_t
 *
±r_pkt_hdr
;

7275 *
pucBuf
;

7276 
UINT32
 
ödex
;

7278 i‡(
NULL
 =
pkt
 || 0 =
Àn
)

7281 i‡(
OPL_TRUE
 =
g_bHo°DsDbgEn
)

7283 
	`mc_¥ötf
("\r\nSíd PkàtÿPON,Üí=%u\r\n",
Àn
);

7284 
pucBuf
 = (*)
pkt
;

7285 
ödex
 = 0; index < 
Àn
; index++)

7287 if((
ödex
 != 0) && (index%16 == 0))

7289 
	`mc_¥ötf
("\r\n%02x ",(
UINT8
)
pucBuf
[
ödex
]);

7293 
	`mc_¥ötf
("%02x ",(
UINT8
)
pucBuf
[
ödex
]);

7296 
	`mc_¥ötf
("\r\n");

7299 
±r_pkt_hdr
 = (
ho°_outbound_hdr_t
 *)
pkt
;

7302 
	`mc_¥ötf
("\r Packet sent from Host interface:\n"

7305 ,
±r_pkt_hdr
->
ï‹t


7306 ,
±r_pkt_hdr
->
icos


7309 
	`±hªad_muãx_lock
(&
gHo°SídMuãx
);

7310 
°s
 = 
	`e›l_l2_£nd
((*)
±r_pkt_hdr
, 
Àn
);

7311 
	`±hªad_muãx_u∆ock
(&
gHo°SídMuãx
);

7313  
°s
;

7314 
	}
}

	@multicast/src/mc_control_dal.c

9 
	~"vos_ty≥s.h
"

10 
	~<lw_ty≥.h
>

12 
	~<lw_drv_pub.h
>

14 
	~<lw_drv_ªq.h
>

16 
	~"mc_c⁄åﬁ.h
"

18 
uöt8
 
MC_MODE_SWITCH_OCCUR
;

20 
OPL_STATUS
 
dÆMu…iˇ°P‹tVœnMacDñ
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
, 
OPL_BOOL
 
fuzzy
 );

43 
INT32
 
	$DRV_AddP‹t2Mˇ°Addr
(
UINT32
 
uiLP‹t
, UINT32 
uiVœn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

45 
DRV_RET_E
 
Rë
;

46 
vœn_id_t
 
tdVid
;

47 
mac_addªss_t
 
°MacAddªss
;

48 
mac_mˇ°_t
 
°MacMˇ°
;

49 
logic_pmask_t
 
°LP‹tMask
;

51 i‡((
NULL
 =
aucMac
Ë|| (
FALSE
 =
	`IsVÆidLgcP‹t
(
uiLP‹t
))||(
MAX_VLAN_ID
 < 
uiVœn
))

53  
ERROR
;

55 
	`CÃLgcMaskAŒ
(&
°LP‹tMask
);

56 
	`SëLgcMaskBô
(
uiLP‹t
,&
°LP‹tMask
);

58 
	`mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

59 
	`mem£t
(&
°MacAddªss
, 0, (stMacAddress));

60 
	`mem˝y
(
°MacAddªss
, 
aucMac
, 
MAC_ADDR_LEN
);

62 
tdVid
 = (
vœn_id_t
)
uiVœn
;

64 
Rë
 = 
	`Io˘l_GëMacMˇ°Mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

66 
Rë
 = 
	`Io˘l_˘c_mc_gë_mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

69 i‡(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
Rë
)

71 
	`mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

72 
°MacMˇ°
.
tdVid
 =ÅdVid;

73 
	`LgcMaskC›y
(&
°MacMˇ°
.
p‹t_mask
,&
°LP‹tMask
);

75 i‡(
DRV_OK
 =
Rë
)

77 
	`LgcMaskOr
(&(
°MacMˇ°
.
p‹t_mask
), &
°LP‹tMask
);

81  
ERROR
;

83 
	`mem˝y
(
°MacMˇ°
.
mac_addr
, 
°MacAddªss
, (
mac_addªss_t
));

85 
	`mc_¥ötf
("\n%†p‹tmsk:0x%04X mc-ma¯%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

86 
°LP‹tMask
.
pbôs
[0],
°MacMˇ°
.
mac_addr
[0],stMacMcast.mac_addr[1],

87 
°MacMˇ°
.
mac_addr
[2],stMacMcast.mac_addr[3],

88 
°MacMˇ°
.
mac_addr
[4],stMacMcast.mac_addr[5]);

90 
Rë
 = 
	`Io˘l_SëMacSëMˇ°Mac
(
°MacMˇ°
);

92 
Rë
 = 
	`Io˘l_˘c_mc_£t_mac
(
°MacMˇ°
);

94 i‡(
DRV_OK
 !
Rë
)

96  
ERROR
;

99  
NO_ERROR
;

100 
	}
}

101 
STATIC
 
INT32
 
	$DRV_CheckVœnF‹McMode
(
UINT32
 
uiVœnId
)

103 
INT32
 
iRë
;

104 
UINT32
 
uiLP‹tIndex
;

105 
CTC_VLAN_CFG_S
 
°VœnMode
;

108 
uiLP‹tIndex
 = 
MIN_LOGIC_UNI_ID
; uiLP‹tIndex <
MAX_LOGIC_UNI_ID
; uiLPortIndex++)

110 i‡(
DRV_OK
 !
	`Io˘l_˘c_gë_a˛_ruÀ
(
uiLP‹tIndex
, &
°VœnMode
))

112 
	`¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

113  
FALSE
;

116 i‡(
CTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

118 
UINT32
 
uiVœnIndex
 = 0;

120 i‡(
uiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

122  
FALSE
;

125 
uiVœnIndex
 = 0; uiVœnIndex < 
°VœnMode
.
numbî_of_íåõs
; uiVlanIndex++)

128 i‡((
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2] != stVlanMode.vlan_list[uiVlanIndex*2 + 1]) &&

129 ((
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2]) ||

130 (
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2 + 1])))

132  
FALSE
;

136 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

138 i‡(
uiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

140  
FALSE
;

145  
TRUE
;

146 
	}
}

148 
INT32
 
	$DRV_AddP‹t2Mˇ°Vœn
(
UINT32
 
uiLP‹t
, UINT32 
uiMcVid
, 
MC_TAG_MODE_E
 
íTagMode
)

150 
DRV_RET_E
 
ulRëVÆ
 = 
DRV_OK
;

151 
logic_pmask_t
 
°LMask
, 
°U¡agLMsk
;

153 i‡((!
	`IsVÆidLgcP‹t
(
uiLP‹t
)) ||

154 (!
	`VALID_VLAN_ID
(
uiMcVid
)) ||

155 (
MC_TAG_MODE_END
 < 
íTagMode
))

157  
ERROR
;

160 i‡(
TRUE
 !
	`DRV_CheckVœnF‹McMode
(
uiMcVid
))

162  
ERROR
;

165 
	`CÃLgcMaskAŒ
(&
°LMask
);

166 
	`CÃLgcMaskAŒ
(&
°U¡agLMsk
);

168 
ulRëVÆ
 = 
	`Io˘l_GëVœnMembî
(
uiMcVid
, &
°LMask
, &
°U¡agLMsk
);

170 
ulRëVÆ
 = 
	`Io˘l_˘c_mc_gë_vœn_mem
(
uiMcVid
, &
°LMask
, &
°U¡agLMsk
);

172 i‡(
DRV_OK
 !
ulRëVÆ
)

174 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

175  
ERROR
;

178 
íTagMode
)

180 
MC_TAG_MODE_TRANSPARENT
:

181 i‡(
	`T°LgcMaskBô
(
uiLP‹t
, &
°LMask
Ë&& (!T°LgcMaskBô(uiLP‹t, &
°U¡agLMsk
)))

183  
NO_ERROR
;

187 
	`SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

188 
	`CÃLgcMaskBô
(
uiLP‹t
, &
°U¡agLMsk
);

190 
	`SëLgcMaskBô
(
LOGIC_CPU_PORT
, &
°LMask
);

191 
	`SëLgcMaskBô
(
LOGIC_PON_PORT
, &
°LMask
);

196 
MC_TAG_MODE_STRIP
:

197 i‡(
	`T°LgcMaskBô
(
uiLP‹t
, &
°LMask
Ë&& T°LgcMaskBô(uiLP‹t, &
°U¡agLMsk
))

199  
NO_ERROR
;

203 
	`SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

205 
	`SëLgcMaskBô
(
LOGIC_CPU_PORT
, &
°LMask
);

206 
	`SëLgcMaskBô
(
LOGIC_UPPON_PORT
, &
°LMask
);

208 
	`SëLgcMaskBô
(
uiLP‹t
,&
°U¡agLMsk
);

214  
ERROR
;

218 
ulRëVÆ
 = 
	`Io˘l_SëMcVœnMembîAdd
(
uiMcVid
, 
°LMask
, 
°U¡agLMsk
);

219 i‡(
DRV_OK
 !
ulRëVÆ
)

221 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

222  
ERROR
;

224  
NO_ERROR
;

225 
	}
}

228 
INT32
 
	$DRV_GëSwôchU∂ökLP‹t
(
UINT32
 *
puiLP‹t
)

230 if(
puiLP‹t
 =
NULL
)

232  
ERROR
;

235 *
puiLP‹t
 = 
LOGIC_PON_PORT
;

237  
NO_ERROR
;

238 
	}
}

240 
INT32
 
	$DRV_E«bÀSwôchMc
(
INT32
 
iE«bÀ
)

242 
INT32
 
Rë
;

243 
UINT32
 
uiLP‹tId
;

245 i‡((
TRUE
 !
iE«bÀ
Ë&& (
FALSE
 != iEnable))

247  
ERROR
;

250 i‡(
TRUE
 =
iE«bÀ
)

253 
Rë
 = 
	`Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_CPU_ONLY
);

254 i‡(
DRV_OK
 !
Rë
)

256  
ERROR
;

261 
Rë
 = 
	`Io˘l_igmp_unknow_ù4_a˘
(
MCAST_ACT_DROP
);

262 i‡(
DRV_OK
 !
Rë
)

264  
ERROR
;

270 
Rë
 = 
	`Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_ALLPORTS
);

271 i‡(
DRV_OK
 !
Rë
)

273  
ERROR
;

278 
Rë
 = 
	`Io˘l_igmp_unknow_ù4_a˘
(
MCAST_ACT_FORWARD
);

279 i‡(
DRV_OK
 !
Rë
)

281  
ERROR
;

285  
NO_ERROR
;

286 
	}
}

289 
INT32
 
	$DRV_DñP‹tFromMˇ°Addr
(
UINT32
 
uiLP‹t
, UINT32 
uiVœn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

291 
DRV_RET_E
 
Rë
;

292 
vœn_id_t
 
tdVid
;

293 
mac_addªss_t
 
°MacAddªss
;

294 
mac_mˇ°_t
 
°MacMˇ°
;

295 
logic_pmask_t
 
°LP‹tMask
;

297 i‡((
NULL
 =
aucMac
Ë|| (
FALSE
 =
	`IsVÆidLgcP‹t
(
uiLP‹t
))||(
MAX_VLAN_ID
 < 
uiVœn
))

299 
	`mc_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

300  
ERROR
;

302 
	`CÃLgcMaskAŒ
(&
°LP‹tMask
);

303 
	`SëLgcMaskBô
(
uiLP‹t
,&
°LP‹tMask
);

305 
	`mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

306 
	`mem˝y
(&
°MacAddªss
[0], 
aucMac
, (stMacAddress));

308 
tdVid
 = (
vœn_id_t
)
uiVœn
;

310 
Rë
 = 
	`Io˘l_˘c_mc_gë_mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

312 if(
DRV_OK
 =
Rë
)

314 
	`mem˝y
(
°MacMˇ°
.
mac_addr
, 
°MacAddªss
, (
mac_addªss_t
));

316 
	`mc_¥ötf
("\n%†p‹tmsk:0x%04X mc-ma¯%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

317 
°LP‹tMask
.
pbôs
[0],
°MacMˇ°
.
mac_addr
[0],stMacMcast.mac_addr[1],

318 
°MacMˇ°
.
mac_addr
[2],stMacMcast.mac_addr[3],

319 
°MacMˇ°
.
mac_addr
[4],stMacMcast.mac_addr[5]);

321 
	`LgcMaskAnd
(&(
°MacMˇ°
.
p‹t_mask
), &
°LP‹tMask
);

323 
Rë
 = 
	`Io˘l_SëMacDñMˇ°Mac
(
°MacMˇ°
);

325 
Rë
 = 
	`Io˘l_˘c_mc_dñ_mac
(
°MacMˇ°
);

327 if(
DRV_OK
 !
Rë
)

329 
	`mc_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

330  
ERROR
;

337 
	`mc_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

338  
ERROR
;

341  
NO_ERROR
;

342 
	}
}

343 
INT32
 
	$DRV_DñP‹tFromMˇ°Vœn
(
UINT32
 
uiLP‹t
, UINT32 
uiMcVid
)

345 
DRV_RET_E
 
ulRëVÆ
 = 
DRV_OK
;

347 
logic_pmask_t
 
°LMask
, 
°U¡agLMsk
, 
°TmpMsk
;

349 
logic_pmask_t
 
°LMask
;

352 i‡((!
	`IsVÆidLgcP‹t
(
uiLP‹t
)) ||

353 (!
	`VALID_VLAN_ID
(
uiMcVid
)))

355  
ERROR
;

359 i‡(
TRUE
 !
	`DRV_CheckVœnF‹McMode
(
uiMcVid
))

361  
ERROR
;

364 
	`CÃLgcMaskAŒ
(&
°LMask
);

365 
	`SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

366 
ulRëVÆ
 = 
	`Io˘l_˘c_mc_rmv_vœn_mem
(
uiMcVid
, 
°LMask
);

367 i‡(
DRV_OK
 !
ulRëVÆ
)

369 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

370  
ERROR
;

372  
NO_ERROR
;

373 
	}
}

374 
INT32
 
	$DRV_DñP‹tFromMˇ°Tøn¶tVœn
(
UINT32
 
uiLP‹t
, UINT32 
uiMcVid
,UINT32 
uiU§Vid
)

376 
DRV_RET_E
 
ulRëVÆ
 = 
DRV_OK
;

378 
logic_pmask_t
 
°LMask
, 
°U¡agLMsk
, 
°TmpMsk
;

380 
logic_pmask_t
 
°LMask
;

383 i‡((!
	`IsVÆidLgcP‹t
(
uiLP‹t
)) ||

384 (!
	`VALID_VLAN_ID
(
uiU§Vid
)))

386  
ERROR
;

390 i‡(
TRUE
 !
	`DRV_CheckVœnF‹McMode
(
uiU§Vid
))

392  
ERROR
;

395 
	`CÃLgcMaskAŒ
(&
°LMask
);

396 
	`SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

397 
ulRëVÆ
 = 
	`io˘l_SëM˘øn¶tVœnMembîRmv
(
uiU§Vid
,
uiMcVid
, 
°LMask
);

398 i‡(
DRV_OK
 !
ulRëVÆ
)

400 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

401  
ERROR
;

403  
NO_ERROR
;

404 
	}
}

406 
OPL_STATUS
 
	$dÆMcVœnM≠Add
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

408 
ªt
;

409 
UINT32
 
vâIndex
;

410 
vœnIdSå
[
SMALL_BUF_LEN
];

411 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[
MC_MAX_GROUP_NUM
];

412 
UINT16
 
num
 = 0;

414 
UINT16
 
m
;

416 
UINT32
 
groupAddªss
;

417 
UINT8
 
groupMac
[
ETH_MAC_ADDR_LEN
];

418 
UINT32
 
u£rVid
;

420 
ªt
 = 0;

421 
vâIndex
 = 0;

423 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
vœnId
);

431 
	`mcTagO≥rPîP‹tGë
(
p‹tId
)) {

432 
MC_TAG_OPER_MODE_TRANSPARENT
:

434 
ªt
 = 
	`DRV_AddP‹t2Mˇ°Vœn
(
p‹tId
, 
vœnId
, 0);

435 i‡(0 !
ªt
)

437 
	`mc_¥ötf
("fun¯%†ÁûedÅÿ£àp‹à%d mcvtu %dÅø• modêö swôch chù.\r\n", 
__FUNCTION__
,
p‹tId
,
vœnId
);

438  
OPL_ERROR
;

442 
	`mc_¥ötf
("fun¯%†Suc˚ededÅÿ£àp‹à%d mcvtu %dÅø• modêö swôch chù.\r\n", 
__FUNCTION__
,
p‹tId
,
vœnId
);

445 
MC_TAG_OPER_MODE_STRIP
:

447 
ªt
 = 
	`DRV_AddP‹t2Mˇ°Vœn
(
p‹tId
, 
vœnId
, 1);

448 i‡(0 !
ªt
)

450 
	`mc_¥ötf
("fun¯%†ÁûedÅÿ£àp‹à%d mcvtu %d u¡agged modêö swôch chù.\r\n", 
__FUNCTION__
,
p‹tId
,
vœnId
);

451  
OPL_ERROR
;

455 
	`mc_¥ötf
("fun¯%†Suc˚ededÅÿ£àp‹à%d mcvtu %d u¡agged modêö swôch chù.\r\n", 
__FUNCTION__
,
p‹tId
,
vœnId
);

458 
MC_TAG_OPER_MODE_TRANSLATION
:

470  
OPL_OK
;

475 
	}
}

486 
OPL_STATUS
 
	$dÆMcVœnM≠Dñ
(
uöt32
 
p‹tId
, uöt32 
vœnId
)

489 
ªt
;

490 
UINT32
 
vâIndex
;

491 
isVœnP‹tExi°
;

492 
vœnIdSå
[
SMALL_BUF_LEN
];

493 
UINT32
 
i
;

494 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[
MC_MAX_GROUP_NUM
];

495 
UINT16
 
num
 = 0;

497 
UINT16
 
m
;

499 
UINT32
 
groupAddªss
;

500 
UINT32
 
uiBôM≠
 = 0;

501 
UINT8
 
groupMac
[
ETH_MAC_ADDR_LEN
];

503 
ªt
 = 0;

504 
vâIndex
 = 0;

505 
isVœnP‹tExi°
 = 0;

506 
	`vosMemSë
(
vœnIdSå
, 0, (vlanIdStr));

509 
ªt
 = 
	`odmMoveVœnP‹t
(
p‹tId
, 
vœnId
);

510 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

516 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
vœnId
);

523 if((
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

524 || ((
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
)

525 && (
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC
)))

527 
	`odmMu…iˇ°C⁄åﬁE¡ryGë
(
˘l_íåy_li°
, &
num
);

530 
m
 = 0; m < 
num
;)

532 i‡(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

534 
groupAddªss
 = *(
uöt32
 *)&(
˘l_íåy_li°
[
m
].
mmac
[2]);

535 
	`˛McMacGëByMcIp
(
groupMac
, 
groupAddªss
);

539 
	`vosMemCpy
(
groupMac
, 
˘l_íåy_li°
[
m
].
mmac
, 
MAC_ADDRESS_LENGTH
);

544 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
p‹tId
, 
vœnId
, 
groupMac
, 
OPL_FALSE
);

545 if(
ªt
!=
OPL_OK
)

547 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

553 
uiBôM≠
 = 0;

554 i‡(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

556 
uiBôM≠
 = 
MC_BITMAP_HOST_PORT_ID
 | 
MC_BITMAP_GDA_IP
 | 
MC_BITMAP_VLAN_ID
;

560 
uiBôM≠
 = 
MC_BITMAP_HOST_PORT_ID
 | 
MC_BITMAP_GDA_MAC
 | 
MC_BITMAP_VLAN_ID
;

564 i‡(
OPL_FALSE
 =
	`mcGroupLi°Ho°Li°Em±y
(
p‹tId
, 
groupMac
, \

565 
groupAddªss
, 
vœnId
,

566 
uiBôM≠
))

568 
MC_GROUP_t
 *
pgroup
 = 
NULL
;

569 
pgroup
 = 
	`mcGroupLi°Gë
(
p‹tId
, 
groupMac
, 
groupAddªss
, 
vœnId
, 
uiBôM≠
);

570 i‡(
NULL
 !
pgroup
)

572 ()
	`mcHo°Li°De°‹y
(
pgroup
);

577 ()
	`mcGroupLi°Dñ
(
p‹tId
, 
groupMac
, 
groupAddªss
, 
vœnId
, 
uiBôM≠
);

579 
m
++;

583 
	`mcTagO≥rPîP‹tGë
(
p‹tId
)) {

584 
MC_TAG_OPER_MODE_TRANSPARENT
:

585 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Vœn
(
p‹tId
, 
vœnId
);

586 i‡(
NO_ERROR
 !
ªt
)

588 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

592 
MC_TAG_OPER_MODE_STRIP
:

593 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Vœn
(
p‹tId
, 
vœnId
);

594 i‡(
NO_ERROR
 !
ªt
)

596 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

600 
MC_TAG_OPER_MODE_TRANSLATION
:

610  
OPL_OK
;

615 
	}
}

617 
OPL_STATUS
 
	$dÆMcTagTøn¶©i⁄Add
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

619 
DRV_RET_E
 
ulRëVÆ
 = 
DRV_OK
;

620 
logic_pmask_t
 
°LMask
, 
°U¡agLMsk
,
°SvœnU¡agLMsk
;

622 i‡((!
	`IsVÆidLgcP‹t
(
p‹tId
)) ||

623 (!
	`VALID_VLAN_ID
(
mcVid
)) ||

624 (!
	`VALID_VLAN_ID
(
u£rVid
)))

626  
ERROR
;

629 i‡(
TRUE
 !
	`DRV_CheckVœnF‹McMode
(
mcVid
))

631  
ERROR
;

633 i‡(
TRUE
 !
	`DRV_CheckVœnF‹McMode
(
u£rVid
))

635  
ERROR
;

637 
	`CÃLgcMaskAŒ
(&
°LMask
);

638 
	`CÃLgcMaskAŒ
(&
°U¡agLMsk
);

640 
ulRëVÆ
 = 
	`Io˘l_˘c_mc_gë_vœn_mem
(
mcVid
, &
°LMask
, &
°U¡agLMsk
);

642 i‡(
DRV_OK
 !
ulRëVÆ
)

644 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

649 i‡(
	`T°LgcMaskBô
(
p‹tId
, &
°LMask
))

651  
NO_ERROR
;

655 
	`SëLgcMaskBô
(
p‹tId
, &
°LMask
);

656 
	`SëLgcMaskBô
(
p‹tId
, &
°SvœnU¡agLMsk
);

657 
	`CÃLgcMaskBô
(
p‹tId
, &
°U¡agLMsk
);

663 
ulRëVÆ
=
	`io˘l_SëMcTøn¶tVœnMembîAdd
(
u£rVid
,
mcVid
,
°LMask
,
°U¡agLMsk
,
°SvœnU¡agLMsk
);

664 i‡(
DRV_OK
 !
ulRëVÆ
)

666 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

667  
ERROR
;

669 
ulRëVÆ
=
	`io˘l_˘ˇdds2˚¡ry
(
p‹tId
,
mcVid
,
u£rVid
);

670 i‡(
DRV_OK
 !
ulRëVÆ
)

672 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

673  
ERROR
;

675 
ulRëVÆ
=
	`io˘l_˘ˇddc2£¡ry
(
p‹tId
,
u£rVid
,
mcVid
);

676 i‡(
DRV_OK
 !
ulRëVÆ
)

678 
	`mc_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

679  
ERROR
;

681  
OPL_OK
;

683 
	}
}

686 
OPL_STATUS
 
	$dÆMcTagTøn¶©i⁄Dñ
(
uöt32
 
p‹tId
, uöt32 
mcVid
, uöt32 
u£rVid
)

689 
ªt
;

690 
UINT32
 
vâIndex
;

691 
isVœnP‹tExi°
;

692 
vœnIdSå
[
SMALL_BUF_LEN
];

693 
UINT32
 
i
;

694 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[
MC_MAX_GROUP_NUM
];

695 
UINT16
 
num
 = 0;

697 
UINT16
 
m
;

699 
UINT32
 
groupAddªss
;

700 
UINT32
 
uiBôM≠
 = 0;

701 
UINT8
 
groupMac
[
ETH_MAC_ADDR_LEN
];

703 
ªt
 = 0;

704 
vâIndex
 = 0;

705 
isVœnP‹tExi°
 = 0;

706 
	`vosMemSë
(
vœnIdSå
, 0, (vlanIdStr));

716 if((
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

717 || ((
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
)

718 && (
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC
)))

720 
	`odmMu…iˇ°C⁄åﬁE¡ryGë
(
˘l_íåy_li°
, &
num
);

723 
m
 = 0; m < 
num
;)

725 i‡(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

727 
groupAddªss
 = *(
uöt32
 *)&(
˘l_íåy_li°
[
m
].
mmac
[2]);

728 
	`˛McMacGëByMcIp
(
groupMac
, 
groupAddªss
);

732 
	`vosMemCpy
(
groupMac
, 
˘l_íåy_li°
[
m
].
mmac
, 
MAC_ADDRESS_LENGTH
);

737 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
p‹tId
, 
u£rVid
, 
groupMac
, 
OPL_FALSE
);

738 if(
ªt
!=
OPL_OK
)

740 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

746 
uiBôM≠
 = 0;

747 i‡(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

749 
uiBôM≠
 = 
MC_BITMAP_HOST_PORT_ID
 | 
MC_BITMAP_GDA_IP
 | 
MC_BITMAP_VLAN_ID
;

753 
uiBôM≠
 = 
MC_BITMAP_HOST_PORT_ID
 | 
MC_BITMAP_GDA_MAC
 | 
MC_BITMAP_VLAN_ID
;

757 i‡(
OPL_FALSE
 =
	`mcGroupLi°Ho°Li°Em±y
(
p‹tId
, 
groupMac
, \

758 
groupAddªss
, 
u£rVid
,

759 
uiBôM≠
))

761 
MC_GROUP_t
 *
pgroup
 = 
NULL
;

762 
pgroup
 = 
	`mcGroupLi°Gë
(
p‹tId
, 
groupMac
, 
groupAddªss
, 
u£rVid
, 
uiBôM≠
);

763 i‡(
NULL
 !
pgroup
)

765 ()
	`mcHo°Li°De°‹y
(
pgroup
);

770 ()
	`mcGroupLi°Dñ
(
p‹tId
, 
groupMac
, 
groupAddªss
, 
u£rVid
, 
uiBôM≠
);

772 
m
++;

777 
ªt
=
	`io˘l_˘cdñs2˚¡ry
(
p‹tId
,
mcVid
);

778 i‡(
DRV_OK
 !
ªt
)

781  
ERROR
;

783 
ªt
=
	`io˘l_˘cdñc2£¡ry
(
p‹tId
,
u£rVid
,
mcVid
);

784 i‡(
DRV_OK
 !
ªt
)

787  
ERROR
;

789 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Tøn¶tVœn
(
p‹tId
,
mcVid
,
u£rVid
);

790 i‡(
NO_ERROR
 !
ªt
)

792 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

796  
OPL_OK
;

799 
	}
}

810 
OPL_STATUS
 
	$dÆMcVœnInTøn•¨ítModeSëA˘i⁄
(
uöt32
 
p‹tId
)

813 
ªt
;

814 
UINT32
 
j
;

815 
UINT32
 
vâIndex
;

817 
ªt
 = 0;

818 
vâIndex
 = 0;

820 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

821 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

822 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
j
);

829 
ªt
 = 
	`DRV_AddP‹t2Mˇ°Vœn
(
p‹tId
,
j
,0);

830 i‡(0 !
ªt
)

832 
	`mc_¥ötf
("\nfun¯%s:FaûedÅÿ£àp‹à%d mcvœ¿%d\n",
__FUNCTION__
,
p‹tId
,
j
);

833  
OPL_ERROR
;

837 
	`mc_¥ötf
("\nfun¯%s:Suc˚ededÅÿ£àp‹à%d mcvœ¿%d\n",
__FUNCTION__
,
p‹tId
,
j
);

845  
OPL_OK
;

848 
	}
}

859 
OPL_STATUS
 
	$dÆMcVœnInTøn•¨ítModeCÀ¨
(
uöt32
 
p‹tId
)

863 
ªt
;

864 
UINT32
 
j
;

865 
UINT32
 
vâIndex
;

867 
ªt
 = 0;

868 
vâIndex
 = 0;

870 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

871 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

872 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
j
);

879 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Vœn
(
p‹tId
, 
j
);

880 i‡(0 !
ªt
)

882 
	`mc_¥ötf
("\nfun¯%s:FaûedÅÿdñÖ‹à%d mcvœ¿%d.\n",
__FUNCTION__
,
p‹tId
,
j
);

883  
OPL_ERROR
;

887 
	`mc_¥ötf
("\nfun¯%s:Suc˚ededÅÿdñÖ‹à%d mcvœ¿%d.\n",
__FUNCTION__
,
p‹tId
,
j
);

895  
OPL_OK
;

897 
	}
}

908 
OPL_STATUS
 
	$dÆMcVœnInSåùModeSëA˘i⁄
(
uöt32
 
p‹tId
)

910 
ªt
;

911 
UINT32
 
j
;

912 
UINT32
 
vâIndex
;

914 
ªt
 = 0;

915 
vâIndex
 = 0;

917 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

918 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

919 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
j
);

925 
ªt
 = 
	`DRV_AddP‹t2Mˇ°Vœn
(
p‹tId
,
j
,1);

926 i‡(0 !
ªt
)

928 
	`mc_¥ötf
("\nfun¯%s:FaûedÅÿ£àp‹à%d mcvœ¿%d\n",
__FUNCTION__
,
p‹tId
,
j
);

929  
OPL_ERROR
;

933 
	`mc_¥ötf
("\nfun¯%s:Suc˚ededÅÿ£àp‹à%d mcvœ¿%d\n",
__FUNCTION__
,
p‹tId
,
j
);

940  
OPL_OK
;

942 
	}
}

953 
OPL_STATUS
 
	$dÆMcVœnInSåùModeCÀ¨
(
uöt32
 
p‹tId
)

957 
ªt
;

958 
UINT32
 
j
;

959 
UINT32
 
vâIndex
;

961 
ªt
 = 0;

962 
vâIndex
 = 0;

964 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

965 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

966 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
j
);

973 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Vœn
(
p‹tId
, 
j
);

974 i‡(0 !
ªt
)

976 
	`mc_¥ötf
("\nfun¯%s:FaûedÅÿdñÖ‹à%d mcvœ¿%d.\n",
__FUNCTION__
,
p‹tId
,
j
);

977  
OPL_ERROR
;

981 
	`mc_¥ötf
("\nfun¯%s:Suc˚ededÅÿdñÖ‹à%d mcvœ¿%d.\n",
__FUNCTION__
,
p‹tId
,
j
);

989  
OPL_OK
;

990 
	}
}

993 
OPL_STATUS
 
	$dÆMcVœnInTøn¶©i⁄ModeSëA˘i⁄
(
uöt32
 
p‹tId
)

995 
ªt
;

996 
UINT32
 
j
;

997 
UINT32
 
vâIndex
;

1000 if(
MC_MODE_CTC
 =
	`mcC⁄åﬁBlockModeGë
())

1002  
OPL_OK
;

1005 
ªt
 = 0;

1006 
vâIndex
 = 0;

1008 
j
=1; j<
OP_MAX_VLAN_NUMBER
; j++) {

1009 if(
	`mcVœnM≠Exi°
(
p‹tId
, 
j
)) {

1010 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ö‹tId=%d, vœnId=%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
p‹tId
, 
j
);

1013 
ªt
 = 
	`dÆMcTagTøn¶©i⁄Add
(
p‹tId
,
j
, j);

1014 if(
ªt
!=
OPL_OK
Ë{ 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
,Ñet,Ñet); }

1015 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1017 
ªt
 = 
	`mcTagTøn¶©i⁄TabÀAdd
(
p‹tId
,
j
, j);

1018 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1023  
OPL_OK
;

1026 
	}
}

1036 
OPL_STATUS
 
	$dÆMcVœnInXxxModeSëA˘i⁄
(
uöt32
 
p‹tId
, 
MC_TAG_OPER_MODE_t
 
ègO≥r
)

1039 
ªt
;

1041 
ªt
 = 0;

1042 
uöt16
 
vœnId
[
OP_MAX_VLAN_NUMBER
] = {0};

1043 
uöt8
 
num
 = 0;

1046 
ègO≥r
) {

1047 
MC_TAG_OPER_MODE_TRANSPARENT
:

1048 
ªt
 = 
	`dÆMcVœnInTøn•¨ítModeSëA˘i⁄
(
p‹tId
);

1049 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1051 
MC_TAG_OPER_MODE_STRIP
:

1052 
ªt
 = 
	`dÆMcVœnInSåùModeSëA˘i⁄
(
p‹tId
);

1053 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1055 
MC_TAG_OPER_MODE_TRANSLATION
:

1058 
ªt
 = 
	`dÆMcVœnInTøn¶©i⁄ModeSëA˘i⁄
(
p‹tId
);

1059 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1060 
	`mc_¥ötf
("\nfun¯%s:DÿnŸ suµ‹àmcvœ¿å™¶©i⁄.\n",
__FUNCTION__
);

1069  
OPL_OK
;

1070 
	}
}

1081 
OPL_STATUS
 
	$dÆMcVœnInXxxModeCÀ¨
(
uöt32
 
p‹tId
, 
MC_TAG_OPER_MODE_t
 
ègO≥r
)

1084 
ªt
;

1086 
ªt
 = 0;

1087 
uöt16
 
vœnId
[
OP_MAX_VLAN_NUMBER
] = {0};

1088 
uöt8
 
num
 = 0;

1091 
ègO≥r
) {

1092 
MC_TAG_OPER_MODE_TRANSPARENT
:

1093 
ªt
 = 
	`dÆMcVœnInTøn•¨ítModeCÀ¨
(
p‹tId
);

1094 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1096 
MC_TAG_OPER_MODE_STRIP
:

1097 
ªt
 = 
	`dÆMcVœnInSåùModeCÀ¨
(
p‹tId
);

1098 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1100 
MC_TAG_OPER_MODE_TRANSLATION
:

1102 if(0==
MC_MODE_SWITCH_OCCUR
)

1104 
ªt
 = 
	`odmMcTagTøn¶©i⁄CÀ¨
(
p‹tId
);

1105 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1115  
OPL_OK
;

1117 
	}
}

1128 
OPL_STATUS
 
	$dÆMcTagO≥rSë
(
uöt32
 
p‹tId
, 
MC_TAG_OPER_MODE_t
 
ègO≥r
)

1130 
ªt
;

1133 
ªt
 = 
	`dÆMcVœnInXxxModeCÀ¨
(
p‹tId
, 
	`mcTagO≥rPîP‹tGë
(portId));

1135 
ªt
 = 
	`dÆMcVœnInXxxModeSëA˘i⁄
(
p‹tId
, 
ègO≥r
);

1136 
	`RETURN_VAL_IF_FAIL
(
ªt
 =
OPL_OK
,Ñet);

1138  
OPL_OK
;

1139 
	}
}

1140 
OPL_STATUS
 
	$dÆMu…iˇ°P‹tVœnMacAdd
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
, 
OPL_BOOL
 
fuzzy
 )

1143 
INT32
 
ªt
;

1145 
ªt
 = 
	`DRV_AddP‹t2Mˇ°Addr
(
p‹tNum
, 
vœnId
, 
macAddr
);

1146 i‡(0 !
ªt
)

1148 
	`mc_¥ötf
("\nfunc:%†ÁûedÅÿ£àm¯mac.\n",
__FUNCTION__
);

1149  
OPL_ERROR
;

1151  
OPL_OK
;

1152 
	}
}

1163 
OPL_STATUS
 
	$dÆMcGroupAdd
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
, uöt32 
mcVœn
, uöt32 
bôm≠
)

1165 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

1166 
OPL_STATUS
 
ªt
;

1167 
UINT16
 
vœnId
[
OP_MAX_VLAN_NUMBER
] = {0};

1168 
UINT8
 
num
= 0;

1169 
UINT8
 
m
;

1170 
MC_GROUP_t
 *
group
;

1171 
UINT32
 
°©e
;

1173 
	`vosMemSë
(
ãmpGroupMac
, 0, 
MAC_ADDRESS_LENGTH
);

1177 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

1179 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
groupAddªss
);

1182 if(
	`mcTagO≥rPîP‹tGë
(
ho°P‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION
)

1184 
	`odmTøn¶©i⁄VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1188 
	`odmMu…iˇ°VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1192 
m
 = 0; m < 
num
;)

1195 i‡(0 =
mcVœn
 )

1197 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacAdd
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
ãmpGroupMac
, 
OPL_FALSE
);

1198 if(
ªt
!=
OPL_OK
)

1200 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1203 i‡(
vœnId
[
m
] =
mcVœn
)

1205 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacAdd
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
ãmpGroupMac
, 
OPL_FALSE
);

1206 if(
ªt
!=
OPL_OK
)

1208 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1211 
m
++;

1214 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
)

1216 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC
)

1219 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacAdd
((
UINT8
)
ho°P‹tId
, 
mcVœn
, 
groupMac
, 
OPL_FALSE
);

1220 if(
ªt
!=
OPL_OK
)

1222 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1226 if(
	`mcTagO≥rPîP‹tGë
(
ho°P‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION
)

1228 
	`odmTøn¶©i⁄VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1232 
	`odmMu…iˇ°VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1236 
m
 = 0; m < 
num
;)

1238 i‡(
mcVœn
 !
vœnId
[
m
])

1240 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacAdd
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
groupMac
, 
OPL_FALSE
);

1241 if(
ªt
!=
OPL_OK
)

1243 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1246 
m
++;

1250 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID
)

1253 
	`vosMemCpy
(
ãmpGroupMac
, 
groupMac
, 
MAC_ADDRESS_LENGTH
);

1254 
	`dÆMu…iˇ°P‹tVœnMacAdd
((
UINT8
)
ho°P‹tId
, (
UINT16
)
mcVœn
, 
ãmpGroupMac
, 
OPL_FALSE
);

1264  
OPL_OK
;

1265 
	}
}

1266 
OPL_STATUS
 
	$dÆMu…iˇ°P‹tVœnMacDñ
–
UINT8
 
p‹tNum
, 
UINT16
 
vœnId
, UINT8 * 
macAddr
, 
OPL_BOOL
 
fuzzy
 )

1268 
INT32
 
ªt
;

1270 
ªt
 = 
	`DRV_DñP‹tFromMˇ°Addr
(
p‹tNum
, 
vœnId
, 
macAddr
);

1271 i‡(0 !
ªt
)

1273 
	`mc_¥ötf
("\nfunc:%†ÁûedÅÿdñëêp‹à‰om m¯mac.\n",
__FUNCTION__
);

1274  
OPL_ERROR
;

1276  
OPL_OK
;

1277 
	}
}

1288 
OPL_STATUS
 
	$dÆMcGroupDñ
(
uöt32
 
ho°P‹tId
, 
uöt8
 *
groupMac
, uöt32 
groupAddªss
, uöt32 
mcVœn
, uöt32 
bôm≠
)

1290 
uöt8
 
ãmpGroupMac
[
MAC_ADDRESS_LENGTH
];

1291 
OPL_STATUS
 
ªt
;

1292 
UINT16
 
vœnId
[
OP_MAX_VLAN_NUMBER
];

1293 
UINT8
 
num
= 0;

1294 
UINT8
 
m
;

1296 
	`vosMemSë
(
ãmpGroupMac
, 0, 
MAC_ADDRESS_LENGTH
);

1301 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_SNOOPING
)

1303 
	`˛McMacGëByMcIp
(
ãmpGroupMac
, 
groupAddªss
);

1306 if(
	`mcTagO≥rPîP‹tGë
(
ho°P‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION
)

1308 
	`odmTøn¶©i⁄VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1312 
	`odmMu…iˇ°VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1317 
m
 = 0; m < 
num
;)

1320 i‡(0 =
mcVœn
 )

1322 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
ãmpGroupMac
, 
OPL_FALSE
);

1324 if(
ªt
!=
OPL_OK
)

1326 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1329 i‡(
mcVœn
 =
vœnId
[
m
])

1332 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
ãmpGroupMac
, 
OPL_FALSE
);

1333 if(
ªt
!=
OPL_OK
)

1335 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1338 
m
++;

1341 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
)

1343 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC
)

1346 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
ho°P‹tId
, 
mcVœn
, 
groupMac
, 
OPL_FALSE
);

1347 if(
ªt
!=
OPL_OK
)

1349 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1353 if(
	`mcTagO≥rPîP‹tGë
(
ho°P‹tId
)==
MC_TAG_OPER_MODE_TRANSLATION
)

1355 
	`odmTøn¶©i⁄VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1359 
	`odmMu…iˇ°VœnGë
(
ho°P‹tId
, 
vœnId
, &
num
);

1363 
m
 = 0; m < 
num
;)

1365 i‡(
mcVœn
 !
vœnId
[
m
])

1367 
ªt
 = 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
ho°P‹tId
, 
vœnId
[
m
], 
groupMac
, 
OPL_FALSE
);

1368 if(
ªt
!=
OPL_OK
)

1370 
	`MC_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "%s,%d,Ñë=0x%X,%d.\r\n", 
__FUNCTION__
, 
__LINE__
, 
ªt
,Ñet);

1373 
m
++;

1377 if(
	`odmMu…iˇ°C⁄åﬁTy≥Gë
()==
MC_CTL_GDA_MAC_VID
)

1380 
	`vosMemCpy
(
ãmpGroupMac
, 
groupMac
, 
MAC_ADDRESS_LENGTH
);

1381 
	`dÆMu…iˇ°P‹tVœnMacDñ
((
UINT8
)
ho°P‹tId
, (
UINT16
)
mcVœn
, 
ãmpGroupMac
, 
OPL_FALSE
);

1389  
OPL_OK
;

1390 
	}
}

	@multicast/src/opapi_comm_list.c

20 
	~<°dio.h
>

21 
	~<°rög.h
>

22 
	~<°dlib.h
>

23 
	~<vos_Æloc.h
>

25 
	~"›≠i_comm_li°.h
"

26 
	~"›≠i_comm_åì.h
"

48 
˛Li°
 * 
	$˛Li°La°
(
˛Li°
 *
li°
)

50 i‡(
li°
) {

51 
li°
->
√xt
) {

52 
li°
 =Üi°->
√xt
;

56  
li°
;

57 
	}
}

68 
˛Li°
 * 
	$˛Li°In£π
(
˛Li°
 *
li°
, *
d©a
)

70 
˛Li°
 *
√w_li°
;

72 
√w_li°
 = (
˛Li°
 *Ë
	`vosAŒoc
((clList));

73 
	`mem£t
(
√w_li°
, 0, (
˛Li°
));

74 
√w_li°
->
d©a
 = data;

76 i‡(
li°
) {

77 
√w_li°
->
√xt
 = 
li°
;

78 
li°
->
¥ev
 = 
√w_li°
;

79  
√w_li°
;

82  
√w_li°
;

84 
	}
}

95 
˛Li°
 * 
	$˛Li°Aµíd
(
˛Li°
 *
li°
, *
d©a
)

97 
˛Li°
 *
√w_li°
;

98 
˛Li°
 *
œ°
;

100 
√w_li°
 = (
˛Li°
 *Ë
	`vosAŒoc
((clList));

101 
	`mem£t
(
√w_li°
, 0, (
˛Li°
));

102 
√w_li°
->
d©a
 = data;

104 i‡(
li°
) {

105 
œ°
 = 
	`˛Li°La°
(
li°
);

106 
œ°
->
√xt
 = 
√w_li°
;

107 
√w_li°
->
¥ev
 = 
œ°
;

108  
li°
;

111  
√w_li°
;

113 
	}
}

124 
˛Li°
 * 
	$˛Li°Remove
(
˛Li°
 *
li°
, c⁄° *
d©a
)

126 
˛Li°
 *
tmp
;

128 
tmp
 = 
li°
;

129 
tmp
) {

130 i‡(
tmp
->
d©a
 != data) {

131 
tmp
 =Åmp->
√xt
;

134 i‡(
tmp
->
¥ev
) {

135 
tmp
->
¥ev
->
√xt
 =Åmp->next;

137 i‡(
tmp
->
√xt
) {

138 
tmp
->
√xt
->
¥ev
 =Åmp->prev;

141 i‡(
li°
 =
tmp
) {

142 
li°
 =Üi°->
√xt
;

145 
	`vosFªe
(
tmp
);

151  
li°
;

152 
	}
}

163 
˛Li°
 * 
	$˛Li°Nth
(
˛Li°
 *
li°
, 
n
)

165 (
n
-- > 0Ë&& 
li°
) {

166 
li°
 =Üi°->
√xt
;

169  
li°
;

170 
	}
}

181 * 
	$˛Li°NthD©a
(
˛Li°
 *
li°
, 
n
)

183 
˛Li°
 *
tmp
;

185 i‡(
li°
 =
NULL
) {

186  
NULL
;

189 
tmp
 = 
	`˛Li°Nth
(
li°
, 
n
);

191  
tmp
->
d©a
;

192 
	}
}

202 
	$˛Li°Fªe
(
˛Li°
 *
li°
)

204 
˛Li°
 *
œ°
;

206 
li°
) {

207 
œ°
 = 
li°
;

208 
li°
 =Üi°->
√xt
;

209 
	`vosFªe
(
œ°
);

213 
	}
}

224 
	$˛Li°Posôi⁄
(
˛Li°
 *
li°
, clLi° *
lök
)

226 
i
;

228 
i
 = 0;

229 
li°
) {

230 i‡(
li°
 =
lök
) {

231  
i
;

233 
i
++;

234 
li°
 =Üi°->
√xt
;

238 
	}
}

240 
	$˛Li°Lí
(
˛Li°
 *
li°
)

242 
˛Li°
 *
tmp
;

243 
i
;

245 
i
 = 0;

246 
tmp
 = 
li°
;

247 
tmp
) {

248 
i
++;

249 
tmp
 =Åmp->
√xt
;

252  
i
;

253 
	}
}

263 
	$˛Li°BubbÀS‹t
(
˛Li°
 *
li°
, 
˛Com∑ªFunc
 
key_com∑ª
)

265 
˛Li°
 *
node
;

266 
i
, 
j
, 
Àn
;

267 
ödex
;

268 *
d©a
;

270 i‡(
li°
 =
NULL
 || 
key_com∑ª
 == NULL) {

274 
node
 = 
NULL
;

275 
Àn
 = 0;

276 
d©a
 = 
NULL
;

278 
Àn
 = 
	`˛Li°Lí
(
li°
);

280 i‡(
Àn
 < 2) {

284 
node
 = 
li°
;

285 
i
 = 
Àn
; i > 0; i--) {

286 
j
 = 0; j < 
i
 - 1; j++) {

287 i‡(
	`key_com∑ª
(
node
->
d©a
,Çode->
√xt
->data) > 0) {

288 
d©a
 = 
node
->
√xt
->data;

289 
node
->
√xt
->
d©a
 =Çode->data;

290 
node
->
d©a
 = data;

292 
node
 =Çode->
√xt
;

294 
node
 = 
li°
;

298 
	}
}

300 
	$˛Li°Pröt
(
˛Li°
 *
li°
)

302 
˛Li°
 *
tmp
;

303 
i
;

305 
i
 = 0;

306 
tmp
 = 
li°
;

307 
tmp
) {

308 
	`¥ötf
("node %d:Çode=%08x,Çext=%08x,Örev=%08x, data=%08x\n",

309 
i
,

310 (Ë
tmp
,

311 (Ë
tmp
->
√xt
,

312 (Ë
tmp
->
¥ev
,

313 (Ë
tmp
->
d©a
);

314 
i
++;

315 
tmp
 =Åmp->
√xt
;

317 
	}
}

	@multicast/src/vos_bitmap.c

32 
	#VOS_BITMAP_MAIN


	)

34 
	~<vos_bôm≠.h
>

35 
	~<vos_ty≥s.h
>

38 
UINT16
 
	$vosFú°SëBôPosGë
–
UINT32
 
VÆue
, UINT32 
SèπPosôi⁄
 )

45 
VÆue
 &
aMaskBô
[
SèπPosôi⁄
];

47 if–
VÆue
 =0 )  
INVALID_16
;

50 if–
VÆue
 > 0x0000FFFF )

52 if–
VÆue
 > 0x00FFFFFF )

53  
aSëBô
[*(
UINT8
 *)(&
VÆue
 )] - 1 ;

55  
aSëBô
[*((
UINT8
 *)(&
VÆue
 )+1)] + 7;

58 if–
VÆue
 > 0x000000FF )

59  
aSëBô
[*((
UINT8
 *)(&
VÆue
 ) + 2)] + 15;

61  
aSëBô
[*((
UINT8
 *)(&
VÆue
 ) + 3)] +23;

64 
	}
};

66 
UINT16
 
	$vosFú°SëBôPosGë1
–
UINT32
 
VÆue
, UINT32 
SèπPosôi⁄
 )

68 
UINT32
 
VÆ
;

69 
	`VOS_FIRST_SET_BIT_POS_GET
–
VÆ
, 
VÆue
, 
SèπPosôi⁄
);

70  
VÆ
;

71 
	}
}

73 
UINT16


74 
	$vosFú°CÀ¨BôPosGë
–
UINT32
 
VÆue
, UINT32 
SèπPosôi⁄
 )

76 
VÆue
 ^= 0xFFFFFFFF;

77  
	`vosFú°SëBôPosGë
(
VÆue
, 
SèπPosôi⁄
);

78 
	}
};

80 
UINT32


81 
	$vosBôCÀ¨
–
UINT32
 
OrigöÆVÆue
, UINT32 
BôPosôi⁄
 )

83  
OrigöÆVÆue
 & 
aCÀ¨BôM≠
[
BôPosôi⁄
];

84 
	}
};

86 
UINT32


87 
	$vosBôSë
–
UINT32
 
OrigöÆVÆue
, UINT32 
BôPosôi⁄
 )

89  
OrigöÆVÆue
 | ~
aCÀ¨BôM≠
[
BôPosôi⁄
];

90 
	}
};

111 
UINT32
 
	$vosSëBôsGë
(
UINT32
 
VÆue
)

113 
UINT32
 
˙t
 = 0;

114 
UINT16
 
i
;

116 
i
 = 0; i < 32; i++)

118 i‡(
	`VOS_IS_BIT_SET
(
i
, 
VÆue
))

119 
˙t
++;

121  
˙t
;

122 
	}
}

142 
UINT32
 
	$vosCÀ¨BôsGë
(
UINT32
 
VÆue
)

144 
UINT32
 
˙t
 = 0;

145 
UINT16
 
i
;

147 
i
 = 0; i < 32; i++)

149 i‡(
	`VOS_IS_BIT_CLEARED
(
i
, 
VÆue
))

150 
˙t
++;

152  
˙t
;

153 
	}
}

	@multicast/src/vos_config.c

29 
	~<°rög.h
>

30 
	~<˘y≥.h
>

31 
	~<°dlib.h
>

32 
	~<°dio.h
>

34 
	~<as£π.h
>

36 
	~<vos_Æloc.h
>

37 
	~<vos_ty≥s.h
>

38 
	~<vos_c⁄fig.h
>

39 
	~<vos_io.h
>

40 
	~<vos_hash.h
>

41 
	~<vos_ma¸os.h
>

42 
	~<vos_thªad.h
>

43 
	~<vos_sync.h
>

44 
	~<vos_libc.h
>

50 
	#CFG_NOT_FLUSHED
 0

	)

51 
	#CFG_FLUSHED
 1

	)

53 
	#CONFIG_TMP_FILE1
 "/tmp/tmpC⁄fig1%08X"

	)

54 
	#CONFIG_TMP_FILE2
 "/tmp/tmpC⁄fig2%08X"

	)

55 
	#CONFIG_TMP_FILE3
 "/tmp/tmpC⁄fig3%08X"

	)

56 
	#CONFIG_TMP_FILE4
 "/tmp/tmpC⁄fig4%08X"

	)

57 
	#CONFIG_TMP_FILE5
 "/tmp/tmpC⁄fig5%08X"

	)

62 
	sCFG_KEY_DATA_s
 {

63 
uöt32
 
	mÊag
;

64 *
	md©a
;

65 } 
	tCFG_KEY_DATA_t
;

67 
	sCFG_SECTION_DATA_s
 {

68 
uöt32
 
	mÊag
;

69 
HASH_TABLE_t
 *
	mkeys
;

70 } 
	tCFG_SECTION_DATA_t
;

72 
	sCFG_MODULE_DATA_s
 {

73 
HASH_TABLE_t
 *
	m£˘i⁄s
;

74 } 
	tCFG_MODULE_DATA_t
;

76 
HASH_TABLE_t
 * 
	gg_p°C⁄figD©aba£
;

77 * 
	gg_pcC⁄figDeÁu…P©h
 = "/cfg";

78 * 
	gg_pcC⁄figFûeExt
 = "*.conf";

80 
VOS_MUTEX_t
 
	gg_p°C⁄figLock
;

81 
VOS_MUTEX_t
 
	gg_p°SaveEø£Lock
;

87 
vosC⁄figModuÀDe°roy
(*
key
, *
vÆue
);

88 
vosC⁄figSe˘i⁄De°roy
(*
key
, *
vÆue
);

89 
vosC⁄figKeyDe°roy
(*
key
, *
vÆue
);

90 *
åim
(c⁄° *
°r
);

91 
vosC⁄figFlushKeyRe£t
(* 
key
,* 
vÆue
);

92 
vosC⁄figFlushSe˘i⁄Re£t
(* 
key
,* 
vÆue
);

93 
uöt32
 
vosC⁄figFlushKeyAµíd
(* 
key
,* 
vÆue
, 
FILE
 *
°ªam
);

94 
uöt32
 
vosC⁄figFlushSe˘i⁄Aµíd
(* 
key
,* 
vÆue
, 
FILE
 *
°ªam
);

95 
vosC⁄figFlushF‹EachModuÀ
(* 
key
,* 
vÆue
);

96 
vosC⁄figShowF‹EachKey
(* 
key
,* 
vÆue
, 
fd
);

97 
vosC⁄figShowF‹EachSe˘i⁄
(* 
key
,* 
vÆue
, 
fd
);

98 
vosC⁄figShowF‹EachModuÀ
(* 
key
,* 
vÆue
, 
fd
);

122 
	$vosC⁄figRódFromFœsh
(*
toFûeName
)

124 
FILE
 *
pFûe
;

125 *
pcC⁄figD©a
 = 
NULL
;

126 
nRódByãs
,
nWrŸeByãs
;

127 
ulFûeLí
, 
ulFûeChsum
;

128 
acSåög
[128], 
acComm™d
[128];

130 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

132 
nRódByãs
 = 
	`vosFûeRód
(
FLASH_DEV_NAME_CFG
, &
pcC⁄figD©a
);

134 
ulFûeLí
 = 0;

135 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_LEN_OFFSET
 + 8))

137 
	`vosMemCpy
(&
acSåög
[2], &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_LEN_OFFSET
], 8);

138 
acSåög
[0] = '0';

139 
acSåög
[1] = 'x';

140 
acSåög
[10] = 0;

141 
ulFûeLí
 = 
	`vosSåToUI¡
(
acSåög
, 
NULL
);

144 
ulFûeChsum
 = 0;

145 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8))

147 
	`vosMemCpy
(&
acSåög
[2], &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
], 8);

148 
acSåög
[0] = '0';

149 
acSåög
[1] = 'x';

150 
acSåög
[10] = 0;

151 
ulFûeChsum
 = 
	`vosSåToUI¡
(
acSåög
, 
NULL
);

154 i‡(((
ulFûeLí
 + 
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8Ë<
nRódByãs
) &&

155 (
OK
 =
	`vosCheckCRC
(&
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8], 
ulFûeLí
, 
ulFûeChsum
)))

157 i‡(
toFûeName
)

159 
nWrŸeByãs
 = 
	`vosFûeWrôe
(
toFûeName
, &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8], 
ulFûeLí
);

160 i‡(
ulFûeLí
 !
nWrŸeByãs
)

163 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
toFûeName
);

164 
	`vosSy°em
(
acComm™d
);

165 
exô_œbñ
;

169 
nWrŸeByãs
 = 
	`vosFûeWrôe
("/cfg.èr.gz", &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8], 
ulFûeLí
);

170 i‡(
ulFûeLí
 !
nWrŸeByãs
)

173 
	`vosSy°em
("rm -f /cfg.tar.gz");

174 
exô_œbñ
;

177 
	`vosSy°em
("cd /");

178 
	`vosSy°em
("tar zxf cfg.tar.gz");

179 
	`vosSy°em
("rm -f /cfg.tar.gz");

183 
	`¥ötf
("vosConfigReadFromFlash: invalid fileÜength or CRCÉrror\r\n");

186 
exô_œbñ
:

187 
	`vosFªe
(
pcC⁄figD©a
);

188 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

190 
	}
}

210 
	$vosC⁄figInô
()

212 
VOS_DIR_t
 * 
pDú
;

213 
FILE
 *
pFûe
;

214 *
pcC⁄figD©a
 = 
NULL
;

215 
nRódByãs
,
nWrŸeByãs
;

216 
ulFûeLí
, 
ulFûeChsum
;

217 
acSåög
[128], 
acComm™d
[128];

219 i‡(
VOS_MUTEX_OK
 !
	`vosMuãxCª©e
(&
g_p°C⁄figLock
))

221 
	`¥ötf
("vosConfigInit: create config mutex failed.\r\n");

225 i‡(
VOS_MUTEX_OK
 !
	`vosMuãxCª©e
(&
g_p°SaveEø£Lock
))

227 
	`¥ötf
("vosConfigInit: create saveándÉrase mutex failed.\r\n");

232 
pDú
 = 
	`vosO≥nDú
(
g_pcC⁄figDeÁu…P©h
);

233 i‡(
pDú
 =
NULL
)

235 
	`vosMakeDú
(
g_pcC⁄figDeÁu…P©h
);

239 
	`vosClo£Dú
(
pDú
);

242 
nRódByãs
 = 
	`vosFûeRód
(
FLASH_DEV_NAME_CFG
, &
pcC⁄figD©a
);

245 i‡(
nRódByãs
 > 
FLASH_BOOT_FLAG_MAX
)

247 i‡(
FLASH_BOOT_OS2_FLAG
 =
pcC⁄figD©a
[
FLASH_BOOT_FLAG_UPGRADE
])

250 i‡(
FLASH_BOOT_OS2_FLAG
 =
pcC⁄figD©a
[
FLASH_BOOT_FLAG_NORMAL
])

252 
pcC⁄figD©a
[
FLASH_BOOT_FLAG_NORMAL
] = 
FLASH_BOOT_OS1_FLAG
;

255 
pcC⁄figD©a
[
FLASH_BOOT_FLAG_NORMAL
] = 
FLASH_BOOT_OS2_FLAG
;

258 
pcC⁄figD©a
[
FLASH_BOOT_FLAG_UPGRADE
] = 
FLASH_BOOT_OS1_FLAG
;

260 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE1
, ()
	`vosThªadSñf
());

261 
nWrŸeByãs
 = 
	`vosFûeWrôe
(
acSåög
, 
pcC⁄figD©a
, 
nRódByãs
);

262 i‡(
nRódByãs
 !
nWrŸeByãs
)

265 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

266 
	`vosSy°em
(
acComm™d
);

267 
exô_œbñ
;

271 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê%†%s", 
acSåög
, 
FLASH_DEV_NAME_CFG
);

272 
	`vosSy°em
(
acComm™d
);

275 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

276 
	`vosSy°em
(
acComm™d
);

281 i‡(
nRódByãs
 <
FLASH_BOOT_FLAG_MAX
 || 
FLASH_BOOT_OS1_FLAG
 !
pcC⁄figD©a
[
FLASH_BOOT_FLAG_UPGRADE
])

284 
	`vosC⁄figBoŸFœgSë
(
FLASH_BOOT_FLAG_NORMAL
, 
FLASH_BOOT_OS1_FLAG
);

285 
	`vosC⁄figBoŸFœgSë
(
FLASH_BOOT_FLAG_UPGRADE
, 
FLASH_BOOT_OS1_FLAG
);

288 
ulFûeLí
 = 0;

289 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_LEN_OFFSET
 + 8))

291 
	`vosMemCpy
(&
acSåög
[2], &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_LEN_OFFSET
], 8);

292 
acSåög
[0] = '0';

293 
acSåög
[1] = 'x';

294 
acSåög
[10] = 0;

295 
ulFûeLí
 = 
	`vosSåToUI¡
(
acSåög
, 
NULL
);

298 
ulFûeChsum
 = 0;

299 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8))

301 
	`vosMemCpy
(&
acSåög
[2], &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
], 8);

302 
acSåög
[0] = '0';

303 
acSåög
[1] = 'x';

304 
acSåög
[10] = 0;

305 
ulFûeChsum
 = 
	`vosSåToUI¡
(
acSåög
, 
NULL
);

308 i‡(((
ulFûeLí
 + 
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8Ë<
nRódByãs
) &&

309 (
OK
 =
	`vosCheckCRC
(&
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8], 
ulFûeLí
, 
ulFûeChsum
)))

314 
nWrŸeByãs
 = 
	`vosFûeWrôe
("/cfg.tar.gz",

315 &
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8], 
ulFûeLí
);

316 i‡(
ulFûeLí
 !
nWrŸeByãs
)

319 
	`vosSy°em
("rm -f /cfg.tar.gz");

320 
exô_œbñ
;

323 
	`vosSy°em
("cd /");

324 
	`vosSy°em
("tar zxf cfg.tar.gz");

325 
	`vosSy°em
("rm -f /cfg.tar.gz");

339 
exô_œbñ
:

340 i‡(!
g_p°C⁄figD©aba£
) {

341 
g_p°C⁄figD©aba£
 = 
	`vosHashCª©e
(

342 
vosSåögHash
,

343 
vosEquÆSåög
,

344 
vosC⁄figModuÀDe°roy
,

346 
	`vosFªe
(
pcC⁄figD©a
);

347  
	`vosC⁄figRe‰esh
();

350 
	`vosFªe
(
pcC⁄figD©a
);

352 
	}
}

354 
	$vosC⁄figModuÀDe°roy
(*
key
, *
vÆue
)

356 *
k
 = 
key
;

357 
CFG_MODULE_DATA_t
 *
v
 = 
vÆue
;

358 
	`vosFªe
(
k
);

359 
	`vosHashFªe
(
v
->
£˘i⁄s
);

360 
	`vosFªe
(
v
);

361 
	}
}

363 
	$vosC⁄figSe˘i⁄De°roy
(*
key
, *
vÆue
)

365 *
k
 = 
key
;

366 
CFG_SECTION_DATA_t
 *
v
 = 
vÆue
;

367 
	`vosFªe
(
k
);

368 
	`vosHashFªe
(
v
->
keys
);

369 
	`vosFªe
(
v
);

370 
	}
}

372 
	$vosC⁄figKeyDe°roy
(*
key
, *
vÆue
)

374 *
k
 = 
key
;

375 
CFG_KEY_DATA_t
 *
v
 = 
vÆue
;

376 
	`vosFªe
(
k
);

377 
	`vosFªe
(
v
->
d©a
);

378 
	`vosFªe
(
v
);

379 
	}
}

399 
	$vosC⁄figDe°roy
()

401 i‡(
g_p°C⁄figD©aba£
) {

402 
	`vosHashFªe
(
g_p°C⁄figD©aba£
);

406 
	}
}

408 
	$vosC⁄figBoŸFœgSë
(
uöt8
 
off£t
, uöt8 
vÆue
)

410 
FILE
 *
pFûe
;

411 *
pcC⁄figD©a
 = 
NULL
;

412 
nRódByãs
,
nWrŸeByãs
;

413 
acSåög
[128], 
acComm™d
[128];

414 
rv
 = 0;

416 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

418 
nRódByãs
 = 
	`vosFûeRód
(
FLASH_DEV_NAME_CFG
, &
pcC⁄figD©a
);

420 i‡(
nRódByãs
 > 
off£t
)

422 
pcC⁄figD©a
[
off£t
] = 
vÆue
;

425 
rv
 = -1;

426 
exô_œbñ
;

429 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE1
, ()
	`vosThªadSñf
());

430 
nWrŸeByãs
 = 
	`vosFûeWrôe
(
acSåög
, 
pcC⁄figD©a
, 
nRódByãs
);

431 i‡(
nRódByãs
 !
nWrŸeByãs
)

434 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

435 
	`vosSy°em
(
acComm™d
);

436 
rv
 = -1;

437 
exô_œbñ
;

442 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê%†%s", 
acSåög
, 
FLASH_DEV_NAME_CFG
);

443 
rv
 = 
	`vosSy°em
(
acComm™d
);

449 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

450 
	`vosSy°em
(
acComm™d
);

452 
exô_œbñ
:

453 
	`vosFªe
(
pcC⁄figD©a
);

454 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

455  
rv
;

456 
	}
}

458 
uöt8
 
	$vosC⁄figBoŸFœgGë
(
uöt8
 
off£t
)

460 
FILE
 *
pFûe
;

461 
ch
, 
cou¡
 = 0;

462 
uöt8
 
rv
 = 
INVALID_8
;

464 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

466 
pFûe
 = 
	`f›í
(
FLASH_DEV_NAME_CFG
, "rb");

467 i‡(
pFûe
 =
NULL
)

469 
exô_œbñ
;

472 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

474 
cou¡
++;

475 i‡(
cou¡
 > 
off£t
)

477 
	`f˛o£
(
pFûe
);

478 
rv
 = (
uöt8
)
ch
;

479 
exô_œbñ
;

483 
	`f˛o£
(
pFûe
);

485 
exô_œbñ
:

486 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

487  
rv
;

488 
	}
}

490 
	$vosC⁄figFûeLígthSë
(
uöt32
 
vÆue
)

492 
FILE
 *
pFûe
;

493 *
pcC⁄figD©a
 = 
NULL
;

494 
nRódByãs
,
nWrŸeByãs
;

495 
acSåög
[128], 
acComm™d
[128];

496 
rv
 = 0;

498 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

500 
nRódByãs
 = 
	`vosFûeRód
(
FLASH_DEV_NAME_CFG
, &
pcC⁄figD©a
);

502 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_LEN_OFFSET
 + 8))

504 
	`vosS¥ötf
(&
pcC⁄figD©a
[
FLASH_CONFIG_FILE_LEN_OFFSET
], "%08X", 
vÆue
);

507 
rv
 = -1;

508 
exô_œbñ
;

511 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE1
, ()
	`vosThªadSñf
());

512 
nWrŸeByãs
 = 
	`vosFûeWrôe
(
acSåög
, 
pcC⁄figD©a
, 
nRódByãs
);

513 i‡(
nRódByãs
 !
nWrŸeByãs
)

516 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

517 
	`vosSy°em
(
acComm™d
);

518 
rv
 = -1;

519 
exô_œbñ
;

523 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê%†%s", 
acSåög
, 
FLASH_DEV_NAME_CFG
);

524 
rv
 = 
	`vosSy°em
(
acComm™d
);

527 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

528 
	`vosSy°em
(
acComm™d
);

530 
exô_œbñ
:

531 
	`vosFªe
(
pcC⁄figD©a
);

532 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

533  
rv
;

534 
	}
}

536 
uöt32
 
	$vosC⁄figFûeLígthGë
()

538 
FILE
 *
pFûe
;

539 
ch
, 
cou¡
 = 0;

540 
buf
[
FLASH_CONFIG_FILE_LEN_OFFSET
 + 8 + 1] = {0};

541 
uöt32
 
rv
 = 0;

543 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

545 
pFûe
 = 
	`f›í
(
FLASH_DEV_NAME_CFG
, "rb");

546 i‡(
pFûe
 =
NULL
)

548 
exô_œbñ
;

551 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

553 
cou¡
++;

554 i‡(
cou¡
 > (
FLASH_CONFIG_FILE_LEN_OFFSET
 + 8))

556 
buf
[
cou¡
 - 1] = 0;

557 
buf
[
FLASH_CONFIG_FILE_LEN_OFFSET
-2] = '0';

558 
buf
[
FLASH_CONFIG_FILE_LEN_OFFSET
-1] = 'x';

559 
	`f˛o£
(
pFûe
);

560 
rv
 = 
	`vosSåToUI¡
(&
buf
[
FLASH_CONFIG_FILE_LEN_OFFSET
-2], 
NULL
);

561 
exô_œbñ
;

563 
buf
[
cou¡
 - 1] = ()
ch
;

566 
	`f˛o£
(
pFûe
);

568 
exô_œbñ
:

569 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

570  
rv
;

571 
	}
}

574 
	$vosC⁄figFûeCheckSumSë
(
uöt32
 
vÆue
)

576 
FILE
 *
pFûe
;

577 *
pcC⁄figD©a
 = 
NULL
;

578 
nRódByãs
,
nWrŸeByãs
;

579 
acSåög
[128], 
acComm™d
[128];

580 
rv
 = 0;

582 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

584 
nRódByãs
 = 
	`vosFûeRód
(
FLASH_DEV_NAME_CFG
, &
pcC⁄figD©a
);

586 i‡(
nRódByãs
 > (
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8))

588 
	`vosS¥ötf
(&
pcC⁄figD©a
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
], "%08X", 
vÆue
);

591 
rv
 = -1;

592 
exô_œbñ
;

595 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE1
, ()
	`vosThªadSñf
());

596 
nWrŸeByãs
 = 
	`vosFûeWrôe
(
acSåög
, 
pcC⁄figD©a
, 
nRódByãs
);

597 i‡(
nRódByãs
 !
nWrŸeByãs
)

600 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

601 
	`vosSy°em
(
acComm™d
);

602 
rv
 = -1;

603 
exô_œbñ
;

607 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê%†%s", 
acSåög
, 
FLASH_DEV_NAME_CFG
);

608 
rv
 = 
	`vosSy°em
(
acComm™d
);

611 
	`vosS¥ötf
(
acComm™d
, "rm -‡%s", 
acSåög
);

612 
	`vosSy°em
(
acComm™d
);

614 
exô_œbñ
:

615 
	`vosFªe
(
pcC⁄figD©a
);

616 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

617  
rv
;

618 
	}
}

620 
uöt32
 
	$vosC⁄figFûeCheckSumGë
()

622 
FILE
 *
pFûe
;

623 
ch
, 
cou¡
 = 0;

624 
buf
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8 + 1] = {0};

625 
uöt32
 
rv
 = 0;

627 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

629 
pFûe
 = 
	`f›í
(
FLASH_DEV_NAME_CFG
, "rb");

630 i‡(
pFûe
 =
NULL
)

632 
exô_œbñ
;

635 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

637 
cou¡
++;

638 i‡(
cou¡
 > (
FLASH_CONFIG_FILE_CHSUM_OFFSET
 + 8))

640 
buf
[
cou¡
 - 1] = 0;

641 
buf
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
-2] = '0';

642 
buf
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
-1] = 'x';

643 
	`f˛o£
(
pFûe
);

644 
rv
 = 
	`vosSåToUI¡
(&
buf
[
FLASH_CONFIG_FILE_CHSUM_OFFSET
-2], 
NULL
);

645 
exô_œbñ
;

647 
buf
[
cou¡
 - 1] = ()
ch
;

650 
	`f˛o£
(
pFûe
);

652 
exô_œbñ
:

653 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

654  
rv
;

655 
	}
}

665 
	$vosC⁄figSave
(*
‚ame
)

667 
acSåög
[128], 
acComm™d
[128];

668 
uöt8
 
boŸFœg
, 
upgødeFœg
;

669 *
pcC⁄figD©a
 = 
NULL
;

670 
uöt32
 
fûeSize
 = 0;

671 
uöt32
 
¸c
 = 0;

673 
boŸFœg
 = 
	`vosC⁄figBoŸFœgGë
(
FLASH_BOOT_FLAG_NORMAL
);

674 
upgødeFœg
 = 
	`vosC⁄figBoŸFœgGë
(
FLASH_BOOT_FLAG_UPGRADE
);

676 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

679 
	`vosSy°em
("mtdÉø£ "
FLASH_DEV_NAME_CFG
);

681 
	`îa£_∑πôi⁄
(
FLASH_DEV_NAME_CFG
);

684 i‡(
‚ame
)

686 
fûeSize
 = 
	`vosFûeRód
(
‚ame
, &
pcC⁄figD©a
);

687 i‡(
fûeSize
 > 0)

689 
¸c
 = 
	`vosCRC32
(
pcC⁄figD©a
, 
fûeSize
);

691 
	`vosFªe
(
pcC⁄figD©a
);

693 
	`vosS¥ötf
(
acComm™d
, "awk 'BEGIN{Örötf(\"%c%c%08X%08X\"Ë> \""
CONFIG_TMP_FILE2
"\";}'",

694 
boŸFœg
, 
upgødeFœg
, 
fûeSize
, 
¸c
, ()
	`vosThªadSñf
());

695 
	`vosSy°em
(
acComm™d
);

697 
	`vosS¥ötf
(
acComm™d
, "ˇà"
CONFIG_TMP_FILE2
" %†> "
CONFIG_TMP_FILE4
,

698 ()
	`vosThªadSñf
(),
‚ame
,()vosThreadSelf());

699 
	`vosSy°em
(
acComm™d
);

702 
	`vosC⁄figFlush
();

704 
	`vosS¥ötf
(
acComm™d
, "è∏cz‡"
CONFIG_TMP_FILE3
" -C / cfg", ()
	`vosThªadSñf
());

705 
	`vosSy°em
(
acComm™d
);

707 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE3
, ()
	`vosThªadSñf
());

708 
fûeSize
 = 
	`vosFûeRód
(
acSåög
, &
pcC⁄figD©a
);

709 i‡(
fûeSize
 > 0)

711 
¸c
 = 
	`vosCRC32
(
pcC⁄figD©a
, 
fûeSize
);

713 
	`vosFªe
(
pcC⁄figD©a
);

715 
	`vosS¥ötf
(
acComm™d
, "awk 'BEGIN{Örötf(\"%c%c%08X%08X\"Ë> \""
CONFIG_TMP_FILE2
"\";}'",

716 
boŸFœg
, 
upgødeFœg
, 
fûeSize
, 
¸c
, ()
	`vosThªadSñf
());

717 
	`vosSy°em
(
acComm™d
);

719 
	`vosS¥ötf
(
acComm™d
, "ˇà"
CONFIG_TMP_FILE2
" "
CONFIG_TMP_FILE3
" > "
CONFIG_TMP_FILE4
,

720 ()
	`vosThªadSñf
(),()vosThreadSelf(),()vosThreadSelf());

721 
	`vosSy°em
(
acComm™d
);

724 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê"
CONFIG_TMP_FILE4
" %s", ()
	`vosThªadSñf
(), 
FLASH_DEV_NAME_CFG
);

725 
	`vosSy°em
(
acComm™d
);

728 
	`vosS¥ötf
(
acComm™d
, "rm -‡"
CONFIG_TMP_FILE2
, ()
	`vosThªadSñf
());

729 
	`vosSy°em
(
acComm™d
);

730 
	`vosS¥ötf
(
acComm™d
, "rm -‡"
CONFIG_TMP_FILE3
, ()
	`vosThªadSñf
());

731 
	`vosSy°em
(
acComm™d
);

732 
	`vosS¥ötf
(
acComm™d
, "rm -‡"
CONFIG_TMP_FILE4
, ()
	`vosThªadSñf
());

733 
	`vosSy°em
(
acComm™d
);

735 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

737 
	}
}

739 
	$vosC⁄figExp‹t
(*
‚ame
)

741 
acComm™d
[128];

743 
	`vosC⁄figFlush
();

745 
	`vosS¥ötf
(
acComm™d
, "è∏cz‡%†-C / cfg", 
‚ame
);

746 
	`vosSy°em
(
acComm™d
);

749 
	}
}

752 
	$vosC⁄figDñëeF‹EachModuÀ
(*
key
, *
vÆue
)

754 i‡(
key
) {

755  
	`vosC⁄figModuÀDñëe
((*)
key
);

758 
	`vosPrötk
("InputáÇullÖointerÅo delete file\r\n");

761 
	}
}

771 
	$vosC⁄figEø£
()

773 
acSåög
[128], 
acComm™d
[128];

774 
uöt8
 
boŸFœg
, 
upgødeFœg
;

775 *
pcC⁄figD©a
 = 
NULL
;

776 
uöt32
 
fûeSize
 = 0;

777 
uöt32
 
¸c
 = 0;

779 
boŸFœg
 = 
	`vosC⁄figBoŸFœgGë
(
FLASH_BOOT_FLAG_NORMAL
);

780 
upgødeFœg
 = 
	`vosC⁄figBoŸFœgGë
(
FLASH_BOOT_FLAG_UPGRADE
);

782 
	`vosMuãxTake
(&
g_p°SaveEø£Lock
);

785 
	`vosSy°em
("mv /cfg/loid.conf /tmp/loid.conf");

789 i‡(
g_p°C⁄figD©aba£
)

791 
	`vosHashF‹EachDo
(
g_p°C⁄figD©aba£
, 
vosC⁄figDñëeF‹EachModuÀ
);

794 
	`vosSy°em
("rm -rf /cfg");

798 
	`vosSy°em
("mkdir /cfg");

799 
	`vosSy°em
("mv /tmp/loid.conf /cfg/");

801 
	`vosSy°em
("cp /etc/config.xml /cfg/");

805 
	`vosSy°em
("mtdÉø£ "
FLASH_DEV_NAME_CFG
);

807 
	`îa£_∑πôi⁄
(
FLASH_DEV_NAME_CFG
);

810 
	`vosS¥ötf
(
acComm™d
, "è∏cz‡"
CONFIG_TMP_FILE3
" -C / cfg", ()
	`vosThªadSñf
());

811 
	`vosSy°em
(
acComm™d
);

813 
	`vosS¥ötf
(
acSåög
, 
CONFIG_TMP_FILE3
, ()
	`vosThªadSñf
());

814 
fûeSize
 = 
	`vosFûeRód
(
acSåög
, &
pcC⁄figD©a
);

815 i‡(
fûeSize
 > 0)

817 
¸c
 = 
	`vosCRC32
(
pcC⁄figD©a
, 
fûeSize
);

819 
	`vosFªe
(
pcC⁄figD©a
);

821 
	`vosS¥ötf
(
acComm™d
, "awk 'BEGIN{Örötf(\"%c%c%08X%08X\"Ë> \""
CONFIG_TMP_FILE2
"\";}'",

822 
boŸFœg
, 
upgødeFœg
, 
fûeSize
, 
¸c
, ()
	`vosThªadSñf
());

823 
	`vosSy°em
(
acComm™d
);

825 
	`vosS¥ötf
(
acComm™d
, "ˇà"
CONFIG_TMP_FILE2
" "
CONFIG_TMP_FILE3
" > "
CONFIG_TMP_FILE4
,

826 ()
	`vosThªadSñf
(),()vosThreadSelf(),()vosThreadSelf());

827 
	`vosSy°em
(
acComm™d
);

829 
	`vosS¥ötf
(
acComm™d
, "mtd wrôê"
CONFIG_TMP_FILE4
" %s", ()
	`vosThªadSñf
(), 
FLASH_DEV_NAME_CFG
);

830 
	`vosSy°em
(
acComm™d
);

832 
	`vosMuãxGive
(&
g_p°SaveEø£Lock
);

835 
	}
}

838 * 
	$åim
(c⁄° *
°r
)

840 c⁄° *
p
 = 
°r
;

841 *
ªsu…
;

842 
size_t
 
Àn
;

844 
	`as£π
(
p
 !
NULL
);

846 *
p
 == ' ' || *p == '\t')

847 
p
++;

849 
Àn
 = 
	`vosSåLí
(
p
) + 1;

850 
ªsu…
 = (*)
	`vosAŒoc
(
Àn
);

851 
ªsu…
[0] = 0;

852 
	`vosSa„SåNCpy
(
ªsu…
, 
p
, 
Àn
);

854 
ªsu…
[
	`vosSåLí
(result) - 1] == ' ' ||

855 
ªsu…
[
	`vosSåLí
(result) - 1] == '\t' ||

856 
ªsu…
[
	`vosSåLí
(result) - 1] == '\r') {

857 
ªsu…
[
	`vosSåLí
(result) - 1] = '\0';

860  
ªsu…
;

861 
	}
}

882 
	$vosC⁄figRe‰eshByModuÀ
(*
‚ame
)

884 
FILE
 *
Â
;

885 *
löe
, *
p
, *
£˘i⁄
 = 
NULL
, *
key
, *
vÆue
;

886 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

887 
CFG_SECTION_DATA_t
 *
t£˘i⁄
 = 
NULL
;

888 
CFG_KEY_DATA_t
 *
tkey
;

889 
rv
 = 0;

891 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

893 i‡(
g_p°C⁄figD©aba£
 =
NULL
) {

894 
rv
 = -1;

895 
exô_œbñ
;

898 i‡(
‚ame
 =
NULL
) {

899 
rv
 = -1;

900 
exô_œbñ
;

903 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

904 i‡(
tmoduÀ
 =
NULL
) {

905 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosAŒoc
((CFG_MODULE_DATA_t));

906 
	`ASSERT
(
tmoduÀ
 !
NULL
, "module is NULL");

907 
tmoduÀ
->
£˘i⁄s
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figSe˘i⁄De°roy
, 0);

908 
	`vosHashIn£π
(
	`vosSåDup
(
‚ame
), 
tmoduÀ
, 
g_p°C⁄figD©aba£
);

911 
Â
 = 
	`vosFO≥n
(
‚ame
, "r");

912 i‡(
Â
 =
NULL
)

914 
rv
 = -1;

915 
exô_œbñ
;

918 !
	`„of
(
Â
)) {

919 
löe
 = 
	`vosFGëWhﬁeLöe
(
Â
);

920 i‡(
löe
 =
NULL
)

923 
p
 = 
löe
;

924 *
p
 == ' ' || *p == '\t')

925 
p
++;

928 i‡(*
p
 == '#' || *p == ';') {

929 
	`vosFªe
(
löe
);

934 i‡(*
p
 == '[') {

935 *
quŸed
 = 
	`°rchr
(++
p
, ']');

936 i‡(
quŸed
 !
NULL
) {

937 *
ﬁd_£˘i⁄
 = 
£˘i⁄
;

938 *
quŸed
 = '\0';

939 
£˘i⁄
 = 
	`åim
(
p
);

940 i‡(
	`°æí
(
£˘i⁄
) == 0) {

941 
	`vosFªe
(
£˘i⁄
);

942 
£˘i⁄
 = 
ﬁd_£˘i⁄
;

945 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

946 i‡(
t£˘i⁄
 =
NULL
) {

947 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosAŒoc
((CFG_SECTION_DATA_t));

948 
t£˘i⁄
->
keys
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figKeyDe°roy
, 0);

949 
t£˘i⁄
->
Êag
 = 
CFG_NOT_FLUSHED
;

950 
	`vosHashIn£π
(
£˘i⁄
, 
t£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

954 
	`vosFªe
(
löe
);

959 i‡(
t£˘i⁄
 =
NULL
) {

960 
	`vosFªe
(
löe
);

964 
vÆue
 = 
	`°rchr
(
p
, '=');

965 i‡(
vÆue
 =
NULL
) {

966 
	`vosFªe
(
löe
);

970 *
vÆue
++ = '\0';

971 
key
 = 
	`åim
(
p
);

973 
p
 = 
vÆue
;

974 
vÆue
 = 
	`åim
(
p
);

976 
tkey
 = (
CFG_KEY_DATA_t
 *)
	`vosAŒoc
((CFG_KEY_DATA_t));

977 
tkey
->
d©a
 = 
vÆue
;

978 
tkey
->
Êag
 = 
CFG_NOT_FLUSHED
;

980 
	`vosHashIn£π
(
key
, 
tkey
, 
t£˘i⁄
->
keys
);

981 
	`vosFªe
(
löe
);

984 
	`vosFClo£
(
Â
);

986 #ifde‡
DEBUG


987 
	`vosPrötk
("fûe: %s\r\n", 
‚ame
);

988 
	`vosHashF‹EachDoCb
(
tmoduÀ
->
£˘i⁄s
,

989 
vosC⁄figShowF‹EachSe˘i⁄
, (
uöt32
)
STDOUT_FILENO
, 4, 5, 6, 7, 8);

992 
exô_œbñ
:

993 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

994  
rv
;

995 
	}
}

1016 
	$vosC⁄figRe‰esh
()

1019 
	`vosSˇnDúFûes
(
g_pcC⁄figDeÁu…P©h
, 
g_pcC⁄figFûeExt
, 
vosC⁄figRe‰eshByModuÀ
);

1022 
	}
}

1024 
	$vosC⁄figFlushKeyRe£t
(* 
key
,* 
vÆue
)

1026 
CFG_KEY_DATA_t
 *
tkey
 = (CFG_KEY_DATA_à*)
vÆue
;

1027 i‡(
tkey
) {

1028 
tkey
->
Êag
 = 
CFG_NOT_FLUSHED
;

1030 
	}
}

1032 
	$vosC⁄figFlushSe˘i⁄Re£t
(* 
key
,* 
vÆue
)

1034 
CFG_SECTION_DATA_t
 *
t£˘i⁄
 = (CFG_SECTION_DATA_à*)
vÆue
;

1035 i‡(
t£˘i⁄
) {

1036 
t£˘i⁄
->
Êag
 = 
CFG_NOT_FLUSHED
;

1037 
	`vosHashF‹EachDo
(
t£˘i⁄
->
keys
, 
vosC⁄figFlushKeyRe£t
);

1039 
	}
}

1041 
uöt32
 
	$vosC⁄figFlushKeyAµíd
(* 
key
,* 
vÆue
, 
FILE
 *
°ªam
)

1043 
CFG_KEY_DATA_t
 *
tkey
 = (CFG_KEY_DATA_à*)
vÆue
;

1044 i‡(
tkey
 &&Åkey->
Êag
 =
CFG_NOT_FLUSHED
) {

1045 
	`Ârötf
(
°ªam
, "%s=%s\n", (*)
key
, (*)
tkey
->
d©a
);

1046 
tkey
->
Êag
 = 
CFG_FLUSHED
;

1048 
	}
}

1050 
uöt32
 
	$vosC⁄figFlushSe˘i⁄Aµíd
(* 
key
,* 
vÆue
, 
FILE
 *
°ªam
)

1052 
CFG_SECTION_DATA_t
 *
d©a
 = (CFG_SECTION_DATA_à*)
vÆue
;

1053 i‡(
d©a
 && d©a->
Êag
 =
CFG_NOT_FLUSHED
) {

1054 
d©a
->
Êag
 = 
CFG_FLUSHED
;

1055 
	`Ârötf
(
°ªam
, "[%s]\n", (*)
key
);

1056 
	`vosHashF‹EachDoCb
(
d©a
->
keys
,

1057 (
FUNCPTR
)
vosC⁄figFlushKeyAµíd
, (
uöt32
)
°ªam
, 4, 5, 6, 7, 8);

1059 
	}
}

1082 
	$vosC⁄figFlushByModuÀ
(*
‚ame
)

1084 
rv
 = 0;

1085 
FILE
 *
Â
;

1086 
CFG_MODULE_DATA_t
 *
tmoduÀ
 = 
NULL
;

1088 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1090 i‡(
‚ame
 =
NULL
 ||

1091 (
‚ame
 !
NULL
 && fname[0] == 0)) {

1092 
	`vosPrötk
("vosConfigFlush: config fileÇame isÇull\r\n");

1093 
rv
 = -1;

1094 
exô_œbñ
;

1097 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1099 
	`vosPrötk
("vosConfigFlush: config database isÇull\r\n");

1100 
rv
 = -2;

1101 
exô_œbñ
;

1104 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1105 i‡(
tmoduÀ
 =
NULL
)

1107 
	`vosPrötk
("vosConfigFlush: module isÇull\r\n");

1108 
rv
 = -3;

1109 
exô_œbñ
;

1112 
	`vosHashF‹EachDo
(
tmoduÀ
->
£˘i⁄s
, 
vosC⁄figFlushSe˘i⁄Re£t
);

1116 
Â
 = 
	`vosFO≥n
(
‚ame
, "w");

1117 i‡(
Â
 =
NULL
) {

1118 
	`vosPrötk
("vosC⁄figFlush: c™nŸ wrôêfûe: %s\r\n", 
‚ame
);

1119 
rv
 = -4;

1120 
exô_œbñ
;

1126 
	`vosHashF‹EachDoCb
(
tmoduÀ
->
£˘i⁄s
,

1127 (
FUNCPTR
)
vosC⁄figFlushSe˘i⁄Aµíd
, (
uöt32
)
Â
, 4, 5, 6, 7, 8);

1129 
	`vosFClo£
(
Â
);

1131 
exô_œbñ
:

1132 i‡(
rv
 < 0) {

1133 
	`vosPrötk
("vosConfigFlush: variablesÇot saved\r\n");

1135 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1136  
rv
;

1137 
	}
}

1140 
	$vosC⁄figFlushF‹EachModuÀ
(*
key
, *
vÆue
)

1142 i‡(
key
) {

1143  
	`vosC⁄figFlushByModuÀ
((*)
key
);

1146 
	`vosPrötk
("InputáÇullÖointerÅo flush file\r\n");

1149 
	}
}

1169 
	$vosC⁄figFlush
()

1171 i‡(
g_p°C⁄figD©aba£
)

1173 
	`vosHashF‹EachDo
(
g_p°C⁄figD©aba£
, 
vosC⁄figFlushF‹EachModuÀ
);

1177 
	}
}

1179 
	$vosC⁄figShowF‹EachKey
(*
key
, *
vÆue
, 
fd
)

1181 
CFG_KEY_DATA_t
 *
tkey
 = (CFG_KEY_DATA_à*)
vÆue
;

1182 i‡(
tkey
 &&Åkey->
d©a
)

1184 
	`vosPrötf
(
fd
, " %-20†: %s\r\n", (*)
key
, (*)
tkey
->
d©a
);

1186 
	}
}

1189 
	$vosC⁄figShowF‹EachSe˘i⁄
(*
key
, *
vÆue
, 
fd
)

1191 
CFG_SECTION_DATA_t
 *
t£˘i⁄
 = (CFG_SECTION_DATA_à*)
vÆue
;

1192 
	`vosPrötf
(
fd
, " [%s]\r\n", (*)
key
);

1193 i‡(
t£˘i⁄
 &&Å£˘i⁄->
keys
) {

1194 
	`vosHashF‹EachDoCb
(
t£˘i⁄
->
keys
,

1195 (
FUNCPTR
)
vosC⁄figShowF‹EachKey
, (
uöt32
)
fd
, 4, 5, 6, 7, 8);

1197 
	}
}

1199 
	$vosC⁄figShowF‹EachModuÀ
(*
key
, *
vÆue
, 
fd
)

1201 
CFG_MODULE_DATA_t
 *
tmoduÀ
 = (CFG_MODULE_DATA_à*)
vÆue
;

1204 
	`vosPrötf
(
fd
, "%s\r\n", ((*)
key
)+
	`vosSåLí
(
g_pcC⁄figDeÁu…P©h
)+1);

1206 i‡(
tmoduÀ
 &&ÅmoduÀ->
£˘i⁄s
) {

1207 
	`vosHashF‹EachDoCb
(
tmoduÀ
->
£˘i⁄s
,

1208 (
FUNCPTR
)
vosC⁄figShowF‹EachSe˘i⁄
, (
uöt32
)
fd
, 4, 5, 6, 7, 8);

1210 
	}
}

1233 
	$vosC⁄figShowByKey
(*
‚ame
, *
£˘i⁄
, *
key
, 
fd
)

1235 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1236 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1237 
CFG_KEY_DATA_t
 *
tkey
;

1239 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1241 i‡(
g_p°C⁄figD©aba£
 =
NULL
) {

1242 
	`vosPrötf
(
fd
, "Database haveÇot been initialized.\r\n\r\n");

1243 
exô_œbñ
;

1246 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1247 i‡(
tmoduÀ
 =
NULL
) {

1248 
	`vosPrötf
(
fd
, "Specified module isÇotÉxistent.\r\n\r\n");

1249 
exô_œbñ
;

1252 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1253 i‡(
t£˘i⁄
 =
NULL
) {

1254 
	`vosPrötf
(
fd
, "Specified section isÇotÉxistent.\r\n\r\n");

1255 
exô_œbñ
;

1258 
tkey
 = (
CFG_KEY_DATA_t
 *)
	`vosHashVÆue
(
key
, 
t£˘i⁄
->
keys
);

1259 i‡(
tkey
 =
NULL
) {

1260 
	`vosPrötf
(
fd
, "Specified key isÇotÉxistent.\r\n\r\n");

1261 
exô_œbñ
;

1264 i‡(
tkey
->
d©a
 =
NULL
) {

1265 
	`vosPrötf
(
fd
, "The value of specified key isÇotÉxistent.\r\n\r\n");

1266 
exô_œbñ
;

1269 
	`vosPrötf
(
fd
, "%s\r\n\r\n", (*)
tkey
->
d©a
);

1271 
exô_œbñ
:

1272 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1273 
	}
}

1295 
	$vosC⁄figShowBySe˘i⁄
(*
‚ame
, *
£˘i⁄
, 
fd
)

1297 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1298 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1300 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1302 i‡(
g_p°C⁄figD©aba£
 =
NULL
) {

1303 
	`vosPrötf
(
fd
, "Database haveÇot been initialized.\r\n\r\n");

1304 
exô_œbñ
;

1307 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1308 i‡(
tmoduÀ
 =
NULL
) {

1309 
	`vosPrötf
(
fd
, "Specified module isÇotÉxistent.\r\n\r\n");

1310 
exô_œbñ
;

1313 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1314 i‡(
t£˘i⁄
 =
NULL
) {

1315 
	`vosPrötf
(
fd
, "Specified section isÇotÉxistent.\r\n\r\n");

1316 
exô_œbñ
;

1319 
	`vosHashF‹EachDoCb
(
t£˘i⁄
->
keys
,

1320 (
FUNCPTR
)
vosC⁄figShowF‹EachKey
, (
uöt32
)
fd
, 4, 5, 6, 7, 8);

1322 
exô_œbñ
:

1323 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1324 
	}
}

1345 
	$vosC⁄figShowByModuÀ
(*
‚ame
, 
fd
)

1347 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1349 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1352 
	`vosPrötf
(
fd
, "%s\r\n", 
‚ame
+
	`vosSåLí
(
g_pcC⁄figDeÁu…P©h
)+1);

1354 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1355 i‡(
tmoduÀ
 &&ÅmoduÀ->
£˘i⁄s
)

1357 
	`vosHashF‹EachDoCb
(
tmoduÀ
->
£˘i⁄s
,

1358 (
FUNCPTR
)
vosC⁄figShowF‹EachSe˘i⁄
, (
uöt32
)
fd
, 4, 5, 6, 7, 8);

1361 
exô_œbñ
:

1362 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1363 
	}
}

1383 
	$vosC⁄figShow
(
fd
)

1385 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1387 i‡(
g_p°C⁄figD©aba£
)

1389 
	`vosHashF‹EachDoCb
(
g_p°C⁄figD©aba£
,

1390 (
FUNCPTR
)
vosC⁄figShowF‹EachModuÀ
, (
uöt32
)
fd
, 4, 5, 6, 7, 8);

1392 
	`vosPrötf
(
fd
, "\r\n");

1394 
exô_œbñ
:

1395 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1396 
	}
}

1398 *
	$vosC⁄figVÆueGë
(

1399 *
‚ame
,

1400 c⁄° *
£˘i⁄
,

1401 *
key
,

1402 *
deÁu…_vÆue
)

1404 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1405 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1406 
CFG_KEY_DATA_t
 *
tkey
;

1407 *
vÆue
 = 
deÁu…_vÆue
;

1409 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1411 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1413 
exô_œbñ
;

1416 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1417 i‡(
tmoduÀ
 =
NULL
)

1419 
exô_œbñ
;

1422 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1423 i‡(
t£˘i⁄
 =
NULL
)

1425 
exô_œbñ
;

1428 
tkey
 = (
CFG_KEY_DATA_t
 *)
	`vosHashVÆue
(
key
, 
t£˘i⁄
->
keys
);

1429 i‡(
tkey
 =
NULL
)

1431 
exô_œbñ
;

1434 i‡(
tkey
->
d©a
 =
NULL
)

1436 
exô_œbñ
;

1439 
vÆue
 = 
tkey
->
d©a
;

1441 
exô_œbñ
:

1442 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1443  
vÆue
;

1444 
	}
}

1446 
	$vosC⁄figI¡egîGë
(

1447 *
‚ame
,

1448 *
£˘i⁄
,

1449 *
key
,

1450 
deÁu…_vÆue
)

1452 *
vÆue
 = 
	`vosC⁄figVÆueGë
(
‚ame
, 
£˘i⁄
, 
key
, 
NULL
);

1453 i‡(
vÆue
 =
NULL
)

1454  
deÁu…_vÆue
;

1456  
	`°πﬁ
(
vÆue
, 
NULL
, 0);

1457 
	}
}

1459 
uöt32
 
	$vosC⁄figUI¡32Gë
(

1460 *
‚ame
,

1461 *
£˘i⁄
,

1462 *
key
,

1463 
uöt32
 
deÁu…_vÆue
)

1465 *
vÆue
 = 
	`vosC⁄figVÆueGë
(
‚ame
, 
£˘i⁄
, 
key
, 
NULL
);

1466 i‡(
vÆue
 =
NULL
)

1467  
deÁu…_vÆue
;

1469  
	`°πoul
(
vÆue
, 
NULL
, 0);

1470 
	}
}

1472 
	$vosC⁄figVÆueSë
(

1473 *
‚ame
,

1474 c⁄° *
£˘i⁄
,

1475 *
key
,

1476 c⁄° *
vÆue
)

1478 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1479 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1480 
CFG_KEY_DATA_t
 *
tkey
;

1481 
rv
 = 0;

1483 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1485 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1487 
rv
 = -1;

1488 
exô_œbñ
;

1491 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1492 i‡(
tmoduÀ
 =
NULL
) {

1493 
tmoduÀ
 = 
	`vosAŒoc
((
CFG_MODULE_DATA_t
));

1494 
	`ASSERT
(
tmoduÀ
 !
NULL
, "Out of memory!!!");

1495 
tmoduÀ
->
£˘i⁄s
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figSe˘i⁄De°roy
, 0);

1496 
	`vosHashIn£π
(
	`vosSåDup
(
‚ame
), 
tmoduÀ
, 
g_p°C⁄figD©aba£
);

1499 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1500 i‡(
t£˘i⁄
 =
NULL
)

1502 
t£˘i⁄
 = 
	`vosAŒoc
((
CFG_SECTION_DATA_t
));

1503 
	`ASSERT
(
t£˘i⁄
 !
NULL
, "Out of memory!!!");

1504 
t£˘i⁄
->
keys
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figKeyDe°roy
, 0);

1505 
t£˘i⁄
->
Êag
 = 
CFG_NOT_FLUSHED
;

1506 
	`vosHashIn£π
(
	`vosSåDup
(
£˘i⁄
), 
t£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1509 
tkey
 = 
	`vosAŒoc
((
CFG_KEY_DATA_t
));

1510 
	`ASSERT
(
t£˘i⁄
 !
NULL
, "Out of memory!!!");

1511 
tkey
->
d©a
 = 
	`vosSåDup
(
vÆue
);

1512 
tkey
->
Êag
 = 
CFG_NOT_FLUSHED
;

1514 
	`vosHashIn£π
(
	`vosSåDup
(
key
), 
tkey
, 
t£˘i⁄
->
keys
);

1516 
exô_œbñ
:

1517 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1518  
rv
;

1519 
	}
}

1521 
	$vosC⁄figI¡egîSë
(

1522 *
‚ame
,

1523 *
£˘i⁄
,

1524 *
key
,

1525 
vÆue
)

1527 
acVÆue
[32];

1528 
	`vosS¥ötf
(
acVÆue
, "%d", 
vÆue
);

1529  
	`vosC⁄figVÆueSë
(
‚ame
, 
£˘i⁄
, 
key
, 
acVÆue
);

1530 
	}
}

1532 
	$vosC⁄figUI¡32Së
(

1533 *
‚ame
,

1534 *
£˘i⁄
,

1535 *
key
,

1536 
uöt32
 
vÆue
)

1538 
acVÆue
[32];

1539 
	`vosS¥ötf
(
acVÆue
, "%u", 
vÆue
);

1540  
	`vosC⁄figVÆueSë
(
‚ame
, 
£˘i⁄
, 
key
, 
acVÆue
);

1541 
	}
}

1553 
	$vosC⁄figModuÀDñëe
(*
‚ame
)

1555 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1556 
rv
 = 0;

1558 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1560 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1562 
rv
 = -1;

1563 
exô_œbñ
;

1566 i‡(
‚ame
 !
NULL
 && fname[0] != '\0') {

1567 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(

1568 (*)
‚ame
,

1569 
g_p°C⁄figD©aba£
);

1570 
	`vosHashRemove
((*)
‚ame
, 
g_p°C⁄figD©aba£
);

1571 
	`vosRemove
(
‚ame
);

1574 
exô_œbñ
:

1575 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1576  
rv
;

1577 
	}
}

1579 
	$vosC⁄figSe˘i⁄Dñëe
(*
‚ame
, c⁄° *
£˘i⁄
)

1581 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1582 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1583 
rv
 = 0;

1585 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1587 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1589 
rv
 = -1;

1590 
exô_œbñ
;

1593 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1594 i‡(
tmoduÀ
 =
NULL
)

1596 
rv
 = -1;

1597 
exô_œbñ
;

1600 
	`vosHashRemove
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1602 
exô_œbñ
:

1603 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1604  
rv
;

1605 
	}
}

1607 
	$vosC⁄figKeyDñëe
(*
‚ame
, *
£˘i⁄
, *
key
)

1609 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1610 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1611 
rv
 = 0;

1613 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1615 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1617 
rv
 = -1;

1618 
exô_œbñ
;

1621 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1622 i‡(
tmoduÀ
 =
NULL
)

1624 
rv
 = -1;

1625 
exô_œbñ
;

1628 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1629 i‡(
t£˘i⁄
 =
NULL
)

1631 
rv
 = -1;

1632 
exô_œbñ
;

1635 
	`vosHashRemove
((*)
key
, 
t£˘i⁄
->
keys
);

1637 
exô_œbñ
:

1638 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1639  
rv
;

1640 
	}
}

1642 
	$vosC⁄figModuÀCou¡
()

1644 
˙t
 = 0;

1646 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1648 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1650 
exô_œbñ
;

1653 
˙t
 = 
	`vosHashCou¡
(
g_p°C⁄figD©aba£
);

1655 
exô_œbñ
:

1656 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1657  
˙t
;

1658 
	}
}

1660 
	$vosC⁄figSe˘i⁄Cou¡
(*
‚ame
)

1662 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1663 
˙t
 = 0;

1665 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1667 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1669 
exô_œbñ
;

1672 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1673 i‡(
tmoduÀ
 =
NULL
)

1675 
exô_œbñ
;

1678 
˙t
 = 
	`vosHashCou¡
(
tmoduÀ
->
£˘i⁄s
);

1680 
exô_œbñ
:

1681 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1682  
˙t
;

1683 
	}
}

1685 
	$vosC⁄figKeyCou¡
(*
‚ame
, *
£˘i⁄
)

1687 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1688 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1689 
˙t
 = 0;

1691 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1693 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1695 
exô_œbñ
;

1698 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1699 i‡(
tmoduÀ
 =
NULL
)

1701 
exô_œbñ
;

1704 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1705 i‡(
t£˘i⁄
 =
NULL
)

1707 
exô_œbñ
;

1710 
˙t
 = 
	`vosHashCou¡
(
t£˘i⁄
->
keys
);

1712 
exô_œbñ
:

1713 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1714  
˙t
;

1715 
	}
}

1717 
	$vosC⁄figSe˘i⁄Cª©e
(

1718 *
‚ame
,

1719 c⁄° *
£˘i⁄
)

1721 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1722 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1723 
CFG_KEY_DATA_t
 *
tkey
;

1724 
rv
 = 0;

1726 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1728 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1730 
rv
 = -1;

1731 
exô_œbñ
;

1734 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1735 i‡(
tmoduÀ
 =
NULL
) {

1736 
tmoduÀ
 = 
	`vosAŒoc
((
CFG_MODULE_DATA_t
));

1737 
	`ASSERT
(
tmoduÀ
 !
NULL
, "Out of memory!!!");

1739 i‡(
tmoduÀ
 =
NULL
) {

1740 
rv
 = -1;

1741 
exô_œbñ
;

1743 
tmoduÀ
->
£˘i⁄s
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figSe˘i⁄De°roy
, 0);

1744 
	`vosHashIn£π
(
	`vosSåDup
(
‚ame
), 
tmoduÀ
, 
g_p°C⁄figD©aba£
);

1747 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1748 i‡(
t£˘i⁄
 =
NULL
)

1750 
t£˘i⁄
 = 
	`vosAŒoc
((
CFG_SECTION_DATA_t
));

1751 
	`ASSERT
(
t£˘i⁄
 !
NULL
, "Out of memory!!!");

1753 i‡(
t£˘i⁄
 =
NULL
) {

1754 
rv
 = -1;

1755 
exô_œbñ
;

1757 
t£˘i⁄
->
keys
 = 
	`vosHashCª©e
(
vosSåögHash
, 
vosEquÆSåög
, 
vosC⁄figKeyDe°roy
, 0);

1758 
t£˘i⁄
->
Êag
 = 
CFG_NOT_FLUSHED
;

1759 
	`vosHashIn£π
(
	`vosSåDup
(
£˘i⁄
), 
t£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1762 
exô_œbñ
:

1763 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1764  
rv
;

1765 
	}
}

1768 
	$vosC⁄figModuÀIsExi°ed
(*
‚ame
)

1770 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1771 
rv
 = 0;

1773 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1775 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1777 
rv
 = -1;

1778 
exô_œbñ
;

1781 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1782 i‡(
tmoduÀ
 =
NULL
)

1784 
rv
 = -1;

1785 
exô_œbñ
;

1788 
exô_œbñ
:

1789 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1790  
rv
;

1791 
	}
}

1793 
	$vosC⁄figSe˘i⁄IsExi°ed
(

1794 *
‚ame
,

1795 c⁄° *
£˘i⁄
)

1797 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1798 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1799 
rv
 = 0;

1801 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1803 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1805 
rv
 = -1;

1806 
exô_œbñ
;

1809 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1810 i‡(
tmoduÀ
 =
NULL
)

1812 
rv
 = -1;

1813 
exô_œbñ
;

1816 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1817 i‡(
t£˘i⁄
 =
NULL
)

1819 
rv
 = -1;

1820 
exô_œbñ
;

1823 
exô_œbñ
:

1824 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1825  
rv
;

1826 
	}
}

1828 
	$vosC⁄figKeyIsExi°ed
(

1829 *
‚ame
,

1830 c⁄° *
£˘i⁄
,

1831 *
key
)

1833 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1834 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1835 
CFG_KEY_DATA_t
 *
tkey
;

1836 
rv
 = 0;

1838 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1840 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1842 
rv
 = -1;

1843 
exô_œbñ
;

1846 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1847 i‡(
tmoduÀ
 =
NULL
)

1849 
rv
 = -1;

1850 
exô_œbñ
;

1853 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
((*)
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1854 i‡(
t£˘i⁄
 =
NULL
)

1856 
rv
 = -1;

1857 
exô_œbñ
;

1860 
tkey
 = (
CFG_KEY_DATA_t
 *)
	`vosHashVÆue
(
key
, 
t£˘i⁄
->
keys
);

1861 i‡(
tkey
 =
NULL
)

1863 
rv
 = -1;

1864 
exô_œbñ
;

1867 
exô_œbñ
:

1868 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1869  
rv
;

1870 
	}
}

1872 
	$vosC⁄figSe˘i⁄GëByIndex
(*
‚ame
, 
ödex
, **
£˘i⁄
)

1874 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1875 
CFG_SECTION_DATA_t
 *
t£˘i⁄
 = 
NULL
;

1876 
rv
 = -1;

1878 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1880 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1882 
exô_œbñ
;

1885 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1886 i‡(
tmoduÀ
 =
NULL
)

1888 
exô_œbñ
;

1891 
rv
 = 
	`vosHashVÆueGëByIndex
(
ödex
, 
tmoduÀ
->
£˘i⁄s
, (**)
£˘i⁄
, (**)&
t£˘i⁄
);

1893 
exô_œbñ
:

1894 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1895  
rv
;

1896 
	}
}

1898 
	$vosC⁄figKeyGëByIndex
(

1899 *
‚ame
,

1900 *
£˘i⁄
,

1901 
ödex
,

1902 **
key
,

1903 **
vÆue
)

1905 
CFG_MODULE_DATA_t
 *
tmoduÀ
;

1906 
CFG_SECTION_DATA_t
 *
t£˘i⁄
;

1907 
CFG_KEY_DATA_t
 *
tkey
;

1908 
rv
 = -1;

1910 
	`vosMuãxTake
(&
g_p°C⁄figLock
);

1912 i‡(
g_p°C⁄figD©aba£
 =
NULL
)

1914 
exô_œbñ
;

1917 
tmoduÀ
 = (
CFG_MODULE_DATA_t
 *)
	`vosHashVÆue
(
‚ame
, 
g_p°C⁄figD©aba£
);

1918 i‡(
tmoduÀ
 =
NULL
)

1920 
exô_œbñ
;

1923 
t£˘i⁄
 = (
CFG_SECTION_DATA_t
 *)
	`vosHashVÆue
(
£˘i⁄
, 
tmoduÀ
->
£˘i⁄s
);

1924 i‡(
t£˘i⁄
 =
NULL
)

1926 
exô_œbñ
;

1929 
rv
 = 
	`vosHashVÆueGëByIndex
(
ödex
, 
t£˘i⁄
->
keys
, (**)
key
, (**)
vÆue
);

1931 
exô_œbñ
:

1932 
	`vosMuãxGive
(&
g_p°C⁄figLock
);

1933  
rv
;

1934 
	}
}

	@multicast/src/vos_hash.c

29 
	~<°rög.h
>

30 
	~<°dlib.h
>

31 
	~<vos_hash.h
>

32 
	~<vos_Æloc.h
>

33 
	~<vos_libc.h
>

34 
	~<vos_ma¸os.h
>

36 #i‚de‡
__USE_ISOC99


37 
	#ölöe


	)

43 
	#HASH_MAX_FULLNESS
 0.75

	)

47 
	#HASH_RESIZE_FACTOR
 2

	)

50 
	sHASH_ENTRY_s


52 *
	mkey
;

53 *
	md©a
;

54 
HASH_ENTRY_s
 *
	m√xt
;

57 
	sHASH_TABLE_s


59 
uöt32
 (*
gëHash
)(*);

60 (*
	mcom∑ª
)(*, *);

61 (*
	míåyDe°roy
)(*, *);

62 
	môems
;

63 
	mhashSize
;

64 
	mcou¡
;

65 
	mªsizeThªshﬁd
;

67 
	m¥imeOff£t
;

69 
HASH_ENTRY_s
 **
	mhashLi°
;

72 
	#HASH_INDEX
(
key
, 
èb
Ë(—ab->
gëHash
)(keyË% (èb->
hashSize
 -1))

	)

74 
	#IS_EMPTY
(
íåy
Ë(”¡ryË=
NULL
)

	)

86 
	$¥imeSize
(
size
, *
¥imeOff£t
)

88 c⁄° 
¥imes
[] = {

99 
i
;

101 
i
 = *
¥imeOff£t
; ()ò< 
	`DIM
(
¥imes
); i++)

102 i‡(
¥imes
[
i
] >
size
) {

103 *
¥imeOff£t
 = 
i
 + 1;

104  
¥imes
[
i
];

107 
	`ab‹t
();

108 
	}
}

111 
uöt32
 
	$vosSåögHash
(*
§c
)

113 
i
, 
l
;

114 
uöt32
 
ªt
 = 0;

115 
uöt16
 *
s
;

116 *
°r
 = (*)
§c
;

117 i‡(
°r
 =
NULL
)

119 
l
 = (
	`vosSåLí
(
°r
) + 1) / 2;

120 
s
 = (
uöt16
 *)
°r
;

122 
i
 = 0; i < 
l
; i++)

123 
ªt
 ^
s
[
i
]<<(i&0x0f);

125 (
ªt
);

126 
	}
}

128 
	$vosEquÆSåög
(*
k1
, *
k2
)

130  (0 =
	`vosSåCmp
((*)
k1
, (*)
k2
));

131 
	}
}

133 
ölöe
 
HASH_ENTRY_s
 *
	$hashE¡ryNew
(*
key
, *
d©a
)

135 
HASH_ENTRY_s
 *
√w
 = 
	`vosAŒoc
((HASH_ENTRY_s));

136 
√w
->
key
 = key;

137 
√w
->
d©a
 = data;

138 
√w
->
√xt
 = 
NULL
;

139  
√w
;

140 
	}
}

142 
	$vosHashE¡ryFªe
(*
key
, *
vÆue
)

144 
	`vosFªe
(
key
);

145 
	`vosFªe
(
vÆue
);

146 
	}
}

148 
	$hashLi°Upd©e
(
HASH_ENTRY_s
 *
roŸ
, *
key
,

149 *
d©a
, 
HASH_TABLE_t
 *
èb
)

151 
HASH_ENTRY_s
 *
pos
;

152 
pos
 = 
roŸ
;Öo†!
NULL
;Öo†pos->
√xt
 ) {

153 i‡–
èb
->
	`com∑ª
(
key
, 
pos
->key) ) {

154 
èb
->
	`íåyDe°roy
(
pos
->
key
,Öos->
d©a
);

155 
pos
->
key
 = key;

156 
pos
->
d©a
 = data;

161 
	}
}

163 
HASH_TABLE_t
 *
vosHashCª©e
(
	$uöt32
 (*
keyfunc
)(*),

164 (*
com∑ªfunc
)(*, *),

165 (*
de°royfunc
)(*, *),

166 
size
)

168 
i
, 
¥imesize
;

169 
Àn
;

171 
HASH_TABLE_t
 *
èb
 = 
	`vosAŒoc
( (HASH_TABLE_t) );

172 
	`ASSERT
(
èb
 !
NULL
, "Out of memory!!!");

174 
èb
->
¥imeOff£t
 = 0;

175 
¥imesize
 = 1 + 
size
 / 
HASH_MAX_FULLNESS
;

176 
¥imesize
 = 
	`¥imeSize
’rimesize, &
èb
->
¥imeOff£t
);

177 
èb
->
hashSize
 = 
¥imesize
;

178 
èb
->
ªsizeThªshﬁd
 = 
¥imesize
 * 
HASH_MAX_FULLNESS
;

180 
Àn
 = (
HASH_ENTRY_s
 *Ë* 
¥imesize
;

182 
èb
->
hashLi°
 = 
	`vosAŒoc
(
Àn
);

183 
	`ASSERT
(
èb
->
hashLi°
 !
NULL
, "Out of memory!!!");

185 
i
 = 0; i < 
¥imesize
; i++)

186 
èb
->
hashLi°
[
i
] = 
NULL
 ;

188 
èb
->
com∑ª
 = 
com∑ªfunc
;

189 
èb
->
gëHash
 = 
keyfunc
;

190 
èb
->
íåyDe°roy
 = 
de°royfunc
;

191 
èb
->
ôems
 =Åab->
cou¡
 = 0;

192  
èb
;

193 
	}
}

195 
	$hashResize
(
HASH_TABLE_t
 *
èb
)

197 
i
, 
√wIndex
;

198 
ﬁdsize
 = 
èb
->
hashSize
;

199 
HASH_ENTRY_s
 **
ﬁd_íåõs
 = 
èb
->
hashLi°
;

200 
HASH_ENTRY_s
 *
pos
, *
cur_íåy
, *
ﬁd_íåy
;

201 
√wsize
;

203 
√wsize
 = 
	`¥imeSize
(
èb
->
hashSize
 * 
HASH_RESIZE_FACTOR
, &èb->
¥imeOff£t
);

204 
èb
->
hashSize
 = 
√wsize
;

205 
èb
->
ªsizeThªshﬁd
 = 
√wsize
 * 
HASH_MAX_FULLNESS
;

207 
èb
->
hashLi°
 = 
	`vosAŒoc
((
HASH_ENTRY_s
 *Ë* 
√wsize
);

208 
	`ASSERT
(
èb
->
hashLi°
 !
NULL
, "Out of memory!!!");

209 
èb
->
cou¡
 =Åab->
ôems
 = 0;

210 
i
 = 0; i < 
√wsize
; i++)

211 
èb
->
hashLi°
[
i
] = 
NULL
 ;

213 
i
 = 0; i < 
ﬁdsize
; i++) {

214 
cur_íåy
 = 
ﬁd_íåõs
[
i
];

215 i‡(
	`IS_EMPTY
(
cur_íåy
))

218 
pos
 = 
cur_íåy
->
√xt
;

219 
pos
 !
NULL
) {

220 
ﬁd_íåy
 = 
pos
;

221 
pos
 =Öos->
√xt
;

222 
	`vosHashIn£π
(
ﬁd_íåy
->
key
, old_íåy->
d©a
, 
èb
);

223 
	`vosFªe
(
ﬁd_íåy
);

226 
	`vosHashIn£π
(
cur_íåy
->
key
, cur_íåy->
d©a
, 
èb
);

227 
	`vosFªe
(
cur_íåy
);

228 
ﬁd_íåõs
[
i
] = 
NULL
;

231 
	`vosFªe
(
ﬁd_íåõs
);

232 
	}
}

234 
	$vosHashCÀ¨
(
HASH_TABLE_t
 *
èb
)

236 
i
;

237 
HASH_ENTRY_s
 *
pos
, *
cur_íåy
, *
ﬁd_íåy
;

239 i‡(
èb
 =
NULL
)

242 i‡(
èb
->
cou¡
 == 0)

245 
i
 = 0; i < 
èb
->
hashSize
; i++) {

246 
cur_íåy
 = 
èb
->
hashLi°
[
i
];

247 i‡(
	`IS_EMPTY
(
cur_íåy
))

250 
pos
 = 
cur_íåy
->
√xt
;

251 
pos
 !
NULL
) {

252 
ﬁd_íåy
 = 
pos
;

253 
pos
 =Öos->
√xt
;

254 
èb
->
	`íåyDe°roy
(
ﬁd_íåy
->
key
, old_íåy->
d©a
);

255 
	`vosFªe
(
ﬁd_íåy
);

258 
èb
->
	`íåyDe°roy
(
cur_íåy
->
key
, cur_íåy->
d©a
);

259 
	`vosFªe
(
cur_íåy
);

260 
èb
->
hashLi°
[
i
] = 
NULL
;

263 
èb
->
cou¡
 =Åab->
ôems
 = 0;

264 
	}
}

267 
	$vosHashFªe
(
HASH_TABLE_t
 *
èb
)

269 
	`vosHashCÀ¨
(
èb
);

270 
	`vosFªe
(
èb
->
hashLi°
);

271 
	`vosFªe
(
èb
);

272 
èb
 =
NULL
;

273 
	}
}

275 
	$vosHashIn£π
(*
key
, *
d©a
, 
HASH_TABLE_t
 *
èb
)

277 
uöt32
 
ödex
 = 
	`HASH_INDEX
(
key
, 
èb
);

278 
HASH_ENTRY_s
 *
l
, *
pos
;

284 i‡–
	`hashLi°Upd©e
(
èb
->
hashLi°
[
ödex
], 
key
, 
d©a
,Åab ) != 0 ) {

287 i‡(
èb
->
ôems
 >èb->
ªsizeThªshﬁd
) {

288 
	`hashResize
(
èb
);

289 
ödex
 = 
	`HASH_INDEX
(
key
, 
èb
);

293 
l
 = 
	`hashE¡ryNew
(
key
, 
d©a
);

294 i‡(
èb
->
hashLi°
[
ödex
] =
NULL
) {

295 
èb
->
hashLi°
[
ödex
] = 
l
;

296 
èb
->
ôems
++;

298 
pos
 = 
èb
->
hashLi°
[
ödex
];Öos->
√xt
 !
NULL
;Öos =Öos->next);

299 
pos
->
√xt
 = 
l
;

302 
èb
->
cou¡
++;

304 
	}
}

306 
	$vosHashRemove
(*
key
, 
HASH_TABLE_t
 *
èb
)

308 
uöt32
 
ödex
 = 
	`HASH_INDEX
(
key
, 
èb
);

309 
HASH_ENTRY_s
 *
pos
 ,*
¥ev
, *
tmp
;

311 i‡(
NULL
 =
èb
->
hashLi°
[
ödex
]) ;

313 
pos
 = 
èb
->
hashLi°
[
ödex
];

314 i‡(
èb
->
	`com∑ª
(
pos
->
key
, key)) {

315 
tmp
 = 
pos
->
√xt
;

316 i‡(
tmp
 =
NULL
) {

317 
èb
->
hashLi°
[
ödex
] = 
NULL
;

319 
èb
->
hashLi°
[
ödex
] = 
tmp
;

321 
èb
->
	`íåyDe°roy
(
pos
->
key
,Öos->
d©a
);

322 
	`vosFªe
(
pos
);

323 --
èb
->
ôems
;

324 --
èb
->
cou¡
;

328 
¥ev
 = 
èb
->
hashLi°
[
ödex
];

329 
pos
 = 
¥ev
->
√xt
; 
NULL
 !=Öos;Öos =Öos->next) {

330 i‡(
èb
->
	`com∑ª
(
pos
->
key
, key)) {

331 
¥ev
->
√xt
 = 
pos
->next;

332 
èb
->
	`íåyDe°roy
(
pos
->
key
,Öos->
d©a
);

333 
	`vosFªe
(
pos
);

334 --
èb
->
cou¡
;

337 
¥ev
 = 
pos
;

339 
	}
}

341 *
	$vosHashVÆue
(*
key
, 
HASH_TABLE_t
 *
èb
)

343 
HASH_ENTRY_s
 *
pos
;

344 
uöt32
 
ödex
 = 
	`HASH_INDEX
(
key
, 
èb
);

345 
pos
 = 
èb
->
hashLi°
[
ödex
]; 
NULL
 !pos;Öo†pos->
√xt
) {

346 i‡(
èb
->
	`com∑ª
(
key
, 
pos
->key)) {

347  (
pos
->
d©a
);

350  
NULL
;

351 
	}
}

374 
	$vosHashVÆueGëByIndex
(
uöt32
 
ödex
, 
HASH_TABLE_t
 *
èb
, **
key
, **
d©a
)

376 
i
, 
cuºít
 = 0;

377 
HASH_ENTRY_s
 *
pos
;

379 i‡(
ödex
 >(
uöt32
)(
èb
->
cou¡
))

382 
i
 = 0; i < 
èb
->
hashSize
; i++) {

383 
pos
 = 
èb
->
hashLi°
[
i
]; 
NULL
 !pos;Öo†pos->
√xt
 ) {

384 i‡(
ödex
 =(
uöt32
)
cuºít
)

386 *
key
 = 
pos
->key;

387 *
d©a
 = 
pos
->data;

390 
cuºít
++;

394 
	}
}

396 
vosHashF‹EachDo
(
HASH_TABLE_t
 *
èb
, (
cb
)(*, *))

398 
i
 = 0;

399 
HASH_ENTRY_s
 *
pos
;

400 
i
 = 0; i < 
èb
->
hashSize
; i++) {

401 
pos
 = 
èb
->
hashLi°
[
i
]; 
NULL
 !pos;Öo†pos->
√xt
 ) {

402 
	`cb
(
pos
->
key
,Öos->
d©a
);

405 
	}
}

407 
	$vosHashF‹EachDoCb
(

408 
HASH_TABLE_t
 *
èb
,

409 
FUNCPTR
 
pCÆlback
,

410 
uöt32
 
ulArg3
,

411 
uöt32
 
ulArg4
,

412 
uöt32
 
ulArg5
,

413 
uöt32
 
ulArg6
,

414 
uöt32
 
ulArg7
,

415 
uöt32
 
ulArg8
)

417 
i
 = 0;

418 
HASH_ENTRY_s
 *
pos
;

419 
i
 = 0; i < 
èb
->
hashSize
; i++) {

420 
pos
 = 
èb
->
hashLi°
[
i
]; 
NULL
 !pos;Öo†pos->
√xt
 ) {

421 i‡(
pCÆlback
)

423 
	`pCÆlback
((
uöt32
)(
pos
->
key
),

424 (
uöt32
)(
pos
->
d©a
),

425 
ulArg3
,

426 
ulArg4
,

427 
ulArg5
,

428 
ulArg6
,

429 
ulArg7
,

430 
ulArg8
);

434 
	}
}

436 
ölöe
 
	$vosHashSize
(
HASH_TABLE_t
 *
èb
)

438  
èb
->
hashSize
;

439 
	}
}

441 
ölöe
 
	$vosHashCou¡
(
HASH_TABLE_t
 *
èb
)

443  
èb
->
cou¡
;

444 
	}
}

446 
ölöe
 
	$vosHashIãms
(
HASH_TABLE_t
 *
èb
)

448  
èb
->
ôems
;

449 
	}
}

453 
	gã°
.
	gc


455 
	~<Æloc.h
>

456 
	~<°dio.h
>

457 
	~<uni°d.h
>

458 
	~"hash.h
"

460 
	#maxhash
 10

	)

462 
	$w‹k
(*
key
, *
d©a
)

464 
	`¥ötf
("%s->%s\r\n",(*)
key
, (*)
d©a
);

466 
	}
}

468 
	$maö
(
¨gc
, *
¨gv
[])

470 
i
;

472 
key
[20];

473 
d©a
[20];

475 
	`vosMemSë
(
key
, 0, 20);

476 
	`vosMemSë
(
d©a
, 0, 20);

477 
HASH_TABLE_t
 *
èb
 = 
	`vosHashTabÀCª©e
(10);

478 
i
 = 0; i < 
maxhash
; i++) {

479 
	`•rötf
(
key
, "key%d", 
i
);

480 
	`•rötf
(
d©a
, "thêlöêno: %d", 
i
);

481 
	`vosHashIn£π
((*)
	`vosSåDup
(
key
), (*)vosSåDup(
d©a
), 
èb
);

484 
	`¥ötf
("remove key4\r\n");

485 
	`vosHashRemove
("key4", 
èb
);

486 
	`¥ötf
("key -> value\r\n");

487 
i
 = 0; i < 
maxhash
; i++) {

488 
	`•rötf
(
key
, "key%d", 
i
);

489 
	`¥ötf
("%s->%s\r\n", 
key
, (*)
	`vosHashVÆue
(key, 
èb
));

491 
	`¥ötf
("\r\n");

493 
	`¥ötf
("%s->%s\r\n", "thi†i†", (*)
	`vosHashVÆue
("thi†i†", 
èb
));

495 
	`¥ötf
("\r\n");

496 
	`vosHashF‹EachDo
(
èb
, 
w‹k
);

497 
	`¥ötf
("sizê%d\r\n", 
	`vosHashCou¡
(
èb
));

498 
	`vosHashFªe
(
èb
);

499 
	`exô
(0);

500 
	}
}

	@multicast/src/vos_io.c

29 
	~<sys/ty≥s.h
>

30 
	~<sys/°©.h
>

31 
	~<°rög.h
>

32 
	~<°dlib.h
>

33 
	~<°dio.h
>

34 
	~<°d¨g.h
>

35 
	~<uni°d.h
>

36 
	~<dúít.h
>

37 
	~<î∫o.h
>

39 
	~<vos_Æloc.h
>

40 
	~<vos_ty≥s.h
>

41 
	~<vos_sync.h
>

42 
	~<vos_thªad.h
>

43 
	~<vos_io.h
>

44 
	~<vos_ma¸os.h
>

45 
	~<vos_m©ch.h
>

46 
	~<vos_libc.h
>

51 #ifde‡
NO_FILEIO


52 * 
	gg_pvPrötkFûe
 = 
NULL
;

54 
FILE
 *
	gg_pvPrötkFûe
 = 0;

55 *
	gg_pvPrötkFûeName
 = 
NULL
;

58 
	gg_nC⁄sﬁeE«bÀd
 = 1;

59 
VOS_MUTEX_t
 
	gg_p°C⁄sﬁeMuãx
;

60 *
	gg_pcHomeEnv
;

64 
	$vosHomeDúSë
(*
dú
)

66 i‡(
dú
[0] != '/') {

69 i‡(
dú
 !
NULL
) {

70 i‡((
g_pcHomeEnv
 = 
	`vosAŒoc
(5 + 
	`°æí
(
dú
Ë+ 1)Ë=
NULL
) {

73 
	`•rötf
(
g_pcHomeEnv
, "HOME=%s", 
dú
);

74 i‡(
	`puãnv
(
g_pcHomeEnv
)) {

79 
	}
}

81 *
	$vosHomeDúGë
(*
buf
, 
size_t
 
size
)

83 *
s
;

84 i‡((
s
 = 
	`gëív
("HOME")Ë!
NULL
) {

85 
	`°∫˝y
(
buf
, 
s
, 
size
);

86 
buf
[
size
 - 2] = 0;

88 
	`°r˝y
(
buf
, "/");

91 i‡(
buf
[
	`°æí
(buf) - 1] != '/') {

92 
	`°rˇt
(
buf
, "/");

94  
buf
;

95 
	}
}

97 
	$vosHomeDúRemove
()

99 i‡(
g_pcHomeEnv
)

101 
	`un£ãnv
("HOME");

102 
	`vosFªe
(
g_pcHomeEnv
);

104 
	}
}

107 *
	$vosCuºítDúGë
(*
buf
, 
size_t
 
size
)

109 i‡(
	`gëcwd
(
buf
, 
size
 - 1Ë=
NULL
)

110  
NULL
;

112 i‡(
buf
[
	`°æí
(buf) - 1] != '/')

113 
	`°rˇt
(
buf
, "/");

115  
buf
;

116 
	}
}

118 
	$vosLi°Dú
(*
f
, *
Êags
)

120 
cmd
[256];

122 
	`•rötf
(
cmd
, "l†%†%s\r\n", 
Êags
 ? fœg†: "", 
f
);

123 (
	`sy°em
(
cmd
));

124 
	}
}

126 
	$vosCh™geDú
(*
f
)

128 i‡(
f
 =
NULL
) {

129 
f
 = 
	`gëív
("HOME");

130 i‡(
f
 =
NULL
)

131 
f
 = "/";

133 (
	`chdú
(
f
));

134 
	}
}

136 
	$vosClo£
(
fd
)

138  
	`˛o£
(
fd
);

139 
	}
}

160 
FILE
 * 
	$vosFO≥n
(*
fûe
, *
mode
)

162  
	`f›í
(
fûe
, 
mode
);

163 
	}
}

183 
	$vosFClo£
(
FILE
 *
Â
)

185  
	`f˛o£
(
Â
);

186 
	}
}

188 
	$vosRemove
(*
f
)

190 (
	`u∆ök
(
f
));

191 
	}
}

193 
	$vosRíame
(*
f_ﬁd
, *
f_√w
)

195  
	`ª«me
(
f_ﬁd
, 
f_√w
);

196 
	}
}

198 
	$vosMakeDú
(*
∑th
)

200  
	`mkdú
(
∑th
, 0777);

201 
	}
}

203 
	$vosRemoveDú
(*
∑th
)

205  
	`rmdú
(
∑th
);

206 
	}
}

208 
VOS_DIR_t
 *
	$vosO≥nDú
(*
dúName
)

210  (
VOS_DIR_t
 *Ë
	`›ídú
(
dúName
);

211 
	}
}

213 
	$vosClo£Dú
(
VOS_DIR_t
 *
pvDú
)

215  
	`˛o£dú
((
DIR
 *Ë
pvDú
);

216 
	}
}

218 
VOS_DIRENT_s
 * 
	$vosRódDú
(
VOS_DIR_t
 *
pvDú
)

220 
VOS_DIRENT_s
 
dú
;

221 
dúít
 *
d
;

223 i‡((
d
 = 
	`ªaddú
((
DIR
 *Ë
pvDú
)Ë=
NULL
) {

224  
NULL
;

227 
	`°∫˝y
(
dú
.
dúName
, 
d
->
d_«me
,  (dir.dirName));

228 
dú
.
dúName
[ (dir.dirName) - 1] = 0;

229  &
dú
;

230 
	}
}

232 
	$vosRewödDú
(
VOS_DIR_t
 *
pvDú
)

234 
	`ªwöddú
((
DIR
 *Ë
pvDú
);

235 
	}
}

257 
vosSˇnDúFûes
(*
∑th
, *
«me
, (
cb
)(*))

259 
°©
 
s
;

260 
DIR
 *
dú
;

261 
dúít
 *
dt
;

262 
fuŒ«me
[256];

264 i‡(
∑th
 =
NULL
)

267 i‡(
∑th
[0] == '\0')

270 i‡(
	`°©
(
∑th
, &
s
) < 0) {

271 
	`vosPrötk
("°©Ö©h(%sËîr‹\r\n", 
∑th
);

274 i‡(
	`S_ISDIR
(
s
.
°_mode
)) {

275 i‡((
dú
 = 
	`›ídú
(
∑th
)Ë=
NULL
) {

276 
	`vosPrötk
("›ídú %†îr‹\r\n", 
∑th
);

280 (
dt
 = 
	`ªaddú
(
dú
)Ë!
NULL
) {

281 i‡(
dt
->
d_«me
[0] == '.') {

285 
fuŒ«me
[0] = '\0';

286 
	`°r˝y
(
fuŒ«me
, 
∑th
);

287 
	`°r˝y
(
fuŒ«me
 + 
	`°æí
(fullname), "/");

288 
	`°r˝y
(
fuŒ«me
 + 
	`°æí
(fuŒ«me), 
dt
->
d_«me
);

289 
	`vosSˇnDúFûes
(
fuŒ«me
, 
«me
, 
cb
);

292 i‡(
	`˛o£dú
(
dú
) < 0) {

293 
	`vosPrötk
("closedirÉrror\r\n");

299 i‡(
cb
 && (
TRUE
 =
	`vosM©ch
(
∑th
, 
«me
))) {

301 
	`cb
(
∑th
);

304 
	}
}

307 * 
	$vosFGëWhﬁeLöe
(
FILE
 *
Â
)

309 
Àn
 = 0;

310 
bufsize
 = 256;

311 *
löe
 = (*)
	`vosAŒoc
(
bufsize
);

313 
	`ASSERT
(
löe
 !
NULL
, "Out of memory!!!");

315 
	`fgës
(
löe
 + 
Àn
, 
bufsize
 -Üí, 
Â
)) {

316 
Àn
 +
	`°æí
(
löe
 +Üen);

317 i‡(
Àn
 == 0)

320 i‡(
löe
[
Àn
 - 1] == '\n')

323 
bufsize
 <<= 1;

324 
löe
 = 
	`vosReAŒoc
÷öe, 
bufsize
);

327 i‡(
Àn
 =0 || 
	`„º‹
(
Â
)) {

328 
	`vosFªe
(
löe
);

329  
NULL
;

334 
löe
[
Àn
 - 1] = '\0';

336  
löe
;

337 
	}
}

342 
	$vosC⁄sﬁeInô
()

344 
	`vosMuãxCª©e
(&
g_p°C⁄sﬁeMuãx
);

346 
	}
}

348 
	$vosC⁄sﬁeDe°roy
()

350 
	`vosMuãxDe°roy
(&
g_p°C⁄sﬁeMuãx
);

352 
	}
}

354 
	$vosC⁄sﬁeLock
()

356 
	`vosMuãxTake
(&
g_p°C⁄sﬁeMuãx
);

357 
	}
}

359 
	$vosC⁄sﬁeU∆ock
()

361 
	`vosMuãxGive
(&
g_p°C⁄sﬁeMuãx
);

362 
	}
}

365 
	$vosPrötkC⁄sE«bÀ
(
íabÀ
)

367 
ﬁd
 = 
g_nC⁄sﬁeE«bÀd
;

368 
g_nC⁄sﬁeE«bÀd
 = 
íabÀ
;

369  
ﬁd
;

370 
	}
}

372 
	$vosPrötkC⁄sIsE«bÀd
()

374  
g_nC⁄sﬁeE«bÀd
;

375 
	}
}

377 
	$vosPrötkC⁄s
(c⁄° *
fmt
, ...)

379 
ªtv
;

380 i‡(
g_nC⁄sﬁeE«bÀd
) {

381 
va_li°
 
v¨g
;

382 
	`va_°¨t
(
v¨g
, 
fmt
);

383 
ªtv
 = 
	`vosVPrötf
(
STDOUT_FILENO
, 
fmt
, 
v¨g
);

384 
	`va_íd
(
v¨g
);

386 
ªtv
 = 0;

387  
ªtv
;

388 
	}
}

390 *
	$vosPrötkFûeName
()

392 #ifde‡
NO_FILEIO


395 (
g_pvPrötkFûeName
);

397 
	}
}

399 
	$vosPrötkFûeO≥n
(*
fûíame
, 
≠≥nd
)

401 #i‚de‡
NO_FILEIO


402 i‡(
g_pvPrötkFûeName
) {

403 
	`vosPrötkFûeClo£
();

405 i‡((
g_pvPrötkFûe
 = 
	`vosFO≥n
(
fûíame
, 
≠≥nd
 ? "a" : "w")) == 0) {

406 
	`≥º‹
("Error opening file");

409 
g_pvPrötkFûeName
 = 
	`°r˝y
((*)
	`vosAŒoc
(
	`°æí
(
fûíame
) + 1), filename);

412 
	}
}

414 
	$vosPrötkFûeClo£
()

416 #i‚de‡
NO_FILEIO


417 i‡(! 
g_pvPrötkFûeName
) {

418 
	`vosPrötk
("FileÜogging isÇot on\r\n");

421 i‡(
g_pvPrötkFûe
) {

422 
	`vosFClo£
(
g_pvPrötkFûe
);

423 
g_pvPrötkFûe
 = 0;

425 
	`vosFªe
(
g_pvPrötkFûeName
);

426 
g_pvPrötkFûeName
 = 
NULL
;

429 
	}
}

431 
	$vosPrötkFûeE«bÀ
(
íabÀ
)

433 
ﬁd_íabÀ
 = (
g_pvPrötkFûe
 !
NULL
);

434 #i‚de‡
NO_FILEIO


435 i‡(! 
ﬁd_íabÀ
 && 
íabÀ
) {

437 i‡(! 
g_pvPrötkFûeName
) {

438 
	`vosPrötk
("Logging fileÇot opened, can'tÉnable\r\n");

441 i‡((
g_pvPrötkFûe
 = 
	`vosFO≥n
(
g_pvPrötkFûeName
, "a")) == 0) {

442 
	`≥º‹
("Error opening file");

447 i‡(
ﬁd_íabÀ
 && ! 
íabÀ
) {

448 i‡(
g_pvPrötkFûe
) {

449 
	`vosFClo£
(
g_pvPrötkFûe
);

450 
g_pvPrötkFûe
 = 0;

455  
ﬁd_íabÀ
;

456 
	}
}

458 
	$vosPrötkFûeIsE«bÀd
()

460  (
g_pvPrötkFûe
 !
NULL
);

461 
	}
}

463 
	$vosVPrötkFûe
(c⁄° *
fmt
, 
va_li°
 
≠
)

465 
ªtv
 = 0;

466 #i‚de‡
NO_FILEIO


467 i‡(
g_pvPrötkFûe
) {

468 
ªtv
 = 
	`vÂrötf
(
g_pvPrötkFûe
, 
fmt
, 
≠
);

469 
	`fÊush
(
g_pvPrötkFûe
);

471 
ªtv
 = 0;

473 (
ªtv
);

475 
	}
}

477 
	$vosPrötkFûe
(c⁄° *
fmt
, ...)

479 
ªtv
;

481 i‡(
g_pvPrötkFûe
) {

482 
va_li°
 
v¨g
;

483 
	`va_°¨t
(
v¨g
, 
fmt
);

484 
ªtv
 = 
	`vosVPrötkFûe
(
fmt
, 
v¨g
);

485 
	`va_íd
(
v¨g
);

487 
ªtv
 = 0;

488  
ªtv
;

489 
	}
}

491 
	$vosVPrötk
(c⁄° *
fmt
, 
va_li°
 
≠
)

493 
ªtv
 = 0;

495 i‡(
g_pvPrötkFûe
) {

496 
va_li°
 
≠_c›y
;

498 
	`va_c›y
(
≠_c›y
, 
≠
);

499 
ªtv
 = 
	`vosVPrötkFûe
(
fmt
,
≠_c›y
);

500 
	`va_íd
(
≠_c›y
);

504 i‡(
g_nC⁄sﬁeE«bÀd
){

505 
ªtv
 = 
	`v¥ötf
(
fmt
,
≠
);

507  
ªtv
;

508 
	}
}

510 
	$vosPrötk
(c⁄° *
fmt
, ...)

512 
ªtv
;

513 
va_li°
 
v¨g
;

514 
	`va_°¨t
(
v¨g
, 
fmt
);

515 
ªtv
 = 
	`vosVPrötk
(
fmt
, 
v¨g
);

516 
	`va_íd
(
v¨g
);

517  
ªtv
;

518 
	}
}

521 
	$vosRódLöe
(
ªadFd
, 
wrôeFd
, *
¥om±
, *
buf
, 
bufsize
, *
deÊ
)

523 *
s
, *
fuŒ_¥om±
, *
c⁄t_¥om±
;

524 *
t
;

526 i‡(
bufsize
 == 0)

527  
NULL
;

529 
c⁄t_¥om±
 = 
¥om±
[0] ? "? " : "";

530 
fuŒ_¥om±
 = 
	`vosAŒoc
(
	`°æí
(
¥om±
Ë+ (
deÊ
 ? strlen(defl) : 0) + 8);

531 
	`°r˝y
(
fuŒ_¥om±
, 
¥om±
);

532 i‡(
deÊ
)

533 
	`•rötf
(
fuŒ_¥om±
 + 
	`°æí
(fuŒ_¥om±), "[%s] ", 
deÊ
);

534 
t
 = 
	`vosAŒoc
(
bufsize
);

535 
	`vosPrötf
(
wrôeFd
, "%s", 
fuŒ_¥om±
);

537 i‡((
s
 = 
	`vosFGës
(
t
, 
bufsize
, 
ªadFd
)) == 0) {

538 
	`vosFªe
(
t
);

540 
s
[
bufsize
 - 1] = 0;

541 i‡((
t
 = 
	`°rchr
(
s
, '\n')) != 0)

542 *
t
 = 0;

544 
t
 = 
s
; *t;Å++)

545 i‡(*
t
 < 32 && *t != 7 && *t != 9)

546 *
t
 = ' ';

549 i‡(
s
 == 0) {

550 
buf
[0] = 0;

552 
buf
 = 0;

553 
d⁄e
;

555 
	`vosPrötf
(
wrôeFd
, "%s\r\n", 
s
);

558 i‡(
s
[0] == 0) {

559 i‡(! 
deÊ
)

560 
buf
[0] = 0;

561 i‡(
buf
 !
deÊ
) {

562 
	`°∫˝y
(
buf
, 
deÊ
, 
bufsize
);

563 
buf
[
bufsize
 - 1] = 0;

566 i‡(
	`°æí
(
s
Ë>(
size_t
)(
bufsize
 - 1))

567 
	`vosPrötf
(
wrôeFd
, "WARNING: inputÜineÅruncatedÅo %d chars\r\n",

568 
bufsize
 - 1);

569 
	`°∫˝y
(
buf
, 
s
, 
bufsize
);

570 
buf
[
bufsize
 - 1] = 0;

572 
	`vosFªe
(
s
);

577 
s
 = 
buf
 + 
	`°æí
(buf) - 1;

578 i‡(*
s
 ='\\' && 
	`vosRódLöe
(
ªadFd
, 
wrôeFd
, 
c⁄t_¥om±
, s, 
bufsize
 - (†- 
buf
), 0) == 0)

579 
buf
 = 0;

580 
d⁄e
:

581 
	`vosFªe
(
fuŒ_¥om±
);

582  
buf
;

583 
	}
}

585 
	$vosGëCh¨
(
fd
)

587 
c
 = 0;

588 
ªt
;

589 
ªt
 = 
	`ªad
(
fd
, &
c
, 1);

590 i‡(
ªt
 < 0) {

593  ()
c
;

594 
	}
}

596 * 
	$vosGës
(
fd
, *
s
)

598 
c
;

599 *
p
 = 
s
;

600 i‡(
s
) {

601 
c
 = 
	`vosGëCh¨
(
fd
);

602 
c
 !
EOF
 && c != '\n')

604 *
p
++ = 
c
;

605 
c
 = 
	`vosGëCh¨
(
fd
);

607 i‡(
c
 == '\n') {

608 *
p
++ = '\n';

610 *
p
 = '\0';

611  
s
;

614  
NULL
;

615 
	}
}

617 * 
	$vosFGës
(*
s
, 
size
, 
fd
)

619 
˙t
 = 0;

620 
c
;

621 *
p
 = 
s
;

622 i‡(
s
) {

623 
c
 = 
	`vosGëCh¨
(
fd
);

624 
c
 !
EOF
 && c != '\n')

626 *
p
++ = 
c
;

627 
c
 = 
	`vosGëCh¨
(
fd
);

628 
˙t
++;

629 i‡(
˙t
 >
size
)

632 i‡(
c
 ='\n' && 
˙t
 < 
size
) {

633 *
p
++ = '\n';

635 i‡(
˙t
 < 
size
) {

636 *
p
 = '\0';

638  
s
;

641  
NULL
;

642 
	}
}

644 
	$vosRódCh¨
(
ªadFd
, 
wrôeFd
, c⁄° *
¥om±
)

646 
buf
[64];

647 
	`vosPrötf
(
wrôeFd
, "%s", 
¥om±
);

648 i‡(
NULL
 =(
	`vosFGës
(
buf
, 64, 
ªadFd
))) {

649 (
EOF
);

651 (
buf
[0]);

653 
	}
}

655 
	$vosSa„Ród
(
fd
, *
buf
, 
UINT32
 
cou¡
)

657 
n
;

660 
n
 = 
	`ªad
(
fd
, 
buf
, 
cou¡
);

661 } 
n
 < 0 && 
î∫o
 =
EINTR
);

663  
n
;

664 
	}
}

666 
	$vosSa„Wrôe
(
fd
, c⁄° *
buf
, 
UINT32
 
cou¡
)

668 
n
;

671 
n
 = 
	`wrôe
(
fd
, 
buf
, 
cou¡
);

672 } 
n
 < 0 && 
î∫o
 =
EINTR
);

674  
n
;

675 
	}
}

677 
	$vosPutCh¨
(
fd
, 
c
)

679  
	`wrôe
(
fd
, &
c
, 1);

680 
	}
}

682 
	$vosPuts
(
fd
, c⁄° *
s
)

684 
ªt
 = -1;

685 
CR
 = '\r';

686 
LF
 = '\n';

687 i‡(
s
) {

688 
ªt
 = 
	`wrôe
(
fd
, 
s
, 
	`vosSåLí
(s));

689 
ªt
 +
	`wrôe
(
fd
, &
CR
, 1);

690 
ªt
 +
	`wrôe
(
fd
, &
LF
, 1);

691  
ªt
;

694  
ªt
;

695 
	}
}

697 
	$vosFPuts
(
fd
, c⁄° *
s
)

699 i‡(
s
) {

700  
	`wrôe
(
fd
, 
s
, 
	`vosSåLí
(s));

704 
	}
}

724 
	$vosVPrötf
(
fd
, c⁄° *
fmt
, 
va_li°
 
v¨g
)

726 
ªtv
;

727 *
buf
 = 
NULL
;

728 
iBufLí
 = 0;

734 
	`vosC⁄sﬁeLock
();

736 i‡(
NULL
 =
buf
)

737 
buf
 = (*)
	`vosAŒoc
(4096);

739 
	`v¢¥ötf
(
buf
, 4096, 
fmt
, 
v¨g
);

743 
g_szPrötBuf
[4096 * 2 + 1];

744 
g_iIsPrötf
;

746 i‡(1 =
g_iIsPrötf
 )

748 
iBufLí
 = 
	`vosSåLí
(
g_szPrötBuf
);

750 if(0 =
iBufLí
)

752 
	`vosSåCpy
(
g_szPrötBuf
, 
buf
);

754 if(
iBufLí
 <= 4096 * 2)

756 
	`vosSåC©
(
g_szPrötBuf
, 
buf
);

761 
ªtv
 = 
	`vosFPuts
(
fd
, 
buf
);

763 
	`vosC⁄sﬁeU∆ock
();

765  
ªtv
;

766 
	}
}

787 
	$vosPrötf
(
fd
, c⁄° *
fmt
, ...)

789 
ªtv
;

790 
va_li°
 
v¨g
;

791 
	`va_°¨t
(
v¨g
, 
fmt
);

792 
ªtv
 = 
	`vosVPrötf
(
fd
, 
fmt
, 
v¨g
);

793 
	`va_íd
(
v¨g
);

794  
ªtv
;

795 
	}
}

798 
	$vosN⁄BlockögOn
(
fd
)

800  
	`f˙é
(
fd
, 
F_SETFL
, f˙é(fd,
F_GETFL
,0Ë| 
O_NONBLOCK
);

801 
	}
}

803 
	$vosN⁄BlockögOff
(
fd
)

805  
	`f˙é
(
fd
, 
F_SETFL
, f˙é(fd,
F_GETFL
,0Ë& ~
O_NONBLOCK
);

806 
	}
}

827 
	$vosFûeRód
–*
fûíame
, **
buf„r
 )

829 
FILE
 *
pFûe
;

830 
CurPos1
, 
CurPos2
, 
RódByãs
, 
FûeSize
;

831 
ch
;

832 *
pD©a
=
NULL
;

834 
pFûe
 = 
	`f›í
(
fûíame
, "rb");

835 i‡(
pFûe
 =
NULL
)

837 *
buf„r
 = 
NULL
;

841 
FûeSize
 = 0;

843 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

845 
FûeSize
++;

848 i‡(
FûeSize
 <= 0)

850 
	`f˛o£
(
pFûe
);

851 *
buf„r
 = 
NULL
;

855 
pD©a
 = (*Ë
	`vosAŒoc
(
FûeSize
);

856 if(
pD©a
 =
NULL
)

859 
	`f˛o£
(
pFûe
);

860 *
buf„r
 = 
NULL
;

865 
	`f˛o£
(
pFûe
);

867 
pFûe
 = 
	`f›í
(
fûíame
, "rb");

868 i‡(
pFûe
 =
NULL
)

870 *
buf„r
 = 
NULL
;

871 
	`vosFªe
(
pD©a
);

875 
RódByãs
 = 0;

876 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

878 
pD©a
[
RódByãs
++] = ()
ch
;

881 if–
RódByãs
 !
FûeSize
 )

885 
	`f˛o£
(
pFûe
);

886 
	`vosFªe
(
pD©a
);

887 *
buf„r
 = 
NULL
;

891 *
buf„r
 = 
pD©a
;

892 
	`f˛o£
(
pFûe
);

893  
FûeSize
;

894 
	}
}

918 
	$vosFûeWrôe
–*
fûíame
, *
buf„r
, 
size_t
 
nbyãs
 )

920 
FILE
 *
pFûe
;

921 
nWrŸeByãs
;

923 
pFûe
 = 
	`f›í
(
fûíame
, "wb");

924 i‡(
pFûe
 =
NULL
)

929 
nWrŸeByãs
 = 
	`fwrôe
(
buf„r
, 1, 
nbyãs
, 
pFûe
);

931 
	`f˛o£
(
pFûe
);

933  
nWrŸeByãs
;

934 
	}
}

954 
	$vosFûeSize
–*
fûíame
)

956 
FILE
 *
pFûe
;

957 
CurPos1
, 
CurPos2
, 
RódByãs
, 
FûeSize
;

958 
ch
;

959 *
pD©a
=
NULL
;

961 
pFûe
 = 
	`f›í
(
fûíame
, "rb");

962 i‡(
pFûe
 =
NULL
)

967 
FûeSize
 = 0;

969 (
ch
 = 
	`fgëc
(
pFûe
)Ë!
EOF
)

971 
FûeSize
++;

974 i‡(
FûeSize
 <= 0)

976 
	`f˛o£
(
pFûe
);

980 
	`f˛o£
(
pFûe
);

981  
FûeSize
;

982 
	}
}

	@multicast/src/vos_libc.c

29 
	~<vos_libc.h
>

30 
	~<vos_Æloc.h
>

31 
	~<°dlib.h
>

32 
	~<î∫o.h
>

34 
	~<sys/waô.h
>

36 #i‚de‡
RTOS_STRINGS


39 
	$vosSåLí
(c⁄° *
s
)

41 c⁄° *
s_‹ig
 = 
s
;

43 i‡(
NULL
 =
s
)

46 *
s
 != 0) {

47 
s
++;

50  (
s
 - 
s_‹ig
);

51 
	}
}

54 
	$vosSåCpy
(*
d°
, c⁄° *
§c
)

56 *
d°_‹ig
 = 
d°
;

58 (*
d°
++ = *
§c
++) != 0)

61  
d°_‹ig
;

62 
	}
}

68 
	$vosSåCmp
(c⁄° *
s1
, c⁄° *
s2
)

71 i‡(*
s1
 < *
s2
) {

73 } i‡(*
s1
 > *
s2
) {

76 
s1
++;

77 } *
s2
++);

80 
	}
}

83 
	$vosMemCpy
(*
d°_void
, c⁄° *
§c_void
, 
size_t
 
Àn
)

85 *
d°
 = 
d°_void
;

86 c⁄° *
§c
 = 
§c_void
;

88 
Àn
--) {

89 *
d°
++ = *
§c
++;

92  
d°_void
;

93 
	}
}

96 
	$vosMemSë
(*
d°_void
, 
vÆ
, 
size_t
 
Àn
)

98 *
d°
 = 
d°_void
;

100 
Àn
--) {

101 *
d°
++ = (Ë
vÆ
;

104  
d°_void
;

105 
	}
}

111 
	$vosMemCmp
(c⁄° *
m1_void
, c⁄° *
m2_void
, 
size_t
 
Àn
)

113 c⁄° *
m1
 = 
m1_void
, *
m2
 = 
m2_void
;

115 
Àn
-- != 0) {

116 i‡(*
m1
 < *
m2
) {

118 } i‡(*
m1
 > *
m2
) {

121 
m1
++;

122 
m2
++;

126 
	}
}

129 
	$vosSåDup
(c⁄° *
s
)

131 
Àn
 = 
	`vosSåLí
(
s
);

132 *
rc
 = 
	`vosAŒoc
(
Àn
 + 1);

133 i‡(
rc
 !
NULL
) {

134 
	`vosSåCpy
(
rc
, 
s
);

136  
rc
;

137 
	}
}

147 
	$vosSåToI¡
(c⁄° *
s
, **
íd
)

149 
n
, 
√g
, 
ba£
 = 10;

151 i‡(
s
 == 0) {

152 i‡(
íd
 != 0) {

153 
íd
 = 0;

158 
s
 +(
√g
 = (*s == '-'));

160 i‡(*
s
 == '0') {

161 
s
++;

162 i‡(*
s
 == 'x' || *s == 'X') {

163 
ba£
 = 16;

164 
s
++;

165 } i‡(*
s
 == 'b' || *s == 'B') {

166 
ba£
 = 2;

167 
s
++;

169 
ba£
 = 8;

173 
n
 = 0; ((*
s
 >'a' && *†< ()('a' + 
ba£
 - 10)) ||

174 (*
s
 >'A' && *†< ()('A' + 
ba£
 - 10)) ||

175 (*
s
 >= '0' && *s <= '9')); s++) {

176 
n
 =Ç * 
ba£
 + ((*
s
 <= '9' ? *s : *s + 9) & 15);

179 i‡(
íd
 != 0) {

180 *
íd
 = (*Ë
s
;

183  (Ë(
√g
 ? -
n
 :Ç);

184 
	}
}

187 
	$vosSåToUI¡
(c⁄° *
s
, **
íd
)

189 
n
, 
√g
, 
ba£
 = 10;

191 i‡(
s
 == 0) {

192 i‡(
íd
 != 0) {

193 
íd
 = 0;

198 
s
 +(
√g
 = (*s == '-'));

200 i‡(*
s
 == '0') {

201 
s
++;

202 i‡(*
s
 == 'x' || *s == 'X') {

203 
ba£
 = 16;

204 
s
++;

205 } i‡(*
s
 == 'b' || *s == 'B') {

206 
ba£
 = 2;

207 
s
++;

209 
ba£
 = 8;

213 
n
 = 0; ((*
s
 >'a' && *†< ()('a' + 
ba£
 - 10)) ||

214 (*
s
 >'A' && *†< ()('A' + 
ba£
 - 10)) ||

215 (*
s
 >= '0' && *s <= '9')); s++) {

216 
n
 =Ç * 
ba£
 + ((*
s
 <= '9' ? *s : *s + 9) & 15);

219 i‡(
íd
 != 0) {

220 *
íd
 = (*Ë
s
;

223  (
√g
 ? -
n
 :Ç);

224 
	}
}

228 
	$vosI¡ToSå
(*
buf
,

229 
uöt32
 
num
,

230 
ba£
,

231 
ˇps
,

232 
¥ec
)

234 
tmp
[36], *
s
, *
digôs
;

236 
digôs
 = (
ˇps
 ? "0123456789ABCDEF" : "0123456789abcdef");

238 
s
 = &
tmp
[ (tmp) - 1];

240 *
s
 = 0; 
num
 || s =&
tmp
[ (tmpË- 1];Çum /
ba£
, 
¥ec
--)

241 *--
s
 = 
digôs
[
num
 % 
ba£
];

243 
¥ec
-- > 0)

244 *--
s
 = '0';

246 
	`vosSåCpy
(
buf
, 
s
);

247 
	}
}

249 *
	$vosSåSå
(c⁄° *
s1
, c⁄° *
s2
)

251 c⁄° *
s
 = 
s1
;

252 c⁄° *
p
 = 
s2
;

255 i‡(!*
p
) {

256  (*Ë
s1
;;

258 i‡(*
p
 =*
s
) {

259 ++
p
;

260 ++
s
;

262 
p
 = 
s2
;

263 i‡(!*
s
) {

264  
NULL
;

266 
s
 = ++
s1
;

269 
	}
}

272 
	$vosSåC©
(*
d°
, c⁄° *
§c
)

274 *
s1
 = 
d°
;

275 c⁄° *
s2
 = 
§c
;

276 
c
;

280 
c
 = *
s1
++;

281 
c
 != '\0');

285 
s1
 -= 2;

289 
c
 = *
s2
++;

290 *++
s1
 = 
c
;

292 
c
 != '\0');

294  
d°
;

296 
	}
}

297 
	#COMPILER_HAS_DOUBLE


	)

299 #ifde‡
COMPILER_HAS_DOUBLE


302 
	$vosDoubÀToSå
(*
buf
, 
f
, 
decimÆs
)

304 
exp
 = 0;

305 
öt_∑π
;

306 
round
;

307 
i
;

309 i‡(
f
 < 0.0) {

310 *
buf
++ = '-';

311 
f
 = -f;

314 
round
 = 0.5, 
i
 = 0; i < 
decimÆs
; i++)

315 
round
 /= 10.0;

317 
f
 +
round
;

319 i‡(
f
 >= 4294967296.0)

320 
f
 >= 10.0) {

321 
f
 /= 10.0;

322 
exp
++;

325 
öt_∑π
 = (Ë
f
;

326 
f
 -
öt_∑π
;

328 
	`vosI¡ToSå
(
buf
, 
öt_∑π
, 10, 0, 0);

329 *
buf
)

330 
buf
++;

332 *
buf
++ = '.';

334 
i
 = 0; i < 
decimÆs
; i++) {

335 
f
 *= 10.0;

336 
öt_∑π
 = (Ë
f
;

337 
f
 -
öt_∑π
;

338 *
buf
++ = '0' + 
öt_∑π
;

341 i‡(
exp
) {

342 *
buf
++ = 'e';

343 
	`vosI¡ToSå
(
buf
, 
exp
, 10, 0, 0);

345 *
buf
 = 0;

346 
	}
}

350 
	#X_STORE
(
c
) { \

351 i‡(
bp
 < 
be
) \

352 *
bp
 = (
c
); \

353 
bp
++; \

354 }

	)

356 
	#X_INF
 0x7ffffff0

	)

358 
	$vosVS≈rötf
(*
buf
, 
size_t
 
bufsize
, c⁄° *
fmt
, 
va_li°
 
≠
)

360 
c
, *
bp
, *
be
;

362 
bp
 = 
buf
;

363 
be
 = (
bufsize
 =
X_INF
Ë? ((*Ë0Ë- 1 : &
buf
[bufsize - 1];

365 (
c
 = *
fmt
++) != 0) {

366 
width
 = 0, 
lju°
 = 0, 
∂us
 = 0, 
•a˚
 = 0;

367 
Ætf‹m
 = 0, 
¥ec
 = 0, 
hÆf
 = 0, 
ba£
 = 0;

368 
é⁄g
 = 0, 
fûlz
 = 0, 
∂í
, 
∑d
, 
¥ec_giví
 = 0;

369 
num
 = 0;

370 
tmp
[36], *
p
 =Åmp;

372 i‡(
c
 != '%') {

373 
	`X_STORE
(
c
);

377 
c
 = *
fmt
++; ; c = *fmt++)

378 
c
) {

379 'h': 
hÆf
 = 1; ;

380 'l': 
é⁄g
 = 1; ;

381 '-': 
lju°
 = 1; ;

382 '+': 
∂us
 = 1; ;

383 ' ': 
•a˚
 = 1; ;

384 '0': 
fûlz
 = 1; ;

385 '#': 
Ætf‹m
 = 1; ;

386 '*': 
width
 = -1; ;

388 i‡((
c
 = *
fmt
++) == '*')

389 
¥ec
 = -1;

391 
¥ec
 = 0; 
c
 >'0' && c <'9'; c = *
fmt
++)

392 
¥ec
 =Öª¯* 10 + (
c
 - '0');

393 
fmt
--;

395 
¥ec_giví
 = 1;

398 i‡(
c
 >= '1' && c <= '9') {

399 
width
 = 0; 
c
 >'0' && c <'9'; c = *
fmt
++)

400 
width
 = width * 10 + (
c
 - '0');

401 
fmt
--;

403 
bªak_f‹
;

406 
bªak_f‹
:

408 i‡(
width
 == -1)

409 
width
 = 
	`va_¨g
(
≠
,);

410 i‡(
¥ec
 == -1)

411 
¥ec
 = 
	`va_¨g
(
≠
,);

413 i‡(
c
 == 0)

416 
c
) {

419 
num
 = 
é⁄g
 ? 
	`va_¨g
(
≠
, ) : va_arg(ap, );

420 i‡(
hÆf
)

421 
num
 = () ()Çum;

423 i‡(
fûlz
 && (
num
 < 0 || 
∂us
 || 
•a˚
)) {

424 
	`X_STORE
(
num
 < 0 ? '-' : 
•a˚
 ? ' ' : '+');

425 i‡(
width
 > 0)

426 
width
--;

427 i‡(
num
 < 0)

428 
num
 = -num;

430 i‡(! 
fûlz
) {

431 i‡(
num
 < 0) {

432 *
p
++ = '-';

433 
num
 = -num;

434 } i‡(
∂us
)

435 *
p
++ = '+';

436 i‡(
•a˚
)

437 *
p
++ = ' ';

439 
ba£
 = 10;

442 
num
 = 
é⁄g
 ? 
	`va_¨g
(
≠
, ) : va_arg(ap, );

443 i‡(
hÆf
)

444 
num
 = () ()Çum;

445 
ba£
 = 10;

448 
Ætf‹m
 = 0;

452 
num
 = 
é⁄g
 ? 
	`va_¨g
(
≠
, ) : va_arg(ap, );

453 i‡(
hÆf
)

454 
num
 = () ()Çum;

455 i‡(
Ætf‹m
) {

456 
¥ec
 += 2;

457 *
p
++ = '0';

458 *
p
++ = 
c
;

460 
ba£
 = 16;

464 
num
 = 
é⁄g
 ? 
	`va_¨g
(
≠
, ) : va_arg(ap, );

465 i‡(
hÆf
)

466 
num
 = () ()Çum;

467 i‡(
Ætf‹m
) {

468 
¥ec
++;

469 *
p
++ = '0';

471 
ba£
 = 8;

473 #ifde‡
COMPILER_HAS_DOUBLE


476 
f
;

478 
f
 = 
	`va_¨g
(
≠
, );

479 i‡(! 
¥ec_giví
)

480 
¥ec
 = 6;

481 
	`vosDoubÀToSå
(
p
, 
f
, 
¥ec
);

482 
fûlz
 = 0;

483 
p
 = 
tmp
;

484 
¥ec
 = 
X_INF
;

489 
p
 = 
	`va_¨g
(
≠
,*);

490 i‡(
¥ec
 == 0)

491 
¥ec
 = 
X_INF
;

494 
p
[0] = 
	`va_¨g
(
≠
,);

495 
p
[1] = 0;

496 
¥ec
 = 1;

499 *
	`va_¨g
(
≠
,*Ë
bp
 - 
buf
;

500 
p
[0] = 0;

503 
p
[0] = '%';

504 
p
[1] = 0;

505 
¥ec
 = 1;

508 
	`X_STORE
(
c
);

512 i‡(
ba£
 != 0) {

513 
	`vosI¡ToSå
(
p
, (Ë
num
, 
ba£
, (
c
 ='X'), 
¥ec
);

514 i‡(
¥ec
)

515 
fûlz
 = 0;

516 
p
 = 
tmp
;

517 
¥ec
 = 
X_INF
;

520 i‡((
∂í
 = 
	`vosSåLí
(
p
)Ë> 
¥ec
)

521 
∂í
 = 
¥ec
;

523 i‡(
width
 < 
∂í
)

524 
width
 = 
∂í
;

526 
∑d
 = 
width
 - 
∂í
;

528 ! 
lju°
 && 
∑d
-- > 0)

529 
	`X_STORE
(
fûlz
 ? '0' : ' ');

530 ; 
∂í
-- > 0 && 
width
-- > 0; 
p
++)

531 
	`X_STORE
(*
p
);

532 
∑d
-- > 0)

533 
	`X_STORE
(' ');

536 i‡(
bp
 < 
be
)

537 *
bp
 = 0;

539 *
be
 = 0;

541  (
bp
 - 
buf
);

542 
	}
}

544 
	$vosVS¥ötf
(*
buf
, c⁄° *
fmt
, 
va_li°
 
≠
)

546  
	`v¢¥ötf
(
buf
, (
size_t
Ë
X_INF
, 
fmt
, 
≠
);

547 
	}
}

549 
	$vosS≈rötf
(*
buf
, 
size_t
 
bufsize
, c⁄° *
fmt
, ...)

551 
va_li°
 
≠
;

552 
r
;

554 
	`va_°¨t
(
≠
,
fmt
);

555 
r
 = 
	`v¢¥ötf
(
buf
, 
bufsize
, 
fmt
, 
≠
);

556 
	`va_íd
(
≠
);

558  
r
;

559 
	}
}

561 
	$vosS¥ötf
(*
buf
, c⁄° *
fmt
, ...)

563 
va_li°
 
≠
;

564 
r
;

566 
	`va_°¨t
(
≠
,
fmt
);

567 
r
 = 
	`v¢¥ötf
(
buf
, (
size_t
Ë
X_INF
, 
fmt
, 
≠
);

568 
	`va_íd
(
≠
);

570  
r
;

571 
	}
}

573 * 
	$vosSa„SåNCpy
(*
d°
, c⁄° *
§c
, 
size_t
 
size
)

575 i‡(!
size
Ë 
d°
;

576 
d°
[--
size
] = '\0';

577  
	`°∫˝y
(
d°
, 
§c
, 
size
);

578 
	}
}

580 * 
	$vosLa°Ch¨Is
(c⁄° *
s
, 
c
)

582 i‡(
s
 && *s) {

583 
size_t
 
sz
 = 
	`°æí
(
s
) - 1;

584 
s
 +
sz
;

585 i‡–()*
s
 =
c
)

586  (*)
s
;

588  
NULL
;

589 
	}
}

596 *
	$vosVA•rötf
(c⁄° *
fmt
, 
va_li°
 *
¨gs
)

598 
r
;

599 *
s
, *
ªsu…
;

600 c⁄° *
p
 = 
fmt
;

603 
tŸÆ_width
 = 
	`vosSåLí
 (
fmt
) + 1;

604 
va_li°
 
≠
;

606 
	`mem˝y
(&
≠
, 
¨gs
, (
va_li°
));

608 *
p
 != '\0')

610 i‡(*
p
++ == '%')

612 
	`°rchr
 ("-+ #0", *
p
))

613 ++
p
;

614 i‡(*
p
 == '*')

616 ++
p
;

617 
tŸÆ_width
 +
	`abs
 (
	`va_¨g
 (
≠
, ));

620 
tŸÆ_width
 +
	`°πoul
 (
p
, (**) &p, 10);

621 i‡(*
p
 == '.')

623 ++
p
;

624 i‡(*
p
 == '*')

626 ++
p
;

627 
tŸÆ_width
 +
	`abs
 (
	`va_¨g
 (
≠
, ));

630 
tŸÆ_width
 +
	`°πoul
 (
p
, (**) &p, 10);

632 
	`°rchr
 ("hlL", *
p
))

633 ++
p
;

635 
tŸÆ_width
 += 30;

636 *
p
)

645 (Ë
	`va_¨g
 (
≠
, );

652 (Ë
	`va_¨g
 (
≠
, );

655 
tŸÆ_width
 += 307;

658 
tŸÆ_width
 +
	`vosSåLí
 (
	`va_¨g
 (
≠
, *));

662 (Ë
	`va_¨g
 (
≠
, *);

665 
p
++;

668 
ªsu…
 = 
	`vosAŒoc
 (
tŸÆ_width
);

670 i‡(
ªsu…
 !
NULL
) {

671 
	`v•rötf
(
ªsu…
, 
fmt
, *
¨gs
);

674  
ªsu…
;

675 
	}
}

677 *
	$vosA•rötf
(c⁄° *
fmt
, ...)

679 
va_li°
 
p
;

680 *
°rög_±r
;

682 
	`va_°¨t
(
p
, 
fmt
);

683 
°rög_±r
 = 
	`vosVA•rötf
(
fmt
, &
p
);

684 
	`va_íd
(
p
);

686  
°rög_±r
;

687 
	}
}

689 
uöt32
 *
	$¸c32FûlTabÀ
(
ídün
)

691 
uöt32
 *
¸c_èbÀ
 = 
	`vosAŒoc
(256 * (uint32));

692 
uöt32
 
pﬁynomül
 = 
ídün
 ? 0x04c11db7 : 0xedb88320;

693 
uöt32
 
c
;

694 
i
, 
j
;

696 
i
 = 0; i < 256; i++) {

697 
c
 = 
ídün
 ? (
i
 << 24) : i;

698 
j
 = 8; j; j--) {

699 i‡(
ídün
)

700 
c
 = (c&0x80000000Ë? ((¯<< 1Ë^ 
pﬁynomül
) : (c << 1);

702 
c
 = (c&1Ë? ((¯>> 1Ë^ 
pﬁynomül
) : (c >> 1);

704 *
¸c_èbÀ
++ = 
c
;

707  
¸c_èbÀ
 - 256;

708 
	}
}

709 
	#OPCONN_BIG_ENDIAN


	)

710 
uöt32
 
	$vosCRC32
(c⁄° *
s
,
size
)

712 #i‡
	`deföed
(
OPL_BIG_ENDIANESS
Ë|| deföed(
OPCONN_BIG_ENDIAN
)

713 
uöt32
 *
¸c32_èbÀ
 = 
	`¸c32FûlTabÀ
(1);

715 
uöt32
 *
¸c32_èbÀ
 = 
	`¸c32FûlTabÀ
(0);

718 
uöt32
 
¸c
;

719 
Àngth
;

720 
byãs_ªad
;

721 *
˝
;

723 
¸c
 = 0;

724 
Àngth
 = 0;

725 
byãs_ªad
=
size
;

727 
˝
 = (*)
s
;

728 
Àngth
 +
byãs_ªad
;

729 
byãs_ªad
--)

730 
¸c
 = (¸¯<< 8Ë^ 
¸c32_èbÀ
[((¸¯>> 24Ë^ (*
˝
++)) & 0xffL];

732 ; 
Àngth
;Üength >>= 8)

733 
¸c
 = (¸¯<< 8Ë^ 
¸c32_èbÀ
[((¸¯>> 24Ë^ 
Àngth
) & 0xffL];

734 
¸c
 ^= 0xffffffffL;

736 
	`vosFªe
(
¸c32_èbÀ
);

737  
¸c
;

738 
	}
}

740 
	$vosCheckCRC
(c⁄° *
s
,
size
,
vÆue
)

742 
uöt32
 
¸c
 = 
	`vosCRC32
(
s
, 
size
);

744 if(
¸c
 =
vÆue
){

745  
OK
;

748  
ERROR
;

749 
	}
}

751 
	$vosSy°em
(c⁄° *
cmd
)

753 
°©
;

754 
pid_t
 
pid
;

755 
siga˘i⁄
 
ß
, 
ßvöå
, 
ßvequô
;

756 
sig£t_t
 
ßveblock
;

757 i‡(
cmd
 =
NULL
)

759 
ß
.
ß_h™dÀr
 = 
SIG_IGN
;

760 
	`sigem±y£t
(&
ß
.
ß_mask
);

761 
ß
.
ß_Êags
 = 0;

762 
	`sigem±y£t
(&
ßvöå
.
ß_mask
);

763 
	`sigem±y£t
(&
ßvequô
.
ß_mask
);

764 
	`siga˘i⁄
(
SIGINT
, &
ß
, &
ßvöå
);

765 
	`siga˘i⁄
(
SIGQUIT
, &
ß
, &
ßvequô
);

766 
	`sigadd£t
(&
ß
.
ß_mask
, 
SIGCHLD
);

767 
	`sig¥ocmask
(
SIG_BLOCK
, &
ß
.
ß_mask
, &
ßveblock
);

768 i‡((
pid
 = 
	`f‹k
()) == 0) {

769 
	`siga˘i⁄
(
SIGINT
, &
ßvöå
, (
siga˘i⁄
 *)0);

770 
	`siga˘i⁄
(
SIGQUIT
, &
ßvequô
, (
siga˘i⁄
 *)0);

771 
	`sig¥ocmask
(
SIG_SETMASK
, &
ßveblock
, (
sig£t_t
 *)0);

772 
	`exe˛
("/bö/sh", "sh", "-c", 
cmd
, (*)0);

773 
	`_exô
(127);

775 i‡(
pid
 == -1) {

776 
°©
 = -1;

779 
	`waôpid
(
pid
, &
°©
, 0) < 0)

780 i‡(
î∫o
 !
EINTR
){

781 
°©
 = -1;

784 if(
	`WIFSTOPPED
(
°©
))

786 if(
	`WIFEXITED
(
°©
))

788 if(
	`WIFSIGNALED
(
°©
))

792 
	`siga˘i⁄
(
SIGINT
, &
ßvöå
, (
siga˘i⁄
 *)0);

793 
	`siga˘i⁄
(
SIGQUIT
, &
ßvequô
, (
siga˘i⁄
 *)0);

794 
	`sig¥ocmask
(
SIG_SETMASK
, &
ßveblock
, (
sig£t_t
 *)0);

795 (
°©
);

796 
	}
}

	@multicast/src/vos_match.c

29 
	~<vos_m©ch.h
>

30 
	~<vos_ty≥s.h
>

31 
	~<lw_ty≥.h
>

33 
	#ASTERISK
 '*'

	)

34 
	#QUESTION
 '?'

	)

35 
	#LEFT_BRACKET
 '['

	)

36 
	#RIGHT_BRACKET
 ']'

	)

38 
	#IS_OCTAL
(
ch
Ë(ch >'0' && ch <'7')

	)

40 
	#EOS
 '\000'

	)

42 
doLi°
 (*
°rög
, *
∑âîn
);

43 
√xtCh¨
 (**
∑ç
);

44 
li°P¨£
 (**
∑ç
, *
lowp
, *
highp
);

97 
	$vosM©ch
(*
°rög
, *
∑âîn
)

99 
ism©ch
;

101 
ism©ch
 = 
FALSE
;

102 *
∑âîn
) {

103 
ASTERISK
:

104 
∑âîn
++;

106 
ism©ch
 = 
	`vosM©ch
 (
°rög
, 
∑âîn
);

107 } !
ism©ch
 && *
°rög
++ !
EOS
);

109 
QUESTION
:

110 i‡(*
°rög
 !
EOS
) {

111 
ism©ch
 = 
	`vosM©ch
 (++
°rög
, ++
∑âîn
);

114 
EOS
:

115 i‡(*
°rög
 =
EOS
) {

116 
ism©ch
 = 
TRUE
;

119 
LEFT_BRACKET
:

120 i‡(*
°rög
 !
EOS
) {

121 
ism©ch
 = 
	`doLi°
 (
°rög
, 
∑âîn
);

125 i‡(*
°rög
++ =*
∑âîn
++) {

126 
ism©ch
 = 
	`vosM©ch
 (
°rög
, 
∑âîn
);

128 
ism©ch
 = 
FALSE
;

132  (
ism©ch
);

133 
	}
}

212 
	$doLi°
 (*
°rög
, *
∑âîn
)

214 
ism©ch
;

215 
if_found
;

216 
if_nŸ_found
;

217 autÿ
lowî
;

218 autÿ
uµî
;

220 
∑âîn
++;

221 i‡(*
∑âîn
 == '!') {

222 
if_found
 = 
FALSE
;

223 
if_nŸ_found
 = 
TRUE
;

224 
∑âîn
++;

226 
if_found
 = 
TRUE
;

227 
if_nŸ_found
 = 
FALSE
;

229 
ism©ch
 = 
if_nŸ_found
;

230 *
∑âîn
 !']' && *∑âî¿!
EOS
) {

231 
	`li°P¨£
 (&
∑âîn
, &
lowî
, &
uµî
);

232 i‡(*
°rög
 >
lowî
 && *°rög <
uµî
) {

233 
ism©ch
 = 
if_found
;

234 *
∑âîn
 !']' && *∑âî¿!
EOS
) {pattern++;}

237 i‡(*
∑âîn
++ != ']') {

238 
	`Ârötf
 (
°dîr
, "warning - character classÉrror\n");

240 i‡(
ism©ch
) {

241 
ism©ch
 = 
	`vosM©ch
 (++
°rög
, 
∑âîn
);

244  (
ism©ch
);

245 
	}
}

269 
	$li°P¨£
 (**
∑ç
, *
lowp
, *
highp
)

271 *
lowp
 = 
	`√xtCh¨
 (
∑ç
);

272 i‡(**
∑ç
 == '-') {

273 (*
∑ç
)++;

274 *
highp
 = 
	`√xtCh¨
 (
∑ç
);

276 *
highp
 = *
lowp
;

278 
	}
}

302 
	$√xtCh¨
 (**
∑ç
)

304 
ch
;

305 
chsum
;

306 
cou¡
;

308 
ch
 = *(*
∑ç
)++;

309 i‡(
ch
 == '\\') {

310 
ch
 = *(*
∑ç
)++;

311 i‡(
	`IS_OCTAL
 (
ch
)) {

312 
chsum
 = 0;

313 
cou¡
 = 0; cou¡ < 3 && 
	`IS_OCTAL
 (
ch
); count++) {

314 
chsum
 *= 8;

315 
chsum
 +
ch
 - '0';

316 
ch
 = *(*
∑ç
)++;

318 (*
∑ç
)--;

319 
ch
 = 
chsum
;

322  (
ch
);

323 
	}
}

	@multicast/src/vos_msq.c

29 
	~<sys/ty≥s.h
>

30 
	~<sys/ùc.h
>

31 
	~<sys/msg.h
>

32 
	~<uni°d.h
>

34 
	~<vos_msq.h
>

35 
	~<vos_hash.h
>

36 
	~<vos_io.h
>

37 
	~<vos_Æloc.h
>

38 
	~<vos_libc.h
>

41 #i‚de‡
MSGMNB


42 
	#MSGMNB
 16384

	)

45 #¥agm®
∑ck
(1)

47 
	sOP_MSQID_s


49 
	m£qNo
;

50 
	mmsqid
;

51 } 
	tOP_MSQID_t
;

53 #¥agm®
∑ck
()

55 
	#MSQ_KEY_STR_LEN
 32

	)

57 
	#HASH_TABLE_SIZE
 32

	)

59 
	#MSQ_PATH_LEN
 64

	)

60 
	#MSQ_PROJ_ID
 5

	)

62 
HASH_TABLE_t
 *
	gg_p°MsqHashTb
;

63 
	gg_acMsqP©h
[
MSQ_PATH_LEN
];

64 
	gg_nMsqSeqNo
 = 0;

66 
	$msqSeqNoGë
()

68 
g_nMsqSeqNo
++;

70 i‡(
g_nMsqSeqNo
 > 
HASH_TABLE_SIZE
)

71 
g_nMsqSeqNo
 = 1;

72  
g_nMsqSeqNo
;

73 
	}
}

75 
	$msqDñëe
(*
key
, *
vÆue
)

77 
acMsqFûe
[
MSQ_PATH_LEN
];

78 
OP_MSQID_t
 *
pMsq
 = 
vÆue
;

80 i‡(
pMsq
)

82 
	`msg˘l
(
pMsq
->
msqid
, 
IPC_RMID
, 
NULL
);

83 
	`vosS¥ötf
(
acMsqFûe
, "%s/msq%d", 
g_acMsqP©h
, 
pMsq
->
£qNo
);

85 
	`vosRemove
(
acMsqFûe
);

87 
	`vosFªe
(
key
);

88 
	`vosFªe
(
vÆue
);

91 
	}
}

93 
	$msqRemoveExi°ed
(*
fûe
)

95 *
pMsqKeySå
 = 
NULL
;

96 
Àn
 = 0;

97 
mid
;

99 i‡(
fûe
)

101 
Àn
 = 
	`vosFûeRód
(
fûe
, &
pMsqKeySå
);

102 i‡(
Àn
 > 0 && 
pMsqKeySå
)

104 
mid
 = 
	`vosSåToI¡
(
pMsqKeySå
, 
NULL
);

105 
	`msg˘l
(
mid
, 
IPC_RMID
, 
NULL
);

107 
	`vosFªe
(
pMsqKeySå
);

109 
	`vosRemove
(
fûe
);

113 
	}
}

115 
	$vosMsqInô
(*
pcP©h
)

117 
VOS_DIR_t
 * 
pDú
;

119 i‡(
NULL
 =
pcP©h
)

120  
ERROR
;

122 
	`vosS≈rötf
(
g_acMsqP©h
, 
MSQ_PATH_LEN
, 
pcP©h
);

123 
pDú
 = 
	`vosO≥nDú
(
g_acMsqP©h
);

124 i‡(
pDú
 =
NULL
)

126 
	`vosMakeDú
(
g_acMsqP©h
);

130 
	`vosClo£Dú
(
pDú
);

133 
	`vosSˇnDúFûes
(
g_acMsqP©h
, "msq*", 
msqRemoveExi°ed
);

135 
g_p°MsqHashTb
 = 
	`vosHashCª©e
(
vosSåögHash
,

136 
vosEquÆSåög
,

137 
msqDñëe
,

138 
HASH_TABLE_SIZE
);

140  
OK
;

141 
	}
}

143 
	$vosMsqDe°roy
()

145 
	`vosHashFªe
(
g_p°MsqHashTb
);

147 
	`vosRemoveDú
(
g_acMsqP©h
);

148 
	}
}

151 
	$vosMsqCª©e
(
maxMsgLígth
)

153 
mid
;

154 
key_t
 
key
;

155 
msqid_ds
 
msgqidDs
;

156 
OP_MSQID_t
 *
pMsQID
;

157 
msqKeySå
[
MSQ_KEY_STR_LEN
] = {0};

158 
acMsqFûe
[
MSQ_PATH_LEN
];

159 
£qNo
 = 
	`msqSeqNoGë
();

160 
FILE
 *
pFûe
;

162 
	`vosS¥ötf
(
acMsqFûe
, "%s/msq%d", 
g_acMsqP©h
, 
£qNo
);

163 
pFûe
 = 
	`vosFO≥n
(
acMsqFûe
, "w");

164 i‡(
pFûe
 =
NULL
)

166  
ERROR
;

168 
	`vosFClo£
(
pFûe
);

170 
key
 = 
	`·ok
(
acMsqFûe
, ()
MSQ_PROJ_ID
);

172 
mid
 = 
	`msggë
(
key
, 
IPC_CREAT
|00666);

173 if(-1 =
mid
)

178 
pMsQID
 = (
OP_MSQID_t
 *)
	`vosAŒoc
((
OP_MSQID_s
));

179 i‡(
pMsQID
 =
NULL
)

183 
pMsQID
->
£qNo
 = seqNo;

184 
pMsQID
->
msqid
 = 
mid
;

186 
	`vosS≈rötf
(
msqKeySå
,
MSQ_KEY_STR_LEN
,"0x%08X", (
uöt32
)
mid
);

187 
	`vosHashIn£π
((*)
	`vosSåDup
(
msqKeySå
), (*)
pMsQID
, 
g_p°MsqHashTb
);

189 i‡(
maxMsgLígth
 > 
MSGMNB
)

191 
	`vosMemSë
(&
msgqidDs
, 0, (
msqid_ds
));

192 
msgqidDs
.
msg_≥rm
.
uid
 = 
	`gëuid
();

193 
msgqidDs
.
msg_≥rm
.
gid
 = 
	`gëgid
();

194 
msgqidDs
.
msg_qbyãs
 = 
maxMsgLígth
;

195 
	`msg˘l
(
mid
, 
IPC_SET
, &
msgqidDs
);

198 
	`vosFûeWrôe
(
acMsqFûe
, 
msqKeySå
, 
	`vosSåLí
(msqKeyStr));

200  
mid
;

201 
	}
}

203 
	$vosMsqSíd
(
msqid
, *
msgBuf
, 
uöt32
 
msgsz
)

205  
	`msg¢d
(
msqid
, 
msgBuf
, 
msgsz
, 
MSG_NOERROR
);

206 
	}
}

208 
uöt32
 
	$vosMsqRe˚ive
(
msqid
, *
msgBuf
, 
uöt32
 
msgsz
)

210  (
uöt32
)
	`msgrcv
(
msqid
, 
msgBuf
, 
msgsz
, 0, 
MSG_NOERROR
);

211 
	}
}

213 
	$vosMsqDñëe
(
msqid
)

215 
msqKeySå
[
MSQ_KEY_STR_LEN
] = {0};

217 
	`vosS≈rötf
(
msqKeySå
,
MSQ_KEY_STR_LEN
,"0x%08X", 
msqid
);

218 
	`vosHashRemove
((*)
msqKeySå
, 
g_p°MsqHashTb
);

221 
	}
}

	@multicast/src/vos_sync.c

29 
	~<sys/ty≥s.h
>

30 
	~<°dlib.h
>

31 
	~<î∫o.h
>

32 
	~<sig«l.h
>

33 
	~<uni°d.h
>

34 
	~<±hªad.h
>

35 
	~<£m≠h‹e.h
>

36 
	~<as£π.h
>

38 
	~<vos_Æloc.h
>

39 
	~<vos_thªad.h
>

40 
	~<vos_sync.h
>

44 
	$vosMuãxCª©e
(
±hªad_muãx_t
 *
muãx
)

46 
±hªad_muãx©å_t
 
©å
;

47 
	`±hªad_muãx©å_öô
(&
©å
);

48 
©å
.
__muãxköd
 = 
PTHREAD_MUTEX_RECURSIVE_NP
;

49  
	`±hªad_muãx_öô
(
muãx
, &
©å
);

50 
	}
}

52 
	$vosSemCª©e
(
£m_t
 *
£m
, 
sh¨ed
, 
öôül_cou¡
)

54  
	`£m_öô
(
£m
, 
sh¨ed
, 
öôül_cou¡
);

55 
	}
}

	@multicast/src/vos_thread.c

29 
	~<sys/ty≥s.h
>

30 
	~<sys/time.h
>

31 
	~<sys/∑øm.h
>

32 
	~<°dio.h
>

33 
	~<°dlib.h
>

34 
	~<sig«l.h
>

35 
	~<sched.h
>

36 
	~<°rög.h
>

37 
	~<uni°d.h
>

38 
	~<±hªad.h
>

39 
	~<as£π.h
>

40 
	~<vos_ty≥s.h
>

42 
	~<vos_thªad.h
>

43 
	~<vos_time.h
>

44 
	~<vos_sync.h
>

45 
	~<vos_Æloc.h
>

48 
	#THREAD_PRI
(
¥i
Ë(()(99-’ri)/2.603))

	)

50 
	sTHREAD_INFO_s
 {

51 *(*
	mvFunc
)(*);

52 
±hªad_t
 
	mtId
;

53 
	mnPid
;

54 
	mnSèckSize
;

55 
	mnPri‹ôy
;

56 *
	mpcName
;

57 *
	mpvArg
;

58 
THREAD_INFO_s
 *
	mp°Next
;

59 } 
	tTHREAD_INFO_t
;

61 
THREAD_INFO_t
 *
	gpInfoHód
;

62 
VOS_THREAD_t
 
	gpThªadMaö
 = 0;

63 
VOS_MUTEX_t
 
	gg_p°ThªadLock
;

66 
	gg_«SigLi°
[] = {

67 
SIGINT
, 
SIGPIPE
, 0

90 
	$vosThªadInô
()

92 i‡(
VOS_MUTEX_OK
 !
	`vosMuãxCª©e
(&
g_p°ThªadLock
))

94 
	`¥ötf
("vosThreadInit: create mutex failed.\r\n");

98 
	}
}

100 *
	$vosThªadSëup
(*
p°ThªadInfo
)

102 
i
;

103 
sig£t_t
 
mask
;

104 
THREAD_INFO_t
 *
p°LoˇlThªadInfo
 = 
p°ThªadInfo
;

105 *(*
vFunc
)(*);

106 *
pvArg
;

109 
	`sigem±y£t
(&
mask
);

110  
i
=0; 
g_«SigLi°
[i]; ++i ) {

111 
	`sigadd£t
(&
mask
, 
g_«SigLi°
[
i
]);

113 
	`sig¥ocmask
(
SIG_BLOCK
, &
mask
, 0);

116 
	`±hªad_£tˇn˚…y≥
(
PTHREAD_CANCEL_ASYNCHRONOUS
, 
NULL
);

117 
	`±hªad_£tˇn˚l°©e
(
PTHREAD_CANCEL_ENABLE
, 
NULL
);

119 
vFunc
 = 
p°LoˇlThªadInfo
->vFunc;

120 
pvArg
 = 
p°LoˇlThªadInfo
->pvArg;

122 
p°LoˇlThªadInfo
->
tId
 = 
	`±hªad_£lf
();

123 
p°LoˇlThªadInfo
->
nPid
 = 
	`gëpid
();

125  (*
vFunc
)(
pvArg
);

126 
	}
}

145 
VOS_THREAD_t
 
vosThªadCª©e
(*
«me
, 
°ackSize
, 
¥i
, *(*
func
)(*), *
¨g
)

147 
±hªad_©å_t
 
	g©åibs
;

148 
THREAD_INFO_t
 *
	gpThªadInfo
;

149 
±hªad_t
 
	gid
 = 0;

150 
sched_∑øm
 
	g∑øm
;

152 i‡((
	gpThªadInfo
 = (
THREAD_INFO_t
 *)
mÆloc
((
THREAD_INFO_s
))Ë=
NULL
Ë 
id
;

154 i‡(
±hªad_©å_öô
(&
©åibs
)Ë 
	gid
;

156 
vosMuãxTake
(&
g_p°ThªadLock
);

159 
	g∑øm
.
	gsched_¥i‹ôy
 = 
THREAD_PRI
(
¥i
);

160 
±hªad_©å_£tsched∑øm
(&
©åibs
, &
∑øm
);

161 
±hªad_©å_£tschedpﬁicy
(&
©åibs
, 
SCHED_RR
);

163 
±hªad_©å_£t°acksize
(&
©åibs
, 
°ackSize
);

165 
	gpThªadInfo
->
	gtId
 = 0;

166 
	gpThªadInfo
->
	gnPid
 = 0;

167 
	gpThªadInfo
->
	gnSèckSize
 = 
°ackSize
;

168 
	gpThªadInfo
->
	gnPri‹ôy
 = 
¥i
;

169 
	gpThªadInfo
->
	gpvArg
 = 
¨g
;

170 
	gpThªadInfo
->
	gvFunc
 = 
func
;

171 
	gpThªadInfo
->
	gpcName
 = (*)
vosSåDup
(
«me
);

172 
	gpThªadInfo
->
	gp°Next
 = 
pInfoHód
;

173 
	gpInfoHód
 = 
pThªadInfo
;

175 i‡(
±hªad_¸óã
(&
id
, &
©åibs
, 
vosThªadSëup
, (*)
pThªadInfo
)){

176 
	gpInfoHód
 = 
pInfoHód
->
p°Next
;

177 
‰ì
(
pThªadInfo
->
pcName
);

178 
‰ì
(
pThªadInfo
);

179 
vosMuãxGive
(&
g_p°ThªadLock
);

180  
	gid
;

183 
	gpThªadInfo
->
	gtId
 == 0) {

184 
u¶ìp
(1000);

187 
	gid
 = 
pThªadInfo
->
tId
;

189 
±hªad_dëach
(
pThªadInfo
->
tId
);

191 
±hªad_©å_de°roy
(&
©åibs
);

193 
vosMuãxGive
(&
g_p°ThªadLock
);

194  
	gid
;

216 
	$vosThªadDe°roy
(
VOS_THREAD_t
 
thªad
)

218 
THREAD_INFO_t
 *
pThªadInfo
, **
ãmp
;

219 
ªt
 = 0;

221 i‡(0 !
	`±hªad_ˇn˚l
(
thªad
)){

222 
ªt
 = -1;

223  
ªt
;

225 
	`vosMuãxTake
(&
g_p°ThªadLock
);

226 
ãmp
 = &
pInfoHód
; (*ãmpË!
NULL
;Åem∞&(*ãmp)->
p°Next
) {

227 i‡((*
ãmp
)->
tId
 =
thªad
) {

228 
pThªadInfo
 = (*
ãmp
);

229 (*
ãmp
Ë(*ãmp)->
p°Next
;

230 
	`‰ì
(
pThªadInfo
->
pcName
);

231 
	`‰ì
(
pThªadInfo
);

235 
	`vosMuãxGive
(&
g_p°ThªadLock
);

236  
ªt
;

237 
	}
}

257 
VOS_THREAD_t
 
	$vosThªadSñf
()

259  (
VOS_THREAD_t
Ë
	`±hªad_£lf
();

260 
	}
}

280 
	$vosThªadExô
(
rc
)

282 
THREAD_INFO_t
 *
pThªadInfo
, **
ãmp
;

283 
±hªad_t
 
id
 = 
	`±hªad_£lf
();

285 
	`vosMuãxTake
(&
g_p°ThªadLock
);

286 
ãmp
 = &
pInfoHód
; (*ãmpË!
NULL
;Åem∞&(*ãmp)->
p°Next
) {

287 i‡((*
ãmp
)->
tId
 =
id
) {

288 
pThªadInfo
 = (*
ãmp
);

289 (*
ãmp
Ë(*ãmp)->
p°Next
;

290 
	`‰ì
(
pThªadInfo
->
pcName
);

291 
	`‰ì
(
pThªadInfo
);

295 
	`vosMuãxGive
(&
g_p°ThªadLock
);

296 
	`±hªad_exô
(0);

297 
	}
}

318 
	$vosThªadMaöSë
(
VOS_THREAD_t
 
thªad
)

320 
pThªadMaö
 = 
thªad
;

321 
	}
}

341 
VOS_THREAD_t
 
	$vosThªadMaöGë
()

343  
pThªadMaö
;

344 
	}
}

366 
	$vosThªadVîify
(
VOS_THREAD_t
 
thªad
)

368 
THREAD_INFO_t
 **
ç
;

369 
ªt
 = -1;

371 
	`vosMuãxTake
(&
g_p°ThªadLock
);

372 
ç
 = &
pInfoHód
; (*çË!
NULL
;Å∞&(*ç)->
p°Next
) {

373 i‡((*
ç
)->
tId
 =
thªad
) {

374 
ªt
 = 0;

378 
	`vosMuãxGive
(&
g_p°ThªadLock
);

379  
ªt
;

380 
	}
}

401 
	$vosThªadShow
(
fd
)

403 
THREAD_INFO_t
 *
pThªadInfo
;

404 
i
 = 0;

405 
	`vosPrötf
(
fd
, " # Id Pid Name Stack Priority \r\n");

406 
	`vosPrötf
(
fd
, "----- --------- --------- ------------ -------- ---------- \r\n");

407 
	`vosMuãxTake
(&
g_p°ThªadLock
);

408 
pThªadInfo
 = 
pInfoHód
;ÖThªadInfÿ!
NULL
;pThªadInfÿpThªadInfo->
p°Next
)

410 
	`vosPrötf
(
fd
, "%5d %9x %9d %-12s %8d %10d\r\n",

411 
i
+1,

412 
pThªadInfo
->
tId
,

413 
pThªadInfo
->
nPid
,

414 (
NULL
 =
pThªadInfo
->
pcName
) ? "" :ÖThreadInfo->pcName,

415 
pThªadInfo
->
nSèckSize
,

416 
pThªadInfo
->
nPri‹ôy
);

417 
i
++;

419 
	`vosPrötf
(
fd
, "\r\n");

420 
	`vosMuãxGive
(&
g_p°ThªadLock
);

421 
	}
}

	@multicast/src/vos_time.c

30 
	~<vos_time.h
>

31 
	~<time.h
>

32 
	~<sys/time.h
>

33 
	~<sys/ty≥s.h
>

34 
	~<lw_ty≥.h
>

55 
VOS_TIME_USECS_t
 
	$vosTimeU£csGë
()

57 
time•ec
 
times
;

58 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
times
);

59  (((
UINT64
)
times
.
tv_£c
Ë* 
SECOND_USEC
 +Åimes.
tv_n£c
/1000);

61 
	}
}

80 
VOS_TIME_t
 
	$vosTimeGë
()

82  (
VOS_TIME_t
Ë
	`time
(0);

83 
	}
}

104 
	$vosUDñay
(
UINT32
 
u£c
)

106 
íd
=0;

107 
time•ec
 
ç
;

109 
	`˛ock_gëtime
(
CLOCK_REALTIME
,&
ç
);

110 
°¨t
=
íd
=
ç
.
tv_£c
*1000000 +Åp.
tv_n£c
/1000;

112 
íd
 - 
°¨t
 < 
u£c
){

113 
	`˛ock_gëtime
(
CLOCK_REALTIME
,&
ç
);

114 
íd
=
ç
.
tv_£c
*1000000 +Åp.
tv_n£c
/1000;

116 
	}
}

	@multicast/src/vos_timer.c

33 
	~<sys/time.h
>

34 
	~<sys/ty≥s.h
>

35 
	~<sys/°©.h
>

36 
	~<f˙é.h
>

37 
	~<°dio.h
>

38 
	~<vos_ty≥s.h
>

40 
	~<vos_thªad.h
>

41 
	~<vos_sync.h
>

42 
	~<vos_time.h
>

43 
	~<vos_timî.h
>

44 
	~<vos_bôm≠.h
>

45 
	~<vos_Æloc.h
>

47 
	#VOS_TIMER_FD_PATH
 "/ëc/vos_timî_fd"

	)

50 
	mCALENDAR_SIZE
 = 64,

51 
	mMAX_TIMER_OBJ
 = 256,

52 
	mMAX_TIMER_OBJ_MAP
 = 
MAX_TIMER_OBJ
/32

55 
TIMER_OBJ_t
 *
	gg_p°OpTimîTbl
 = 
NULL
;

56 
uöt32
 
	gg_ulOpTimîM≠
[
MAX_TIMER_OBJ_MAP
];

57 
TIMER_OBJ_t
 *
	gg_∑°CÆíd¨
[
CALENDAR_SIZE
];

58 
uöt8
 
	gg_ucH™d
 = 0;

59 
UINT64
 
	gg_ulClockWøp
 = 0;

60 
uöt8
 
	gg_ucInôülized
 = 0;

61 
VOS_THREAD_t
 
	gg_p°OpTimîThªadId
 = 
NULL
;

62 
VOS_MUTEX_t
 
	gg_p°OpTimîMuãx
;

63 
	gg_›TimîFd
 = 0;

65 
timîObjInô
(
TIMER_OBJ_t
 *
p°Timî
);

66 * 
vosTimîTaskE¡ry
(*
¨g
);

87 
	$vosTimîInô
()

89 
i
;

91 i‡(
g_ucInôülized
) {

92 
	`¥ötf
("vosTimerInit: optimer hasálready initialized.\r\n");

96 i‡–
NULL
 !
g_p°OpTimîTbl
 )

98 
	`vosFªe
(
g_p°OpTimîTbl
);

101 
g_p°OpTimîTbl
 = (
TIMER_OBJ_t
 *)
	`vosAŒoc
((TIMER_OBJ_tË* 
MAX_TIMER_OBJ
);

103 i‡(
NULL
 =
g_p°OpTimîTbl
)

105 
	`¥ötf
("vosTimîInô: ouào‡mem‹y,Üöê%d\r\n", 
__LINE__
);

109 
i
=0; i<
CALENDAR_SIZE
; i++)

111 
g_∑°CÆíd¨
[
i
] = 
NULL
;

114 
g_ucH™d
 = 0;

115 
g_ulClockWøp
 = 0;

117 
i
 = 0; i < 
MAX_TIMER_OBJ
; i++)

119 
	`timîObjInô
(&
g_p°OpTimîTbl
[
i
]);

122 
i
 = 0; i < 
MAX_TIMER_OBJ_MAP
; i++)

124 
g_ulOpTimîM≠
[
i
] = 0;

127 
g_›TimîFd
 = 
	`›í
(
VOS_TIMER_FD_PATH
, 
O_RDWR
 | 
O_CREAT
 | 
O_TRUNC
);

129 i‡(
	`vosMuãxCª©e
(&
g_p°OpTimîMuãx
Ë!
VOS_MUTEX_OK
) {

130 
	`¥ötf
("vosTimerInit: g_pstOpTimerMutex create failed.\r\n");

134 
g_p°OpTimîThªadId
 = 
	`vosThªadCª©e
("tOpTimî", 
OP_VOS_THREAD_STKSZ
, 30,

135 (*)
vosTimîTaskE¡ry
, (*)
NULL
);

136 i‡(
g_p°OpTimîThªadId
 ==(
VOS_THREAD_t
)
NULL
) {

137 
	`vosMuãxDe°roy
(&
g_p°OpTimîMuãx
);

138 
	`¥ötf
("vosTimerInit: optimerÅask create failed.\r\n");

142 
g_ucInôülized
 = 1;

145 
	}
}

165 
	$vosTimîShutdown
()

167 
i
;

169 i‡(!
g_ucInôülized
) {

170 
	`¥ötf
("vosTimerShutdown: optimer hasÇot initialized.\r\n");

174 
g_ucInôülized
 = 0;

176 i‡(
g_p°OpTimîThªadId
 !
NULL
) {

177 
	`vosThªadDe°roy
(
g_p°OpTimîThªadId
);

178 
g_p°OpTimîThªadId
 =(
VOS_THREAD_t
Ë
NULL
;

181 
	`vosMuãxDe°roy
(&
g_p°OpTimîMuãx
);

183 i‡–
NULL
 !
g_p°OpTimîTbl
 )

185 
	`vosFªe
(
g_p°OpTimîTbl
);

186 
g_p°OpTimîTbl
 = (
VOS_THREAD_t
)
NULL
;

188 
i
 = 0; i < 
MAX_TIMER_OBJ_MAP
; i++)

190 
g_ulOpTimîM≠
[
i
] = 0;

193 i‡(0 !
g_›TimîFd
)

195 
	`˛o£
(
g_›TimîFd
);

199 
	}
}

219 * 
	$vosTimîTaskE¡ry
(*
¨g
)

221 
TIMER_OBJ_t
 * 
pCuº
;

222 
TIMER_OBJ_t
 * 
pTmp
 = 
NULL
;

223 
FUNCPTR
 
CÆlBack
 = 
NULL
;

224 
uöt32
 
Arg1
, 
Arg2
, 
Arg3
, 
Arg4
, 
Arg5
, 
Arg6
, 
Arg7
, 
Arg8
;

225 
timevÆ
 
t
;

226 
VOS_TIME_USECS_t
 
°¨t
 = 0;

227 
VOS_TIME_USECS_t
 
íd
 = 0;

228 
VOS_TIME_USECS_t
 
cuºít
 = 0;

230 
t
.
tv_£c
 = 0;

231 
t
.
tv_u£c
 = 1000 * 
TIMER_GRANULARITY
;

232 
Arg1
 = 
Arg2
 = 
Arg3
 = 
Arg4
 = 
Arg5
 = 
Arg6
 = 
Arg7
 = 
Arg8
 = 0xFFFFFFFF;

233 
°¨t
 = 
	`vosTimeU£csGë
();

237 
cuºít
 = 
	`vosTimeU£csGë
();

238 i‡((
cuºít
 - 
°¨t
Ë>(1000 * 
TIMER_GRANULARITY
))

240 
°¨t
 = 
	`vosTimeU£csGë
();

241 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

242 
g_ucH™d
++;

243 i‡(
g_ucH™d
 >
CALENDAR_SIZE
)

245 
g_ucH™d
 = 0;

246 
g_ulClockWøp
++;

249 i‡(
g_∑°CÆíd¨
[
g_ucH™d
] !
NULL
)

251 
pCuº
 = 
g_∑°CÆíd¨
[
g_ucH™d
];

252 
pCuº
 !
NULL
)

254 
Arg1
 = 
Arg2
 = 
INVALID_32
;

255 
CÆlBack
 = 
NULL
;

256 
pTmp
 = 
NULL
;

257 if(
pCuº
->
ulWøpCou¡î
 =
g_ulClockWøp
)

259 if–
pCuº
->
p°CÆlBackFunc
 )

271 
CÆlBack
 = 
pCuº
->
p°CÆlBackFunc
;

272 
Arg1
 = 
pCuº
->
ulCÆlBackArg1
;

273 
Arg2
 = 
pCuº
->
ulCÆlBackArg2
;

274 
Arg3
 = 
pCuº
->
ulCÆlBackArg3
;

275 
Arg4
 = 
pCuº
->
ulCÆlBackArg4
;

276 
Arg5
 = 
pCuº
->
ulCÆlBackArg5
;

277 
Arg6
 = 
pCuº
->
ulCÆlBackArg6
;

278 
Arg7
 = 
pCuº
->
ulCÆlBackArg7
;

279 
Arg8
 = 
pCuº
->
ulCÆlBackArg8
;

281 i‡(
pCuº
->
°Ty≥
 =
ONE_SHOT_TIMER
)

283 
pTmp
 = 
pCuº
->
p°Next
;

284 
	`vosTimîC™˚l
(
pCuº
);

285 
pCuº
 = 
pTmp
;

287 i‡(
pCuº
->
°Ty≥
 =
REOCURRING_TIMER
)

289 
pTmp
 = 
pCuº
->
p°Next
;

290 
	`vosTimîReScheduÀ
(
pCuº
,ÖCuº->
ulTimeOut
 * 
TIMER_GRANULARITY
);

291 
pCuº
 = 
pTmp
;

295 
pTmp
 = 
pCuº
->
p°Next
;

296 
	`vosTimîC™˚l
(
pCuº
);

297 
pCuº
 = 
pTmp
;

300 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

301 
	`CÆlBack
(
Arg1
,
Arg2
,
Arg3
,
Arg4
,
Arg5
,
Arg6
,
Arg7
,
Arg8
);

302 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

306 
pTmp
 = 
pCuº
->
p°Next
;

307 
	`vosTimîC™˚l
(
pCuº
);

308 
pCuº
 = 
pTmp
;

313 
pCuº
 =ÖCuº->
p°Next
;

318 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

319 
íd
 = 
	`vosTimeU£csGë
();

320 i‡((
íd
 - 
°¨t
Ë< (1000 * 
TIMER_GRANULARITY
))

322 
t
.
tv_£c
 = 0;

323 
t
.
tv_u£c
 = (1000 * 
TIMER_GRANULARITY
Ë- (
íd
 - 
°¨t
);

324 
	`£À˘
(
g_›TimîFd
,0,0,0,&
t
);

328 
	`vosThªadExô
(0);

329  
NULL
;

330 
	}
}

350 
	$timîObjInô
(
TIMER_OBJ_t
 *
p°Timî
)

352 
p°Timî
->
°Sèã
 = 
TMR_ST_FREE
;

353 
p°Timî
->
ulIndex
 = 
INVALID_32
;

354 
p°Timî
->
°Ty≥
 = 
TMRT_UNKNOWN
;

355 
p°Timî
->
ulTimeOut
 = 
INVALID_32
;

356 
p°Timî
->
p°Pªv
 = 
NULL
;

357 
p°Timî
->
p°Next
 = 
NULL
;

358 
p°Timî
->
p°CÆlBackFunc
 = 
NULL
;

359 
p°Timî
->
ulCÆlBackArg1
 = 
INVALID_32
;

360 
p°Timî
->
ulCÆlBackArg2
 = 
INVALID_32
;

361 
p°Timî
->
ulCÆlBackArg3
 = 
INVALID_32
;

362 
p°Timî
->
ulCÆlBackArg4
 = 
INVALID_32
;

363 
p°Timî
->
ulCÆlBackArg5
 = 
INVALID_32
;

364 
p°Timî
->
ulCÆlBackArg6
 = 
INVALID_32
;

365 
p°Timî
->
ulCÆlBackArg7
 = 
INVALID_32
;

366 
p°Timî
->
ulCÆlBackArg8
 = 
INVALID_32
;

367 
p°Timî
->
ulWøpCou¡î
 = (
UINT64
)(-1);

368 
	}
}

389 
TIMER_OBJ_t
 * 
	$vosTimîGëFªe
()

391 
uöt16
 
i
, 
BôPos
, 
Index
;

392 
TIMER_OBJ_t
 *
p°Timî
;

394 i‡(
NULL
 =
g_p°OpTimîTbl
)

396  
NULL
;

399 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

401 
i
 = 0; i < 
MAX_TIMER_OBJ_MAP
; i++)

403 
BôPos
 = 
	`vosFú°CÀ¨BôPosGë
(
g_ulOpTimîM≠
[
i
], 0);

404 if–
BôPos
 !
INVALID_16
) ;

407 if–
BôPos
 =
INVALID_16
 )

409 
	`¥ötf
("optimerÉxceedÅhe maximum.\r\n");

410 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

411  
NULL
;

414 
Index
 = 
i
*32 + 
BôPos
;

416 i‡(
MAX_TIMER_OBJ
 <
Index
)

418 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

419  
NULL
;

422 
p°Timî
 = &
g_p°OpTimîTbl
[
Index
];

423 
	`timîObjInô
(
p°Timî
);

424 
p°Timî
->
ulIndex
 = 
Index
;

425 
p°Timî
->
°Sèã
 = 
TMR_ST_TAKEN
;

427 i‡(
MAX_TIMER_OBJ_MAP
 <
i
)

429 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

430  
NULL
;

433 
g_ulOpTimîM≠
[
i
] = 
	`vosBôSë
(g_ulOpTimîM≠[i], 
BôPos
);

435 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

437  
p°Timî
;

438 
	}
}

458 
	$vosTimîRñó£
(
TIMER_OBJ_t
 *
p°Timî
)

460 
uöt16
 
i
, 
BôPos
;

462 i‡(
NULL
 =
p°Timî
)

467 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

469 
BôPos
 = (
p°Timî
->
ulIndex
) % 32;

470 
i
 = (
uöt16
)((
p°Timî
->
ulIndex
) / 32);

471 
g_ulOpTimîM≠
[
i
] = 
	`vosBôCÀ¨
(g_ulOpTimîM≠[i], 
BôPos
);

472 
	`timîObjInô
(
p°Timî
);

474 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

477 
	}
}

502 
	$vosTimîSèπ
(
TIMER_OBJ_t
 *
p°Timî
,

503 
TIMER_TYPE_t
 
°Ty≥
,

504 
uöt32
 
ulTimeout
,

505 
FUNCPTR
 
p°CÆlBack
,

506 
uöt32
 
ulCÆlBackArg1
,

507 
uöt32
 
ulCÆlBackArg2
,

508 
uöt32
 
ulCÆlBackArg3
,

509 
uöt32
 
ulCÆlBackArg4
,

510 
uöt32
 
ulCÆlBackArg5
,

511 
uöt32
 
ulCÆlBackArg6
,

512 
uöt32
 
ulCÆlBackArg7
,

513 
uöt32
 
ulCÆlBackArg8
)

515 i‡(
NULL
 =
p°Timî
)

520 i‡((
REOCURRING_TIMER
 !
°Ty≥
Ë&& (
ONE_SHOT_TIMER
 != stType))

525 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

527 i‡(
TMR_ST_RUNNING
 =
p°Timî
->
°Sèã
)

529 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

533 
p°Timî
->
°Sèã
 = 
TMR_ST_RUNNING
;

534 
p°Timî
->
°Ty≥
 = stType;

535 
p°Timî
->
p°CÆlBackFunc
 = 
p°CÆlBack
;

536 
p°Timî
->
ulCÆlBackArg1
 = ulCallBackArg1;

537 
p°Timî
->
ulCÆlBackArg2
 = ulCallBackArg2;

538 
p°Timî
->
ulCÆlBackArg3
 = ulCallBackArg3;

539 
p°Timî
->
ulCÆlBackArg4
 = ulCallBackArg4;

540 
p°Timî
->
ulCÆlBackArg5
 = ulCallBackArg5;

541 
p°Timî
->
ulCÆlBackArg6
 = ulCallBackArg6;

542 
p°Timî
->
ulCÆlBackArg7
 = ulCallBackArg7;

543 
p°Timî
->
ulCÆlBackArg8
 = ulCallBackArg8;

544 
p°Timî
->
ulTimeOut
 = 
ulTimeout
 / 
TIMER_GRANULARITY
;

546 
p°Timî
->
ulWøpCou¡î
 = (p°Timî->
ulTimeOut
 + 
g_ucH™d
Ë/ 
CALENDAR_SIZE
 + 
g_ulClockWøp
;

547 
p°Timî
->
ulCÆIndex
 = (p°Timî->
ulTimeOut
 + 
g_ucH™d
Ë% 
CALENDAR_SIZE
;

549 
p°Timî
->
p°Next
 = 
g_∑°CÆíd¨
[p°Timî->
ulCÆIndex
];

550 
g_∑°CÆíd¨
[
p°Timî
->
ulCÆIndex
] =ÖstTimer;

551 
p°Timî
->
p°Pªv
 = 
NULL
;

552 if(
p°Timî
->
p°Next
 !
NULL
)

554 
p°Timî
->
p°Next
->
p°Pªv
 =ÖstTimer;

557 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

559 
	}
}

579 
	$vosTimîC™˚l
(
TIMER_OBJ_t
 *
p°Timî
)

581 i‡(
NULL
 =
p°Timî
)

586 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

588 i‡(
TMR_ST_FREE
 =
p°Timî
->
°Sèã
)

590 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

593 i‡(
TMR_ST_TAKEN
 =
p°Timî
->
°Sèã
)

595 
	`vosTimîRñó£
(
p°Timî
);

596 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

600 i‡(
NULL
 =
p°Timî
->
p°Next
 &&

601 
NULL
 =
p°Timî
->
p°Pªv
)

603 
g_∑°CÆíd¨
[
p°Timî
->
ulCÆIndex
] = 
NULL
;

606 i‡(
p°Timî
->
p°Pªv
 !
NULL
)

608 
p°Timî
->
p°Pªv
->
p°Next
 =ÖstTimer->pstNext;

611 i‡(
p°Timî
->
p°Next
 !
NULL
)

613 
p°Timî
->
p°Next
->
p°Pªv
 =ÖstTimer->pstPrev;

614 if(
p°Timî
->
p°Pªv
 =
NULL
)

616 
g_∑°CÆíd¨
[
p°Timî
->
ulCÆIndex
] =Ö°Timî->
p°Next
;

619 
	`vosTimîRñó£
(
p°Timî
);

620 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

622 
	}
}

642 
	$vosTimîReScheduÀ
(
TIMER_OBJ_t
 *
p°Timî
, 
uöt32
 
ulTimeout
)

644 
uöt8
 
tmpID
;

645 i‡(
NULL
 =
p°Timî
)

650 
	`vosMuãxTake
(&
g_p°OpTimîMuãx
);

652 
tmpID
 = 
p°Timî
->
ulCÆIndex
;

654 i‡(
TMR_ST_FREE
 =
p°Timî
->
°Sèã
)

656 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

659 if(
TMR_ST_RUNNING
 !
p°Timî
->
°Sèã
)

661 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

665 
p°Timî
->
ulTimeOut
 = 
ulTimeout
 / 
TIMER_GRANULARITY
;

666 
p°Timî
->
ulWøpCou¡î
 = (p°Timî->
ulTimeOut
 + 
g_ucH™d
Ë/ 
CALENDAR_SIZE
 + 
g_ulClockWøp
;

667 
p°Timî
->
ulCÆIndex
 = (p°Timî->
ulTimeOut
 + 
g_ucH™d
Ë% 
CALENDAR_SIZE
;

669 i‡(
p°Timî
->
p°Next
 =
NULL
 &&

670 
p°Timî
->
p°Pªv
 =
NULL
)

672 
g_∑°CÆíd¨
[
tmpID
] = 
NULL
;

675 i‡(
p°Timî
->
p°Pªv
 !
NULL
)

677 
p°Timî
->
p°Pªv
->
p°Next
 =ÖstTimer->pstNext;

680 i‡(
p°Timî
->
p°Next
 !
NULL
)

682 
p°Timî
->
p°Next
->
p°Pªv
 =ÖstTimer->pstPrev;

683 if(
p°Timî
->
p°Pªv
 =
NULL
)

685 
g_∑°CÆíd¨
[
tmpID
] = 
p°Timî
->
p°Next
;

689 
p°Timî
->
p°Next
 = 
g_∑°CÆíd¨
[p°Timî->
ulCÆIndex
];

690 
g_∑°CÆíd¨
[
p°Timî
->
ulCÆIndex
] =ÖstTimer;

691 
p°Timî
->
p°Pªv
 = 
NULL
;

693 if(
p°Timî
->
p°Next
 !
NULL
)

695 
p°Timî
->
p°Next
->
p°Pªv
 =ÖstTimer;

698 
	`vosMuãxGive
(&
g_p°OpTimîMuãx
);

701 
	}
}

703 
	$vosTimîShow
(
fd
)

705 * 
pHódî
 = "TmrId WrapCounter Type TmOut Elapsed Remaining\r\n"

708 * 
pF‹m©
 = "%-6d %-13lu %-6d %-7d %-9d %-10d\r\n";

710 
TIMER_OBJ_t
 *
pTmp
;

712 
i
;

714 
	`vosPrötf
(
fd
, 
pHódî
);

716 
i
 = 0; i < 
CALENDAR_SIZE
; i++)

718 i‡(
g_∑°CÆíd¨
[
i
] !
NULL
)

720 
pTmp
 = 
g_∑°CÆíd¨
[
i
];

721 
pTmp
)

723 
	`vosPrötf
(
fd
, 
pF‹m©
,

724 
pTmp
->
ulCÆIndex
,

725 
pTmp
->
ulWøpCou¡î
,

726 
pTmp
->
°Ty≥
,

727 
pTmp
->
ulTimeOut
,

728 
pTmp
->
ulTimeOut
-’Tmp->
ulWøpCou¡î
 * 
CALENDAR_SIZE
 +ÖTmp->
ulCÆIndex
-
g_ulClockWøp
*CALENDAR_SIZE-
g_ucH™d
),

729 (
pTmp
->
ulWøpCou¡î
*
CALENDAR_SIZE
+pTmp->
ulCÆIndex
-
g_ulClockWøp
*CALENDAR_SIZE-
g_ucH™d
));

731 
pTmp
 =ÖTmp->
p°Next
;

736 
	}
}

742 
vosTimîTe°Cb
(
uöt32
,uint32);

743 
TIMER_OBJ_t
 * 
	gg_p°Timî1
 = 
NULL
;

744 
TIMER_OBJ_t
 * 
	gg_p°Timî2
 = 
NULL
;

745 
TIMER_OBJ_t
 * 
	gg_p°Timî3
 = 
NULL
;

748 
	$vosTimîTe°Sèπ
()

750 
timevÆ
 
t
;

751 
t
.
tv_£c
 = 2;

752 
t
.
tv_u£c
 = 0;

777 i‡(
NULL
 =
g_p°Timî3
)

779 
	`£À˘
(0,0,0,0,&
t
);

780 
g_p°Timî3
 = 
	`vosTimîGëFªe
();

781 i‡(
g_p°Timî3
)

783 
	`vosTimîSèπ
(
g_p°Timî3
, 
REOCURRING_TIMER
, 2000, (
FUNCPTR
)
vosTimîTe°Cb
,3333,3333,3,4,5,6,7,8);

785 
	`¥ötf
("3rdÉvent\n");

786 
	`¥ötf
("Now mH™d is: %d\n", 
g_ucH™d
);

790 
	}
}

792 
	$vosTimîTe°St›
()

794 
	`vosTimîC™˚l
(
g_p°Timî1
);

795 
g_p°Timî1
 = 
NULL
;

797 
	`vosTimîC™˚l
(
g_p°Timî2
);

798 
g_p°Timî2
 = 
NULL
;

800 
	`vosTimîC™˚l
(
g_p°Timî3
);

801 
g_p°Timî3
 = 
NULL
;

804 
	}
}

806 
	$vosTimîTe°Cb
(
uöt32
 
m
,uöt32 
n
)

808 
timevÆ
 
t
 = {0, 0};

809 
timez⁄e
 
tz
 = {0, 0};

810 
tŸÆCou¡î
 = 0;

811 
cou¡î
 = 0;

812 
timevÆ
 
tmp
;

813 i‡(
m
==3333 && 
n
==3333){

814 i‡(
cou¡î
 == 0){

815 
	`gëtimeofday
(&
t
, &
tz
);

818 if(
cou¡î
 == 10){

819 
tmp
 = 
t
;

820 
	`gëtimeofday
(&
t
, &
tz
);

821 
	`¥ötf
("Time segment betweenÅwo calls: start %u:%u,Énd %u:%u, interval %ld ms\n",

822 
tmp
.
tv_£c
,tmp.
tv_u£c
,
t
.tv_sec,t.tv_usec,

823 (()(()
t
.
tv_u£c
 - ()
tmp
.tv_u£c))/1000 + ((È.
tv_£c
 - ()tmp.tv_sec) * 1000);

824 
cou¡î
 = 0;

827 
cou¡î
++;

830 
tŸÆCou¡î
++;

832 
	`¥ötf
("(FUNCPTR)vosTimîTe°Cb i†ˇŒed (%ld): %d, %d\n", 
tŸÆCou¡î
,
m
,
n
);

835 
	}
}

	@src/epon_oam_cli.c

26 
	~<°dio.h
>

27 
	~<°rög.h
>

28 
	~<î∫o.h
>

29 
	~<sys/ty≥s.h
>

30 
	~<sys/ùc.h
>

31 
	~<sys/msg.h
>

32 
	~<sys/shm.h
>

34 
	~"ï⁄_ﬂm_c⁄fig.h
"

35 
	~"ï⁄_ﬂm_îr.h
"

36 
	~"ï⁄_ﬂm_msgq.h
"

37 
	~"ï⁄_ﬂm_˛i.h
"

42 
	#EPON_OAM_CLI_BRANCH
 0x01

	)

43 
	#EPON_OAM_CLI_LEAF
 0x02

	)

44 
	#EPON_OAM_CLI_END
 0x03

	)

46 
	sﬂm_˛i_åì_s
 {

47 
	mcmd
[16];

48 
	mty≥
;

50 
ﬂm_˛i_åì_s
 *
	mpSubTªe
;

51 (*
	m˛i_¥oc
)(
	m¨gc
, *
	m¨gv
[], 
ﬂm_˛i_t
 *
	mpCli
);

52 } 
	mu
;

53 } 
	tﬂm_˛i_åì_t
;

59 
	gmsgQId
;

60 
ﬂm_˛i_åì_t
 
	g˛iRoŸCÀ¨
[] = {

63 
EPON_OAM_CLI_LEAF
,

64 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_cou¡î_˛ór
 }

68 
	gEPON_OAM_CLI_END
,

69 { 
	gNULL
 }

73 
ﬂm_˛i_åì_t
 
	g˛iRoŸGëCtc
[] = {

76 
EPON_OAM_CLI_LEAF
,

77 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_˘cLoid_gë
 }

81 
	gEPON_OAM_CLI_END
,

82 { 
	gNULL
 }

86 
ﬂm_˛i_åì_t
 
	g˛iRoŸGë
[] = {

89 
EPON_OAM_CLI_LEAF
,

90 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄fig_gë
 }

94 
	gEPON_OAM_CLI_BRANCH
,

95 { 
	g˛iRoŸGëCtc
 }

99 
	gEPON_OAM_CLI_LEAF
,

100 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_cou¡î_gë
 }

104 
	gEPON_OAM_CLI_LEAF
,

105 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_dbgExt_gë
 }

109 
	gEPON_OAM_CLI_LEAF
,

110 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_dbgFœg_gë
 }

114 
	gEPON_OAM_CLI_LEAF
,

115 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_Áûovî_gë
 }

119 
	gEPON_OAM_CLI_LEAF
,

120 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_ﬂmInfo_gë
 }

124 
	gEPON_OAM_CLI_LEAF
,

125 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_ﬂmSèã_gë
 }

129 
	gEPON_OAM_CLI_END
,

130 { 
	gNULL
 }

134 
ﬂm_˛i_åì_t
 
	g˛iRoŸSëC⁄fig
[] = {

137 
EPON_OAM_CLI_LEAF
,

138 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄figAutoReg_£t
 }

142 
	gEPON_OAM_CLI_LEAF
,

143 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄figEvít_£t
 }

147 
	gEPON_OAM_CLI_LEAF
,

148 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄figHﬁdovî_£t
 }

152 
	gEPON_OAM_CLI_LEAF
,

153 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄figMac_£t
 }

157 
	gEPON_OAM_CLI_LEAF
,

158 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_c⁄figOam_£t
 }

162 
	gEPON_OAM_CLI_END
,

163 { 
	gNULL
 }

167 
ﬂm_˛i_åì_t
 
	g˛iRoŸSëOamInfo
[] = {

170 
EPON_OAM_CLI_LEAF
,

171 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_ﬂmInfoVídîOui_£t
 }

175 
	gEPON_OAM_CLI_END
,

176 { 
	gNULL
 }

180 
ﬂm_˛i_åì_t
 
	g˛iRoŸSëCtc
[] = {

183 
EPON_OAM_CLI_LEAF
,

184 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_˘cLoid_£t
 }

188 
	gEPON_OAM_CLI_END
,

189 { 
	gNULL
 }

193 
ﬂm_˛i_åì_t
 
	g˛iRoŸSë
[] = {

196 
EPON_OAM_CLI_BRANCH
,

197 { 
˛iRoŸSëC⁄fig
 }

201 
EPON_OAM_CLI_BRANCH
,

202 { 
˛iRoŸSëCtc
 }

206 
EPON_OAM_CLI_LEAF
,

207 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_dbgExt_£t
 }

211 
	gEPON_OAM_CLI_LEAF
,

212 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_dbgFœg_£t
 }

216 
	gEPON_OAM_CLI_LEAF
,

217 { .
	g˛i_¥oc
 = 
ï⁄_ﬂm_˛i_Áûovî_£t
 }

221 
	gEPON_OAM_CLI_BRANCH
,

222 { 
	g˛iRoŸSëOamInfo
 }

226 
	gEPON_OAM_CLI_END
,

227 { 
	gNULL
 }

231 
ﬂm_˛i_åì_t
 
	g˛iRoŸTriggî
[] = {

234 
EPON_OAM_CLI_LEAF
,

235 { .
˛i_¥oc
 = 
ï⁄_ﬂm_˛i_ªgi°î_åiggî
 }

239 
	gEPON_OAM_CLI_END
,

240 { 
	gNULL
 }

244 
ﬂm_˛i_åì_t
 
	g˛iRoŸ
[] = {

247 
EPON_OAM_CLI_BRANCH
,

248 { 
˛iRoŸCÀ¨
 }

252 
EPON_OAM_CLI_BRANCH
,

253 { 
˛iRoŸGë
 }

257 
EPON_OAM_CLI_BRANCH
,

258 { 
˛iRoŸSë
 }

262 
EPON_OAM_CLI_BRANCH
,

263 { 
˛iRoŸTriggî
 }

267 
EPON_OAM_CLI_END
,

268 { 
NULL
 }

283 
	$ï⁄_ﬂm_˛i_c⁄figAutoReg_£t
(

284 
¨gc
,

285 *
¨gv
[],

286 
ﬂm_˛i_t
 *
pCli
)

288 
ŒidIdx
;

290 if(
¨gc
 >= 3)

292 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFGAUTOREG_SET
;

293 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

294 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

296 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

299 
pCli
->
u
.
˛iAutoReg
.
ŒidIdx
 =ÜlidIdx;

301 if(
	`°rcmp
(
¨gv
[2], "enable") == 0)

303 if(
¨gc
 == 4)

305 
pCli
->
u
.
˛iAutoReg
.
autoRegE«bÀ
 = 1;

306 
pCli
->
u
.
˛iAutoReg
.
autoRegTime
 = 
	`©oi
(
¨gv
[3]);

310 
	`¥ötf
("[enable <autoreg-interval>|disable]\n");

313 if(
	`°rcmp
(
¨gv
[2], "disable") == 0)

315 if(
¨gc
 == 3)

317 
pCli
->
u
.
˛iAutoReg
.
autoRegE«bÀ
 = 0;

321 
	`¥ötf
("[enable <autoreg-interval>|disable]\n");

326 
	`¥ötf
("%†<ŒidIdx> [íabÀ <aut‹eg-öãrvÆ>|dißbÀ]\n", 
¨gv
[0]);

333 
	`¥ötf
("%†<ŒidIdx> [íabÀ <aut‹eg-öãrvÆ>|dißbÀ]\n", 
¨gv
[0]);

336 
	}
}

338 
	$ï⁄_ﬂm_˛i_c⁄figEvít_£t
(

339 
¨gc
,

340 *
¨gv
[],

341 
ﬂm_˛i_t
 *
pCli
)

343 
ŒidIdx
;

345 if(
¨gc
 == 4)

347 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFGEVENT_SET
;

348 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

349 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

351 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

354 
pCli
->
u
.
˛iEvít
.
ŒidIdx
 =ÜlidIdx;

355 
pCli
->
u
.
˛iEvít
.
evítRïC¡
 = 
	`©oi
(
¨gv
[2]);

356 
pCli
->
u
.
˛iEvít
.
evítRïI¡vl
 = 
	`©oi
(
¨gv
[3]);

362 
	`¥ötf
("%†<ŒidIdx> <ª≥©-˙t> <ª≥©-öãrvÆ>\n", 
¨gv
[0]);

365 
	}
}

367 
	$ï⁄_ﬂm_˛i_c⁄figHﬁdovî_£t
(

368 
¨gc
,

369 *
¨gv
[],

370 
ﬂm_˛i_t
 *
pCli
)

372 
ŒidIdx
;

374 if(
¨gc
 == 4)

376 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFGHOLDOVER_SET
;

377 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

378 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

380 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

384 if(
	`°rcmp
(
¨gv
[2], "enable") == 0)

386 
pCli
->
u
.
˛iHﬁdovî
.
hﬁdovîE«bÀ
 = 1;

388 if(
	`°rcmp
(
¨gv
[2], "disable") == 0)

390 
pCli
->
u
.
˛iHﬁdovî
.
hﬁdovîE«bÀ
 = 0;

393 
pCli
->
u
.
˛iHﬁdovî
.
ŒidIdx
 =ÜlidIdx;

394 
pCli
->
u
.
˛iHﬁdovî
.
hﬁdovîTime
 = 
	`©oi
(
¨gv
[3]);

400 
	`¥ötf
("%†<ŒidIdx> [íabÀ|dißbÀ] <hﬁdovî-time>\n", 
¨gv
[0]);

403 
	}
}

405 
	$ï⁄_ﬂm_˛i_c⁄figMac_£t
(

406 
¨gc
,

407 *
¨gv
[],

408 
ﬂm_˛i_t
 *
pCli
)

410 
i
;

411 *
ídPå
, *
pch
;

412 
ŒidIdx
;

414 if(
¨gc
 == 3)

416 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFGMAC_SET
;

417 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

418 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

420 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

423 
pCli
->
u
.
˛iMac
.
ŒidIdx
 =ÜlidIdx;

426 
pch
 = 
ídPå
 = 
¨gv
[2];

427 
pch
 = 
	`°rchr
(pch, ':');

428 
pch
 !
NULL
)

430 *
pch
 = ' ';

431 
pch
 = 
	`°rchr
(pch, ':');

434 
i
 = 0;i < 6;i++)

436 
pCli
->
u
.
˛iMac
.
mac
[
i
] = 
	`°πﬁ
(
ídPå
, &endPtr, 16);

443 
	`¥ötf
("%†<ŒidIdx> <mac-addr>\n", 
¨gv
[0]);

444 
	`¥ötf
("Ex: %†3 00:11:22:33:44:55\n", 
¨gv
[0]);

447 
	}
}

449 
	$ï⁄_ﬂm_˛i_c⁄figOam_£t
(

450 
¨gc
,

451 *
¨gv
[],

452 
ﬂm_˛i_t
 *
pCli
)

454 
ŒidIdx
;

456 if(
¨gc
 == 3)

458 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFGOAM_SET
;

459 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

460 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

462 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

465 
pCli
->
u
.
˛iE«bÀ
.
ŒidIdx
 =ÜlidIdx;

467 if(
	`°rcmp
(
¨gv
[2], "enable") == 0)

469 
pCli
->
u
.
˛iE«bÀ
.
íabÀ
 = 1;

471 if(
	`°rcmp
(
¨gv
[2], "disable") == 0)

473 
pCli
->
u
.
˛iE«bÀ
.
íabÀ
 = 0;

477 
	`¥ötf
("[enable | disable]\n");

485 
	`¥ötf
("%†<ŒidIdx> [íabÀ | dißbÀ]\n", 
¨gv
[0]);

488 
	}
}

490 
	$ï⁄_ﬂm_˛i_c⁄fig_gë
(

491 
¨gc
,

492 *
¨gv
[],

493 
ﬂm_˛i_t
 *
pCli
)

495 
ŒidIdx
;

497 if(
¨gc
 == 2)

499 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_CFG_GET
;

500 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

501 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

503 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

506 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

512 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

517 
	}
}

519 
	$ï⁄_ﬂm_˛i_cou¡î_˛ór
(

520 
¨gc
,

521 *
¨gv
[],

522 
ﬂm_˛i_t
 *
pCli
)

524 
ŒidIdx
;

526 if(
¨gc
 == 2)

528 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_COUNTER_CLEAR
;

529 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

530 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

532 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

535 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

541 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

546 
	}
}

548 
	$ï⁄_ﬂm_˛i_cou¡î_gë
(

549 
¨gc
,

550 *
¨gv
[],

551 
ﬂm_˛i_t
 *
pCli
)

553 
ŒidIdx
;

555 if(
¨gc
 == 2)

557 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_COUNTER_GET
;

558 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

559 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

561 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

564 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

570 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

575 
	}
}

577 
	$ï⁄_ﬂm_˛i_dbgFœg_£t
(

578 
¨gc
,

579 *
¨gv
[],

580 
ﬂm_˛i_t
 *
pCli
)

582 if(
¨gc
 == 2)

584 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_DBG_SET
;

585 
pCli
->
u
.
˛iDbg
.
Êag
 = 
	`°πﬁ
(
¨gv
[1], 
NULL
, 16);

591 
	`¥ötf
("%†<hex-vÆue>\n", 
¨gv
[0]);

592 
	`¥ötf
("EPON_OAM_DBGFLAG_NONE (0x00000000UL)\n");

593 
	`¥ötf
("EPON_OAM_DBGFLAG_INFO (0x00000001UL)\n");

594 
	`¥ötf
("EPON_OAM_DBGFLAG_WARN (0x00000002UL)\n");

595 
	`¥ötf
("EPON_OAM_DBGFLAG_ERROR (0x00000004UL)\n");

596 
	`¥ötf
("EPON_OAM_DBGFLAG_DUMP (0x00000008UL)\n");

597 
	`¥ötf
("EPON_OAM_DBGFLAG_CTC_INFO (0x00000010UL)\n");

598 
	`¥ötf
("EPON_OAM_DBGFLAG_CTC_WARN (0x00000020UL)\n");

599 
	`¥ötf
("EPON_OAM_DBGFLAG_CTC_ERROR (0x00000040UL)\n");

600 
	`¥ötf
("EPON_OAM_DBGFLAG_CTC_DUMP (0x00000080UL)\n");

601 
	`¥ötf
("EPON_OAM_DBGFLAG_TXOAM (0x10000000UL)\n");

602 
	`¥ötf
("EPON_OAM_DBGFLAG_RXOAM (0x20000000UL)\n");

603 
	`¥ötf
("EPON_OAM_DBGFLAG_DEBUG (0x80000000UL)\n");

604 
	`¥ötf
("EPON_OAM_DBGFLAG_ALL (0xFFFFFFFFUL)\n");

607 
	}
}

609 
	$ï⁄_ﬂm_˛i_dbgFœg_gë
(

610 
¨gc
,

611 *
¨gv
[],

612 
ﬂm_˛i_t
 *
pCli
)

614 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_DBG_GET
;

617 
	}
}

619 
	$ï⁄_ﬂm_˛i_dbgExt_£t
(

620 
¨gc
,

621 *
¨gv
[],

622 
ﬂm_˛i_t
 *
pCli
)

624 if(
¨gc
 == 2)

626 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_DBGEXT_SET
;

627 
pCli
->
u
.
˛iDbg
.
Êag
 = 
	`°πﬁ
(
¨gv
[1], 
NULL
, 16);

633 
	`¥ötf
("%†<hex-vÆue>\n", 
¨gv
[0]);

636 
	}
}

638 
	$ï⁄_ﬂm_˛i_dbgExt_gë
(

639 
¨gc
,

640 *
¨gv
[],

641 
ﬂm_˛i_t
 *
pCli
)

643 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_DBGEXT_GET
;

646 
	}
}

648 
	$ï⁄_ﬂm_˛i_Áûovî_£t
(

649 
¨gc
,

650 *
¨gv
[],

651 
ﬂm_˛i_t
 *
pCli
)

653 
vÆue
;

654 if(
¨gc
 == 3)

656 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_FAILOVER_SET
;

657 
vÆue
 = 
	`©oi
(
¨gv
[1]);

658 if(
vÆue
 < 0)

662 
pCli
->
u
.
˛iFaûovî
.
gønuœrôy
 = 
vÆue
;

664 
vÆue
 = 
	`©oi
(
¨gv
[2]);

665 if(
vÆue
 < 0)

669 
pCli
->
u
.
˛iFaûovî
.
backoff
 = 
vÆue
;

675 
	`¥ötf
("%†<gønuœrôy-ms> <backoff-ms>\n", 
¨gv
[0]);

678 
	}
}

680 
	$ï⁄_ﬂm_˛i_Áûovî_gë
(

681 
¨gc
,

682 *
¨gv
[],

683 
ﬂm_˛i_t
 *
pCli
)

685 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_FAILOVER_GET
;

688 
	}
}

690 
	$ï⁄_ﬂm_˛i_ﬂmInfoVídîOui_£t
(

691 
¨gc
,

692 *
¨gv
[],

693 
ﬂm_˛i_t
 *
pCli
)

695 
i
;

696 *
ídPå
, *
pch
;

697 
ŒidIdx
;

699 if(
¨gc
 == 3)

701 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_OAMINFOOUI_SET
;

702 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

703 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

705 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

708 
pCli
->
u
.
˛iMac
.
ŒidIdx
 =ÜlidIdx;

711 
pch
 = 
ídPå
 = 
¨gv
[2];

712 
pch
 = 
	`°rchr
(pch, ':');

713 
pch
 !
NULL
)

715 *
pch
 = ' ';

716 
pch
 = 
	`°rchr
(pch, ':');

719 
i
 = 0;i < 3;i++)

721 
pCli
->
u
.
˛iMac
.
mac
[
i
] = 
	`°πﬁ
(
ídPå
, &endPtr, 16);

728 
	`¥ötf
("%†<ŒidIdx> <vídî-oui>\n", 
¨gv
[0]);

729 
	`¥ötf
("Ex: %†3 00:11:22\n", 
¨gv
[0]);

732 
	}
}

734 
	$ï⁄_ﬂm_˛i_ﬂmInfo_gë
(

735 
¨gc
,

736 *
¨gv
[],

737 
ﬂm_˛i_t
 *
pCli
)

739 
ŒidIdx
;

741 if(
¨gc
 == 2)

743 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_OAMINFO_GET
;

744 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

745 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

747 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

750 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

756 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

761 
	}
}

763 
	$ï⁄_ﬂm_˛i_ﬂmSèã_gë
(

764 
¨gc
,

765 *
¨gv
[],

766 
ﬂm_˛i_t
 *
pCli
)

768 
ŒidIdx
;

770 if(
¨gc
 == 2)

772 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_OAMSTATE_GET
;

773 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

774 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

776 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

779 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

785 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

788 
	}
}

790 
	$ï⁄_ﬂm_˛i_ªgi°î_åiggî
(

791 
¨gc
,

792 *
¨gv
[],

793 
ﬂm_˛i_t
 *
pCli
)

795 
ŒidIdx
;

797 if(
¨gc
 == 2)

799 
pCli
->
˛iTy≥
 = 
EPON_OAM_CLI_REG_TRIGGER
;

800 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

801 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

803 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

806 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
 =ÜlidIdx;

810 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

815 
	}
}

819 
	$ï⁄_ﬂm_˛i_˘cLoid_gë
(

820 
¨gc
,

821 *
¨gv
[],

822 
ﬂm_˛i_t
 *
pCli
)

824 
ŒidIdx
;

826 if(
¨gc
 == 2)

828 
	`mem£t
(
pCli
, 0, (
ﬂm_˛i_t
));

829 
pCli
->
˛iTy≥
 = 
CTC_OAM_CLI_LOID_GET
;

830 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

831 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

833 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

836 
pCli
->
u
.
˛iCtcLoid
.
ŒidIdx
 =ÜlidIdx;

840 
	`¥ötf
("%†<ŒidIdx>\n", 
¨gv
[0]);

845 
	}
}

847 
	$ï⁄_ﬂm_˛i_˘cLoid_£t
(

848 
¨gc
,

849 *
¨gv
[],

850 
ﬂm_˛i_t
 *
pCli
)

852 
ŒidIdx
;

854 if(
¨gc
 == 4)

856 
	`mem£t
(
pCli
, 0, (
ﬂm_˛i_t
));

857 
pCli
->
˛iTy≥
 = 
CTC_OAM_CLI_LOID_SET
;

858 
ŒidIdx
 = 
	`©oi
(
¨gv
[1]);

859 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

861 
	`¥ötf
("<ŒidIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

864 
pCli
->
u
.
˛iCtcLoid
.
ŒidIdx
 =ÜlidIdx;

865 
	`°r˝y
(
pCli
->
u
.
˛iCtcLoid
.
loid
, 
¨gv
[2]);

866 
	`°r˝y
(
pCli
->
u
.
˛iCtcLoid
.
∑ssw‹d
, 
¨gv
[3]);

870 
	`¥ötf
("%†<ŒidIdx> <loid> <∑ssw‹d>\n", 
¨gv
[0]);

875 
	}
}

877 
	$ï⁄_ﬂm_evít_£nd
(

878 
ŒidIdx
,

879 
evítId
)

881 
ªt
;

882 
ﬂm_msgqEvítD©a_t
 
evít
;

884 
evít
.
mty≥
 = 
evítId
;

885 
evít
.
msgqD©a
.
ŒidIdx
 =ÜlidIdx;

886 
evít
.
msgqD©a
.
d©aSize
 = 0;

887 
ªt
 = 
	`msg¢d
(
msgQId
, (*)&
evít
, 0, 
IPC_NOWAIT
);

888 if(-1 =
ªt
)

890 
	`¥ötf
("[OAM:%s:%d] msg¢d faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

891  
EPON_OAM_ERR_MSGQ
;

894  
EPON_OAM_ERR_OK
;

895 
	}
}

897 
	$ï⁄_ﬂm_evítD©a_£nd
(

898 
ŒidIdx
,

899 
evítId
,

900 *
d©a
,

901 
d©aLí
)

903 
ªt
;

904 
ﬂm_msgqEvítD©a_t
 
evítD©a
;

906 if(
d©aLí
 > 
EPON_OAM_EVENTDATA_MAX
)

908  
EPON_OAM_ERR_PARAM
;

911 
evítD©a
.
mty≥
 = 
evítId
;

912 
evítD©a
.
msgqD©a
.
ŒidIdx
 =ÜlidIdx;

913 
evítD©a
.
msgqD©a
.
d©aSize
 = 
d©aLí
;

914 
	`mem˝y
(
evítD©a
.
msgqD©a
.
d©a
, d©a, 
d©aLí
);

915 
ªt
 = 
	`msg¢d
(
msgQId
, (*)&
evítD©a
, ”vítD©a.
msgqD©a
), 
IPC_NOWAIT
);

916 if(-1 =
ªt
)

918 
	`¥ötf
("[OAM:%s:%d] msg¢d faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

919  
EPON_OAM_ERR_MSGQ
;

922  
EPON_OAM_ERR_OK
;

923 
	}
}

925 
	$ï⁄_ﬂm_˛i_∑r£
(

926 
¨gc
,

927 *
¨gv
[],

928 
ﬂm_˛i_åì_t
 *
pCliTªe
,

929 
ﬂm_˛i_t
 *
pCli
)

931 
öputLí
, 
cmdLí
;

933 if(0 =
¨gc
)

936 
	`¥ötf
("available cmds:\n");

937 
pCliTªe
->
ty≥
 !
EPON_OAM_CLI_END
)

939 
	`¥ötf
("%s\n", 
pCliTªe
->
cmd
);

940 
pCliTªe
 += 1;

946 if(
NULL
 =
pCliTªe
)

948 
	`¥ötf
("incorrect commandÅree\n");

952 
öputLí
 = 
	`°æí
(
¨gv
[0]);

953 
pCliTªe
->
ty≥
 !
EPON_OAM_CLI_END
)

955 
cmdLí
 = 
	`°æí
(
pCliTªe
->
cmd
);

956 if(
	`°∫cmp
(
¨gv
[0], 
pCliTªe
->
cmd
, 
öputLí
 > 
cmdLí
 ? cmdLen : inputLen) == 0)

959 if(
pCliTªe
->
ty≥
 =
EPON_OAM_CLI_BRANCH
)

961  
	`ï⁄_ﬂm_˛i_∑r£
(
¨gc
 - 1, &
¨gv
[1], 
pCliTªe
->
u
.
pSubTªe
, 
pCli
);

963 if(
pCliTªe
->
ty≥
 =
EPON_OAM_CLI_LEAF
)

965 if(
NULL
 !
pCliTªe
->
u
.
˛i_¥oc
)

967  
pCliTªe
->
u
.
	`˛i_¥oc
(
¨gc
, 
¨gv
, 
pCli
);

971 
	`¥ötf
("incorrect command callback\n");

977 
	`¥ötf
("incorrect commandÅype\n");

981 
pCliTªe
 =ÖCliTree + 1;

984 
	`¥ötf
("incorrect command\n");

986 
	}
}

989 
	$maö
(

990 
¨gc
,

991 *
¨gv
[])

993 
ªt
;

994 
≥rmôs
;

995 
key_t
 
msgQKey
 = 1568;

996 
ﬂm_˛i_t
 
˛i
;

1003 
≥rmôs
 = 00666;

1004 
≥rmôs
 |
IPC_CREAT
;

1005 
msgQId
 = 
	`msggë
(
msgQKey
, 
≥rmôs
);

1006 if(-1 =
msgQId
)

1008 
	`¥ötf
("[OAM:%s:%d] msgq cª©êÁûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

1012 
	`mem£t
(&
˛i
, 0x0, (cli));

1013 
ªt
 = 
	`ï⁄_ﬂm_˛i_∑r£
(
¨gc
 - 1, &
¨gv
[1], 
˛iRoŸ
, &
˛i
);

1015 if(0 =
ªt
)

1017 
	`ï⁄_ﬂm_evítD©a_£nd
(0,

1018 
EPON_OAM_EVENT_CLI
,

1019 (*)&
˛i
,

1020 (
˛i
));

1024 
	}
}

	@src/epon_oam_db.c

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<mÆloc.h
>

28 
	~<î∫o.h
>

29 
	~<£m≠h‹e.h
>

31 
	~"ï⁄_ﬂm_c⁄fig.h
"

32 
	~"ï⁄_ﬂm_îr.h
"

33 
	~"ï⁄_ﬂm_rx.h
"

34 
	~"ï⁄_ﬂm_db.h
"

35 
	~"ï⁄_ﬂm_dbg.h
"

37 
	~<πk/ï⁄.h
>

38 
	~<ùc_¥Ÿocﬁ.h
>

39 
	~<lw_c⁄fig_oid.h
>

40 
	~<lw_c⁄fig_≠i.h
>

46 
	sﬂm_dummy_s
 {

47 
	mÀngth
;

48 *
	md©a
;

49 } 
	tﬂm_dummy_t
;

55 
ﬂm_c⁄fig_t
 
	gﬂmC⁄fig
[
EPON_OAM_SUPPORT_LLID_NUM
];

57 
£m_t
 
	gﬂmDbAc˚ssSem
;

59 
ﬂm_ﬂmInfo_t
 
	gloˇlOamInfo
[
EPON_OAM_SUPPORT_LLID_NUM
];

60 
ﬂm_ﬂmInfo_t
 
	gªmŸeOamInfo
[
EPON_OAM_SUPPORT_LLID_NUM
];

62 
ﬂm_öfoOrgS≥cCb_t
 
	gdefInfoOrgS≥cCb
;

63 
ﬂm_öfoOrgS≥cCbRec_t
 *
	gpInfoOrgS≥cCbDb
;

64 
ﬂm_evítOrgS≥cCb_t
 
	gdefEvítOrgS≥cCb
;

65 
ﬂm_evítOrgS≥cCbRec_t
 *
	gpEvítOrgS≥cCbDb
;

66 
ﬂm_‹gS≥cCb_t
 
	gdefOrgS≥cCb
;

67 
ﬂm_‹gS≥cCbRec_t
 *
	gpOrgS≥cCbDb
;

68 
ﬂm_v¨CbRec_t
 *
	gpV¨CbDb
[
EPON_OAM_VARIABLEDB_HASH_NUM
];

69 (*
defV¨Cb
)(

70 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
,

71 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
,

72 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
);

73 
ﬂm_cou¡î_t
 
ﬂmCou¡î
[
EPON_OAM_VARIABLEDB_HASH_NUM
];

74 
ﬂm_⁄u_víd‹
[4] = {'H','3','C',0x00
	}
};

75 
	gh3c_⁄u_víd‹
[4] = {'H','3','C',0x00};

76 
	gyŸc_⁄u_víd‹
[4] = {'Y','O','T','U'};

77 
	gøi£com_⁄u_víd‹
[4] = {'R','C',0,0};

78 
	gfibîhome_⁄u_víd‹
[4] = {'W','R','I', 0};

79 
	gzã_⁄u_víd‹
[4] = {'Z','T','E', 0};

81 
	gzã_⁄u_id
[3] = {0x0,0xd,0xb6};

82 
	gzã_oui
[3] = {0x00, 0x0F, 0x3E};

83 
	gh3c_oui
[3] = {0x00, 0x0f, 0xe2};

84 
	ghuawei_oui
[3] = {0xbc, 0x61, 0x4e};

85 
	gbdcom_oui
[3] = {0x00, 0xe0, 0x0f};

86 
	gyŸc_oui
[3] = {0x00, 0x0c, 0xd8};

87 
	gøi£com_oui
[3] = {0x00,0x13,0x25};

89 
	gsh¨e_oui
[3] = {0x00, 0x0c, 0xd5};

91 #i‡
deföed
(
CONFIG_ONU_COMPATIBLE
)

92 
	gzã_ﬁt_vídî
[4] = {0x37, 0x23, 0x00, 0x01};

93 
	gzã_c300_ﬁt_vídî
[4] = {0x00, 0x00, 0x00, 0x00};

94 
	gfibîhome_ﬁt_vídî
[4] = {0x11, 0x00, 0x00, 0x01};

95 
ﬂm_fd
;

107 
	$ï⁄_ﬂm_dummyP¨£r
(

108 
ŒidIdx
,

109 *
pFøme
,

110 
Àngth
,

111 *
pExåa˘Lí
,

112 **
‹gS≥cD©a
)

114 
ﬂm_dummy_t
 *
pOamDummy
;

117 
pOamDummy
 = (
ﬂm_dummy_t
 *Ë
	`mÆloc
((oam_dummy_t));

118 if(
NULL
 =
pOamDummy
)

120  
EPON_OAM_ERR_MEM
;

123 
pOamDummy
->
Àngth
 = 
pFøme
[1];

125 if(
pOamDummy
->
Àngth
 >Üength)

127  
EPON_OAM_ERR_PARSE
;

130 
pOamDummy
->
d©a
 = (*Ë
	`mÆloc
((Ë*ÖOamDummy->
Àngth
);

132 if(
pOamDummy
->
d©a
 =
NULL
)

134 
	`‰ì
(
pOamDummy
);

135  
EPON_OAM_ERR_MEM
;

138 
	`mem˝y
(
pOamDummy
->
d©a
, 
pFøme
, (Ë*ÖOamDummy->
Àngth
);

139 *
pExåa˘Lí
 = 
pOamDummy
->
Àngth
;

140 *((
ﬂm_dummy_t
 **)
‹gS≥cD©a
Ë
pOamDummy
;

142  
EPON_OAM_ERR_OK
;

143 
	}
}

145 
	$ï⁄_ﬂm_dummyH™dÀr
(

146 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

147 *
pRïlyBuf
,

148 
bufLí
,

149 *
pRïlyLí
,

150 **
µOrgS≥cD©a
)

154 
ﬂm_dummy_t
 *
pOamDummy
 = *((ﬂm_dummy_à**)
µOrgS≥cD©a
);

157 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "Undeföed org s≥¯OAM wôhÜeg¡h %u\n", 
pOamDummy
->
Àngth
);

158 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_DUMP
, 
pOamDummy
->
d©a
,ÖOamDummy->
Àngth
);

160 *
pRïlyLí
 = 0;

162 
	`‰ì
(
pOamDummy
->
d©a
);

163 
	`‰ì
(
pOamDummy
);

165  
EPON_OAM_ERR_OK
;

166 
	}
}

168 
	$ï⁄_ﬂm_dummyPro˚ss‹
(

169 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

170 *
pFøme
,

171 
Àngth
,

172 *
pRïlyBuf
,

173 
bufLí
,

174 *
pRïlyLí
)

176 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_DUMP
, 
pFøme
, 
Àngth
);

177 *
pRïlyLí
 = 0;

179  
EPON_OAM_ERR_OK
;

180 
	}
}

182 
	$ï⁄_ﬂm_dummyV¨H™dÀr
(

183 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
,

184 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
,

185 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
)

187 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

188 "Uƒecognizêv¨übÀ 0x%02x/0x%04x\n", 
v¨Desc
.
v¨Bønch
, v¨Desc.
v¨Lóf
);

189 if(
NULL
 !
pV¨T¨gë
)

191 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

193 
pV¨T¨gë
->
v¨Desc
.
v¨Bønch
,

194 
pV¨T¨gë
->
v¨Desc
.
v¨Lóf
,

195 
pV¨T¨gë
->
v¨D©a
[0],

196 
pV¨T¨gë
->
v¨D©a
[1]);

199 *
µV¨C⁄èöî
 = 
NULL
;

201  
EPON_OAM_ERR_OK
;

202 
	}
}

204 
ﬂm_öfoOrgS≥cCbRec_t
 *
	$ï⁄_ﬂm_‹gS≥cInfo_gë
(*
pOui
)

206 
ﬂm_öfoOrgS≥cCbRec_t
 *
pSórchPå
;

208 
pSórchPå
 = 
pInfoOrgS≥cCbDb
;

209 
NULL
 !
pSórchPå
)

211 if((
pSórchPå
->
oui
[0] =
pOui
[0]) &&

212 (
pSórchPå
->
oui
[1] =
pOui
[1]) &&

213 (
pSórchPå
->
oui
[2] =
pOui
[2]))

215  
pSórchPå
;

217 
pSórchPå
 =ÖSórchPå->
√xt
;

220  
NULL
;

221 
	}
}

223 
	$ï⁄_ﬂm_‹gS≥cInfo_ªg
(

224 *
pOui
,

225 
ﬂm_öfoOrgS≥cCb_t
 *
pCbD©a
)

227 
ﬂm_öfoOrgS≥cCbRec_t
 *
pInfoCbRec
;

229 
pInfoCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_gë
(
pOui
);

230 if(
NULL
 =
pInfoCbRec
)

233 
pInfoCbRec
 = (
ﬂm_öfoOrgS≥cCbRec_t
 *Ë
	`mÆloc
((oam_infoOrgSpecCbRec_t));

234 if(
NULL
 =
pInfoCbRec
)

236  
EPON_OAM_ERR_MEM
;

238 
pInfoCbRec
->
oui
[0] = 
pOui
[0];

239 
pInfoCbRec
->
oui
[1] = 
pOui
[1];

240 
pInfoCbRec
->
oui
[2] = 
pOui
[2];

241 
pInfoCbRec
->
∑r£r
 = 
pCbD©a
->parser;

242 
pInfoCbRec
->
h™dÀr
 = 
pCbD©a
->handler;

244 if(
NULL
 =
pInfoOrgS≥cCbDb
)

247 
pInfoCbRec
->
¥ev
 = 
NULL
;

248 
pInfoCbRec
->
√xt
 = 
NULL
;

249 
pInfoOrgS≥cCbDb
 = 
pInfoCbRec
;

254 
pInfoCbRec
->
¥ev
 = 
NULL
;

255 
pInfoCbRec
->
√xt
 = 
pInfoOrgS≥cCbDb
;

256 
pInfoOrgS≥cCbDb
->
¥ev
 = 
pInfoCbRec
;

257 
pInfoOrgS≥cCbDb
 = 
pInfoCbRec
;

263 
pInfoCbRec
->
∑r£r
 = 
pCbD©a
->parser;

264 
pInfoCbRec
->
h™dÀr
 = 
pCbD©a
->handler;

267  
EPON_OAM_ERR_OK
;

268 
	}
}

270 
	$ï⁄_ﬂm_‹gS≥cInfo_dîeg
(

271 *
pOui
)

273 
ﬂm_öfoOrgS≥cCbRec_t
 *
pInfoCbRec
;

275 
pInfoCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_gë
(
pOui
);

276 if(
NULL
 !
pInfoCbRec
)

278 if((
NULL
 =
pInfoCbRec
->
¥ev
) &&

279 (
NULL
 =
pInfoCbRec
->
√xt
))

282 
pInfoOrgS≥cCbDb
 = 
NULL
;

287 if(
NULL
 !
pInfoCbRec
->
¥ev
)

289 
pInfoCbRec
->
¥ev
->
√xt
 =ÖInfoCbRec->next;

291 if(
NULL
 !
pInfoCbRec
->
√xt
)

293 
pInfoCbRec
->
√xt
->
¥ev
 =ÖInfoCbRec->prev;

295 if(
pInfoOrgS≥cCbDb
 =
pInfoCbRec
)

297 
pInfoOrgS≥cCbDb
 = 
pInfoCbRec
->
√xt
;

300 
	`‰ì
(
pInfoCbRec
);

303  
EPON_OAM_ERR_OK
;

304 
	}
}

306 
ﬂm_evítOrgS≥cCbRec_t
 *
	$ï⁄_ﬂm_‹gS≥cEvít_gë
(*
pOui
)

308 
ﬂm_evítOrgS≥cCbRec_t
 *
pSórchPå
;

310 
pSórchPå
 = 
pEvítOrgS≥cCbDb
;

311 
NULL
 !
pSórchPå
)

313 if((
pSórchPå
->
oui
[0] =
pOui
[0]) &&

314 (
pSórchPå
->
oui
[1] =
pOui
[1]) &&

315 (
pSórchPå
->
oui
[2] =
pOui
[2]))

317  
pSórchPå
;

319 
pSórchPå
 =ÖSórchPå->
√xt
;

322  
NULL
;

323 
	}
}

325 
	$ï⁄_ﬂm_‹gS≥cEvít_ªg
(

326 *
pOui
,

327 
ﬂm_evítOrgS≥cCb_t
 *
pCbD©a
)

329 
ﬂm_evítOrgS≥cCbRec_t
 *
pEvítCbRec
;

331 
pEvítCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_gë
(
pOui
);

332 if(
NULL
 =
pEvítCbRec
)

335 
pEvítCbRec
 = (
ﬂm_evítOrgS≥cCbRec_t
 *Ë
	`mÆloc
((oam_eventOrgSpecCbRec_t));

336 if(
NULL
 =
pEvítCbRec
)

338  
EPON_OAM_ERR_MEM
;

340 
pEvítCbRec
->
oui
[0] = 
pOui
[0];

341 
pEvítCbRec
->
oui
[1] = 
pOui
[1];

342 
pEvítCbRec
->
oui
[2] = 
pOui
[2];

343 
pEvítCbRec
->
∑r£r
 = 
pCbD©a
->parser;

344 
pEvítCbRec
->
h™dÀr
 = 
pCbD©a
->handler;

346 if(
NULL
 =
pEvítOrgS≥cCbDb
)

349 
pEvítCbRec
->
¥ev
 = 
NULL
;

350 
pEvítCbRec
->
√xt
 = 
NULL
;

351 
pEvítOrgS≥cCbDb
 = 
pEvítCbRec
;

356 
pEvítCbRec
->
¥ev
 = 
NULL
;

357 
pEvítCbRec
->
√xt
 = 
pEvítOrgS≥cCbDb
;

358 
pEvítOrgS≥cCbDb
->
¥ev
 = 
pEvítCbRec
;

359 
pEvítOrgS≥cCbDb
 = 
pEvítCbRec
;

365 
pEvítCbRec
->
∑r£r
 = 
pCbD©a
->parser;

366 
pEvítCbRec
->
h™dÀr
 = 
pCbD©a
->handler;

369  
EPON_OAM_ERR_OK
;

370 
	}
}

372 
	$ï⁄_ﬂm_‹gS≥cEvít_dîeg
(

373 *
pOui
)

375 
ﬂm_evítOrgS≥cCbRec_t
 *
pEvítCbRec
;

377 
pEvítCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_gë
(
pOui
);

378 if(
NULL
 !
pEvítCbRec
)

380 if((
NULL
 =
pEvítCbRec
->
¥ev
) &&

381 (
NULL
 =
pEvítCbRec
->
√xt
))

384 
pEvítOrgS≥cCbDb
 = 
NULL
;

389 if(
NULL
 !
pEvítCbRec
->
¥ev
)

391 
pEvítCbRec
->
¥ev
->
√xt
 =ÖEventCbRec->next;

393 if(
NULL
 !
pEvítCbRec
->
√xt
)

395 
pEvítCbRec
->
√xt
->
¥ev
 =ÖEventCbRec->prev;

397 if(
pEvítOrgS≥cCbDb
 =
pEvítCbRec
)

399 
pEvítOrgS≥cCbDb
 = 
pEvítCbRec
->
√xt
;

402 
	`‰ì
(
pEvítCbRec
);

405  
EPON_OAM_ERR_OK
;

406 
	}
}

408 
ﬂm_‹gS≥cCbRec_t
 *
	$ï⁄_ﬂm_‹gS≥c_gë
(*
pOui
)

410 
ﬂm_‹gS≥cCbRec_t
 *
pSórchPå
;

412 
pSórchPå
 = 
pOrgS≥cCbDb
;

413 
NULL
 !
pSórchPå
)

415 if((
pSórchPå
->
oui
[0] =
pOui
[0]) &&

416 (
pSórchPå
->
oui
[1] =
pOui
[1]) &&

417 (
pSórchPå
->
oui
[2] =
pOui
[2]))

419  
pSórchPå
;

421 
pSórchPå
 =ÖSórchPå->
√xt
;

424  
NULL
;

425 
	}
}

427 
	$ï⁄_ﬂm_‹gS≥c_ªg
(

428 *
pOui
,

429 
ﬂm_‹gS≥cCb_t
 *
pCbD©a
)

431 
ﬂm_‹gS≥cCbRec_t
 *
pOrgS≥cCbRec
;

433 
pOrgS≥cCbRec
 = 
	`ï⁄_ﬂm_‹gS≥c_gë
(
pOui
);

434 if(
NULL
 =
pOrgS≥cCbRec
)

437 
pOrgS≥cCbRec
 = (
ﬂm_‹gS≥cCbRec_t
 *Ë
	`mÆloc
((oam_orgSpecCbRec_t));

438 if(
NULL
 =
pOrgS≥cCbRec
)

440  
EPON_OAM_ERR_MEM
;

442 
pOrgS≥cCbRec
->
oui
[0] = 
pOui
[0];

443 
pOrgS≥cCbRec
->
oui
[1] = 
pOui
[1];

444 
pOrgS≥cCbRec
->
oui
[2] = 
pOui
[2];

445 
pOrgS≥cCbRec
->
¥o˚ss‹
 = 
pCbD©a
->processor;

447 if(
NULL
 =
pOrgS≥cCbDb
)

450 
pOrgS≥cCbRec
->
¥ev
 = 
NULL
;

451 
pOrgS≥cCbRec
->
√xt
 = 
NULL
;

452 
pOrgS≥cCbDb
 = 
pOrgS≥cCbRec
;

457 
pOrgS≥cCbRec
->
¥ev
 = 
NULL
;

458 
pOrgS≥cCbRec
->
√xt
 = 
pOrgS≥cCbDb
;

459 
pOrgS≥cCbDb
->
¥ev
 = 
pOrgS≥cCbRec
;

460 
pOrgS≥cCbDb
 = 
pOrgS≥cCbRec
;

466 
pOrgS≥cCbRec
->
¥o˚ss‹
 = 
pCbD©a
->processor;

469  
EPON_OAM_ERR_OK
;

470 
	}
}

472 
	$ï⁄_ﬂm_‹gS≥c_dîeg
(

473 *
pOui
)

475 
ﬂm_‹gS≥cCbRec_t
 *
pOrgS≥cCbRec
;

477 
pOrgS≥cCbRec
 = 
	`ï⁄_ﬂm_‹gS≥c_gë
(
pOui
);

478 if(
NULL
 !
pOrgS≥cCbRec
)

480 if((
NULL
 =
pOrgS≥cCbRec
->
¥ev
) &&

481 (
NULL
 =
pOrgS≥cCbRec
->
√xt
))

484 
pOrgS≥cCbDb
 = 
NULL
;

489 if(
NULL
 !
pOrgS≥cCbRec
->
¥ev
)

491 
pOrgS≥cCbRec
->
¥ev
->
√xt
 =ÖOrgSpecCbRec->next;

493 if(
NULL
 !
pOrgS≥cCbRec
->
√xt
)

495 
pOrgS≥cCbRec
->
√xt
->
¥ev
 =ÖOrgSpecCbRec->prev;

497 if(
pOrgS≥cCbDb
 =
pOrgS≥cCbRec
)

499 
pOrgS≥cCbDb
 = 
pOrgS≥cCbRec
->
√xt
;

502 
	`‰ì
(
pOrgS≥cCbRec
);

505  
EPON_OAM_ERR_OK
;

506 
	}
}

508 
	$ï⁄_ﬂm_v¨übÀDb_hash
(

509 
ﬂm_v¨Des¸ùt‹_t
 *
pV¨Desc
)

511 
hashResu…
;

513 
hashResu…
 = 
pV¨Desc
->
v¨Bønch
;

514 
hashResu…
 ^((*)&
pV¨Desc
->
v¨Lóf
)[0];

515 
hashResu…
 ^((*)&
pV¨Desc
->
v¨Lóf
)[1];

516 
hashResu…
 = (hashResult & 0x0f) ^ ((hashResult & 0xf0) >> 4);

518 if(
hashResu…
 >
EPON_OAM_VARIABLEDB_HASH_NUM
)

520 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

521 "[OAM:%s:%d] hashÑesu…Éº‹!\n", 
__FILE__
, 
__LINE__
);

522 
hashResu…
 = 0;

525  
hashResu…
;

526 
	}
}

528 
ﬂm_v¨CbRec_t
 *
	$ï⁄_ﬂm_v¨übÀ_gë
(

529 
ﬂm_v¨Des¸ùt‹_t
 *
pV¨Desc
)

531 
ﬂm_v¨CbRec_t
 *
pSórchPå
;

537 
pSórchPå
 = 
pV¨CbDb
[
	`ï⁄_ﬂm_v¨übÀDb_hash
(
pV¨Desc
)];

538 
NULL
 !
pSórchPå
)

540 if((
pSórchPå
->
v¨Desc
.
v¨Bønch
 =
pV¨Desc
->varBranch) &&

541 (
pSórchPå
->
v¨Desc
.
v¨Lóf
 =
pV¨Desc
->varLeaf))

543  
pSórchPå
;

545 
pSórchPå
 =ÖSórchPå->
√xt
;

548  
NULL
;

549 
	}
}

551 
	$ï⁄_ﬂm_v¨übÀ_ªg
(

552 
ﬂm_v¨Cb_t
 *
pV¨Cb
)

554 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
;

555 
ﬂm_v¨CbRec_t
 *
pV¨CbRec
;

556 
ﬂm_v¨CbRec_t
 **
µV¨Db
;

558 
v¨Desc
 = 
pV¨Cb
->varDesc;

559 
pV¨CbRec
 = 
	`ï⁄_ﬂm_v¨übÀ_gë
(&
v¨Desc
);

560 if(
NULL
 =
pV¨CbRec
)

563 
pV¨CbRec
 = (
ﬂm_v¨CbRec_t
 *Ë
	`mÆloc
((oam_varCbRec_t));

564 if(
NULL
 =
pV¨CbRec
)

566  
EPON_OAM_ERR_MEM
;

568 
pV¨CbRec
->
v¨Ty≥
 = 
pV¨Cb
->varType;

569 
pV¨CbRec
->
v¨Desc
 = 
pV¨Cb
->varDesc;

570 
pV¨CbRec
->
h™dÀr
 = 
pV¨Cb
->handler;

572 
µV¨Db
 = &(
pV¨CbDb
[
	`ï⁄_ﬂm_v¨übÀDb_hash
(&
v¨Desc
)]);

573 if(
NULL
 =*
µV¨Db
)

576 
pV¨CbRec
->
¥ev
 = 
NULL
;

577 
pV¨CbRec
->
√xt
 = 
NULL
;

578 *
µV¨Db
 = 
pV¨CbRec
;

583 
pV¨CbRec
->
¥ev
 = 
NULL
;

584 
pV¨CbRec
->
√xt
 = *
µV¨Db
;

585 (*
µV¨Db
)->
¥ev
 = 
pV¨CbRec
;

586 (*
µV¨Db
Ë
pV¨CbRec
;

592 
pV¨CbRec
->
v¨Ty≥
 = 
pV¨Cb
->varType;

593 
pV¨CbRec
->
v¨Desc
 = 
pV¨Cb
->varDesc;

594 
pV¨CbRec
->
h™dÀr
 = 
pV¨Cb
->handler;

597  
EPON_OAM_ERR_OK
;

598 
	}
}

600 
	$ï⁄_ﬂm_v¨übÀ_dîeg
(

601 
ﬂm_v¨Des¸ùt‹_t
 *
pV¨Desc
)

603 
ﬂm_v¨CbRec_t
 *
pV¨CbRec
;

604 
ﬂm_v¨CbRec_t
 **
µV¨Db
;

606 
pV¨CbRec
 = 
	`ï⁄_ﬂm_v¨übÀ_gë
(
pV¨Desc
);

607 if(
NULL
 !
pV¨CbRec
)

609 
µV¨Db
 = &(
pV¨CbDb
[
	`ï⁄_ﬂm_v¨übÀDb_hash
(
pV¨Desc
)]);

610 if((
NULL
 =
pV¨CbRec
->
¥ev
) &&

611 (
NULL
 =
pV¨CbRec
->
√xt
))

614 *
µV¨Db
 = 
NULL
;

619 if(
NULL
 !
pV¨CbRec
->
¥ev
)

621 
pV¨CbRec
->
¥ev
->
√xt
 =ÖVarCbRec->next;

623 if(
NULL
 !
pV¨CbRec
->
√xt
)

625 
pV¨CbRec
->
√xt
->
¥ev
 =ÖVarCbRec->prev;

627 if(*
µV¨Db
 =
pV¨CbRec
)

629 *
µV¨Db
 = 
pV¨CbRec
->
√xt
;

632 
	`‰ì
(
pV¨CbRec
);

635  
EPON_OAM_ERR_OK
;

636 
	}
}

638 
	$ï⁄_ﬂm_öôObjIdNum
()

640 
ﬂm_v¨Cb_t
 
v¨Cb
;

642 
v¨Cb
.
v¨Ty≥
 = 
EPON_OAM_VARTYPE_OBJECTID
;

643 
v¨Cb
.
h™dÀr
 = 
NULL
;

646 
v¨Cb
.
v¨Desc
.
v¨Bønch
 = 7;

647 
v¨Cb
.
v¨Desc
.
v¨Lóf
 = 330;

648 
	`ï⁄_ﬂm_v¨übÀCb_ªg
(&
v¨Cb
);

651 
v¨Cb
.
v¨Desc
.
v¨Bønch
 = 7;

652 
v¨Cb
.
v¨Desc
.
v¨Lóf
 = 282;

653 
	`ï⁄_ﬂm_v¨übÀCb_ªg
(&
v¨Cb
);

654 
	}
}

657 
	$ï⁄_ﬂm_ã°_öô
()

659 
ﬂm_c⁄fig_t
 
c⁄fig
;

660 
πk_ï⁄_ªgReq_t
 
ªgE¡ry
;

662 
	`πk_ï⁄_ªgi°îReq_gë
(&
ªgE¡ry
);

664 if(0 =
ªgE¡ry
.
ŒidIdx
)

666 
	`ï⁄_ﬂm_c⁄fig_gë
(0, &
c⁄fig
);

667 
c⁄fig
.
ﬂmE«bÀd
 = 1;

668 
	`mem˝y
(&
c⁄fig
.
macAddr
[0], &
ªgE¡ry
.
mac
.
o˘ë
[0], (config.macAddr));

670 
	`ï⁄_ﬂm_c⁄fig_£t
(0, &
c⁄fig
);

674 
	`¥ötf
("%s:%d Te°ög c⁄fig faûed\n", 
__FILE__
, 
__LINE__
);

676 
	}
}

693 
	$ï⁄_ﬂm_d©aba£_öô
()

695 
i
, 
ªt
;

696 
ﬂm_ﬂmInfo_t
 
öfoOam
;

697 
vÆ
;

706 
ªt
 = 
	`£m_öô
(&
ﬂmDbAc˚ssSem
, 0, 1);

707 if(0 !
ªt
)

709 
	`¥ötf
("£m_öô %d (%d)\n", 
ªt
, 
î∫o
);

713 
	`mem£t
((*Ë&
ﬂmC⁄fig
, 0x0, (
ﬂm_c⁄fig_t
Ë* 
EPON_OAM_SUPPORT_LLID_NUM
);

716 
	`mem£t
((*Ë&
loˇlOamInfo
, 0x0, (
ﬂm_ﬂmInfo_t
Ë* 
EPON_OAM_SUPPORT_LLID_NUM
);

717 
	`mem£t
((*Ë&
ªmŸeOamInfo
, 0x0, (
ﬂm_ﬂmInfo_t
Ë* 
EPON_OAM_SUPPORT_LLID_NUM
);

719 
	`mem£t
(&
öfoOam
, 0x0, (
ﬂm_ﬂmInfo_t
));

720 
öfoOam
.
vÆid
 = 1;

721 
öfoOam
.
ﬂmVî
 = 1;

722 
öfoOam
.
ªvisi⁄
 = 1;

723 
öfoOam
.
°©e
 = 0;

724 
öfoOam
.
ﬂmC⁄fig
 = 0x14;

725 
öfoOam
.
ﬂmPduC⁄fig
 = 0x5ee;

726 
öfoOam
.
oui
[0] = 0x11;

727 
öfoOam
.
oui
[1] = 0x11;

728 
öfoOam
.
oui
[2] = 0x11;

730 
	`mem˝y
(
öfoOam
.
vídîS≥cInfo
, 
ﬂm_⁄u_víd‹
, (oam_onu_vendor));

732 
i
 = 0;ò< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

734 
	`ï⁄_ﬂm_loˇlInfo_£t
(
i
, &
öfoOam
);

737 
ﬂmC⁄fig
[
i
].
autoRegE«bÀ
 = 1;

738 
ﬂmC⁄fig
[
i
].
autoRegTime
 = 1000;

741 
ﬂmC⁄fig
[
i
].
hﬁdovîE«bÀ
 = 1;

742 
ﬂmC⁄fig
[
i
].
hﬁdovîTime
 = 200;

745 
	`ï⁄_ﬂm_cou¡î_öô
(
i
, 
EPON_OAM_COUNTERTYPE_TX
);

746 
	`ï⁄_ﬂm_cou¡î_öô
(
i
, 
EPON_OAM_COUNTERTYPE_RX
);

747 
	`ï⁄_ﬂm_cou¡î_öô
(
i
, 
EPON_OAM_COUNTERTYPE_DROP
);

748 
	`ï⁄_ﬂm_cou¡î_öô
(
i
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

752 
pInfoOrgS≥cCbDb
 = 
NULL
;

753 
defInfoOrgS≥cCb
.
∑r£r
 = 
ï⁄_ﬂm_dummyP¨£r
;

754 
defInfoOrgS≥cCb
.
h™dÀr
 = 
ï⁄_ﬂm_dummyH™dÀr
;

755 
pEvítOrgS≥cCbDb
 = 
NULL
;

756 
defEvítOrgS≥cCb
.
∑r£r
 = 
ï⁄_ﬂm_dummyP¨£r
;

757 
defEvítOrgS≥cCb
.
h™dÀr
 = 
ï⁄_ﬂm_dummyH™dÀr
;

758 
pOrgS≥cCbDb
 = 
NULL
;

759 
defOrgS≥cCb
.
¥o˚ss‹
 = 
ï⁄_ﬂm_dummyPro˚ss‹
;

760 
i
 = 0;ò< 
EPON_OAM_VARIABLEDB_HASH_NUM
;i++)

762 
pV¨CbDb
[
i
] = 
NULL
;

764 
defV¨Cb
 = 
ï⁄_ﬂm_dummyV¨H™dÀr
;

767 
	`ï⁄_ﬂm_öôObjIdNum
();

770 
	`ï⁄_ﬂm_ã°_öô
();

772 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

773 
com∑tibÀ_£âög_t
 *
sys
 = &
sys_com∑tibÀ
;

774 
vÆ
 = 
	`ﬂm_ùc_gë_sys_com∑tibÀ
(
ﬂm_fd
,
sys
);

775 if(
vÆ
)

777 
sys
->
íabÀ
 = 1;

778 
	`¥ötf
("Get compatible mode failed\n");

782  
EPON_OAM_ERR_OK
;

783 
	}
}

799 
	$ï⁄_ﬂm_c⁄fig_gë
(

800 
ŒidIdx
,

801 
ﬂm_c⁄fig_t
 *
pOamC⁄fig
)

804 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

806  
EPON_OAM_ERR_PARAM
;

809 if(
NULL
 =
pOamC⁄fig
)

811  
EPON_OAM_ERR_PARAM
;

814 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

815 *
pOamC⁄fig
 = 
ﬂmC⁄fig
[
ŒidIdx
];

816 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

818  
EPON_OAM_ERR_OK
;

819 
	}
}

836 
	$ï⁄_ﬂm_c⁄fig_£t
(

837 
ŒidIdx
,

838 
ﬂm_c⁄fig_t
 *
pOamC⁄fig
)

841 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

843  
EPON_OAM_ERR_PARAM
;

846 if(
NULL
 =
pOamC⁄fig
)

848  
EPON_OAM_ERR_PARAM
;

851 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

852 
ﬂmC⁄fig
[
ŒidIdx
] = *
pOamC⁄fig
;

853 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

855  
EPON_OAM_ERR_OK
;

856 
	}
}

872 
	$ï⁄_ﬂm_loˇlInfo_gë
(

873 
ŒidIdx
,

874 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

877 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

879  
EPON_OAM_ERR_PARAM
;

882 if(
NULL
 =
pOamInfo
)

884  
EPON_OAM_ERR_PARAM
;

887 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

888 *
pOamInfo
 = 
loˇlOamInfo
[
ŒidIdx
];

889 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

891  
EPON_OAM_ERR_OK
;

892 
	}
}

909 
	$ï⁄_ﬂm_loˇlInfo_£t
(

910 
ŒidIdx
,

911 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

914 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

916  
EPON_OAM_ERR_PARAM
;

919 if(
NULL
 =
pOamInfo
)

921  
EPON_OAM_ERR_PARAM
;

924 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

925 
loˇlOamInfo
[
ŒidIdx
] = *
pOamInfo
;

926 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

927 
	`DUMP_INFO_OAMPDU
(
ŒidIdx
, &
loˇlOamInfo
[llidIdx]);

929  
EPON_OAM_ERR_OK
;

930 
	}
}

946 
	$ï⁄_ﬂm_ªmŸeInfo_gë
(

947 
ŒidIdx
,

948 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

951 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

953  
EPON_OAM_ERR_PARAM
;

956 if(
NULL
 =
pOamInfo
)

958  
EPON_OAM_ERR_PARAM
;

961 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

962 *
pOamInfo
 = 
ªmŸeOamInfo
[
ŒidIdx
];

963 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

965  
EPON_OAM_ERR_OK
;

966 
	}
}

983 
	$ï⁄_ﬂm_ªmŸeInfo_£t
(

984 
ŒidIdx
,

985 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

988 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

990  
EPON_OAM_ERR_PARAM
;

993 if(
NULL
 =
pOamInfo
)

995  
EPON_OAM_ERR_PARAM
;

998 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

999 
ªmŸeOamInfo
[
ŒidIdx
] = *
pOamInfo
;

1000 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1001 
	`DUMP_INFO_OAMPDU
(
ŒidIdx
, &
ªmŸeOamInfo
[llidIdx]);

1003  
EPON_OAM_ERR_OK
;

1004 
	}
}

1020 
	$ï⁄_ﬂm_ªmŸeInfo_öô
(

1021 
ŒidIdx
)

1024 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

1026  
EPON_OAM_ERR_PARAM
;

1029 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1030 
	`mem£t
(&
ªmŸeOamInfo
[
ŒidIdx
], 0x0, (
ﬂm_ﬂmInfo_t
));

1031 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1033  
EPON_OAM_ERR_OK
;

1034 
	}
}

1053 
	$ï⁄_ﬂm_‹gS≥cCb_ªg
(

1054 
ﬂm_cbTy≥_t
 
ªgTy≥
,

1055 *
pOui
,

1056 *
pCbD©a
)

1058 
ªt
 = 
EPON_OAM_ERR_OK
;

1061 if(
ªgTy≥
 >
EPON_OAM_CBTYPE_END
)

1063  
EPON_OAM_ERR_PARAM
;

1066 if((
NULL
 =
pOui
Ë|| (NULL =
pCbD©a
))

1068  
EPON_OAM_ERR_PARAM
;

1071 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1072 
ªgTy≥
)

1074 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1075 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_ªg
(
pOui
, (
ﬂm_öfoOrgS≥cCb_t
 *)
pCbD©a
);

1077 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1078 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_ªg
(
pOui
, (
ﬂm_evítOrgS≥cCb_t
 *)
pCbD©a
);

1080 
EPON_OAM_CBTYPE_ORGSPEC
:

1081 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥c_ªg
(
pOui
, (
ﬂm_‹gS≥cCb_t
 *)
pCbD©a
);

1084 
ªt
 = 
EPON_OAM_ERR_PARAM
;

1087 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1089  
ªt
;

1090 
	}
}

1107 
	$ï⁄_ﬂm_‹gS≥cCb_dîeg
(

1108 
ﬂm_cbTy≥_t
 
ªgTy≥
,

1109 *
pOui
)

1111 
ªt
 = 
EPON_OAM_ERR_OK
;

1114 if(
ªgTy≥
 >
EPON_OAM_CBTYPE_END
)

1116  
EPON_OAM_ERR_PARAM
;

1119 if(
NULL
 =
pOui
)

1121  
EPON_OAM_ERR_PARAM
;

1124 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1125 
ªgTy≥
)

1127 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1128 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_dîeg
(
pOui
);

1130 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1131 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_dîeg
(
pOui
);

1133 
EPON_OAM_CBTYPE_ORGSPEC
:

1134 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥c_dîeg
(
pOui
);

1137 
ªt
 = 
EPON_OAM_ERR_PARAM
;

1140 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1142  
ªt
;

1143 
	}
}

1161 
	$ï⁄_ﬂm_‹gS≥cCb_gë
(

1162 
ﬂm_cbTy≥_t
 
ªgTy≥
,

1163 *
pOui
,

1164 *
pCbD©a
)

1166 
ªt
 = 
EPON_OAM_ERR_OK
;

1167 
ﬂm_öfoOrgS≥cCbRec_t
 *
pInfoCbRec
;

1168 
ﬂm_evítOrgS≥cCbRec_t
 *
pEvítCbRec
;

1169 
ﬂm_‹gS≥cCbRec_t
 *
pOrgS≥cCbRec
;

1172 if(
ªgTy≥
 >
EPON_OAM_CBTYPE_END
)

1174  
EPON_OAM_ERR_PARAM
;

1177 if((
NULL
 =
pOui
Ë|| (NULL =
pCbD©a
))

1179  
EPON_OAM_ERR_PARAM
;

1182 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1183 
ªgTy≥
)

1185 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1186 
pInfoCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_gë
(
pOui
);

1187 if(
NULL
 =
pInfoCbRec
)

1189 
ªt
 = 
EPON_OAM_ERR_NOT_FOUND
;

1193 ((
ﬂm_öfoOrgS≥cCb_t
 *Ë
pCbD©a
)->
∑r£r
 = 
pInfoCbRec
->parser;

1194 ((
ﬂm_öfoOrgS≥cCb_t
 *Ë
pCbD©a
)->
h™dÀr
 = 
pInfoCbRec
->handler;

1197 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1198 
pEvítCbRec
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_gë
(
pOui
);

1199 if(
NULL
 =
pEvítCbRec
)

1201 
ªt
 = 
EPON_OAM_ERR_NOT_FOUND
;

1205 ((
ﬂm_evítOrgS≥cCb_t
 *Ë
pCbD©a
)->
∑r£r
 = 
pEvítCbRec
->parser;

1206 ((
ﬂm_evítOrgS≥cCb_t
 *Ë
pCbD©a
)->
h™dÀr
 = 
pEvítCbRec
->handler;

1209 
EPON_OAM_CBTYPE_ORGSPEC
:

1210 
pOrgS≥cCbRec
 = 
	`ï⁄_ﬂm_‹gS≥c_gë
(
pOui
);

1211 if(
NULL
 =
pOrgS≥cCbRec
)

1213 
ªt
 = 
EPON_OAM_ERR_NOT_FOUND
;

1217 ((
ﬂm_‹gS≥cCb_t
 *Ë
pCbD©a
)->
¥o˚ss‹
 = 
pOrgS≥cCbRec
->processor;

1221 
ªt
 = 
EPON_OAM_ERR_PARAM
;

1224 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1226  
ªt
;

1227 
	}
}

1246 
	$ï⁄_ﬂm_v¨übÀCb_ªg
(

1247 
ﬂm_v¨Cb_t
 *
pV¨Cb
)

1249 if(
NULL
 =
pV¨Cb
)

1251  
EPON_OAM_ERR_PARAM
;

1254  
	`ï⁄_ﬂm_v¨übÀ_ªg
(
pV¨Cb
);

1255 
	}
}

1270 
	$ï⁄_ﬂm_v¨übÀCb_dîeg
(

1271 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
)

1273  
	`ï⁄_ﬂm_v¨übÀ_dîeg
(&
v¨Desc
);

1274 
	}
}

1292 
	$ï⁄_ﬂm_v¨übÀCb_gë
(

1293 
ﬂm_v¨Cb_t
 *
pV¨Cb
)

1295 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
;

1296 
ﬂm_v¨CbRec_t
 *
pV¨CbRec
;

1298 if(
NULL
 =
pV¨Cb
)

1300  
EPON_OAM_ERR_PARAM
;

1303 
v¨Desc
 = 
pV¨Cb
->varDesc;

1304 
pV¨CbRec
 = 
	`ï⁄_ﬂm_v¨übÀ_gë
(&
v¨Desc
);

1305 if(
NULL
 !
pV¨CbRec
)

1307 
pV¨Cb
->
v¨Ty≥
 = 
pV¨CbRec
->varType;

1308 
pV¨Cb
->
h™dÀr
 = 
pV¨CbRec
->handler;

1309  
EPON_OAM_ERR_OK
;

1313  
EPON_OAM_ERR_NOT_FOUND
;

1315 
	}
}

1332 
	$ï⁄_ﬂm_defOrgS≥cCb_£t
(

1333 
ﬂm_cbTy≥_t
 
ªgTy≥
,

1334 *
pCbD©a
)

1337 if(
ªgTy≥
 >
EPON_OAM_CBTYPE_END
)

1339  
EPON_OAM_ERR_PARAM
;

1342 if(
NULL
 =
pCbD©a
)

1344  
EPON_OAM_ERR_PARAM
;

1347 
ªgTy≥
)

1349 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1350 
defInfoOrgS≥cCb
.
∑r£r
 = ((
ﬂm_öfoOrgS≥cCb_t
 *)
pCbD©a
)->parser;

1351 
defInfoOrgS≥cCb
.
h™dÀr
 = ((
ﬂm_öfoOrgS≥cCb_t
 *)
pCbD©a
)->handler;

1353 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1354 
defEvítOrgS≥cCb
.
∑r£r
 = ((
ﬂm_evítOrgS≥cCb_t
 *)
pCbD©a
)->parser;

1355 
defEvítOrgS≥cCb
.
h™dÀr
 = ((
ﬂm_evítOrgS≥cCb_t
 *)
pCbD©a
)->handler;

1357 
EPON_OAM_CBTYPE_ORGSPEC
:

1358 
defOrgS≥cCb
.
¥o˚ss‹
 = ((
ﬂm_‹gS≥cCb_t
 *)
pCbD©a
)->processor;

1364  
EPON_OAM_ERR_OK
;

1365 
	}
}

1381 
	$ï⁄_ﬂm_defOrgS≥cCb_gë
(

1382 
ﬂm_cbTy≥_t
 
ªgTy≥
,

1383 *
pCbD©a
)

1386 if(
ªgTy≥
 >
EPON_OAM_CBTYPE_END
)

1388  
EPON_OAM_ERR_PARAM
;

1391 if(
NULL
 =
pCbD©a
)

1393  
EPON_OAM_ERR_PARAM
;

1396 
ªgTy≥
)

1398 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1399 ((
ﬂm_öfoOrgS≥cCb_t
 *)
pCbD©a
)->
∑r£r
 = 
defInfoOrgS≥cCb
.parser;

1400 ((
ﬂm_öfoOrgS≥cCb_t
 *)
pCbD©a
)->
h™dÀr
 = 
defInfoOrgS≥cCb
.handler;

1402 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1403 ((
ﬂm_evítOrgS≥cCb_t
 *)
pCbD©a
)->
∑r£r
 = 
defEvítOrgS≥cCb
.parser;

1404 ((
ﬂm_evítOrgS≥cCb_t
 *)
pCbD©a
)->
h™dÀr
 = 
defEvítOrgS≥cCb
.handler;

1406 
EPON_OAM_CBTYPE_ORGSPEC
:

1407 ((
ﬂm_‹gS≥cCb_t
 *)
pCbD©a
)->
¥o˚ss‹
 = 
defOrgS≥cCb
.processor;

1413  
EPON_OAM_ERR_OK
;

1414 
	}
}

1430 
ï⁄_ﬂm_defV¨Cb_£t
(

1431 (*
h™dÀr
)(

1432 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
,

1433 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
,

1434 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
))

1436 if(
NULL
 =
h™dÀr
)

1438  
EPON_OAM_ERR_PARAM
;

1441 
defV¨Cb
 = 
h™dÀr
;

1443  
EPON_OAM_ERR_OK
;

1444 
	}
}

1460 
ï⁄_ﬂm_defV¨Cb_gë
(

1461 (**
h™dÀr
)(

1462 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
,

1463 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
,

1464 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
))

1466 if(
NULL
 =
h™dÀr
)

1468  
EPON_OAM_ERR_PARAM
;

1471 *
h™dÀr
 = 
defV¨Cb
;

1473  
EPON_OAM_ERR_OK
;

1474 
	}
}

1490 
	$ï⁄_ﬂm_cou¡î_öô
(

1491 
ŒidIdx
,

1492 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
)

1494 if(
cou¡îTy≥
 >
EPON_OAM_COUNTERTYPE_END
)

1496  
EPON_OAM_ERR_OK
;

1499 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1500 
cou¡îTy≥
)

1502 
EPON_OAM_COUNTERTYPE_TX
:

1503 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTx
 = 0;

1505 
EPON_OAM_COUNTERTYPE_RX
:

1506 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRx
 = 0;

1508 
EPON_OAM_COUNTERTYPE_TXINFO
:

1509 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxInfo
 = 0;

1511 
EPON_OAM_COUNTERTYPE_RXINFO
:

1512 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxInfo
 = 0;

1514 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1515 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxOrgS≥c
 = 0;

1517 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1518 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxOrgS≥c
 = 0;

1520 
EPON_OAM_COUNTERTYPE_DROP
:

1521 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmDr›
 = 0;

1523 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1524 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmLo°Lök
 = 0;

1527 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1529  
EPON_OAM_ERR_OK
;

1530 
	}
}

1546 
	$ï⁄_ﬂm_cou¡î_öc
(

1547 
ŒidIdx
,

1548 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
)

1550 if(
cou¡îTy≥
 >
EPON_OAM_COUNTERTYPE_END
)

1552  
EPON_OAM_ERR_OK
;

1555 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1556 
cou¡îTy≥
)

1558 
EPON_OAM_COUNTERTYPE_TX
:

1559 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTx
++;

1561 
EPON_OAM_COUNTERTYPE_RX
:

1562 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRx
++;

1564 
EPON_OAM_COUNTERTYPE_TXINFO
:

1565 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxInfo
++;

1567 
EPON_OAM_COUNTERTYPE_RXINFO
:

1568 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxInfo
++;

1570 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1571 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxOrgS≥c
++;

1573 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1574 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxOrgS≥c
++;

1576 
EPON_OAM_COUNTERTYPE_DROP
:

1577 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmDr›
++;

1579 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1580 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmLo°Lök
++;

1583 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1585  
EPON_OAM_ERR_OK
;

1586 
	}
}

1602 
	$ï⁄_ﬂm_cou¡î_gë
(

1603 
ŒidIdx
,

1604 
ﬂm_cou¡îTy≥_t
 
cou¡îTy≥
)

1606 
vÆue
;

1608 if(
cou¡îTy≥
 >
EPON_OAM_COUNTERTYPE_END
)

1613 
	`£m_waô
(&
ﬂmDbAc˚ssSem
);

1614 
cou¡îTy≥
)

1616 
EPON_OAM_COUNTERTYPE_TX
:

1617 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTx
;

1619 
EPON_OAM_COUNTERTYPE_RX
:

1620 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRx
;

1622 
EPON_OAM_COUNTERTYPE_TXINFO
:

1623 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxInfo
;

1625 
EPON_OAM_COUNTERTYPE_RXINFO
:

1626 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxInfo
;

1628 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1629 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmTxOrgS≥c
;

1631 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1632 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmRxOrgS≥c
;

1634 
EPON_OAM_COUNTERTYPE_DROP
:

1635 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmDr›
;

1637 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1638 
vÆue
 = 
ﬂmCou¡î
[
ŒidIdx
].
ﬂmLo°Lök
;

1641 
	`£m_po°
(&
ﬂmDbAc˚ssSem
);

1643  
vÆue
;

1644 
	}
}

	@src/epon_oam_dbg.c

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<°d¨g.h
>

29 
	~"ï⁄_ﬂm_c⁄fig.h
"

30 
	~"ï⁄_ﬂm_îr.h
"

31 
	~"ï⁄_ﬂm_db.h
"

32 
	~"ï⁄_ﬂm_dbg.h
"

34 #i‡
EPON_OAM_DEBUG


42 
	gï⁄OamDbgFœg
 = 
EPON_OAM_DBGFLAG_DEFAULT
;

43 
	gï⁄OamExtFœg
 = 
EPON_OAM_DBGEXT_DEFAULT
;

53 
	$dump_öfo_ﬂmPdu
(
Œid
, 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

55 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "Œid %x\n", 
Œid
);

56 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "vÆid %x\n", 
pOamInfo
->
vÆid
);

57 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ﬂmVî %x\n", 
pOamInfo
->
ﬂmVî
);

58 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ªvisi⁄ %x\n", 
pOamInfo
->
ªvisi⁄
);

59 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "°©ê%x\n", 
pOamInfo
->
°©e
);

60 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ﬂmC⁄fig %x\n", 
pOamInfo
->
ﬂmC⁄fig
);

61 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ﬂmPduC⁄fig %x\n", 
pOamInfo
->
ﬂmPduC⁄fig
);

62 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ouò%02x:%02x:%02x\n", 
pOamInfo
->
oui
[0],

63 
pOamInfo
->
oui
[1],

64 
pOamInfo
->
oui
[2]);

65 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "vídîS≥cInfÿ%02x:%02x:%02x:%02x\n", 
pOamInfo
->
vídîS≥cInfo
[0],

66 
pOamInfo
->
vídîS≥cInfo
[1],

67 
pOamInfo
->
vídîS≥cInfo
[2],

68 
pOamInfo
->
vídîS≥cInfo
[3]);

69 
	}
}

71 
	$dump_hex_vÆue
(
Êag
, *
hexVÆue
, 
Àngth
)

73 
i
, 
j
;

74 
	`EPON_OAM_PRINT
(
Êag
,

76 
i
 = 0, 
j
 = 0; i < 
Àngth
 ; i ++)

78 if((
i
 % 0x10) == 0)

80 
	`EPON_OAM_PRINT
(
Êag
, "%04x ", 
j
);

81 
j
++;

83 
	`EPON_OAM_PRINT
(
Êag
, "%02x ", 
hexVÆue
[
i
]);

84 if((
i
 % 0x10) == 0x0f)

86 
	`EPON_OAM_PRINT
(
Êag
, "\n");

89 
	`EPON_OAM_PRINT
(
Êag
, "\n");

90 
	}
}

93 
	$ï⁄_ﬂm_dbgFœg_£t
(

94 
Êag
)

96 
ï⁄OamDbgFœg
 = 
Êag
;

97 
	}
}

100 
	$ï⁄_ﬂm_dbgFœg_gë
(

101 *
pFœg
)

103 *
pFœg
 = 
ï⁄OamDbgFœg
;

104 
	}
}

107 
	$ï⁄_ﬂm_dbgExt_£t
(

108 
Êag
)

110 
ï⁄OamExtFœg
 = 
Êag
;

111 
	}
}

114 
	$ï⁄_ﬂm_dbgExt_gë
(

115 *
pFœg
)

117 *
pFœg
 = 
ï⁄OamExtFœg
;

118 
	}
}

121 
	$ï⁄_ﬂm_¥öt
(

122 
Êag
,

123 *
fmt
,

126 
buf„r
[256];

127 
va_li°
 
¨gs
;

129 if((
ï⁄OamDbgFœg
 & 
Êag
) != 0)

131 
	`va_°¨t
(
¨gs
, 
fmt
);

132 
	`v•rötf
(
buf„r
, 
fmt
, 
¨gs
);

133 
	`¥ötf
(
buf„r
);

134 
	`va_íd
(
¨gs
);

136 
	}
}

	@src/epon_oam_main.c

26 
	~<°dio.h
>

27 
	~<°rög.h
>

28 
	~<±hªad.h
>

29 
	~<£m≠h‹e.h
>

30 
	~<î∫o.h
>

31 
	~<sig«l.h
>

32 
	~<time.h
>

33 
	~<sys/ty≥s.h
>

34 
	~<sys/ùc.h
>

35 
	~<sys/msg.h
>

36 
	~<sys/shm.h
>

38 
	~<πk/å≠.h
>

39 
	~<πk/ï⁄.h
>

40 
	~<πk/ﬂm.h
>

41 
	~<hÆ/comm⁄/hÆ˘æ.h
>

43 
	~"ï⁄_ﬂm_c⁄fig.h
"

44 
	~"ï⁄_ﬂm_rx.h
"

45 
	~"ï⁄_ﬂm_db.h
"

46 
	~"ï⁄_ﬂm_msgq.h
"

47 
	~"ï⁄_ﬂm_dbg.h
"

48 
	~"ï⁄_ﬂm_îr.h
"

50 
	~"˘c_ﬂm.h
"

51 
	~"h3c.h
"

53 
	~"lw_c⁄fig.h
"

55 
	~<πk/gpio.h
>

56 
	~<πk/Àd.h
>

57 
	~<sys/time.h
>

58 
	~<lw_ty≥.h
>

60 
	~<lw_c⁄fig_≠i.h
>

61 
	~<lw_c⁄fig_oid.h
>

62 
	~<lw_drv_pub.h
>

64 
	~<lw_drv_ªq.h
>

65 
	~"ﬂm_Æ¨m.h
"

66 
	~<sy°emlog.h
>

67 
	~<ùc_¥Ÿocﬁ.h
>

68 
	~<sys/ty≥s.h
>

69 
	~<sys/ùc.h
>

70 
	~<sys/msg.h
>

75 
	#EPON_OAM_STATEKEEPER_SIG_START
 (
SIGRTMIN
+3)

	)

76 
	#EPON_OAM_KEEPALIVE_TIME
 (5000Ë

	)

77 
	gﬂm_fd
;

82 
	gmsgQId
;

83 
timî_t
 
	gskKì∑live
[
EPON_OAM_SUPPORT_LLID_NUM
];

84 
	gÁûovîTime
;

85 
time•ec
 
	gÁûovîTimeS≥c
;

86 
	gbackoffTime
;

87 
time•ec
 
	gbackoffTimeS≥c
;

88 
πk_íabÀ_t
 
	g°©e
;

89 
	gﬂm_discovîy_°©e
;

90 
sys_c⁄fig_t
 
	gsys_c⁄fig
;

91 
	gtimeout_cou¡
=0;

95 
	#EPON_TIMER_SET
(
timîId
,
ms
,
ªt
Ë\

	)

97 
ôimî•ec
 
	gôs
; \

99 
	gôs
.
	gô_vÆue
.
	gtv_£c
 = 
ms
/1000; \

100 
	gôs
.
	gô_vÆue
.
	gtv_n£c
 = (
ms
%1000) * 1000000; \

101 
	gôs
.
	gô_öãrvÆ
.
	gtv_£c
 = 
ôs
.
ô_vÆue
.
tv_£c
; \

102 
	gôs
.
	gô_öãrvÆ
.
	gtv_n£c
 = 
ôs
.
ô_vÆue
.
tv_n£c
; \

103 
	gªt
 = 
timî_£âime
(
timîId
, 0, &
ôs
, 
NULL
); \

124 
	$ï⁄_ﬂm_u£r_öô
()

127 
	`˘c_ﬂm_öô
();

128 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

131 
	`h3c_ﬂm_öô
();

133 
	`bdcom_ﬂm_öô
();

135 
	`yŸc_ﬂm_öô
();

136 
	`huawei_ﬂm_öô
();

137 
	`huawei_yŸc_ﬂm_öô
();

138 
	`zã_ﬂm_öô
();

140 
	`fibîhome_ﬂm_öô
();

143 
	}
}

161 
	$ï⁄_ﬂm_u£rDb_öô
(

162 
ŒidIdx
)

165 
	`˘c_ﬂm_db_öô
(
ŒidIdx
);

166 
	}
}

170 
	$ï⁄_ﬂm_evít_£nd
(

171 
ŒidIdx
,

172 
evítId
)

174 
ªt
;

175 
ﬂm_msgqEvítD©a_t
 
evít
;

177 
evít
.
mty≥
 = 
evítId
;

178 
evít
.
msgqD©a
.
ŒidIdx
 =ÜlidIdx;

179 
evít
.
msgqD©a
.
d©aSize
 = 0;

180 
ªt
 = 
	`msg¢d
(
msgQId
, (*)&
evít
, 0, 
IPC_NOWAIT
);

181 if(-1 =
ªt
)

183 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

184 "[OAM:%s:%d] msg¢d faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

185  
EPON_OAM_ERR_MSGQ
;

188  
EPON_OAM_ERR_OK
;

189 
	}
}

191 
	$ï⁄_ﬂm_evítD©a_£nd
(

192 
ŒidIdx
,

193 
evítId
,

194 *
d©a
,

195 
d©aLí
)

197 
ªt
;

198 
ﬂm_msgqEvítD©a_t
 
evítD©a
;

200 if(
d©aLí
 > 
EPON_OAM_EVENTDATA_MAX
)

202  
EPON_OAM_ERR_PARAM
;

205 
evítD©a
.
mty≥
 = 
evítId
;

206 
evítD©a
.
msgqD©a
.
ŒidIdx
 =ÜlidIdx;

207 
evítD©a
.
msgqD©a
.
d©aSize
 = 
d©aLí
;

208 
	`mem˝y
(
evítD©a
.
msgqD©a
.
d©a
, d©a, 
d©aLí
);

209 
ªt
 = 
	`msg¢d
(
msgQId
, (*)&
evítD©a
, ”vítD©a.
msgqD©a
), 
IPC_NOWAIT
);

210 if(-1 =
ªt
)

212 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

213 "[OAM:%s:%d] msg¢d faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

214  
EPON_OAM_ERR_MSGQ
;

217  
EPON_OAM_ERR_OK
;

218 
	}
}

220 
	$ï⁄_ﬂm_kì∑live_timeout
(

221 
sig
,

222 
sigöfo_t
 *
si
,

223 *
uc
)

225 
	`ï⁄_ﬂm_evít_£nd
(
sig
 - 
EPON_OAM_STATEKEEPER_SIG_START
, 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
);

227 
	}
}

229 
	$ï⁄_ﬂm_hﬁdovî_timeout
(

230 
sig
)

234 
	}
}

236 
	$ï⁄_°©eKì≥r_timî_öô
()

238 
i
;

239 
sig£t_t
 
sigMask
;

240 
siga˘i⁄
 
ß
;

241 
sigevít
 
£vp
;

247 
i
 = 0;ò< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

249 
ß
.
ß_Êags
 = 
SA_SIGINFO
;

250 
ß
.
ß_siga˘i⁄
 = 
ï⁄_ﬂm_kì∑live_timeout
;

251 
	`sigem±y£t
(&
ß
.
ß_mask
);

253 if(-1 =
	`siga˘i⁄
(
EPON_OAM_STATEKEEPER_SIG_START
 + 
i
, &
ß
, 
NULL
))

255 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

256 "[OAM:%s:%d] sig«»a˘i⁄ së faûed %d %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
, 
i
);

260 
£vp
.
sigev_nŸify
 = 
SIGEV_SIGNAL
;

261 
£vp
.
sigev_signo
 = 
EPON_OAM_STATEKEEPER_SIG_START
 + 
i
;

262 
£vp
.
sigev_vÆue
.
sivÆ_±r
 = &
skKì∑live
[
i
];

263 if(-1 =
	`timî_¸óã
(
CLOCK_REALTIME
, &
£vp
, &
skKì∑live
[
i
]))

265 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

266 "[OAM:%s:%d] kì∑livêtimî cª©êÁûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

270 
	}
}

273 
˘cExtInfoCheck
;

276 
	$ï⁄_ﬂm_åiggîMp˝_ªg
(

277 
ŒidIdx
)

279 
ªt
;

280 
πk_ï⁄_Œid_íåy_t
 
ŒidE¡ry
;

281 
πk_ï⁄_ªgReq_t
 
ªgE¡ry
;

284 
ŒidE¡ry
.
ŒidIdx
 =ÜlidIdx;

285 
ªt
 = 
	`πk_ï⁄_Œid_íåy_gë
(&
ŒidE¡ry
);

286 if(
ªt
)

288  
ªt
;

291 
ŒidE¡ry
.
vÆid
 = 
DISABLED
;

292 
ŒidE¡ry
.
Œid
 = 0x7fff;

293 
ªt
 = 
	`πk_ï⁄_Œid_íåy_£t
(&
ŒidE¡ry
);

294 if(
ªt
)

296  
ªt
;

299 
ªt
 = 
	`πk_ï⁄_ªgi°îReq_gë
(&
ªgE¡ry
);

300 if(
ªt
)

302  
ªt
;

304 
ªgE¡ry
.
ŒidIdx
 =ÜlidIdx;

305 
ªgE¡ry
.
doReque°
 = 
ENABLED
;

306 
ªt
 = 
	`πk_ï⁄_ªgi°îReq_£t
(&
ªgE¡ry
);

307 if(
ªt
)

309  
ªt
;

311 
˘cExtInfoCheck
 = 0;

313 
	}
}

315 
	$ï⁄_ﬂm_˛i_¥oc
(

316 
ﬂm_˛i_t
 *
pCli
)

318 
Êag
;

319 
vÆue
;

320 
ﬂmPduFœg
;

321 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

322 
ﬂm_ﬂmInfo_t
 
ﬂmInfo
;

323 
˘c_⁄uAuthLoid_t
 
authLoid
;

325 
pCli
->
˛iTy≥
)

327 
EPON_OAM_CLI_DBG_SET
:

328 
	`ï⁄_ﬂm_dbgFœg_gë
(&
Êag
);

329 
	`¥ötf
("EPON OAM debug fœg 0x%08x -> ", 
Êag
);

330 
	`ï⁄_ﬂm_dbgFœg_£t
(
pCli
->
u
.
˛iDbg
.
Êag
);

331 
	`ï⁄_ﬂm_dbgFœg_gë
(&
Êag
);

332 
	`¥ötf
("0x%08x\n", 
Êag
);

334 
EPON_OAM_CLI_DBG_GET
:

335 
	`ï⁄_ﬂm_dbgFœg_gë
(&
Êag
);

336 
	`¥ötf
("EPON OAM debug fœg 0x%08x\n", 
Êag
);

338 
EPON_OAM_CLI_CFGOAM_SET
:

339 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iE«bÀ
.
ŒidIdx
, &
ﬂmC⁄fig
);

340 
ﬂmC⁄fig
.
ﬂmE«bÀd
 = 
pCli
->
u
.
˛iE«bÀ
.
íabÀ
;

341 
	`ï⁄_ﬂm_c⁄fig_£t
(
pCli
->
u
.
˛iE«bÀ
.
ŒidIdx
, &
ﬂmC⁄fig
);

343 
EPON_OAM_CLI_CFGMAC_SET
:

344 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iMac
.
ŒidIdx
, &
ﬂmC⁄fig
);

345 
	`mem˝y
(
ﬂmC⁄fig
.
macAddr
, 
pCli
->
u
.
˛iMac
.
mac
, 6);

346 
	`ï⁄_ﬂm_c⁄fig_£t
(
pCli
->
u
.
˛iMac
.
ŒidIdx
, &
ﬂmC⁄fig
);

348 
EPON_OAM_CLI_CFGAUTOREG_SET
:

349 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iAutoReg
.
ŒidIdx
, &
ﬂmC⁄fig
);

350 
ﬂmC⁄fig
.
autoRegE«bÀ
 = 
pCli
->
u
.
˛iAutoReg
.autoRegEnable;

351 
ﬂmC⁄fig
.
autoRegTime
 = 
pCli
->
u
.
˛iAutoReg
.autoRegTime;

352 
	`ï⁄_ﬂm_c⁄fig_£t
(
pCli
->
u
.
˛iAutoReg
.
ŒidIdx
, &
ﬂmC⁄fig
);

354 
EPON_OAM_CLI_CFGHOLDOVER_SET
:

355 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iHﬁdovî
.
ŒidIdx
, &
ﬂmC⁄fig
);

356 
ﬂmC⁄fig
.
hﬁdovîE«bÀ
 = 
pCli
->
u
.
˛iHﬁdovî
.holdoverEnable;

357 
ﬂmC⁄fig
.
hﬁdovîTime
 = 
pCli
->
u
.
˛iHﬁdovî
.holdoverTime;

358 
	`ï⁄_ﬂm_c⁄fig_£t
(
pCli
->
u
.
˛iHﬁdovî
.
ŒidIdx
, &
ﬂmC⁄fig
);

360 
EPON_OAM_CLI_CFGEVENT_SET
:

361 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, &
ﬂmC⁄fig
);

362 
ﬂmC⁄fig
.
evítRïC¡
 = 
pCli
->
u
.
˛iEvít
.eventRepCnt;

363 
ﬂmC⁄fig
.
evítRïI¡vl
 = 
pCli
->
u
.
˛iEvít
.eventRepIntvl;

364 
	`ï⁄_ﬂm_c⁄fig_£t
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, &
ﬂmC⁄fig
);

366 
EPON_OAM_CLI_CFG_GET
:

367 
	`ï⁄_ﬂm_c⁄fig_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, &
ﬂmC⁄fig
);

368 
	`¥ötf
("OAM c⁄fig†f‹ LLID %u\n", 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
);

369 
	`¥ötf
("OAM sèã: %s\n", 
ﬂmC⁄fig
.
ﬂmE«bÀd
 ? "enable" : "disable");

370 
	`¥ötf
("MAC: %02x:%02x:%02x:%02x:%02x:%02x\n",

371 
ﬂmC⁄fig
.
macAddr
[0],oamConfig.macAddr[1],oamConfig.macAddr[2],

372 
ﬂmC⁄fig
.
macAddr
[3],oamConfig.macAddr[4],oamConfig.macAddr[5]);

373 
	`¥ötf
("autoRegÉ«bÀ: %s\n", 
ﬂmC⁄fig
.
autoRegE«bÀ
 ? "enable" : "disable");

374 
	`¥ötf
("autoRegÅime: %u ms\n", 
ﬂmC⁄fig
.
autoRegTime
);

375 
	`¥ötf
("hﬁdovîÉ«bÀ: %s\n", 
ﬂmC⁄fig
.
hﬁdovîE«bÀ
 ? "enable" : "disable");

376 
	`¥ötf
("hﬁdovîÅime: %u ms\n", 
ﬂmC⁄fig
.
hﬁdovîTime
);

377 
	`¥ötf
("evíàª≥© cou¡: %u\n", 
ﬂmC⁄fig
.
evítRïC¡
);

378 
	`¥ötf
("evíàª≥© i¡îvÆ: %u\n", 
ﬂmC⁄fig
.
evítRïI¡vl
);

380 
EPON_OAM_CLI_COUNTER_CLEAR
:

381 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

382 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

383 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

384 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

385 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

386 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

387 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

388 
	`ï⁄_ﬂm_cou¡î_öô
(
pCli
->
u
.
˛iEvít
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

390 
EPON_OAM_CLI_COUNTER_GET
:

391 
	`¥ötf
("OAM cou¡î†f‹ LLID %u\n", 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
);

392 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

393 
	`¥ötf
("Tx: %u\n", 
vÆue
);

394 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

395 
	`¥ötf
("Rx: %u\n", 
vÆue
);

396 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

397 
	`¥ötf
("Tx Info: %u\n", 
vÆue
);

398 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

399 
	`¥ötf
("Rx Info: %u\n", 
vÆue
);

400 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

401 
	`¥ötf
("Tx Orgniz©i⁄ S≥cific: %u\n", 
vÆue
);

402 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

403 
	`¥ötf
("Rx Orgniz©i⁄ S≥cific: %u\n", 
vÆue
);

404 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

405 
	`¥ötf
("Dr›: %u\n", 
vÆue
);

406 
vÆue
 = 
	`ï⁄_ﬂm_cou¡î_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

407 
	`¥ötf
("Lo° Lök: %u\n", 
vÆue
);

409 
EPON_OAM_CLI_DBGEXT_SET
:

410 
	`ï⁄_ﬂm_dbgExt_gë
(&
Êag
);

411 
	`¥ötf
("EPON OAMÉxãnded fœg 0x%08x -> ", 
Êag
);

412 
	`ï⁄_ﬂm_dbgExt_£t
(
pCli
->
u
.
˛iDbg
.
Êag
);

413 
	`ï⁄_ﬂm_dbgExt_gë
(&
Êag
);

414 
	`¥ötf
("0x%08x\n", 
Êag
);

416 
EPON_OAM_CLI_DBGEXT_GET
:

417 
	`ï⁄_ﬂm_dbgExt_gë
(&
Êag
);

418 
	`¥ötf
("EPON OAMÉxãnded fœg 0x%08x\n", 
Êag
);

420 
EPON_OAM_CLI_FAILOVER_SET
:

421 
ÁûovîTime
 = 
pCli
->
u
.
˛iFaûovî
.
gønuœrôy
;

422 
ÁûovîTimeS≥c
.
tv_£c
 = 
ÁûovîTime
 / 1000;

423 
ÁûovîTimeS≥c
.
tv_n£c
 = (
ÁûovîTime
 % 1000) * 1000 * 1000;

424 
backoffTime
 = 
pCli
->
u
.
˛iFaûovî
.
backoff
;

425 
backoffTimeS≥c
.
tv_£c
 = 
backoffTime
 / 1000;

426 
backoffTimeS≥c
.
tv_n£c
 = (
backoffTime
 % 1000) * 1000 * 1000;

428 
EPON_OAM_CLI_FAILOVER_GET
:

429 
	`¥ötf
("EPON OAM failoverÖarameters\n");

430 
	`¥ötf
("Gønuœrôy: %u ms\n", 
ÁûovîTime
);

431 
	`¥ötf
("backoff: %u ms\n", 
backoffTime
);

433 
EPON_OAM_CLI_OAMINFOOUI_SET
:

434 
	`ï⁄_ﬂm_loˇlInfo_gë
(
pCli
->
u
.
˛iMac
.
ŒidIdx
, &
ﬂmInfo
);

435 
	`mem˝y
(
ﬂmInfo
.
oui
, 
pCli
->
u
.
˛iMac
.
mac
, 3);

436 
	`ï⁄_ﬂm_loˇlInfo_£t
(
pCli
->
u
.
˛iMac
.
ŒidIdx
, &
ﬂmInfo
);

438 
EPON_OAM_CLI_OAMINFO_GET
:

439 
	`ï⁄_ﬂm_loˇlInfo_gë
(
pCli
->
u
.
˛iMac
.
ŒidIdx
, &
ﬂmInfo
);

440 
	`¥ötf
("OAM Infÿf‹ LLID %u\n", 
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
);

441 
	`¥ötf
("OUI: %02x:%02x:%02x\n",

442 
ﬂmInfo
.
oui
[0],oamInfo.oui[1],oamInfo.oui[2]);

444 
EPON_OAM_CLI_OAMSTATE_GET
:

445 
ﬂmPduFœg
 = 
	`ï⁄_ﬂm_ﬂmPduFœg_gë
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
);

446 
	`¥ötf
("OAMPDU Satisfication\n");

447 
	`¥ötf
(" Eval Stable\n");

448 
	`¥ötf
(" Local %4u %6u\n",

449 (
ﬂmPduFœg
 & 
EPON_OAM_FLAG_LOCAL_EVAL
) ? 1 : 0,

450 (
ﬂmPduFœg
 & 
EPON_OAM_FLAG_LOCAL_STABLE
) ? 1 : 0);

451 
	`¥ötf
("Remote %4u %6u\n",

452 (
ﬂmPduFœg
 & 
EPON_OAM_FLAG_REMOTE_EVAL
) ? 1 : 0,

453 (
ﬂmPduFœg
 & 
EPON_OAM_FLAG_REMOTE_STABLE
) ? 1 : 0);

455 
EPON_OAM_CLI_REG_TRIGGER
:

456 
	`ï⁄_ﬂm_åiggîMp˝_ªg
(
pCli
->
u
.
˛iLlidIdx
.
ŒidIdx
);

458 
CTC_OAM_CLI_LOID_GET
:

459 
	`˘c_ﬂm_⁄uAuthLoid_gë
(
pCli
->
u
.
˛iCtcLoid
.
ŒidIdx
, &
authLoid
);

460 
	`¥ötf
("LOID f‹ LLID %d\n", 
pCli
->
u
.
˛iCtcLoid
.
ŒidIdx
);

461 
	`¥ötf
(" LOID: %s\n", 
authLoid
.
loid
);

462 
	`¥ötf
("∑ssw‹d: %s\n", 
authLoid
.
∑ssw‹d
);

464 
CTC_OAM_CLI_LOID_SET
:

465 
	`°r˝y
(
authLoid
.
loid
, 
pCli
->
u
.
˛iCtcLoid
.loid);

466 
	`°r˝y
(
authLoid
.
∑ssw‹d
, 
pCli
->
u
.
˛iCtcLoid
.password);

467 
	`˘c_ﬂm_⁄uAuthLoid_£t
(
pCli
->
u
.
˛iCtcLoid
.
ŒidIdx
, &
authLoid
);

470 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

471 "[OAM:%s:%d] unsuµ‹ãd CLIÅy≥ %u\n", 
__FILE__
, 
__LINE__
, 
pCli
->
˛iTy≥
);

474 
	}
}

475 
	$ùc_sy°em_ªque°
(
h™dÀ
)

477 
ùc_sy°em_ack_t
 *
∑ck
;

478 
ªt
;

479 
∑ck
 = 
	`ùc_sy°em_ªq
(
ﬂm_fd
, 
h™dÀ
, 0);

480 i‡(
∑ck
){

481 
ªt
 = 
∑ck
->
hdr
.
°©us
;

483 
ªt
 = 
IPC_STATUS_FAIL
;

486 if(
∑ck
Ë
	`‰ì
(pack);

487  
ªt
;

488 
	}
}

489 
	glos_cou¡
=0;

490 
	gdiscovîy_cou¡
=0;

492 *
	$ï⁄_ﬂm_°©eKì≥r
(*
¨gu
)

494 
ªt
;

495 
≥rmôs
;

496 
pushedLí
 = 0;

497 
ŒidIdx
;

498 
dyögGa•Buf
[
EPON_OAM_DYINGGASP_BUF_LEN
];

499 
key_t
 
msgQKey
 = 1568;

500 
ﬂm_msgqEvítD©a_t
 
evítD©a
;

501 
ôimî•ec
 
ôs
;

502 
ﬂm_ﬂmInfo_t
 
ﬂmInfo
;

503 
πk_ï⁄_Œid_íåy_t
 
ŒidE¡ry
;

504 
msgöfo
 
mqAâr
;

510 
≥rmôs
 = 00666;

511 
≥rmôs
 |
IPC_CREAT
;

512 
msgQId
 = 
	`msggë
(
msgQKey
, 
≥rmôs
);

513 if(-1 =
msgQId
)

515 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

516 "[OAM:%s:%d] msgq cª©êÁûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

517  
NULL
;

519 i‡(
	`msg˘l
(
msgQId
,
MSG_INFO
,(
msqid_ds
 *)&
mqAâr
) < 0)

521 
	`¥ötf
("get msgqáttr fail\n");

526 
	`ï⁄_°©eKì≥r_timî_öô
();

530 
ªt
 = 
	`msgrcv
(
msgQId
, (*Ë&
evítD©a
, ”vítD©a.
msgqD©a
), 0, 0);

531 if(-1 =
ªt
)

533 if(
EINTR
 =
î∫o
)

539 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

540 "[OAM:%s:%d] msgqÑecv faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

545 
ŒidIdx
 = 
evítD©a
.
msgqD©a
.llidIdx;

546 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

552 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

553 "LLIDIdx %u EvítTy≥ %u\n", 
ŒidIdx
, 
evítD©a
.
mty≥
);

554 
evítD©a
.
mty≥
)

556 
EPON_OAM_EVENT_DISCOVERY_COMPLETE
:

558 if(0 =
pushedLí
)

560 
	`ï⁄_ﬂm_dyögGa•_gí
(
ŒidIdx
, 
dyögGa•Buf
, 
EPON_OAM_DYINGGASP_BUF_LEN
, &
pushedLí
);

561 
	`ï⁄_ﬂm_dyögGa•_£nd
(
ŒidIdx
, 
dyögGa•Buf
, 
pushedLí
);

563 
discovîy_cou¡
++;

566 
	`EPON_TIMER_SET
(
skKì∑live
[
ŒidIdx
], 
EPON_OAM_KEEPALIVE_TIME
, 
ªt
)

567 if(0 !
ªt
)

569 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

570 "[OAM:%s:%d]Åimî së faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

576 if((
ªt
 = 
	`πk_ﬂm_mu…ùÀxîA˘i⁄_£t
(4,
OAM_MULTIPLEXER_ACTION_FORWARD
)Ë!
RT_ERR_OK
)

584 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
:

585 
timeout_cou¡
++;

586 
EPON_OAM_EVENT_LOS
:

587 
los_cou¡
++;

589 
	`EPON_TIMER_SET
(
skKì∑live
[
ŒidIdx
], 0, 
ªt
)

590 if(0 !
ªt
)

592 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

593 "[OAM:%s:%d]Åimî së faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

598 
	`ï⁄_ﬂm_discovîyLlid_öô
(
ŒidIdx
);

599 
	`ï⁄_ﬂm_u£rDb_öô
(
ŒidIdx
);

601 
	`ï⁄_ﬂm_ªmŸeInfo_öô
(
ŒidIdx
);

603 
	`ï⁄_ﬂm_loˇlInfo_gë
(
ŒidIdx
, &
ﬂmInfo
);

604 
ﬂmInfo
.
ªvisi⁄
 = 0;

605 
	`ï⁄_ﬂm_loˇlInfo_£t
(
ŒidIdx
, &
ﬂmInfo
);

606 
	`ï⁄_ﬂm_cou¡î_öc
(
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

610 if(
timeout_cou¡
==3)

612 
	`ùc_sy°em_ªque°
(
IPC_SYS_REBOOT
);

614 if((
ªt
 = 
	`πk_ﬂm_mu…ùÀxîA˘i⁄_£t
(4,
OAM_MULTIPLEXER_ACTION_DISCARD
)Ë!
RT_ERR_OK
)

616 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

617 "[OAM:%s:%d] OAM mu…ùÀxîA˘i⁄ së faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

622 
EPON_OAM_EVENT_KEEPALIVE_RESET
:

624 
	`EPON_TIMER_SET
(
skKì∑live
[
ŒidIdx
], 
EPON_OAM_KEEPALIVE_TIME
, 
ªt
)

625 if(0 !
ªt
)

627 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

628 "[OAM:%s:%d]Åimî së faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

631 
EPON_OAM_EVENT_CLI
:

632 if(
evítD©a
.
msgqD©a
.
d©aSize
)

634 
	`ï⁄_ﬂm_˛i_¥oc
((
ﬂm_˛i_t
 *Ë
evítD©a
.
msgqD©a
.
d©a
);

638 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

639 "[OAM:%s:%d] Unsuµ‹ãdÉvíà%d\n", 
__FILE__
, 
__LINE__
, 
evítD©a
.
mty≥
);

644  
NULL
;

645 
	}
}

647 
	g°©e_Êag
 = 0;

651 
	$LOSLedTimîCb
()

653 
cou¡î
 = 0;

654 
p⁄_vcc
=0;

655 if(
DISABLED
 !
°©e
)

657 
	`Io˘l_GëGpioVÆ
(
PON_VCC_GPIO
,&
p⁄_vcc
);

658 
cou¡î
++;

659 #i‡!
	`deföed
(
CONFIG_PRODUCT_EPN105
)

660 if(
p⁄_vcc
!=0)

662 i‡(
cou¡î
 % 2 == 0)

664 ()
	`πk_gpio_d©abô_£t
(
PON_ALARM_GPIO
, 
LED_OFF
);

665 
cou¡î
 = 0;

669 ()
	`πk_gpio_d©abô_£t
(
PON_ALARM_GPIO
, 
LED_ON
);

671 ()
	`πk_Àd_∑øŒñE«bÀ_£t
(
PON_LINK_LED
,
DISABLED
);

675 ()
	`πk_Àd_∑øŒñE«bÀ_£t
(
PON_LINK_LED
,
DISABLED
);

678 if(
p⁄_vcc
!=0)

680 i‡(
cou¡î
 % 2 == 0)

682 ()
	`πk_gpio_d©abô_£t
(
PON_LOS_GPIO
, 
LED_OFF
);

683 
cou¡î
 = 0;

687 ()
	`πk_gpio_d©abô_£t
(
PON_LOS_GPIO
, 
LED_ON
);

689 ()
	`πk_gpio_d©abô_£t
(
PON_LINK_GPIO
, 
LED_OFF
);

693 ()
	`πk_gpio_d©abô_£t
(
PON_LINK_GPIO
, 
LED_OFF
);

704 
	`Io˘l_GëGpioVÆ
(
PON_VCC_GPIO
,&
p⁄_vcc
);

705 if(
p⁄_vcc
!=0)

707 if(
EPON_OAM_STATE_COMPLETE
 =
ﬂm_discovîy_°©e
)

709 #i‡!
	`deföed
(
CONFIG_PRODUCT_EPN105
)

710 ()
	`πk_gpio_d©abô_£t
(
PON_ALARM_GPIO
, 
LED_OFF
);

711 ()
	`πk_Àd_∑øŒñE«bÀ_£t
(
PON_LINK_LED
, 
ENABLED
);

713 ()
	`πk_gpio_d©abô_£t
(
PON_LOS_GPIO
, 
LED_OFF
);

714 ()
	`πk_gpio_d©abô_£t
(
PON_LINK_GPIO
, 
LED_ON
);

716 
°©e_Êag
++;

717 
timeout_cou¡
=0;

721 
cou¡î
++;

722 #i‡!
	`deföed
(
CONFIG_PRODUCT_EPN105
)

723 i‡(
cou¡î
 % 2 == 0)

725 ()
	`πk_gpio_d©abô_£t
(
PON_ALARM_GPIO
, 
LED_OFF
);

726 
cou¡î
 = 0;

730 ()
	`πk_gpio_d©abô_£t
(
PON_ALARM_GPIO
, 
LED_ON
);

732 ()
	`πk_Àd_∑øŒñE«bÀ_£t
(
PON_LINK_LED
,
DISABLED
);

734 i‡(
cou¡î
 % 2 == 0)

736 ()
	`πk_gpio_d©abô_£t
(
PON_LOS_GPIO
, 
LED_OFF
);

737 
cou¡î
 = 0;

741 ()
	`πk_gpio_d©abô_£t
(
PON_LOS_GPIO
, 
LED_ON
);

743 ()
	`πk_gpio_d©abô_£t
(
PON_LINK_GPIO
, 
LED_OFF
);

745 
°©e_Êag
 = 0;

750 #i‡!
	`deföed
(
CONFIG_PRODUCT_EPN105
)

751 ()
	`πk_Àd_∑øŒñE«bÀ_£t
(
PON_LINK_LED
,
DISABLED
);

753 ()
	`πk_gpio_d©abô_£t
(
PON_LINK_GPIO
, 
LED_OFF
);

758 if(
EPON_OAM_STATE_COMPLETE
 =
ﬂm_discovîy_°©e
 && 1 =
°©e_Êag
)

760 
	`USER_LOG
(
L™gId
,
SYSTEM
,
LOG_NOTICE
,
M_OPTICALLINK
,"","");

762 
	}
}

765 
	$LOSLedInô
()

767 
ôimîvÆ
 
ôv
;

768 
ôv
.
ô_öãrvÆ
.
tv_£c
 = 0;

769 
ôv
.
ô_öãrvÆ
.
tv_u£c
 = 500000;

770 
ôv
.
ô_vÆue
.
tv_£c
 = 0;

771 
ôv
.
ô_vÆue
.
tv_u£c
 = 500000;

773 
	`£tôimî
(
ITIMER_REAL
, &
ôv
, 
NULL
);

774 
	`sig«l
(
SIGALRM
, 
LOSLedTimîCb
);

777 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN105
)

778 ()
	`πk_gpio_mode_£t
(
PON_LOS_GPIO
, 
GPIO_OUTPUT
);

779 ()
	`πk_gpio_°©e_£t
(
PON_LOS_GPIO
, 
ENABLED
);

781 ()
	`πk_gpio_mode_£t
(
PON_ALARM_GPIO
, 
GPIO_OUTPUT
);

782 ()
	`πk_gpio_°©e_£t
(
PON_ALARM_GPIO
, 
ENABLED
);

785 
	}
}

787 *
	$ï⁄_ﬂm_ÁûRecovî
(*
¨gu
)

789 
ªt
;

790 
isIdÀ
;

791 
autoRegTime
[
EPON_OAM_SUPPORT_LLID_NUM
] = { 0 };

792 
ﬂm_c⁄fig_t
 
ŒidC⁄f
;

793 
time•ec
 
¶ìpTime
, 
ªmaöTime
;

796 
ÁûovîTime
 = 
EPON_OAM_FAILOVER_GRANULARITY
;

797 
ÁûovîTimeS≥c
.
tv_£c
 = 
EPON_OAM_FAILOVER_GRANULARITY
 / 1000;

798 
ÁûovîTimeS≥c
.
tv_n£c
 = (
EPON_OAM_FAILOVER_GRANULARITY
 % 1000) * 1000 * 1000;

799 
backoffTime
 = 
EPON_OAM_FAILOVER_BACKOFF
;

800 
backoffTimeS≥c
.
tv_£c
 = 
EPON_OAM_FAILOVER_BACKOFF
 / 1000;

801 
backoffTimeS≥c
.
tv_n£c
 = (
EPON_OAM_FAILOVER_BACKOFF
 % 1000) * 1000 * 1000;

803 
	`LOSLedInô
();

807 
¶ìpTime
.
tv_£c
 = 
ÁûovîTimeS≥c
.tv_sec;

808 
¶ìpTime
.
tv_n£c
 = 
ÁûovîTimeS≥c
.tv_nsec;

809 
FAIL_RECOVER_WAKE_UP1
:

810 
ªt
 = 
	`«no¶ìp
(&
¶ìpTime
, &
ªmaöTime
);

811 if((
ªt
 =-1Ë&& (
EINTR
 =
î∫o
))

816 
¶ìpTime
 = 
ªmaöTime
;

817 
FAIL_RECOVER_WAKE_UP1
;

819 if(
ªt
 != 0)

821 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

822 "[OAM:%s:%d]Ç™o¶ì∞Áûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

826 
	`ï⁄_ﬂm_c⁄fig_gë
(0, &
ŒidC⁄f
);

827 
	`ï⁄_ﬂm_discovîyIdÀLlid_gë
(0, &
isIdÀ
, &
ﬂm_discovîy_°©e
);

828 if((!
ŒidC⁄f
.
autoRegE«bÀ
) ||

829 (!
ŒidC⁄f
.
ﬂmE«bÀd
) ||

830 (!
isIdÀ
))

837 
	`πk_ï⁄_losSèã_gë
(&
°©e
);

838 if(
DISABLED
 =
°©e
)

840 if(
autoRegTime
[0] < 
ŒidC⁄f
.autoRegTime)

842 
autoRegTime
[0] +
ÁûovîTime
;

847 
	`DRV_SëFecMode
(
DISABLED
);

848 
	`ï⁄_ﬂm_åiggîMp˝_ªg
(0);

849 
autoRegTime
[0] = 0;

852 
¶ìpTime
.
tv_£c
 = 
backoffTimeS≥c
.tv_sec;

853 
¶ìpTime
.
tv_n£c
 = 
backoffTimeS≥c
.tv_nsec;

854 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

855 "[OAM:%s:%d] TriggîÑegi°î\n", 
__FILE__
, 
__LINE__
);

856 
FAIL_RECOVER_WAKE_UP2
:

857 
ªt
 = 
	`«no¶ìp
(&
¶ìpTime
, &
ªmaöTime
);

858 if((
ªt
 =-1Ë&& (
EINTR
 =
î∫o
))

863 
¶ìpTime
 = 
ªmaöTime
;

864 
FAIL_RECOVER_WAKE_UP2
;

866 if(
ªt
 != 0)

868 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

869 "[OAM:%s:%d]Ç™o¶ì∞Áûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

875  
NULL
;

876 
	}
}

878 
	tOPL_STATUS
;

880 
OPL_STATUS
 
odmMu…iˇ°Inô
();

881 #i‚de‡
CONFIG_ONU_COMPATIBLE


882 
uöt8
 
	gho°Mac
[6] = {0};

883 
uöt8
 
	gout_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

885 
	$ﬂm_ùc_£t_sys_lo›
(
sys_lo›_t
 *
öfo
)

887 
ùc_sys_lo›_ack_t
 *
∑ck
;

888 
ªt
;

889 
∑ck
 = 
	`ùc_sys_lo›
(
ﬂm_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

890 i‡(
∑ck
){

891 
ªt
 = 
∑ck
->
hdr
.
°©us
;

893 
ªt
 = 
IPC_STATUS_FAIL
;

896 if(
∑ck
Ë
	`‰ì
(pack);

897  
ªt
;

898 
	}
}

900 
	$ﬂm_ùc_gë_sys_lo›
(
sys_lo›_t
 *
öfo
)

902 
ùc_sys_lo›_ack_t
 *
∑ck
;

903 
ªt
;

904 
∑ck
 = 
	`ùc_sys_lo›
(
ﬂm_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

906 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

907 i‡(
öfo
){

908 
	`mem˝y
(
öfo
, &
∑ck
->
lo›
, (*info));

910 
ªt
 = 0;

911 }i‡(
∑ck
){

912 
ªt
 = 
∑ck
->
hdr
.
°©us
;

914 
ªt
 = 
IPC_STATUS_FAIL
;

917 if(
∑ck
Ë
	`‰ì
(pack);

918  
ªt
;

919 
	}
}

921 
	$ﬂm_ùc_£t_sys_mvœn
(
sys_mvœn_t
 *
öfo
)

923 
ùc_sys_mvœn_ack_t
 *
∑ck
;

924 
ªt
;

925 
∑ck
 = 
	`ùc_sys_mvœn
(
ﬂm_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

926 i‡(
∑ck
){

927 
ªt
 = 
∑ck
->
hdr
.
°©us
;

929 
ªt
 = 
IPC_STATUS_FAIL
;

932 if(
∑ck
Ë
	`‰ì
(pack);

933  
ªt
;

934 
	}
}

953 
	$e›l_mgmtvœn_¥o˚ssög
(
vœnid
)

955 
ªt
 = 
NO_ERROR
;

956 
sys_mvœn_t
 
ùc_£t_mvœn
;

958 
ùc_£t_mvœn
.
m_vœn
 = 
vœnid
;

959 
ùc_£t_mvœn
.
vœn_öãrÁ˚
 = ipc_£t_mvœn.
m_vœn
;

961 
ªt
 = 
	`ﬂm_ùc_£t_sys_mvœn
(&
ùc_£t_mvœn
);

962 if(
IPC_STATUS_OK
 !
ªt
)

965  
ERROR
;

967  
NO_ERROR
;

968 
	}
}

970 
	$ﬂm_ùc_£t_sys_√tw‹kög
(
ùc_√tw‹k_t
 *
öfo
)

972 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

973 
ªt
;

974 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ﬂm_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

975 i‡(
∑ck
){

976 
ªt
 = 
∑ck
->
hdr
.
°©us
;

978 
ªt
 = 
IPC_STATUS_FAIL
;

981 if(
∑ck
Ë
	`‰ì
(pack);

982  
ªt
;

983 
	}
}

984 
	$ﬂm_ùc_gë_sys_√tw‹kög
(
sys_√tw‹k_t
 *
öfo
)

986 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

987 
ªt
;

988 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ﬂm_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

989 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

990 i‡(
öfo
){

991 
	`mem˝y
(
öfo
, &
∑ck
->
√tw‹k
, (*info));

993 
ªt
 = 0;

994 }i‡(
∑ck
){

995 
ªt
 = 
∑ck
->
hdr
.
°©us
;

997 
ªt
 = 
IPC_STATUS_FAIL
;

999 if(
∑ck
Ë
	`‰ì
(pack);

1001  
ªt
;

1002 
	}
}

1022 
	$e›l_ù_¥o˚ssög
(
ö_addr
 
ùaddr
, ö_add∏
mask
, ö_add∏
g©eway
)

1025 
ªt
 = 
NO_ERROR
;

1026 
sys_√tw‹k_t
 
öfo
;

1027 
ùc_√tw‹k_t
 
ùc_£t
;

1029 
	`mem£t
(&
öfo
, 0, (
sys_√tw‹k_t
));

1030 
ªt
 = 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

1031 if(
IPC_STATUS_OK
 !
ªt
)

1033  
ERROR
;

1036 
	`mem£t
(&
ùc_£t
, 0, (
ùc_√tw‹k_t
));

1037 
	`ß„_°∫˝y
(
ùc_£t
.
ho°«me
, 
öfo
.hostname, (ipc_set.hostname));

1038 
	`ß„_°∫˝y
(
ùc_£t
.
öãrÁ˚_°©e
, 
öfo
.interface_state, (ipc_set.interface_state));

1040 if(
IP_PROTO_DYNAMIC
 =
öfo
.
ù_¥Ÿo
)

1042 
ùc_£t
.
a˘i⁄
 = 
ACTION_RELEASE
;

1043 
ªt
 = 
	`ﬂm_ùc_£t_sys_√tw‹kög
(&
ùc_£t
);

1044 if(
IPC_STATUS_OK
 !
ªt
)

1047  
ERROR
;

1051 
ùc_£t
.
ù_¥Ÿo
 = 
IP_PROTO_STATIC
;

1052 
	`mem˝y
(&
ùc_£t
.
√tif
, &
öfo
.netif, (info.netif));

1053 
ùc_£t
.
√tif
.
ù
 = 
ùaddr
;

1054 
ùc_£t
.
√tif
.
sub√t
 = 
mask
;

1055 
ùc_£t
.
√tif
.
g©eway
= gateway;

1057 
ªt
 = 
	`ﬂm_ùc_£t_sys_√tw‹kög
(&
ùc_£t
);

1058 if(
IPC_STATUS_OK
 !
ªt
)

1060 
ªt
 = 
ERROR
;

1062  
ªt
;

1063 
	}
}

1066 #i‡
deföed
(
CONFIG_ONU_COMPATIBLE
)

1069 
	$ﬂm_ùc_gë_sys_com∑tibÀ
(
com∑tibÀ_£âög_t
 *
öfo
)

1071 
ùc_com∑tibÀ_£âög_ack_t
 *
∑ck
;

1072 
ªt
;

1073 
∑ck
 = 
	`ùc_com∑tibÀ_£âög_c⁄fig
(
ﬂm_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

1075 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

1076 i‡(
öfo
){

1077 
	`mem˝y
(
öfo
, &
∑ck
->
com∑tibÀ_£âög
, (*info));

1079 
ªt
 = 
IPC_STATUS_OK
;

1080 }i‡(
∑ck
){

1081 
ªt
 = 
∑ck
->
hdr
.
°©us
;

1083 
ªt
 = 
IPC_STATUS_FAIL
;

1086 if(
∑ck
Ë
	`‰ì
(pack);

1087  
ªt
;

1088 
	}
}

1091 
	$sig«l_h™dÀr
(
sig
)

1093 
vÆ
;

1094 
com∑tibÀ_£âög_t
 *
sys
 = &
sys_com∑tibÀ
;

1095 if(
SIGUSR1
 =
sig
)

1097 
vÆ
 = 
	`ﬂm_ùc_gë_sys_com∑tibÀ
(
ﬂm_fd
,
sys
);

1098 if(
vÆ
)

1100 
sys
->
íabÀ
 = 1;

1103 
	}
}

1105 *
ï⁄_mutiˇ°_rxThªad
(*
¨gu
);

1106 *
ï⁄_ﬂm_øi£com_thªad
(*
¨gu
);

1107 
	$ﬂm_ùc_gë_sys_ï⁄
(
sys_ï⁄_t
 *
öfo
)

1109 
ùc_sys_ï⁄_ack_t
 *
∑ck
;

1110 
ªt
;

1111 
∑ck
 = 
	`ùc_sys_ï⁄
(
ﬂm_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

1113 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

1114 i‡(
öfo
){

1115 
	`mem˝y
(
öfo
, &
∑ck
->
ï⁄_öfo
, (*info));

1117 
ªt
 = 0;

1118 }i‡(
∑ck
){

1119 
ªt
 = 
∑ck
->
hdr
.
°©us
;

1121 
ªt
 = 
IPC_STATUS_FAIL
;

1124 if(
∑ck
Ë
	`‰ì
(pack);

1125  
ªt
;

1126 
	}
}

1129 
	$maö
(

1130 
¨gc
,

1131 *
¨gv
[])

1133 
i
;

1134 
±hªad_t
 
th1
, 
th2
, 
th3
, 
th4
, 
th5
, 
th6
;

1135 
	`πk_c‹e_öô
();

1137 
	`πk_ï⁄_öô
();

1138 
	`Sy¶og_Inô
();

1141 
ﬂm_fd
 = 
	`ùc_˛õ¡_c⁄√˘
("eponoamd");

1142 if(
ﬂm_fd
 < 0)

1144 
	`¥ötf
("%†%d\n", 
__FUNCTION__
, 
__LINE__
);

1146 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

1147 
	`sig«l
(
SIGUSR1
, 
sig«l_h™dÀr
);

1151 
	`πk_å≠_ﬂmPduA˘i⁄_£t
(
ACTION_TRAP2CPU
);

1153 
	`πk_ﬂm_mu…ùÀxîA˘i⁄_£t
(4,
OAM_MULTIPLEXER_ACTION_DISCARD
);

1154 
	`ï⁄_ﬂm_d©aba£_öô
();

1155 
	`ï⁄_ﬂm_discovîy_öô
();

1156 
	`ï⁄_ﬂm_u£r_öô
();

1157 
i
 = 0;ò< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

1159 
	`ï⁄_ﬂm_discovîyLlid_öô
(
i
);

1160 
	`ï⁄_ﬂm_u£rDb_öô
(
i
);

1163 if(
	`vosTimîInô
() < 0)

1165 
	`¥ötf
("failed\r\n");

1168 
	`odmMu…iˇ°Inô
();

1170 
	`±hªad_¸óã
(&
th1
, 
NULL
, &
ï⁄_ﬂm_rxThªad
, NULL);

1171 
	`±hªad_¸óã
(&
th2
, 
NULL
, &
ï⁄_ﬂm_°©eKì≥r
, NULL);

1172 
	`±hªad_¸óã
(&
th3
, 
NULL
, &
ï⁄_ﬂm_ÁûRecovî
, NULL);

1174 
	`±hªad_¸óã
(&
th4
, 
NULL
, &
ï⁄_mutiˇ°_rxThªad
, NULL);

1175 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

1176 
	`±hªad_¸óã
(&
th5
, 
NULL
, &
ï⁄_ﬂm_øi£com_thªad
, NULL);

1178 #i‡
OPL_ALARM_ENABLE


1179 
	`±hªad_¸óã
(&
th6
, 
NULL
, &
ï⁄_ﬂm_˘c_Æ¨m_thªad
, NULL);

1188 #i‡
	`deföed
(
CONFIG_BOSA
)

1189 
	`Io˘l_SëGpioDúOut
(
PON_VCC_GPIO
);

1190 
	`Io˘l_SëGpioVÆ
(
PON_VCC_GPIO
, 
GPIO_DATABIT_0
);

1191 
	`¶ìp
(1);

1194 
	`Io˘l_SëGpioDúOut
(
PON_VCC_GPIO
);

1195 
	`Io˘l_SëGpioVÆ
(
PON_VCC_GPIO
, 1);

1199 
	`¶ìp
(100);

1203 
	}
}

	@src/epon_oam_rx.c

24 
	~<°dio.h
>

25 
	~<£m≠h‹e.h
>

26 
	~<°rög.h
>

27 
	~<mÆloc.h
>

28 
	~<sys/sockë.h
>

29 
	~<löux/√éök.h
>

30 
	~<î∫o.h
>

32 
	~"ï⁄_ﬂm_c⁄fig.h
"

33 
	~"ï⁄_ﬂm_rx.h
"

34 
	~"ï⁄_ﬂm_db.h
"

35 
	~"ï⁄_ﬂm_îr.h
"

36 
	~"ï⁄_ﬂm_dbg.h
"

37 
	~"ï⁄_ﬂm_msgq.h
"

38 
	~"pkt_ªdúe˘_u£r.h
"

40 
	~<memsh¨e.h
>

41 
	~<πk/ï⁄.h
>

46 
	#MAX_PAYLOAD
 (1600)

	)

51 
	gpktRedúe˘_sock
;

52 
	gcuºCtcVî_webDis
 = 0;

54 
˘cExtInfoCheck
;

55 
˘cExtInfoC¡
;

64 
	$ï⁄_ﬂm_maxOamPduSize_gë
(

65 
ŒidIdx
,

66 *
pMaxSize
)

68 
loˇlMax
, 
ªmŸeMax
;

69 
ﬂm_ﬂmInfo_t
 
loˇlInfo
, 
ªmŸeInfo
;

71 
	`mem£t
(&
loˇlInfo
, 0x0, (
ﬂm_ﬂmInfo_t
));

72 
	`mem£t
(&
ªmŸeInfo
, 0x0, (
ﬂm_ﬂmInfo_t
));

75 
	`ï⁄_ﬂm_loˇlInfo_gë
(
ŒidIdx
, &
loˇlInfo
);

76 
	`ï⁄_ﬂm_ªmŸeInfo_gë
(
ŒidIdx
, &
ªmŸeInfo
);

78 if(
loˇlInfo
.
vÆid
 && 
ªmŸeInfo
.valid)

80 
loˇlMax
 = (
loˇlInfo
.
ﬂmPduC⁄fig
 & 0x7ff);

81 
ªmŸeMax
 = (
ªmŸeInfo
.
ﬂmPduC⁄fig
 & 0x7ff);

83 *
pMaxSize
 = (
loˇlMax
 > 
ªmŸeMax
) ?ÑemoteMax :ÜocalMax;

85 if(
loˇlInfo
.
vÆid
)

87 
loˇlMax
 = (
loˇlInfo
.
ﬂmPduC⁄fig
 & 0x7ff);

88 *
pMaxSize
 = 
loˇlMax
;

92  
EPON_OAM_ERR_UNKNOWN
;

96 *
pMaxSize
 -
EPON_OAMPDU_HDR_LENGTH
;

98  
EPON_OAM_ERR_OK
;

99 
	}
}

101 
	$ï⁄_ﬂm_v¨Re•Lí_ˇlc
(

102 
v¨Ty≥
,

103 
ﬂm_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

105 
ªtLí
;

106 
ﬂm_v¨C⁄èöîRe•_t
 *
pV¨Re•
;

109 
ªtLí
 = 
EPON_VAR_OAMPDU_DESC_LEN
;

111 
pV¨Re•
 = 
pV¨C⁄èöî
->pVarResp;

112 
NULL
 !
pV¨Re•
)

115 
ªtLí
 += 1;

117 
ªtLí
 +
	`EPON_VAR_OAMPDU_WIDTH
(
pV¨Re•
->
v¨Width
);

119 
pV¨Re•
 =ÖV¨Re•->
√xt
;

123 
v¨Ty≥
)

125 
EPON_OAM_VARTYPE_OBJECT
:

126 
ªtLí
 +
EPON_VAR_OAMPDU_OBJEND_LEN
;

128 
EPON_OAM_VARTYPE_PACKAGE
:

129 
ªtLí
 +
EPON_VAR_OAMPDU_PKGEND_LEN
;

131 
EPON_OAM_VARTYPE_ATTRIBUTE
:

132 
EPON_OAM_VARTYPE_OBJECTID
:

138  (
ªtLí
 < 0xffff) ?ÑetLen : 0xffff;

139 
	}
}

141 
	$ï⁄_ﬂm_v¨Re•_‰ì
(

142 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
)

144 
ﬂm_v¨C⁄èöîRe•_t
 *
pV¨Re•
, *
pV¨Next
;

146 if(
NULL
 !*
µV¨C⁄èöî
)

149 
pV¨Re•
 = (*
µV¨C⁄èöî
)->pVarResp;

150 
NULL
 !
pV¨Re•
)

152 if(
NULL
 !
pV¨Re•
->
v¨D©a
)

154 
	`‰ì
(
pV¨Re•
->
v¨D©a
);

156 
pV¨Next
 = 
pV¨Re•
->
√xt
;

157 
	`‰ì
(
pV¨Re•
);

158 
pV¨Re•
 = 
pV¨Next
;

160 
	`‰ì
(*
µV¨C⁄èöî
);

161 *
µV¨C⁄èöî
 = 
NULL
;

163 
	}
}

165 
	$ï⁄_ﬂm_°dHdr_∑r£r
(

166 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

167 *
pFøme
,

168 
Àngth
,

169 *
pExåa˘Lí
)

171 *
pP¨£På
;

173 
pP¨£På
 = 
pFøme
 + 6;

174 
	`mem˝y
(
pOamPdu
->
§cMacAddr
, 
pP¨£På
, 6);

175 
pP¨£På
 += (6 + 2 + 1);

176 ((*)(&
pOamPdu
->
Êag
))[0] = *
pP¨£På
;

177 
pP¨£På
 ++;

178 ((*)(&
pOamPdu
->
Êag
))[1] = *
pP¨£På
;

179 
pP¨£På
 ++;

180 
pOamPdu
->
code
 = *
pP¨£På
;

181 
pP¨£På
 += 1;

182 
pOamPdu
->
pD©a
 = 
pP¨£På
;

183 
pOamPdu
->
d©aLí
 = 
Àngth
 - (
pP¨£På
 - 
pFøme
);

184 *
pExåa˘Lí
 = (
pP¨£På
 - 
pFøme
);

186  
EPON_OAM_ERR_OK
;

187 
	}
}

189 
	$ï⁄_ﬂm_°dInfo_∑r£r
(

190 
ﬂm_ﬂmInfo_t
 *
pOamInfo
,

191 *
pFøme
,

192 
Àngth
,

193 *
pExåa˘Lí
)

195 *
pP¨£På
;

198 if(
EPON_INFO_OAMPDU_INFO_LEN
 > 
Àngth
)

203 *
pExåa˘Lí
 = 
Àngth
;

204 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

205 "[OAM:%s:%d] couldÇŸÖ¨£ infÿOAMPDU\n", 
__FILE__
, 
__LINE__
);

206  
EPON_OAM_ERR_PARSE
;

209 
pP¨£På
 = 
pFøme
 + 1;

210 if(
EPON_INFO_OAMPDU_INFO_LEN
 !*
pP¨£På
)

215 *
pExåa˘Lí
 = 
Àngth
;

216 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

217 "[OAM:%s:%d] infÿOAMPDUÜígth inc‹ª˘\n", 
__FILE__
, 
__LINE__
);

218  
EPON_OAM_ERR_PARSE
;

221 
pP¨£På
 += 1;

222 
pOamInfo
->
ﬂmVî
 = *
pP¨£På
;

223 
pP¨£På
 += 1;

224 ((*)(&
pOamInfo
->
ªvisi⁄
))[0] = *
pP¨£På
;

225 
pP¨£På
 += 1;

226 ((*)(&
pOamInfo
->
ªvisi⁄
))[1] = *
pP¨£På
;

227 
pP¨£På
 += 1;

228 
pOamInfo
->
°©e
 = *
pP¨£På
;

229 
pP¨£På
 += 1;

230 
pOamInfo
->
ﬂmC⁄fig
 = *
pP¨£På
;

231 
pP¨£På
 += 1;

232 ((*)(&
pOamInfo
->
ﬂmPduC⁄fig
))[0] = *
pP¨£På
;

233 
pP¨£På
 += 1;

234 ((*)(&
pOamInfo
->
ﬂmPduC⁄fig
))[1] = *
pP¨£På
;

235 
pP¨£På
 += 1;

236 
	`mem˝y
(
pOamInfo
->
oui
, 
pP¨£På
, 
EPON_OAM_OUI_LENGTH
);

237 
pP¨£På
 +
EPON_OAM_OUI_LENGTH
;

238 
	`mem˝y
(
pOamInfo
->
vídîS≥cInfo
, 
pP¨£På
, 
EPON_INFO_OAMPDU_VENDER_SPEC_LEN
);

239 
pP¨£På
 +
EPON_INFO_OAMPDU_VENDER_SPEC_LEN
;

240 *
pExåa˘Lí
 = (
pP¨£På
 - 
pFøme
);

242  
EPON_OAM_ERR_OK
;

243 
	}
}

245 
	$ï⁄_ﬂm_‹gS≥cInfo_∑r£r
(

246 
ŒidIdx
,

247 *
pFøme
,

248 
Àngth
,

249 *
pExåa˘Lí
,

250 
oui
[],

251 **
µOrgS≥cD©a
)

253 
ªt
;

254 *
pP¨£På
;

255 
cbExåa˘Lí
, 
‹gS≥cLí
;

256 
ﬂm_öfoOrgS≥cCb_t
 
‹gS≥cCb
;

264 if–
EPON_INFO_OAMPDU_ORGSPEC_MIN_LEN
 > 
Àngth
)

269 *
pExåa˘Lí
 = 
Àngth
;

270 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

271 "[OAM:%s:%d] couldÇŸÖ¨£ infÿOAMPDU\n", 
__FILE__
, 
__LINE__
);

272  
EPON_OAM_ERR_PARSE
;

275 
pP¨£På
 = 
pFøme
 + 1;

276 
‹gS≥cLí
 = *
pP¨£På
;

277 if(
Àngth
 < 
‹gS≥cLí
)

282 *
pExåa˘Lí
 = 
Àngth
;

283 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

284 "[OAM:%s:%d] OAMPDUÜígth inc‹ª˘\n", 
__FILE__
, 
__LINE__
);

285  
EPON_OAM_ERR_PARSE
;

288 
pP¨£På
 += 1;

289 
	`mem˝y
(
oui
, 
pP¨£På
, 
EPON_OAM_OUI_LENGTH
);

290 
pP¨£På
 += 3;

291 
‹gS≥cCb
.
∑r£r
 = 
NULL
;

292 
‹gS≥cCb
.
h™dÀr
 = 
NULL
;

293 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_gë
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, 
oui
, (*Ë&
‹gS≥cCb
);

294 if(
EPON_OAM_ERR_OK
 !
ªt
)

299 
	`ï⁄_ﬂm_defOrgS≥cCb_gë
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, (*Ë&
‹gS≥cCb
);

302 
cbExåa˘Lí
 = 0;

303 if(
NULL
 !
‹gS≥cCb
.
∑r£r
)

305 
ªt
 = 
‹gS≥cCb
.
	`∑r£r
(

306 
ŒidIdx
,

307 
pFøme
,

308 
Àngth
,

309 &
cbExåa˘Lí
,

310 
µOrgS≥cD©a
);

313 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
NULL
 =
‹gS≥cCb
.
∑r£r
Ë|| (
‹gS≥cLí
 !
cbExåa˘Lí
))

321 *
pExåa˘Lí
 = 
Àngth
;

322 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

323 "[OAM:%s:%d] c™'à∑r£ infÿ‹g™iz©i⁄ s≥cifi¯OAM\n", 
__FILE__
, 
__LINE__
);

324  
EPON_OAM_ERR_PARSE
;

326 *
pExåa˘Lí
 = 
cbExåa˘Lí
;

328  
EPON_OAM_ERR_OK
;

329 
	}
}

331 
	$ï⁄_ﬂm_‹gS≥cInfo_h™dÀr
(

332 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

333 *
pRïlyBuf
,

334 
bufLí
,

335 *
pRïlyLí
,

336 
oui
[],

337 **
µOrgS≥cD©a
)

339 
ªt
;

340 
ﬂm_öfoOrgS≥cCb_t
 
‹gS≥cCb
;

346 
‹gS≥cCb
.
∑r£r
 = 
NULL
;

347 
‹gS≥cCb
.
h™dÀr
 = 
NULL
;

348 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_gë
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, 
oui
, (*Ë&
‹gS≥cCb
);

349 if(
EPON_OAM_ERR_OK
 !
ªt
)

354 
	`ï⁄_ﬂm_defOrgS≥cCb_gë
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, (*Ë&
‹gS≥cCb
);

357 if(
NULL
 !
‹gS≥cCb
.
h™dÀr
)

359 
ªt
 = 
‹gS≥cCb
.
	`h™dÀr
(

360 
pOamPdu
,

361 
pRïlyBuf
,

362 
bufLí
,

363 
pRïlyLí
,

364 
µOrgS≥cD©a
);

367 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
NULL
 =
‹gS≥cCb
.
h™dÀr
Ë|| (
bufLí
 < *
pRïlyLí
))

376 *
pRïlyLí
 = 0;;

377 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

378 "[OAM:%s:%d] c™'àh™dÀ infÿ‹g™iz©i⁄ s≥cifi¯OAM\n", 
__FILE__
, 
__LINE__
);

379  
EPON_OAM_ERR_HANDLE
;

382  
EPON_OAM_ERR_OK
;

383 
	}
}

385 
	$ï⁄_ﬂm_°dEvít_∑r£r
(

386 
evítTy≥
,

387 *
pFøme
,

388 
Àngth
,

389 *
pExåa˘Lí
)

391 
möLí
;

392 *
pP¨£På
;

395 
evítTy≥
)

397 
EPON_EVENT_OAMPDU_TYPE_ESPE
:

398 
möLí
 = 
EPON_EVENT_OAMPDU_ESPE_LEN
;

400 
EPON_EVENT_OAMPDU_TYPE_EFE
:

401 
möLí
 = 
EPON_EVENT_OAMPDU_EFE_LEN
;

403 
EPON_EVENT_OAMPDU_TYPE_EFPE
:

404 
möLí
 = 
EPON_EVENT_OAMPDU_EFPE_LEN
;

406 
EPON_EVENT_OAMPDU_TYPE_EFSSE
:

407 
möLí
 = 
EPON_EVENT_OAMPDU_EFPE_LEN
;

410  
EPON_OAM_ERR_PARAM
;

413 if(
möLí
 > 
Àngth
)

418 *
pExåa˘Lí
 = 
Àngth
;

419 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

420 "[OAM:%s:%d] couldÇŸÖ¨£ÉvíàOAMPDU\n", 
__FILE__
, 
__LINE__
);

421  
EPON_OAM_ERR_PARSE
;

424 
pP¨£På
 = 
pFøme
 + 1;

425 if(
möLí
 !*
pP¨£På
)

430 *
pExåa˘Lí
 = 
Àngth
;

431 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

432 "[OAM:%s:%d]ÉvíàOAMPDUÜígth inc‹ª˘\n", 
__FILE__
, 
__LINE__
);

433  
EPON_OAM_ERR_PARSE
;

437 *
pExåa˘Lí
 = 
möLí
;

439  
EPON_OAM_ERR_OK
;

440 
	}
}

442 
	$ï⁄_ﬂm_‹gS≥cEvít_∑r£r
(

443 
ŒidIdx
,

444 *
pFøme
,

445 
Àngth
,

446 *
pExåa˘Lí
,

447 
oui
[],

448 **
µOrgS≥cD©a
)

450 
ªt
;

451 *
pP¨£På
;

452 
cbExåa˘Lí
, 
‹gS≥cLí
;

453 
ﬂm_evítOrgS≥cCb_t
 
‹gS≥cCb
;

461 if–
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
 > 
Àngth
)

466 *
pExåa˘Lí
 = 
Àngth
;

467 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

468 "[OAM:%s:%d] couldÇŸÖ¨£ÉvíàOAMPDU\n", 
__FILE__
, 
__LINE__
);

469  
EPON_OAM_ERR_PARSE
;

472 
pP¨£På
 = 
pFøme
 + 1;

473 
‹gS≥cLí
 = *
pP¨£På
;

474 if(
Àngth
 < 
‹gS≥cLí
)

479 *
pExåa˘Lí
 = 
Àngth
;

480 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

481 "[OAM:%s:%d] OAMPDUÜígth inc‹ª˘\n", 
__FILE__
, 
__LINE__
);

482  
EPON_OAM_ERR_PARSE
;

485 
pP¨£På
 += 1;

486 
	`mem˝y
(
oui
, 
pP¨£På
, 
EPON_OAM_OUI_LENGTH
);

487 
pP¨£På
 += 3;

488 
‹gS≥cCb
.
∑r£r
 = 
NULL
;

489 
‹gS≥cCb
.
h™dÀr
 = 
NULL
;

490 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_gë
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, 
oui
, (*Ë&
‹gS≥cCb
);

491 if(
EPON_OAM_ERR_OK
 !
ªt
)

496 
	`ï⁄_ﬂm_defOrgS≥cCb_gë
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, (*Ë&
‹gS≥cCb
);

499 
cbExåa˘Lí
 = 0;

500 if(
NULL
 !
‹gS≥cCb
.
∑r£r
)

502 
ªt
 = 
‹gS≥cCb
.
	`∑r£r
(

503 
ŒidIdx
,

504 
pFøme
,

505 
Àngth
,

506 &
cbExåa˘Lí
,

507 
µOrgS≥cD©a
);

510 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
NULL
 =
‹gS≥cCb
.
∑r£r
Ë|| (
‹gS≥cLí
 !
cbExåa˘Lí
))

518 *
pExåa˘Lí
 = 
Àngth
;

519 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

520 "[OAM:%s:%d] c™'à∑r£Évíà‹g™iz©i⁄ s≥cifi¯OAM\n", 
__FILE__
, 
__LINE__
);

521  
EPON_OAM_ERR_PARSE
;

523 *
pExåa˘Lí
 = 
cbExåa˘Lí
;

525  
EPON_OAM_ERR_OK
;

526 
	}
}

528 
	$ï⁄_ﬂm_‹gS≥cEvít_h™dÀr
(

529 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

530 *
pRïlyBuf
,

531 
bufLí
,

532 *
pRïlyLí
,

533 
oui
[],

534 **
µOrgS≥cD©a
)

536 
ªt
;

537 
ﬂm_evítOrgS≥cCb_t
 
‹gS≥cCb
;

543 
‹gS≥cCb
.
∑r£r
 = 
NULL
;

544 
‹gS≥cCb
.
h™dÀr
 = 
NULL
;

545 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_gë
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, 
oui
, (*Ë&
‹gS≥cCb
);

546 if(
EPON_OAM_ERR_OK
 !
ªt
)

551 
	`ï⁄_ﬂm_defOrgS≥cCb_gë
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, (*Ë&
‹gS≥cCb
);

554 if(
NULL
 !
‹gS≥cCb
.
h™dÀr
)

556 
ªt
 = 
‹gS≥cCb
.
	`h™dÀr
(

557 
pOamPdu
,

558 
pRïlyBuf
,

559 
bufLí
,

560 
pRïlyLí
,

561 
µOrgS≥cD©a
);

564 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
NULL
 =
‹gS≥cCb
.
h™dÀr
Ë|| (
bufLí
 < *
pRïlyLí
))

573 *
pRïlyLí
 = 0;;

574 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

575 "[OAM:%s:%d] c™'àh™dÀÉvíà‹g™iz©i⁄ s≥cifi¯OAM\n", 
__FILE__
, 
__LINE__
);

576  
EPON_OAM_ERR_HANDLE
;

579  
EPON_OAM_ERR_OK
;

580 
	}
}

582 
	$ï⁄_ﬂm_°dInfo_¥o˚ss
(

583 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

584 **
µRïlyOamPdu
,

585 *
pRïlyLí
)

587 
ªt
;

588 *
pOrgS≥cD©a
;

589 
oui
[3];

590 
isEnd
;

591 *
pProcPå
, *
pRïlyPå
;

592 
ªmaöLí
, 
exåa˘Lí
;

593 
bufLí
, 
ª∂yLí
;

594 
ﬂm_ﬂmInfo_t
 
ﬂmInfo
, 
loˇlOamInfo
, 
œ°RInfo
, 
œ°LInfo
, 
cuºLInfo
;

601 
isEnd
 = 0;

602 
pProcPå
 = 
pOamPdu
->
pD©a
;

603 
ªmaöLí
 = 
pOamPdu
->
d©aLí
;

606 
ªt
 = 
	`ï⁄_ﬂm_maxOamPduSize_gë
(
pOamPdu
->
ŒidIdx
, &
bufLí
);

607 if(
EPON_OAM_ERR_OK
 !
ªt
)

610 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

611 "[OAM:%s:%d] c™'àgë OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

612  
EPON_OAM_ERR_UNKNOWN
;

615 
pRïlyPå
 = (*)
	`mÆloc
((Ë* 
bufLí
);

616 if(
NULL
 =
pRïlyPå
)

619 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

620 "[OAM:%s:%d] c™'àÆloˇã mem‹y f‹Ñïly OAMPDU\n", 
__FILE__
, 
__LINE__
);

621  
EPON_OAM_ERR_MEM
;

624 
bufLí
 -= 1;

625 *
µRïlyOamPdu
 = 
pRïlyPå
;

628 
	`ï⁄_ﬂm_loˇlInfo_gë
(
pOamPdu
->
ŒidIdx
, &
œ°LInfo
);

629 (
ªmaöLí
 >1Ë&& (1 !
isEnd
Ë&& (
bufLí
 >= 1))

631 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

632 "[OAM:%s:%d] infÿty≥ 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcPå
);

633 
ª∂yLí
 = 0;

634 *
pProcPå
)

636 
EPON_INFO_OAMPDU_TYPE_END
:

638 
isEnd
 = 1;

639 
ªmaöLí
 --;

640 
pProcPå
 ++;

642 
EPON_INFO_OAMPDU_TYPE_LOCAL
:

644 
ªt
 = 
	`ï⁄_ﬂm_°dInfo_∑r£r
(&
ﬂmInfo
, 
pProcPå
, 
ªmaöLí
, &
exåa˘Lí
);

645 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
ªmaöLí
 < 
exåa˘Lí
))

647 
ªmaöLí
 = 0;

648 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

649 "[OAM:%s:%d]Ép⁄_ﬂm_°dInfo_∑r£∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

652 
ªmaöLí
 -
exåa˘Lí
;

653 
pProcPå
 +
exåa˘Lí
;

657 
	`ï⁄_ﬂm_ªmŸeInfo_gë
(
pOamPdu
->
ŒidIdx
, &
œ°RInfo
);

658 if(
œ°RInfo
.
vÆid
 && (
ﬂmInfo
.
ªvisi⁄
 ==ÜastRInfo.revision))

661 *
pRïlyLí
 = 0;

662  
EPON_OAM_ERR_OK
;

666 
ªt
 = 
	`ï⁄_ﬂm_discovîy_¥oc
(
pOamPdu
->
ŒidIdx
,ÖOamPdu, &
ﬂmInfo
);

667 if(
EPON_OAM_ERR_OK
 =
ªt
)

669 
	`ï⁄_ﬂm_°dInfo_gí
(

670 
pOamPdu
->
ŒidIdx
,

671 
pRïlyPå
,

672 
bufLí
,

673 &
ª∂yLí
);

674 
pRïlyPå
 +
ª∂yLí
;

675 
bufLí
 -
ª∂yLí
;

678 
EPON_INFO_OAMPDU_TYPE_REMOTE
:

680 
ªt
 = 
	`ï⁄_ﬂm_°dInfo_∑r£r
(&
ﬂmInfo
, 
pProcPå
, 
ªmaöLí
, &
exåa˘Lí
);

681 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
ªmaöLí
 < 
exåa˘Lí
))

683 
ªmaöLí
 = 0;

684 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

685 "[OAM:%s:%d]Ép⁄_ﬂm_°dInfo_∑r£∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

688 
ªmaöLí
 -
exåa˘Lí
;

689 
pProcPå
 +
exåa˘Lí
;

692 
	`ï⁄_ﬂm_loˇlInfo_gë
(
pOamPdu
->
ŒidIdx
, &
loˇlOamInfo
);

693 if(
	`memcmp
(&
ﬂmInfo
, &
loˇlOamInfo
, (
ﬂm_ﬂmInfo_t
)) != 0)

695 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

696 "[OAM:%s:%d] RemŸe'†ªmŸêOAMPDU inc⁄si°á†loˇ»⁄e\n", 
__FILE__
, 
__LINE__
);

699 if(
	`memcmp
(&
ﬂmInfo
.
oui
[0], &
loˇlOamInfo
.oui[0], 4) == 0)

701 if(
	`memcmp
(&
ﬂmInfo
.
vídîS≥cInfo
[0], &
loˇlOamInfo
.venderSpecInfo[0], 4) != 0)

703 
πk_ï⁄_Œid_íåy_t
 
ŒidE¡ry
;

706 
ŒidE¡ry
.
ŒidIdx
 = 
pOamPdu
->llidIdx;

707 
ªt
 = 
	`πk_ï⁄_Œid_íåy_gë
(&
ŒidE¡ry
);

708 if(
ªt
)

710  
ªt
;

712 
ŒidE¡ry
.
vÆid
 = 
DISABLED
;

713 
ŒidE¡ry
.
Œid
 = 0x7fff;

714 
ªt
 = 
	`πk_ï⁄_Œid_íåy_£t
(&
ŒidE¡ry
);

715 if(
ªt
)

717  
ªt
;

723 
EPON_INFO_OAMPDU_TYPE_ORG_SPEC
:

724 
pOrgS≥cD©a
 = 
NULL
;

726 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_∑r£r
(

727 
pOamPdu
->
ŒidIdx
,

728 
pProcPå
,

729 
ªmaöLí
,

730 &
exåa˘Lí
,

731 
oui
,

732 &
pOrgS≥cD©a
);

733 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
ªmaöLí
 < 
exåa˘Lí
))

735 
ªmaöLí
 = 0;

736 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

737 "[OAM:%s:%d]Ép⁄_ﬂm_‹gS≥cInfo_∑r£∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

740 
ªmaöLí
 -
exåa˘Lí
;

741 
pProcPå
 +
exåa˘Lí
;

743 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cInfo_h™dÀr
(

744 
pOamPdu
,

745 
pRïlyPå
,

746 
bufLí
,

747 &
ª∂yLí
,

748 
oui
,

749 &
pOrgS≥cD©a
);

751 if(
EPON_OAM_ERR_OK
 !
ªt
)

753 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

754 "[OAM:%s:%d]Ép⁄_ﬂm_‹gS≥cInfo_h™dÀ∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

757 
pRïlyPå
 +
ª∂yLí
;

758 
bufLí
 -
ª∂yLí
;

760 
EPON_INFO_OAMPDU_TYPE_RESERVED
:

762 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

763 "[OAM:%s:%d] Re£rved infÿOAMÅy≥ 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcPå
);

765 
ªmaöLí
 --;

766 
pProcPå
 ++;

772 
	`ï⁄_ﬂm_loˇlInfo_gë
(
pOamPdu
->
ŒidIdx
, &
cuºLInfo
);

773 if(
	`memcmp
(&
cuºLInfo
, &
œ°LInfo
, (currLInfo)) != 0)

776 
cuºLInfo
.
ªvisi⁄
 ++;

777 
	`ï⁄_ﬂm_loˇlInfo_£t
(
pOamPdu
->
ŒidIdx
, &
cuºLInfo
);

781 *
pRïlyPå
 = 
EPON_INFO_OAMPDU_TYPE_END
;

782 
pRïlyPå
 ++;

783 *
pRïlyLí
 = (
pRïlyPå
 - *
µRïlyOamPdu
);

785  
EPON_OAM_ERR_OK
;

786 
	}
}

788 
	$ï⁄_ﬂm_°dEvít_¥o˚ss
(

789 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

790 **
µRïlyOamPdu
,

791 *
pRïlyLí
)

793 
ªt
;

794 *
pOrgS≥cD©a
;

795 
oui
[3];

796 
isEnd
;

797 *
pProcPå
, *
pRïlyPå
;

798 
ªmaöLí
, 
exåa˘Lí
;

799 
bufLí
, 
ª∂yLí
, 
£qNumbî
;

805 
isEnd
 = 0;

806 
pProcPå
 = 
pOamPdu
->
pD©a
;

807 
ªmaöLí
 = 
pOamPdu
->
d©aLí
;

809 
ªt
 = 
	`ï⁄_ﬂm_maxOamPduSize_gë
(
pOamPdu
->
ŒidIdx
, &
bufLí
);

810 if(
EPON_OAM_ERR_OK
 !
ªt
)

813 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

814 "[OAM:%s:%d] c™'àgë OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

815  
EPON_OAM_ERR_UNKNOWN
;

818 
pRïlyPå
 = (*)
	`mÆloc
((Ë* 
bufLí
);

819 if(
NULL
 =
pRïlyPå
)

822 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

823 "[OAM:%s:%d] c™'àÆloˇã mem‹y f‹Ñïly OAMPDU\n", 
__FILE__
, 
__LINE__
);

824  
EPON_OAM_ERR_MEM
;

827 
bufLí
 -= 1;

828 *
µRïlyOamPdu
 = 
pRïlyPå
;

830 if(
ªmaöLí
 >= 2)

833 ((*)(&
£qNumbî
))[0] = *
pProcPå
;

834 
pProcPå
++;

835 ((*)(&
£qNumbî
))[1] = *
pProcPå
;

836 
pProcPå
++;

837 
ªmaöLí
 -= 2;

840 (
ªmaöLí
 >1Ë&& (1 !
isEnd
Ë&& (
bufLí
 >= 1))

842 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

843 "[OAM:%s:%d]Évíàty≥ 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcPå
);

844 
ª∂yLí
 = 0;

845 *
pProcPå
)

847 
EPON_EVENT_OAMPDU_TYPE_END
:

849 
isEnd
 = 1;

850 
ªmaöLí
 --;

851 
pProcPå
 ++;

853 
EPON_EVENT_OAMPDU_TYPE_ESPE
:

854 
EPON_EVENT_OAMPDU_TYPE_EFE
:

855 
EPON_EVENT_OAMPDU_TYPE_EFPE
:

856 
EPON_EVENT_OAMPDU_TYPE_EFSSE
:

857 
ªt
 = 
	`ï⁄_ﬂm_°dEvít_∑r£r
(*
pProcPå
,ÖProcPå, 
ªmaöLí
, &
exåa˘Lí
);

858 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
ªmaöLí
 < 
exåa˘Lí
))

860 
ªmaöLí
 = 0;

861 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

862 "[OAM:%s:%d]Ép⁄_ﬂm_°dEvít_∑r£∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

865 
ªmaöLí
 -
exåa˘Lí
;

866 
pProcPå
 +
exåa˘Lí
;

871 
EPON_EVENT_OAMPDU_TYPE_ORG_SPEC
:

872 
pOrgS≥cD©a
 = 
NULL
;

874 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_∑r£r
(

875 
pOamPdu
->
ŒidIdx
,

876 
pProcPå
,

877 
ªmaöLí
,

878 &
exåa˘Lí
,

879 
oui
,

880 &
pOrgS≥cD©a
);

881 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
ªmaöLí
 < 
exåa˘Lí
))

883 
ªmaöLí
 = 0;

884 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

885 "[OAM:%s:%d]Ép⁄_ﬂm_‹gS≥cEvít_∑r£∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

888 
ªmaöLí
 -
exåa˘Lí
;

889 
pProcPå
 +
exåa˘Lí
;

891 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cEvít_h™dÀr
(

892 
pOamPdu
,

893 
pRïlyPå
,

894 
bufLí
,

895 &
ª∂yLí
,

896 
oui
,

897 &
pOrgS≥cD©a
);

899 if(
EPON_OAM_ERR_OK
 !
ªt
)

901 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

902 "[OAM:%s:%d]Ép⁄_ﬂm_‹gS≥cEvít_h™dÀ∏Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

905 
pRïlyPå
 +
ª∂yLí
;

906 
bufLí
 -
ª∂yLí
;

908 
EPON_EVENT_OAMPDU_TYPE_RESERVED
:

910 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

911 "[OAM:%s:%d] Re£rvedÉvíàOAMÅy≥ 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcPå
);

913 
ªmaöLí
 --;

914 
pProcPå
 ++;

920 *
pRïlyPå
 = 
EPON_EVENT_OAMPDU_TYPE_END
;

921 
pRïlyPå
 ++;

922 *
pRïlyLí
 = (
pRïlyPå
 - *
µRïlyOamPdu
);

924  
EPON_OAM_ERR_OK
;

925 
	}
}

927 
	$ï⁄_ﬂm_°dV¨Req_¥o˚ss
(

928 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

929 **
µRïlyOamPdu
,

930 *
pRïlyLí
)

932 
ªt
;

933 *
pProcPå
, *
pRïlyPå
;

934 
ªmaöLí
, 
ÆlRe•Lí
;

935 
bufLí
, 
maxBufLí
;

936 
ﬂm_v¨Cb_t
 
v¨Cb
;

937 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
 = 
NULL
, 
v¨T¨gë
;

938 
ﬂm_v¨C⁄èöî_t
 *
pV¨C⁄èöî
;

939 (*
h™dÀr
)(

940 
ﬂm_v¨T¨gë_t
 *
pV¨T¨gë
,

941 
ﬂm_v¨Des¸ùt‹_t
 
v¨Desc
,

942 
ﬂm_v¨C⁄èöî_t
 **
µV¨C⁄èöî
);

948 
pProcPå
 = 
pOamPdu
->
pD©a
;

949 
ªmaöLí
 = 
pOamPdu
->
d©aLí
;

951 
ªt
 = 
	`ï⁄_ﬂm_maxOamPduSize_gë
(
pOamPdu
->
ŒidIdx
, &
maxBufLí
);

952 if(
EPON_OAM_ERR_OK
 !
ªt
)

955 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

956 "[OAM:%s:%d] c™'àgë OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

957  
EPON_OAM_ERR_UNKNOWN
;

960 
pRïlyPå
 = (*)
	`mÆloc
((Ë* 
maxBufLí
);

961 if(
NULL
 =
pRïlyPå
)

964 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

965 "[OAM:%s:%d] c™'àÆloˇã mem‹y f‹Ñïly OAMPDU\n", 
__FILE__
, 
__LINE__
);

966  
EPON_OAM_ERR_MEM
;

969 
bufLí
 = 
maxBufLí
 - 1;

970 *
µRïlyOamPdu
 = 
pRïlyPå
;

973 if((
ªmaöLí
 >1Ë&& (
EPON_VAR_OAMPDU_TYPE_END
 =*
pProcPå
))

975 *
pRïlyLí
 = 0;

976  
EPON_OAM_ERR_OK
;

979 
ªmaöLí
 >
EPON_VAR_OAMPDU_DESC_LEN
)

981 
v¨Cb
.
v¨Desc
.
v¨Bønch
 = *
pProcPå
;

982 
pProcPå
 ++;

983 
	`mem˝y
(&
v¨Cb
.
v¨Desc
.
v¨Lóf
, 
pProcPå
, ());

984 
pProcPå
 += 2;

985 
ªmaöLí
 -
EPON_VAR_OAMPDU_DESC_LEN
;

987 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

989 
__FILE__
, 
__LINE__
, 
v¨Cb
.
v¨Desc
.
v¨Bønch
, v¨Cb.v¨Desc.
v¨Lóf
);

991 
pV¨C⁄èöî
 = 
NULL
;

993 
ªt
 = 
	`ï⁄_ﬂm_v¨übÀCb_gë
(&
v¨Cb
);

994 if(
EPON_OAM_ERR_OK
 !
ªt
)

996 
h™dÀr
 = 
NULL
;

998 
ªt
 = 
	`ï⁄_ﬂm_defV¨Cb_gë
(&
h™dÀr
);

999 if(
NULL
 !
h™dÀr
)

1001 
ªt
 = 
	`h™dÀr
(
pV¨T¨gë
, 
v¨Cb
.
v¨Desc
, &
pV¨C⁄èöî
);

1007 if(
v¨Cb
.
v¨Ty≥
 =
EPON_OAM_VARTYPE_OBJECTID
)

1009 if(
ªmaöLí
 >
EPON_VAR_OAMPDU_TARGET_LEN
)

1011 if(
EPON_VAR_OAMPDU_OBJID_LEN
 =*
pProcPå
)

1014 
v¨T¨gë
.
v¨Desc
 = 
v¨Cb
.varDesc;

1015 
v¨T¨gë
.
v¨Width
 = 
EPON_VAR_OAMPDU_OBJID_LEN
;

1016 
pProcPå
++;

1017 
	`mem˝y
(&
v¨T¨gë
.
v¨D©a
, 
pProcPå
, 
EPON_VAR_OAMPDU_OBJID_LEN
);

1018 
pProcPå
 +
EPON_VAR_OAMPDU_OBJID_LEN
;

1019 
pV¨T¨gë
 = &
v¨T¨gë
;

1024 
pProcPå
 +
EPON_VAR_OAMPDU_TARGET_LEN
;

1025 
ªmaöLí
 -
EPON_VAR_OAMPDU_TARGET_LEN
;

1031 
pProcPå
 +
ªmaöLí
;

1032 
ªmaöLí
 = 0;

1037 if(
NULL
 !
v¨Cb
.
h™dÀr
)

1040 
ªt
 = 
v¨Cb
.
	`h™dÀr
(
pV¨T¨gë
, v¨Cb.
v¨Desc
, &
pV¨C⁄èöî
);

1044 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1045 "[OAM:%s:%d] unknow¿îr‹\n", 
__FILE__
, 
__LINE__
);

1050 if((
EPON_OAM_ERR_OK
 =
ªt
Ë&& (
NULL
 !
pV¨C⁄èöî
))

1053 
ÆlRe•Lí
 = 
	`ï⁄_ﬂm_v¨Re•Lí_ˇlc
(
v¨Cb
.
v¨Ty≥
, 
pV¨C⁄èöî
);

1055 if(
ÆlRe•Lí
 > 
maxBufLí
)

1060 
	`ï⁄_ﬂm_v¨Re•Eº‹Lí_gí
(
pV¨C⁄èöî
, 
pRïlyPå
);

1065 if(
ÆlRe•Lí
 > 
bufLí
)

1071 *
pRïlyPå
 = 
EPON_VAR_OAMPDU_TYPE_END
;

1072 
pRïlyPå
++;

1073 
bufLí
--;

1075 
	`ï⁄_ﬂm_ª∂y_£nd
(

1076 
pOamPdu
->
ŒidIdx
,

1077 
pOamPdu
->
code
,

1078 *
µRïlyOamPdu
,

1079 (
pRïlyPå
 - *
µRïlyOamPdu
));

1082 
pRïlyPå
 = (*)
	`mÆloc
((Ë* 
maxBufLí
);

1083 if(
NULL
 =
pRïlyPå
)

1086 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1087 "[OAM:%s:%d] c™'àÆloˇã mem‹y f‹Ñïly OAMPDU\n", 
__FILE__
, 
__LINE__
);

1088  
EPON_OAM_ERR_MEM
;

1090 
bufLí
 = 
maxBufLí
;

1091 *
µRïlyOamPdu
 = 
pRïlyPå
;

1095 
	`ï⁄_ﬂm_v¨Re•_gí
(
v¨Cb
.
v¨Ty≥
, 
pV¨C⁄èöî
, 
pRïlyPå
);

1096 
pRïlyPå
 +
ÆlRe•Lí
;

1097 
bufLí
 -
ÆlRe•Lí
;

1099 
	`ï⁄_ﬂm_v¨Re•_‰ì
(&
pV¨C⁄èöî
);

1102 if((
ªmaöLí
 >1Ë&& (
EPON_VAR_OAMPDU_TYPE_END
 =*
pProcPå
))

1105 *
pRïlyPå
 = 
EPON_VAR_OAMPDU_TYPE_END
;

1106 
pRïlyPå
++;

1107 
bufLí
--;

1111 *
pRïlyLí
 = (
pRïlyPå
 - *
µRïlyOamPdu
);

1113  
EPON_OAM_ERR_OK
;

1114 
	}
}

1116 
	$ï⁄_ﬂm_°dV¨Re•_¥o˚ss
(

1117 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1118 **
µRïlyOamPdu
,

1119 *
pRïlyLí
)

1121 *
pRïlyLí
 = 0;

1122  
EPON_OAM_ERR_OK
;

1123 
	}
}

1125 
	$ï⁄_ﬂm_°dLo›back_¥o˚ss
(

1126 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1127 **
µRïlyOamPdu
,

1128 *
pRïlyLí
)

1130 *
pRïlyLí
 = 0;

1131  
EPON_OAM_ERR_OK
;

1132 
	}
}

1134 
	$ï⁄_ﬂm_°dOrgS≥c_¥o˚ss
(

1135 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1136 **
µRïlyOamPdu
,

1137 *
pRïlyLí
)

1139 
ªt
;

1140 
oui
[3];

1141 *
pProcPå
, *
pRïlyPå
;

1142 
ªmaöLí
;

1143 
bufLí
, 
ª∂yLí
;

1144 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

1150 
pProcPå
 = 
pOamPdu
->
pD©a
;

1151 
ªmaöLí
 = 
pOamPdu
->
d©aLí
;

1153 
ªt
 = 
	`ï⁄_ﬂm_maxOamPduSize_gë
(
pOamPdu
->
ŒidIdx
, &
bufLí
);

1154 if(
EPON_OAM_ERR_OK
 !
ªt
)

1157 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1158 "[OAM:%s:%d] c™'àgë OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

1159  
EPON_OAM_ERR_UNKNOWN
;

1162 
pRïlyPå
 = (*)
	`mÆloc
((Ë* 
bufLí
);

1163 if(
NULL
 =
pRïlyPå
)

1166 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1167 "[OAM:%s:%d] c™'àÆloˇã mem‹y f‹Ñïly OAMPDU\n", 
__FILE__
, 
__LINE__
);

1168  
EPON_OAM_ERR_MEM
;

1172 
	`mem£t
(
pRïlyPå
, 0, ((Ë* 
bufLí
));

1175 *
µRïlyOamPdu
 = 
pRïlyPå
;

1177 
oui
[0] = 
pProcPå
[0];

1178 
oui
[1] = 
pProcPå
[1];

1179 
oui
[2] = 
pProcPå
[2];

1181 
‹gS≥cCb
.
¥o˚ss‹
 = 
NULL
;

1182 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_gë
(
EPON_OAM_CBTYPE_ORGSPEC
, 
oui
, (*Ë&
‹gS≥cCb
);

1183 if(
EPON_OAM_ERR_OK
 !
ªt
)

1188 
	`ï⁄_ﬂm_defOrgS≥cCb_gë
(
EPON_OAM_CBTYPE_ORGSPEC
, (*Ë&
‹gS≥cCb
);

1191 
ª∂yLí
 = 0;

1192 if(
NULL
 !
‹gS≥cCb
.
¥o˚ss‹
)

1194 
ªt
 = 
‹gS≥cCb
.
	`¥o˚ss‹
(

1195 
pOamPdu
,

1196 
pProcPå
,

1197 
ªmaöLí
,

1198 
pRïlyPå
,

1199 
bufLí
,

1200 &
ª∂yLí
);

1203 if((
EPON_OAM_ERR_OK
 !
ªt
Ë|| (
bufLí
 < 
ª∂yLí
Ë|| (
NULL
 =
‹gS≥cCb
.
¥o˚ss‹
))

1205 
ª∂yLí
 = 0;

1206 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1207 "[OAM:%s:%d] orgS≥cCb Faûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

1209 *
pRïlyLí
 = 
ª∂yLí
;

1211  
EPON_OAM_ERR_OK
;

1212 
	}
}

1217 #ifde‡
CONFIG_PRODUCT_5500


1218 
p⁄Sètus_webDis_t
 *
	gg_p⁄Sètus
 = 
NULL
;

1219 
ﬂm_discovîy_°©e
;

1220 
	$p⁄SètusP¨asGë
–
ŒidIdx
)

1222 
˘cVî
 = 0;

1223 *
pP¨£På

NULL
;

1224 
mac
[6] = {0};

1225 
ﬂm_ﬂmInfo_t
 
ªmŸeInfo
;

1226 
p⁄Sètus_webDis_t
 *
p⁄Sètus
 = 
g_p⁄Sètus
;

1228 
p⁄Sètus
->
isO∆öe
 = (
ﬂm_discovîy_°©e
==
EPON_OAM_STATE_COMPLETE
?1:0);

1229 if(1 =
p⁄Sètus
->
isO∆öe
)

1231 if(
cuºCtcVî_webDis
 <= 0x20)

1233 
	`•rötf
(
p⁄Sètus
->
˘cVî
, "CTC 2.0");

1237 
	`•rötf
(
p⁄Sètus
->
˘cVî
, "CTC 2.1");

1240 
	`mem£t
(&
ªmŸeInfo
, 0x0, (
ﬂm_ﬂmInfo_t
));

1241 
	`ï⁄_ﬂm_ªmŸeInfo_gë
(
ŒidIdx
, &
ªmŸeInfo
);

1242 
p⁄Sètus
->
ªmŸeInfovÆid
 = 
ªmŸeInfo
.
vÆid
;

1243 if(
ªmŸeInfo
.
vÆid
)

1245 
	`•rötf
(
p⁄Sètus
->
ﬂmVî
, "%d", 
ªmŸeInfo
.oamVer);

1246 
	`•rötf
(
p⁄Sètus
->
oui
, "%02x:%02x:%02x",

1247 
ªmŸeInfo
.
oui
[0],

1248 
ªmŸeInfo
.
oui
[1],

1249 
ªmŸeInfo
.
oui
[2]);

1250 
	`•rötf
(
p⁄Sètus
->
vídîS≥cInfo
, "%02x:%02x:%02x:%02x",

1251 
ªmŸeInfo
.
vídîS≥cInfo
[0],

1252 
ªmŸeInfo
.
vídîS≥cInfo
[1],

1253 
ªmŸeInfo
.
vídîS≥cInfo
[2],

1254 
ªmŸeInfo
.
vídîS≥cInfo
[3]);

1257 
	}
}

1263 
	$ï⁄_ﬂm_rx_h™dÀr
(

1264 
ŒidIdx
,

1265 *
‰ame
,

1266 
Àngth
)

1268 
ªt
;

1269 *
pRïlyOamPdu
;

1270 
ª∂yLí
, 
exåa˘Lí
;

1271 
ﬂm_ﬂmPdu_t
 
ﬂmPdu
;

1272 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

1273 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

1275 if(!
ﬂmC⁄fig
.
ﬂmE«bÀd
)

1277  
EPON_OAM_ERR_OK
;

1279 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_RXOAM
,

1280 "[OAM:%s:%d] OAMPDU Rx\n", 
__FILE__
, 
__LINE__
);

1281 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_RXOAM
, 
‰ame
, 
Àngth
);

1282 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_RXOAM
, "\n");

1283 
	`ï⁄_ﬂm_cou¡î_öc
(
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

1289 if(
Àngth
 < 60)

1292 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
, "[OAM:%s:%d] fømêundî size\n", 
__FILE__
, 
__LINE__
);

1293  
EPON_OAM_ERR_PARAM
;

1296 
	`mem£t
((*)&
ﬂmPdu
, 0x0, (
ﬂm_ﬂmPdu_t
));

1297 
ﬂmPdu
.
ŒidIdx
 =ÜlidIdx;

1298 
ªt
 = 
	`ï⁄_ﬂm_°dHdr_∑r£r
(&
ﬂmPdu
, 
‰ame
, 
Àngth
, &
exåa˘Lí
);

1299 if(0 !
ªt
)

1301 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
, "[OAM:%s:%d]\n", 
__FILE__
, 
__LINE__
);

1304 
pRïlyOamPdu
 = 
NULL
;

1305 
ª∂yLí
 = 0;

1306 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1307 "[OAM:%s:%d]ÖOamPdu->codê%d\n", 
__FILE__
, 
__LINE__
, 
ﬂmPdu
.
code
);

1308 
ﬂmPdu
.
code
)

1310 
EPON_OAMPDU_CODE_INFO
:

1311 
ªt
 = 
	`ï⁄_ﬂm_°dInfo_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1312 
	`ï⁄_ﬂm_cou¡î_öc
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

1313 if(
ª∂yLí
 > 0)

1315 
	`ï⁄_ﬂm_cou¡î_öc
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

1318 if(
˘cExtInfoCheck
 == 1)

1320 
˘cExtInfoC¡
++;

1321 
	`¥ötf
("\¿ﬂm c¡ bef‹êCTC oam inô ok (%d)\n",
˘cExtInfoC¡
);

1322 if(
˘cExtInfoC¡
 > 5)

1324 
˘cExtInfoC¡
=0;

1325 
	`¥ötf
("\n CTCÅimeout!! dislable LLID\n");

1326 
	`ï⁄_ﬂm_evít_£nd
(0, 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
);

1331 
EPON_OAMPDU_CODE_EVENT
:

1332 
ªt
 = 
	`ï⁄_ﬂm_°dEvít_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1334 
EPON_OAMPDU_CODE_VAR_REQ
:

1335 
ªt
 = 
	`ï⁄_ﬂm_°dV¨Req_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1337 
ﬂmPdu
.
code
 = 
EPON_OAMPDU_CODE_VAR_RESP
;

1339 
EPON_OAMPDU_CODE_VAR_RESP
:

1340 
ªt
 = 
	`ï⁄_ﬂm_°dV¨Re•_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1342 
EPON_OAMPDU_CODE_LOOPBACK
:

1343 
ªt
 = 
	`ï⁄_ﬂm_°dLo›back_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1345 
EPON_OAMPDU_CODE_ORG_SPEC
:

1346 
ªt
 = 
	`ï⁄_ﬂm_°dOrgS≥c_¥o˚ss
(&
ﬂmPdu
, &
pRïlyOamPdu
, &
ª∂yLí
);

1347 
	`ï⁄_ﬂm_cou¡î_öc
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

1348 if(
ª∂yLí
 > 0)

1350 
	`ï⁄_ﬂm_cou¡î_öc
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

1353 
EPON_OAMPDU_CODE_RESERVED
:

1355 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

1356 "[OAM:%s:%d] iŒegÆ OAMPDU codê%u\n", 
__FILE__
, 
__LINE__
, 
ﬂmPdu
.
code
);

1360 if(
ª∂yLí
 > 0)

1362 
ªt
 = 
	`ï⁄_ﬂm_ª∂y_£nd
(
ﬂmPdu
.
ŒidIdx
, oamPdu.
code
, 
pRïlyOamPdu
, 
ª∂yLí
);

1363 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1364 "[OAM:%s:%d]Ép⁄_ﬂm_ª∂y_£nd %d\n", 
__FILE__
, 
__LINE__
, 
ﬂmPdu
.
code
);

1369 
	`ï⁄_ﬂm_evít_£nd
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_EVENT_KEEPALIVE_RESET
);

1373 
	`ï⁄_ﬂm_cou¡î_öc
(
ﬂmPdu
.
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

1376 if(
NULL
 !
pRïlyOamPdu
)

1378 
	`‰ì
(
pRïlyOamPdu
);

1381  
ªt
;

1382 
	}
}

1385 *
	$ï⁄_ﬂm_rxThªad
(*
¨gu
)

1387 
ªt
;

1388 
¥_idítifõr_t
 *
¥Id
;

1389 
d©aLí
;

1390 *
∑ylﬂd
;

1391 
ŒidIdx
;

1393 
pktRedúe˘_sock
 = 
	`sockë
(
PF_NETLINK
, 
SOCK_RAW
,
NETLINK_USERSOCK
);

1394 
	`±k_ªdúe˘_u£rAµ_ªg
(
pktRedúe˘_sock
, 0, 
MAX_PAYLOAD
);

1396 
∑ylﬂd
 = (*)
	`mÆloc
(
MAX_PAYLOAD
 * ());

1398 if(
NULL
 =
∑ylﬂd
)

1400 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1401 "[OAM:%s:%d] Nÿ∑ckë buf„∏f‹ Rx!\n", 
__FILE__
, 
__LINE__
);

1402  
NULL
;

1406 
	`¥ötf
("Init LW drv ... ");

1407 if(0 !
	`DRV_LwInô
())

1409 
	`¥ötf
("failed\r\n");

1410  
NULL
;

1414 
	`¥ötf
("done\r\n");

1419 #ifde‡
CONFIG_PRODUCT_5500


1420 
g_p⁄Sètus
 = 
	`p⁄Sètus_webDis_shmInô
();

1421 
	`mem£t
(
g_p⁄Sètus
, 0, (
p⁄Sètus_webDis_t
));

1422 
	`¥ötf
("oam share init...\r\n");

1428 
ªt
 = 
	`±k_ªdúe˘_u£rAµ_ªcvPkt
(
pktRedúe˘_sock
, 
MAX_PAYLOAD
, &
d©aLí
, 
∑ylﬂd
);

1429 if(
ªt
 > 60)

1432 
ŒidIdx
 = *((*)(
∑ylﬂd
 + (
d©aLí
 - (llidIdx))));

1433 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1434 "[OAM:%s:%d] Re˚ived mesßgê‰om LLIDIdx %u size: %d (0x%08x)\n", 
__FILE__
, 
__LINE__
, 
ŒidIdx
, 
d©aLí
 - ÷lidIdx), 
∑ylﬂd
);

1436 
	`ï⁄_ﬂm_rx_h™dÀr
(
ŒidIdx
, 
∑ylﬂd
, 
d©aLí
 - (llidIdx));

1438 if(
ªt
 > 0)

1442 if(4 =
d©aLí
)

1445 if((
∑ylﬂd
[0] == 0x15) && (payload[1] == 0x68))

1447 if((
∑ylﬂd
[2] == 0xde) && (payload[3] == 0xad))

1451 
	`ï⁄_ﬂm_evít_£nd
(0, 
EPON_OAM_EVENT_LOS
);

1456 if(
ªt
 <= 0)

1458 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1459 "[OAM:%s:%d]Ñe˚ivêÁû %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

1462 #ifde‡
CONFIG_PRODUCT_5500


1463 
	`p⁄SètusP¨asGë
(0);

1467 
	`‰ì
(
∑ylﬂd
);

1468 
	`˛o£
(
pktRedúe˘_sock
);

1470  
NULL
;

1471 
	}
}

	@src/epon_oam_state.c

24 
	~<°dio.h
>

25 
	~<°rög.h
>

26 
	~<mÆloc.h
>

27 
	~<î∫o.h
>

28 
	~<£m≠h‹e.h
>

29 
	~<πk/ï⁄.h
>

31 
	~"ï⁄_ﬂm_c⁄fig.h
"

32 
	~"ï⁄_ﬂm_db.h
"

33 
	~"ï⁄_ﬂm_îr.h
"

34 
	~"ï⁄_ﬂm_rx.h
"

35 
	~"ï⁄_ﬂm_dbg.h
"

36 
	~"ï⁄_ﬂm_msgq.h
"

37 
	~"ﬂm.h
"

38 
	~<ùc_¥Ÿocﬁ.h
>

39 
	~<lw_c⁄fig.h
>

40 
	~<lw_drv_ªq.h
>

45 
	#EPON_OAM_FSM_STATE_WAIT_REMOTE
 1

	)

46 
	#EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
 2

	)

47 
	#EPON_OAM_FSM_STATE_COMPLETE
 3

	)

49 
	#EPON_OAM_LOCALPDU_LF_INFO
 0

	)

50 
	#EPON_OAM_LOCALPDU_RX_INFO
 1

	)

51 
	#EPON_OAM_LOCALPDU_INFO
 2

	)

52 
	#EPON_OAM_LOCALPDU_ANY
 3

	)

57 
	gﬂm_fsm_°©e
[
EPON_OAM_SUPPORT_LLID_NUM
];

58 
	gloˇl_pdu
[
EPON_OAM_SUPPORT_LLID_NUM
];

59 
	gﬂmpdu_Êag
[
EPON_OAM_SUPPORT_LLID_NUM
];

61 
£m_t
 
	gﬂmSèãAc˚ssSem
;

70 
OLT_FLAG_E
 
	gm_íO…Fœg
 = 
OLT_FLAG_CTC
;

71 
OLT_FLAG_E
 
	$OamGëO…Fœg
()

73  
m_íO…Fœg
;

74 
	}
}

76 
	$OamSëO…Fœg
(
OLT_FLAG_E
 
íO…Fœg
)

78 i‡(
íO…Fœg
 >
OLT_FLAG_BUTT
)

83 
m_íO…Fœg
 = 
íO…Fœg
;

86 
	}
}

88 
	$ï⁄_ﬂm_discovîy_öô
()

90 
ªt
;

97 
ªt
 = 
	`£m_öô
(&
ﬂmSèãAc˚ssSem
, 0, 1);

98 if(0 !
ªt
)

100 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

101 "[OAM:%s:%d] sem_öô faûed %d\n", 
__FILE__
, 
__LINE__
, 
î∫o
);

102  
EPON_OAM_ERR_UNKNOWN
;

105  
EPON_OAM_ERR_OK
;

106 
	}
}

108 
	$ï⁄_ﬂm_discovîyLlid_öô
(

109 
ŒidIdx
)

112 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

114  
EPON_OAM_ERR_PARAM
;

118 
	`£m_waô
(&
ﬂmSèãAc˚ssSem
);

119 
ﬂm_fsm_°©e
[
ŒidIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE
;

120 
loˇl_pdu
[
ŒidIdx
] = 
EPON_OAM_LOCALPDU_RX_INFO
;

121 
ﬂmpdu_Êag
[
ŒidIdx
] = 
EPON_OAM_FLAG_LOCAL_EVAL
;

122 
	`£m_po°
(&
ﬂmSèãAc˚ssSem
);

124  
EPON_OAM_ERR_OK
;

125 
	}
}

127 
	$ï⁄_ﬂm_discovîyIdÀLlid_gë
(

128 
ŒidIdx
,

129 *
isIdÀ
,

130 *
ﬂm_discovîy_°©e
)

133 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

135  
EPON_OAM_ERR_PARAM
;

139 *
isIdÀ
 = 0;

140 
	`£m_waô
(&
ﬂmSèãAc˚ssSem
);

141 if(
EPON_OAM_FSM_STATE_WAIT_REMOTE
 =
ﬂm_fsm_°©e
[
ŒidIdx
])

143 *
isIdÀ
 = 1;

145 *
ﬂm_discovîy_°©e
 = 
ﬂm_fsm_°©e
[
ŒidIdx
];

148 if(0 !
	`Io˘l_SëOamDiscovîySèã
(*
ﬂm_discovîy_°©e
))

150 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
, "[OAM:%s:%d] së discovîy sèã faûed \n", 
__FILE__
, 
__LINE__
);

153 
	`£m_po°
(&
ﬂmSèãAc˚ssSem
);

155  
EPON_OAM_ERR_OK
;

156 
	}
}

157 
ﬂm_⁄u_víd‹
[4];

158 
h3c_⁄u_víd‹
[4];

159 
yŸc_⁄u_víd‹
[4];

160 
øi£com_⁄u_víd‹
[4] ;

161 
fibîhome_⁄u_víd‹
[4] ;

162 
zã_⁄u_víd‹
[4] ;

164 
h3c_oui
[3];

165 
huawei_oui
[3];

166 
bdcom_oui
[3];

167 
yŸc_oui
[3];

168 
øi£com_oui
[3];

169 
zã_oui
[3];

170 
zã_⁄u_id
[3];

172 
zã_ﬁt_vídî
[4];

173 
zã_c300_ﬁt_vídî
[4];

174 
fibîhome_ﬁt_vídî
[4];

178 
sh¨e_oui
[3];

180 
	$ï⁄_ﬂm_discovîy_¥oc
(

181 
ŒidIdx
,

182 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

183 
ﬂm_ﬂmInfo_t
 *
pOamInfo
)

185 
ªt
;

186 
ﬂm_ﬂmInfo_t
 
loˇlInfo
;

187 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

188 
πk_ï⁄_Œid_íåy_t
 
ŒidE¡ry
;

189 
ﬂm_ﬂmInfo_t
 
ﬂmInfo
;

190 
own_⁄u_víd‹
[4] = {"RTL"};

192 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

194  
EPON_OAM_ERR_PARAM
;

197 if((
NULL
 =
pOamPdu
Ë|| (NULL =
pOamInfo
))

199  
EPON_OAM_ERR_PARAM
;

202 
	`£m_waô
(&
ﬂmSèãAc˚ssSem
);

203 
ﬂm_fsm_°©e
[
ŒidIdx
])

205 
EPON_OAM_FSM_STATE_WAIT_REMOTE
:

206 
ﬂm_fsm_°©e
[
ŒidIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
;

208 
pOamInfo
->
vÆid
 = 1;

209 
	`ï⁄_ﬂm_ªmŸeInfo_£t
(
pOamPdu
->
ŒidIdx
, 
pOamInfo
);

210 
ﬂmpdu_Êag
[
ŒidIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

216 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

217 if((0 =
ﬂmC⁄fig
.
macAddr
[0]) &&

218 (0 =
ﬂmC⁄fig
.
macAddr
[1]) &&

219 (0 =
ﬂmC⁄fig
.
macAddr
[2]) &&

220 (0 =
ﬂmC⁄fig
.
macAddr
[3]) &&

221 (0 =
ﬂmC⁄fig
.
macAddr
[4]) &&

222 (0 =
ﬂmC⁄fig
.
macAddr
[5]))

224 
ŒidE¡ry
.
ŒidIdx
 =ÜlidIdx;

225 
ªt
 = 
	`πk_ï⁄_Œid_íåy_gë
(&
ŒidE¡ry
);

226 if(
RT_ERR_OK
 =
ªt
)

228 
ﬂm_ﬂmInfo_t
 
loˇlInfo
;

230 
	`mem˝y
(&
ﬂmC⁄fig
.
macAddr
[0], &
ŒidE¡ry
.
mac
.
o˘ë
[0], (oamConfig.macAddr));

231 
	`ï⁄_ﬂm_c⁄fig_£t
(
ŒidIdx
, &
ﬂmC⁄fig
);

232 
	`ï⁄_ﬂm_loˇlInfo_gë
(
ŒidIdx
,&
loˇlInfo
);

233 
loˇlInfo
.
vídîS≥cInfo
[0]=
ﬂmC⁄fig
.
macAddr
[2];

234 
loˇlInfo
.
vídîS≥cInfo
[1]=
ﬂmC⁄fig
.
macAddr
[3];

235 
loˇlInfo
.
vídîS≥cInfo
[2]=
ﬂmC⁄fig
.
macAddr
[4];

236 
loˇlInfo
.
vídîS≥cInfo
[3]=
ﬂmC⁄fig
.
macAddr
[5];

237 
	`ï⁄_ﬂm_loˇlInfo_£t
(
ŒidIdx
, &
loˇlInfo
);

241 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

242 "[OAM:%s:%d] LLID MAC upd©êÁûed %d\n", 
__FILE__
, 
__LINE__
, 
ªt
);

248 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

250 
com∑tibÀ_£âög_t
 *
sys
 = &
sys_com∑tibÀ
;

251 if(
sys
->
íabÀ
)

253 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
own_⁄u_víd‹
, 4);

254 if(!
	`memcmp
(
h3c_oui
, 
pOamPdu
->
§cMacAddr
, 3))

256 
	`OamSëO…Fœg
(
OLT_FLAG_H3C
);

257 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
h3c_⁄u_víd‹
, 4);

259 if(!
	`memcmp
(
sh¨e_oui
, 
pOamPdu
->
§cMacAddr
, 3))

261 
	`OamSëO…Fœg
(
OLT_FLAG_YOTC
);

262 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
yŸc_⁄u_víd‹
, 4);

264 if(!
	`memcmp
(
øi£com_oui
, 
pOamPdu
->
§cMacAddr
, 3))

266 if(!
	`memcmp
(
zã_c300_ﬁt_vídî
, 
pOamInfo
->
vídîS≥cInfo
, (pOamInfo->venderSpecInfo)))

268 
	`OamSëO…Fœg
(
OLT_FLAG_ZTE
);

269 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
zã_⁄u_víd‹
, 4);

273 
	`OamSëO…Fœg
(
OLT_FLAG_RAISECOM
);

274 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
øi£com_⁄u_víd‹
, 4);

277 if(!
	`memcmp
(
zã_⁄u_id
, 
pOamPdu
->
§cMacAddr
, 3))

281 
	`OamSëO…Fœg
(
OLT_FLAG_ZTE
);

282 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
zã_⁄u_víd‹
, 4);

284 if(!
	`memcmp
(
zã_ﬁt_vídî
, 
pOamInfo
->
vídîS≥cInfo
, (pOamInfo->venderSpecInfo)))

286 
	`OamSëO…Fœg
(
OLT_FLAG_ZTE
);

287 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
zã_⁄u_víd‹
, 4);

289 if(!
	`memcmp
(
fibîhome_ﬁt_vídî
, 
pOamInfo
->
vídîS≥cInfo
, (pOamInfo->venderSpecInfo)))

291 
	`OamSëO…Fœg
(
OLT_FLAG_FIBERHOME
);

292 
	`mem˝y
(
ﬂm_⁄u_víd‹
, 
fibîhome_⁄u_víd‹
, 4);

296 
	`mem˝y
(
ﬂmInfo
.
vídîS≥cInfo
, 
ﬂm_⁄u_víd‹
, 4);

301 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
:

303 
pOamInfo
->
vÆid
 = 1;

304 
	`ï⁄_ﬂm_ªmŸeInfo_£t
(
pOamPdu
->
ŒidIdx
, 
pOamInfo
);

305 if(0 !(
pOamPdu
->
Êag
 & 
EPON_OAM_FLAG_LOCAL_STABLE
))

307 
ﬂm_fsm_°©e
[
ŒidIdx
] = 
EPON_OAM_FSM_STATE_COMPLETE
;

308 
loˇl_pdu
[
ŒidIdx
] = 
EPON_OAM_LOCALPDU_ANY
;

310 
ﬂmpdu_Êag
[
ŒidIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

312 
	`ï⁄_ﬂm_evít_£nd
(
ŒidIdx
, 
EPON_OAM_EVENT_DISCOVERY_COMPLETE
);

314 
EPON_OAM_FSM_STATE_COMPLETE
:

316 
pOamInfo
->
vÆid
 = 1;

317 
	`ï⁄_ﬂm_ªmŸeInfo_£t
(
pOamPdu
->
ŒidIdx
, 
pOamInfo
);

318 if(0 =(
pOamPdu
->
Êag
 & 
EPON_OAM_FLAG_REMOTE_STABLE
))

320 
ﬂm_fsm_°©e
[
ŒidIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
;

321 
loˇl_pdu
[
ŒidIdx
] = 
EPON_OAM_LOCALPDU_INFO
;

323 
ﬂmpdu_Êag
[
ŒidIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

330 
ﬂmpdu_Êag
[
ŒidIdx
] |=

331 (
pOamPdu
->
Êag
 & 
EPON_OAM_FLAG_LOCAL_EVAL
Ë? 
EPON_OAM_FLAG_REMOTE_EVAL
 : 0;

332 
ﬂmpdu_Êag
[
ŒidIdx
] |=

333 (
pOamPdu
->
Êag
 & 
EPON_OAM_FLAG_LOCAL_STABLE
Ë? 
EPON_OAM_FLAG_REMOTE_STABLE
 : 0;

334 
	`£m_po°
(&
ﬂmSèãAc˚ssSem
);

336  
EPON_OAM_ERR_OK
;

337 
	}
}

339 
	$ï⁄_ﬂm_ﬂmPduFœg_gë
(

340 
ŒidIdx
)

342 
ªtVÆue
;

344 
	`£m_waô
(&
ﬂmSèãAc˚ssSem
);

345 
ªtVÆue
 = 
ﬂmpdu_Êag
[
ŒidIdx
];

346 
	`£m_po°
(&
ﬂmSèãAc˚ssSem
);

348  
ªtVÆue
;

349 
	}
}

	@src/epon_oam_tx.c

24 
	~<°dio.h
>

25 
	~<°rög.h
>

26 
	~<mÆloc.h
>

28 
	~"ï⁄_ﬂm_c⁄fig.h
"

29 
	~"ï⁄_ﬂm_db.h
"

30 
	~"ï⁄_ﬂm_îr.h
"

31 
	~"ï⁄_ﬂm_rx.h
"

32 
	~"ï⁄_ﬂm_tx.h
"

33 
	~"ï⁄_ﬂm_dbg.h
"

34 
	~"pkt_ªdúe˘_u£r.h
"

43 
	gevítSeq
[
EPON_OAM_SUPPORT_LLID_NUM
];

52 
	$ï⁄_ﬂm_°dInfo_gí
(

53 
ŒidIdx
,

54 *
pBuf
,

55 
bufLí
,

56 *
pPushedLí
)

58 
ﬂm_ﬂmInfo_t
 
loˇlInfo
, 
ªmŸeInfo
;

60 
	`mem£t
(&
loˇlInfo
, 0x0, (
ﬂm_ﬂmInfo_t
));

61 
	`mem£t
(&
ªmŸeInfo
, 0x0, (
ﬂm_ﬂmInfo_t
));

62 *
pPushedLí
 = 0;

63 
	`ï⁄_ﬂm_loˇlInfo_gë
(
ŒidIdx
, &
loˇlInfo
);

64 if(
loˇlInfo
.
vÆid
 && (
bufLí
 > 
EPON_INFO_OAMPDU_INFO_LEN
))

67 
pBuf
[0] = 
EPON_INFO_OAMPDU_TYPE_LOCAL
;

68 
pBuf
[1] = 
EPON_INFO_OAMPDU_INFO_LEN
;

69 
pBuf
[2] = 
loˇlInfo
.
ﬂmVî
;

70 
pBuf
[3] = ((*)(&
loˇlInfo
.
ªvisi⁄
))[0];

71 
pBuf
[4] = ((*)(&
loˇlInfo
.
ªvisi⁄
))[1];

72 
pBuf
[5] = 
loˇlInfo
.
°©e
;

73 
pBuf
[6] = 
loˇlInfo
.
ﬂmC⁄fig
;

74 
pBuf
[7] = ((*)(&
loˇlInfo
.
ﬂmPduC⁄fig
))[0];

75 
pBuf
[8] = ((*)(&
loˇlInfo
.
ﬂmPduC⁄fig
))[1];

76 
pBuf
[9] = 
loˇlInfo
.
oui
[0];

77 
pBuf
[10] = 
loˇlInfo
.
oui
[1];

78 
pBuf
[11] = 
loˇlInfo
.
oui
[2];

79 
pBuf
[12] = 
loˇlInfo
.
vídîS≥cInfo
[0];

80 
pBuf
[13] = 
loˇlInfo
.
vídîS≥cInfo
[1];

81 
pBuf
[14] = 
loˇlInfo
.
vídîS≥cInfo
[2];

82 
pBuf
[15] = 
loˇlInfo
.
vídîS≥cInfo
[3];

84 
pBuf
 +
EPON_INFO_OAMPDU_INFO_LEN
;

85 *
pPushedLí
 +
EPON_INFO_OAMPDU_INFO_LEN
;

87 
	`ï⁄_ﬂm_ªmŸeInfo_gë
(
ŒidIdx
, &
ªmŸeInfo
);

88 if(
ªmŸeInfo
.
vÆid
 && (
bufLí
 > (
EPON_INFO_OAMPDU_INFO_LEN
 * 2)))

91 
pBuf
[0] = 
EPON_INFO_OAMPDU_TYPE_REMOTE
;

92 
pBuf
[1] = 
EPON_INFO_OAMPDU_INFO_LEN
;

93 
pBuf
[2] = 
ªmŸeInfo
.
ﬂmVî
;

94 
pBuf
[3] = ((*)(&
ªmŸeInfo
.
ªvisi⁄
))[0];

95 
pBuf
[4] = ((*)(&
ªmŸeInfo
.
ªvisi⁄
))[1];

96 
pBuf
[5] = 
ªmŸeInfo
.
°©e
;

97 
pBuf
[6] = 
ªmŸeInfo
.
ﬂmC⁄fig
;

98 
pBuf
[7] = ((*)(&
ªmŸeInfo
.
ﬂmPduC⁄fig
))[0];

99 
pBuf
[8] = ((*)(&
ªmŸeInfo
.
ﬂmPduC⁄fig
))[1];

100 
pBuf
[9] = 
ªmŸeInfo
.
oui
[0];

101 
pBuf
[10] = 
ªmŸeInfo
.
oui
[1];

102 
pBuf
[11] = 
ªmŸeInfo
.
oui
[2];

103 
pBuf
[12] = 
ªmŸeInfo
.
vídîS≥cInfo
[0];

104 
pBuf
[13] = 
ªmŸeInfo
.
vídîS≥cInfo
[1];

105 
pBuf
[14] = 
ªmŸeInfo
.
vídîS≥cInfo
[2];

106 
pBuf
[15] = 
ªmŸeInfo
.
vídîS≥cInfo
[3];

107 
pBuf
 +
EPON_INFO_OAMPDU_INFO_LEN
;

108 *
pPushedLí
 +
EPON_INFO_OAMPDU_INFO_LEN
;

112  
EPON_OAM_ERR_OK
;

113 
	}
}

115 
	$ï⁄_ﬂm_v¨Re•_gí
(

116 
v¨Ty≥
,

117 
ﬂm_v¨C⁄èöî_t
 *
pV¨C⁄èöî
,

118 *
pFømeBuf
)

120 
v¨Width
;

121 
ﬂm_v¨C⁄èöîRe•_t
 *
pV¨Re•
;

126 *
pFømeBuf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

127 
pFømeBuf
++;

128 *
pFømeBuf
 = ((*)(&
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
))[0];

129 *
pFømeBuf
 = ((*)(&
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
))[1];

130 
pFømeBuf
 += 2;

132 
pV¨Re•
 = 
pV¨C⁄èöî
->pVarResp;

133 
NULL
 !
pV¨Re•
)

135 *
pFømeBuf
 = 
pV¨Re•
->
v¨Width
;

136 
pFømeBuf
 ++;

137 
v¨Width
 = 
	`EPON_VAR_OAMPDU_WIDTH
(
pV¨Re•
->varWidth);

138 if(0 !
v¨Width
)

140 
	`mem˝y
(
pFømeBuf
, 
pV¨Re•
->
v¨D©a
, 
v¨Width
);

141 
pFømeBuf
 +
v¨Width
;

143 
pV¨Re•
 =ÖV¨Re•->
√xt
;

147 
v¨Ty≥
)

149 
EPON_OAM_VARTYPE_OBJECT
:

150 *
pFømeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_OBJEND
);

151 
pFømeBuf
 ++;

153 
EPON_OAM_VARTYPE_PACKAGE
:

154 *
pFømeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_PKGEND
);

155 
pFømeBuf
 ++;

157 
EPON_OAM_VARTYPE_ATTRIBUTE
:

158 
EPON_OAM_VARTYPE_OBJECTID
:

162 
	}
}

164 
	$ï⁄_ﬂm_v¨Re•Eº‹Lí_gí
(

165 
ﬂm_v¨C⁄èöî_t
 *
pV¨C⁄èöî
,

166 *
pFømeBuf
)

168 
v¨Width
;

169 
ﬂm_v¨C⁄èöîRe•_t
 *
pV¨Re•
;

174 *
pFømeBuf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

175 
pFømeBuf
++;

176 *
pFømeBuf
 = ((*)(&
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
))[0];

177 *
pFømeBuf
 = ((*)(&
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
))[1];

178 
pFømeBuf
 += 2;

180 *
pFømeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_LENGTH
);

181 
pFømeBuf
++;

182 
	}
}

184 
	$ï⁄_ﬂm_°dHdr_gí
(

185 
ŒidIdx
,

186 
code
,

187 *
pFømeBuf
)

189 c⁄° 
ﬂmD°Mac
[6] = {0x01, 0x80, 0xc2, 0x00, 0x00, 0x02};

190 
ﬂmPduFœg
;

191 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

195 
	`mem˝y
(
pFømeBuf
, 
ﬂmD°Mac
, (oamDstMac));

196 
pFømeBuf
 +(
ﬂmD°Mac
);

197 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

198 
	`mem˝y
(
pFømeBuf
, 
ﬂmC⁄fig
.
macAddr
, (oamConfig.macAddr));

199 
pFømeBuf
 +(
ﬂmC⁄fig
.
macAddr
);

201 *
pFømeBuf
 = 0x88;

202 
pFømeBuf
 ++;

203 *
pFømeBuf
 = 0x09;

204 
pFømeBuf
 ++;

206 *
pFømeBuf
 = 0x03;

207 
pFømeBuf
 ++;

209 
ﬂmPduFœg
 = 
	`ï⁄_ﬂm_ﬂmPduFœg_gë
(
ŒidIdx
);

210 *
pFømeBuf
 = ((*)(&
ﬂmPduFœg
))[0];

211 
pFømeBuf
 ++;

212 *
pFømeBuf
 = ((*)(&
ﬂmPduFœg
))[1];

213 
pFømeBuf
 ++;

215 *
pFømeBuf
 = 
code
;

216 
	}
}

218 
	$ï⁄_ﬂm_dyögGa•_gí
(

219 
ŒidIdx
,

220 *
pBuf
,

221 
bufLí
,

222 *
pPushedLí
)

224 c⁄° 
ﬂmD°Mac
[6] = {0x01, 0x80, 0xc2, 0x00, 0x00, 0x02};

225 
ﬂmPduFœg
;

226 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

227 *
pPå
;

228 
ªmaöLí
, 
pusdhedLí
;

230 
pPå
 = 
pBuf
;

231 
pusdhedLí
 = 0;

232 
ªmaöLí
 = 
bufLí
 - 1;

234 if(
bufLí
 >
EPON_OAMPDU_HDR_LENGTH
)

237 
	`mem˝y
(
pPå
, 
ﬂmD°Mac
, (oamDstMac));

238 
pPå
 +(
ﬂmD°Mac
);

239 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

240 
	`mem˝y
(
pPå
, 
ﬂmC⁄fig
.
macAddr
, (oamConfig.macAddr));

241 
pPå
 +(
ﬂmC⁄fig
.
macAddr
);

243 *
pPå
 = 0x88;

244 
pPå
 ++;

245 *
pPå
 = 0x09;

246 
pPå
 ++;

248 *
pPå
 = 0x03;

249 
pPå
 ++;

251 
ﬂmPduFœg
 = 
	`ï⁄_ﬂm_ﬂmPduFœg_gë
(
ŒidIdx
);

253 
ﬂmPduFœg
 |
EPON_OAM_FLAG_DYING_GASP
;

254 *
pPå
 = ((*)(&
ﬂmPduFœg
))[0];

255 
pPå
 ++;

256 *
pPå
 = ((*)(&
ﬂmPduFœg
))[1];

257 
pPå
 ++;

259 *
pPå
 = 
EPON_OAMPDU_CODE_INFO
;

260 
pPå
++;

261 
ªmaöLí
 -
EPON_OAMPDU_HDR_LENGTH
;

263 
	`ï⁄_ﬂm_°dInfo_gí
(
ŒidIdx
, 
pPå
, 
ªmaöLí
, &
pusdhedLí
);

264 
pPå
 +
pusdhedLí
;

265 
ªmaöLí
 -
pusdhedLí
;

267 *
pPå
 = 0x00;

268 
pPå
 ++;

269 
ªmaöLí
 --;

271 *
pPushedLí
 = 
pPå
 - 
pBuf
;

273  
EPON_OAM_ERR_OK
;

274 
	}
}

292 
	$ï⁄_ﬂm_‹gS≥cEvtNŸifiˇti⁄_£nd
(

293 
ŒidIdx
,

294 
ﬂm_evítOrgS≥c_t
 *
pEvít
)

296 
ªt
;

297 
tŸÆLí
, 
evítLí
;

298 *
pRïlyPå
, *
pCuº
;

299 
ﬂm_evítOrgS≥c_t
 *
pCuºEvít
;

302 if((
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
Ë|| (
NULL
 =
pEvít
))

304  
EPON_OAM_ERR_PARAM
;

313 
tŸÆLí
 = 
EPON_OAMPDU_HDR_LENGTH
 + 
EPON_EVENT_OAMPDU_SEQUENCE_LEN
;

314 
pCuºEvít
 = 
pEvít
;

315 
NULL
 !
pCuºEvít
)

317 
tŸÆLí
 +(
pCuºEvít
->
evítLí
 + 
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
);

318 
pCuºEvít
 =ÖCuºEvít->
pNext
;

321 
pRïlyPå
 = (*Ë
	`mÆloc
((Ë* 
tŸÆLí
);

322 if(
NULL
 =
pRïlyPå
)

324  
EPON_OAM_ERR_MEM
;

328 
	`ï⁄_ﬂm_°dHdr_gí
(
ŒidIdx
, 
EPON_OAMPDU_CODE_EVENT
, 
pRïlyPå
);

329 
pCuº
 = 
pRïlyPå
 + 
EPON_OAMPDU_HDR_LENGTH
;

332 
evítSeq
[
ŒidIdx
]++;

333 *
pCuº
 = ((*)(&
evítSeq
[
ŒidIdx
]))[0];

334 
pCuº
 ++;

335 *
pCuº
 = ((*)(&
evítSeq
[
ŒidIdx
]))[1];

336 
pCuº
 ++;

338 
pCuºEvít
 = 
pEvít
;

339 
NULL
 !
pCuºEvít
)

342 *
pCuº
 = 
EPON_EVENT_OAMPDU_TYPE_ORG_SPEC
;

343 
pCuº
 ++;

345 
evítLí
 = 
pCuºEvít
->evítLí + 
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
;

346 *
pCuº
 = ((*)(&
evítLí
))[0];

347 
pCuº
 ++;

348 *
pCuº
 = ((*)(&
evítLí
))[1];

349 
pCuº
 ++;

351 
	`mem˝y
(
pCuº
, 
pCuºEvít
->
oui
, 
EPON_OAM_OUI_LENGTH
);

352 
pCuº
 +
EPON_OAM_OUI_LENGTH
;

354 
	`mem˝y
(
pCuº
, 
pCuºEvít
->
evítD©a
,ÖCuºEvít->
evítLí
);

355 
pCuº
 +
pCuºEvít
->
evítLí
;

356 
pCuºEvít
 =ÖCuºEvít->
pNext
;

359 
ªt

	`±k_ªdúe˘_u£rAµ_£ndPkt
(

360 
pktRedúe˘_sock
,

361 
PR_KERNEL_UID_GMAC
,

363 
pCuº
 - 
pRïlyPå
,

364 
pRïlyPå
);

365 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

366 "[OAM:%s:%d] OAMPDU Tx (%d)\n", 
__FILE__
, 
__LINE__
, 
ªt
);

367 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pRïlyPå
, 
pCuº
 -ÖReplyPtr);

368 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

370 
	`ï⁄_ﬂm_cou¡î_öc
(
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

374 
	`‰ì
(
pRïlyPå
);

376  
EPON_OAM_ERR_OK
;

377 
	}
}

398 
	$ï⁄_ﬂm_ª∂y_£nd
(

399 
ŒidIdx
,

400 
code
,

401 *
pRïlyPaylﬂd
,

402 
ª∂yLí
)

404 
ªt
;

405 *
pRïlyPå
, *
pCuº
;

406 
tmp_Àn
 = 0;

409 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

411  
EPON_OAM_ERR_PARAM
;

413 if(
NULL
 =
pRïlyPaylﬂd
)

415  
EPON_OAM_ERR_PARAM
;

419 if(
ª∂yLí
 + 
EPON_OAMPDU_HDR_LENGTH
 < 60)

421 
tmp_Àn
 = 60 - (
ª∂yLí
 + 
EPON_OAMPDU_HDR_LENGTH
);

424 
pRïlyPå
 =

425 (*Ë
	`mÆloc
((Ë* 
ª∂yLí
 + 
EPON_OAMPDU_HDR_LENGTH
 + 
tmp_Àn
);

427 if(
NULL
 =
pRïlyPå
)

429  
EPON_OAM_ERR_MEM
;

433 
	`ï⁄_ﬂm_°dHdr_gí
(
ŒidIdx
, 
code
, 
pRïlyPå
);

434 
pCuº
 = 
pRïlyPå
 + 
EPON_OAMPDU_HDR_LENGTH
;

436 
	`mem˝y
(
pCuº
, 
pRïlyPaylﬂd
, 
ª∂yLí
);

437 
pCuº
 +
ª∂yLí
;

439 if(
tmp_Àn
 > 0)

441 
	`mem£t
(
pCuº
, 0, 
tmp_Àn
);

442 
pCuº
 +
tmp_Àn
;

446 
ªt

	`±k_ªdúe˘_u£rAµ_£ndPkt
(

447 
pktRedúe˘_sock
,

448 
PR_KERNEL_UID_GMAC
,

450 
pCuº
 - 
pRïlyPå
,

451 
pRïlyPå
);

452 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

453 "[OAM:%s:%d] OAMPDU Tx (%d)\n", 
__FILE__
, 
__LINE__
, 
ªt
);

454 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pRïlyPå
, 
pCuº
 -ÖReplyPtr);

455 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

457 
	`ï⁄_ﬂm_cou¡î_öc
(
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

459 
	`‰ì
(
pRïlyPå
);

461  
EPON_OAM_ERR_OK
;

462 
	}
}

481 
	$ï⁄_ﬂm_dyögGa•_£nd
(

482 
ŒidIdx
,

483 *
pPaylﬂd
,

484 
Àn
)

486 
ªt
;

487 *
pPå
, *
pCuº
;

490 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

492  
EPON_OAM_ERR_PARAM
;

494 if(
NULL
 =
pPaylﬂd
)

496  
EPON_OAM_ERR_PARAM
;

500 
Àn
 = (len>=60?len:60);

501 
pPå
 = (*Ë
	`mÆloc
((Ë* 
Àn
);

503 if(
NULL
 =
pPå
)

505  
EPON_OAM_ERR_MEM
;

508 
pCuº
 = 
pPå
;

512 
	`mem˝y
(
pCuº
, 
pPaylﬂd
, 
Àn
);

513 
pCuº
 +
Àn
;

515 
ªt

	`±k_ªdúe˘_u£rAµ_£ndPkt
(

516 
pktRedúe˘_sock
,

517 
PR_KERNEL_UID_EPONDYINGGASP
,

519 
pCuº
 - 
pPå
,

520 
pPå
);

521 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

522 "[OAM:%s:%d] OAMPDU Tx Dyög Ga• (%d)\n", 
__FILE__
, 
__LINE__
, 
ªt
);

523 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pPå
, 
pCuº
 -ÖPtr);

524 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

526 
	`ï⁄_ﬂm_cou¡î_öc
(
ŒidIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

528 
	`‰ì
(
pPå
);

530  
EPON_OAM_ERR_OK
;

531 
	}
}

	@src/user/ctc_oam.c

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<mÆloc.h
>

29 
	~"ï⁄_ﬂm_c⁄fig.h
"

30 
	~"ï⁄_ﬂm_îr.h
"

31 
	~"ï⁄_ﬂm_db.h
"

32 
	~"ï⁄_ﬂm_dbg.h
"

33 
	~"ï⁄_ﬂm_rx.h
"

35 
	~"˘c_ﬂm.h
"

36 
	~"˘c_ﬂm_v¨.h
"

38 
	~"˘c_ﬂm_v¨tbl.c
"

39 
	~"ﬂm.h
"

40 
	~"ùc_˛õ¡.h
"

41 
	~"lw_if_pub.h
"

42 
	~<lw_c⁄fig_≠i.h
>

43 
	~<lw_c⁄fig_oid.h
>

44 
	~"˘c_ﬂm_upgøde.h
"

52 
cuºCtcVî_webDis
;

54 c⁄° 
˘c_öfoOamVî_t
 
	gsuµ‹ãdVîLi°
[] =

62 #i‡
CTC_OAM_SUPPORT_VERSION_01


68 #i‡
CTC_OAM_SUPPORT_VERSION_13


74 #i‡
CTC_OAM_SUPPORT_VERSION_20


80 #i‡
CTC_OAM_SUPPORT_VERSION_21


86 #i‡
CTC_OAM_SUPPORT_VERSION_30


93 
˘c_öfoOamVî_t
 
	gcuºCtcVî
[
EPON_OAM_SUPPORT_LLID_NUM
];

94 
˘c_⁄uAuthLoid_t
 
	gloidDb
[
EPON_OAM_SUPPORT_LLID_NUM
];

95 
	g˘c_⁄uAuth_°©e
[
EPON_OAM_SUPPORT_LLID_NUM
];

96 
	g˘c_⁄uAuth_ÁûTy≥
[
EPON_OAM_SUPPORT_LLID_NUM
];

97 
	g˘c_discovîy_°©e
[
EPON_OAM_SUPPORT_LLID_NUM
];

98 
	g˘c_‹g•ec_a˘i⁄_Êag
;

100 
ﬂm_ö°™˚_év_t_2_0
 
	gp‹t_ö°™˚_2_0
;

102 
	g˘cExtInfoCheck
 = 0;

103 
	g˘cExtInfoC¡
 = 0;

113 
	$dump_˘c_öfoOam
(

114 
˘c_öfoOam_t
 *
pInfoOam
)

116 
˘c_öfoOamVîRec_t
 *
pIãm
;

118 if(
NULL
 !
pInfoOam
)

120 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

122 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

123 "Ty≥ : 0x%02x\n", 
pInfoOam
->
ty≥
);

124 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

125 "Lígth : %u\n", 
pInfoOam
->
Àngth
);

126 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

127 "OUI : %02x:%02x:%02x\n", 
pInfoOam
->
oui
[0],ÖInfoOam->oui[1],ÖInfoOam->oui[2]);

128 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

129 "ExtSuµ‹t: 0x%02x\n", 
pInfoOam
->
extSuµ‹t
);

130 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

131 "Vîsi⁄ : 0x%02x\n", 
pInfoOam
->
vîsi⁄
);

133 
pIãm
 = 
pInfoOam
->
vîti⁄Li°
;

134 
NULL
 !
pIãm
)

136 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

137 " OUI : %02x:%02x:%02x\n", 
pIãm
->
oui
[0],ÖItem->oui[1],ÖItem->oui[2]);

138 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

139 " Vîsi⁄: 0x%02x\n", 
pIãm
->
vîsi⁄
);

140 
pIãm
 =ÖIãm->
√xt
;

143 
	}
}

145 
	$˘c_ﬂm_⁄uAuthLoid_£t
(
ŒidIdx
, 
˘c_⁄uAuthLoid_t
 *
pLoidAuth
)

148 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

150  
EPON_OAM_ERR_PARAM
;

152 if(
NULL
 =
pLoidAuth
)

154  
EPON_OAM_ERR_PARAM
;

157 
loidDb
[
ŒidIdx
] = *
pLoidAuth
;

159  
EPON_OAM_ERR_OK
;

160 
	}
}

162 
	$˘c_ﬂm_⁄uAuthLoid_gë
(
ŒidIdx
, 
˘c_⁄uAuthLoid_t
 *
pLoidAuth
)

165 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

167  
EPON_OAM_ERR_PARAM
;

169 if(
NULL
 =
pLoidAuth
)

171  
EPON_OAM_ERR_PARAM
;

174 *
pLoidAuth
 = 
loidDb
[
ŒidIdx
];

176  
EPON_OAM_ERR_OK
;

177 
	}
}

179 
	$˘c_ﬂm_⁄uAuthSèã_£t
(

180 
ŒidIdx
,

181 
°©e
,

182 
ÁûTy≥
)

185 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

187  
EPON_OAM_ERR_PARAM
;

189 if(
CTC_OAM_ONUAUTH_STATE_END
 <
°©e
)

191  
EPON_OAM_ERR_PARAM
;

194 
˘c_⁄uAuth_°©e
[
ŒidIdx
] = 
°©e
;

195 
˘c_⁄uAuth_ÁûTy≥
[
ŒidIdx
] = 
ÁûTy≥
;

197  
EPON_OAM_ERR_OK
;

198 
	}
}

200 
	$˘c_ﬂm_⁄uAuthSèã_gë
(

201 
ŒidIdx
,

202 *
pSèã
,

203 *
pFaûTy≥
)

206 if(
ŒidIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

208  
EPON_OAM_ERR_PARAM
;

210 if(
NULL
 =
pSèã
)

212  
EPON_OAM_ERR_PARAM
;

215 *
pSèã
 = 
˘c_⁄uAuth_°©e
[
ŒidIdx
];

216 if(
NULL
 !
pFaûTy≥
)

218 *
pFaûTy≥
 = 
˘c_⁄uAuth_ÁûTy≥
[
ŒidIdx
];

221  
EPON_OAM_ERR_OK
;

222 
	}
}

224 
	$˘c_ﬂm_vîLi°Iãm_Æloc
(

225 
oui
[3],

226 
vî
,

227 
˘c_öfoOamVîRec_t
 **
µVîLi°Iãm
)

229 
˘c_öfoOamVîRec_t
 *
pIãm
;

230 
pIãm
 = (
˘c_öfoOamVîRec_t
 *Ë
	`mÆloc
((ctc_infoOamVerRec_t));

232 if(
NULL
 !
pIãm
)

234 
	`mem˝y
(
pIãm
->
oui
, oui, 3);

235 
pIãm
->
vîsi⁄
 = 
vî
;

236 
pIãm
->
√xt
 = 
NULL
;

237 *
µVîLi°Iãm
 = 
pIãm
;

241 *
µVîLi°Iãm
 = 
NULL
;

243 
	}
}

245 
	$˘c_ﬂm_vîLi°Iãm_‰ì
(

246 
˘c_öfoOamVîRec_t
 **
µVîLi°Hód
)

248 
˘c_öfoOamVîRec_t
 *
pVîLi°
, *
pVîLi°Next
;

250 
pVîLi°
 = *
µVîLi°Hód
;

251 
NULL
 !
pVîLi°
)

253 
pVîLi°Next
 = 
pVîLi°
->
√xt
;

254 
	`‰ì
(
pVîLi°
);

255 
pVîLi°
 = 
pVîLi°Next
;

257 *
µVîLi°Hód
 = 
NULL
;

258 
	}
}

260 
	$˘c_ﬂm_Info_gí
(

261 
ex≥˘Lí
,

262 
extSuµ‹t
,

263 
vîsi⁄
,

264 
˘c_öfoOam_t
 *
pRemŸeInfoOam
,

265 
gíInfoLi°
,

266 *
pBuf
)

269 
i
;

270 *
pBufPå
 = 
pBuf
;

272 
pBufPå
[0] = 
EPON_INFO_OAMPDU_TYPE_ORG_SPEC
;

273 
pBufPå
[1] = 
ex≥˘Lí
;

274 
pBufPå
[2] = 
pRemŸeInfoOam
->
oui
[0];

275 
pBufPå
[3] = 
pRemŸeInfoOam
->
oui
[1];

276 
pBufPå
[4] = 
pRemŸeInfoOam
->
oui
[2];

277 
pBufPå
[5] = 
extSuµ‹t
;

278 
pBufPå
[6] = 
vîsi⁄
;

279 
pBufPå
 +
CTC_INFO_OAM_MIN
;

280 if(0 !
gíInfoLi°
)

282 
i
 = 0;ò< (
suµ‹ãdVîLi°
)/(
˘c_öfoOamVî_t
);i++)

284 
pBufPå
[0] = 
suµ‹ãdVîLi°
[
i
].
oui
[0];

285 
pBufPå
[1] = 
suµ‹ãdVîLi°
[
i
].
oui
[1];

286 
pBufPå
[2] = 
suµ‹ãdVîLi°
[
i
].
oui
[2];

287 
pBufPå
[3] = 
suµ‹ãdVîLi°
[
i
].
vîsi⁄
;

288 
pBufPå
 +
CTC_INFO_OAM_VERITEM_LEN
;

291 
	}
}

293 
	$˘c_ﬂm_‹gS≥cHdr_gí
(

294 
oui
[],

295 
extOpcode
,

296 *
pRïlyBuf
,

297 *
pRïlyLí
)

301 
pRïlyBuf
[0] = 
oui
[0];

302 
pRïlyBuf
[1] = 
oui
[1];

303 
pRïlyBuf
[2] = 
oui
[2];

304 
pRïlyBuf
[3] = 
extOpcode
;

306 *
pRïlyLí
 = 
CTC_ORGSPEC_HDR_LEN
;

307 
	}
}

309 
	$˘c_ﬂm_‹gS≥cV¨In°™t_gí
(

310 
˘c_v¨In°™t_t
 *
pIn°™t
,

311 *
pRïlyBuf
,

312 *
pRïlyLí
)

315 *
pPå
;

317 
pPå
 = 
pRïlyBuf
;

318 *
pPå
 = 
pIn°™t
->
v¨Desc
.
v¨Bønch
;

319 
pPå
 += 1;

320 
pPå
[0] = ((*)(&
pIn°™t
->
v¨Desc
.
v¨Lóf
))[0];

321 
pPå
[1] = ((*)(&
pIn°™t
->
v¨Desc
.
v¨Lóf
))[1];

322 
pPå
 += 2;

323 *
pPå
 = 
pIn°™t
->
v¨Width
;

324 
pPå
 += 1;

327 if(
pIn°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

342 if((
pIn°™t
->
v¨D©a
[0] =0xFFË&& (
˘c_‹g•ec_a˘i⁄_Êag
 == 0))

343 
pPå
[0] = 0x01;

345 
	`mem˝y
(
pPå
, 
pIn°™t
->
v¨D©a
, (Ë*ÖIn°™t->
v¨Width
);

347 if(
pIn°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

371 if(((
pIn°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 == 0xFF) || (pInstant->parse.uniPort.portNo == 0xFFFF))

372 && (
˘c_‹g•ec_a˘i⁄_Êag
 == 0))

374 
pPå
[0] = 
pIn°™t
->
∑r£
.
uniP‹t
.
p‹tTy≥
;

375 
pPå
[1] = 
pIn°™t
->
∑r£
.
uniP‹t
.
chassisNo
;

376 
pPå
[2] = 0x00;

377 
pPå
[3] = 0x01;

381 if(((
pIn°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 == 0xFF) || (pInstant->parse.uniPort.portNo == 0xFFFF))

382 && (
˘c_‹g•ec_a˘i⁄_Êag
 == 1))

384 
pPå
[0] = 
pIn°™t
->
∑r£
.
uniP‹t
.
p‹tTy≥
;

385 
pPå
[1] = 
pIn°™t
->
∑r£
.
uniP‹t
.
chassisNo
;

386 
pPå
[2] = 0xFF;

387 
pPå
[3] = 0xFF;

391 
	`mem˝y
(
pPå
, 
pIn°™t
->
v¨D©a
, (Ë*ÖIn°™t->
v¨Width
);

395 
pPå
 +(Ë* 
pIn°™t
->
v¨Width
;

397 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

398 
	}
}

400 
	$˘c_ﬂm_‹gS≥cV¨C⁄èöî_gí
(

401 
˘c_v¨C⁄èöî_t
 *
pC⁄èöî
,

402 *
pV¨C⁄èöî_TŸÆ_Lí
,

403 *
pRïlyBuf
,

404 *
pRïlyLí
)

407 *
pPå
;

408 
ªmaöLí
;

410 
pPå
 = 
pRïlyBuf
;

411 *
pPå
 = 
pC⁄èöî
->
v¨Desc
.
v¨Bønch
;

412 
pPå
 += 1;

413 
pPå
[0] = ((*)(&
pC⁄èöî
->
v¨Desc
.
v¨Lóf
))[0];

414 
pPå
[1] = ((*)(&
pC⁄èöî
->
v¨Desc
.
v¨Lóf
))[1];

415 
pPå
 += 2;

416 if(
CTC_VAR_CONTAINER_INDICATOR
 & 
pC⁄èöî
->
v¨Width
)

418 *
pPå
 = 
pC⁄èöî
->
v¨Width
 & 0x00ff;

419 
pPå
 += 1;

425 *
pPå
 = 
pC⁄èöî
->
v¨Width
;

426 
pPå
 += 1;

428 if(*
pV¨C⁄èöî_TŸÆ_Lí
 > 
pC⁄èöî
->
v¨Width
)

430 
	`mem˝y
(
pPå
, 
pC⁄èöî
->
pV¨D©a
, *
pV¨C⁄èöî_TŸÆ_Lí
);

431 
pPå
 +*
pV¨C⁄èöî_TŸÆ_Lí
;

435 
	`mem˝y
(
pPå
, 
pC⁄èöî
->
pV¨D©a
, (Ë*ÖC⁄èöî->
v¨Width
);

436 
pPå
 +(Ë* 
pC⁄èöî
->
v¨Width
;

441 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

442 
	}
}

445 
	$˘c_ﬂm_‹gS≥cOnuAuthLoid_gí
(

446 
˘c_⁄uAuthLoid_t
 *
pAuthLoid
,

447 *
pRïlyBuf
,

448 *
pRïlyLí
)

451 *
pPå
;

452 
d©aLí
;

453 
Àngth
;

454 
sys_ï⁄_t
 
ï⁄_öfo
;

456 
ùc_fd
;

457 
	`ﬂm_ùc_gë_sys_ï⁄
(
sys_ï⁄_t
 *
öfo
);

459 
pPå
 = 
pRïlyBuf
;

460 
	`ﬂm_ùc_gë_sys_ï⁄
(&
ï⁄_öfo
);

462 
Àngth
 = 
CTC_ORGSPEC_ONUAUTH_RESP_LOID_LEN
;

463 *
pPå
 = 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
;

464 
pPå
 += 1;

465 
pPå
[0] = ((*Ë&
Àngth
)[0];

466 
pPå
[1] = ((*Ë&
Àngth
)[1];

467 
pPå
 += 2;

468 *
pPå
 = 
CTC_ORGSPEC_ONUAUTH_LOID
;

469 
pPå
 += 1;

475 
d©aLí
 = 
	`°æí
(
ï⁄_öfo
.
ï⁄_loid
);

476 
d©aLí
 = (d©aLí <
CTC_ORGSPEC_ONUAUTH_LOID_LEN
) ? dataLen : CTC_ORGSPEC_ONUAUTH_LOID_LEN;

477 
	`mem£t
(
pPå
, 0, 
CTC_ORGSPEC_ONUAUTH_LOID_LEN
);

479 
	`mem˝y
(
pPå
 + (
CTC_ORGSPEC_ONUAUTH_LOID_LEN
 - 
d©aLí
), 
ï⁄_öfo
.
ï⁄_loid
, dataLen);

480 
pPå
 +
CTC_ORGSPEC_ONUAUTH_LOID_LEN
;

483 
d©aLí
 = 
	`°æí
(
ï⁄_öfo
.
ï⁄_∑sswd
);

484 
d©aLí
 = (d©aLí <
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
) ? dataLen : CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN;

485 
	`mem£t
(
pPå
, 0, 
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
);

488 
	`mem˝y
(
pPå
 + (
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
 - 
d©aLí
), 
ï⁄_öfo
.
ï⁄_∑sswd
, dataLen);

490 
pPå
 +
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
;

492 *(++
pPå
) = 0;

493 *(++
pPå
) = 0;

494 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

495 
	}
}

497 
	$˘c_ﬂm_‹gS≥cOnuAuthNak_gí
(

498 
desúeTy≥
,

499 *
pRïlyBuf
,

500 *
pRïlyLí
)

503 *
pPå
;

504 
Àngth
;

506 
pPå
 = 
pRïlyBuf
;

507 
Àngth
 = 
CTC_ORGSPEC_ONUAUTH_RESP_NAK_LEN
;

508 *
pPå
 = 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
;

509 
pPå
 += 1;

510 
pPå
[0] = ((*Ë&
Àngth
)[0];

511 
pPå
[1] = ((*Ë&
Àngth
)[1];

512 
pPå
 += 2;

513 *
pPå
 = 
CTC_ORGSPEC_ONUAUTH_NAK
;

514 
pPå
 += 1;

515 *
pPå
 = 
desúeTy≥
;

516 
pPå
 += 1;

518 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

519 
	}
}

521 
	$˘c_ﬂm_‹gS≥cChu∫ög_gí
(

522 
˘c_chu∫ög_t
 *
pChu∫ög
,

523 *
pRïlyBuf
,

524 *
pRïlyLí
)

527 *
pPå
;

529 
pPå
 = 
pRïlyBuf
;

530 *
pPå
 = 
pChu∫ög
->
chu∫ögCode
;

531 
pPå
 += 1;

532 *
pPå
 = 
pChu∫ög
->
keyIdx
;

533 
pPå
 += 1;

534 if(
CTC_ORGSPEC_CHURNING_NEWKEY
 =
pChu∫ög
->
chu∫ögCode
)

536 
	`mem˝y
(
pPå
, 
pChu∫ög
->
chu∫ögKey
, 
CTC_ORGSPEC_CHURNING_KEY_LEN
);

537 
pPå
 +
CTC_ORGSPEC_CHURNING_KEY_LEN
;

540 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

541 
	}
}

543 
	$˘c_ﬂm_‹gS≥cDba_ˇlc
(

544 
dbaCode
,

545 
˘c_dbaThªshﬁd_t
 *
pDbaThªshﬁd
)

547 
i
, 
j
;

548 
ex≥˘Lí
 = 0;

550 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_HDR_LEN
;

551 
dbaCode
)

553 
CTC_ORGSPEC_DBA_GET_REQ
:

556 
CTC_ORGSPEC_DBA_SET_RESP
:

558 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_SETACK_LEN
;

559 
CTC_ORGSPEC_DBA_GET_RESP
:

560 
CTC_ORGSPEC_DBA_SET_REQ
:

561 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_REPORTHDR_LEN
;

562 
i
 = 0;ò< 
pDbaThªshﬁd
->
numQSë
;i++)

564 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_REPORTMAP_LEN
;

565 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

567 if(
pDbaThªshﬁd
->
ªp‹tM≠
[
i
] & (1 << 
j
))

569 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

576  
ex≥˘Lí
;

577 
	}
}

579 
	$˘c_ﬂm_‹gS≥cDba_gí
(

580 
dbaCode
,

581 
˘c_dbaThªshﬁd_t
 *
pDbaThªshﬁd
,

582 
dbaSëAck
,

584 *
pRïlyBuf
,

585 *
pRïlyLí
)

588 
i
, 
j
;

589 *
pPå
;

591 
pPå
 = 
pRïlyBuf
;

592 *
pPå
 = 
dbaCode
;

593 
pPå
 += 1;

595 
dbaCode
)

597 
CTC_ORGSPEC_DBA_GET_REQ
:

600 
CTC_ORGSPEC_DBA_SET_RESP
:

602 *
pPå
 = 
dbaSëAck
 & 0x01;

603 
pPå
 += 1;

604 
CTC_ORGSPEC_DBA_GET_RESP
:

605 
CTC_ORGSPEC_DBA_SET_REQ
:

607 *
pPå
 = 
pDbaThªshﬁd
->
numQSë
 + 1;

608 
pPå
 += 1;

609 
i
 = 0;ò< 
pDbaThªshﬁd
->
numQSë
;i++)

611 *
pPå
 = 
pDbaThªshﬁd
->
ªp‹tM≠
[
i
];

612 
pPå
 += 1;

613 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

615 if(
pDbaThªshﬁd
->
ªp‹tM≠
[
i
] & (1 << 
j
))

617 
pPå
[0] = ((*)(&
pDbaThªshﬁd
->
queueSë
[
i
].
queueThªshﬁd
[
j
]))[0];

618 
pPå
[1] = ((*)(&
pDbaThªshﬁd
->
queueSë
[
i
].
queueThªshﬁd
[
j
]))[1];

619 
pPå
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

625 *
pRïlyLí
 = 
pPå
 - 
pRïlyBuf
;

626 
	}
}

628 
	$˘c_ﬂm_vîsi⁄_suµ‹t
(

629 
oui
[3],

630 
vîsi⁄
)

632 
i
;

633 
i
 = 0;ò< (
suµ‹ãdVîLi°
)/(
˘c_öfoOamVî_t
);i++)

635 if((
suµ‹ãdVîLi°
[
i
].
oui
[0] == oui[0]) &&

636 (
suµ‹ãdVîLi°
[
i
].
oui
[1] == oui[1]) &&

637 (
suµ‹ãdVîLi°
[
i
].
oui
[2] == oui[2]) &&

638 (
suµ‹ãdVîLi°
[
i
].
vîsi⁄
 == version))

644 
	}
}

646 
	$˘c_ﬂm_‹gSïcV¨Cb_gë
(

647 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

648 
˘c_v¨Cb_t
 *
pV¨Cb
)

650 
˘c_v¨Cb_t
 *
pV¨CbDb
;

652 if(
NULL
 =
pV¨Cb
)

654  
EPON_OAM_ERR_PARAM
;

658 
v¨Desc
.
v¨Bønch
)

660 
CTC_VAR_REQBRANCH_STDATTR
:

661 
pV¨CbDb
 = 
˘c_°dAârCb
;

663 
CTC_VAR_REQBRANCH_STDACT
:

664 
pV¨CbDb
 = 
˘c_°dA˘Cb
;

666 
CTC_VAR_REQBRANCH_EXTATTR
:

667 
pV¨CbDb
 = 
˘c_extAârCb
;

669 
CTC_VAR_REQBRANCH_EXTACT
:

670 
pV¨CbDb
 = 
˘c_extA˘Cb
;

673  
EPON_OAM_ERR_NOT_FOUND
;

676 0 !
pV¨CbDb
->
v¨Desc
.
v¨Bønch
)

678 if(
pV¨CbDb
->
v¨Desc
.
v¨Lóf
 == varDesc.varLeaf)

680 *
pV¨Cb
 = *
pV¨CbDb
;

681  
EPON_OAM_ERR_OK
;

684 
pV¨CbDb
 =ÖVarCbDb + 1;

687  
EPON_OAM_ERR_NOT_FOUND
;

688 
	}
}

690 
	$˘c_ﬂm_chu∫ögKey_ønd
(

691 
key
[])

693 
key
[0] = 
	`ønd
() % 0x100;

694 
key
[1] = 
	`ønd
() % 0x100;

695 
key
[2] = 
	`ønd
() % 0x100;

696 
	}
}

698 
	$˘c_ﬂm_‹gS≥cDbaTheshﬁd_∑r£
(

699 *
pFøme
,

700 
Àngth
,

701 *
pP¨£Lí
,

702 
˘c_dbaThªshﬁd_t
 *
pDbaThªshﬁd
)

704 
i
, 
j
;

705 *
pPå
;

706 
ex≥˘Lí
;

708 *
pP¨£Lí
 = 0;

709 if(
Àngth
 < 
CTC_ORGSPEC_DBA_REPORTHDR_LEN
)

712  
EPON_OAM_ERR_OK
;

715 
pPå
 = 
pFøme
;

716 
pDbaThªshﬁd
->
numQSë
 = *
pPå
;

723 if((
pDbaThªshﬁd
->
numQSë
 < 
CTC_ORGSPEC_DBA_QUEUESET_MIN
 + 1) ||

724 (
pDbaThªshﬁd
->
numQSë
 > 
CTC_ORGSPEC_DBA_QUEUESET_MAX
 + 1))

727  
EPON_OAM_ERR_OK
;

729 
pDbaThªshﬁd
->
numQSë
 -= 1;

730 
	`CTC_BUF_ADD
(
pPå
, 
Àngth
, 
CTC_ORGSPEC_DBA_REPORTHDR_LEN
);

732 
i
 = 0;ò< 
pDbaThªshﬁd
->
numQSë
;i++)

734 if(
Àngth
 < 
CTC_ORGSPEC_DBA_REPORTMAP_LEN
)

737  
EPON_OAM_ERR_OK
;

739 
pDbaThªshﬁd
->
ªp‹tM≠
[
i
] = *
pPå
;

740 
	`CTC_BUF_ADD
(
pPå
, 
Àngth
, 
CTC_ORGSPEC_DBA_REPORTMAP_LEN
);

743 
ex≥˘Lí
 = 0;

744 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

746 if(
pDbaThªshﬁd
->
ªp‹tM≠
[
i
] & (1 << 
j
))

748 
ex≥˘Lí
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

751 if((
Àngth
 < 
ex≥˘Lí
) || (expectLen == 0))

756  
EPON_OAM_ERR_OK
;

759 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

761 if(
pDbaThªshﬁd
->
ªp‹tM≠
[
i
] & (1 << 
j
))

763 ((*)(&
pDbaThªshﬁd
->
queueSë
[
i
].
queueThªshﬁd
[
j
]))[0] = 
pPå
[0];

764 ((*)(&
pDbaThªshﬁd
->
queueSë
[
i
].
queueThªshﬁd
[
j
]))[1] = 
pPå
[1];

765 
	`CTC_BUF_ADD
(
pPå
, 
Àngth
, 
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
);

769 *
pP¨£Lí
 = 
pPå
 - 
pFøme
;

771  
EPON_OAM_ERR_OK
;

772 
	}
}

773 #i‡
CTC_OAM_SUPPORT_BENEATH_20


775 
	$˘c_ﬂm_‹gS≥cV¨_ªq20
(

776 
ŒidIdx
,

777 *
pFøme
,

778 
Àngth
,

779 *
pRïlyBuf
,

780 
bufLí
,

781 *
pRïlyLí
)

783 
ªt
;

784 *
pProcPå
, *
pRïlyPå
;

785 
gíLí
;

786 
˘c_v¨Cb_t
 
v¨Cb
;

787 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
;

788 
˘c_v¨In°™t_t
 *
pV¨In°™t
 = 
NULL
, 
v¨In°™t
;

789 
˘c_v¨C⁄èöî_t
 
v¨C⁄èöî
;

790 
ªmaöLí
;

791 
v¨C⁄èöî_TŸÆ_Lí
 = 0;

796 
pProcPå
 = 
pFøme
;

797 
pRïlyPå
 = 
pRïlyBuf
;

798 
ªmaöLí
 = 
Àngth
;

799 *
pRïlyLí
 = 0;

801 
ªmaöLí
 >
CTC_ORGSPEC_VARDESC_LEN
)

803 
v¨Desc
.
v¨Bønch
 = *
pProcPå
;

804 
	`mem˝y
(&
v¨Desc
.
v¨Lóf
, &
pProcPå
[1], ());

805 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_VARDESC_LEN
);

806 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bønch = 0x%02x Lóf=0x%04x\n", 
__FILE__
, 
__LINE__
, 
v¨Desc
.
v¨Bønch
, v¨Desc.
v¨Lóf
);

808 
v¨Desc
.
v¨Bønch
)

810 
CTC_VAR_REQBRANCH_INSTANT20
:

812 if((
ªmaöLí
 < 
CTC_ORGSPEC_VARINSTANT_LEN20
) &&

813 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

816 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

817  
EPON_OAM_ERR_OK
;

819 
v¨In°™t
.
v¨Desc
 = varDesc;

820 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

821 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 1);

822 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

823 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

825 
pV¨In°™t
 = &
v¨In°™t
;

827 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

828 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

830 
p‹t_ö°™˚_2_0
.
bønch
 = 
v¨In°™t
.
v¨Desc
.
v¨Bønch
;

831 
p‹t_ö°™˚_2_0
.
Àaf
 = 
v¨In°™t
.
v¨Desc
.
v¨Lóf
;

832 
p‹t_ö°™˚_2_0
.
width
 = 
v¨In°™t
.
v¨Width
;

833 
p‹t_ö°™˚_2_0
.
vÆue
 = 
v¨In°™t
.
v¨D©a
[0];

835 
CTC_VAR_REQBRANCH_STDATTR
:

836 
CTC_VAR_REQBRANCH_EXTATTR
:

837 
CTC_VAR_REQBRANCH_STDACT
:

838 
CTC_VAR_REQBRANCH_EXTACT
:

839 
ªt
 = 
	`˘c_ﬂm_‹gSïcV¨Cb_gë
(
v¨Desc
, &
v¨Cb
);

840 if((
EPON_OAM_ERR_OK
 !
ªt
) ||

841 (
NULL
 =
v¨Cb
.
h™dÀr_gë
) ||

842 (0 =(
v¨Cb
.
›
 & 
CTC_VAR_OP_GET
)))

845 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

849 
u8_t
** 
µ_byã
;

850 
pProcPå
 -
CTC_ORGSPEC_VARDESC_LEN
;

851 
µ_byã
 = &
pProcPå
;

852 
	`e›l_zã_˘c_gë_ªq
(
v¨Desc
.
v¨Lóf
, 
µ_byã
, 
pRïlyBuf
, &
gíLí
);

853 
pRïlyBuf
 +
gíLí
;

854 *
pRïlyLí
 +
gíLí
;

856  
EPON_OAM_ERR_OK
;

862 
v¨C⁄èöî
.
pV¨D©a
 = 
NULL
;

863 
ªt
 = 
v¨Cb
.
	`h™dÀr_gë
(
ŒidIdx
, 
CTC_VAR_OP_GET
, 
pV¨In°™t
, 
v¨Desc
, &
v¨C⁄èöî_TŸÆ_Lí
, &
v¨C⁄èöî
);

864 if(
EPON_OAM_ERR_OK
 =
ªt
)

866 if(
bufLí
 >(
CTC_ORGSPEC_VARDESC_LEN
 + 
v¨C⁄èöî
.
v¨Width
 + 1 ))

868 
gíLí
 = 0;

869 
	`˘c_ﬂm_‹gS≥cV¨C⁄èöî_gí
(

870 &
v¨C⁄èöî
,

871 &
v¨C⁄èöî_TŸÆ_Lí
,

872 
pRïlyPå
,

873 &
gíLí
);

874 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

878 if(
NULL
 !
v¨C⁄èöî
.
pV¨D©a
)

880 
	`‰ì
(
v¨C⁄èöî
.
pV¨D©a
);

883 
CTC_VAR_REQBRANCH_END
:

884 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

885  
EPON_OAM_ERR_OK
;

890 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

892  
EPON_OAM_ERR_OK
;

893 
	}
}

896 
	$˘c_ﬂm_‹gS≥cSë_ªq20
(

897 
ŒidIdx
,

898 *
pFøme
,

899 
Àngth
,

900 *
pRïlyBuf
,

901 
bufLí
,

902 *
pRïlyLí
)

904 
ªt
;

905 
extFœg
;

906 *
pProcPå
, *
pRïlyPå
;

907 
gíLí
;

908 
˘c_v¨Cb_t
 
v¨Cb
;

909 
˘c_v¨In°™t_t
 *
pV¨In°™t
 = 
NULL
, 
v¨In°™t
;

910 
˘c_v¨C⁄èöî_t
 
v¨C⁄èöî
;

911 
ªmaöLí
;

912 
v¨C⁄èöî_TŸÆ_Lí
 = 0;

917 
pProcPå
 = 
pFøme
;

918 
pRïlyPå
 = 
pRïlyBuf
;

919 
ªmaöLí
 = 
Àngth
;

920 *
pRïlyLí
 = 0;

922 
ªmaöLí
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

924 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
 = *
pProcPå
;

925 
	`mem˝y
(&
v¨C⁄èöî
.
v¨Desc
.
v¨Lóf
, &
pProcPå
[1], ());

926 
v¨C⁄èöî
.
v¨Width
 = 
pProcPå
[3];

928 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_VARCONTAINER_MIN
);

929 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bønch = 0x%02x Lóf=0x%04x, Width=%d\n", 
__FILE__
, 
__LINE__
, 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
, v¨C⁄èöî.v¨Desc.
v¨Lóf
, v¨C⁄èöî.
v¨Width
);

931 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
)

933 
CTC_VAR_REQBRANCH_INSTANT20
:

935 if((
ªmaöLí
 < 
v¨C⁄èöî
.
v¨Width
) &&

936 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

939 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

940  
EPON_OAM_ERR_OK
;

942 
v¨In°™t
.
v¨Desc
 = 
v¨C⁄èöî
.varDesc;

943 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

944 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

945 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

947 
pV¨In°™t
 = &
v¨In°™t
;

949 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

950 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

951 
p‹t_ö°™˚_2_0
.
bønch
 = 
v¨In°™t
.
v¨Desc
.
v¨Bønch
;

952 
p‹t_ö°™˚_2_0
.
Àaf
 = 
v¨In°™t
.
v¨Desc
.
v¨Lóf
;

953 
p‹t_ö°™˚_2_0
.
width

v¨In°™t
.
v¨Width
;

954 
p‹t_ö°™˚_2_0
.
vÆue

v¨In°™t
.
v¨D©a
[0];

956 
CTC_VAR_REQBRANCH_STDATTR
:

957 
CTC_VAR_REQBRANCH_EXTATTR
:

958 
CTC_VAR_REQBRANCH_STDACT
:

959 
CTC_VAR_REQBRANCH_EXTACT
:

960 if(
ªmaöLí
 < 
v¨C⁄èöî
.
v¨Width
)

965 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

966  
EPON_OAM_ERR_OK
;

969 
ªt
 = 
	`˘c_ﬂm_‹gSïcV¨Cb_gë
(
v¨C⁄èöî
.
v¨Desc
, &
v¨Cb
);

970 if((
EPON_OAM_ERR_OK
 !
ªt
) ||

971 (
NULL
 =
v¨Cb
.
h™dÀr_£t
) ||

972 (0 =(
v¨Cb
.
›
 & 
CTC_VAR_OP_SET
)))

977 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

979 
u8_t
** 
µ_byã
;

980 
pProcPå
 -
CTC_ORGSPEC_VARCONTAINER_MIN
;

981 
µ_byã
 = &
pProcPå
;

982 
	`e›l_zã_˘c_£t_ªq
(
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, 
µ_byã
, 
pRïlyPå
, &
gíLí
);

983 *
pRïlyLí
 +
gíLí
 + (
pRïlyPå
 - 
pRïlyBuf
);

984  
EPON_OAM_ERR_OK
;

986 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
v¨C⁄èöî
.
v¨Width
);

991 if(0 !
v¨C⁄èöî
.
v¨Width
)

993 
v¨C⁄èöî
.
pV¨D©a
 = (*Ë
	`mÆloc
(v¨C⁄èöî.
v¨Width
);

994 if(
NULL
 =
v¨C⁄èöî
.
pV¨D©a
)

996  
EPON_OAM_ERR_MEM
;

998 
	`mem˝y
(
v¨C⁄èöî
.
pV¨D©a
, 
pProcPå
, v¨C⁄èöî.
v¨Width
);

999 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
v¨C⁄èöî
.
v¨Width
);

1003 
v¨C⁄èöî
.
pV¨D©a
 = 
NULL
;

1006 
	`ï⁄_ﬂm_dbgExt_gë
(&
extFœg
);

1007 if(
extFœg
 & 
EPON_OAM_DBGEXT_CTC_VARSET
)

1010 
ªt
 = 
	`˘c_ﬂm_v¨Cb_dummy_£t
(
ŒidIdx
, 
CTC_VAR_OP_SET
, 
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, &varContainer);

1015 
ªt
 = 
v¨Cb
.
	`h™dÀr_£t
(
ŒidIdx
, 
CTC_VAR_OP_SET
, 
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, &varContainer);

1017 if(
EPON_OAM_ERR_OK
 =
ªt
)

1019 if(
bufLí
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1022 
v¨C⁄èöî
.
v¨Width
 |
CTC_VAR_CONTAINER_INDICATOR
;

1024 
gíLí
 = 0;

1025 
	`˘c_ﬂm_‹gS≥cV¨C⁄èöî_gí
(

1026 &
v¨C⁄èöî
,

1027 &
v¨C⁄èöî_TŸÆ_Lí
,

1028 
pRïlyPå
,

1029 &
gíLí
);

1030 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1034 if(
NULL
 !
v¨C⁄èöî
.
pV¨D©a
)

1036 
	`‰ì
(
v¨C⁄èöî
.
pV¨D©a
);

1039 
CTC_VAR_REQBRANCH_END
:

1040 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1041  
EPON_OAM_ERR_OK
;

1046 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1048  
EPON_OAM_ERR_OK
;

1049 
	}
}

1052 #i‡
CTC_OAM_SUPPORT_ABOVE_21


1053 
	$˘c_ﬂm_‹gS≥cVÆidIn°™tLóf_decode21
(

1054 
˘c_v¨In°™t_t
 *
pV¨In°™t
)

1056 
vÆue
;

1058 
pV¨In°™t
->
v¨Desc
.
v¨Lóf
)

1060 
CTC_VAR_REQBRANCH_INSTANT_PORT
:

1061 
	`CTC_BUF_PARSE32
(
pV¨In°™t
->
v¨D©a
, &
vÆue
);

1062 
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tTy≥
 = (
vÆue
 >> 24) & 0xffUL;

1063 
pV¨In°™t
->
∑r£
.
uniP‹t
.
chassisNo
 = (
vÆue
 >> 22) & 0x03UL;

1064 
pV¨In°™t
->
∑r£
.
uniP‹t
.
¶ŸNo
 = (
vÆue
 >> 16) & 0x3fUL;

1065 
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 = 
vÆue
 & 0xffUL;

1068 
CTC_VAR_REQBRANCH_INSTANT_LLID
:

1069 
	`CTC_BUF_PARSE32
(
pV¨In°™t
->
v¨D©a
, &pV¨In°™t->
∑r£
.
Œid
);

1072 
CTC_VAR_REQBRANCH_INSTANT_PONIF
:

1073 
	`CTC_BUF_PARSE32
(
pV¨In°™t
->
v¨D©a
, &pV¨In°™t->
∑r£
.
p⁄If
);

1076 
CTC_VAR_REQBRANCH_INSTANT_ONU
:

1080 
	}
}

1083 
	$˘c_ﬂm_‹gS≥cV¨_ªq21
(

1084 
ŒidIdx
,

1085 *
pFøme
,

1086 
Àngth
,

1087 *
pRïlyBuf
,

1088 
bufLí
,

1089 *
pRïlyLí
)

1091 
ªt
;

1092 *
pProcPå
, *
pRïlyPå
;

1093 
gíLí
;

1094 
˘c_v¨Cb_t
 
v¨Cb
;

1095 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
;

1096 
˘c_v¨In°™t_t
 *
pV¨In°™t
 = 
NULL
, 
v¨In°™t
;

1097 
˘c_v¨C⁄èöî_t
 
v¨C⁄èöî
;

1098 
ªmaöLí
;

1099 
v¨C⁄èöî_TŸÆ_Lí
 = 0;

1104 
pProcPå
 = 
pFøme
;

1105 
pRïlyPå
 = 
pRïlyBuf
;

1106 
ªmaöLí
 = 
Àngth
;

1107 *
pRïlyLí
 = 0;

1109 
ªmaöLí
 >
CTC_ORGSPEC_VARDESC_LEN
)

1111 
v¨Desc
.
v¨Bønch
 = *
pProcPå
;

1112 
	`mem˝y
(&
v¨Desc
.
v¨Lóf
, &
pProcPå
[1], ());

1113 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_VARDESC_LEN
);

1114 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bønch = 0x%02x Lóf=0x%04x\n", 
__FILE__
, 
__LINE__
, 
v¨Desc
.
v¨Bønch
, v¨Desc.
v¨Lóf
);

1116 
v¨Desc
.
v¨Bønch
)

1118 
CTC_VAR_REQBRANCH_INSTANT21
:

1120 if((
ªmaöLí
 < 
CTC_ORGSPEC_VARINSTANT_LEN21
) &&

1121 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN21
)))

1124 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1125  
EPON_OAM_ERR_OK
;

1127 
v¨In°™t
.
v¨Desc
 = varDesc;

1128 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH21
;

1129 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 1);

1130 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1131 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1132 if(
	`˘c_ﬂm_‹gS≥cVÆidIn°™tLóf_decode21
(&
v¨In°™t
))

1135 
pV¨In°™t
 = &
v¨In°™t
;

1137 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

1138 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1143 
pV¨In°™t
 = 
NULL
;

1146 
CTC_VAR_REQBRANCH_INSTANT20
:

1148 if((
ªmaöLí
 < 
CTC_ORGSPEC_VARINSTANT_LEN20
) &&

1149 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

1152 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1153  
EPON_OAM_ERR_OK
;

1155 
v¨In°™t
.
v¨Desc
 = varDesc;

1156 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

1157 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 1);

1158 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1159 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1161 
pV¨In°™t
 = &
v¨In°™t
;

1163 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

1164 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1166 
p‹t_ö°™˚_2_0
.
bønch
 = 
v¨In°™t
.
v¨Desc
.
v¨Bønch
;

1167 
p‹t_ö°™˚_2_0
.
Àaf
 = 
v¨In°™t
.
v¨Desc
.
v¨Lóf
;

1168 
p‹t_ö°™˚_2_0
.
width

v¨In°™t
.
v¨Width
;

1169 
p‹t_ö°™˚_2_0
.
vÆue

v¨In°™t
.
v¨D©a
[0];

1171 
CTC_VAR_REQBRANCH_STDATTR
:

1172 
CTC_VAR_REQBRANCH_EXTATTR
:

1173 
CTC_VAR_REQBRANCH_STDACT
:

1174 
CTC_VAR_REQBRANCH_EXTACT
:

1175 
ªt
 = 
	`˘c_ﬂm_‹gSïcV¨Cb_gë
(
v¨Desc
, &
v¨Cb
);

1176 if((
EPON_OAM_ERR_OK
 !
ªt
) ||

1177 (
NULL
 =
v¨Cb
.
h™dÀr_gë
) ||

1178 (0 =(
v¨Cb
.
›
 & 
CTC_VAR_OP_GET
)))

1183 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

1184 
u8_t
** 
µ_byã
;

1185 
pProcPå
 -
CTC_ORGSPEC_VARDESC_LEN
;

1186 
µ_byã
 = &
pProcPå
;

1187 
	`e›l_zã_˘c_gë_ªq
(
v¨Desc
.
v¨Lóf
, 
µ_byã
, 
pRïlyBuf
, &
gíLí
);

1188 
pRïlyBuf
 +
gíLí
;

1189 *
pRïlyLí
 +
gíLí
;

1190  
EPON_OAM_ERR_OK
;

1196 
v¨C⁄èöî
.
pV¨D©a
 = 
NULL
;

1197 
ªt
 = 
v¨Cb
.
	`h™dÀr_gë
(
ŒidIdx
, 
CTC_VAR_OP_GET
, 
pV¨In°™t
, 
v¨Desc
, &
v¨C⁄èöî_TŸÆ_Lí
, &
v¨C⁄èöî
);

1198 if(
EPON_OAM_ERR_OK
 =
ªt
)

1200 if(
bufLí
 >(
CTC_ORGSPEC_VARDESC_LEN
 + 
v¨C⁄èöî
.
v¨Width
 + 1 ))

1202 
gíLí
 = 0;

1203 
	`˘c_ﬂm_‹gS≥cV¨C⁄èöî_gí
(

1204 &
v¨C⁄èöî
,

1205 &
v¨C⁄èöî_TŸÆ_Lí
,

1206 
pRïlyPå
,

1207 &
gíLí
);

1208 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1212 if(
NULL
 !
v¨C⁄èöî
.
pV¨D©a
)

1214 
	`‰ì
(
v¨C⁄èöî
.
pV¨D©a
);

1217 
CTC_VAR_REQBRANCH_END
:

1218 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1219  
EPON_OAM_ERR_OK
;

1224 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1226  
EPON_OAM_ERR_OK
;

1227 
	}
}

1230 
	$˘c_ﬂm_‹gS≥cSë_ªq21
(

1231 
ŒidIdx
,

1232 *
pFøme
,

1233 
Àngth
,

1234 *
pRïlyBuf
,

1235 
bufLí
,

1236 *
pRïlyLí
)

1238 
ªt
;

1239 
extFœg
;

1240 *
pProcPå
, *
pRïlyPå
;

1241 
gíLí
;

1242 
˘c_v¨Cb_t
 
v¨Cb
;

1243 
˘c_v¨In°™t_t
 *
pV¨In°™t
 = 
NULL
, 
v¨In°™t
;

1244 
˘c_v¨C⁄èöî_t
 
v¨C⁄èöî
;

1245 
ªmaöLí
;

1246 
v¨C⁄èöî_TŸÆ_Lí
 = 0;

1251 
pProcPå
 = 
pFøme
;

1252 
pRïlyPå
 = 
pRïlyBuf
;

1253 
ªmaöLí
 = 
Àngth
;

1254 *
pRïlyLí
 = 0;

1256 
ªmaöLí
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1258 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
 = *
pProcPå
;

1259 
	`mem˝y
(&
v¨C⁄èöî
.
v¨Desc
.
v¨Lóf
, &
pProcPå
[1], ());

1260 
v¨C⁄èöî
.
v¨Width
 = 
pProcPå
[3];

1262 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_VARCONTAINER_MIN
);

1263 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bønch = 0x%02x Lóf=0x%04x, Width=%d\n", 
__FILE__
, 
__LINE__
, 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
, v¨C⁄èöî.v¨Desc.
v¨Lóf
, v¨C⁄èöî.
v¨Width
);

1265 
v¨C⁄èöî
.
v¨Desc
.
v¨Bønch
)

1267 
CTC_VAR_REQBRANCH_INSTANT21
:

1269 if((
ªmaöLí
 < 
v¨C⁄èöî
.
v¨Width
) &&

1270 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN21
)))

1273 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1274  
EPON_OAM_ERR_OK
;

1276 
v¨In°™t
.
v¨Desc
 = 
v¨C⁄èöî
.varDesc;

1277 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH21
;

1278 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1279 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1280 if(
	`˘c_ﬂm_‹gS≥cVÆidIn°™tLóf_decode21
(&
v¨In°™t
))

1283 
pV¨In°™t
 = &
v¨In°™t
;

1285 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

1286 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1291 
pV¨In°™t
 = 
NULL
;

1294 
CTC_VAR_REQBRANCH_INSTANT20
:

1296 if((
ªmaöLí
 < 
v¨C⁄èöî
.
v¨Width
) &&

1297 (
bufLí
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

1300 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1301  
EPON_OAM_ERR_OK
;

1303 
v¨In°™t
.
v¨Desc
 = 
v¨C⁄èöî
.varDesc;

1304 
v¨In°™t
.
v¨Width
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

1305 
	`mem˝y
(
v¨In°™t
.
v¨D©a
, 
pProcPå
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1306 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, (Ë* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1308 
pV¨In°™t
 = &
v¨In°™t
;

1310 
	`˘c_ﬂm_‹gS≥cV¨In°™t_gí
(
pV¨In°™t
, 
pRïlyPå
, &
gíLí
);

1311 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1312 
p‹t_ö°™˚_2_0
.
bønch
 = 
v¨In°™t
.
v¨Desc
.
v¨Bønch
;

1313 
p‹t_ö°™˚_2_0
.
Àaf
 = 
v¨In°™t
.
v¨Desc
.
v¨Lóf
;

1314 
p‹t_ö°™˚_2_0
.
width

v¨In°™t
.
v¨Width
;

1315 
p‹t_ö°™˚_2_0
.
vÆue

v¨In°™t
.
v¨D©a
[0];

1317 
CTC_VAR_REQBRANCH_STDATTR
:

1318 
CTC_VAR_REQBRANCH_EXTATTR
:

1319 
CTC_VAR_REQBRANCH_STDACT
:

1320 
CTC_VAR_REQBRANCH_EXTACT
:

1321 if(
ªmaöLí
 < 
v¨C⁄èöî
.
v¨Width
)

1326 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1327  
EPON_OAM_ERR_OK
;

1330 
ªt
 = 
	`˘c_ﬂm_‹gSïcV¨Cb_gë
(
v¨C⁄èöî
.
v¨Desc
, &
v¨Cb
);

1331 if((
EPON_OAM_ERR_OK
 !
ªt
) ||

1332 (
NULL
 =
v¨Cb
.
h™dÀr_£t
) ||

1333 (0 =(
v¨Cb
.
›
 & 
CTC_VAR_OP_SET
)))

1339 #i‡
	`deföed
(
CONFIG_ONU_COMPATIBLE
)

1340 
u8_t
** 
µ_byã
;

1341 
pProcPå
 -
CTC_ORGSPEC_VARCONTAINER_MIN
;

1342 
µ_byã
 = &
pProcPå
;

1343 
	`e›l_zã_˘c_£t_ªq
(
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, 
µ_byã
, 
pRïlyPå
, &
gíLí
);

1344 *
pRïlyLí
 +
gíLí
 + (
pRïlyPå
 - 
pRïlyBuf
);

1345  
EPON_OAM_ERR_OK
;

1347 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
v¨C⁄èöî
.
v¨Width
);

1352 if(0 !
v¨C⁄èöî
.
v¨Width
)

1354 
v¨C⁄èöî
.
pV¨D©a
 = (*Ë
	`mÆloc
(v¨C⁄èöî.
v¨Width
);

1355 if(
NULL
 =
v¨C⁄èöî
.
pV¨D©a
)

1357  
EPON_OAM_ERR_MEM
;

1359 
	`mem˝y
(
v¨C⁄èöî
.
pV¨D©a
, 
pProcPå
, v¨C⁄èöî.
v¨Width
);

1360 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
v¨C⁄èöî
.
v¨Width
);

1364 
v¨C⁄èöî
.
pV¨D©a
 = 
NULL
;

1367 
	`ï⁄_ﬂm_dbgExt_gë
(&
extFœg
);

1368 if(
extFœg
 & 
EPON_OAM_DBGEXT_CTC_VARSET
)

1371 
ªt
 = 
	`˘c_ﬂm_v¨Cb_dummy_£t
(
ŒidIdx
, 
CTC_VAR_OP_SET
, 
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, &varContainer);

1376 
ªt
 = 
v¨Cb
.
	`h™dÀr_£t
(
ŒidIdx
, 
CTC_VAR_OP_SET
, 
pV¨In°™t
, 
v¨C⁄èöî
.
v¨Desc
, &varContainer);

1378 if(
EPON_OAM_ERR_OK
 =
ªt
)

1380 if(
bufLí
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1383 
v¨C⁄èöî
.
v¨Width
 |
CTC_VAR_CONTAINER_INDICATOR
;

1385 
gíLí
 = 0;

1386 
	`˘c_ﬂm_‹gS≥cV¨C⁄èöî_gí
(

1387 &
v¨C⁄èöî
,

1388 &
v¨C⁄èöî_TŸÆ_Lí
,

1389 
pRïlyPå
,

1390 &
gíLí
);

1391 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1395 if(
NULL
 !
v¨C⁄èöî
.
pV¨D©a
)

1397 
	`‰ì
(
v¨C⁄èöî
.
pV¨D©a
);

1400 
CTC_VAR_REQBRANCH_END
:

1401 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1402  
EPON_OAM_ERR_OK
;

1407 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1409  
EPON_OAM_ERR_OK
;

1410 
	}
}

1413 
	$˘c_ﬂm_‹gS≥cOnuAuth
(

1414 
ŒidIdx
,

1415 *
pFøme
,

1416 
Àngth
,

1417 *
pRïlyBuf
,

1418 
bufLí
,

1419 *
pRïlyLí
)

1421 
ªt
;

1422 *
pProcPå
, *
pRïlyPå
;

1423 
gíLí
;

1424 
ªmaöLí
;

1425 
authCode
;

1426 
authTy≥
;

1427 
authFaûTy≥
;

1428 
authD©aLí
;

1429 
˘c_⁄uAuthLoid_t
 
loidAuth
;

1434 
pProcPå
 = 
pFøme
;

1435 
pRïlyPå
 = 
pRïlyBuf
;

1436 
ªmaöLí
 = 
Àngth
;

1437 *
pRïlyLí
 = 0;

1439 if(
ªmaöLí
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
)

1442  
EPON_OAM_ERR_OK
;

1446 
authCode
 = 
pProcPå
[0];

1447 ((*)&
authD©aLí
)[0] = 
pProcPå
[1];

1448 ((*)&
authD©aLí
)[1] = 
pProcPå
[2];

1449 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
);

1451 if(
ªmaöLí
 < 
authD©aLí
)

1454  
EPON_OAM_ERR_OK
;

1457 
authCode
)

1459 
CTC_ORGSPEC_ONUAUTH_CODE_REQ
:

1460 
authTy≥
 = *
pProcPå
;

1461 
authTy≥
)

1463 
CTC_ORGSPEC_ONUAUTH_LOID
:

1465 
ªt
 = 
	`˘c_ﬂm_⁄uAuthLoid_gë
(
ŒidIdx
, &
loidAuth
);

1466 if(
EPON_OAM_ERR_OK
 !
ªt
 ||

1467 (
bufLí
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
 + 
CTC_ORGSPEC_ONUAUTH_RESP_LOID_LEN
))

1470  
EPON_OAM_ERR_ORG
;

1472 
	`˘c_ﬂm_‹gS≥cOnuAuthLoid_gí
(&
loidAuth
, 
pRïlyPå
, &
gíLí
);

1473 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1478 if(
bufLí
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
 + 
CTC_ORGSPEC_ONUAUTH_RESP_NAK_LEN
)

1481  
EPON_OAM_ERR_ORG
;

1484 
	`˘c_ﬂm_‹gS≥cOnuAuthNak_gí
(
CTC_ORGSPEC_ONUAUTH_LOID
, 
pRïlyPå
, &
gíLí
);

1485 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1489 
CTC_ORGSPEC_ONUAUTH_CODE_SUCC
:

1490 
ªt
 = 
	`˘c_ﬂm_⁄uAuthSèã_£t
(
ŒidIdx
, 
CTC_OAM_ONUAUTH_STATE_SUCC
, 0);

1491 if(
EPON_OAM_ERR_OK
 !
ªt
)

1494 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1495 "[OAM:%s:%d] FaûÅÿ£àauth sèã %u\n", 
__FILE__
, 
__LINE__
, 
ªt
);

1496  
EPON_OAM_ERR_OK
;

1499 
CTC_ORGSPEC_ONUAUTH_CODE_FAIL
:

1500 
authFaûTy≥
 = *
pProcPå
;

1501 
ªt
 = 
	`˘c_ﬂm_⁄uAuthSèã_£t
(
ŒidIdx
, 
CTC_OAM_ONUAUTH_STATE_FAIL
, 
authFaûTy≥
);

1502 if(
EPON_OAM_ERR_OK
 !
ªt
)

1505 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1506 "[OAM:%s:%d] FaûÅÿ£àauth sèã %u\n", 
__FILE__
, 
__LINE__
, 
ªt
);

1507  
EPON_OAM_ERR_OK
;

1510 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
:

1513  
EPON_OAM_ERR_ORG
;

1515 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1517  
EPON_OAM_ERR_OK
;

1518 
	}
}

1520 
	$˘c_ﬂm_‹gS≥cChu∫ög
(

1521 
ŒidIdx
,

1522 *
pFøme
,

1523 
Àngth
,

1524 *
pRïlyBuf
,

1525 
bufLí
,

1526 *
pRïlyLí
)

1528 
ªt
;

1529 *
pProcPå
, *
pRïlyPå
;

1530 
gíLí
;

1531 
ªmaöLí
;

1532 
˘c_chu∫ög_t
 
öChu∫ög
, 
outChu∫ög
;

1537 
pProcPå
 = 
pFøme
;

1538 
pRïlyPå
 = 
pRïlyBuf
;

1539 
ªmaöLí
 = 
Àngth
;

1540 *
pRïlyLí
 = 0;

1542 if(
ªmaöLí
 < 
CTC_ORGSPEC_CHURNING_HDR_LEN
)

1545  
EPON_OAM_ERR_OK
;

1549 
öChu∫ög
.
chu∫ögCode
 = 
pProcPå
[0] & 
CTC_ORGSPEC_CHURNING_CODE_MASK
;

1550 
öChu∫ög
.
keyIdx
 = 
pProcPå
[1];

1551 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_CHURNING_HDR_LEN
);

1553 
öChu∫ög
.
chu∫ögCode
)

1555 
CTC_ORGSPEC_CHURNING_NEWKEYREQ
:

1558 
outChu∫ög
.
chu∫ögCode
 = 
CTC_ORGSPEC_CHURNING_NEWKEY
;

1559 
	`˘c_ﬂm_chu∫ögKey_ønd
(
outChu∫ög
.
chu∫ögKey
);

1560 
outChu∫ög
.
keyIdx
 = 
öChu∫ög
.keyIdx ^ 0x01;

1561 
ªt
 = 
	`˘c_ﬂm_chu∫ögKey_£t
(
ŒidIdx
, 
outChu∫ög
.
keyIdx
, outChu∫ög.
chu∫ögKey
);

1562 if(
EPON_OAM_ERR_OK
 !
ªt
 ||

1563 (
bufLí
 < 
CTC_ORGSPEC_CHURNING_HDR_LEN
 + 
CTC_ORGSPEC_CHURNING_KEY_LEN
))

1566  
EPON_OAM_ERR_ORG
;

1569 
	`˘c_ﬂm_‹gS≥cChu∫ög_gí
(&
outChu∫ög
, 
pRïlyPå
, &
gíLí
);

1570 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1572 
CTC_ORGSPEC_CHURNING_NEWKEY
:

1575  
EPON_OAM_ERR_ORG
;

1577 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1579  
EPON_OAM_ERR_OK
;

1580 
	}
}

1582 
	$˘c_ﬂm_‹gS≥cDba
(

1583 
ŒidIdx
,

1584 *
pFøme
,

1585 
Àngth
,

1586 *
pRïlyBuf
,

1587 
bufLí
,

1588 *
pRïlyLí
)

1590 
ªt
;

1591 
dbaCode
;

1592 *
pProcPå
, *
pRïlyPå
;

1593 
gíLí
, 
∑r£Lí
, 
ex≥˘Lí
;

1594 
ªmaöLí
;

1595 
˘c_chu∫ög_t
 
öChu∫ög
, 
outChu∫ög
;

1596 
˘c_dbaThªshﬁd_t
 
dbaThªshﬁd
;

1602 
pProcPå
 = 
pFøme
;

1603 
pRïlyPå
 = 
pRïlyBuf
;

1604 
ªmaöLí
 = 
Àngth
;

1605 *
pRïlyLí
 = 0;

1606 
ex≥˘Lí
 = 0;

1608 if(
ªmaöLí
 < 
CTC_ORGSPEC_DBA_HDR_LEN
)

1611  
EPON_OAM_ERR_OK
;

1615 
dbaCode
 = 
pProcPå
[0] & 
CTC_ORGSPEC_DBA_CODE_MASK
;

1616 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_DBA_HDR_LEN
);

1617 
dbaCode
)

1619 
CTC_ORGSPEC_DBA_GET_REQ
:

1621 
	`˘c_ﬂm_dbaC⁄fig_gë
(&
dbaThªshﬁd
);

1624 
ex≥˘Lí
 = 
	`˘c_ﬂm_‹gS≥cDba_ˇlc
(

1625 
CTC_ORGSPEC_DBA_GET_RESP
, &
dbaThªshﬁd
);

1626 if(
bufLí
 < 
ex≥˘Lí
)

1633 
	`˘c_ﬂm_‹gS≥cDba_gí
(

1634 
CTC_ORGSPEC_DBA_GET_RESP
,

1635 &
dbaThªshﬁd
,

1637 
pRïlyPå
,

1638 &
gíLí
);

1639 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1641 
CTC_ORGSPEC_DBA_SET_REQ
:

1643 
	`˘c_ﬂm_‹gS≥cDbaTheshﬁd_∑r£
(
pProcPå
, 
ªmaöLí
, &
∑r£Lí
, &
dbaThªshﬁd
);

1644 if(0 =
∑r£Lí
)

1649 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
∑r£Lí
);

1652 
ex≥˘Lí
 = 
	`˘c_ﬂm_‹gS≥cDba_ˇlc
(

1653 
CTC_ORGSPEC_DBA_SET_RESP
, &
dbaThªshﬁd
);

1654 if(
bufLí
 < 
ex≥˘Lí
)

1660 
ªt
 = 
	`˘c_ﬂm_dbaC⁄fig_£t
(&
dbaThªshﬁd
);

1662 
	`˘c_ﬂm_‹gS≥cDba_gí
(

1663 
CTC_ORGSPEC_DBA_SET_RESP
,

1664 &
dbaThªshﬁd
,

1665 (
ªt
 =
EPON_OAM_ERR_OK
) ? 0x01 : 0x00,

1666 
pRïlyPå
,

1667 &
gíLí
);

1668 
	`CTC_BUF_ADD
(
pRïlyPå
, 
bufLí
, 
gíLí
);

1670 
CTC_ORGSPEC_DBA_GET_RESP
:

1671 
CTC_ORGSPEC_DBA_SET_RESP
:

1677  
EPON_OAM_ERR_OK
;

1679 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1681  
EPON_OAM_ERR_OK
;

1682 
	}
}

1684 
	$˘c_ﬂm_‹gS≥cEvít
(

1685 
ŒidIdx
,

1686 *
pFøme
,

1687 
Àngth
,

1688 *
pRïlyBuf
,

1689 
bufLí
,

1690 *
pRïlyLí
)

1692 
ªt
;

1693 
evítCode
;

1694 *
pProcPå
, *
pRïlyPå
;

1695 
gíLí
, 
∑r£Lí
, 
ex≥˘Lí
;

1696 
ªmaöLí
;

1697 
˘c_chu∫ög_t
 
öChu∫ög
, 
outChu∫ög
;

1698 
˘c_dbaThªshﬁd_t
 
dbaThªshﬁd
;

1704 
pProcPå
 = 
pFøme
;

1705 
pRïlyPå
 = 
pRïlyBuf
;

1706 
ªmaöLí
 = 
Àngth
;

1707 *
pRïlyLí
 = 0;

1708 
ex≥˘Lí
 = 0;

1710 if(
ªmaöLí
 < 
CTC_ORGSPEC_EVENT_HDR_LEN
)

1713  
EPON_OAM_ERR_OK
;

1717 
evítCode
 = 
pProcPå
[0];

1718 
	`CTC_BUF_ADD
(
pProcPå
, 
ªmaöLí
, 
CTC_ORGSPEC_EVENT_HDR_LEN
);

1719 
evítCode
)

1721 
CTC_ORGSPEC_EVENT_STATUS_REQ
:

1723 
CTC_ORGSPEC_EVENT_STATUS_SET
:

1725 
CTC_ORGSPEC_EVENT_THRESHOLD_REQ
:

1727 
CTC_ORGSPEC_EVENT_THRESHOLD_SET
:

1729 
CTC_ORGSPEC_EVENT_STATUS_RESP
:

1730 
CTC_ORGSPEC_EVENT_THRESHOLD_RESP
:

1736  
EPON_OAM_ERR_OK
;

1738 *
pRïlyLí
 = (
pRïlyPå
 - 
pRïlyBuf
);

1740  
EPON_OAM_ERR_OK
;

1741 
	}
}

1743 
	$˘c_ﬂm_extInfoStd_∑r£r
(

1744 *
pFøme
,

1745 
Àngth
,

1746 
˘c_öfoOam_t
 *
pInfoOam


1749 
vîLi°Lí
;

1750 *
pP¨£På
;

1751 
˘c_öfoOamVîRec_t
 *
pVîLi°New
, *
pVîLi°
;

1753 
pInfoOam
->
vîti⁄Li°
 = 
NULL
;

1754 
pP¨£På
 = 
pFøme
;

1755 
pInfoOam
->
ty≥
 = *
pP¨£På
;

1756 
pP¨£På
 += 1;

1757 
pInfoOam
->
Àngth
 = *
pP¨£På
;

1758 
pP¨£På
 += 1;

1761 if(
Àngth
 < 
pInfoOam
->length)

1768 
vîLi°Lí
 = (
pInfoOam
->
Àngth
 - 
CTC_INFO_OAM_MIN
);

1769 if((
vîLi°Lí
 % 
CTC_INFO_OAM_VERITEM_LEN
) != 0) {

1771 
vîLi°Lí
 -(vîLi°Lí % 
CTC_INFO_OAM_VERITEM_LEN
);

1774 
	`mem˝y
(
pInfoOam
->
oui
, 
pP¨£På
, 3);

1775 
pP¨£På
 += 3;

1776 
pInfoOam
->
extSuµ‹t
 = *
pP¨£På
;

1777 
pP¨£På
 += 1;

1778 
pInfoOam
->
vîsi⁄
 = *
pP¨£På
;

1779 
pP¨£På
 += 1;

1782 0 !
vîLi°Lí
)

1784 
	`˘c_ﬂm_vîLi°Iãm_Æloc
(
pP¨£På
, *’P¨£På + 3), &
pVîLi°New
);

1785 if(
NULL
 =
pVîLi°New
)

1792 if(
NULL
 =
pInfoOam
->
vîti⁄Li°
)

1794 
pInfoOam
->
vîti⁄Li°
 = 
pVîLi°New
;

1796 if(
NULL
 !
pVîLi°
)

1798 
pVîLi°
->
√xt
 = 
pVîLi°New
;

1800 
pVîLi°
 = 
pVîLi°New
;

1802 
vîLi°Lí
 -
CTC_INFO_OAM_VERITEM_LEN
;

1803 
pP¨£På
 +
CTC_INFO_OAM_VERITEM_LEN
;

1806  
pInfoOam
->
Àngth
;

1807 
	}
}

1809 
	$˘c_ﬂm_extInfo_∑r£r
(

1810 
ŒidIdx
,

1811 *
pFøme
,

1812 
Àngth
,

1813 *
pExåa˘Lí
,

1814 **
µOrgS≥cD©a
)

1816 
˘c_öfoOam_t
 *
pInfoOam
;

1819 if(
Àngth
 < 
CTC_INFO_OAM_MIN
)

1821  
EPON_OAM_ERR_ORG
;

1824 
pInfoOam
 = (
˘c_öfoOam_t
 *Ë
	`mÆloc
((ctc_infoOam_t));

1825 if(
NULL
 =
pInfoOam
)

1827  
EPON_OAM_ERR_ORG
;

1831 *
pExåa˘Lí
 = 
	`˘c_ﬂm_extInfoStd_∑r£r
(
pFøme
, 
Àngth
, 
pInfoOam
);

1832 if(0 =*
pExåa˘Lí
)

1834 if(
NULL
 !
pInfoOam
->
vîti⁄Li°
)

1836 
	`˘c_ﬂm_vîLi°Iãm_‰ì
(&
pInfoOam
->
vîti⁄Li°
);

1838 
	`‰ì
(
pInfoOam
);

1839 *
µOrgS≥cD©a
 = 
NULL
;

1840  
EPON_OAM_ERR_ORG
;

1842 *
µOrgS≥cD©a
 = 
pInfoOam
;

1844  
EPON_OAM_ERR_OK
;

1845 
	}
}

1848 
	$˘c_ﬂm_extInfo_h™dÀr
(

1849 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1850 *
pRïlyBuf
,

1851 
bufLí
,

1852 *
pRïlyLí
,

1853 **
µOrgS≥cD©a
)

1857 
ªt
 = 
EPON_OAM_ERR_OK
;

1858 
ex≥˘Lí
;

1859 
extSuµ‹t
;

1860 
˘c_öfoOam_t
 *
pInfoOam
;

1862 if(
NULL
 !
µOrgS≥cD©a
)

1864 
pInfoOam
 = *
µOrgS≥cD©a
;

1868  
EPON_OAM_ERR_PARAM
;

1870 if(
NULL
 =
pInfoOam
)

1872  
EPON_OAM_ERR_PARAM
;

1875 
	`dump_˘c_öfoOam
(
pInfoOam
);

1877 
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
])

1879 
CTC_OAM_FSM_STATE_WAIT_REMOTE
:

1880 
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE_OK
;

1881 
extSuµ‹t
 = 
	`˘c_ﬂm_vîsi⁄_suµ‹t
(
pInfoOam
->
oui
,ÖInfoOam->
vîsi⁄
);

1882 
ex≥˘Lí
 = 
CTC_INFO_OAM_MIN
 + (
suµ‹ãdVîLi°
);

1883 if(
bufLí
 < 
ex≥˘Lí
)

1885 *
pRïlyLí
 = 0;

1886 
ªt
 = 
EPON_OAM_ERR_ORG
;

1890 
	`˘c_ﬂm_Info_gí
(
ex≥˘Lí
, 
extSuµ‹t
, 0x00, 
pInfoOam
, 1, 
pRïlyBuf
);

1891 *
pRïlyLí
 = 
ex≥˘Lí
;

1896 
˘cExtInfoC¡
=0;

1900 
CTC_OAM_FSM_STATE_WAIT_REMOTE_OK
:

1902 
extSuµ‹t
 = 
	`˘c_ﬂm_vîsi⁄_suµ‹t
(
pInfoOam
->
oui
,ÖInfoOam->
vîsi⁄
);

1903 if((1 =
extSuµ‹t
Ë&& (1 =
pInfoOam
->extSupport))

1906 
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
] = 
CTC_OAM_FSM_STATE_COMPLETE
;

1907 
	`mem˝y
(
cuºCtcVî
[
pOamPdu
->
ŒidIdx
].
oui
, 
pInfoOam
->oui, 
EPON_OAM_OUI_LENGTH
);

1908 
cuºCtcVî
[
pOamPdu
->
ŒidIdx
].
vîsi⁄
 = 
pInfoOam
->version;

1913 
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

1915 
extSuµ‹t
 = 0;

1918 
ex≥˘Lí
 = 
CTC_INFO_OAM_MIN
;

1919 if(
bufLí
 < 
ex≥˘Lí
)

1921 *
pRïlyLí
 = 0;

1922 
ªt
 = 
EPON_OAM_ERR_ORG
;

1926 
	`˘c_ﬂm_Info_gí
(
ex≥˘Lí
, 
extSuµ‹t
, 
pInfoOam
->
vîsi⁄
,ÖInfoOam, 0, 
pRïlyBuf
);

1927 *
pRïlyLí
 = 
ex≥˘Lí
;

1930 
CTC_OAM_FSM_STATE_COMPLETE
:

1932 
ªt
 = 
EPON_OAM_ERR_OK
;

1933 if(
pInfoOam
->
vîti⁄Li°
!=
NULL
&&pInfoOam->
extSuµ‹t
==1)

1935 
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

1943 
	`˘c_ﬂm_vîLi°Iãm_‰ì
(&
pInfoOam
->
vîti⁄Li°
);

1944 
	`‰ì
(
pInfoOam
);

1946  
ªt
;

1947 
	}
}

1950 
	$˘c_ﬂm_‹gS≥c_¥o˚ss‹
(

1951 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1952 *
pFøme
,

1953 
Àngth
,

1954 *
pRïlyBuf
,

1955 
bufLí
,

1956 *
pRïlyLí
)

1958 
ªt
 = 
EPON_OAM_ERR_OK
;

1959 
oui
[3];

1960 
cuºVî
;

1961 
extOpcode
;

1962 
gíLí
;

1965 if(
˘cExtInfoCheck
==1)

1968 
˘cExtInfoCheck
 = 0;

1975 *
pRïlyLí
 = 0;

1976 if((
Àngth
 < 
CTC_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < CTC_ORGSPEC_HDR_LEN))

1979  
EPON_OAM_ERR_PARAM
;

1983 
oui
[0] = 
pFøme
[0];

1984 
oui
[1] = 
pFøme
[1];

1985 
oui
[2] = 
pFøme
[2];

1986 
extOpcode
 = 
pFøme
[3];

1987 
	`CTC_BUF_ADD
(
pFøme
, 
Àngth
, 
CTC_ORGSPEC_HDR_LEN
);

1988 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_INFO
,

1989 "[OAM:%s:%d]Éxt. opcodê%d\n", 
__FILE__
, 
__LINE__
, 
extOpcode
);

1991 if(
CTC_OAM_FSM_STATE_COMPLETE
 !
˘c_discovîy_°©e
[
pOamPdu
->
ŒidIdx
])

1997 
cuºVî
 = 0x01;

2001 
cuºVî
 = 
cuºCtcVî
[
pOamPdu
->
ŒidIdx
].
vîsi⁄
;

2003 
cuºCtcVî_webDis
 = 
cuºVî
;

2005 
extOpcode
)

2007 
CTC_EXTOAM_OPCODE_VARREQ
:

2008 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_VARRESP
, 
pRïlyBuf
, &
gíLí
);

2009 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2010 *
pRïlyLí
 +
gíLí
;

2011 
gíLí
= 0;

2012 
˘c_‹g•ec_a˘i⁄_Êag
 = 0;

2013 if(
cuºVî
 <
CTC_OAM_VERSION_20
)

2015 #i‡
CTC_OAM_SUPPORT_BENEATH_20


2016 
ªt
 = 
	`˘c_ﬂm_‹gS≥cV¨_ªq20
(

2017 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2022 #i‡
CTC_OAM_SUPPORT_ABOVE_21


2023 
ªt
 = 
	`˘c_ﬂm_‹gS≥cV¨_ªq21
(

2024 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2027 if(0 !
gíLí
)

2029 *
pRïlyLí
 +
gíLí
;

2034 *
pRïlyLí
 = 0;

2037 
CTC_EXTOAM_OPCODE_VARRESP
:

2040 
CTC_EXTOAM_OPCODE_SETREQ
:

2041 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_SETRESP
, 
pRïlyBuf
, &
gíLí
);

2042 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2043 *
pRïlyLí
 +
gíLí
;

2044 
gíLí
= 0;

2045 
˘c_‹g•ec_a˘i⁄_Êag
 = 1;

2046 if(
cuºVî
 <
CTC_OAM_VERSION_20
)

2048 #i‡
CTC_OAM_SUPPORT_BENEATH_20


2049 
ªt
 = 
	`˘c_ﬂm_‹gS≥cSë_ªq20
(

2050 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2055 #i‡
CTC_OAM_SUPPORT_ABOVE_21


2056 
ªt
 = 
	`˘c_ﬂm_‹gS≥cSë_ªq21
(

2057 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2060 if(0 !
gíLí
)

2062 *
pRïlyLí
 +
gíLí
;

2067 *
pRïlyLí
 = 0;

2070 
CTC_EXTOAM_OPCODE_SETRESP
:

2073 
CTC_EXTOAM_OPCODE_ONUAUTH
:

2074 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_ONUAUTH
, 
pRïlyBuf
, &
gíLí
);

2075 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2076 *
pRïlyLí
 +
gíLí
;

2077 
gíLí
= 0;

2078 
ªt
 = 
	`˘c_ﬂm_‹gS≥cOnuAuth
(

2079 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2080 if(0 !
gíLí
)

2082 *
pRïlyLí
 +
gíLí
;

2087 *
pRïlyLí
 = 0;

2090 
CTC_EXTOAM_OPCODE_SWDOWNLOAD
:

2091 #i‡
CTC_OAM_UPGRADE_ENABLE


2092 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_SWDOWNLOAD
, 
pRïlyBuf
, &
gíLí
);

2093 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2094 *
pRïlyLí
 +
gíLí
;

2096 
gíLí
= 0;

2097 
	`e›l_˘c_so·_dow∆ﬂd
(

2098 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2099 *
pRïlyLí
 = 0;

2102 
CTC_EXTOAM_OPCODE_CHURNING
:

2104 
ªt
 = 
EPON_OAM_ERR_NOT_FOUND
;

2106 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_CHURNING
, 
pRïlyBuf
, &
gíLí
);

2107 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2108 *
pRïlyLí
 +
gíLí
;

2109 
gíLí
= 0;

2110 
ªt
 = 
	`˘c_ﬂm_‹gS≥cChu∫ög
(

2111 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2112 if(0 !
gíLí
)

2114 *
pRïlyLí
 +
gíLí
;

2119 *
pRïlyLí
 = 0;

2123 
CTC_EXTOAM_OPCODE_DBA
:

2124 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_DBA
, 
pRïlyBuf
, &
gíLí
);

2125 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2126 *
pRïlyLí
 +
gíLí
;

2127 
gíLí
= 0;

2128 
ªt
 = 
	`˘c_ﬂm_‹gS≥cDba
(

2129 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2130 if(0 !
gíLí
)

2132 *
pRïlyLí
 +
gíLí
;

2137 *
pRïlyLí
 = 0;

2140 
CTC_EXTOAM_OPCODE_EVENT
:

2141 
	`˘c_ﬂm_‹gS≥cHdr_gí
(
oui
, 
CTC_EXTOAM_OPCODE_EVENT
, 
pRïlyBuf
, &
gíLí
);

2142 
	`CTC_BUF_ADD
(
pRïlyBuf
, 
bufLí
, 
gíLí
);

2143 *
pRïlyLí
 +
gíLí
;

2144 
gíLí
= 0;

2145 
ªt
 = 
	`˘c_ﬂm_‹gS≥cEvít
(

2146 
pOamPdu
->
ŒidIdx
, 
pFøme
, 
Àngth
, 
pRïlyBuf
, 
bufLí
, &
gíLí
);

2147 if(0 !
gíLí
)

2149 *
pRïlyLí
 +
gíLí
;

2154 *
pRïlyLí
 = 0;

2157 
CTC_EXTOAM_OPCODE_RESERVED
:

2159 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_WARN
,

2160 "[OAM:%s:%d] iŒegÆÉxà›codê%u\n", 
__FILE__
, 
__LINE__
, 
extOpcode
);

2164 if(
EPON_OAM_ERR_OK
 !
ªt
)

2167 *
pRïlyLí
 = 0;

2170  
ªt
;

2171 
	}
}

2173 
	$˘c_ﬂm_evtNŸifiˇti⁄_£nd
(

2174 
˘c_evítOam_t
 *
pEvít
)

2177  
EPON_OAM_ERR_OK
;

2178 
	}
}

2180 
	$˘c_ﬂm_öô
()

2182 
i
, 
ªt
;

2183 
oui
[] = 
CTC_OAM_OUI
;

2184 
ﬂm_öfoOrgS≥cCb_t
 
öfoCb
;

2185 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

2188 
öfoCb
.
∑r£r
 = 
˘c_ﬂm_extInfo_∑r£r
;

2189 
öfoCb
.
h™dÀr
 = 
˘c_ﬂm_extInfo_h™dÀr
;

2190 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

2191 
EPON_OAM_CBTYPE_INFO_ORGSPEC
,

2192 
oui
,

2193 (*Ë&
öfoCb
);

2194 if(
EPON_OAM_ERR_OK
 !
ªt
)

2196 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2198  
EPON_OAM_ERR_UNKNOWN
;

2202 
‹gS≥cCb
.
¥o˚ss‹
 = 
˘c_ﬂm_‹gS≥c_¥o˚ss‹
;

2203 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

2204 
EPON_OAM_CBTYPE_ORGSPEC
,

2205 
oui
,

2206 (*Ë&
‹gS≥cCb
);

2207 if(
EPON_OAM_ERR_OK
 !
ªt
)

2209 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2211  
EPON_OAM_ERR_UNKNOWN
;

2214  
EPON_OAM_ERR_OK
;

2215 
	}
}

2217 
	$˘c_ﬂm_db_öô
(

2218 
ŒidIdx
)

2220 
˘c_⁄uAuthLoid_t
 
loidAuth
;

2224 
˘c_discovîy_°©e
[
ŒidIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

2225 
	`mem£t
(&
cuºCtcVî
[
ŒidIdx
], 0x0, (
˘c_öfoOamVî_t
));

2227 
	`mem£t
(&
loidAuth
, 0x0, (
˘c_⁄uAuthLoid_t
));

2228 
	`°∫˝y
(
loidAuth
.
loid
, "user", ("user"));

2229 
	`°∫˝y
(
loidAuth
.
∑ssw‹d
, "password", ("password"));

2230 
	`˘c_ﬂm_⁄uAuthLoid_£t
(
ŒidIdx
, &
loidAuth
);

2231 
	`˘c_ﬂm_⁄uAuthSèã_£t
(
ŒidIdx
, 
CTC_OAM_ONUAUTH_STATE_NOTCOMPLETE
, 0);

2233  
EPON_OAM_ERR_OK
;

2234 
	}
}

	@src/user/ctc_oam_alarmtbl.c

2 
˘c_evítAœrmCode_t
 
	g˘c_Æ¨mCode
[] = {

5 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_EQUIPMENT
, 4 },

6 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_POWER
, 4 },

7 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYMISSING
, 0 },

8 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYFAILURE
, 0 },

9 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYVOLTLOW
, 4 },

10 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_PHYSICALINTRUSION
, 0 },

11 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUSELFTESTFAILURE
, 4 },

12 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUTEMPHIGH
, 4 },

13 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUTEMPLOW
, 4 },

14 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_IADCONNECTIONFAILURE
, 4 },

15 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_PONIFSWITCH
, 4 },

16 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_SLEEPSTATUSUPDATE
, 4 },

18 { 
CTC_VAR_REQBRANCH_INSTANT_NONE
, 
CTC_OAM_ALARMCODE_NONE
, 0 },

	@src/user/ctc_oam_upgrade.c

1 
	~<°dio.h
>

2 
	~<°rög.h
>

3 
	~<°dlib.h
>

4 
	~<mÆloc.h
>

5 
	~<sys/ty≥s.h
>

6 
	~<sys/°©.h
>

7 
	~<sys/sockë.h
>

8 
	~<√töë/ö.h
>

9 
	~<√t/if.h
>

12 
	~"ï⁄_ﬂm_c⁄fig.h
"

13 
	~"ï⁄_ﬂm_îr.h
"

14 
	~"ï⁄_ﬂm_db.h
"

15 
	~"ï⁄_ﬂm_dbg.h
"

16 
	~"ï⁄_ﬂm_rx.h
"

18 
	~"ﬂm.h
"

19 
	~"h3c.h
"

21 
	~"ùc_˛õ¡.h
"

22 
	~"ﬂm_lw.h
"

25 
	~"lw_drv_pub.h
"

26 
	~"lw_drv_ªq.h
"

27 
	~"zã.h
"

29 
	~<f˙é.h
>

30 
	~"h3c.h
"

31 
	~"mc_c⁄åﬁ.h
"

32 
	~"defs.h
"

33 
	~"sy°em.h
"

34 
	~"°©s.h
"

35 
	~"vos_thªad.h
"

36 
	~"›c⁄n_u§_io˘æ.h
"

37 
	~"vos_time.h
"

38 
	~"vos_libc.h
"

39 
	~"vos_Æloc.h
"

40 
	~<sig«l.h
>

41 
	~"vos_c⁄fig.h
"

42 
	~"mc_c⁄åﬁ.h
"

44 
u8_t
 
ho°Mac
[6];

45 
TFTP_FILE_t
 
	gg_°ImageFûe
;

46 
uöt8
 
	gg_upgødeOngoög
;

47 
uöt8
 
	gg_waôF‹A˘ive
;

48 
u8_t
 
out_d©a
[];

49 
ﬂm_fd
;

50 
u16_t
 
g_usOutD©aIdx
;

51 
u8_t
 
	gg_ucLlid
 = 0;

52 
	#CTC_HEADER_PROCESS
(
p_out
Ë\

	)

54 
mem£t
(
out_d©a
,0,
OAM_MAXIMUM_PDU_SIZE
);\

55 
	gout_d©a
[0] = 
OAM_LOGIG_PON_PORT
; \

56 
	gp_out
 = &
out_d©a
[1];\

57 
e›l_˘c_hódî_f‹_upd©e
(
p_out
); \

58 
	gg_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
)+(
˘c_hódî_t
)+1;\

59 
	gp_out
 +(
ﬂmpdu_hdr_t
)+(
˘c_hódî_t
);\

62 
	$e›l_˘c_hódî_f‹_upd©e
(
u8_t
 *
±r
)

64 
u8_t
 *
p_byã
;

65 
˘c_hódî_t
 *
p_˘c
;

66 
u8_t
 
ﬂm_d°_addr
[6] = {0x1, 0x80, 0xc2, 0x0, 0x0, 0x2};

67 
u8_t
 
ﬂm_Àngth_ty≥
[2] = {0x88, 0x09};

68 
u8_t
 
˘c_oui
[3] = {0x11, 0x11, 0x11};

69 
ﬂmpdu_hdr_t
 *
p_hdr
;

70 
˘c_hódî_t
 *
p_˘c_hódî
;

72 
p_hdr
 = (
ﬂmpdu_hdr_t
*)
±r
;

73 
	`vosMemCpy
(
p_hdr
->
de°
, 
ﬂm_d°_addr
,6);

74 
	`vosMemCpy
(
p_hdr
->
§c
, 
ho°Mac
, 6);

75 
	`vosMemCpy
(
p_hdr
->
Àngth
, 
ﬂm_Àngth_ty≥
, 2);

76 
p_hdr
->
subty≥
 = 0x03;

77 
p_hdr
->
pcode
 = 0xfe;

78 
p_hdr
->
Êags
 = 0x0050;

80 
±r
 +(
ﬂmpdu_hdr_t
);

81 
p_˘c_hódî
 = (
˘c_hódî_t
*)
±r
;

82 
	`mem˝y
(
p_˘c_hódî
->
oui
, 
˘c_oui
, 3);

83 
p_˘c_hódî
->
ext_code
 = 0x06;

84 
	}
}

87 
OPL_STATUS
 
	$e›l_˘c_t·p_fûe_wrôe_ªq_h™dÀr
(
u8_t
 *
pucFûeName
, u8_à
ucNameLí
)

89 
u8_t
 *
p_out
;

90 
SOFT_DOWNLOAD_HD_MASK_t
 *
p°DownHd
;

91 
TFTP_DATA_t
 *
p°D©aCur
;

92 
TFTP_DATA_t
 *
p°D©aNext
;

94 if(
g_upgødeOngoög
)

96 
p°D©aCur
 = 
g_°ImageFûe
.
p°D©a
;

97 
p°D©aCur
 !
NULL
)

99 
p°D©aNext
 = 
p°D©aCur
->
p°Next
;

100 
	`vosFªe
(
p°D©aCur
);

101 
p°D©aCur
 = 
p°D©aNext
;

105 
g_upgødeOngoög
 = 1;

107 
g_°ImageFûe
.
ucNameLí
 = ucNameLen;

108 
g_°ImageFûe
.
ucFœsh
 = 0;

109 
g_°ImageFûe
.
usBlock1
 = 0;

110 
g_°ImageFûe
.
uiFûeSize
 = 0;

111 
g_°ImageFûe
.
p°D©a
 = 0;

113 
	`mem˝y
(
g_°ImageFûe
.
aucFûeName
, 
pucFûeName
, 
ucNameLí
);

115 
	`CTC_HEADER_PROCESS
(
p_out
);

117 
p°DownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

118 
p°DownHd
->
ucTy≥
 = 
OAM_SOFT_TYPE_TFTP
;

119 
p°DownHd
->
usLí
 = 0x09;

121 
p°DownHd
->
usTid
 = 
g_ucLlid
;

122 *(
u16_t
 *)(
p°DownHd
->
aucMsg
Ë
TFTP_ACK
;

123 *(
u16_t
 *)&(
p°DownHd
->
aucMsg
[2]) = 0x0000;

125 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

127 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

128 
g_usOutD©aIdx
 = 0;

130 
	}
}

132 
OPL_STATUS
 
	$e›l_˘c_gí_fûe
()

134 
FILE
 *
pFûe
;

135 
TFTP_DATA_t
 *
p°D©a
;

137 
pFûe
 = 
	`f›í
((*)(
g_°ImageFûe
.
aucFûeName
), "wb");

139 
p°D©a
 = 
g_°ImageFûe
.pstData;

140 
p°D©a
)

142 
	`fwrôe
(
p°D©a
->
aucD©aBlock
, 1,Ö°D©a->
usLí
, 
pFûe
);

143 
p°D©a
 =Ö°D©a->
p°Next
;

146 
	`f˛o£
(
pFûe
);

147 
	`chmod
((*)
g_°ImageFûe
.
aucFûeName
, 
S_IXUSR
|
S_IXGRP
|
S_IXOTH
);

150 
	}
}

152 
OPL_STATUS
 
	$e›l_˘c_wrôe_Êash
()

154 
OPL_STATUS
 
iSètus
=0;

156 
g_°ImageFûe
.
ucFœsh
 = 1;

158  
iSètus
;

159 
	}
}

161 
OPL_STATUS
 
	$e›l_˘c_t·p_d©a_h™dÀr
(
u8_t
 *
pucD©a
, 
u16_t
 
usD©Æí
)

163 
u8_t
 *
pucIn
;

164 
TFTP_DATA_t
 *
p°D©a
;

165 
SOFT_DOWNLOAD_HD_MASK_t
 *
p°DownHd
;

166 
u8_t
 *
p_out
;

167 
u16_t
 
usBlockLí
;

168 
u16_t
 
usBlockNum
;

170 
pucIn
 = 
pucD©a
;

171 
usBlockNum
 = *((
u16_t
 *)
pucIn
);

172 
pucIn
 +(
u16_t
);

174 
usBlockLí
 = 
usD©Æí
 - (
u16_t
);

175 i‡(–
usBlockLí
 >0 && usBlockLen <= 1400))

177 
p°D©a
 = (
TFTP_DATA_t
 *)
	`vosAŒoc
((TFTP_DATA_t));

178 
	`mem˝y
(
p°D©a
->
aucD©aBlock
, 
pucIn
, 
usBlockLí
);

179 
p°D©a
->
usLí
 = 
usBlockLí
;

180 
p°D©a
->
p°Next
 = 0;

185 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive invalidÅftp fileÅransfer data,Üen is invalid!... \n");

189 if(
g_°ImageFûe
.
usBlock1
+1 =
usBlockNum
)

193 
g_°ImageFûe
.
usBlock1
 = 
usBlockNum
;

195 i‡(0 =
g_°ImageFûe
.
p°D©a
)

197 
g_°ImageFûe
.
p°D©a
 =ÖstData;

198 
g_°ImageFûe
.
p°D©aEnd
 = 
p°D©a
;

199 
g_°ImageFûe
.
uiFûeSize
 = (
u32_t
)
usBlockLí
;

203 
g_°ImageFûe
.
p°D©aEnd
->
p°Next
 = 
p°D©a
;

204 
g_°ImageFûe
.
p°D©aEnd
 = 
p°D©a
;

205 
g_°ImageFûe
.
uiFûeSize
 +(
u32_t
)
usBlockLí
;

208 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Re˚ivêt·∞fûêå™s„∏d©a, sîü»nÿi†%d!... \n", 
usBlockNum
);

212 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive invalidÅftp fileÅransfer data,Ço is invalid!... \n");

215 
	`CTC_HEADER_PROCESS
(
p_out
);

217 
p°DownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

218 
p°DownHd
->
ucTy≥
 = 
OAM_SOFT_TYPE_TFTP
;

219 
p°DownHd
->
usLí
 = 0x09;

221 
p°DownHd
->
usTid
 = 
g_ucLlid
;

222 *(
u16_t
 *)(
p°DownHd
->
aucMsg
Ë
TFTP_ACK
;

223 *(
u16_t
 *)&(
p°DownHd
->
aucMsg
[2]Ë
g_°ImageFûe
.
usBlock1
;

225 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

227 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

228 
g_usOutD©aIdx
 = 0;

230 if(
usBlockLí
 < 1400)

233 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "FöishÑe˚ivög fûe: %†(%d Byãs)\n", 
g_°ImageFûe
.
aucFûeName
, g_°ImageFûe.
uiFûeSize
);

237 
	}
}

239 
	$e›l_˘c_£nd_íd_dow∆ﬂd_ª•⁄£
(
u8_t
 
ucRpsCode
)

241 
˘c_t·p_hódî_t
 *
p°T·pHdr
;

242 
u8_t
 *
p_out
;

243 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Síd End Dow∆ﬂd Re•⁄£ PDU, RpsCodê%d!\n", 
ucRpsCode
);

244 
	`CTC_HEADER_PROCESS
(
p_out
);

246 
p°T·pHdr
 = (
˘c_t·p_hódî_t
 *)
p_out
;

248 
p°T·pHdr
->
d©a_ty≥
 = 
OAM_SOFT_TYPE_CRC
;

249 
p°T·pHdr
->
Àn
 = (
˘c_t·p_hódî_t
Ë+ (
u16_t
Ë+ (
u8_t
);

251 
p°T·pHdr
->
tid
 = 
g_ucLlid
;

253 
p_out
 +(
˘c_t·p_hódî_t
);

254 
g_usOutD©aIdx
 +(
˘c_t·p_hódî_t
);

256 *((
u16_t
 *)
p_out
Ë
TFTP_END_DOWNLOAD_RSP
;

257 
p_out
 +(
u16_t
);

258 
g_usOutD©aIdx
 +(
u16_t
);

260 *((
u8_t
 *)
p_out
Ë
ucRpsCode
;

261 
g_usOutD©aIdx
 +(
u8_t
);

263 if(
OAM_MINIMIZE_PDU_SIZE
 > 
g_usOutD©aIdx
)

265 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

268 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

269 
g_usOutD©aIdx
 = 0;

270 
	}
}

272 
	$BoŸFœgGë
(
u8_t
 *
upgødeÊag
)

274 if(
NULL
 =
upgødeÊag
)

276 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"upgødeÊagÖ¨®îr‹!", 
UFILE_BOOTFLAG
);

277  
UP_FAILED
;

279 *
upgødeÊag
 = 
UPGRADE_APP_0
;

280 #ifde‡
CONFIG_BOOT_MULTI_APP


281 
Â
;

282 
ucou¡
 = 1;

283 
boŸÊag
[4];

285 if((
Â
 = 
	`›í
(
UFILE_BOOTFLAG
, 
O_RDONLY
)) < 0)

287 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"Fûê[%s] o≥¿Áûed!", 
UFILE_BOOTFLAG
);

288  
UP_ERR_IO
;

290 if(2 !
	`ªad
(
Â
, 
boŸÊag
, 2))

292 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"Fûê[%s]Ñód faûed!", 
UFILE_BOOTFLAG
);

293  
UP_ERR_IO
;

295 if(0 !
	`˛o£
(
Â
))

297 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"Fûê[%s] clo£ faûed!", 
UFILE_BOOTFLAG
);

298  
UP_ERR_IO
;

301 if('1' =
boŸÊag
[0])

303 *
upgødeÊag
 = 
UPGRADE_APP_0
;

307 *
upgødeÊag
 = 
UPGRADE_APP_1
;

311  
UP_OK
;

312 
	}
}

323 
	$check_image
(c⁄° *
imagefûe
)

325 
image_hódî_t
 
hódöfo
;

326 
fd
;

327 
UINT32
 
chùid
;

329 *
pFûeD©a
=
NULL
;

330 
uöt32
 
¸c
, 
checksum
;

331 
byãs_ªad
;

332 *
˝
;

334 
°©
 
buf
;

335 i‡(
	`°©
(
imagefûe
, &
buf
) < 0){

336 
	`Ârötf
(
°dîr
, "Image check: image file sizeÉrror!\r\n");

342 
fd
 = 
	`›í
(
imagefûe
, 
O_RDONLY
);

343 i‡(
fd
 < 0)

345 
	`Ârötf
(
°dîr
, "Image check: can't open image file!\r\n");

349 
pFûeD©a
 = (*)
	`mÆloc
(
buf
.
°_size
);

350 if(
NULL
 =
pFûeD©a
)

352 
	`Ârötf
(
°dîr
, "Image check: can't malloc mem!\r\n");

356 i‡(
	`vosSa„Ród
(
fd
, 
pFûeD©a
, 
buf
.
°_size
) < 0)

358 
	`˛o£
(
fd
);

359 
	`Ârötf
(
°dîr
, "Image check: can'tÑead image file!\r\n");

360 
	`vosFªe
(
pFûeD©a
);

364 if(
UP_OK
 !
	`fw_hód_check
(
pFûeD©a
, 
buf
.
°_size
))

366 
	`˛o£
(
fd
);

367 
	`Ârötf
(
°dîr
, "Image check: image file invalid!\r\n");

368 
	`vosFªe
(
pFûeD©a
);

372 if(
UP_OK
 !
	`ufûe_vÆid©e
(
pFûeD©a
, 
buf
.
°_size
))

374 
	`˛o£
(
fd
);

375 
	`Ârötf
(
°dîr
, "Image check: image file invalid!\r\n");

376 
	`vosFªe
(
pFûeD©a
);

380 
	`vosFªe
(
pFûeD©a
);

381 
	`˛o£
(
fd
);

383 
	}
}

385 
OPL_STATUS
 
	$e›l_˘c_íd_dow∆ﬂd_ªq_h™dÀr
(
u32_t
 
ulFûeSize
)

387 
u8_t
 
ucRpsCode
;

388 
FILE
 *
pFûe
;

389 
TFTP_DATA_t
 *
p°D©a
;

390 
u8_t
 
boŸFœg
;

391 
ùc_sy°em_ack_t
 *
∑ck
 = 
NULL
;

392 
timevÆ
 
tv
;

393 
tm
 *tm;

394 
≠pP©h
[64] = {0};

395 
cmd
[64] = {0};

398 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive End Download Request PDU!\n");

401 if(
g_waôF‹A˘ive
)

403 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "SendÉnd downloadÑesponse, write success... \n");

404 
ucRpsCode
 = 
OAM_FIRMWARE_WRITE_SUCCESS
;

405 
	`e›l_˘c_£nd_íd_dow∆ﬂd_ª•⁄£
(
ucRpsCode
);

406 
	`vosThªadExô
(0);

410 if(
g_°ImageFûe
.
ucFœsh
)

412 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "SendÉnd downloadÑesponse, file is writing... \n");

413 
ucRpsCode
 = 
OAM_FIRMWARE_WRITING
;

414 
	`e›l_˘c_£nd_íd_dow∆ﬂd_ª•⁄£
(
ucRpsCode
);

415 
	`vosThªadExô
(0);

420 if(
ulFûeSize
 !
g_°ImageFûe
.
uiFûeSize
)

422 
ucRpsCode
 = 
OAM_FIRMWARE_VERIFY_ERROR
;

423 
	`¥ötf
("\OAM_FIRMWARE_VERIFY_ERROR!\n");

424 
£nd_r•_msg
;

431 
	`gëtimeofday
(&
tv
, 
NULL
);

432 
tm
 = 
	`loˇ…ime
(&
tv
.
tv_£c
);

433 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"Sèπ wrôög Fœsh:%04d.%02d.%02d %02d:%02d:%02d\n", 
tm
->
tm_yór
 + 1900,Åm->
tm_m⁄
 + 1,Åm->
tm_mday
,Åm->
tm_hour
,Åm->
tm_mö
,Åm->
tm_£c
);

437 
	`•rötf
(
≠pP©h
, "/tmp/%s", 
APP_UPGRADE_FILE
);

438 
	`•rötf
(
cmd
,"rm -r‡%s",
≠pP©h
);

439 
	`vosSy°em
(
cmd
);

440 
pFûe
 = 
	`f›í
(
≠pP©h
, "wb");

442 if(
pFûe
 !
NULL
)

444 
p°D©a
 = 
g_°ImageFûe
.pstData;

445 
p°D©a
)

447 
	`fwrôe
(
p°D©a
->
aucD©aBlock
, 1,Ö°D©a->
usLí
, 
pFûe
);

448 
p°D©a
 =Ö°D©a->
p°Next
;

450 
	`f˛o£
(
pFûe
);

455 i‡(
	`check_image
(
≠pP©h
Ë!
OK
)

458 
ucRpsCode
 = 
OAM_FIRMWARE_VERIFY_ERROR
;

459 
	`e›l_˘c_£nd_íd_dow∆ﬂd_ª•⁄£
(
ucRpsCode
);

461 
	`vosThªadExô
(0);

465 
g_°ImageFûe
.
ucFœsh
 = 1;

468 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "SendÉnd downloadÑesponse, start writing file... \n");

469 
ucRpsCode
 = 
OAM_FIRMWARE_WRITING
;

470 
	`e›l_˘c_£nd_íd_dow∆ﬂd_ª•⁄£
(
ucRpsCode
);

471 ()
	`BoŸFœgGë
(&
boŸFœg
);

472 
∑ck
 = 
	`ùc_sy°em_ªq
(
ﬂm_fd
, 
IPC_SYS_UPGRADE_APP
, 
boŸFœg
);

473 if(
∑ck
 && (∑ck->
hdr
.
°©us
 !
IPC_STATUS_OK
)){

474 
	`‰ì
(
∑ck
);

475 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "do IPC_SYS_UPGRADE_APPÉrror! \n");

476 
	`vosThªadExô
(0);

478 i‡(
∑ck
)

480 
	`‰ì
(
∑ck
);

483 
boŸFœg
 = 
	`vosC⁄figBoŸFœgGë
(
FLASH_BOOT_FLAG_NORMAL
);

484 i‡(
FLASH_BOOT_OS2_FLAG
 =
boŸFœg
)

486 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Writing imageÅo FLASH_DEV_NAME_OS1!\n");

487 
	`wrôe_Êash
("/tmp/›c⁄n.img.bak.ﬂm", 
FLASH_DEV_NAME_OS1
);

489 
	`vosSy°em
("rm -f /tmp/opconn.img.bak.oam ");

492 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Writing imageÅo FLASH_DEV_NAME_OS2!\n");

493 
	`wrôe_Êash
("/tmp/›c⁄n.img.bak.ﬂm", 
FLASH_DEV_NAME_OS2
);

495 
	`vosSy°em
("rm -f /tmp/opconn.img.bak.oam ");

499 
g_°ImageFûe
.
ucFœsh
 = 0;

501 
	`gëtimeofday
(&
tv
, 
NULL
);

502 
tm
 = 
	`loˇ…ime
(&
tv
.
tv_£c
);

503 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Föish wrôög fœsh:%04d.%02d.%02d %02d:%02d:%02d\n", 
tm
->
tm_yór
 + 1900,Åm->
tm_m⁄
 + 1,Åm->
tm_mday
,Åm->
tm_hour
,Åm->
tm_mö
,Åm->
tm_£c
);

506 
ucRpsCode
 = 
OAM_FIRMWARE_WRITE_SUCCESS
;

508 
g_waôF‹A˘ive
 = 1;

510 
	`vosThªadExô
(0);

513 
	}
}

515 
OPL_STATUS
 
	$e›l_˘c_t·p_h™dÀr
(
u8_t
 *
pucD©a
, 
u16_t
 
msg_Àn
)

517 
u8_t
 *
pucIn
;

518 
u16_t
 
›code
;

519 
u16_t
 
usD©aLí
;

521 
pucIn
 = 
pucD©a
;

523 
›code
 = *((
u16_t
 *)
pucIn
);

524 
pucIn
 +(
u16_t
);

526 
›code
)

528 
TFTP_R_REQ
:

530 
TFTP_W_REQ
:

531 
	`e›l_˘c_t·p_fûe_wrôe_ªq_h™dÀr
(
pucIn
, 
	`°æí
(pucIn));

533 
TFTP_DATA
:

534 
usD©aLí
 = 
msg_Àn
 - (
u16_t
);

535 
	`e›l_˘c_t·p_d©a_h™dÀr
(
pucIn
, 
usD©aLí
);

537 
TFTP_ACK
:

539 
TFTP_ERR
:

547 
	}
}

549 
OPL_STATUS
 
	$e›l_˘c_¸c_h™dÀr
(
u8_t
 *
pucD©a
)

551 
u8_t
 *
pucIn
;

552 
u16_t
 
usOpcode
;

553 
u32_t
 
ulFûeSize
;

555 
pucIn
 = 
pucD©a
;

556 
usOpcode
 = *((
u16_t
 *)
pucIn
);

557 
pucIn
 +(
u16_t
);

559 
usOpcode
)

561 
TFTP_END_DOWNLOAD_REQ
:

562 
ulFûeSize
 = *((
u32_t
 *)
pucIn
);

567 
	`vosThªadCª©e
("tUpgøded", 
OP_VOS_THREAD_STKSZ
, 45,

568 (*)
e›l_˘c_íd_dow∆ﬂd_ªq_h™dÀr
, (*)
ulFûeSize
);

573 
TFTP_END_DOWNLOAD_RSP
:

581 
	}
}

583 
OPL_STATUS
 
	$e›l_˘c_lﬂd_√w_img
()

585 
OPL_STATUS
 
iSètus
=
OPL_OK
;

586 
u8_t
 *
p_out
;

587 
˘c_t·p_hódî_t
 *
pusT·pHdr
;

588 
u16_t
 
usPktLí
;

589 
u8_t
 
ucAck
;

590 
FILE
 *
pFûe
;

591 
u8_t
 
ucBoŸO±i⁄
;

592 
u8_t
 
boŸFœg
;

594 
g_waôF‹A˘ive
 = 0;

596 
ucBoŸO±i⁄
 = 1;

597 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive Active Image PDU!\n");

600 i‡(
FLASH_BOOT_OS2_FLAG
 =
boŸFœg
)

616 
ucAck
 = 0;

618 
	`CTC_HEADER_PROCESS
(
p_out
);

620 
pusT·pHdr
 = (
˘c_t·p_hódî_t
 *)
p_out
;

622 
pusT·pHdr
->
d©a_ty≥
 = 
OAM_SOFT_TYPE_LOAD
;

623 
pusT·pHdr
->
Àn
 = (
˘c_t·p_hódî_t
Ë+ (
u16_t
Ë+ (
u8_t
);

626 
pusT·pHdr
->
tid
 = 
g_ucLlid
;

628 
p_out
 +(
˘c_t·p_hódî_t
);

629 
g_usOutD©aIdx
 +(
˘c_t·p_hódî_t
);

631 *((
u16_t
 *)(
p_out
)Ë
TFTP_ACT_IMG_RSP
;

632 
p_out
 +(
u16_t
);

633 
g_usOutD©aIdx
 +(
u16_t
);

635 *((
u8_t
 *)(
p_out
)Ë
ucAck
;

636 
p_out
 +(
u8_t
);

637 
g_usOutD©aIdx
 +(
u8_t
);

639 if(
g_usOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

641 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

644 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

645 
g_usOutD©aIdx
 = 0;

647  
iSètus
;

648 
	}
}

650 
OPL_STATUS
 
	$e›l_˘c_image_m¨k
()

652 
u8_t
 *
p_out
;

653 
OPL_STATUS
 
iSètus
=
OPL_OK
;

654 
SOFT_DOWNLOAD_HD_MASK_t
 *
p°DownHd
;

656 
	`CTC_HEADER_PROCESS
(
p_out
);

657 
p°DownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

658 
p°DownHd
->
ucTy≥
 = 
OAM_SOFT_TYPE_LOAD
;

659 
p°DownHd
->
usLí
 = 0x08;

661 
p°DownHd
->
usTid
 = 
g_ucLlid
;

662 *(
u16_t
 *)(
p°DownHd
->
aucMsg
Ë
TFTP_ACT_IMG_RSP
;

663 
p°DownHd
->
aucMsg
[2] = 0;

666 if(
g_usOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

668 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

670 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

671 
g_usOutD©aIdx
 = 0;

674  
iSètus
;

675 
	}
}

677 
OPL_STATUS
 
	$e›l_˘c_image_ªboŸ
()

679 
u8_t
 *
p_out
;

680 
OPL_STATUS
 
iSètus
=
OPL_OK
;

681 
SOFT_DOWNLOAD_HD_MASK_t
 *
p°DownHd
;

683 
	`CTC_HEADER_PROCESS
(
p_out
);

684 
p°DownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

685 
p°DownHd
->
ucTy≥
 = 
OAM_SOFT_TYPE_LOAD
;

686 
p°DownHd
->
usLí
 = 0x08;

688 
p°DownHd
->
usTid
 = 
g_ucLlid
;

689 *(
u16_t
 *)(
p°DownHd
->
aucMsg
Ë
TFTP_ACT_IMG_RSP
;

690 
p°DownHd
->
aucMsg
[2] = 0;

693 if(
g_usOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

695 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

697 
	`e›l_ho°_£nd
(
out_d©a
, 
OAM_MINIMIZE_PDU_SIZE
);

698 
g_usOutD©aIdx
 = 0;

699  
iSètus
;

700 
	}
}

702 
OPL_STATUS
 
	$e›l_˘c_a˘ive_ªq_h™dÀr
(
u8_t
 *
pucD©a
)

704 
u8_t
 *
pucIn
;

705 
u8_t
 
ucFœg
;

707 
pucIn
 = 
pucD©a
;

709 
ucFœg
 = *((
u8_t
 *)
pucIn
);

711 
OPL_STATUS
 
iSètus
=
OPL_OK
;

712 
ucFœg
)

714 
LOAD_NEW_IMG
:

715 
	`e›l_˘c_lﬂd_√w_img
();

723  
iSètus
;

724 
	}
}

726 
OPL_STATUS
 
	$e›l_˘c_commô_ªq_h™dÀr
(
u8_t
 *
pucD©a
)

728 
OPL_STATUS
 
iSètus
=
OPL_OK
;

729 
u8_t
 *
pucIn
;

730 
u8_t
 
ucFœg
;

732 
pucIn
 = 
pucD©a
;

734 
ucFœg
 = *((
u8_t
 *)
pucIn
);

736 
ucFœg
)

738 
COMMIT_NEW_IMG
:

739 
	`e›l_˘c_commô_√w_img
();

747  
iSètus
;

748 
	}
}

751 
OPL_STATUS
 
	$e›l_˘c_commô_√w_img
()

753 
OPL_STATUS
 
iSètus
=
OPL_OK
;

754 
u8_t
 *
p_out
;

755 
˘c_t·p_hódî_t
 *
pusT·pHdr
;

756 
u8_t
 
ucAck
, 
boŸFœg
;

761 i‡(
FLASH_BOOT_OS2_FLAG
 =
boŸFœg
)

771 
ucAck
 = 0;

773 
£nd_r•_msg
:

774 
	`CTC_HEADER_PROCESS
(
p_out
);

777 
pusT·pHdr
 = (
˘c_t·p_hódî_t
 *)
p_out
;

779 
pusT·pHdr
->
d©a_ty≥
 = 
OAM_SOFT_TYPE_COMMIT
;

780 
pusT·pHdr
->
Àn
 = (
˘c_t·p_hódî_t
Ë+ (
u16_t
Ë+ (
u8_t
);

782 
pusT·pHdr
->
tid
 = 
g_ucLlid
;

783 
p_out
 +(
˘c_t·p_hódî_t
);

784 
g_usOutD©aIdx
+(
˘c_t·p_hódî_t
);

786 *((
u16_t
 *)(
p_out
)Ë
TFTP_COMMIT_IMG_RSP
;

787 
p_out
 +(
u16_t
);

788 
g_usOutD©aIdx
 +(
u16_t
);

790 *((
u8_t
 *)(
p_out
)Ë
ucAck
;

791 
p_out
 +(
u8_t
);

792 
g_usOutD©aIdx
 +(
u8_t
);

794 if(
g_usOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

796 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

799 
	`e›l_ho°_£nd
(
out_d©a
, 
OAM_MINIMIZE_PDU_SIZE
);

800 
g_usOutD©aIdx
 = 0;

802  
iSètus
;

803 
	}
}

805 
OPL_STATUS
 
	$e›l_˘c_lﬂd_h™dÀr
(
u8_t
 *
pucD©a
)

807 
u8_t
 *
pucIn
;

808 
u16_t
 
usOpcode
;

810 
pucIn
 = 
pucD©a
;

812 
usOpcode
 = *((
u16_t
 *)
pucIn
);

813 
pucIn
 +(
u16_t
);

815 
usOpcode
)

817 
TFTP_ACT_IMG_REQ
:

818 
	`e›l_˘c_a˘ive_ªq_h™dÀr
(
pucIn
);

820 
TFTP_ACT_IMG_RSP
:

823 
TFTP_COMMIT_IMG_REQ
:

824 
	`e›l_˘c_commô_ªq_h™dÀr
(
pucIn
);

827 
TFTP_COMMIT_IMG_RSP
:

836 
	}
}

838 
OPL_STATUS
 
	$e›l_˘c_commô_h™dÀr
(
u8_t
 *
pucD©a
)

840 
u8_t
 *
pucIn
;

841 
u16_t
 
usOpcode
;

843 
pucIn
 = 
pucD©a
;

845 
usOpcode
 = *((
u16_t
 *)
pucIn
);

846 
pucIn
 +(
u16_t
);

848 
usOpcode
)

850 
TFTP_COMMIT_IMG_REQ
:

851 
	`e›l_˘c_commô_ªq_h™dÀr
(
pucIn
);

856 
	}
}

858 
OPL_STATUS
 
	$e›l_˘c_so·_dow∆ﬂd
(

859 
ŒidIdx
,

860 *
pFøme
,

861 
Àngth
,

862 *
pRïlyBuf
,

863 
bufLí
,

864 *
pGíLí
)

866 
u8_t
 *
pucIn
;

867 
˘c_t·p_hódî_t
 *
p_t·p_hódî
;

868 
u16_t
 
usMsgLí
;

870 
pucIn
 = 
pFøme
;

871 *
pGíLí
 = 0;

872 
p_t·p_hódî
 = (
˘c_t·p_hódî_t
 *)
pucIn
;

873 
pucIn
 +(
˘c_t·p_hódî_t
);

874 
g_ucLlid
 = 
ŒidIdx
;

875 
usMsgLí
 = (
p_t·p_hódî
->
Àn
Ë- (
˘c_t·p_hódî_t
);

877 
p_t·p_hódî
->
d©a_ty≥
)

879 
OAM_SOFT_TYPE_TFTP
:

880 
	`e›l_˘c_t·p_h™dÀr
(
pucIn
, 
usMsgLí
);

882 
OAM_SOFT_TYPE_CRC
:

883 
	`e›l_˘c_¸c_h™dÀr
(
pucIn
);

885 
OAM_SOFT_TYPE_LOAD
:

886 
	`e›l_˘c_lﬂd_h™dÀr
(
pucIn
);

888 
OAM_SOFT_TYPE_COMMIT
:

889 
	`e›l_˘c_commô_h™dÀr
(
pucIn
);

896 
	}
}

	@src/user/ctc_oam_var.c

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<mÆloc.h
>

28 
	~<uni°d.h
>

29 
	~<löux/ªboŸ.h
>

31 
	~"ï⁄_ﬂm_c⁄fig.h
"

32 
	~"ï⁄_ﬂm_îr.h
"

33 
	~"ï⁄_ﬂm_db.h
"

34 
	~"ï⁄_ﬂm_dbg.h
"

35 
	~"ï⁄_ﬂm_rx.h
"

37 
	~"˘c_ﬂm.h
"

38 
	~"˘c_ﬂm_v¨.h
"

40 
	~"lw_ty≥.h
"

41 
	~"lw_drv_pub.h
"

42 
	~"ﬂm.h
"

43 
	~"ﬂm_lw.h
"

44 
	~"mc_c⁄åﬁ.h
"

45 
	~<πk/p‹t.h
>

46 
	~<πk/vœn.h
>

47 
	~<πk/ï⁄.h
>

48 
	~<πk/ædp.h
>

49 
	~<hÆ/comm⁄/hÆ˘æ.h
>

50 
	~<ùc_¥Ÿocﬁ.h
>

51 
	~<lw_drv_ªq.h
>

52 
	~"ﬂm_Æ¨m.h
"

53 
	~<uni°d.h
>

54 
	~<f˙é.h
>

55 
	~<°dio.h
>

56 
	~"ufûe_¥o˚ss.h
"

65 
˘c_dbaThªshﬁd_t
 
	gdbaThªshﬁdDb
 = {

66 .
numQSë
 = 1,

67 .
	gªp‹tM≠
[0] = 0xff,

68 .
	gqueueSë
[0].
	gqueueThªshﬁd
[0] = 0xffff,

69 .
	gqueueSë
[0].
	gqueueThªshﬁd
[1] = 0xffff,

70 .
	gqueueSë
[0].
	gqueueThªshﬁd
[2] = 0xffff,

71 .
	gqueueSë
[0].
	gqueueThªshﬁd
[3] = 0xffff,

72 .
	gqueueSë
[0].
	gqueueThªshﬁd
[4] = 0xffff,

73 .
	gqueueSë
[0].
	gqueueThªshﬁd
[5] = 0xffff,

74 .
	gqueueSë
[0].
	gqueueThªshﬁd
[6] = 0xffff,

75 .
	gqueueSë
[0].
	gqueueThªshﬁd
[7] = 0xffff,

78 
	guni_p‹t_auto_√gŸüti⁄
 = 0x0f;

88 
BOOL
 
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
UINT32
 
vœnId
);

95 
	$˘c_ﬂm_gë_p‹tid
(

96 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

97 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

98 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
,

99 *
ucP‹tS
,

100 *
ucP‹tE
)

102 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

104 if(0xFF =
pV¨In°™t
->
v¨D©a
[0])

106 *
ucP‹tS
 = 1;

107 *
ucP‹tE
 = 
OAM_MAX_INSTANCE_ID
;

111 *
ucP‹tS
 = 
pV¨In°™t
->
v¨D©a
[0];

112 *
ucP‹tE
 = 
pV¨In°™t
->
v¨D©a
[0];

115 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

117 if((
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tTy≥
 !
CTC_VAR_INSTANT_PORTTYPE_ETHERNET
)

118 || ((
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 > 
CTC_MAX_SUBPORT_NUM
)

119 &&(
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 != 0xFF)

120 &&(
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 != 0xFFFF)))

131 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

132 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

139 
pV¨C⁄èöî
->
v¨Width
 |
CTC_VAR_CONTAINER_INDICATOR
;

141  
EPON_OAM_ERR_PARAM
;

144 if((0xFF =
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
)

145 ||(0xFFFF =
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
))

147 *
ucP‹tS
 = 1;

148 *
ucP‹tE
 = 
OAM_MAX_INSTANCE_ID
;

152 *
ucP‹tS
 = 
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
;

153 *
ucP‹tE
 = 
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
;

157  
EPON_OAM_ERR_OK
;

158 
	}
}

160 
	$˘c_ﬂm_add_év
(

161 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

162 *
p_byã
,

163 
ucP‹tS
)

165 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°_2_0
;

166 
ﬂm_ö°™˚_év_t
 *
p_ö°_2_1
;

167 *
tmp_±r
;

180 if(
NULL
 =
p_byã
)

182  
EPON_OAM_ERR_PARAM
;

185 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

187 
p_ö°_2_0
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_byã
;

188 
p_ö°_2_0
->
bønch
 = 
pV¨In°™t
->
v¨Desc
.
v¨Bønch
;

189 
p_ö°_2_0
->
Àaf
 = 
pV¨In°™t
->
v¨Desc
.
v¨Lóf
;

190 
p_ö°_2_0
->
width
 = 
pV¨In°™t
->
v¨Width
;

196 
p_ö°_2_0
->
vÆue
 = 
ucP‹tS
;

198  (
ﬂm_ö°™˚_év_t_2_0
);

200 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

202 
p_ö°_2_1
 = (
ﬂm_ö°™˚_év_t
 *)
p_byã
;

203 
p_ö°_2_1
->
bønch
 = 
pV¨In°™t
->
v¨Desc
.
v¨Bønch
;

204 
p_ö°_2_1
->
Àaf
 = 
pV¨In°™t
->
v¨Desc
.
v¨Lóf
;

205 
p_ö°_2_1
->
width
 = 
pV¨In°™t
->
v¨Width
;

217 
tmp_±r
 = (*)&(
p_ö°_2_1
->
vÆue
);

218 
tmp_±r
[0] = 
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tTy≥
;

219 
tmp_±r
[1] = 
pV¨In°™t
->
∑r£
.
uniP‹t
.
chassisNo
;

220 
tmp_±r
[2] = 0x00;

221 
tmp_±r
[3] = 
ucP‹tS
;

223  (
ﬂm_ö°™˚_év_t
);

225 
	}
}

227 
	$˘c_ﬂm_v¨Cb_dummy_£t
(

228 
ŒidIdx
,

229 
›
,

230 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

231 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

232 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

236 
	`CTC_DEBUG
("%†%d\n", 
__FUNCTION__
, 
__LINE__
);

238 
pV¨C⁄èöî
->
v¨Width
 = 0x80;

239  
EPON_OAM_ERR_OK
;

240 
	}
}

243 
	$˘c_ﬂm_v¨Cb_Æ¨mAdmö_£t
(

244 
ŒidIdx
,

245 
›
,

246 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

247 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

248 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

252 
u8_t
 
æt
=
ERROR
, 
ucP‹tS
, 
ucP‹tE
;

253 
ﬂm_Æ¨m_admö_íåy_t
* 
p_Æ¨m_admö_íåy
;

254 
u8_t
 
a˘i⁄
;

255 
ªt_vÆue
 =0;

257 if(6 !
pV¨C⁄èöî
->
v¨Width
)

259  
EPON_OAM_ERR_UNKNOWN
;

262 
p_Æ¨m_admö_íåy
 = (
ﬂm_Æ¨m_admö_íåy_t
*)
pV¨C⁄èöî
->
pV¨D©a
;

265 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_DEACTIVE
 =
p_Æ¨m_admö_íåy
->
Æ¨m_c⁄fig
)

267 
a˘i⁄
 = 
DISABLED
;

269 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_ACTIVE
 =
p_Æ¨m_admö_íåy
->
Æ¨m_c⁄fig
)

271 
a˘i⁄
 = 
ENABLED
;

275 
	`CTC_DEBUG
("\r\nunknownálarmAdmináction\r\n");

279 if(
NULL
 !
pV¨In°™t
)

282 
	`¥ötf
("%†%d\n", 
__FILE__
, 
__LINE__
);

283 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

284 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

286  
EPON_OAM_ERR_OK
;

288 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

290 
æt
 = 
	`CTC_STACK_Æ¨m_£t_°©e
(
p_Æ¨m_admö_íåy
->
Æ¨m_id
, 
ucP‹tS
, 
a˘i⁄
);

291 if(
NO_ERROR
 !
æt
)

293 
£nd_r•
;

299 
	`¥ötf
("%†%d\n", 
__FILE__
, 
__LINE__
);

300 
æt
 = 
	`CTC_STACK_Æ¨m_£t_°©e
(
p_Æ¨m_admö_íåy
->
Æ¨m_id
, 0, 
a˘i⁄
);

301 if(
NO_ERROR
 !
æt
)

303 
£nd_r•
;

306 
	`CTC_DEBUG
("alarm_id %x config %d\n",

307 
p_Æ¨m_admö_íåy
->
Æ¨m_id
,

308 
p_Æ¨m_admö_íåy
->
Æ¨m_c⁄fig
);

309 
£nd_r•
:

310 if(
æt
 !
NO_ERROR
)

312 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

316 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

318  
EPON_OAM_ERR_OK
;

319 
	}
}

321 
	$˘c_ﬂm_v¨Cb_p⁄if_Æ¨mThªshﬁd_£t
(

322 
ŒidIdx
,

323 
›
,

324 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

325 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

326 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

330 
u8_t
 
æt
=
ERROR
;

331 
ﬂm_Æ¨m_thªshﬁd_íåy_t
 *
p_Æ¨m_thªshﬁd_íåy
;

332 
u8_t
 
a˘i⁄
;

333 
ªt_vÆue
 =0;

335 
p_Æ¨m_thªshﬁd_íåy
 = (
ﬂm_Æ¨m_thªshﬁd_íåy_t
 *)
pV¨C⁄èöî
->
pV¨D©a
;

336 
æt
 = 
	`CTC_STACK_Æ¨m_£t_thr
(
p_Æ¨m_thªshﬁd_íåy
->
Æ¨m_id
,

338 
p_Æ¨m_thªshﬁd_íåy
->
øisög_thªshﬁd
,

339 
p_Æ¨m_thªshﬁd_íåy
->
ÁŒög_thªshﬁd
);

341 
	`CTC_DEBUG
("unsignedálarm_id %dÑaising_thr %d falling_thr %d\n",

342 
p_Æ¨m_thªshﬁd_íåy
->
Æ¨m_id
,

343 
p_Æ¨m_thªshﬁd_íåy
->
øisög_thªshﬁd
,

344 
p_Æ¨m_thªshﬁd_íåy
->
ÁŒög_thªshﬁd
);

347 
	`CTC_DEBUG
("signedálarm_id %dÑaising_thr %d falling_thr %d\n",

348 
p_Æ¨m_thªshﬁd_íåy
->
Æ¨m_id
,

349 ()
p_Æ¨m_thªshﬁd_íåy
->
øisög_thªshﬁd
,

350 ()
p_Æ¨m_thªshﬁd_íåy
->
ÁŒög_thªshﬁd
);

351 if(
NO_ERROR
 !
æt
)

353 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

357 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

359  
EPON_OAM_ERR_OK
;

360 
	}
}

363 
	$˘c_ﬂm_v¨Cb_aPhyAdmöSèã_gë
(

364 
ŒidIdx
,

365 
›
,

366 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

367 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

368 *
pV¨C⁄èöî_TŸÆ_Lí
,

369 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

373 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

374 
ﬂm_phy_admö°©e_t
 *
p_admö
;

375 
BOOL
 
bP‹tSètus
 = 
TRUE
;

376 
ªt_vÆue
 =0;

377 
év_Àn
 = 0;

378 
u32_t
 *
±mp_vÆue
;

380 if(
NULL
 =
pV¨In°™t
)

382  
EPON_OAM_ERR_NOT_FOUND
;

385 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

386 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

388  
EPON_OAM_ERR_OK
;

410 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

411 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_APHYADMINSTATE_LEN
;

413 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

414 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

416  
EPON_OAM_ERR_MEM
;

418 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

419 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

421 i‡–
NO_ERROR
 =
	`DRV_GëP‹tLökSèã
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

423 i‡–
TRUE
 =
bP‹tSètus
 )

425 *
±mp_vÆue
 = 
CTC_OAM_VAR_APHYADMINSTATE_ENABLE
;

429 *
±mp_vÆue
 = 
CTC_OAM_VAR_APHYADMINSTATE_DISABLE
;

433 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

434 if(
ucP‹tS
 =
ucP‹tE
)

436  
EPON_OAM_ERR_OK
;

440 
ucP‹tS
 += 1;

443 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

446 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

447 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

449  
EPON_OAM_ERR_PARAM
;

451 
p_byã
 +
év_Àn
;

464 
p_admö
 = (
ﬂm_phy_admö°©e_t
*)
p_byã
;

465 
p_admö
->
bønch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

466 
p_admö
->
Àaf
 = 
OAM_ATTR_PHY_ADMIN
;

467 
p_admö
->
width
 = 
CTC_OAM_VAR_APHYADMINSTATE_LEN
;

469 i‡–
NO_ERROR
 =
	`DRV_GëP‹tLökSèã
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

471 i‡–
TRUE
 =
bP‹tSètus
 )

473 
p_admö
->
vÆue
 = 
CTC_OAM_VAR_APHYADMINSTATE_ENABLE
;

477 
p_admö
->
vÆue
 = 
CTC_OAM_VAR_APHYADMINSTATE_DISABLE
;

485 
p_byã
 +(
ﬂm_phy_admö°©e_t
);

488 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

490  
EPON_OAM_ERR_OK
;

491 
	}
}

494 
	$˘c_ﬂm_v¨Cb_aAutoNegAdmöSèã_gë
(

495 
ŒidIdx
,

496 
›
,

497 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

498 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

499 *
pV¨C⁄èöî_TŸÆ_Lí
,

500 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

504 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

505 
ﬂm_aut⁄eg_admö°©e_t
 *
p_admö
;

506 
BOOL
 
bP‹tSètus
 = 
TRUE
;

507 
ªt_vÆue
 =0;

508 
év_Àn
 = 0;

509 
u32_t
 *
±mp_vÆue
;

511 if(
NULL
 =
pV¨In°™t
)

513  
EPON_OAM_ERR_NOT_FOUND
;

516 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

517 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

519  
EPON_OAM_ERR_OK
;

541 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

542 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_LEN
;

544 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

545 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

547  
EPON_OAM_ERR_MEM
;

549 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

550 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

552 i‡–
NO_ERROR
 =
	`DRV_GëP‹tAutoNegAdmö
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

554 i‡–
TRUE
 =
bP‹tSètus
 )

556 *
±mp_vÆue
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_ENABLE
;

560 *
±mp_vÆue
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_DISABLE
;

564 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

565 if(
ucP‹tS
 =
ucP‹tE
)

567  
EPON_OAM_ERR_OK
;

571 
ucP‹tS
 += 1;

574 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

577 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

578 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

580  
EPON_OAM_ERR_PARAM
;

582 
p_byã
 +
év_Àn
;

595 
p_admö
 = (
ﬂm_aut⁄eg_admö°©e_t
*)
p_byã
;

596 
p_admö
->
bønch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

597 
p_admö
->
Àaf
 = 
OAM_ATTR_AUTONEG_ADMIN_STATE
;

598 
p_admö
->
width
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_LEN
;

600 i‡–
NO_ERROR
 =
	`DRV_GëP‹tAutoNegAdmö
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

602 i‡–
TRUE
 =
bP‹tSètus
 )

604 
p_admö
->
vÆue
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

608 
p_admö
->
vÆue
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

616 
p_byã
 +(
ﬂm_aut⁄eg_admö°©e_t
);

619 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

621  
EPON_OAM_ERR_OK
;

622 
	}
}

625 
	$˘c_ﬂm_v¨Cb_aAutoNegLoˇlTechnﬁogyAbûôy_gë
(

626 
ŒidIdx
,

627 
›
,

628 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

629 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

630 *
pV¨C⁄èöî_TŸÆ_Lí
,

631 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

635 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

636 
ﬂm_aut⁄eg_loˇœbûôy_t
 *
p_loˇl
;

637 
ªt_vÆue
 =0;

638 
év_Àn
 = 0;

639 
u32_t
 *
±mp_vÆue
;

641 if(
NULL
 =
pV¨In°™t
)

643  
EPON_OAM_ERR_NOT_FOUND
;

646 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

647 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

649  
EPON_OAM_ERR_OK
;

679 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

680 
pV¨C⁄èöî
->
v¨Width
 = (
ﬂm_aut⁄eg_loˇœbûôy_t
) - 4;

682 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

683 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

685  
EPON_OAM_ERR_MEM
;

687 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

727 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

728 *
±mp_vÆue
 = 8;

729 
p_byã
 += 4;

732 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

733 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

734 
p_byã
 += 4;

737 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

738 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

739 
p_byã
 += 4;

742 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

743 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

744 
p_byã
 += 4;

747 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

748 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

749 
p_byã
 += 4;

752 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

753 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

754 
p_byã
 += 4;

757 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

758 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

759 
p_byã
 += 4;

762 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

763 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

764 
p_byã
 += 4;

767 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

768 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

769 
p_byã
 += 4;

771 if(
ucP‹tS
 =
ucP‹tE
)

773  
EPON_OAM_ERR_OK
;

777 
ucP‹tS
 += 1;

780 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

783 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

784 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

786  
EPON_OAM_ERR_PARAM
;

788 
p_byã
 +
év_Àn
;

809 
p_loˇl
 = (
ﬂm_aut⁄eg_loˇœbûôy_t
*)
p_byã
;

810 
p_loˇl
->
bønch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

811 
p_loˇl
->
Àaf
 = 
OAM_ATTR_AUTONEG_LOCAL_ABILITY
;

812 
p_loˇl
->
width
 = (
ﬂm_aut⁄eg_loˇœbûôy_t
) - 4;

813 
p_loˇl
->
numbî
 = 8;

814 
p_loˇl
->
fú°
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

815 
p_loˇl
->
£c⁄d
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

816 
p_loˇl
->
thúd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

817 
p_loˇl
->
fouπh
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

818 
p_loˇl
->
fi·h
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

819 
p_loˇl
->
sixth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

820 
p_loˇl
->
£víth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

821 
p_loˇl
->
eighth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

822 
p_byã
 +(
ﬂm_aut⁄eg_loˇœbûôy_t
);

825 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

827  
EPON_OAM_ERR_OK
;

828 
	}
}

831 
	$˘c_ﬂm_v¨Cb_aAutoNegAdvîti£dTechnﬁogyAbûôy_gë
(

832 
ŒidIdx
,

833 
›
,

834 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

835 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

836 *
pV¨C⁄èöî_TŸÆ_Lí
,

837 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

841 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

842 
ﬂm_aut⁄eg_advabûôy_t
 *
p_adv
;

843 
ªt_vÆue
 =0;

844 
év_Àn
 = 0;

845 
u32_t
 *
±mp_vÆue
;

847 if(
NULL
 =
pV¨In°™t
)

849  
EPON_OAM_ERR_NOT_FOUND
;

852 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

853 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

855  
EPON_OAM_ERR_OK
;

885 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

886 
pV¨C⁄èöî
->
v¨Width
 = (
ﬂm_aut⁄eg_advabûôy_t
) - 4;

888 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

889 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

891  
EPON_OAM_ERR_MEM
;

893 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

933 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

934 *
±mp_vÆue
 = 8;

935 
p_byã
 += 4;

938 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

939 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

940 
p_byã
 += 4;

943 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

944 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

945 
p_byã
 += 4;

948 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

949 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

950 
p_byã
 += 4;

953 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

954 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

955 
p_byã
 += 4;

958 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

959 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

960 
p_byã
 += 4;

963 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

964 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

965 
p_byã
 += 4;

968 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

969 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

970 
p_byã
 += 4;

973 
±mp_vÆue
 = (
u32_t
 *)
p_byã
;

974 *
±mp_vÆue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

975 
p_byã
 += 4;

977 if(
ucP‹tS
 =
ucP‹tE
)

979  
EPON_OAM_ERR_OK
;

983 
ucP‹tS
 += 1;

986 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

989 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

990 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

992  
EPON_OAM_ERR_PARAM
;

994 
p_byã
 +
év_Àn
;

1015 
p_adv
 = (
ﬂm_aut⁄eg_advabûôy_t
*)
p_byã
;

1016 
p_adv
->
bønch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

1017 
p_adv
->
Àaf
 = 
OAM_ATTR_AUTONEG_ADV_ABILITY
;

1018 
p_adv
->
width
 = (
ﬂm_aut⁄eg_advabûôy_t
) - 4;

1019 
p_adv
->
numbî
 = 8;

1020 
p_adv
->
fú°
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

1021 
p_adv
->
£c⁄d
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

1022 
p_adv
->
thúd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

1023 
p_adv
->
fouπh
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

1024 
p_adv
->
fi·h
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

1025 
p_adv
->
sixth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

1026 
p_adv
->
£víth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

1027 
p_adv
->
eighth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

1028 
p_byã
 +(
ﬂm_aut⁄eg_advabûôy_t
);

1031 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

1033  
EPON_OAM_ERR_OK
;

1034 
	}
}

1037 
	$˘c_ﬂm_v¨Cb_aFECAbûôy_gë
(

1038 
ŒidIdx
,

1039 
›
,

1040 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1041 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1042 *
pV¨C⁄èöî_TŸÆ_Lí
,

1043 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1047 
gëVÆue
;

1049 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1050 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_AFECABILITY_LEN
;

1051 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1052 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1054  
EPON_OAM_ERR_MEM
;

1058 
gëVÆue
 = 
CTC_OAM_VAR_AFECABILITY_SUPPORTED
;

1059 
pV¨C⁄èöî
->
pV¨D©a
[0] = ((*)&
gëVÆue
)[0];

1060 
pV¨C⁄èöî
->
pV¨D©a
[1] = ((*)&
gëVÆue
)[1];

1061 
pV¨C⁄èöî
->
pV¨D©a
[2] = ((*)&
gëVÆue
)[2];

1062 
pV¨C⁄èöî
->
pV¨D©a
[3] = ((*)&
gëVÆue
)[3];

1064  
EPON_OAM_ERR_OK
;

1065 
	}
}

1068 
	$˘c_ﬂm_v¨Cb_aFecMode_gë
(

1069 
ŒidIdx
,

1070 
›
,

1071 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1072 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1073 *
pV¨C⁄èöî_TŸÆ_Lí
,

1074 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1078 
ªt
;

1079 
°©e
;

1080 
gëVÆue
;

1082 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1083 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_AFECMODE_LEN
;

1084 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1085 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1087  
EPON_OAM_ERR_MEM
;

1090 
ªt
 = 
	`DRV_GëFecMode
(&
°©e
);

1091 if(
NO_ERROR
 !
ªt
)

1093 
	`CTC_DEBUG
("aFecMode_get fail\n");

1094  
EPON_OAM_ERR_UNKNOWN
;

1097 if((
°©e
 !
ENABLED
Ë&& (°©ê!
DISABLED
))

1099 
gëVÆue
 = 
CTC_OAM_VAR_AFECMODE_UNKNOWN
;

1103 if(
ENABLED
 =
°©e
)

1105 
gëVÆue
 = 
CTC_OAM_VAR_AFECMODE_ENABLED
;

1109 
gëVÆue
 = 
CTC_OAM_VAR_AFECMODE_DISABLED
;

1114 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
gëVÆue
);

1116  
EPON_OAM_ERR_OK
;

1117 
	}
}

1120 
	$˘c_ﬂm_v¨Cb_aFecMode_£t
(

1121 
ŒidIdx
,

1122 
›
,

1123 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1124 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1125 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1129 
ªt
;

1130 
£tVÆue
;

1132 if(
CTC_OAM_VAR_AFECMODE_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

1134  
EPON_OAM_ERR_UNKNOWN
;

1136 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
£tVÆue
);

1139 
£tVÆue
)

1141 
CTC_OAM_VAR_AFECMODE_ENABLED
:

1143 
ªt
 = 
	`DRV_SëFecMode
(
ENABLED
);

1144 if(
NO_ERROR
 !
ªt
)

1146 
	`CTC_DEBUG
("aFecMode_set ENABLED fail\n");

1147 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1150 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1153 
CTC_OAM_VAR_AFECMODE_DISABLED
:

1155 
ªt
 = 
	`DRV_SëFecMode
(
DISABLED
);

1156 if(
NO_ERROR
 !
ªt
)

1158 
	`CTC_DEBUG
("aFecMode_set DISABLED fail\n");

1159 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1162 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1165 
CTC_OAM_VAR_AFECMODE_UNKNOWN
:

1167 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

1171  
EPON_OAM_ERR_OK
;

1172 
	}
}

1175 
	$˘c_ﬂm_v¨Cb_acPhyAdmöC⁄åﬁ_£t
(

1176 
ŒidIdx
,

1177 
›
,

1178 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1179 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1180 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1184 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

1185 
ﬂm_phy_admöc⁄åﬁ_t
 
p_phy_admö
;

1186 
u32_t
 
a˘i⁄
;

1187 
ªt_vÆue
 =0;

1189 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

1191  
EPON_OAM_ERR_UNKNOWN
;

1194 if(
NULL
 =
pV¨In°™t
)

1196  
EPON_OAM_ERR_NOT_FOUND
;

1199 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

1200 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

1202  
EPON_OAM_ERR_OK
;

1206 
p_phy_admö
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

1207 
p_phy_admö
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

1208 
p_phy_admö
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

1209 
	`mem˝y
((*)(&
p_phy_admö
.
vÆue
), 
pV¨C⁄èöî
->
pV¨D©a
, 4);

1211 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_DEACTIVE
 =
p_phy_admö
.
vÆue
)

1213 
a˘i⁄
 = 
DISABLED
;

1215 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_ACTIVE
 =
p_phy_admö
.
vÆue
)

1217 
a˘i⁄
 = 
ENABLED
;

1221 
	`CTC_DEBUG
("\r\nunknown PhyAdmináction\r\n");

1224 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1226 
	`CTC_DEBUG
("P‹t%d'†PhyAdmö sëÉ«bÀ: %d\n", 
ucP‹tS
, 
a˘i⁄
);

1227 
æt
 = 
	`DRV_SëP‹tLökSèã
 (
ucP‹tS
, 
a˘i⁄
);

1228 if(
æt
 =
OPL_OK
)

1230 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1234 
	`CTC_DEBUG
("PhyAdminControl_set fail\n");

1235 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1239  
EPON_OAM_ERR_OK
;

1240 
	}
}

1243 
	$˘c_ﬂm_v¨Cb_acAutoNegRe°¨tAutoC⁄fig_£t
(

1244 
ŒidIdx
,

1245 
›
,

1246 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1247 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1248 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1252 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

1253 
ªt_vÆue
 =0;

1255 if(
CTC_OAM_VAR_ACAUTONEGRESTARTAUTOCONFIG_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

1257  
EPON_OAM_ERR_UNKNOWN
;

1260 if(
NULL
 =
pV¨In°™t
)

1262  
EPON_OAM_ERR_NOT_FOUND
;

1265 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

1266 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

1268  
EPON_OAM_ERR_OK
;

1271 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1273 
	`CTC_DEBUG
("P‹t%d'†AutoNegÑe°¨t\n", 
ucP‹tS
);

1274 
æt
 = 
	`DRV_P‹tRe°¨tNeg
(
ucP‹tS
);

1275 if(
æt
 =
OPL_OK
)

1277 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1281 
	`CTC_DEBUG
("AutoNegRestartAutoConfig_set fail\n");

1282 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1286  
EPON_OAM_ERR_OK
;

1287 
	}
}

1290 
	$˘c_ﬂm_v¨Cb_acAutoNegAdmöC⁄åﬁ_£t
(

1291 
ŒidIdx
,

1292 
›
,

1293 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1294 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1295 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1299 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

1300 
ﬂm_aut⁄eg_admöc⁄åﬁ_t
 
p_auto_admö
;

1301 
u32_t
 
a˘i⁄
;

1302 
ªt_vÆue
 =0;

1304 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

1306  
EPON_OAM_ERR_UNKNOWN
;

1309 if(
NULL
 =
pV¨In°™t
)

1311  
EPON_OAM_ERR_NOT_FOUND
;

1314 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

1315 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

1317  
EPON_OAM_ERR_OK
;

1321 
p_auto_admö
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

1322 
p_auto_admö
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

1323 
p_auto_admö
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

1324 
	`mem˝y
((*)(&
p_auto_admö
.
ödiˇti⁄
), 
pV¨C⁄èöî
->
pV¨D©a
, 4);

1326 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_DEACTIVE
 =
p_auto_admö
.
ödiˇti⁄
)

1328 
a˘i⁄
 = 
DISABLED
;

1330 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_ACTIVE
 =
p_auto_admö
.
ödiˇti⁄
)

1332 
a˘i⁄
 = 
ENABLED
;

1336 
	`CTC_DEBUG
("\r\nunknown AutoNegAdmináction\r\n");

1339 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1341 
	`CTC_DEBUG
("P‹t%d'†AutoNegAdmö sëÉ«bÀ: %d\n", 
ucP‹tS
, 
a˘i⁄
);

1342 
æt
 = 
	`DRV_SëP‹tAutoNeg
((
u32_t
)
ucP‹tS
, 
a˘i⁄
);

1343 if(
æt
 =
OPL_OK
)

1345 if(1 =
a˘i⁄
)

1348 
	`CTC_DEBUG
("autoÇego\n");

1349 
uni_p‹t_auto_√gŸüti⁄
 |1<<(
ucP‹tS
-1);

1354 
	`CTC_DEBUG
("noáutoÇego\n");

1355 
uni_p‹t_auto_√gŸüti⁄
 &~(1<<(
ucP‹tS
-1));

1358 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1362 
	`CTC_DEBUG
("AutoNegAdminControl_set fail\n");

1363 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1367  
EPON_OAM_ERR_OK
;

1368 
	}
}

1371 
	$˘c_ﬂm_v¨Cb_⁄uSn_gë
(

1372 
ŒidIdx
,

1373 
›
,

1374 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1375 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1376 *
pV¨C⁄èöî_TŸÆ_Lí
,

1377 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1381 
ﬂm_⁄u_víd‹
[4];

1382 *
pPå
;

1383 
modñSå
[4] = {0x0,0x0,0x02,0x54};

1384 
hwVîSå
[8] = {0x41,0x00};

1385 
swVîSå
[16] = {0x31,0x31,0x38,0x0,0x0,0x0};

1386 
ﬂm_c⁄fig_t
 
ﬂmC⁄fig
;

1387 
OLT_FLAG_E
 
ﬁt_Êag
;

1388 
ﬂm_⁄u_¢_t
 *
p_¢
;

1389 
	#u8_t
 

	)

1392 
u8_t
 
yŸc_⁄u_modñ
[4] = {0X00,0X00,0X01,0X41};

1393 
u8_t
 
yŸc_chù_víd‹
[2] = {0x45,0x36};

1394 
u8_t
 
yŸc_chù_modñ
[2] = {0x63,0x01};

1395 
u8_t
 
yŸc_chù_ªvisi⁄
 = 0x00;

1396 
u8_t
 
yŸc_chù_vîsi⁄
[3] = {0x06, 0x09, 0x1B};

1397 
u8_t
 
yŸc_fúm_vî
[
FIRM_LENGTH
]={0x01, 0x04};

1398 
u8_t
 
yŸc_⁄u_hw¨evî
[8] = "T_Ver.A";

1399 
u8_t
 
yŸc_⁄u_sw¨evî
[16] = {'V','4','0','0','R','0','0','1','B','0','1','2',0};

1401 
u8_t
 
zã_⁄u_modñ
[4] = {'D','4','0','0'};

1403 
u8_t
 
ﬂm_⁄u_modñ
[4] = {0x0,0x0,0x07,0x04};

1404 
u8_t
 
ﬂm_chù_víd‹
[2] = {0x45,0x30};

1405 
u8_t
 
ﬂm_chù_modñ
[2] = {0x67,0x50};

1406 
u8_t
 
ﬂm_chù_ªvisi⁄
 = 0xA0;

1407 
u8_t
 
ﬂm_chù_vîsi⁄
[3] = {0x08, 0x03, 0x1B};

1408 
u8_t
 
ﬂm_fúm_vî
[
FIRM_LENGTH
]={0x01, 0x00};

1409 
u8_t
 
ﬂm_⁄u_hw¨evî
[
MAX_BUILDTIME_SIZE
] = {0};

1410 
u8_t
 
ﬂm_⁄u_hw¨evî_deÁu…
[8] = {'A', '0'};

1412 
u8_t
 
ﬂm_⁄u_sw¨evî
[16] = 
CONFIG_RELEASE_VER
;

1415 
u8_t
 
øi£com_⁄u_modñ
[4] = {0X00,0X07,0Xca,0X2a};

1416 
u8_t
 
øi£com_chù_víd‹
[2] = {0x45,0x36};

1417 
u8_t
 
øi£com_chù_modñ
[2] = {0x63,0x01};

1418 
u8_t
 
øi£com_chù_ªvisi⁄
 = 0x00;

1419 
u8_t
 
øi£com_chù_vîsi⁄
[3] = {0x06, 0x09, 0x1B};

1420 
u8_t
 
øi£com_fúm_vî
[
FIRM_LENGTH
]={0x01, 0x04};

1421 
u8_t
 
øi£com_⁄u_hw¨evî
[8] = {0,0,0,0,0,0x41,0x2e,0x30};

1422 
u8_t
 
øi£com_⁄u_sw¨evî
[16] = {0x00,0x31,0x2E,0x34,0x32,0x2E,0x39,0x5F,

1425 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1426 
pV¨C⁄èöî
->
v¨Width
 = 38;

1427 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1428 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1430  
EPON_OAM_ERR_MEM
;

1433 
pPå
 = 
pV¨C⁄èöî
->
pV¨D©a
;

1438 
	`mem˝y
(
pPå
, 
ﬂm_⁄u_víd‹
,

1439 (
ﬂm_⁄u_víd‹
) > 4 ? 4 : (oam_onu_vendor));

1440 
pPå
 +(
ﬂm_⁄u_víd‹
);

1443 
	`mem˝y
(
pPå
, 
modñSå
,

1444 (
modñSå
) > 4 ? 4 : (modelStr));

1445 
pPå
 +(
modñSå
);

1449 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

1450 
	`mem˝y
(
pPå
, 
ﬂmC⁄fig
.
macAddr
, (oamConfig.macAddr));

1451 
pPå
 +(
ﬂmC⁄fig
.
macAddr
);

1455 
	`mem˝y
(
pPå
, 
hwVîSå
, (hwVerStr) > 8 ? 8 : (hwVerStr));

1456 
pPå
 +(
hwVîSå
);

1460 
	`mem˝y
(
pPå
, 
swVîSå
, (swVerStr) > 16 ? 16 : (swVerStr));

1461 
pPå
 +(
swVîSå
);

1464 
p_¢
 = (
ﬂm_⁄u_¢_t
*)
pPå
;

1465 
ﬁt_Êag
 = 
	`OamGëO…Fœg
();

1468 if(0 !
	`GëH¨dVîsi⁄
(
ﬂm_⁄u_hw¨evî
, (oam_onu_hwarever)))

1470 
	`mem˝y
(
ﬂm_⁄u_hw¨evî
, 
ﬂm_⁄u_hw¨evî_deÁu…
, (oam_onu_hwarever_default));

1472 
ﬁt_Êag
)

1477 
OLT_FLAG_YOTC
:

1482 
	`vosMemCpy
(
p_¢
->
modñ
, 
yŸc_⁄u_modñ
, 4);

1483 
	`vosMemCpy
(
p_¢
->
hw¨e_vî
,
yŸc_⁄u_hw¨evî
, 8);

1484 
	`vosMemCpy
(
p_¢
->
sw¨e_vî
,
yŸc_⁄u_sw¨evî
, 16);

1485 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
ﬂm_⁄u_víd‹
, 4);

1488 
OLT_FLAG_RAISECOM
:

1493 
	`vosMemCpy
(
p_¢
->
modñ
, 
øi£com_⁄u_modñ
, 4);

1494 
	`vosMemCpy
(
p_¢
->
hw¨e_vî
,
øi£com_⁄u_hw¨evî
, 8);

1495 
	`vosMemCpy
(
p_¢
->
sw¨e_vî
,
øi£com_⁄u_sw¨evî
, 16);

1496 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
ﬂm_⁄u_víd‹
, 4);

1498 
OLT_FLAG_ZTE
:

1499 
	`vosMemCpy
(
p_¢
->
modñ
, 
zã_⁄u_modñ
, 4);

1500 
	`vosMemCpy
(
p_¢
->
hw¨e_vî
,
ﬂm_⁄u_hw¨evî
, 8);

1501 
	`vosMemCpy
(
p_¢
->
sw¨e_vî
,
ﬂm_⁄u_sw¨evî
, 16);

1502 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
ﬂm_⁄u_víd‹
, 4);

1506 
OLT_FLAG_FIBERHOME
:

1507 
	`vosMemCpy
(
p_¢
->
modñ
, 
ﬂm_⁄u_modñ
, 4);

1508 
	`vosMemCpy
(
p_¢
->
hw¨e_vî
,
ﬂm_⁄u_hw¨evî
, 8);

1509 
	`vosMemCpy
(
p_¢
->
sw¨e_vî
,
ﬂm_⁄u_sw¨evî
, 16);

1510 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
ﬂm_⁄u_víd‹
, 4);

1516 
	`vosMemCpy
(
p_¢
->
modñ
, 
ﬂm_⁄u_modñ
, 4);

1517 
	`vosMemCpy
(
p_¢
->
hw¨e_vî
,
ﬂm_⁄u_hw¨evî
, 8);

1518 
	`vosMemCpy
(
p_¢
->
sw¨e_vî
,
ﬂm_⁄u_sw¨evî
, 16);

1519 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
modñSå
, 4);

1523 
	`ï⁄_ﬂm_c⁄fig_gë
(
ŒidIdx
, &
ﬂmC⁄fig
);

1524 
	`vosMemCpy
(
p_¢
->
⁄u_id
, 
ﬂmC⁄fig
.
macAddr
, 6);

1525 
	`vosMemCpy
(
p_¢
->
víd‹_id
, 
ﬂm_⁄u_víd‹
, 4);

1526 
pPå
 +(
ﬂm_⁄u_¢_t
);

1528  
EPON_OAM_ERR_OK
;

1529 
	}
}

1532 
	$˘c_ﬂm_v¨Cb_fúmw¨eVî_gë
(

1533 
ŒidIdx
,

1534 
›
,

1535 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1536 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1537 *
pV¨C⁄èöî_TŸÆ_Lí
,

1538 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1542 
ﬂm_fúm_vî
[2]={0x01, 0x04};

1544 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1545 
pV¨C⁄èöî
->
v¨Width
 = (
ﬂm_fúm_vî
);

1546 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1547 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1549  
EPON_OAM_ERR_MEM
;

1552 
	`mem˝y
(
pV¨C⁄èöî
->
pV¨D©a
, 
ﬂm_fúm_vî
,ÖV¨C⁄èöî->
v¨Width
);

1554  
EPON_OAM_ERR_OK
;

1555 
	}
}

1558 
	$˘c_ﬂm_v¨Cb_chù£tId_gë
(

1559 
ŒidIdx
,

1560 
›
,

1561 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1562 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1563 *
pV¨C⁄èöî_TŸÆ_Lí
,

1564 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1568 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1569 
pV¨C⁄èöî
->
v¨Width
 = 0x08;

1570 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1571 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1573  
EPON_OAM_ERR_MEM
;

1577 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x45;

1578 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x36;

1581 
pV¨C⁄èöî
->
pV¨D©a
[2] = 0x63;

1582 
pV¨C⁄èöî
->
pV¨D©a
[3] = 0x01;

1585 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x00;

1588 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x08;

1589 
pV¨C⁄èöî
->
pV¨D©a
[6] = 0x03;

1590 
pV¨C⁄èöî
->
pV¨D©a
[7] = 0x1B;

1592  
EPON_OAM_ERR_OK
;

1593 
	}
}

1596 
	$˘c_ﬂm_v¨Cb_⁄uC≠abûôõs1_gë
(

1597 
ŒidIdx
,

1598 
›
,

1599 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1600 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1601 *
pV¨C⁄èöî_TŸÆ_Lí
,

1602 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1607 
OLT_FLAG_E
 
ﬁt_Êag
;

1609 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1611 
pV¨C⁄èöî
->
v¨Width
 = 0x1A;

1612 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1613 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1615  
EPON_OAM_ERR_MEM
;

1619 
ﬁt_Êag
 = 
	`OamGëO…Fœg
();

1622 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x01;

1625 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN104N
Ë|| deföed(
CONFIG_PRODUCT_EPN104W
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG_A
Ë|| deföed(
CONFIG_PRODUCT_EPN105
Ë|| deföed(
CONFIG_PRODUCT_GPN104N
)

1629 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x04;

1630 
pV¨C⁄èöî
->
pV¨D©a
[9] = 0x0f;

1633 
pV¨C⁄èöî
->
pV¨D©a
[2] = 0x00;

1634 
pV¨C⁄èöî
->
pV¨D©a
[3] = 0x00;

1635 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x00;

1636 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x00;

1637 
pV¨C⁄èöî
->
pV¨D©a
[6] = 0x00;

1638 
pV¨C⁄èöî
->
pV¨D©a
[7] = 0x00;

1639 
pV¨C⁄èöî
->
pV¨D©a
[8] = 0x00;

1641 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN101R
Ë|| deföed(
CONFIG_PRODUCT_EPN101ZG
)

1642 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x01;

1645 
pV¨C⁄èöî
->
pV¨D©a
[2] = 0x00;

1646 
pV¨C⁄èöî
->
pV¨D©a
[3] = 0x00;

1647 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x00;

1648 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x00;

1649 
pV¨C⁄èöî
->
pV¨D©a
[6] = 0x00;

1650 
pV¨C⁄èöî
->
pV¨D©a
[7] = 0x00;

1651 
pV¨C⁄èöî
->
pV¨D©a
[8] = 0x00;

1652 
pV¨C⁄èöî
->
pV¨D©a
[9] = 0x01;

1653 #ñi‡
	`deföed
(
CONFIG_PRODUCT_5500
)

1654 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x03;

1657 
pV¨C⁄èöî
->
pV¨D©a
[2] = 0x00;

1658 
pV¨C⁄èöî
->
pV¨D©a
[3] = 0x00;

1659 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x00;

1660 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x00;

1661 
pV¨C⁄èöî
->
pV¨D©a
[6] = 0x00;

1662 
pV¨C⁄èöî
->
pV¨D©a
[7] = 0x00;

1663 
pV¨C⁄èöî
->
pV¨D©a
[8] = 0x00;

1664 
pV¨C⁄èöî
->
pV¨D©a
[9] = 0x07;

1669 
pV¨C⁄èöî
->
pV¨D©a
[10] = 0x00;

1670 
pV¨C⁄èöî
->
pV¨D©a
[18] = 0x00;

1676 
pV¨C⁄èöî
->
pV¨D©a
[11] = 0x00;

1677 
pV¨C⁄èöî
->
pV¨D©a
[12] = 0x00;

1678 
pV¨C⁄èöî
->
pV¨D©a
[13] = 0x00;

1679 
pV¨C⁄èöî
->
pV¨D©a
[14] = 0x00;

1680 
pV¨C⁄èöî
->
pV¨D©a
[15] = 0x00;

1681 
pV¨C⁄èöî
->
pV¨D©a
[16] = 0x00;

1682 
pV¨C⁄èöî
->
pV¨D©a
[17] = 0x00;

1686 
pV¨C⁄èöî
->
pV¨D©a
[19] = 0x00;

1689 
pV¨C⁄èöî
->
pV¨D©a
[20] = 0x00;

1692 
pV¨C⁄èöî
->
pV¨D©a
[21] = 0x08;

1695 
pV¨C⁄èöî
->
pV¨D©a
[22] = 0x08;

1698 
pV¨C⁄èöî
->
pV¨D©a
[23] = 0x08;

1701 
pV¨C⁄èöî
->
pV¨D©a
[24] = 0x08;

1704 
pV¨C⁄èöî
->
pV¨D©a
[25] = 0x00;

1706  
EPON_OAM_ERR_OK
;

1707 
	}
}

1710 
	$˘c_ﬂm_v¨Cb_›tiˇlTøns˚ivîDügnosis_gë
(

1711 
ŒidIdx
,

1712 
›
,

1713 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1714 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1715 *
pV¨C⁄èöî_TŸÆ_Lí
,

1716 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1720 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1722 
pV¨C⁄èöî
->
v¨Width
 = 0x0A;

1723 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1724 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1726  
EPON_OAM_ERR_MEM
;

1730 
πk_å™s˚ivî_d©a_≠p_t
 
∑ø
;

1732 
	`mem£t
(&
∑ø
, 0, (para));

1733 if(0 !
	`Io˘l_GëP⁄macTøns˚ivî
(
RTK_TRANSCEIVER_PARA_TYPE_TEMPERATURE_
, &
∑ø
))

1735 
	`¥ötf
("GetÖon TEMPERATURE fail\n");

1736  
EPON_OAM_ERR_PARAM
;

1738 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
∑ø
.
buf
[0];

1739 
pV¨C⁄èöî
->
pV¨D©a
[1] = 
∑ø
.
buf
[1];

1742 
	`mem£t
(&
∑ø
, 0, (para));

1743 if(0 !
	`Io˘l_GëP⁄macTøns˚ivî
(
RTK_TRANSCEIVER_PARA_TYPE_VOLTAGE_
, &
∑ø
))

1745 
	`¥ötf
("GetÖon VOLTAGE fail\n");

1746  
EPON_OAM_ERR_PARAM
;

1748 
pV¨C⁄èöî
->
pV¨D©a
[2] = 
∑ø
.
buf
[0];

1749 
pV¨C⁄èöî
->
pV¨D©a
[3] = 
∑ø
.
buf
[1];

1752 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x55;

1753 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x66;

1756 
	`mem£t
(&
∑ø
, 0, (para));

1757 if(0 !
	`Io˘l_GëP⁄macTøns˚ivî
(
RTK_TRANSCEIVER_PARA_TYPE_TX_POWER_
, &
∑ø
))

1759 
	`¥ötf
("GetÖon TX_POWER fail\n");

1760  
EPON_OAM_ERR_PARAM
;

1762 
pV¨C⁄èöî
->
pV¨D©a
[6] = 
∑ø
.
buf
[0];

1763 
pV¨C⁄èöî
->
pV¨D©a
[7] = 
∑ø
.
buf
[1];

1766 
	`mem£t
(&
∑ø
, 0, (para));

1767 if(0 !
	`Io˘l_GëP⁄macTøns˚ivî
(
RTK_TRANSCEIVER_PARA_TYPE_RX_POWER_
, &
∑ø
))

1769 
	`¥ötf
("GetÖon RX_POWER fail\n");

1770  
EPON_OAM_ERR_PARAM
;

1772 
pV¨C⁄èöî
->
pV¨D©a
[8] = 
∑ø
.
buf
[0];

1773 
pV¨C⁄èöî
->
pV¨D©a
[9] = 
∑ø
.
buf
[1];

1777  
EPON_OAM_ERR_OK
;

1778 
	}
}

1781 
	$˘c_ﬂm_v¨Cb_£rvi˚Sœ_gë
(

1782 
ŒidIdx
,

1783 
›
,

1784 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1785 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1786 *
pV¨C⁄èöî_TŸÆ_Lí
,

1787 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1791 
u8_t
 
›î©i⁄
;

1792 
u8_t
 
queue_num
;

1793 
u8_t
 *
p_byã
;

1794 
ﬂm_£rvi˚_¶a_body_hdr_t
 *
p_¶a_body_hdr
;

1795 
ﬂm_£rvi˚_¶a_body_íåy_t
 *
p_¶a_body_íåy
;

1796 
u8_t
 
i
;

1798 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1799 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

1800 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1802  
EPON_OAM_ERR_MEM
;

1804 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

1806 
›î©i⁄
 = 
OAM_CTC_SERVICE_DBA_ACTIVE
;

1808 if(
›î©i⁄
 =
OAM_CTC_SERVICE_DBA_DEACTIVE
)

1810 
pV¨C⁄èöî
->
v¨Width
 = 1;

1811 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
›î©i⁄
;

1812 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

1814 if(
›î©i⁄
 =
OAM_CTC_SERVICE_DBA_ACTIVE
)

1816 
queue_num
 = 8;

1817 
pV¨C⁄èöî
->
v¨Width
 = 8 + 10 * 
queue_num
;

1818 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
›î©i⁄
;

1819 
p_byã
 += 1;

1821 
p_¶a_body_hdr
 = (
ﬂm_£rvi˚_¶a_body_hdr_t
 *)
p_byã
;

1822 
p_¶a_body_hdr
->
scheduÀ_scheme
 = 0;

1823 
p_¶a_body_hdr
->
high_¥i_boundry
 = 7;

1824 
p_¶a_body_hdr
->
cy˛e_Àn
 = 0;

1825 
p_¶a_body_hdr
->
£rvi˚_num
 = 8;

1826 
p_byã
 +(
ﬂm_£rvi˚_¶a_body_hdr_t
);

1828 
i
 = 0; i < 
queue_num
; i++)

1830 
p_¶a_body_íåy
 = (
ﬂm_£rvi˚_¶a_body_íåy_t
 *)
p_byã
;

1831 
p_¶a_body_íåy
->
queue_id
 = 
i
;

1832 
p_¶a_body_íåy
->
fix_size
 = 0;

1833 
p_¶a_body_íåy
->
fix_bw
 = 0;

1834 
p_¶a_body_íåy
->
gu¨™ãed_bw
 = 0;

1835 
p_¶a_body_íåy
->
be°_eff‹_bw
 = 0;

1836 
p_¶a_body_íåy
->
wº_weight
 = 0;

1837 
p_byã
 +(
ﬂm_£rvi˚_¶a_body_íåy_t
);

1841  
EPON_OAM_ERR_OK
;

1842 
	}
}

1845 
	$˘c_ﬂm_v¨Cb_£rvi˚Sœ_£t
(

1846 
ŒidIdx
,

1847 
›
,

1848 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1849 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1850 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1854 
ﬂm_£rvi˚_¶a_t
 
p_¶a
;

1855 
ﬂm_£rvi˚_¶a_body_hdr_t
 *
p_body_hdr
;

1856 
ﬂm_£rvi˚_¶a_body_íåy_t
 *
p_body_íåy
;

1857 
u8_t
 
scheduÀ_scheme
;

1858 
u8_t
 
high_¥i_boundry
;

1859 
u32_t
 
cy˛e_Àn
;

1860 
u8_t
 
queue_num
;

1861 
u8_t
 
i
;

1862 
u32_t
 
ªt
;

1865 
p_¶a
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

1866 
p_¶a
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

1867 
p_¶a
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

1868 
p_¶a
.
›î©i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

1870 if(
p_¶a
.
›î©i⁄
 =
OAM_CTC_SERVICE_DBA_DEACTIVE
)

1876 
ªt
 = 0;

1878 if(
p_¶a
.
›î©i⁄
 =
OAM_CTC_SERVICE_DBA_ACTIVE
)

1880 
p_body_hdr
 = (
ﬂm_£rvi˚_¶a_body_hdr_t
 *)(&
pV¨C⁄èöî
->
pV¨D©a
[1]);

1882 
scheduÀ_scheme
 = 
p_body_hdr
->schedule_scheme;

1883 
high_¥i_boundry
 = 
p_body_hdr
->high_pri_boundry;

1884 
cy˛e_Àn
 = 
p_body_hdr
->cycle_len;

1885 
queue_num
 = 
p_body_hdr
->
£rvi˚_num
;

1890 
p_body_íåy
 = (
ﬂm_£rvi˚_¶a_body_íåy_t
 *)(&
pV¨C⁄èöî
->
pV¨D©a
[1 + (
ﬂm_£rvi˚_¶a_body_hdr_t
)]);

1892 
i
 = 0; i < 
queue_num
; i++)

1898 
ªt
 = 0;

1899 
p_body_íåy
++;

1902 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

1904  
EPON_OAM_ERR_OK
;

1905 
	}
}

1908 
	$˘c_ﬂm_v¨Cb_⁄uC≠abûôõs2_gë
(

1909 
ŒidIdx
,

1910 
›
,

1911 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1912 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1913 *
pV¨C⁄èöî_TŸÆ_Lí
,

1914 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1918 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1920 
pV¨C⁄èöî
->
v¨Width
 = 10 + 6;

1921 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1922 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1924  
EPON_OAM_ERR_MEM
;

1928 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x00;

1929 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x00;

1930 
pV¨C⁄èöî
->
pV¨D©a
[2] = 0x00;

1931 
pV¨C⁄èöî
->
pV¨D©a
[3] = 0x00;

1934 
pV¨C⁄èöî
->
pV¨D©a
[4] = 0x01;

1937 
pV¨C⁄èöî
->
pV¨D©a
[5] = 0x00;

1940 
pV¨C⁄èöî
->
pV¨D©a
[6] = 0x01;

1943 
pV¨C⁄èöî
->
pV¨D©a
[7] = 0x00;

1946 
pV¨C⁄èöî
->
pV¨D©a
[8] = 0x01;

1949 
pV¨C⁄èöî
->
pV¨D©a
[9] = 0x00;

1950 
pV¨C⁄èöî
->
pV¨D©a
[10] = 0x00;

1951 
pV¨C⁄èöî
->
pV¨D©a
[11] = 0x00;

1952 
pV¨C⁄èöî
->
pV¨D©a
[12] = 0x00;

1955 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN104N
Ë|| deföed(
CONFIG_PRODUCT_EPN104W
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG
Ë|| deföed(
CONFIG_PRODUCT_EPN104ZG_A
Ë|| deföed(
CONFIG_PRODUCT_EPN105
Ë|| deföed(
CONFIG_PRODUCT_GPN104N
)

1956 
pV¨C⁄èöî
->
pV¨D©a
[13] = 0x00;

1957 
pV¨C⁄èöî
->
pV¨D©a
[14] = 0x04;

1958 #ñi‡
	`deföed
(
CONFIG_PRODUCT_5500
)

1959 
pV¨C⁄èöî
->
pV¨D©a
[13] = 0x00;

1960 
pV¨C⁄èöî
->
pV¨D©a
[14] = 0x02;

1961 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN101R
Ë|| deföed(
CONFIG_PRODUCT_EPN101ZG
)

1962 
pV¨C⁄èöî
->
pV¨D©a
[13] = 0x00;

1963 
pV¨C⁄èöî
->
pV¨D©a
[14] = 0x01;

1968 
pV¨C⁄èöî
->
pV¨D©a
[15] = 0x00;

1970  
EPON_OAM_ERR_OK
;

1971 
	}
}

1974 
	$˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_gë
(

1975 
ŒidIdx
,

1976 
›
,

1977 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

1978 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

1979 *
pV¨C⁄èöî_TŸÆ_Lí
,

1980 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

1984 
ªt
 = 
RT_ERR_OK
;

1985 
gëSèã
, 
gëTime
;

1987 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

1988 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_HOLDOVERCONFIG_LEN
;

1989 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

1990 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

1992  
EPON_OAM_ERR_MEM
;

1998 if(
RT_ERR_OK
 !
ªt
)

2000  
EPON_OAM_ERR_UNKNOWN
;

2004 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
gëSèã
);

2005 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
 + 4, &
gëTime
);

2007  
EPON_OAM_ERR_OK
;

2008 
	}
}

2011 
	$˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_£t
(

2012 
ŒidIdx
,

2013 
›
,

2014 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2015 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2016 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2020 
ªt
;

2021 
£tSèã
, 
£tTime
;

2023 if(
CTC_OAM_VAR_HOLDOVERCONFIG_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

2025  
EPON_OAM_ERR_UNKNOWN
;

2027 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
£tSèã
);

2028 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
 + 4, &
£tTime
);

2032 
pV¨C⁄èöî
->
v¨Width
 = 0x80;

2034  
EPON_OAM_ERR_OK
;

2035 
	}
}

2038 
	$˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_gë
(

2039 
ŒidIdx
,

2040 
›
,

2041 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2042 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2043 *
pV¨C⁄èöî_TŸÆ_Lí
,

2044 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2049 
u8_t
 *
p_out
;

2050 
ﬂm_mxu_mng_globÆ_∑ø_t
 *
p_mng_globÆ_∑ø
;

2051 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

2052 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

2053 
u32_t
 
ªt
 = 
NO_ERROR
;

2054 
p_mng_globÆ_∑ø
 = (
ﬂm_mxu_mng_globÆ_∑ø_t
 *)
pV¨C⁄èöî
->
pV¨D©a
;

2055 
	`vosMemSë
(&
°IpC⁄fig
, 0, (
ODM_SYS_IF_CONFIG_t
));

2056 
u32_t
 *
ù_vÆ
 = &(
p_mng_globÆ_∑ø
->
mng_ù_addr
);

2059 if(*
ù_vÆ
 != 0)

2061 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_mng_globÆ_∑ø
->
mng_ù_addr
,

2062 
p_mng_globÆ_∑ø
->
mng_ù_mask
,

2063 
p_mng_globÆ_∑ø
->
mng_gw
);

2064 if(
NO_ERROR
 !
ªt
)

2066 
£nd_r•
;

2070 if(0 !
p_mng_globÆ_∑ø
->
mng_d©a_cvœn
)

2072 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_mng_globÆ_∑ø
->
mng_d©a_cvœn
);

2073 if(
NO_ERROR
 !
ªt
)

2075 
£nd_r•
;

2078 
£nd_r•
:

2079 if(
NO_ERROR
 !
ªt
)

2082 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2087 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

2090 
g_usOutD©aIdx
 +(
ﬂm_£t_ª•⁄£_t
);

2094 
	}
}

2097 
	$˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_£t
(

2098 
ŒidIdx
,

2099 
›
,

2100 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2101 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2102 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2107 
u8_t
 *
p_out
;

2108 
ﬂm_mxu_mng_globÆ_∑ø_t
 *
p_mng_globÆ_∑ø
;

2109 
u32_t
 
ªt
 = 
NO_ERROR
;

2110 
p_mng_globÆ_∑ø
 = (
ﬂm_mxu_mng_globÆ_∑ø_t
 *)
pV¨C⁄èöî
->
pV¨D©a
;

2111 
u32_t
 *
ù_vÆ
 = &(
p_mng_globÆ_∑ø
->
mng_ù_addr
);

2114 if(*
ù_vÆ
 != 0)

2116 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_mng_globÆ_∑ø
->
mng_ù_addr
,

2117 
p_mng_globÆ_∑ø
->
mng_ù_mask
,

2118 
p_mng_globÆ_∑ø
->
mng_gw
);

2119 if(
NO_ERROR
 !
ªt
)

2121 
£nd_r•
;

2125 if(0 !
p_mng_globÆ_∑ø
->
mng_d©a_cvœn
)

2127 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_mng_globÆ_∑ø
->
mng_d©a_cvœn
);

2128 if(
NO_ERROR
 !
ªt
)

2130 
£nd_r•
;

2133 
£nd_r•
:

2134 if(
NO_ERROR
 !
ªt
)

2137 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2142 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

2146  
EPON_OAM_ERR_OK
;

2147 
	}
}

2150 
	$˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_gë
(

2151 
ŒidIdx
,

2152 
›
,

2153 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2154 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2155 *
pV¨C⁄èöî_TŸÆ_Lí
,

2156 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2160 
	}
}

2163 
	$˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_£t
(

2164 
ŒidIdx
,

2165 
›
,

2166 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2167 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2168 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2173 
pV¨C⁄èöî
->
v¨Width
 = 0x80;

2175  
EPON_OAM_ERR_OK
;

2176 
	}
}

2179 
	$˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_gë
(

2180 
ŒidIdx
,

2181 
›
,

2182 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2183 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2184 *
pV¨C⁄èöî_TŸÆ_Lí
,

2185 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2189 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2190 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_LEN
;

2191 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

2192 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2194  
EPON_OAM_ERR_MEM
;

2198 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_PONNUM
;

2200  
EPON_OAM_ERR_OK
;

2201 
	}
}

2204 
	$˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_£t
(

2205 
ŒidIdx
,

2206 
›
,

2207 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2208 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2209 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2214 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2216  
EPON_OAM_ERR_OK
;

2217 
	}
}

2220 
	$˘c_ﬂm_v¨Cb_⁄uC≠abûôõs3_gë
(

2221 
ŒidIdx
,

2222 
›
,

2223 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2224 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2225 *
pV¨C⁄èöî_TŸÆ_Lí
,

2226 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2230 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2232 
pV¨C⁄èöî
->
v¨Width
 = 0x02;

2233 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

2234 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2236  
EPON_OAM_ERR_MEM
;

2240 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x00;

2243 
pV¨C⁄èöî
->
pV¨D©a
[1] = 0x00;

2245  
EPON_OAM_ERR_OK
;

2246 
	}
}

2249 
	$˘c_ﬂm_v¨Cb_⁄uPowîSavögC≠abûôõs_gë
(

2250 
ŒidIdx
,

2251 
›
,

2252 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2253 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2254 *
pV¨C⁄èöî_TŸÆ_Lí
,

2255 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2259 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2260 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ONUPOWERSAVINGCAPABILITES_LEN
;

2261 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

2262 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2264  
EPON_OAM_ERR_MEM
;

2268 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x00;

2271 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0x00;

2273  
EPON_OAM_ERR_OK
;

2274 
	}
}

2277 
	$˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_gë
(

2278 
ŒidIdx
,

2279 
›
,

2280 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2281 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2282 *
pV¨C⁄èöî_TŸÆ_Lí
,

2283 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2287 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2288 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_LEN
;

2289 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

2290 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2292  
EPON_OAM_ERR_MEM
;

2296 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_UNSUPPORT
;

2299 
	`mem£t
((
pV¨C⁄èöî
->
pV¨D©a
+1), 0, 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_LEN
 - 1);

2301  
EPON_OAM_ERR_OK
;

2302 
	}
}

2305 
	$˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_£t
(

2306 
ŒidIdx
,

2307 
›
,

2308 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2309 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2310 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2315 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2317  
EPON_OAM_ERR_OK
;

2318 
	}
}

2321 
	$˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_gë
(

2322 
ŒidIdx
,

2323 
›
,

2324 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2325 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2326 *
pV¨C⁄èöî_TŸÆ_Lí
,

2327 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2331 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2332 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LEN
;

2333 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

2334 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2336  
EPON_OAM_ERR_MEM
;

2345 
	`CTC_BUF_ENCODE16
(
pV¨C⁄èöî
->
pV¨D©a
, 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSOPT
);

2349 
	`CTC_BUF_ENCODE16
(
pV¨C⁄èöî
->
pV¨D©a
 + 2, 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSMAC
);

2351  
EPON_OAM_ERR_OK
;

2352 
	}
}

2355 
	$˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_£t
(

2356 
ŒidIdx
,

2357 
›
,

2358 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2359 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2360 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2370 
pV¨C⁄èöî
->
v¨Width
 = 0x80;

2372  
EPON_OAM_ERR_OK
;

2373 
	}
}

2375 
	$˘c_ﬂm_v¨Cb_ëhLökSèã_gë
(

2376 
ŒidIdx
,

2377 
›
,

2378 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2379 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2380 *
pV¨C⁄èöî_TŸÆ_Lí
,

2381 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2385 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

2386 
ﬂm_ëh_lök°©e_t
 *
p_lök
;

2387 
u32_t
 
°©e
=0;

2388 
BOOL
 
bP‹tSètus
 = 
TRUE
;

2389 
ªt_vÆue
 =0;

2390 
év_Àn
 = 0;

2392 if(
NULL
 =
pV¨In°™t
)

2394  
EPON_OAM_ERR_NOT_FOUND
;

2397 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2398 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2400  
EPON_OAM_ERR_OK
;

2422 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2423 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ETHLINKSTATE_LEN
;

2425 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

2426 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2428  
EPON_OAM_ERR_MEM
;

2430 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

2432 i‡–
NO_ERROR
 =
	`DRV_GëP‹tLökSètus
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

2434 i‡–
TRUE
 =
bP‹tSètus
 )

2436 
°©e
 = 
CTC_OAM_VAR_ETHLINKSTATE_UP
;

2440 
°©e
 = 
CTC_OAM_VAR_ETHLINKSTATE_DOWN
;

2444 
pV¨C⁄èöî
->
pV¨D©a
[0] = (
u8_t
)
°©e
;

2446 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

2447 if(
ucP‹tS
 =
ucP‹tE
)

2449  
EPON_OAM_ERR_OK
;

2453 
ucP‹tS
 += 1;

2456 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2459 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

2460 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

2462  
EPON_OAM_ERR_PARAM
;

2464 
p_byã
 +
év_Àn
;

2477 
p_lök
 = (
ﬂm_ëh_lök°©e_t
*)
p_byã
;

2478 
p_lök
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2479 
p_lök
->
Àaf
 = 
OAM_ATTR_ETH_LINKSTATE
;

2480 
p_lök
->
width
 = 
CTC_OAM_VAR_ETHLINKSTATE_LEN
;

2482 i‡–
NO_ERROR
 =
	`DRV_GëP‹tLökSètus
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

2484 i‡–
TRUE
 =
bP‹tSètus
 )

2486 
°©e
 = 
CTC_OAM_VAR_ETHLINKSTATE_UP
;

2490 
°©e
 = 
CTC_OAM_VAR_ETHLINKSTATE_DOWN
;

2498 
p_lök
->
lök°©e
 = (
u8_t
)
°©e
;

2499 
p_byã
 +(
ﬂm_ëh_lök°©e_t
);

2502 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

2504  
EPON_OAM_ERR_OK
;

2505 
	}
}

2508 
	$˘c_ﬂm_v¨Cb_ëhP‹tPau£_gë
(

2509 
ŒidIdx
,

2510 
›
,

2511 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2512 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2513 *
pV¨C⁄èöî_TŸÆ_Lí
,

2514 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2518 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

2519 
ﬂm_ëh_p‹çau£_t
 *
p_∑u£
;

2520 
u32_t
 
°©e
=0;

2521 
BOOL
 
bP‹tSètus
 = 
TRUE
;

2522 
ªt_vÆue
 =0;

2523 
év_Àn
 = 0;

2525 if(
NULL
 =
pV¨In°™t
)

2527  
EPON_OAM_ERR_NOT_FOUND
;

2530 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2531 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2533  
EPON_OAM_ERR_OK
;

2555 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2556 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_ETHPORTPAUSE_LEN
;

2558 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

2559 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2561  
EPON_OAM_ERR_MEM
;

2563 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

2565 i‡–
NO_ERROR
 =
	`DRV_GëP‹tFlowCål
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

2567 i‡–
TRUE
 =
bP‹tSètus
 )

2569 
°©e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

2573 
°©e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

2577 
pV¨C⁄èöî
->
pV¨D©a
[0] = (
u8_t
)
°©e
;

2579 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

2580 if(
ucP‹tS
 =
ucP‹tE
)

2582  
EPON_OAM_ERR_OK
;

2586 
ucP‹tS
 += 1;

2589 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2592 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

2593 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

2595  
EPON_OAM_ERR_PARAM
;

2597 
p_byã
 +
év_Àn
;

2610 
p_∑u£
 = (
ﬂm_ëh_p‹çau£_t
*)
p_byã
;

2611 
p_∑u£
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2612 
p_∑u£
->
Àaf
 = 
OAM_ATTR_ETH_PORTPAUSE
;

2613 
p_∑u£
->
width
 = 
CTC_OAM_VAR_ETHPORTPAUSE_LEN
;

2615 i‡–
NO_ERROR
 =
	`DRV_GëP‹tFlowCål
((
UINT32
)
ucP‹tS
, &
bP‹tSètus
))

2617 i‡–
TRUE
 =
bP‹tSètus
 )

2619 
°©e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

2623 
°©e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

2631 
p_∑u£
->
back_›î
 = (
u8_t
)
°©e
;

2632 
p_byã
 +(
ﬂm_ëh_p‹çau£_t
);

2635 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

2637  
EPON_OAM_ERR_OK
;

2638 
	}
}

2641 
	$˘c_ﬂm_v¨Cb_ëhP‹tPau£_£t
(

2642 
ŒidIdx
,

2643 
›
,

2644 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2645 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2646 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2650 
u8_t
 
æt
=
OPL_OK
, 
ucP‹tS
, 
ucP‹tE
;

2651 
ﬂm_ëh_p‹çau£_t
 
p_∑u£
;

2652 
u32_t
 
∑u£_°©e
;

2653 
ªt_vÆue
 =0;

2655 if(
CTC_OAM_VAR_ETHPORTPAUSE_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

2657  
EPON_OAM_ERR_UNKNOWN
;

2660 if(
NULL
 =
pV¨In°™t
)

2662  
EPON_OAM_ERR_NOT_FOUND
;

2665 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2666 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2668  
EPON_OAM_ERR_OK
;

2672 
p_∑u£
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

2673 
p_∑u£
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

2674 
p_∑u£
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

2675 
p_∑u£
.
back_›î
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

2676 
∑u£_°©e
 = (
u32_t
)
p_∑u£
.
back_›î
;

2678 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2680 
	`CTC_DEBUG
("P‹t%d'†P‹tPau£ sëÉ«bÀ: %d\n", 
ucP‹tS
, 
∑u£_°©e
);

2681 
æt
 = 
	`DRV_SëP‹tFlowCål
(
ucP‹tS
, (
TRUE
 =
∑u£_°©e
)? TRUE : 
FALSE
);

2684 if(
æt
 =
OPL_OK
)

2695 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

2703 
	`CTC_DEBUG
("ethPortPause_set fail\n");

2704 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2707  
EPON_OAM_ERR_OK
;

2708 
	}
}

2711 
	$˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_gë
(

2712 
ŒidIdx
,

2713 
›
,

2714 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2715 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2716 *
pV¨C⁄èöî_TŸÆ_Lí
,

2717 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2721 
u8_t
 
íabÀ
=1, 
æt
=0;

2722 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
, *
p_ãmp
;

2723 
u32_t
 
cú
=0xFF,
cbs
=0xFF,
ebs
=0xFF;

2724 
øãvÆue
 = 0;

2725 
ﬂm_ëh_p‹çﬁicög_t
 *
p_pﬁicög
;

2726 
ªt_vÆue
 =0;

2727 
év_Àn
 = 0;

2729 if(
NULL
 =
pV¨In°™t
)

2731  
EPON_OAM_ERR_NOT_FOUND
;

2734 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2735 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2737  
EPON_OAM_ERR_OK
;

2765 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2766 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

2767 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2769  
EPON_OAM_ERR_MEM
;

2771 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

2773 
	`_CTC_GëUniLöeR©eInCfg
(
ucP‹tS
, &
øãvÆue
);

2774 
cú
 = 
øãvÆue
;

2776 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
íabÀ
;

2777 if(
íabÀ
 == 0)

2779 
pV¨C⁄èöî
->
v¨Width
 = 1;

2783 
pV¨C⁄èöî
->
v¨Width
 = 10;

2784 
p_ãmp
 = (
u8_t
*)&
cú
;

2785 
	`mem˝y
(&
pV¨C⁄èöî
->
pV¨D©a
[1], &
p_ãmp
[1], 3);

2786 
p_ãmp
 = (
u8_t
*)&
cbs
;

2787 
	`mem˝y
(&
pV¨C⁄èöî
->
pV¨D©a
[4], &
p_ãmp
[1], 3);

2788 
p_ãmp
 = (
u8_t
*)&
ebs
;

2789 
	`mem˝y
(&
pV¨C⁄èöî
->
pV¨D©a
[7], &
p_ãmp
[1], 3);

2792 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

2793 if(
ucP‹tS
 =
ucP‹tE
)

2795  
EPON_OAM_ERR_OK
;

2799 
ucP‹tS
 += 1;

2802 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2805 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

2806 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

2808  
EPON_OAM_ERR_PARAM
;

2810 
p_byã
 +
év_Àn
;

2829 
p_pﬁicög
 = (
ﬂm_ëh_p‹çﬁicög_t
*)
p_byã
;

2830 
p_pﬁicög
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2831 
p_pﬁicög
->
Àaf
 = 
OAM_ATTR_ETH_PORT_US_POLICING
;

2833 
	`_CTC_GëUniLöeR©eInCfg
(
ucP‹tS
, &
øãvÆue
);

2834 
cú
 = 
øãvÆue
;

2836 
p_pﬁicög
->
›î©i⁄
 = 
íabÀ
;

2837 if(
íabÀ
 == 0)

2839 
p_pﬁicög
->
width
 = 1;

2843 
p_pﬁicög
->
width
 = 10;

2844 
p_ãmp
 = (
u8_t
*)&
cú
;

2845 
	`mem˝y
(
p_pﬁicög
->
cú
, &
p_ãmp
[1], 3);

2846 
p_ãmp
 = (
u8_t
*)&
cbs
;

2847 
	`mem˝y
(
p_pﬁicög
->
cbs
, &
p_ãmp
[1], 3);

2848 
p_ãmp
 = (
u8_t
*)&
ebs
;

2849 
	`mem˝y
(
p_pﬁicög
->
ebs
, &
p_ãmp
[1], 3);

2852 
p_byã
 +(
ﬂm_ëh_p‹çﬁicög_t
);

2855 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

2857  
EPON_OAM_ERR_OK
;

2858 
	}
}

2861 
	$˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_£t
(

2862 
ŒidIdx
,

2863 
›
,

2864 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2865 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2866 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2870 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

2871 
u32_t
 
cú
=0, 
cbs
=0, 
ebs
=0;

2872 
ﬂm_ëh_p‹çﬁicög_t
 
p_pﬁicög
;

2873 
ªt_vÆue
 =0;

2875 if(
NULL
 =
pV¨In°™t
)

2877  
EPON_OAM_ERR_NOT_FOUND
;

2880 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2881 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2883  
EPON_OAM_ERR_OK
;

2887 
p_pﬁicög
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

2888 
p_pﬁicög
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

2889 
p_pﬁicög
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

2890 
p_pﬁicög
.
›î©i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

2891 
	`mem˝y
(
p_pﬁicög
.
cú
, &
pV¨C⁄èöî
->
pV¨D©a
[1], 3);

2892 
	`mem˝y
(
p_pﬁicög
.
cbs
, &
pV¨C⁄èöî
->
pV¨D©a
[4], 3);

2893 
	`mem˝y
(
p_pﬁicög
.
ebs
, &
pV¨C⁄èöî
->
pV¨D©a
[7], 3);

2895 if(
p_pﬁicög
.
›î©i⁄
 == 1)

2897 
	`mem˝y
((
u8_t
*)&
cú
+1, 
p_pﬁicög
.cir, 3);

2898 
	`mem˝y
((
u8_t
*)&
cbs
+1, 
p_pﬁicög
.cbs, 3);

2899 
	`mem˝y
((
u8_t
*)&
ebs
+1, 
p_pﬁicög
.ebs, 3);

2901 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2903 
	`CTC_DEBUG
("P‹t%d'†P‹tUsPﬁicög\n", 
ucP‹tS
);

2904 
æt
 = 
	`DRV_SëP‹tLöeR©e
(
ucP‹tS
, 
DIRECT_IN
, 
cú
);

2907 if(
æt
 =
OPL_OK
)

2909 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

2913 
	`CTC_DEBUG
("ethPortUsPolicing_set fail\n");

2914 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2917  
EPON_OAM_ERR_OK
;

2918 
	}
}

2921 
	$˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_gë
(

2922 
ŒidIdx
,

2923 
›
,

2924 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

2925 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

2926 *
pV¨C⁄èöî_TŸÆ_Lí
,

2927 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

2931 
u8_t
 
íabÀ
=1,
æt
=0;

2932 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
, *
p_ãmp
;

2933 
u32_t
 
cú
=0xFF,
pú
=0xFF;

2934 
øãvÆue
 = 0;

2935 
ﬂm_ëh_p‹td•ﬁicög_t
 *
p_pﬁicög
;

2936 
ªt_vÆue
 =0;

2937 
év_Àn
 = 0;

2939 if(
NULL
 =
pV¨In°™t
)

2941  
EPON_OAM_ERR_NOT_FOUND
;

2944 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

2945 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

2947  
EPON_OAM_ERR_OK
;

2973 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

2974 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

2975 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

2977  
EPON_OAM_ERR_MEM
;

2979 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

2981 
	`_CTC_GëUniLöeR©eOutCfg
(
ucP‹tS
, &
øãvÆue
);

2982 
cú
 = 
øãvÆue
;

2984 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
íabÀ
;

2985 if(
íabÀ
 == 0)

2987 
pV¨C⁄èöî
->
v¨Width
 = 1;

2991 
pV¨C⁄èöî
->
v¨Width
 = 7;

2992 
p_ãmp
 = (
u8_t
*)&
cú
;

2993 
	`mem˝y
(&
pV¨C⁄èöî
->
pV¨D©a
[1], &
p_ãmp
[1], 3);

2994 
p_ãmp
 = (
u8_t
*)&
pú
;

2995 
	`mem˝y
(&
pV¨C⁄èöî
->
pV¨D©a
[4], &
p_ãmp
[1], 3);

2998 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

2999 if(
ucP‹tS
 =
ucP‹tE
)

3001  
EPON_OAM_ERR_OK
;

3005 
ucP‹tS
 += 1;

3008 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3011 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

3012 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

3014  
EPON_OAM_ERR_PARAM
;

3016 
p_byã
 +
év_Àn
;

3033 
p_pﬁicög
 = (
ﬂm_ëh_p‹td•ﬁicög_t
*)
p_byã
;

3034 
p_pﬁicög
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3035 
p_pﬁicög
->
Àaf
 = 
OAM_ATTR_ETH_PORT_DS_POLICING
;

3037 
	`_CTC_GëUniLöeR©eOutCfg
(
ucP‹tS
, &
øãvÆue
);

3038 
cú
 = 
øãvÆue
;

3040 
p_pﬁicög
->
›î©i⁄
 = 
íabÀ
;

3041 if(
íabÀ
 == 0)

3043 
p_pﬁicög
->
width
 = 1;

3047 
p_pﬁicög
->
width
 = 7;

3048 
p_ãmp
 = (
u8_t
*)&
cú
;

3049 
	`mem˝y
(
p_pﬁicög
->
cú
, &
p_ãmp
[1], 3);

3050 
p_ãmp
 = (
u8_t
*)&
pú
;

3051 
	`mem˝y
(
p_pﬁicög
->
pú
, &
p_ãmp
[1], 3);

3054 
p_byã
 +(
ﬂm_ëh_p‹çﬁicög_t
);

3057 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

3059  
EPON_OAM_ERR_OK
;

3060 
	}
}

3063 
	$˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_£t
(

3064 
ŒidIdx
,

3065 
›
,

3066 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3067 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3068 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3072 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

3073 
u32_t
 
cú
=0, 
pú
=0;

3074 
ﬂm_ëh_p‹td•ﬁicög_t
 
p_d•ﬁicög
;

3075 
ªt_vÆue
 =0;

3077 if(
NULL
 =
pV¨In°™t
)

3079  
EPON_OAM_ERR_NOT_FOUND
;

3082 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

3083 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

3085  
EPON_OAM_ERR_OK
;

3089 
p_d•ﬁicög
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

3090 
p_d•ﬁicög
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

3091 
p_d•ﬁicög
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

3092 
p_d•ﬁicög
.
›î©i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

3093 
	`mem˝y
(
p_d•ﬁicög
.
cú
, &
pV¨C⁄èöî
->
pV¨D©a
[1], 3);

3094 
	`mem˝y
(
p_d•ﬁicög
.
pú
, &
pV¨C⁄èöî
->
pV¨D©a
[4], 3);

3096 if(
p_d•ﬁicög
.
›î©i⁄
 == 1)

3098 
	`mem˝y
((
u8_t
*)&
cú
+1, 
p_d•ﬁicög
.cir, 3);

3099 
	`mem˝y
((
u8_t
*)&
pú
+1, 
p_d•ﬁicög
.pir, 3);

3101 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3103 
	`CTC_DEBUG
("P‹t%d'†P‹tDsPﬁicög\n", 
ucP‹tS
);

3104 
æt
 = 
	`DRV_SëP‹tLöeR©e
(
ucP‹tS
, 
DIRECT_OUT
, 
cú
);

3107 if(
æt
 =
OPL_OK
)

3109 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

3113 
	`CTC_DEBUG
("ethPortDsPolicing_set fail\n");

3114 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3117  
EPON_OAM_ERR_OK
;

3118 
	}
}

3120 
ﬂm_ùc_gë_sys_lo›
(
sys_lo›_t
 *
öfo
);

3121 
ﬂm_ùc_£t_sys_lo›
(
sys_lo›_t
 *
öfo
);

3123 
	$˘c_ﬂm_v¨Cb_p‹tLo›Dëe˘_£t
(

3124 
ŒidIdx
,

3125 
›
,

3126 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3127 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3128 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3132 
ªt
;

3133 
p‹t
;

3134 
£tVÆue
;

3135 
πk_íabÀ_t
 
íabÀ
;

3136 
sys_lo›_t
 
lo›_öfo
;

3137 
πk_ædp_c⁄fig_t
 
c⁄fig
;

3138 
πk_ædp_p‹tC⁄fig_t
 
p‹tC⁄fig
;

3140 if(
CTC_OAM_VAR_PORTLOOPDETECT_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

3142  
EPON_OAM_ERR_UNKNOWN
;

3145 if(
NULL
 =
pV¨In°™t
)

3147  
EPON_OAM_ERR_NOT_FOUND
;

3150 if(
	`CTC_INSTANT_IS_ETHERNET
(
pV¨In°™t
))

3154 
ªt
 = 
	`πk_ædp_c⁄fig_gë
(&
c⁄fig
);

3155 if(
RT_ERR_OK
 !
ªt
)

3157 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3158  
EPON_OAM_ERR_OK
;

3160 
c⁄fig
.
ædp_íabÀ
 = 
ENABLED
;

3161 
ªt
 = 
	`πk_ædp_c⁄fig_£t
(&
c⁄fig
);

3162 if(
RT_ERR_OK
 !
ªt
)

3164 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3165  
EPON_OAM_ERR_OK
;

3168 
	`mem£t
(&
lo›_öfo
, 0, (
sys_lo›_t
));

3169 
ªt
 = 
	`ﬂm_ùc_gë_sys_lo›
(&
lo›_öfo
);

3171 if(0 !
ªt
)

3173 
	`CTC_DEBUG
("OAM ipc get failed\n");

3174 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3175  
EPON_OAM_ERR_OK
;

3177 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
£tVÆue
);

3178 if(
CTC_OAM_VAR_PORTLOOPDETECT_DEACTIVE
 =
£tVÆue
)

3180 
íabÀ
 = 
DISABLED
;

3182 if(
CTC_OAM_VAR_PORTLOOPDETECT_ACTIVE
 =
£tVÆue
)

3184 
íabÀ
 = 
ENABLED
;

3188 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3189  
EPON_OAM_ERR_OK
;

3192 if(
íabÀ
 =
lo›_öfo
.
lo›back_íabÀ
)

3194 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

3195  
EPON_OAM_ERR_OK
;

3198 
lo›_öfo
.
lo›back_íabÀ
 = 
íabÀ
;

3199 
ªt
 = 
	`ﬂm_ùc_£t_sys_lo›
(&
lo›_öfo
);

3200 if(0 !
ªt
)

3202 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3203  
EPON_OAM_ERR_OK
;

3206 if(
	`CTC_INSTANT_IS_ALLPORTS
(
pV¨In°™t
))

3208 
	`HAL_SCAN_ALL_PORT
(
p‹t
)

3210 
ªt
 = 
	`πk_ædp_p‹tC⁄fig_gë
(
p‹t
, &
p‹tC⁄fig
);

3211 if(
RT_ERR_OK
 !
ªt
)

3213 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3214  
EPON_OAM_ERR_OK
;

3216 
p‹tC⁄fig
.
tx_íabÀ
 = 
íabÀ
;

3217 
ªt
 = 
	`πk_ædp_p‹tC⁄fig_£t
(
p‹t
, &
p‹tC⁄fig
);

3218 if(
RT_ERR_OK
 !
ªt
)

3220 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3221  
EPON_OAM_ERR_OK
;

3227 
ªt
 = 
	`πk_ædp_p‹tC⁄fig_gë
(
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 - 1, &
p‹tC⁄fig
);

3228 if(
RT_ERR_OK
 !
ªt
)

3230 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3231  
EPON_OAM_ERR_OK
;

3233 
p‹tC⁄fig
.
tx_íabÀ
 = 
íabÀ
;

3234 
ªt
 = 
	`πk_ædp_p‹tC⁄fig_£t
(
p‹t
, &
p‹tC⁄fig
);

3235 if(
RT_ERR_OK
 !
ªt
)

3237 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3238  
EPON_OAM_ERR_OK
;

3243 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

3245  
EPON_OAM_ERR_OK
;

3246 
	}
}

3249 
	$˘c_ﬂm_v¨Cb_p‹tMacAgögTime_gë
(

3250 
ŒidIdx
,

3251 
›
,

3252 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3253 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3254 *
pV¨C⁄èöî_TŸÆ_Lí
,

3255 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3259 
ªt
;

3260 
gëVÆue
;

3261 
πk_íabÀ_t
 
íabÀ
;

3263 if(
NULL
 =
pV¨In°™t
)

3265  
EPON_OAM_ERR_NOT_FOUND
;

3268 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

3269 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_PORTMACAGINGTIME_LEN
;

3270 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

3271 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

3273  
EPON_OAM_ERR_MEM
;

3276 if(!
	`CTC_INSTANT_IS_ALLPORTS
(
pV¨In°™t
Ë&& 
	`CTC_INSTANT_IS_ETHERNET
(pVarInstant))

3281 
ªt
 = 
	`πk_l2_p‹tAgögE«bÀ_gë
(
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 - 1, &
íabÀ
);

3282 if(
RT_ERR_OK
 =
ªt
)

3284 if(
ENABLED
 =
íabÀ
)

3286 
ªt
 = 
	`πk_l2_agög_gë
(&
gëVÆue
);

3287 if(
RT_ERR_OK
 !
ªt
)

3289 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3290  
EPON_OAM_ERR_OK
;

3295 
gëVÆue
 = 
CTC_OAM_VAR_PORTMACAGINGTIME_DEACTIVE
;

3297 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
gëVÆue
);

3301  
EPON_OAM_ERR_UNKNOWN
;

3305  
EPON_OAM_ERR_OK
;

3306 
	}
}

3309 
	$˘c_ﬂm_v¨Cb_p‹tMacAgögTime_£t
(

3310 
ŒidIdx
,

3311 
›
,

3312 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3313 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3314 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3318 
ªt
;

3319 
p‹t
;

3320 
£tVÆue
;

3321 
πk_íabÀ_t
 
íabÀ
;

3323 if(
CTC_OAM_VAR_PORTMACAGINGTIME_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

3325  
EPON_OAM_ERR_UNKNOWN
;

3328 if(
NULL
 =
pV¨In°™t
)

3330  
EPON_OAM_ERR_NOT_FOUND
;

3336 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
£tVÆue
);

3337 if(
CTC_OAM_VAR_PORTMACAGINGTIME_DEACTIVE
 =
£tVÆue
)

3339 
£tVÆue
 = 0;

3340 
íabÀ
 = 
DISABLED
;

3344 
íabÀ
 = 
ENABLED
;

3347 
ªt
 = 
	`πk_l2_agög_£t
(
£tVÆue
);

3348 if(
RT_ERR_OK
 !
ªt
)

3350 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3351  
EPON_OAM_ERR_OK
;

3355 if(
	`CTC_INSTANT_IS_ETHERNET
(
pV¨In°™t
))

3357 if(
	`CTC_INSTANT_IS_ALLPORTS
(
pV¨In°™t
))

3359 
	`HAL_SCAN_ALL_PORT
(
p‹t
)

3361 
ªt
 = 
	`πk_l2_p‹tAgögE«bÀ_£t
(
p‹t
, &
íabÀ
);

3362 if(
RT_ERR_OK
 !
ªt
)

3364 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3365  
EPON_OAM_ERR_OK
;

3371 
ªt
 = 
	`πk_l2_p‹tAgögE«bÀ_£t
(
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
 - 1, &
íabÀ
);

3372 if(
RT_ERR_OK
 !
ªt
)

3374 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3375  
EPON_OAM_ERR_OK
;

3379 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

3381  
EPON_OAM_ERR_OK
;

3382 
	}
}

3385 
	$˘c_ﬂm_v¨Cb_vœn_gë
(

3386 
ŒidIdx
,

3387 
›
,

3388 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3389 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3390 *
pV¨C⁄èöî_TŸÆ_Lí
,

3391 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3395 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

3396 
ﬂm_vœn_c⁄fig_t
 *
p_vœn_c⁄fig
;

3397 
u16_t
 
Àngth
 = 0;

3398 
u8_t
 
vœnmode
;

3399 
ªt_vÆue
 =0;

3400 
év_Àn
 = 0;

3402 if(
NULL
 =
pV¨In°™t
)

3404  
EPON_OAM_ERR_NOT_FOUND
;

3407 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

3408 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

3410  
EPON_OAM_ERR_OK
;

3434 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

3435 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

3436 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

3438  
EPON_OAM_ERR_MEM
;

3440 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

3442 ()
	`DRV_GëP‹tVœnCfg
(
ucP‹tS
, &
vœnmode
, &
pV¨C⁄èöî
->
pV¨D©a
[1] , &
Àngth
);

3443 
pV¨C⁄èöî
->
v¨Width
 = 
Àngth
 + 1;

3444 
vœnmode
)

3446 
CTC_VLAN_MODE_TRANSPARENT
:

3447 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
;

3449 
CTC_VLAN_MODE_TAG
:

3450 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
CTC_OAM_VAR_VLAN_MODE_TAG
;

3452 
CTC_VLAN_MODE_TRANSLATION
:

3453 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
;

3456 
pV¨C⁄èöî
->
pV¨D©a
[0] = 0xff;

3460 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

3461 if(
ucP‹tS
 =
ucP‹tE
)

3463  
EPON_OAM_ERR_OK
;

3467 
ucP‹tS
 += 1;

3470 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3473 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

3474 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

3476  
EPON_OAM_ERR_PARAM
;

3478 
p_byã
 +
év_Àn
;

3491 
p_vœn_c⁄fig
 = (
ﬂm_vœn_c⁄fig_t
*)
p_byã
;

3492 
p_vœn_c⁄fig
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3493 
p_vœn_c⁄fig
->
Àaf
 = 
OAM_ATTR_VLAN
;

3495 
p_byã
 +(
ﬂm_vœn_c⁄fig
);

3496 ()
	`DRV_GëP‹tVœnCfg
(
ucP‹tS
, &
vœnmode
, 
p_byã
, &
Àngth
);

3497 
p_vœn_c⁄fig
->
width
 = 
Àngth
 + 1;

3498 
vœnmode
)

3500 
CTC_VLAN_MODE_TRANSPARENT
:

3501 
p_vœn_c⁄fig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
;

3503 
CTC_VLAN_MODE_TAG
:

3504 
p_vœn_c⁄fig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TAG
;

3506 
CTC_VLAN_MODE_TRANSLATION
:

3507 
p_vœn_c⁄fig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
;

3510 
p_vœn_c⁄fig
->
mode
 = 0xff;

3513 
p_byã
 +
Àngth
;

3516 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

3518  
EPON_OAM_ERR_OK
;

3519 
	}
}

3522 
	$˘c_ﬂm_v¨Cb_vœn_£t
(

3523 
ŒidIdx
,

3524 
›
,

3525 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3526 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3527 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3531 
u8_t
 
i
, 
j
, 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

3532 
u32_t
 
æt
 = 0;

3533 
u32_t
 
deÁu…Tag
, 
ﬁdTag
, 
√wTag
;

3534 
ﬂm_vœn_c⁄fig_t
 
p_vœn_t
;

3535 
ﬂm_vœn_c⁄fig_t
 *
p_vœn
 = &
p_vœn_t
;

3536 
u32_t
 
ﬁdMode
;

3537 
u32_t
 
vœnId
;

3538 
u32_t
 
vœ∆i°
[32];

3539 
u32_t
 
vœnIndex
;

3540 
u8_t
 * 
p_vœn_check
;

3541 
u8_t
* 
p_ö
;

3542 
ªt_vÆue
 =0;

3544 if(
NULL
 =
pV¨In°™t
)

3546  
EPON_OAM_ERR_NOT_FOUND
;

3549 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

3550 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

3552  
EPON_OAM_ERR_OK
;

3556 
p_vœn
->
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

3557 
p_vœn
->
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

3558 
p_vœn
->
width
 = 
pV¨C⁄èöî
->
v¨Width
;

3559 
p_vœn
->
mode
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

3560 
p_ö
 = &
pV¨C⁄èöî
->
pV¨D©a
[1];

3562 
	`CTC_DEBUG
("P‹t%d'†vœn_£àmode:%d\n", 
ucP‹tS
, 
p_vœn
->
mode
);

3564 if(
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
 =
p_vœn
->
mode
)

3566 
iRë
 = 
NO_ERROR
;

3568 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

3570 if(0xFF =
pV¨In°™t
->
v¨D©a
[0])

3572 
	`CTC_DEBUG
("\nDoÇot setÅransparent vlan forállÖorts.\n");

3573 
æt
 = 
OPL_OK
;

3574 
£nd_r•
;

3577 if(
pV¨In°™t
->
v¨Width
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

3579 if(0xFFFF =
pV¨In°™t
->
∑r£
.
uniP‹t
.
p‹tNo
)

3581 
	`CTC_DEBUG
("\nDoÇot setÅransparent vlan forállÖorts.\n");

3582 
æt
 = 
OPL_OK
;

3583 
£nd_r•
;

3587 
iRë
 = 
	`CTC_DRV_SëTøn•¨ítVœn
(
ucP‹tS
);

3588 i‡(
NO_ERROR
 !
iRë
)

3590 
	`CTC_DEBUG
("\nFaûedÅÿ£àå™•¨íàvœ¿f‹Ö‹à%d.\n",
ucP‹tS
);

3591 
æt
 = 
OPL_ERROR
;

3592 
£nd_r•
;

3595 if(
CTC_OAM_VAR_VLAN_MODE_TAG
 =
p_vœn
->
mode
)

3597 
	`mem˝y
(&
deÁu…Tag
, 
p_ö
, 4);

3599 
iRë
 = 
NO_ERROR
;

3600 
u32_t
 
¥i‹ôy
;

3601 
u32_t
 
deÁu…_vœn
;

3603 
æt
 = 
OPL_OK
;

3605 
iRë
 = 
	`CTC_DRV_GëVœnIdAndPri
(
deÁu…Tag
, &
deÁu…_vœn
, &
¥i‹ôy
);

3606 i‡(
NO_ERROR
 !
iRë
)

3608 
	`CTC_DEBUG
("\nFaûedÅÿ£àèg vœ¿f‹Ö‹à%d.\n",
ucP‹tS
);

3609 
æt
 = 
OPL_ERROR
;

3610 
£nd_r•
;

3613 
iRë
 = 
	`CTC_DRV_SëTagVœn
(
ucP‹tS
, 
deÁu…_vœn
, 
¥i‹ôy
);

3614 i‡(
NO_ERROR
 !
iRë
)

3616 
	`CTC_DEBUG
("\nFaûedÅÿ£àèg vœ¿f‹Ö‹à%d.\n",
ucP‹tS
);

3617 
æt
 = 
OPL_ERROR
;

3618 
£nd_r•
;

3621 if(
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
 =
p_vœn
->
mode
)

3623 
iRë
 = 
NO_ERROR
;

3624 
u32_t
 
uiVœnPaú
;

3625 
u32_t
 
¥i‹ôy
;

3627 
æt
 = 
OPL_OK
;

3629 
	`mem˝y
(&
deÁu…Tag
, 
p_ö
, 4);

3630 
p_ö
 += 4;

3632 
	`mem£t
(
vœ∆i°
, 0, (vlanlist));

3633 
vœnIndex
 = 0;

3634 
p_vœn_check
 = 
p_ö
;

3635 
uiVœnPaú
 = (
p_vœn
->
width
 - 5)/8;

3637 
i
 = 0; i < 
uiVœnPaú
; i++)

3639 
	`mem˝y
(&
ﬁdTag
, (
u8_t
*)
p_vœn_check
, 4);

3640 
p_vœn_check
 += 4;

3641 
	`mem˝y
(&
√wTag
, (
u8_t
*)
p_vœn_check
, 4);

3642 
p_vœn_check
 += 4;

3644 
ﬁdTag
 = oldTag&0xFFF;

3645 
√wTag
 =ÇewTag&0xFFF;

3647 
vœ∆i°
[
vœnIndex
++] = 
ﬁdTag
;

3648 
vœ∆i°
[
vœnIndex
++] = 
√wTag
;

3650 
	`CTC_DEBUG
("%†%d %d %d %d\n", 
__FUNCTION__
, 
__LINE__
, 
vœnIndex
, 
ﬁdTag
, 
√wTag
);

3653 i‡(
vœnIndex
 > 16)

3655 
	`CTC_DEBUG
("\n Onu only supports 8 vlanÅranslationÖairs forÉveryÖort. \n");

3656 
æt
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3657 
£nd_r•
;

3661 
iRë
 = 
	`CTC_DRV_SëTøn¶©i⁄Vœn
(
ucP‹tS
, 
deÁu…Tag
, 
vœ∆i°
, (
vœnIndex
/2), 
CTC_VLAN_MODE_TRANSLATION
);

3663 i‡(
NO_ERROR
 !
iRë
)

3665 
	`CTC_DEBUG
("\nFaûedÅÿ£àå™¶©i⁄ vœ¿f‹Ö‹à%d.\n",
ucP‹tS
);

3666 
æt
 = 
OPL_ERROR
;

3667 
£nd_r•
;

3670 if(
CTC_OAM_VAR_VLAN_MODE_AGGREGATION
 =
p_vœn
->
mode
)

3673 
æt
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3674 
£nd_r•
;

3676 if(
CTC_OAM_VAR_VLAN_MODE_TRUNK
 =
p_vœn
->
mode
)

3681 
iRë
 = 
NO_ERROR
;

3682 
u32_t
 
uiVœnPaú
;

3683 
u32_t
 
¥i‹ôy
;

3685 
æt
 = 
OPL_OK
;

3687 
	`mem˝y
(&
deÁu…Tag
, 
p_ö
, 4);

3688 
p_ö
 += 4;

3690 
	`mem£t
(
vœ∆i°
, 0, (vlanlist));

3691 
vœnIndex
 = 0;

3692 
p_vœn_check
 = 
p_ö
;

3693 
uiVœnPaú
 = (
p_vœn
->
width
 - 5)/4;

3695 
i
 = 0; i < 
uiVœnPaú
; i++)

3697 
	`mem˝y
(&
ﬁdTag
, (
u8_t
*)
p_vœn_check
, 4);

3698 
	`mem˝y
(&
√wTag
, (
u8_t
*)
p_vœn_check
, 4);

3699 
p_vœn_check
 += 4;

3703 
ﬁdTag
 = oldTag&0xFFF;

3704 
√wTag
 =ÇewTag&0xFFF;

3706 
vœ∆i°
[
vœnIndex
++] = 
ﬁdTag
;

3707 
vœ∆i°
[
vœnIndex
++] = 
√wTag
;

3709 
	`CTC_DEBUG
("%†%d %d %d %d\n", 
__FUNCTION__
, 
__LINE__
, 
vœnIndex
, 
ﬁdTag
, 
√wTag
);

3712 i‡(
vœnIndex
 > 16)

3714 
	`CTC_DEBUG
("\n Onu only supports 8 vlanÅranslationÖairs forÉveryÖort. \n");

3715 
æt
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3716 
£nd_r•
;

3720 
iRë
 = 
	`CTC_DRV_SëTøn¶©i⁄Vœn
(
ucP‹tS
, 
deÁu…Tag
, 
vœ∆i°
, (
vœnIndex
/2), 
CTC_VLAN_MODE_TRUNK
);

3722 i‡(
NO_ERROR
 !
iRë
)

3724 
	`CTC_DEBUG
("\nFaûedÅÿ£àå™¶©i⁄ vœ¿f‹Ö‹à%d.\n",
ucP‹tS
);

3725 
æt
 = 
OPL_ERROR
;

3726 
£nd_r•
;

3730 
æt
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3733 
£nd_r•
:

3734 if(
æt
 =
OPL_OK
)

3736 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

3740 
	`CTC_DEBUG
("vlan set fail\n");

3741 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3744  
EPON_OAM_ERR_OK
;

3745 
	}
}

3748 
	$˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_gë
(

3749 
ŒidIdx
,

3750 
›
,

3751 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3752 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3753 *
pV¨C⁄èöî_TŸÆ_Lí
,

3754 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3758 
ﬂm_˛asm¨k_t
 *
pClsHódî
;

3759 
ﬂm_˛asm¨k_ruÀbody_t
 *
pClsRuÀ
;

3760 
ﬂm_˛asm¨k_fõldbody_t
 *
pClsFõld
;

3761 
ﬂm_˛asm¨k_ruÀbody_t
 
˛sRuÀ
;

3762 
ﬂm_˛asm¨k_fõldbody_t
 
˛sFõlds
[12];

3763 
u8_t
 
¥e˚dí˚OfRuÀ
;

3764 
u8_t
 
numOfRuÀ
 = 0;

3765 
u8_t
 
numOfFõld
;

3766 
u8_t
 
curP‹tId
;

3767 
u32_t
 
ªt
;

3768 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

3769 
ªt_vÆue
 =0;

3770 
év_Àn
 = 0;

3772 if(
NULL
 =
pV¨In°™t
)

3774  
EPON_OAM_ERR_NOT_FOUND
;

3777 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

3778 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

3780  
EPON_OAM_ERR_OK
;

3808 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

3809 
pV¨C⁄èöî
->
v¨Width
 = 2;

3810 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

3811 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

3813  
EPON_OAM_ERR_MEM
;

3815 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

3816 
p_byã
 += 2;

3818 
¥e˚dí˚OfRuÀ
 = 1;ÖrecedenceOfRule <= 8;ÖrecedenceOfRule++)

3820 
	`mem£t
(&
˛sRuÀ
, 0, (
ﬂm_˛asm¨k_ruÀbody_t
));

3821 
	`mem£t
(
˛sFõlds
, 0, (
ﬂm_˛asm¨k_fõldbody_t
)*12);

3823 
	`Ctc_GëClfRmk2Loˇl
((
u8_t
)
curP‹tId
, 
¥e˚dí˚OfRuÀ
 - 1, &
˛sRuÀ
, &
˛sFõlds
[0]);

3825 
numOfRuÀ
++;

3828 
pClsRuÀ
 = (
ﬂm_˛asm¨k_ruÀbody_t
 *)
p_byã
;

3829 
	`mem˝y
(
pClsRuÀ
, &
˛sRuÀ
, (
ﬂm_˛asm¨k_ruÀbody_t
));

3830 
p_byã
 +(
ﬂm_˛asm¨k_ruÀbody_t
);

3833 
pClsFõld
 = (
ﬂm_˛asm¨k_fõldbody_t
 *)
p_byã
;

3834 
numOfFõld
 = 
pClsRuÀ
->numOfField;

3835 
	`mem˝y
(
pClsFõld
, & 
˛sFõlds
, 
numOfFõld
 * (
ﬂm_˛asm¨k_fõldbody_t
));

3836 
p_byã
 +
numOfFõld
 * (
ﬂm_˛asm¨k_fõldbody_t
);

3838 
pV¨C⁄èöî
->
v¨Width
 +
pClsRuÀ
->
ÀnOfRuÀ
 + 2;

3841 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
OAM_CLASSIFY_ACTION_SHOW
;

3842 
pV¨C⁄èöî
->
pV¨D©a
[1] = 
numOfRuÀ
;

3844 if(
ucP‹tS
 =
ucP‹tE
)

3846  
EPON_OAM_ERR_OK
;

3850 
ucP‹tS
 += 1;

3853 
curP‹tId
 = 
ucP‹tS
; curP‹tId <
ucP‹tE
; curPortId++)

3856 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

3857 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

3859  
EPON_OAM_ERR_PARAM
;

3861 
p_byã
 +
év_Àn
;

3880 
pClsHódî
 = (
ﬂm_˛asm¨k_t
 *)
p_byã
;

3881 
pClsHódî
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3882 
pClsHódî
->
Àaf
 = 
OAM_ATTR_CLAMARK
;

3883 
pClsHódî
->
width
 = 2;

3884 
p_byã
 +(
ﬂm_˛asm¨k_t
);

3886 
¥e˚dí˚OfRuÀ
 = 1;ÖrecedenceOfRule <= 8;ÖrecedenceOfRule++)

3888 
	`mem£t
(&
˛sRuÀ
, 0, (
ﬂm_˛asm¨k_ruÀbody_t
));

3889 
	`mem£t
(
˛sFõlds
, 0, (
ﬂm_˛asm¨k_fõldbody_t
)*12);

3891 
	`Ctc_GëClfRmk2Loˇl
((
u8_t
)
curP‹tId
, 
¥e˚dí˚OfRuÀ
 - 1, &
˛sRuÀ
, &
˛sFõlds
[0]);

3893 
numOfRuÀ
++;

3896 
pClsRuÀ
 = (
ﬂm_˛asm¨k_ruÀbody_t
 *)
p_byã
;

3897 
	`mem˝y
(
pClsRuÀ
, &
˛sRuÀ
, (
ﬂm_˛asm¨k_ruÀbody_t
));

3898 
p_byã
 +(
ﬂm_˛asm¨k_ruÀbody_t
);

3901 
pClsFõld
 = (
ﬂm_˛asm¨k_fõldbody_t
 *)
p_byã
;

3902 
numOfFõld
 = 
pClsRuÀ
->numOfField;

3903 
	`mem˝y
(
pClsFõld
, & 
˛sFõlds
, 
numOfFõld
 * (
ﬂm_˛asm¨k_fõldbody_t
));

3904 
p_byã
 +
numOfFõld
 * (
ﬂm_˛asm¨k_fõldbody_t
);

3906 
pClsHódî
->
width
 +
pClsRuÀ
->
ÀnOfRuÀ
 + 2;

3909 
pClsHódî
->
a˘i⁄
 = 
OAM_CLASSIFY_ACTION_SHOW
;

3910 
pClsHódî
->
numOfRuÀ
 =ÇumOfRule;

3914 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

3916  
EPON_OAM_ERR_OK
;

3917 
	}
}

3920 
	$˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_£t
(

3921 
ŒidIdx
,

3922 
›
,

3923 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

3924 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

3925 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

3929 
u8_t
 
ucP‹tS
, 
ucP‹tE
;

3930 
ﬂm_˛asm¨k_t
 
pClsHódî_t
;

3931 
ﬂm_˛asm¨k_t
 *
pClsHódî
 = &
pClsHódî_t
;

3932 
ﬂm_˛asm¨k_ruÀbody_t
 *
pClsRuÀ
;

3933 
ﬂm_˛asm¨k_fõldbody_t
 *
pClsFõld
;

3934 
u8_t
 
ªt
;

3935 
u8_t
 
¥e˚dí˚OfRuÀ
;

3936 
u8_t
 
numOfRuÀ
;

3937 
u8_t
 
numOfFõld
;

3938 
u8_t
 
ruÀId
;

3939 
u16_t
 
curP‹tId
;

3940 
u8_t
* 
p_ö
;

3941 
ªt_vÆue
 =0;

3943 if(
NULL
 =
pV¨In°™t
)

3945  
EPON_OAM_ERR_NOT_FOUND
;

3948 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

3949 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

3951  
EPON_OAM_ERR_OK
;

3955 
pClsHódî
->
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

3956 
pClsHódî
->
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

3957 
pClsHódî
->
width
 = 
pV¨C⁄èöî
->
v¨Width
;

3958 
pClsHódî
->
a˘i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

3959 
pClsHódî
->
numOfRuÀ
 = 
pV¨C⁄èöî
->
pV¨D©a
[1];

3961 
p_ö
 = &
pV¨C⁄èöî
->
pV¨D©a
[2];

3963 if(
OAM_CLASSIFY_ACTION_CLR
 =
pClsHódî
->
a˘i⁄
)

3965 
ªt
 = 
OAM_SET_OK
;

3967 
curP‹tId
 = 
ucP‹tS
; curP‹tId <
ucP‹tE
; curPortId++)

3969 
	`CTC_DEBUG
("CÀ¨ P‹t%d'†Cœssifiˇti⁄.\n",
curP‹tId
);

3970 i‡(
NO_ERROR
 !
	`DRV_CtcCÀ¨ClfRmkByP‹t
(
curP‹tId
))

3972 
	`CTC_DEBUG
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

3973 
ªt
 = 
OAM_SET_NO_RESOURCE
;

3974 
£nd_r•
;

3977 
	`Ctc_CÀ¨ClfRmk2LoˇlByP‹t
(
curP‹tId
);

3980 if(
OAM_CLASSIFY_ACTION_DEL
 =
pClsHódî
->
a˘i⁄
)

3982 
BOOL
 
bB©chCfg
 = 
FALSE
;

3983 
numOfRuÀ
 = 
pClsHódî
->numOfRule;

3985 
ruÀId
 = 0;ÑuÀId < 
numOfRuÀ
;ÑuleId++)

3987 
¥e˚dí˚OfRuÀ
 = *((
u8_t
 *)
p_ö
);

3989 
ªt
 = 
OAM_SET_OK
;

3992 i‡(0 =
¥e˚dí˚OfRuÀ
)

3994 
bB©chCfg
 = 
TRUE
;

3997 i‡(
TRUE
 !
bB©chCfg
)

3999 
¥e˚dí˚OfRuÀ
 -= 1;

4002 i‡(
NO_ERROR
 !
	`DRV_CtcDñClfRmkByPªc
(
ucP‹tS
, 
¥e˚dí˚OfRuÀ
))

4004 
	`CTC_DEBUG
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

4005 
ªt
 = 
OAM_SET_NO_RESOURCE
;

4006 
£nd_r•
;

4009 
	`Ctc_CÀ¨ClfRmk2LoˇlByPªc
(
ucP‹tS
, 
¥e˚dí˚OfRuÀ
);

4012 if((
OAM_CLASSIFY_ACTION_ADD
 =
pClsHódî
->
a˘i⁄
))

4014 
BOOL
 
bB©chCfg
 = 
FALSE
;

4015 
numOfRuÀ
 = 
pClsHódî
->numOfRule;

4017 
ruÀId
 = 0;ÑuÀId < 
numOfRuÀ
;ÑuleId++)

4019 
ªt
 = 
OAM_SET_OK
;

4021 
pClsRuÀ
 = (
ﬂm_˛asm¨k_ruÀbody_t
 *)
p_ö
;

4022 
p_ö
 +(
ﬂm_˛asm¨k_ruÀbody_t
);

4023 
¥e˚dí˚OfRuÀ
 = 
pClsRuÀ
->precedenceOfRule;

4024 
numOfFõld
 = 
pClsRuÀ
->numOfField;

4026 
pClsFõld
 = (
ﬂm_˛asm¨k_fõldbody_t
 *)
p_ö
;

4027 
p_ö
 +
numOfFõld
 * (
ﬂm_˛asm¨k_fõldbody_t
);

4031 if((
OAM_CLF_EQUAL
 !
pClsFõld
->
›î©‹
Ë&& (
OAM_CLF_ALWAYS_MATCH
 !=ÖClsField->operator))

4034 
ªt
 = 
OAM_SET_NO_RESOURCE
;

4035 
£nd_r•
;

4040 i‡(0 =
¥e˚dí˚OfRuÀ
)

4042 
bB©chCfg
 = 
TRUE
;

4045 i‡(
TRUE
 !
bB©chCfg
)

4047 
¥e˚dí˚OfRuÀ
 -= 1;

4050 
	`CTC_DEBUG
("\n˘c: Add cl‡f‹Ö‹t%d.Öª˚:%d,Çum:%d\n",
ucP‹tS
,
¥e˚dí˚OfRuÀ
,
numOfRuÀ
);

4051 i‡(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPªc
(
ucP‹tS
, 
¥e˚dí˚OfRuÀ
, 
pClsRuÀ
, 
pClsFõld
))

4053 
	`CTC_DEBUG
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

4054 
ªt
 = 
OAM_SET_NO_RESOURCE
;

4055 
£nd_r•
;

4058 
	`Ctc_AddClfRmk2Loˇl
(
ucP‹tS
, 
¥e˚dí˚OfRuÀ
, 
pClsRuÀ
, 
pClsFõld
);

4063 
	`CTC_DEBUG
("classify unknown\n");

4064 
ªt
 = 
OAM_SET_BAD_PARAMETERS
;

4067 
£nd_r•
:

4069 
pV¨C⁄èöî
->
v¨Width
 = 
ªt
;

4071  
EPON_OAM_ERR_OK
;

4073 
	}
}

4076 
	$˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_gë
(

4077 
ŒidIdx
,

4078 
›
,

4079 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4080 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4081 *
pV¨C⁄èöî_TŸÆ_Lí
,

4082 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4086 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
, 
numbî
, *
p_byã
;

4087 
u16_t
 *
p_vid
;

4088 
ﬂm_mˇ°_vœn_t
 *
p_mˇ°_vœn
;

4089 
ªt_vÆue
 =0;

4090 
év_Àn
 = 0;

4092 if(
NULL
 =
pV¨In°™t
)

4094  
EPON_OAM_ERR_NOT_FOUND
;

4097 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4098 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4100  
EPON_OAM_ERR_OK
;

4124 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4125 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

4126 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4128  
EPON_OAM_ERR_MEM
;

4130 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

4131 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
OAM_CTC_MCAST_VLAN_LIST
;

4132 
p_byã
 += 1;

4133 
p_vid
 = (
u16_t
*)
p_byã
;

4134 
æt
 = 
	`odmMu…iˇ°VœnGë
(
ucP‹tS
, 
p_vid
, &
numbî
);

4135 if(0 !
æt
)

4137 
	`CTC_DEBUG
("[ %†]: odmMu…iˇ°VœnGëÑëu∫Éº‹!\n", 
__FUNCTION__
);

4138 
numbî
 = 0;

4140 
	`CTC_DEBUG
("[ %†]: mˇl° vœ¿num = %d\n", 
__FUNCTION__
, 
numbî
);

4141 
pV¨C⁄èöî
->
v¨Width
 = 1+2*
numbî
;

4143 
p_byã
 +2*
numbî
;

4144 if(
ucP‹tS
 =
ucP‹tE
)

4146  
EPON_OAM_ERR_OK
;

4150 
ucP‹tS
 += 1;

4153 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4156 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

4157 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

4159  
EPON_OAM_ERR_PARAM
;

4161 
p_byã
 +
év_Àn
;

4176 
p_mˇ°_vœn
 = (
ﬂm_mˇ°_vœn_t
*)
p_byã
;

4177 
p_mˇ°_vœn
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4178 
p_mˇ°_vœn
->
Àaf
 = 
OAM_ATTR_VLAN
;

4179 
p_mˇ°_vœn
->
›î©i⁄
 = 
OAM_CTC_MCAST_VLAN_LIST
;

4180 
p_byã
 +(
ﬂm_mˇ°_vœn
);

4181 
p_vid
 = (
u16_t
*)
p_byã
;

4182 
æt
 = 
	`odmMu…iˇ°VœnGë
(
ucP‹tS
, 
p_vid
, &
numbî
);

4183 if(0 !
æt
)

4185 
	`CTC_DEBUG
("[ %†]: odmMu…iˇ°VœnGëÑëu∫Éº‹!\n", 
__FUNCTION__
);

4186 
numbî
 = 0;

4188 
	`CTC_DEBUG
("[ %†]: mˇl° vœ¿num = %d\n", 
__FUNCTION__
, 
numbî
);

4189 
p_mˇ°_vœn
->
width
 = 1+2*
numbî
;

4190 
p_byã
 +2*
numbî
;

4193 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

4195  
EPON_OAM_ERR_OK
;

4196 
	}
}

4199 
	$˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_£t
(

4200 
ŒidIdx
,

4201 
›
,

4202 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4203 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4204 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4208 
u8_t
 
i
, 
numbî
, 
ucP‹tS
, 
ucP‹tE
, 
curP‹tId
;

4209 
u8_t
 *
p_ö
;

4210 
u16_t
 *
p_vid
;

4211 
ﬂm_mˇ°_vœn_t
 
p_mˇ°_vœn_t
;

4212 
ﬂm_mˇ°_vœn_t
 *
p_mˇ°_vœn
 = &
p_mˇ°_vœn_t
;

4213 
u32_t
 
æt
 = 0;

4214 
ªt_vÆue
 =0;

4218 if(
	`mcC⁄åﬁBlockModeGë
()==
MC_MODE_CTC
)

4220 
	`CTC_DEBUG
("Not in MC_MODE_SNOOPING mode.\r\n");

4221 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4222  
EPON_OAM_ERR_OK
;

4226 if(
NULL
 =
pV¨In°™t
)

4228  
EPON_OAM_ERR_NOT_FOUND
;

4231 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4232 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4234  
EPON_OAM_ERR_OK
;

4238 
p_mˇ°_vœn
->
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

4239 
p_mˇ°_vœn
->
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

4240 
p_mˇ°_vœn
->
width
 = 
pV¨C⁄èöî
->
v¨Width
;

4241 
p_mˇ°_vœn
->
›î©i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

4243 if(
p_mˇ°_vœn
->
width
 == 1)

4245 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4247 
	`odmMu…iˇ°VœnCÀ¨
(
ucP‹tS
);

4252 
u32_t
 
	`mcVœnNumGë
();

4253 
	`mcVœnExi°
(
u32_t
 
vœnId
);

4254 
u16_t
 *
p_vid_tmp
 = 
NULL
;

4255 
u32_t
 
ui_mc_vœn_num
 = 0;

4257 
p_ö
 = &
pV¨C⁄èöî
->
pV¨D©a
[1];

4258 
p_vid
 = (
u16_t
*)
p_ö
;

4259 
numbî
 = 
p_mˇ°_vœn
->
width
-1;

4262 i‡((
numbî
%2 !=0) || (15 <Çumber/2))

4264 
æt
 = 
OPL_ERROR
;

4265 
£nd_r•
;

4268 
p_vid_tmp
 = 
p_vid
;

4269 
i
 = 0; i < (
numbî
/2); i++)

4271 i‡(0 =
	`mcVœnExi°
(*(
p_vid_tmp
 + 
i
)))

4273 
ui_mc_vœn_num
++;

4278 
BOOL
 
	`CTC_CheckVÆidVidF‹Mcvœn
(
u32_t
 
uiMcVid
);

4279 i‡(
FALSE
 =
	`CTC_CheckVÆidVidF‹Mcvœn
(*(
p_vid_tmp
 + 
i
)))

4281 
æt
 = 
OPL_ERROR
;

4282 
£nd_r•
;

4288 i‡(
FALSE
 =
	`CTC_CheckVÆidVidF‹McTøn¶©i⁄
(*(
p_vid_tmp
 + 
i
)))

4290 
æt
 = 
OPL_ERROR
;

4291 
£nd_r•
;

4296 
ui_mc_vœn_num
 = ui_mc_vœn_num + 
	`mcVœnNumGë
();

4297 i‡(15 < 
ui_mc_vœn_num
)

4299 
æt
 = 
OPL_ERROR
;

4300 
£nd_r•
;

4303 
i
=0;i<
numbî
/2;i++,
p_vid
++)

4305 
	`CTC_DEBUG
("m¯vœn: %d\n", *
p_vid
);

4306 if(
p_mˇ°_vœn
->
›î©i⁄
 =
OAM_CTC_MCAST_VLAN_DEL
)

4308 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

4310 
	`odmMu…iˇ°VœnDñëe
(
curP‹tId
, *
p_vid
);

4314 if(
p_mˇ°_vœn
->
›î©i⁄
 =
OAM_CTC_MCAST_VLAN_ADD
)

4316 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

4318 
	`odmMu…iˇ°VœnAdd
(
curP‹tId
, *
p_vid
);

4324 
£nd_r•
:

4325 if(
æt
 =
OPL_OK
)

4327 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

4331 
	`CTC_DEBUG
("Multicast vlan set fail\n");

4332 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4335  
EPON_OAM_ERR_OK
;

4336 
	}
}

4339 
	$˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_gë
(

4340 
ŒidIdx
,

4341 
›
,

4342 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4343 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4344 *
pV¨C⁄èöî_TŸÆ_Lí
,

4345 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4349 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

4350 
ﬂm_mˇ°_èg°rùe_t
 *
p_èg°rùe
;

4351 
ªt_vÆue
 =0;

4352 
év_Àn
 = 0;

4354 if(
NULL
 =
pV¨In°™t
)

4356  
EPON_OAM_ERR_NOT_FOUND
;

4359 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4360 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4362  
EPON_OAM_ERR_OK
;

4384 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4385 
pV¨C⁄èöî
->
v¨Width
 = 1;

4386 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

4387 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4389  
EPON_OAM_ERR_MEM
;

4391 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

4392 
	`odmMu…iˇ°Tag°rùGë
(
ucP‹tS
, &(
pV¨C⁄èöî
->
pV¨D©a
[0]));

4394 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

4395 if(
ucP‹tS
 =
ucP‹tE
)

4397  
EPON_OAM_ERR_OK
;

4401 
ucP‹tS
 += 1;

4404 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4407 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

4408 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

4410  
EPON_OAM_ERR_PARAM
;

4412 
p_byã
 +
év_Àn
;

4425 
p_èg°rùe
 = (
ﬂm_mˇ°_èg°rùe_t
*)
p_byã
;

4426 
p_èg°rùe
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4427 
p_èg°rùe
->
Àaf
 = 
OAM_ATTR_MCAST_TAG_STRIP
;

4428 
p_èg°rùe
->
width
 = 1;

4429 
	`odmMu…iˇ°Tag°rùGë
(
ucP‹tS
, &(
p_èg°rùe
->
èg°rùed
));

4430 
p_byã
 +
p_èg°rùe
->
width
;

4433 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

4435  
EPON_OAM_ERR_OK
;

4436 
	}
}

4439 
	$˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_£t
(

4440 
ŒidIdx
,

4441 
›
,

4442 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4443 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4444 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4448 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

4449 
u16_t
 
p‹tId
;

4450 
ﬂm_mˇ°_èg°rùe_t
 
p_mˇ°_èg_°rù_hdr_t
;

4451 
ﬂm_mˇ°_èg°rùe_t
 *
p_mˇ°_èg_°rù_hdr
 = &
p_mˇ°_èg_°rù_hdr_t
;

4452 
ªt_vÆue
 =0;

4453 
vœnAddNum
,
ªußbÀVâNum
,
num_of_mˇ°_vœn
=0;

4454 
mvœn
;

4455 
u8_t
 
ègO≥r
;

4456 
dÆ_vâ_num
;

4457 
	`mcTagTøn¶©i⁄TabÀNum
();

4458 
dÆ_vâ_num
=
	`mcTagTøn¶©i⁄TabÀNum
();

4459 if(
NULL
 =
pV¨In°™t
)

4461  
EPON_OAM_ERR_NOT_FOUND
;

4464 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4465 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4467  
EPON_OAM_ERR_OK
;

4471 
p_mˇ°_èg_°rù_hdr
->
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

4472 
p_mˇ°_èg_°rù_hdr
->
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

4473 
p_mˇ°_èg_°rù_hdr
->
width
 = 
pV¨C⁄èöî
->
v¨Width
;

4474 
p_mˇ°_èg_°rù_hdr
->
èg°rùed
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

4477 
i
=0;

4478 
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 *
p_å™¶©i⁄_íåy
=
NULL
;

4479 
u8_t
 *
p_ö
 = (u8_à*)&(
pV¨C⁄èöî
->
pV¨D©a
[2]);

4480 
u8_t
 *
p_ö_tmp
 = 
p_ö
;

4482 if(
p_mˇ°_èg_°rù_hdr
->
èg°rùed
 =
OAM_CTC_MCAST_VLAN_TAG_TRANLATE
)

4484 
num_of_mˇ°_vœn
 = 
pV¨C⁄èöî
->
pV¨D©a
[1];

4485 if(
ucP‹tS
 !
ucP‹tE
)

4487 
vœnAddNum
 = 
ODM_NUM_OF_PORTS
*
num_of_mˇ°_vœn
;

4491 
vœnAddNum
 = 1*
num_of_mˇ°_vœn
;

4494 if(
dÆ_vâ_num
+
vœnAddNum
>15)

4496 
æt
 = 
OPL_ERROR
;

4497 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "e›l_£t_⁄u_mˇ°_èg_°rù: %d+%d>SHIVA_MAX_VLAN_TRANS\n", 
dÆ_vâ_num
, 
vœnAddNum
);

4498 
£nd_r•
;

4501 
p‹tId
 = 
ucP‹tS
;Ö‹tId <
ucP‹tE
;ÖortId++)

4503 
p_å™¶©i⁄_íåy
 = (
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 *)
p_ö_tmp
;

4504 
p_ö_tmp
 +(
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
);

4505 if(
OPL_OK
 !
	`m˘ag_å™¶©i⁄_check
(
p‹tId
, 
p_å™¶©i⁄_íåy
->
mˇ°_vœn
,Ö_å™¶©i⁄_íåy->
ùtv_vœn
))

4507 
	`DBG_PRINTF
("FIALED ... ");

4508 
æt
 = 
OPL_ERROR
;

4509 
£nd_r•
;

4516 
p‹tId
 = 
ucP‹tS
;Ö‹tId <
ucP‹tE
;ÖortId++)

4518 
	`CTC_DEBUG
("ˇŒ odmMu…iˇ°Tag°rùSë(%d, %d)\n", 
p‹tId
, 
p_mˇ°_èg_°rù_hdr
->
èg°rùed
);

4519 
æt
 = 
	`odmMu…iˇ°Tag°rùSë
(
p‹tId
,
p_mˇ°_èg_°rù_hdr
->
èg°rùed
);

4521 if(
æt
 !
OPL_OK
)

4523 
	`CTC_DEBUG
("call odmMulticastTagstripSet() fail!\n");

4524 
£nd_r•
;

4529 if(
p_mˇ°_èg_°rù_hdr
->
èg°rùed
 =
OAM_CTC_MCAST_VLAN_TAG_TRANLATE
)

4532 
i
 = 0; i < 
num_of_mˇ°_vœn
; i++)

4534 
p‹tId
 = 
ucP‹tS
;Ö‹tId <
ucP‹tE
;ÖortId++)

4537 
p_å™¶©i⁄_íåy
 = (
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
 *)
p_ö
;

4538 
p_ö
 +(
ﬂm_mˇ°_vœn_å™¶©i⁄_íåy_t
);

4540 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "call odmMulticastTagTranslationAdd(%ld, %ld, %ld)\n",

4541 
p‹tId
,

4542 
p_å™¶©i⁄_íåy
->
mˇ°_vœn
,

4543 
p_å™¶©i⁄_íåy
->
ùtv_vœn
);

4545 
æt
 = 
	`odmMu…iˇ°TagTøn¶©i⁄Add
(
p‹tId
,

4546 
p_å™¶©i⁄_íåy
->
mˇ°_vœn
,

4547 
p_å™¶©i⁄_íåy
->
ùtv_vœn
);

4549 if(
æt
 !
OPL_OK
)

4552 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "call odmMulticastTagTranslationAdd() fail!\n");

4553 
£nd_r•
;

4560 
£nd_r•
:

4561 if(
æt
 =
OPL_OK
)

4563 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

4567 
	`CTC_DEBUG
("MulticastÅag oper set fail\n");

4568 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4571  
EPON_OAM_ERR_OK
;

4572 
	}
}

4575 
	$˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_gë
(

4576 
ŒidIdx
,

4577 
›
,

4578 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4579 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4580 *
pV¨C⁄èöî_TŸÆ_Lí
,

4581 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4595 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4596 
pV¨C⁄èöî
->
v¨Width
 = 1;

4597 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
);

4598 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4600  
EPON_OAM_ERR_MEM
;

4602 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
	`odmMu…iˇ°SwôchGë
();

4604  
EPON_OAM_ERR_OK
;

4605 
	}
}

4608 
	$˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_£t
(

4609 
ŒidIdx
,

4610 
›
,

4611 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4612 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4613 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4617 
u8_t
 
æt
=0;

4618 
ﬂm_mˇ°_swôch_t
 
p_mˇ°_swôch
;

4621 
p_mˇ°_swôch
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

4622 
p_mˇ°_swôch
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

4623 
p_mˇ°_swôch
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

4624 
p_mˇ°_swôch
.
a˘i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

4626 
	`CTC_DEBUG
("m¯vœ¿swôch: %d\n", 
p_mˇ°_swôch
.
a˘i⁄
);

4628 if((
p_mˇ°_swôch
.
a˘i⁄
 == 0) || (p_mcast_switch.action == 1))

4630 
æt
 = 
	`odmMu…iˇ°SwôchSë
(
p_mˇ°_swôch
.
a˘i⁄
);

4634 
æt
 = 1;

4637 if(!
æt
)

4639 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

4643 
	`CTC_DEBUG
("Multicast switch set fail\n");

4644 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4647  
EPON_OAM_ERR_OK
;

4648 
	}
}

4651 
	$˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_gë
(

4652 
ŒidIdx
,

4653 
›
,

4654 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4655 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4656 *
pV¨C⁄èöî_TŸÆ_Lí
,

4657 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4661 
u8_t
 *
p_byã
;

4662 
u16_t
 
numbî
;

4663 
ﬂm_mˇ°_c⁄åﬁ_íåy_t
 *
p_mˇ°_íåy_§c
=0;

4679 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4680 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

4681 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4683  
EPON_OAM_ERR_MEM
;

4685 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

4686 
pV¨C⁄èöî
->
pV¨D©a
[0] = 3;

4687 
pV¨C⁄èöî
->
pV¨D©a
[1] = (
u8_t
)
	`odmMu…iˇ°C⁄åﬁTy≥Gë
();

4688 
p_byã
 += 3;

4689 
p_mˇ°_íåy_§c
 = (
ﬂm_mˇ°_c⁄åﬁ_íåy_t
*)
p_byã
;

4690 
	`odmMu…iˇ°C⁄åﬁE¡ryGë
((
mu…iˇ°_c⁄åﬁ_íåy_t
 *)
p_mˇ°_íåy_§c
, &
numbî
);

4691 
pV¨C⁄èöî
->
v¨Width
 = 3+10*
numbî
;

4692 
pV¨C⁄èöî
->
pV¨D©a
[2] = 
numbî
;

4693 
p_byã
 +10*
numbî
;

4695  
EPON_OAM_ERR_OK
;

4696 
	}
}

4699 
	$˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_£t
(

4700 
ŒidIdx
,

4701 
›
,

4702 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4703 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4704 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4708 
u8_t
 
i
;

4709 
ﬂm_mˇ°_c⁄åﬁ_t
 
p_mˇ°_c⁄åﬁ_t
;

4710 
ﬂm_mˇ°_c⁄åﬁ_t
 *
p_mˇ°_c⁄åﬁ
 = &
p_mˇ°_c⁄åﬁ_t
;

4711 
ﬂm_mˇ°_c⁄åﬁ_íåy_t
 *
p_mˇ°_íåy
;

4712 
u32_t
 
ªtVÆ
 = 0;

4713 
u8_t
 *
p_ö
 = 
pV¨C⁄èöî
->
pV¨D©a
;

4716 
p_mˇ°_c⁄åﬁ
->
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

4717 
p_mˇ°_c⁄åﬁ
->
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

4718 
p_mˇ°_c⁄åﬁ
->
width
 = 
pV¨C⁄èöî
->
v¨Width
;

4719 
p_mˇ°_c⁄åﬁ
->
a˘i⁄
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

4720 
p_mˇ°_c⁄åﬁ
->
c⁄åﬁ_ty≥
 = 
pV¨C⁄èöî
->
pV¨D©a
[1];

4721 
p_mˇ°_c⁄åﬁ
->
numbî
 = 
pV¨C⁄èöî
->
pV¨D©a
[2];

4722 
p_ö
 += 3;

4724 if(
p_mˇ°_c⁄åﬁ
->
width
 == 1)

4726 
ªtVÆ
 = 
	`odmMu…iˇ°C⁄åﬁE¡ryCÀ¨
();

4730 i‡(
p_mˇ°_c⁄åﬁ
->
a˘i⁄
 == 1)

4732 
mu…iˇ°_c⁄åﬁ_íåy_t
 
˘l_íåy_li°
[
MC_MAX_GROUP_NUM
];

4734 
UINT16
 
˘l_íåy_num
 = 0;

4735 
UINT16
 
˘l_íåy_ödex
;

4736 
ﬂm_mˇ°_c⁄åﬁ_íåy_t
 *
p_mˇ°_íåy_check
;

4737 
UINT8
 
˘l_íåy_num_≥r_p‹t
[
ODM_NUM_OF_PORTS
+1] = {0};

4739 
	`odmMu…iˇ°C⁄åﬁE¡ryGë
(&
˘l_íåy_li°
, &
˘l_íåy_num
);

4741 
˘l_íåy_ödex
=0; cé_íåy_ödex<
˘l_íåy_num
; ctl_entry_index++)

4743 
˘l_íåy_num_≥r_p‹t
[
˘l_íåy_li°
[
˘l_íåy_ödex
].
p‹t
]++;

4746 
p_mˇ°_íåy_check
 = (
ﬂm_mˇ°_c⁄åﬁ_íåy_t
*)
p_ö
;

4747 
i
=0; i<
p_mˇ°_c⁄åﬁ
->
numbî
; i++)

4749 
˘l_íåy_num_≥r_p‹t
[
p_mˇ°_íåy_check
->
p‹t_id
]++;

4750 
p_mˇ°_íåy_check
++;

4753 
i
=
ODM_START_PORT_NUN
; i<=
ODM_NUM_OF_PORTS
; i++)

4755 if(
˘l_íåy_num_≥r_p‹t
[
i
]>64)

4757 
ªtVÆ
 = -1;

4758 
	`CTC_DEBUG
("e›l_£t_⁄u_mˇ°_c⁄åﬁ:Ö‹t%dÉ¡ry>64\n", 
i
);

4759 
£nd_r•
;

4764 if((
p_mˇ°_c⁄åﬁ
->
c⁄åﬁ_ty≥
>=
MC_CTL_GDA_MAC
Ë&& (p_mˇ°_c⁄åﬁ->c⁄åﬁ_ty≥ < 
MC_CTL_END
))

4767 if(
p_mˇ°_c⁄åﬁ
->
c⁄åﬁ_ty≥
==
MC_CTL_GDA_MAC_VID
 ||Ö_mˇ°_c⁄åﬁ->c⁄åﬁ_ty≥==
MC_CTL_GDA_GDA_IP_VID
)

4769 
	`odmMu…iˇ°C⁄åﬁTy≥Së
(
p_mˇ°_c⁄åﬁ
->
c⁄åﬁ_ty≥
);

4774 
p_mˇ°_íåy
 = (
ﬂm_mˇ°_c⁄åﬁ_íåy_t
*)
p_ö
;

4775 
i
=0;i<
p_mˇ°_c⁄åﬁ
->
numbî
;i++,
p_mˇ°_íåy
++)

4777 if(
p_mˇ°_c⁄åﬁ
->
a˘i⁄
 == 0)

4779 
	`CTC_DEBUG
("mc vlan ctrl del,Öort: %d, vlan: %d, gda: %02x:%02x:%02x:%02x:%02x:%02x\n",

4780 
p_mˇ°_íåy
->
p‹t_id
,Ö_mˇ°_íåy->
vœn_id
,Ö_mˇ°_íåy->
gda
[0],

4781 
p_mˇ°_íåy
->
gda
[1],Ö_mcast_entry->gda[2],Ö_mcast_entry->gda[3],

4782 
p_mˇ°_íåy
->
gda
[4],Ö_mcast_entry->gda[5]);

4784 
ªtVÆ
 = 
	`odmMu…iˇ°C⁄åﬁE¡ryDñëe
(
p_mˇ°_íåy
->
p‹t_id
,

4785 
p_mˇ°_íåy
->
vœn_id
,

4786 
p_mˇ°_íåy
->
gda
);

4788 if(
p_mˇ°_c⁄åﬁ
->
a˘i⁄
 == 1)

4790 
	`CTC_DEBUG
("mc vlan ctrládd,Öort: %d, vlan: %d, gda: %02x:%02x:%02x:%02x:%02x:%02x\n",

4791 
p_mˇ°_íåy
->
p‹t_id
,Ö_mˇ°_íåy->
vœn_id
,Ö_mˇ°_íåy->
gda
[0],

4792 
p_mˇ°_íåy
->
gda
[1],Ö_mcast_entry->gda[2],Ö_mcast_entry->gda[3],

4793 
p_mˇ°_íåy
->
gda
[4],Ö_mcast_entry->gda[5]);

4794 
ªtVÆ
 = 
	`odmMu…iˇ°C⁄åﬁE¡ryAdd
(
p_mˇ°_íåy
->
p‹t_id
,

4795 
p_mˇ°_íåy
->
vœn_id
,

4796 
p_mˇ°_íåy
->
gda
);

4801 
£nd_r•
:

4802 if(
ªtVÆ
 == 0)

4804 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

4808 
	`CTC_DEBUG
("Multicast Control set fail\n");

4809 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4812  
EPON_OAM_ERR_OK
;

4813 
	}
}

4816 
	$˘c_ﬂm_v¨Cb_groupNumMax_gë
(

4817 
ŒidIdx
,

4818 
›
,

4819 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4820 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4821 *
pV¨C⁄èöî_TŸÆ_Lí
,

4822 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4826 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

4827 
ﬂm_group_num_max_t
 *
p_group
;

4828 
ªt_vÆue
 =0;

4829 
év_Àn
 = 0;

4831 if(
NULL
 =
pV¨In°™t
)

4833  
EPON_OAM_ERR_NOT_FOUND
;

4836 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4837 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4839  
EPON_OAM_ERR_OK
;

4861 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4862 
pV¨C⁄èöî
->
v¨Width
 = 1;

4863 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

4864 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4866  
EPON_OAM_ERR_MEM
;

4868 
p_byã
 = 
pV¨C⁄èöî
->
pV¨D©a
;

4869 
pV¨C⁄èöî
->
pV¨D©a
[0] = 
	`odmMu…iˇ°GroupMaxNumGë
(
ucP‹tS
);

4871 
p_byã
 +
pV¨C⁄èöî
->
v¨Width
;

4872 if(
ucP‹tS
 =
ucP‹tE
)

4874  
EPON_OAM_ERR_OK
;

4878 
ucP‹tS
 += 1;

4881 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4884 
év_Àn
 = 
	`˘c_ﬂm_add_év
(
pV¨In°™t
, 
p_byã
, 
ucP‹tS
);

4885 i‡(
év_Àn
 < 
EPON_OAM_ERR_OK
)

4887  
EPON_OAM_ERR_PARAM
;

4889 
p_byã
 +
év_Àn
;

4902 
p_group
 = (
ﬂm_group_num_max_t
*)
p_byã
;

4903 
p_group
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4904 
p_group
->
Àaf
 = 
OAM_ATTR_MCAST_GRP_NUMMAX
;

4905 
p_group
->
width
 = 1;

4906 
p_group
->
num_max
 = 
	`odmMu…iˇ°GroupMaxNumGë
(
ucP‹tS
);

4907 
p_byã
 +
p_group
->
width
;

4910 *
pV¨C⁄èöî_TŸÆ_Lí
 = 
p_byã
 - 
pV¨C⁄èöî
->
pV¨D©a
;

4912  
EPON_OAM_ERR_OK
;

4913 
	}
}

4916 
	$˘c_ﬂm_v¨Cb_groupNumMax_£t
(

4917 
ŒidIdx
,

4918 
›
,

4919 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4920 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4921 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4925 
u8_t
 
æt
=0, 
ucP‹tS
, 
ucP‹tE
;

4926 
ﬂm_group_num_max_t
 
p_group
;

4927 
ªt_vÆue
 =0;

4929 if(
NULL
 =
pV¨In°™t
)

4931  
EPON_OAM_ERR_NOT_FOUND
;

4934 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

4935 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

4937  
EPON_OAM_ERR_OK
;

4941 
p_group
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

4942 
p_group
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

4943 
p_group
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

4944 
p_group
.
num_max
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

4946 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4948 
	`CTC_DEBUG
("m¯vœ¿gΩ max: %d\n", 
p_group
.
num_max
);

4949 
æt
 = 
	`odmMu…iˇ°GroupMaxNumSë
(
ucP‹tS
, 
p_group
.
num_max
);

4952 if(!
æt
)

4954 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

4958 
	`CTC_DEBUG
("groupNumMax set fail\n");

4959 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4962  
EPON_OAM_ERR_OK
;

4963 
	}
}

4966 
	$˘c_ﬂm_v¨Cb_aFa°LóveAbûôy_gë
(

4967 
ŒidIdx
,

4968 
›
,

4969 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

4970 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

4971 *
pV¨C⁄èöî_TŸÆ_Lí
,

4972 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

4977 
íumC¡
 = 4, 
íumVÆue
;

4979 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

4983 
pV¨C⁄èöî
->
v¨Width
 =

4984 
CTC_OAM_VAR_AFASTLEAVEABILITY_HDR_LEN
 +

4985 (
CTC_OAM_VAR_AFASTLEAVEABILITY_ENUM_LEN
 * 
íumC¡
);

4986 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

4987 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

4989  
EPON_OAM_ERR_MEM
;

4993 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
íumC¡
);

4996 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_NONFASTLEAVE
;

4997 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 4), &
íumVÆue
);

5000 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_FASTLEAVE
;

5001 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 8), &
íumVÆue
);

5004 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_NONFASTLEAVE
;

5005 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 12), &
íumVÆue
);

5008 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_FASTLEAVE
;

5009 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 16), &
íumVÆue
);

5012 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_NONFASTLEAVE
;

5013 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 20), &
íumVÆue
);

5016 
íumVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_FASTLEAVE
;

5017 
	`CTC_BUF_ENCODE32
((
pV¨C⁄èöî
->
pV¨D©a
 + 24), &
íumVÆue
);

5019  
EPON_OAM_ERR_OK
;

5020 
	}
}

5023 
	$˘c_ﬂm_v¨Cb_aFa°LóveAdmöSèã_gë
(

5024 
ŒidIdx
,

5025 
›
,

5026 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

5027 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

5028 *
pV¨C⁄èöî_TŸÆ_Lí
,

5029 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

5033 
£tVÆue
;

5034 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

5035 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_AFASTLEAVEADMINSTATE_LEN
;

5036 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
’V¨C⁄èöî->
v¨Width
 * ());

5037 if(
NULL
 =
pV¨C⁄èöî
->
pV¨D©a
)

5039  
EPON_OAM_ERR_MEM
;

5043 
£tVÆue
 = 
CTC_OAM_VAR_AFASTLEAVEADMINSTATE_DISABLED
;

5044 
	`CTC_BUF_ENCODE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
£tVÆue
);

5046  
EPON_OAM_ERR_OK
;

5047 
	}
}

5049 
	$˘c_ﬂm_v¨Cb_ª£tOnu_£t
(

5050 
ŒidIdx
,

5051 
›
,

5052 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

5053 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

5054 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

5059 
ªboŸ_fd
 = -1;

5060 
pV¨C⁄èöî
->
v¨Width
 = 0x80;

5063 
	`CTC_DEBUG
("%s:%d OLU issuêª£àONU comm™d\n", 
__FILE__
, 
__LINE__
);

5065 if((
ªboŸ_fd
 = 
	`›í
(
REBOOT_LOCK
, 
O_RDWR
|
O_CREAT
|
O_TRUNC
)) < 0)

5069 
	`¥ötf
("File openÉrror\n");

5070  
EPON_OAM_ERR_OK
;

5073 if(
	`WRITE_LOCK
(
ªboŸ_fd
, 0, 
SEEK_SET
, 0) < 0)

5076 
	`¥ötf
("System isÖerforming upgrade\n");

5077  
EPON_OAM_ERR_OK
;

5079 
	`¶ìp
(3);

5080 
	`ªboŸ
(
LINUX_REBOOT_CMD_RESTART
);

5082  
EPON_OAM_ERR_OK
;

5083 
	}
}

5086 
	$˘c_ﬂm_v¨Cb_acFa°LóveAdmöC⁄åﬁ_£t
(

5087 
ŒidIdx
,

5088 
›
,

5089 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

5090 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

5091 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

5095 
u8_t
 
æt
=0, *
p_byã
;

5096 
ﬂm_Á°Àave_adm_t
 
p_Á°
;

5098 
p_Á°
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

5099 
p_Á°
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

5100 
p_Á°
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

5101 
	`CTC_BUF_PARSE32
(
pV¨C⁄èöî
->
pV¨D©a
, &
p_Á°
.
vÆue
);

5103 
	`CTC_DEBUG
("m¯Á°Üóvê£t: %d\n", 
p_Á°
.
vÆue
);

5105 i‡(1 =
p_Á°
.
vÆue
)

5107 
æt
 = 
	`odmMu…iˇ°Fa°ÀaveModeSë
(0);

5109 i‡(2 =
p_Á°
.
vÆue
)

5111 
æt
 = 
	`odmMu…iˇ°Fa°ÀaveModeSë
(1);

5114 if(!
æt
)

5116 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

5120 
	`CTC_DEBUG
("FastLeaveAdminControl set fail\n");

5121 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

5124  
EPON_OAM_ERR_OK
;

5125 
	}
}

5127 
	$˘c_ﬂm_chu∫ögKey_£t
(

5128 
ŒidIdx
,

5129 
keyIdx
,

5130 
key
[])

5132 
πk_ï⁄_chu∫ögKeyE¡ry_t
 
íåy
;

5134 
íåy
.
ŒidIdx
 =ÜlidIdx;

5135 
íåy
.
keyIdx
 = keyIdx;

5136 
	`mem˝y
(
íåy
.
chu∫ögKey
, 
key
, 
RTK_EPON_KEY_SIZE
);

5139 
	`πk_ï⁄_chu∫ögKey_£t
(&
íåy
);

5141  
EPON_OAM_ERR_OK
;

5142 
	}
}

5144 
	$˘c_ﬂm_dbaC⁄fig_gë
(

5145 
˘c_dbaThªshﬁd_t
 *
pDbaThªshﬁd
)

5150 *
pDbaThªshﬁd
 = 
dbaThªshﬁdDb
;

5152  
EPON_OAM_ERR_OK
;

5153 
	}
}

5155 
	$˘c_ﬂm_dbaC⁄fig_£t
(

5156 
˘c_dbaThªshﬁd_t
 *
pDbaSëRe•
)

5161 
dbaThªshﬁdDb
 = *
pDbaSëRe•
;

5163  
EPON_OAM_ERR_OK
;

5164 
	}
}

5167 
	$˘c_ﬂm_v¨Cb_ëhP‹tmode_£t
(

5168 
ŒidIdx
,

5169 
›
,

5170 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

5171 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

5172 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

5176 
u8_t
 
æt
=
OPL_OK
, 
ucP‹tS
, 
ucP‹tE
;

5177 
ﬂm_ëh_p‹çau£_t
 
p_∑u£
;

5178 
ªt_vÆue
 =0;

5179 
u32_t
 
p‹t_mode_du∂ex
 = 0;

5180 
u32_t
 
p‹t_mode_•ìd
 = 0;

5181 
u32_t
 
p‹t
 = 0;

5183 if(
CTC_OAM_VAR_ETHPORTPAUSE_LEN
 !
pV¨C⁄èöî
->
v¨Width
)

5185  
EPON_OAM_ERR_UNKNOWN
;

5188 if(
NULL
 =
pV¨In°™t
)

5190  
EPON_OAM_ERR_NOT_FOUND
;

5193 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

5194 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

5196  
EPON_OAM_ERR_OK
;

5200 
p_∑u£
.
bønch
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Bønch
;

5201 
p_∑u£
.
Àaf
 = 
pV¨C⁄èöî
->
v¨Desc
.
v¨Lóf
;

5202 
p_∑u£
.
width
 = 
pV¨C⁄èöî
->
v¨Width
;

5203 
p_∑u£
.
back_›î
 = 
pV¨C⁄èöî
->
pV¨D©a
[0];

5205 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

5207 
p_∑u£
.
back_›î
)

5209 
OAM_PORT_MODE_10H
:

5210 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

5211 
p‹t_mode_•ìd
 = 
SPEED_10M
;

5213 
OAM_PORT_MODE_10F
:

5214 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

5215 
p‹t_mode_•ìd
 = 
SPEED_10M
;

5217 
OAM_PORT_MODE_100H
:

5218 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

5219 
p‹t_mode_•ìd
 = 
SPEED_100M
;

5221 
OAM_PORT_MODE_100F
:

5222 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

5223 
p‹t_mode_•ìd
 = 
SPEED_100M
;

5225 
OAM_PORT_MODE_1000F
:

5226 
p‹t_mode_•ìd
 = 
SPEED_1000M
;

5229 
æt
 = 
OPL_ERROR
;

5232 
p‹t
 = (
u32_t
)
ucP‹tS
;

5233 
æt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t
, 
p‹t_mode_•ìd
);

5234 if(
OPL_OK
 !
æt
)

5239 
æt
 = 
	`DRV_SëP‹tDu∂ex
(
ucP‹tS
, 
p‹t_mode_du∂ex
);

5242 if(
æt
 =
OPL_OK
)

5253 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

5261 
	`CTC_DEBUG
("ethPortPause_set fail\n");

5262 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

5265  
EPON_OAM_ERR_OK
;

5266 
	}
}

5268 
	$˘c_ﬂm_v¨Cb_ëhP‹tSèti°ic_gë
(

5269 
ŒidIdx
,

5270 
›
,

5271 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

5272 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

5273 *
pV¨C⁄èöî_TŸÆ_Lí
,

5274 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

5278 
u8_t
 
ucP‹tS
, 
ucP‹tE
, *
p_byã
;

5279 
ﬂm_ëh_p‹çau£_t
 *
p_∑u£
;

5280 
u32_t
 
°©e
=0;

5281 
BOOL
 
bP‹tSètus
 = 
TRUE
;

5282 
ªt_vÆue
 =0;

5283 
év_Àn
 = 0;

5284 
ªt
 = 0;

5286 if(
NULL
 =
pV¨In°™t
)

5288  
EPON_OAM_ERR_NOT_FOUND
;

5291 
ªt_vÆue
 = 
	`˘c_ﬂm_gë_p‹tid
(
pV¨In°™t
, 
v¨Desc
, 
pV¨C⁄èöî
, &
ucP‹tS
, &
ucP‹tE
);

5292 if(
EPON_OAM_ERR_PARAM
 =
ªt_vÆue
)

5294  
EPON_OAM_ERR_OK
;

5316 
pV¨C⁄èöî
->
v¨Desc
 = varDesc;

5317 
pV¨C⁄èöî
->
v¨Width
 = 78;

5319 
pV¨C⁄èöî
->
pV¨D©a
 = (*Ë
	`mÆloc
(1500);

5320 
UNI_COUNTER_S
 
mibCou¡îs
;

5322 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
ucP‹tS
, &
mibCou¡îs
);

5323 if(
ªt
 !
NO_ERROR
)

5325 
	`CTC_DEBUG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

5327 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
uiRecO˘ës
;

5328 
pV¨C⁄èöî
->
pV¨D©a
+=8;

5329 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InBrﬂdˇ°
+mibCou¡îs.
InMu…iˇ°
+mibCou¡îs.
InUniˇ°
;

5330 
pV¨C⁄èöî
->
pV¨D©a
+=8;

5331 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InUniˇ°
;

5332 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5333 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InMu…iˇ°
;

5334 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5335 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InBrﬂdˇ°
;

5336 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5337 *(
pV¨C⁄èöî
->
pV¨D©a
) = 0;

5338 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5340 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InUndîÊow
;

5341 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5342 *(
pV¨C⁄èöî
->
pV¨D©a
) = 0;

5343 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5344 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InOvîÊow
;

5345 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5346 *(
pV¨C⁄èöî
->
pV¨D©a
) = 0;

5347 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5348 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
InCrcEº‹
;

5349 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5351 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
uiTønsO˘ës
;

5352 
pV¨C⁄èöî
->
pV¨D©a
+=8;

5353 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
OutBrﬂdˇ°
+mibCou¡îs.
OutMu…iˇ°
+mibCou¡îs.
OutUniˇ°
;

5354 
pV¨C⁄èöî
->
pV¨D©a
+=8;

5355 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
OutUniˇ°
;

5356 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5357 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
OutMu…iˇ°
;

5358 
pV¨C⁄èöî
->
pV¨D©a
+=4;

5359 *(
pV¨C⁄èöî
->
pV¨D©a
Ë
mibCou¡îs
.
OutBrﬂdˇ°
;

5362  
EPON_OAM_ERR_OK
;

5363 
	}
}

	@src/user/ctc_oam_vartbl.c

2 
	~"huawei.h
"

3 
	~"lw_c⁄fig.h
"

6 
˘c_v¨Cb_t
 
	g˘c_°dAârCb
[] = {

16 
CTC_VAR_OP_GET
,

17 
CTC_VAR_TARGET_UNIPORT
,

18 
˘c_ﬂm_v¨Cb_aPhyAdmöSèã_gë
, 
NULL


23 
CTC_VAR_OP_GET
,

24 
CTC_VAR_TARGET_UNIPORT
,

25 
˘c_ﬂm_v¨Cb_aAutoNegAdmöSèã_gë
, 
NULL


30 
CTC_VAR_OP_GET
,

31 
CTC_VAR_TARGET_UNIPORT
,

32 
˘c_ﬂm_v¨Cb_aAutoNegLoˇlTechnﬁogyAbûôy_gë
, 
NULL


37 
CTC_VAR_OP_GET
,

38 
CTC_VAR_TARGET_UNIPORT
,

39 
˘c_ﬂm_v¨Cb_aAutoNegAdvîti£dTechnﬁogyAbûôy_gë
, 
NULL


44 
CTC_VAR_OP_GET
,

45 
CTC_VAR_TARGET_ONU
,

46 
˘c_ﬂm_v¨Cb_aFECAbûôy_gë
, 
NULL


51 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

52 
CTC_VAR_TARGET_ONU
,

53 
˘c_ﬂm_v¨Cb_aFecMode_gë
, 
˘c_ﬂm_v¨Cb_aFecMode_£t


60 
NULL
, NULL

64 
˘c_v¨Cb_t
 
	g˘c_°dA˘Cb
[] = {

71 #i‚de‡
CONFIG_PRODUCT_5500


75 
CTC_VAR_OP_SET
,

76 
CTC_VAR_TARGET_UNIPORT
,

77 
NULL
, 
˘c_ﬂm_v¨Cb_acPhyAdmöC⁄åﬁ_£t


82 
CTC_VAR_OP_SET
,

83 
CTC_VAR_TARGET_UNIPORT
,

84 
NULL
, 
˘c_ﬂm_v¨Cb_acAutoNegRe°¨tAutoC⁄fig_£t


89 
CTC_VAR_OP_SET
,

90 
CTC_VAR_TARGET_UNIPORT
,

91 
NULL
, 
˘c_ﬂm_v¨Cb_acAutoNegAdmöC⁄åﬁ_£t


99 
NULL
, NULL

103 
˘c_v¨Cb_t
 
	g˘c_extAârCb
[] = {

113 
CTC_VAR_OP_GET
,

114 
CTC_VAR_TARGET_ONU
,

115 
˘c_ﬂm_v¨Cb_⁄uSn_gë
, 
NULL


120 
CTC_VAR_OP_GET
,

121 
CTC_VAR_TARGET_ONU
,

122 
˘c_ﬂm_v¨Cb_fúmw¨eVî_gë
, 
NULL


127 
CTC_VAR_OP_GET
,

128 
CTC_VAR_TARGET_ONU
,

129 
˘c_ﬂm_v¨Cb_chù£tId_gë
, 
NULL


134 
CTC_VAR_OP_GET
,

135 
CTC_VAR_TARGET_ONU
,

136 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs1_gë
, 
NULL


141 
CTC_VAR_OP_GET
,

142 
CTC_VAR_TARGET_ONU
,

143 
˘c_ﬂm_v¨Cb_›tiˇlTøns˚ivîDügnosis_gë
, 
NULL


148 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

149 
CTC_VAR_TARGET_ONU
,

150 
˘c_ﬂm_v¨Cb_£rvi˚Sœ_gë
, 
˘c_ﬂm_v¨Cb_£rvi˚Sœ_£t


155 
CTC_VAR_OP_GET
,

156 
CTC_VAR_TARGET_ONU
,

157 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs2_gë
, 
NULL


162 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

163 
CTC_VAR_TARGET_ONU
,

164 
˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_gë
, 
˘c_ﬂm_v¨Cb_hﬁdovîC⁄fig_£t


169 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

170 
CTC_VAR_TARGET_ONU
,

171 
˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_gë
, 
˘c_ﬂm_v¨Cb_mxUMngGlobÆP¨amëî_£t


176 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

177 
CTC_VAR_TARGET_ONU
,

178 
˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_gë
, 
˘c_ﬂm_v¨Cb_mxUMngSNMPP¨amëî_£t


183 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

184 
CTC_VAR_TARGET_ONU
,

185 
˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_gë
, 
˘c_ﬂm_v¨Cb_a˘iveP⁄IfAdmö°©e_£t


190 
CTC_VAR_OP_GET
,

191 
CTC_VAR_TARGET_ONU
,

192 
˘c_ﬂm_v¨Cb_⁄uC≠abûôõs3_gë
, 
NULL


197 
CTC_VAR_OP_GET
,

198 
CTC_VAR_TARGET_ONU
,

199 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC≠abûôõs_gë
, 
NULL


204 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

205 
CTC_VAR_TARGET_ONU
,

206 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_gë
, 
˘c_ﬂm_v¨Cb_⁄uPowîSavögC⁄fig_£t


211 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

212 
CTC_VAR_TARGET_ONU
,

213 
˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_gë
, 
˘c_ﬂm_v¨Cb_⁄uPrŸe˘i⁄P¨amëîs_£t


218 
CTC_VAR_OP_GET
,

219 
CTC_VAR_TARGET_UNIPORT
,

220 
˘c_ﬂm_v¨Cb_ëhLökSèã_gë
, 
NULL


222 #i‚de‡
CONFIG_PRODUCT_5500


226 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

227 
CTC_VAR_TARGET_UNIPORT
,

228 
˘c_ﬂm_v¨Cb_ëhP‹tPau£_gë
, 
˘c_ﬂm_v¨Cb_ëhP‹tPau£_£t


233 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

234 
CTC_VAR_TARGET_UNIPORT
,

235 
˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_gë
, 
˘c_ﬂm_v¨Cb_ëhP‹tUsPﬁicög_£t


240 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

241 
CTC_VAR_TARGET_UNIPORT
,

242 
˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_gë
, 
˘c_ﬂm_v¨Cb_ëhP‹tDsPﬁicög_£t


244 #ifde‡
CONFIG_LOOPD


248 
CTC_VAR_OP_SET
,

249 
CTC_VAR_TARGET_UNIPORT
,

250 
NULL
, 
˘c_ﬂm_v¨Cb_p‹tLo›Dëe˘_£t


256 
CTC_VAR_OP_SET
 | CTC_VAR_OP_SET,

257 
CTC_VAR_TARGET_UNIPORT
,

258 
˘c_ﬂm_v¨Cb_p‹tMacAgögTime_gë
, 
˘c_ﬂm_v¨Cb_p‹tMacAgögTime_£t


263 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

264 
CTC_VAR_TARGET_UNIPORT
,

265 
˘c_ﬂm_v¨Cb_vœn_gë
, 
˘c_ﬂm_v¨Cb_vœn_£t


270 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

271 
CTC_VAR_TARGET_UNIPORT
,

272 
˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_gë
, 
˘c_ﬂm_v¨Cb_ˇlssifiˇti⁄M¨kög_£t


277 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

278 
CTC_VAR_TARGET_MULTICAST
,

279 
˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_gë
, 
˘c_ﬂm_v¨Cb_addDñMu…iˇ°Vœn_£t


284 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

285 
CTC_VAR_TARGET_MULTICAST
,

286 
˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_gë
, 
˘c_ﬂm_v¨Cb_mu…iˇ°TagO≥r_£t


291 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

292 
CTC_VAR_TARGET_MULTICAST
,

293 
˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_gë
, 
˘c_ﬂm_v¨Cb_mu…iˇ°Swôch_£t


298 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

299 
CTC_VAR_TARGET_MULTICAST
,

300 
˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_gë
, 
˘c_ﬂm_v¨Cb_mu…iˇ°C⁄åﬁ_£t


305 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

306 
CTC_VAR_TARGET_MULTICAST
,

307 
˘c_ﬂm_v¨Cb_groupNumMax_gë
, 
˘c_ﬂm_v¨Cb_groupNumMax_£t


313 
CTC_VAR_OP_GET
,

314 
CTC_VAR_TARGET_MULTICAST
,

315 
˘c_ﬂm_v¨Cb_aFa°LóveAbûôy_gë
, 
NULL


320 
CTC_VAR_OP_GET
,

321 
CTC_VAR_TARGET_MULTICAST
,

322 
˘c_ﬂm_v¨Cb_aFa°LóveAdmöSèã_gë
, 
NULL


327 
CTC_VAR_OP_SET
,

328 
CTC_VAR_TARGET_ONU
,

329 
NULL
, 
˘c_ﬂm_v¨Cb_Æ¨mAdmö_£t


334 
CTC_VAR_OP_SET
,

335 
CTC_VAR_TARGET_ONU
,

336 
NULL
, 
˘c_ﬂm_v¨Cb_p⁄if_Æ¨mThªshﬁd_£t


341 
CTC_VAR_OP_SET
,

342 
CTC_VAR_TARGET_ONU
,

343 
ﬂm_huawei_ù_mgmt_vœn_¥o˚ss
, 
NULL


348 
CTC_VAR_OP_SET
,

349 
CTC_VAR_TARGET_UNIPORT
,

350 
NULL
, 
˘c_ﬂm_v¨Cb_ëhP‹tmode_£t


355 
CTC_VAR_OP_GET
,

356 
CTC_VAR_TARGET_UNIPORT
,

357 
˘c_ﬂm_v¨Cb_ëhP‹tSèti°ic_gë
, 
NULL


364 
NULL
, NULL

369 
˘c_v¨Cb_t
 
	g˘c_extA˘Cb
[] = {

379 
CTC_VAR_OP_SET
,

380 
CTC_VAR_TARGET_ONU
,

381 
NULL
, 
˘c_ﬂm_v¨Cb_ª£tOnu_£t


383 #i‚de‡
CONFIG_PRODUCT_5500


387 
CTC_VAR_OP_SET
,

388 
CTC_VAR_TARGET_ONU
,

389 
NULL
, 
˘c_ﬂm_v¨Cb_acFa°LóveAdmöC⁄åﬁ_£t


397 
NULL
, NULL

	@src/user/drv_lw.c

5 #ifde‡ 
__˝lu•lus


9 
	~<sys/ty≥s.h
>

10 
	~<°dio.h
>

11 
	~<°dlib.h
>

12 
	~<î∫o.h
>

13 
	~<sig«l.h
>

14 
	~<uni°d.h
>

15 
	~<±hªad.h
>

16 
	~<£m≠h‹e.h
>

17 
	~<as£π.h
>

18 
	~<°rög.h
>

20 
	~"lw_ty≥.h
"

21 
	~"lw_drv_pub.h
"

22 
	~"lw_drv_ªq.h
"

23 
	~"ﬂm.h
"

24 
	~"ﬂm_lw.h
"

25 
	~"drv_lw.h
"

27 
UINT32
 
ﬂm_m⁄ô‹_p‹t
 = 
MONITOR_PORT_DEFAULT_VALUE
;

28 
logic_pmask_t
 
ﬂm_ö_múr‹_lmask
 = {0x00};

29 
logic_pmask_t
 
ﬂm_out_múr‹_lmask
 = {0x00};

31 
UINT8
 
g_bP⁄Los
;

34 
UCHAR
 
	gg_aucOnuMac
[
MAC_ADDR_LEN
];

35 
UINT8
 
	gg_bLightAlways
 = 
FALSE
;

36 
ONU_BOARD_TYPE_E
 
	gg_íOnuBﬂrdTy≥
 = 
ONU_BORAD_TYPE_EPN104
;

37 #i‡
deföed
(
CONFIG_PRODUCT_EPN200
Ë|| deföed(
CONFIG_PRODUCT_EPN101R
Ë|| deföed(
CONFIG_PRODUCT_EPN101ZG
)

38 
BOOL_T
 
	gm_abAutoNegE«bÀ
[
CTC_MAX_SUBPORT_NUM
 + 1] = {
BOOL_TRUE
, BOOL_TRUE};

40 
BOOL_T
 
	gm_abAutoNegE«bÀ
[
CTC_MAX_SUBPORT_NUM
 + 1] = {
BOOL_TRUE
, BOOL_TRUE, BOOL_TRUE, BOOL_TRUE, BOOL_TRUE};

43 
	#düg_¥ötf
 
¥ötf


	)

45 
	#düg_¥ötf
(
fmt
, ...)

	)

49 
PORT_CFG_S
 
	gg_a°P‹tCfg
[
MAX_PORT_NUM
+1];

52 
±hªad_muãx_t
 
	gm_DrvCfgMuãx
;

54 
	#DRV_CFGLOCK
 
	`±hªad_muãx_lock
(&
m_DrvCfgMuãx
)

	)

55 
	#DRV_CFGUNLOCK
 
	`±hªad_muãx_u∆ock
(&
m_DrvCfgMuãx
)

	)

57 
BOOL
 
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
UINT32
 
vœnId
);

59 
MuãxCª©e
(
±hªad_muãx_t
 *
muãx
)

61 
±hªad_muãx©å_t
 
	g©å
;

62 
±hªad_muãx©å_öô
(&
©å
);

63 
	g©å
.
	g__muãxköd
 = 
PTHREAD_MUTEX_RECURSIVE_NP
;

64  
±hªad_muãx_öô
(
muãx
, &
©å
);

66 
	#MAX_ACL_FILTER_NUM
 32

	)

68 
INT32
 
CTC_DRV_GëVœnIdAndPri
(
UINT32
 
uiVœnTag
, UINT32 *
puiVœnId
, UINT32 *
puiPri
);

72 
PORT_QINQ_S
 
	gg_a°UniQöqMode
[
MAX_PORT_NUM
+1];

75 
	gg_adPowî
[100][2] = {

182 
VOID
 
InôP‹tCfg
(
PORT_CFG_S
 *
psP‹tCfg
)

184 
USHORT
 
	gi
 = 0;

186 if(
	gNULL
 =
psP‹tCfg
)

191 
MEM_SET_ZERO
(
psP‹tCfg
, (
PORT_CFG_S
));

193 
	gi
 = 1; i <
MAX_PORT_NUM
; i++)

195 
	gpsP‹tCfg
[
i
].
	gucP‹tE«bÀ
 = 
ENABLE
;

196 
	gpsP‹tCfg
[
i
].
	gucS≥ed
 = 
PORT_SPEED_AUTO
;

197 
	gpsP‹tCfg
[
i
].
	gucDu∂ex
 = 
PORT_DUPLEX_AUTO
;

198 
	gpsP‹tCfg
[
i
].
	gucMdi
 = 
PORT_MDI_AUTO
;

199 
	gpsP‹tCfg
[
i
].
	gucFlowCål
 = 
PORT_FLOWCTRL_DISABLE
;

200 
	gpsP‹tCfg
[
i
].
	gulLöeR©eIn
 = 0;

201 
	gpsP‹tCfg
[
i
].
	gulLöeR©eOut
 = 0;

202 
	gpsP‹tCfg
[
i
].
	gucIsﬁ©eE«bÀ
 = 
DISABLE
;

203 
	gpsP‹tCfg
[
i
].
	gucLökTy≥
 = 
LINK_TYPE_ACCESS
;

204 
	gpsP‹tCfg
[
i
].
	gusPvid
 = 
DEFAULT_VID
;

205 
	gpsP‹tCfg
[
i
].
	gucVœnPri
 = 0;

207 
	gpsP‹tCfg
[
i
].
	gulQosTru°Mode
 = 
QOS_COS
;

217 
INT32
 
DRV_LwInô
()

219 
INT32
 
	gªtVÆ
;

221 
	gªtVÆ
 = 
MuãxCª©e
(&
m_DrvCfgMuãx
);

222 i‡(0 !
ªtVÆ
)

224  
ERROR
;

228 
InôP‹tCfg
(
g_a°P‹tCfg
);

230 (
	gVOID
)
Drv_SwôchInô
();

232  
	gNO_ERROR
;

234 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

238 
INT32
 
_CTC_GëUniC⁄figuøti⁄
–
UCHAR
 
ucUniP‹tId
, 
PORT_CFG_S
 *
p°UniC⁄f
 )

243 
	gDRV_CFGLOCK
;

245 *
	gp°UniC⁄f
 = 
g_a°P‹tCfg
[
ucUniP‹tId
];

246 
	gDRV_CFGUNLOCK
;

248  
	gNO_ERROR
;

256 
INT32
 
_CTC_GëP‹tVœnModeCfg
(
UINT32
 
uiLP‹tId
, 
CTC_VLAN_CFG_S
 *
p°CtcVœnMode
)

258 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

259 (
	gNULL
 =
p°CtcVœnMode
))

261 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

262  
	gERROR
;

265 i‡(
	gDRV_OK
 !
Io˘l_˘c_gë_a˛_ruÀ
(
uiLP‹tId
, 
p°CtcVœnMode
))

267 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

268  
	gERROR
;

271  
	gNO_ERROR
;

279 
INT32
 
_CTC_SëP‹tVœnModeCfg
(
UINT32
 
uiLP‹tId
, 
CTC_VLAN_CFG_S
 *
p°CtcVœnMode
)

282 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

283 (
	gNULL
 =
p°CtcVœnMode
))

285  
ERROR
;

288 i‡(
	gDRV_OK
 !
Io˘l_˘c_£t_a˛_ruÀ
(
uiLP‹tId
, 
p°CtcVœnMode
))

290 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

291  
	gERROR
;

294  
	gNO_ERROR
;

303 
INT32
 
_CTC_AddVtuP‹tMem
(
UINT32
 
uiLP‹t
, UINT32 
uiVœnId
, 
CTC_VLAN_MEM_E
 
íTagMode
)

305 
INT32
 
	giRë
 = 
NO_ERROR
;

306 
logic_pmask_t
 
	g°LMask
, 
	g°U¡agLMsk
;

308 i‡(!
IsVÆidLgcP‹t
(
uiLP‹t
) ||

309 (
	gVLAN_MEM_END
 <
íTagMode
) ||

310 ((
VLAN_ID_0
 !
uiVœnId
Ë&& !
VALID_VLAN_ID
(uiVlanId)))

312 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

313  
	gERROR
;

316 
CÃLgcMaskAŒ
(&
°LMask
);

317 
CÃLgcMaskAŒ
(&
°U¡agLMsk
);

319 
	gíTagMode
)

321 
	gVLAN_MEM_UNTAG
:

322 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

323 
SëLgcMaskBô
(
uiLP‹t
, &
°U¡agLMsk
);

325 
	gVLAN_MEM_TAG
:

326 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

328 
	gVLAN_MEM_NO
:

329 
CÃLgcMaskBô
(
uiLP‹t
, &
°LMask
);

330 
CÃLgcMaskBô
(
uiLP‹t
, &
°U¡agLMsk
);

336 
	giRë
 = 
Io˘l_SëVœnMembîAdd
(
uiVœnId
, 
°LMask
, 
°U¡agLMsk
);

337 i‡(
	gDRV_OK
 !
iRë
)

339 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

340  
	gDRV_ERR_UNKNOW
;

343  
	gNO_ERROR
;

350 
INT32
 
_CTC_DñVtuP‹tMem
(
UINT32
 
uiLP‹t
, UINT32 
uiVœnId
)

352 
INT32
 
	giRë
 = 
NO_ERROR
;

353 
logic_pmask_t
 
	g°LMask
;

355 i‡(!
IsVÆidLgcP‹t
(
uiLP‹t
) ||

356 ((
	gVLAN_ID_0
 !
uiVœnId
Ë&& !
VALID_VLAN_ID
(uiVlanId)))

358 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

359  
	gERROR
;

362 
CÃLgcMaskAŒ
(&
°LMask
);

363 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

365 
	giRë
 = 
Io˘l_SëVœnMembîRemove
(
uiVœnId
, 
°LMask
);

366 i‡(
	gDRV_OK
 !
iRë
)

368 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

369  
	gDRV_ERR_UNKNOW
;

372  
	gNO_ERROR
;

378 
INT32
 
_CTC_AddVtuP‹tMemF‹CtcVœn
(
UINT32
 
uiLP‹tId
, UINT32 
uiVœnId
, UINT32 
uiPri
, 
CTC_VLAN_MEM_E
 
íMemshù
)

380 
UINT32
 
	guiP‹tIndex
 = 0;

381 
INT32
 
	giRë
 = 
NO_ERROR
;

382 
logic_pmask_t
 
	g°LMask
, 
	g°U¡agLMsk
;

383 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

385 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
) ||

386 !
VALID_VLAN_ID
(
uiVœnId
) ||

387 (
	gVLAN_MEM_END
 <
íMemshù
))

389  
ERROR
;

393 
	guiPri
 = 
uiPri
;

395 
CÃLgcMaskAŒ
(&
°LMask
);

396 
CÃLgcMaskAŒ
(&
°U¡agLMsk
);

398 
SëLgcMaskBô
(
LOGIC_PON_PORT
, &
°LMask
);

400 
	gíMemshù
)

402 
	gVLAN_MEM_UNTAG
:

403 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

404 
SëLgcMaskBô
(
uiLP‹tId
, &
°U¡agLMsk
);

406 
	gVLAN_MEM_TAG
:

407 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

409 
	gVLAN_MEM_NO
:

410 
CÃLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

411 
CÃLgcMaskBô
(
uiLP‹tId
, &
°U¡agLMsk
);

417 
LgcP‹tF‹
(
uiP‹tIndex
)

419 i‡(
	guiP‹tIndex
 =
uiLP‹tId
)

424 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiP‹tIndex
, &
°VœnMode
);

425 i‡(
	gNO_ERROR
 !
iRë
)

427 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

428  
	gERROR
;

431 i‡((
	gCTC_VLAN_MODE_TRANSPARENT
 =
°VœnMode
.
mode
) ||

432 (
CTC_VLAN_MODE_QINQ
 =
°VœnMode
.
mode
))

434 
SëLgcMaskBô
(
uiP‹tIndex
, &
°LMask
);

438 
	giRë
 = 
Io˘l_SëVœnMembîAdd
(
uiVœnId
, 
°LMask
, 
°U¡agLMsk
);

439 i‡(
	gDRV_OK
 !
iRë
)

441 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

442  
	gDRV_ERR_UNKNOW
;

445  
	gNO_ERROR
;

451 
INT32
 
_CTC_DñVtuP‹tMemF‹CtcVœn
(
UINT32
 
uiLP‹tId
, UINT32 
uiVœnId
)

453 
UINT32
 
	guiP‹tIndex
 = 0;

454 
INT32
 
	giRë
 = 
NO_ERROR
;

455 
INT32
 
	giFœg
 = 
FALSE
;

456 
logic_pmask_t
 
	g°LMask
;

457 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

459 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
Ë|| !
VALID_VLAN_ID
(
uiVœnId
))

461  
	gERROR
;

465 
LgcP‹tF‹
(
uiP‹tIndex
)

467 i‡(
	guiP‹tIndex
 =
uiLP‹tId
)

472 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiP‹tIndex
, &
°VœnMode
);

473 i‡(
	gNO_ERROR
 !
iRë
)

475 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

476  
	gERROR
;

480 i‡((
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
) ||

481 (
CTC_VLAN_MODE_QINQ
 =
°VœnMode
.
mode
))

483 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

487 i‡(
uiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

489 
iFœg
 = 
TRUE
;

493 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

495 
INT32
 
iFœgTmp
 = 
FALSE
;

497 
UINT32
 
	gi
 = 0;

499 i‡(
	guiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

501 
iFœg
 = 
TRUE
;

505 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

507 i‡((
	guiVœnId
 =
°VœnMode
.
vœn_li°
[
i
*2]) ||

508 (
uiVœnId
 =
°VœnMode
.
vœn_li°
[(
i
*2) + 1]))

510 
iFœgTmp
 = 
TRUE
;

515 i‡(
	gTRUE
 =
iFœgTmp
)

517 
iFœg
 = 
TRUE
;

524 i‡(
	gTRUE
 =
iFœg
)

526 
CÃLgcMaskAŒ
(&
°LMask
);

527 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

529 i‡(
	gDRV_OK
 !
Io˘l_SëVœnMembîRemove
(
uiVœnId
, 
°LMask
))

531 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

532  
	gERROR
;

538 i‡(
	gDRV_OK
 !
Io˘l_SëVœnE¡ryDñëe
(
uiVœnId
))

540 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

541  
	gERROR
;

545  
	gNO_ERROR
;

552 
INT32
 
_CTC_Re£tTagVœn
(
UINT32
 
uiLP‹tId
)

554 
INT32
 
	giRë
 = 
NO_ERROR
;

555 
UINT32
 
	guiPvid
 = 0;

556 
logic_pmask_t
 
	g°LMask
;

557 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

559 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

561  
	gERROR
;

564 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

565 i‡(
	gNO_ERROR
 !
iRë
)

567 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

568  
	gERROR
;

571 
	guiPvid
 = 
°VœnMode
.
deÁu…_vœn
;

572 
CÃLgcMaskAŒ
(&
°LMask
);

573 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

575 
	giRë
 = 
Io˘l_˘c_dñ_p‹t_ba£_vœn_mem
(
uiPvid
, &
°LMask
);

576 i‡(
	gDRV_OK
 !
iRë
)

578 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

579  
	gERROR
;

582 
	giRë
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_èg
(
uiLP‹tId
);

583 i‡(
	gDRV_OK
 !
iRë
)

585 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

586  
	gERROR
;

589 
	giRë
 = 
_CTC_DñVtuP‹tMemF‹CtcVœn
(
uiLP‹tId
, 
uiPvid
);

590 i‡(
	gNO_ERROR
 !
iRë
)

592 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

593  
	gERROR
;

597 
	giRë
 = 
Io˘l_˘c_˛r_p‹t_ba£_vœn_íåy_by_vid
(
uiPvid
);

598 i‡(
	gDRV_OK
 !
iRë
)

600 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

601  
	gERROR
;

604  
	gNO_ERROR
;

611 
INT32
 
_CTC_Re£tTøn¶©i⁄Vœn
(
UINT32
 
uiLP‹tId
)

613 
INT32
 
	giRë
 = 
NO_ERROR
;

614 
UINT32
 
	gi
 = 0;

615 
UINT32
 
	guiOldVid
 = 0;

616 
UINT32
 
	guiNewVid
 = 0;

617 
UINT32
 
	guiPvid
 = 0;

618 
logic_pmask_t
 
	g°LMask
;

619 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

621 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

623  
	gERROR
;

626 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

627 i‡(
	gNO_ERROR
 !
iRë
)

629 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

630  
	gERROR
;

633 
	guiPvid
 = 
°VœnMode
.
deÁu…_vœn
;

635 
CÃLgcMaskAŒ
(&
°LMask
);

636 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

638 
	giRë
 = 
Io˘l_˘c_dñ_p‹t_ba£_vœn_mem
(
uiPvid
, &
°LMask
);

639 i‡(
	gDRV_OK
 !
iRë
)

641 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

642  
	gERROR
;

645 
	giRë
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_å™¶
(
uiLP‹tId
);

646 i‡(
	gDRV_OK
 !
iRë
)

648 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

649  
	gERROR
;

653 
	giRë
 = 
_CTC_DñVtuP‹tMemF‹CtcVœn
(
uiLP‹tId
, 
uiPvid
);

654 i‡(
	gNO_ERROR
 !
iRë
)

656 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

657  
	gERROR
;

661 
	giRë
 = 
Io˘l_˘c_˛r_p‹t_ba£_vœn_íåy_by_vid
(
uiPvid
);

662 i‡(
	gDRV_OK
 !
iRë
)

664 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

665  
	gERROR
;

669 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

671 
	guiOldVid
 = 
°VœnMode
.
vœn_li°
[
i
*2];

672 
	guiNewVid
 = 
°VœnMode
.
vœn_li°
[(
i
*2) + 1];

674 
	giRë
 = 
_CTC_DñVtuP‹tMemF‹CtcVœn
(
uiLP‹tId
, 
uiOldVid
);

675 i‡(
	gNO_ERROR
 !
iRë
)

677 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

678  
	gERROR
;

681 
	giRë
 = 
_CTC_DñVtuP‹tMemF‹CtcVœn
(
uiLP‹tId
, 
uiNewVid
);

682 i‡(
	gNO_ERROR
 !
iRë
)

684 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

685  
	gERROR
;

689 
	giRë
 = 
Io˘l_˘c_˛r_p‹t_ba£_vœn_íåy_by_vid
(
uiOldVid
);

690 i‡(
	gDRV_OK
 !
iRë
)

692 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

693  
	gERROR
;

697 
	giRë
 = 
Io˘l_˘c_˛r_p‹t_ba£_vœn_íåy_by_vid
(
uiNewVid
);

698 i‡(
	gDRV_OK
 !
iRë
)

700 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

701  
	gERROR
;

705  
	gNO_ERROR
;

711 
INT32
 
_CTC_AddRe£rvedVœnMem
(
UINT32
 
uiLP‹tId
)

713 
INT32
 
	giRë
;

714 
logic_pmask_t
 
	g°LMask
;

717 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

719  
	gERROR
;

724 
CÃLgcMaskAŒ
(&
°LMask
);

725 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

726 
	giRë
 = 
Io˘l_˘c_add_p‹t_ba£_vœn_mem_by_id
(31, &
°LMask
);

727 i‡(
	gNO_ERROR
 !
iRë
)

729 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

730  
	gERROR
;

733  
	gNO_ERROR
;

740 
INT32
 
_CTC_DñRe£rvedVœnMem
(
UINT32
 
uiLP‹tId
)

742 
INT32
 
	giRë
;

743 
logic_pmask_t
 
	g°LMask
;

746 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

748  
	gERROR
;

753 
CÃLgcMaskAŒ
(&
°LMask
);

754 
SëLgcMaskBô
(
uiLP‹tId
, &
°LMask
);

755 
	giRë
 = 
Io˘l_˘c_dñ_p‹t_ba£_vœn_mem_by_id
(31, &
°LMask
);

756 i‡(
	gNO_ERROR
 !
iRë
)

758 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

759  
	gERROR
;

762  
	gNO_ERROR
;

768 
INT32
 
_CTC_RíewVtuMemF‹Tøn•P‹t
(
UINT32
 
uiLP‹tId
)

770 
INT32
 
	giRë
 = 
NO_ERROR
;

771 
UINT32
 
	guiP‹tIndex
 = 0;

772 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

774 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

776  
	gERROR
;

779 
LgcP‹tF‹
(
uiP‹tIndex
)

781 i‡(
	guiP‹tIndex
 =
uiLP‹tId
)

786 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiP‹tIndex
, &
°VœnMode
);

787 i‡(
	gNO_ERROR
 !
iRë
)

789 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

790  
	gERROR
;

794 i‡((
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
) ||

795 (
CTC_VLAN_MODE_QINQ
 =
°VœnMode
.
mode
))

797 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

800 
iRë
 = 
_CTC_AddVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
deÁu…_vœn
, 
VLAN_MEM_TAG
);

801 i‡(
	gNO_ERROR
 !
iRë
)

803 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

804  
	gERROR
;

807 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

809 
UINT32
 
i
 = 0;

811 
	giRë
 = 
_CTC_AddVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
deÁu…_vœn
, 
VLAN_MEM_TAG
);

812 i‡(
	gNO_ERROR
 !
iRë
)

814 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

815  
	gERROR
;

818 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

820 
	giRë
 = 
_CTC_AddVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
vœn_li°
[
i
*2], 
VLAN_MEM_TAG
);

821 i‡(
	gNO_ERROR
 !
iRë
)

823 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

824  
	gERROR
;

827 
	giRë
 = 
_CTC_AddVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
vœn_li°
[(
i
*2Ë+ 1], 
VLAN_MEM_TAG
);

828 i‡(
	gNO_ERROR
 !
iRë
)

830 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

831  
	gERROR
;

837  
	gNO_ERROR
;

843 
INT32
 
_CTC_DñVtuMemF‹Tøn•P‹t
(
UINT32
 
uiLP‹tId
)

845 
INT32
 
	giRë
 = 
NO_ERROR
;

846 
UINT32
 
	guiP‹tIndex
 = 0;

847 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

849 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

851  
	gERROR
;

854 
LgcP‹tF‹
(
uiP‹tIndex
)

856 i‡(
	guiP‹tIndex
 =
uiLP‹tId
)

861 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiP‹tIndex
, &
°VœnMode
);

862 i‡(
	gNO_ERROR
 !
iRë
)

864 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

865  
	gERROR
;

869 i‡((
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
) ||

870 (
CTC_VLAN_MODE_QINQ
 =
°VœnMode
.
mode
))

872 i‡(
CTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

875 
iRë
 = 
_CTC_DñVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
deÁu…_vœn
);

876 i‡(
	gNO_ERROR
 !
iRë
)

878 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

879  
	gERROR
;

882 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

884 
UINT32
 
i
 = 0;

886 
	giRë
 = 
_CTC_DñVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
deÁu…_vœn
);

887 i‡(
	gNO_ERROR
 !
iRë
)

889 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

890  
	gERROR
;

893 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

895 
	giRë
 = 
_CTC_DñVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
vœn_li°
[
i
*2]);

896 i‡(
	gNO_ERROR
 !
iRë
)

898 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

899  
	gERROR
;

902 
	giRë
 = 
_CTC_DñVtuP‹tMem
(
uiLP‹tId
, 
°VœnMode
.
vœn_li°
[(
i
*2) + 1]);

903 i‡(
	gNO_ERROR
 !
iRë
)

905 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

906  
	gERROR
;

912  
	gNO_ERROR
;

919 
BOOL
 
_CTC_CheckVidF‹TagMode
(
UINT32
 
uiLP‹tId
, UINT32 
uiVœnId
)

921 
UINT32
 
	guiLP‹tIndex
;

922 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

924 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)Ë|| (!
VALID_VLAN_ID
(
uiVœnId
)))

926  
	gFALSE
;

932 
mcVœnExi°
(
UINT32
 
vœnId
);

933 i‡(1 =
mcVœnExi°
(
uiVœnId
))

935  
FALSE
;

942 i‡(
	gFALSE
 =
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
uiVœnId
))

944  
FALSE
;

948 
LgcP‹tF‹
(
uiLP‹tIndex
)

950 i‡(
	guiLP‹tIndex
 =
uiLP‹tId
)

955 (
	gVOID
)
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tIndex
, &
°VœnMode
);

956 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

958 
UINT32
 
uiVœnIndex
 = 0;

960 
	guiVœnIndex
 = 0; uiVœnIndex < 
	g°VœnMode
.
	gnumbî_of_íåõs
; uiVlanIndex++)

963 i‡((
	g°VœnMode
.
	gvœn_li°
[
uiVœnIndex
*2] !
°VœnMode
.
vœn_li°
[uiVlanIndex*2 + 1]) &&

964 ((
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2]) ||

965 (
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2 + 1])))

967  
FALSE
;

973  
	gTRUE
;

979 
BOOL
 
_CTC_HaveEnoughEm±yRuÀs
(
UINT32
 
uiIdNum
)

981 
INT32
 
	giRë
;

982 
UINT32
 
	guiA˛Em±yNum
 = 0;

984 
	giRë
 = 
Io˘l_˘c_gë_em±y_a˛_num
(&
uiA˛Em±yNum
);

985 i‡(
	gDRV_OK
 !
iRë
)

987  
FALSE
;

990 i‡(
	guiIdNum
 > 
	guiA˛Em±yNum
)

992 
düg_¥ötf
("\nWê√ed %dÑuÀs,ándÅhîê¨ê⁄ly %dÉm±yÑuÀ†Àaved.\n", 
uiIdNum
,
uiA˛Em±yNum
);

993  
	gFALSE
;

996  
	gTRUE
;

1003 
BOOL
 
_CTC_CheckVœnF‹Tøn¶©i⁄Mode
(
UINT32
 
uiLP‹tId
, UINT32 
uiDefVœn
, UINT32 
uiVœnE¡ryNum
, UINT32 *
pVœnLi°
)

1005 
UINT32
 
	gi
;

1006 
UINT32
 
	guiLP‹tIndex
;

1007 
UINT32
 
	guiVœnIndex
;

1008 
UINT32
 
	guiOldVœnIndex
;

1009 
UINT32
 
	guiNewVœnIndex
;

1010 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

1012 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

1013 (!
VALID_VLAN_ID
(
uiDefVœn
)) ||

1014 (
	gNULL
 =
pVœnLi°
))

1016  
FALSE
;

1022 
mcVœnExi°
(
UINT32
 
vœnId
);

1023 i‡(1 =
mcVœnExi°
(
uiDefVœn
))

1025  
FALSE
;

1028 
	guiVœnIndex
 = 0; uiVœnIndex < 
	guiVœnE¡ryNum
; uiVlanIndex++)

1030 
	guiOldVœnIndex
 = 
uiVœnIndex
 << 1;

1031 
	guiNewVœnIndex
 = (
uiVœnIndex
 << 1) + 1;

1032 i‡((1 =
mcVœnExi°
(
pVœnLi°
[
uiOldVœnIndex
])) ||

1033 (1 =
mcVœnExi°
(
pVœnLi°
[
uiNewVœnIndex
])))

1035  
FALSE
;

1042 if(
	gFALSE
 =
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
uiDefVœn
))

1044  
FALSE
;

1047 
	guiVœnIndex
 = 0; uiVœnIndex < 
	guiVœnE¡ryNum
; uiVlanIndex++)

1049 
	guiOldVœnIndex
 = 
uiVœnIndex
 << 1;

1050 
	guiNewVœnIndex
 = (
uiVœnIndex
 << 1) + 1;

1051 i‡(
	gFALSE
 =
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
pVœnLi°
[
uiOldVœnIndex
]) ||

1052 
FALSE
 =
CTC_CheckVÆidVidF‹McTøn¶©i⁄
(
pVœnLi°
[
uiNewVœnIndex
]))

1054  
FALSE
;

1060 
LgcP‹tF‹
(
uiLP‹tIndex
)

1062 i‡(
	guiLP‹tIndex
 =
uiLP‹tId
)

1064 
UINT32
 
uiOldIndex
;

1065 
UINT32
 
	guiNewIndex
;

1067 
	guiVœnIndex
 = 0; uiVœnIndex < 
	guiVœnE¡ryNum
; uiVlanIndex++)

1069 
	guiOldVœnIndex
 = 
uiVœnIndex
 << 1;

1070 
	guiNewVœnIndex
 = (
uiVœnIndex
 << 1) + 1;

1074 i‡(
	gpVœnLi°
[
uiOldVœnIndex
] !
pVœnLi°
[
uiNewVœnIndex
])

1076 i‡((
uiDefVœn
 =
pVœnLi°
[
uiOldVœnIndex
]) ||

1077 (
uiDefVœn
 =
pVœnLi°
[
uiNewVœnIndex
]))

1079 
düg_¥ötf
("%†%d\n", 
__FUNCTION__
, 
__LINE__
);

1080  
	gFALSE
;

1085 
	gi
 = (
uiVœnIndex
 + 1); i < 
	guiVœnE¡ryNum
; i++)

1087 
	guiOldIndex
 = 
i
*2;

1088 
	guiNewIndex
 = (
i
*2) + 1;

1090 i‡((
	gpVœnLi°
[
uiOldVœnIndex
] =
pVœnLi°
[
uiOldIndex
]) ||

1091 (
pVœnLi°
[
uiOldVœnIndex
] =pVœnLi°[
uiNewIndex
]) ||

1092 (
pVœnLi°
[
uiNewVœnIndex
] =pVœnLi°[
uiOldIndex
]) ||

1093 (
pVœnLi°
[
uiNewVœnIndex
] =pVœnLi°[
uiNewIndex
]))

1095  
FALSE
;

1103 (
	gVOID
)
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tIndex
, &
°VœnMode
);

1104 i‡((
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
) ||

1105 (
CTC_VLAN_MODE_QINQ
 =
°VœnMode
.
mode
))

1107 
uiVœnIndex
 = 0; 
	guiVœnIndex
 < 
	guiVœnE¡ryNum
; uiVlanIndex++)

1109 
	guiOldVœnIndex
 = 
uiVœnIndex
*2;

1110 
	guiNewVœnIndex
 = (
uiVœnIndex
*2) + 1;

1113 i‡((
	gpVœnLi°
[
uiOldVœnIndex
] !
pVœnLi°
[
uiNewVœnIndex
]) &&

1114 ((
pVœnLi°
[
uiOldVœnIndex
] =
°VœnMode
.
deÁu…_vœn
) ||

1115 (
pVœnLi°
[
uiNewVœnIndex
] =
°VœnMode
.
deÁu…_vœn
)))

1117  
FALSE
;

1121 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

1123 
UINT32
 
uiOldIndex
;

1124 
UINT32
 
	guiNewIndex
;

1126 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

1128 
	guiOldIndex
 = 
i
*2;

1129 
	guiNewIndex
 = (
i
*2) + 1;

1131 i‡((
	g°VœnMode
.
	gvœn_li°
[
uiOldIndex
] !
°VœnMode
.
vœn_li°
[
uiNewIndex
]) &&

1132 ((
uiDefVœn
 =
°VœnMode
.
vœn_li°
[
uiOldIndex
]) ||

1133 (
uiDefVœn
 =
°VœnMode
.
vœn_li°
[
uiNewIndex
])))

1135  
FALSE
;

1139 
	guiVœnIndex
 = 0; uiVœnIndex < 
	guiVœnE¡ryNum
; uiVlanIndex++)

1141 
	guiOldVœnIndex
 = 
uiVœnIndex
*2;

1142 
	guiNewVœnIndex
 = (
uiVœnIndex
*2) + 1;

1145 i‡((
	gpVœnLi°
[
uiOldVœnIndex
] !
pVœnLi°
[
uiNewVœnIndex
]) &&

1146 ((
pVœnLi°
[
uiOldVœnIndex
] =
°VœnMode
.
deÁu…_vœn
) ||

1147 (
pVœnLi°
[
uiNewVœnIndex
] =
°VœnMode
.
deÁu…_vœn
)))

1149  
FALSE
;

1152 
	gi
 = 0; i < 
	g°VœnMode
.
	gnumbî_of_íåõs
; i++)

1154 
	guiOldIndex
 = 
i
*2;

1155 
	guiNewIndex
 = (
i
*2) + 1;

1159 i‡(((
	gpVœnLi°
[
uiOldVœnIndex
] =
°VœnMode
.
vœn_li°
[
uiOldIndex
]) &&

1160 (
pVœnLi°
[
uiNewVœnIndex
] !
°VœnMode
.
vœn_li°
[
uiNewIndex
])) ||

1161 ((
pVœnLi°
[
uiOldVœnIndex
] !
°VœnMode
.
vœn_li°
[
uiOldIndex
]) &&

1162 (
pVœnLi°
[
uiNewVœnIndex
] =
°VœnMode
.
vœn_li°
[
uiNewIndex
])))

1164  
FALSE
;

1167 i‡(
	gpVœnLi°
[
uiOldVœnIndex
] =
°VœnMode
.
vœn_li°
[
uiNewIndex
])

1171 i‡(!((
pVœnLi°
[
uiOldVœnIndex
] =pVœnLi°[
uiNewVœnIndex
]) &&

1172 (
°VœnMode
.
vœn_li°
[
uiOldIndex
] =°VœnMode.vœn_li°[
uiNewIndex
])))

1174  
FALSE
;

1181 i‡(
	gpVœnLi°
[
uiNewVœnIndex
] =
°VœnMode
.
vœn_li°
[
uiOldIndex
])

1183  
FALSE
;

1191  
	gTRUE
;

1198 
BOOL
 
_CTC_CheckA˛F‹CtcTøn¶Vœn
(
UINT32
 
uiLP‹tId
, UINT32 
uiPvid
, UINT32 *
puiVœnLi°
, UINT32 
uiVœnLi°E¡ry
)

1200 
INT32
 
	giRë
;

1201 
UINT32
 
	guiA˛Num
;

1202 
UINT32
 
	guiPvidRuÀNum
 = 0;

1203 
UINT32
 
	guiTønsRuÀNum
 = 0;

1204 
UINT32
 
	gi
;

1205 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

1207 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

1208 (!
VALID_VLAN_ID
(
uiPvid
)) ||

1209 (
	gNULL
 =
puiVœnLi°
))

1211  
FALSE
;

1214 
	gi
 = 0; i < 
	guiVœnLi°E¡ry
; i++)

1217 i‡((
	gpuiVœnLi°
[
i
*2] =
puiVœnLi°
[i*2 + 1]) &&

1218 (
uiPvid
 =
puiVœnLi°
[
i
*2]))

1224 
	guiTønsRuÀNum
 += 2;

1227 i‡(
	gpuiVœnLi°
[
i
*2] !
puiVœnLi°
[i*2 + 1])

1229 
uiTønsRuÀNum
++;

1234 
	guiPvidRuÀNum
 = 2;

1235 
	guiA˛Num
 = 
uiPvidRuÀNum
 + 
uiTønsRuÀNum
;

1237 (
	gVOID
)
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

1242 i‡(
	guiA˛Num
 > 
	g°VœnMode
.
	gnumbî_of_a˛_ruÀs
)

1244 
	guiA˛Num
 -
°VœnMode
.
numbî_of_a˛_ruÀs
;

1245 
	giRë
 = 
_CTC_HaveEnoughEm±yRuÀs
(
uiA˛Num
);

1246 i‡(
	gFALSE
 =
iRë
)

1248  
FALSE
;

1252  
	gTRUE
;

1270 
INT32
 
_CTC_SëUniQosTru°ModeCfg
(
ULONG
 
ulLP‹t
, ULONG 
ulQosTru°Mode
)

1274 
	gDRV_CFGLOCK
;

1275 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gulQosTru°Mode
 = 
ulQosTru°Mode
;

1276 
	gDRV_CFGUNLOCK
;

1278  
	gNO_ERROR
;

1296 
INT32
 
_CTC_GëUniQosTru°ModeCfg
(
ULONG
 
ulLP‹t
, ULONG *
pulQosTru°Mode
)

1299 
	gDRV_CFGLOCK
;

1300 *
	gpulQosTru°Mode
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ulQosTru°Mode
;

1301 
	gDRV_CFGUNLOCK
;

1303  
	gNO_ERROR
;

1323 
INT32
 
CTC_DRV_SëTøn•¨ítVœn
(
UINT32
 
uiLP‹tId
)

1325 
INT32
 
	giRë
 = 
NO_ERROR
;

1326 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

1328 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

1330  
	gERROR
;

1333 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

1334 i‡(
	gNO_ERROR
 !
iRë
)

1336 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1337  
	gERROR
;

1340 i‡(
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

1342 
iRë
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_èg
(
uiLP‹tId
);

1343 i‡(
	gDRV_OK
 !
iRë
)

1345 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1346  
	gERROR
;

1349 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

1352 
ULONG
 
ulQosTru°Mode
;

1353 ()
_CTC_GëUniQosTru°ModeCfg
(
uiLP‹tId
, &
ulQosTru°Mode
);

1355 i‡(
	gQOS_DSCP
 !
ulQosTru°Mode
)

1357 i‡(
DRV_OK
 !
Io˘l_SëQosTru°Mode
(
ulQosTru°Mode
))

1359 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1360  
	gERROR
;

1364 
	giRë
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_å™¶
(
uiLP‹tId
);

1365 i‡(
	gDRV_OK
 !
iRë
)

1367 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1368  
	gERROR
;

1371 
	g°VœnMode
.
	gnumbî_of_íåõs
 = 0;

1373 i‡(
	gCTC_VLAN_MODE_TRANSPARENT
 =
°VœnMode
.
mode
)

1375  
NO_ERROR
;

1378 
mem£t
(&
°VœnMode
,0,(stVlanMode));

1379 
	g°VœnMode
.
	gmode
 = 
CTC_VLAN_MODE_TRANSPARENT
;

1380 
	giRë
 = 
Io˘l_˘c_add_a˛_ruÀ_f‹_å™•
(
uiLP‹tId
, 
°VœnMode
);

1381 i‡(
	gDRV_OK
 !
iRë
)

1383 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1384  
	gERROR
;

1387  
	gNO_ERROR
;

1394 
INT32
 
CTC_DRV_Re£tTøn•¨ítVœn
(
UINT32
 
uiLP‹tId
)

1396 
INT32
 
	giRë
 = 
NO_ERROR
;

1399 i‡(!
IsVÆidLgcP‹t
(
uiLP‹tId
))

1401  
	gERROR
;

1404 
	giRë
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_å™•
(
uiLP‹tId
);

1405 i‡(
	gDRV_OK
 !
iRë
)

1407 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1408  
	gERROR
;

1411  
	gNO_ERROR
;

1413 
INT32
 
CTC_DRV_SëTagVœn
(
UINT32
 
uiLP‹tId
, UINT32 
uiPvid
, UINT32 
uiPri‹ôy
)

1415 
INT32
 
	giRë
 = 
NO_ERROR
;

1416 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

1418 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)Ë|| (!
VALID_VLAN_ID
(
uiPvid
)))

1420  
	gERROR
;

1423 
	giRë
 = 
_CTC_CheckVidF‹TagMode
(
uiLP‹tId
, 
uiPvid
);

1424 i‡(
	gFALSE
 =
iRë
)

1426 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1427  
	gERROR
;

1429 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

1430 i‡(
	gNO_ERROR
 !
iRë
)

1432 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1433  
	gERROR
;

1436 if((
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
) &&

1437 (
°VœnMode
.
deÁu…_vœn
 =
uiPvid
) &&

1438 (
°VœnMode
.
uiPri‹ôy
 == uiPriority))

1440  
NO_ERROR
;

1443 
	giRë
 = 
CTC_DRV_SëTøn•¨ítVœn
(
uiLP‹tId
);

1444 i‡(
	gNO_ERROR
 !
iRë
)

1446 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1447  
	gERROR
;

1450 
	giRë
 = 
CTC_DRV_Re£tTøn•¨ítVœn
(
uiLP‹tId
);

1451 i‡(
	gNO_ERROR
 !
iRë
)

1453 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1454  
	gERROR
;

1457 
mem£t
(&
°VœnMode
, 0, (stVlanMode));

1458 
	g°VœnMode
.
	gdeÁu…_vœn
 = 
uiPvid
;

1459 
	g°VœnMode
.
	gmode
 = 
CTC_VLAN_MODE_TAG
;

1460 
	g°VœnMode
.
	gnumbî_of_íåõs
 = 0;

1461 
	g°VœnMode
.
	guiPri‹ôy
 = 
uiPri‹ôy
;

1463 
	giRë
 = 
Io˘l_˘c_add_a˛_ruÀ_f‹_èg
(
uiLP‹tId
, 
°VœnMode
);

1464 i‡(
	gDRV_OK
 !
iRë
)

1466 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1467  
	gERROR
;

1470  
	gNO_ERROR
;

1478 
CTC_VLAN_MODE_E
 
	g˘c_vœn_mode
 = 
CTC_VLAN_MODE_TRANSPARENT
;

1480 
INT32
 
CTC_DRV_SëTøn¶©i⁄Vœn
(
UINT32
 
uiLP‹tId
, UINT32 
uiVœnTag
,

1481 
UINT32
 *
puiVœnLi°
, UINT32 
uiVœnLi°E¡ry
, 
CTC_VLAN_MODE_E
 
mode
)

1483 
INT32
 
	giRë
 = 
NO_ERROR
;

1484 
UINT32
 
	gi
 = 0;

1485 
UINT32
 
	guiPvid
;

1486 
UINT32
 
	guiPri‹ôy
;

1487 
UINT32
 
	guiOldVœn
;

1488 
UINT32
 
	guiNewVœn
;

1489 
UINT32
 
	guiQosTru°Mode
;

1490 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

1491 
CTC_VLAN_CFG_S
 
	g°OldVœnMode
;

1493 
	g˘c_vœn_mode
 = 
mode
;

1494 i‡((!
IsVÆidLgcP‹t
(
uiLP‹tId
)Ë|| (
	gNULL
 =
puiVœnLi°
))

1496 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1497  
	gERROR
;

1500 
	giRë
 = 
CTC_DRV_GëVœnIdAndPri
(
uiVœnTag
, &
uiPvid
, &
uiPri‹ôy
);

1501 i‡(
	gNO_ERROR
 !
iRë
)

1503 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1504  
	gERROR
;

1509 
	giRë
 = 
_CTC_CheckVœnF‹Tøn¶©i⁄Mode
(
uiLP‹tId
, 
uiPvid
, 
uiVœnLi°E¡ry
, 
puiVœnLi°
);

1510 i‡(
	gFALSE
 =
iRë
)

1512 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1513  
	gERROR
;

1516 
	giRë
 = 
CTC_DRV_SëTøn•¨ítVœn
(
uiLP‹tId
);

1517 i‡(
	gNO_ERROR
 !
iRë
)

1519 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1520  
	gERROR
;

1523 
	giRë
 = 
CTC_DRV_Re£tTøn•¨ítVœn
(
uiLP‹tId
);

1524 i‡(
	gNO_ERROR
 !
iRë
)

1526 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1527  
	gERROR
;

1530 ()
_CTC_GëUniQosTru°ModeCfg
((
ULONG
)
uiLP‹tId
, (ULONG *)&
uiQosTru°Mode
);

1533 i‡(
	gQOS_DSCP
 !
uiQosTru°Mode
)

1535 i‡(
DRV_OK
 !
Io˘l_SëQosTru°Mode
(
QOS_SVLAN
))

1537 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1538  
	gERROR
;

1543 
mem£t
(&
°VœnMode
, 0, (stVlanMode));

1544 
	g°VœnMode
.
	gdeÁu…_vœn
 = 
uiPvid
;

1545 
	g°VœnMode
.
	guiPri‹ôy
 = 
uiPri‹ôy
;

1546 
	g°VœnMode
.
	gmode
 = 
CTC_VLAN_MODE_TRANSLATION
;

1548 
	g°VœnMode
.
	gnumbî_of_íåõs
 = 0;

1550 
	gi
 = 0; i < 
	guiVœnLi°E¡ry
; i++)

1552 
	guiOldVœn
 = 
puiVœnLi°
[
i
*2];

1553 
	guiNewVœn
 = 
puiVœnLi°
[(
i
*2) + 1];

1555 
	g°VœnMode
.
	gnumbî_of_íåõs
++;

1556 
	g°VœnMode
.
	gvœn_li°
[
i
*2] = 
uiOldVœn
;

1557 
	g°VœnMode
.
	gvœn_li°
[(
i
*2Ë+ 1] = 
uiNewVœn
;

1562 
mem£t
(&
°OldVœnMode
, 0, (stOldVlanMode));

1563 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°OldVœnMode
);

1564 i‡(
	gNO_ERROR
 !
iRë
)

1566 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1567  
	gERROR
;

1570 if(0 =
memcmp
(&
°OldVœnMode
, &
°VœnMode
, (stVlanMode)))

1572  
	gNO_ERROR
;

1576 
	giRë
 = 
Io˘l_˘c_add_a˛_ruÀ_f‹_å™¶
(
uiLP‹tId
, 
°VœnMode
);

1577 i‡(
	gDRV_OK
 !
iRë
)

1579 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

1580  
	gERROR
;

1583  
	gNO_ERROR
;

1589 
INT32
 
CTC_DRV_GëVœnIdAndPri
(
UINT32
 
uiVœnTag
, UINT32 *
puiVœnId
, UINT32 *
puiPri
)

1591 i‡((
	gNULL
 =
puiVœnId
Ë|| (
NULL
 =
puiPri
))

1593  
ERROR
;

1596 *
	gpuiVœnId
 = 
uiVœnTag
 & 0x00000FFF;

1597 *
	gpuiPri
 = (
uiVœnTag
 >> 13) & 0x000007;

1599  
	gNO_ERROR
;

1607 
INT32
 
_CTC_GëUniFlowCålCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbE«bÀ
 )

1611 
	gDRV_CFGLOCK
;

1612 *
	gpbE«bÀ
 = (
TRUE
 =
g_a°P‹tCfg
[
ulLP‹t
].
ucFlowCål
)? TRUE : 
FALSE
;

1613 
	gDRV_CFGUNLOCK
;

1615  
	gNO_ERROR
;

1621 
INT32
 
_CTC_SëUniFlowCålCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bE«bÀ
 )

1626 
	gDRV_CFGLOCK
;

1627 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucFlowCål
 = (
TRUE
 =
bE«bÀ
)? TRUE : 
FALSE
;

1628 
	gDRV_CFGUNLOCK
;

1630  
	gNO_ERROR
;

1636 
INT32
 
_CTC_GëUniP‹tE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbE«bÀ
 )

1640 
	gDRV_CFGLOCK
;

1641 *
	gpbE«bÀ
 = (
TRUE
 =
g_a°P‹tCfg
[
ulLP‹t
].
ucP‹tE«bÀ
)? TRUE : 
FALSE
;

1642 
	gDRV_CFGUNLOCK
;

1644  
	gNO_ERROR
;

1650 
INT32
 
_CTC_SëUniP‹tE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bE«bÀ
 )

1654 
	gDRV_CFGLOCK
;

1655 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucP‹tE«bÀ
 = (
TRUE
 =
bE«bÀ
)? TRUE : 
FALSE
;

1656 
	gDRV_CFGUNLOCK
;

1658  
	gNO_ERROR
;

1665 
INT32
 
DRV_GëP‹tVœnCfg
(
UINT32
 
uiLP‹tId
, 
UINT8
 *
pucMode
, UINT8 *
pucVœnCfg
, 
UINT16
 *
pusLígth
)

1667 
CTC_VLAN_CFG_S
 
	g°VœnCfg
;

1668 
UINT16
 
	gusLí
 = 0;

1669 
UINT8
 *
	gpucTmp
 = 
NULL
;

1670 
UINT32
 
	guiVÆue
 = 0;

1671 
UINT32
 
	gi
 = 0;

1675 
MEM_SET_ZERO
(&
°VœnCfg
, (stVlanCfg));

1677 if(
	gNO_ERROR
 !
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnCfg
))

1679  
	gERROR
;

1682 *
	gpucMode
 = 
°VœnCfg
.
mode
;

1683 
	gpucTmp
 = 
pucVœnCfg
;

1686  
	g°VœnCfg
.
	gmode
 )

1688 
	gCTC_VLAN_MODE_TRANSPARENT
:

1690 *
pusLígth
 = 
usLí
;

1693 
	gCTC_VLAN_MODE_TAG
 :

1695 
uiVÆue
 = 0x81000000 | 
°VœnCfg
.
deÁu…_vœn
;

1696 
HLTOBUF
(
pucTmp
, 
uiVÆue
);

1697 
	gpucTmp
 += 4;

1698 
	gusLí
 += 4;

1699 *
	gpusLígth
 = 
usLí
;

1702 
	gCTC_VLAN_MODE_TRANSLATION
:

1704 
uiVÆue
 = 0x81000000 | 
°VœnCfg
.
deÁu…_vœn
;

1705 
HLTOBUF
(
pucTmp
, 
uiVÆue
);

1706 
	gpucTmp
 += 4;

1707 
	gusLí
 += 4;

1708  
	gi
 = 0 ; (ò< 
	g°VœnCfg
.
	gnumbî_of_íåõs
Ë&& (ò< 
	gCTC_VLAN_TRANSL_PAIR_NUM_MAX
/2); i++ )

1710 
	guiVÆue
 = 0x81000000 | 
°VœnCfg
.
vœn_li°
[
i
];

1711 
HLTOBUF
(
pucTmp
, 
uiVÆue
);

1712 
	gpucTmp
 += 4;

1713 
	gusLí
 += 4;

1714 
	guiVÆue
 = 0x81000000 | 
°VœnCfg
.
vœn_li°
[
i
+1];

1715 
HLTOBUF
(
pucTmp
, 
uiVÆue
);

1716 
	gpucTmp
 += 4;

1717 
	gusLí
 += 4;

1719 *
	gpusLígth
 = 
usLí
;

1723  
ERROR
;

1726  
	gNO_ERROR
;

1730 
INT32
 
_CTC_GëUniIsﬁ©eE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbE«bÀ
 )

1734 
	gDRV_CFGLOCK
;

1735 *
	gpbE«bÀ
 = (
TRUE
 =
g_a°P‹tCfg
[
ulLP‹t
].
ucIsﬁ©eE«bÀ
)? TRUE : 
FALSE
;

1736 
	gDRV_CFGUNLOCK
;

1738  
	gNO_ERROR
;

1741 
INT32
 
_CTC_SëUniIsﬁ©eE«bÀCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bE«bÀ
 )

1745 
	gDRV_CFGLOCK
;

1746 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucIsﬁ©eE«bÀ
 = (
TRUE
 =
bE«bÀ
)? TRUE : 
FALSE
;

1747 
	gDRV_CFGUNLOCK
;

1749  
	gNO_ERROR
;

1752 
INT32
 
_CTC_GëUniS≥edCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucS≥ed
 )

1756 
	gDRV_CFGLOCK
;

1757 *
	gpucS≥ed
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ucS≥ed
;

1758 
	gDRV_CFGUNLOCK
;

1760  
	gNO_ERROR
;

1763 
INT32
 
_CTC_SëUniS≥edCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucS≥ed
 )

1765 
UCHAR
 
	gucTempS≥ed
;

1768 
	gucS≥ed
)

1770 
	gSPEED_AUTO
:

1771 
ucTempS≥ed
 = 
PORT_SPEED_AUTO
;

1773 
	gSPEED_10M
:

1774 
ucTempS≥ed
 = 
PORT_SPEED_10
;

1776 
	gSPEED_100M
:

1777 
ucTempS≥ed
 = 
PORT_SPEED_100
;

1779 
	gSPEED_1000M
:

1780 
ucTempS≥ed
 = 
PORT_SPEED_1000
;

1783  
ERROR
;

1785 
	gDRV_CFGLOCK
;

1786 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucS≥ed
 = 
ucTempS≥ed
;

1787 
	gDRV_CFGUNLOCK
;

1789  
	gNO_ERROR
;

1792 
INT32
 
_CTC_GëUniDu∂exCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucDu∂ex
 )

1795 
	gDRV_CFGLOCK
;

1796 *
	gpucDu∂ex
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ucDu∂ex
;

1797 
	gDRV_CFGUNLOCK
;

1799  
	gNO_ERROR
;

1802 
INT32
 
_CTC_SëUniDu∂exCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucDu∂ex
 )

1804 
UCHAR
 
	gucTempDu∂ex
;

1807 
	gucDu∂ex
)

1809 
	gDUPLEX_AUTO
:

1810 
ucTempDu∂ex
 = 
PORT_DUPLEX_AUTO
;

1812 
	gDUPLEX_FULL
:

1813 
ucTempDu∂ex
 = 
PORT_DUPLEX_FULL
;

1815 
	gDUPLEX_HALF
:

1816 
ucTempDu∂ex

PORT_DUPLEX_HALF
;

1819  
ERROR
;

1821 
	gDRV_CFGLOCK
;

1822 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucDu∂ex
 = 
ucTempDu∂ex
;

1823 
	gDRV_CFGUNLOCK
;

1825  
	gNO_ERROR
;

1828 
INT32
 
_CTC_GëUniMdiCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 *
pucMdi
 )

1832 
	gDRV_CFGLOCK
;

1833 *
	gpucMdi
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ucMdi
;

1834 
	gDRV_CFGUNLOCK
;

1836  
	gNO_ERROR
;

1839 
INT32
 
_CTC_SëUniMdiCfg
–
ULONG
 
ulLP‹t
, 
UCHAR
 
ucMdi
 )

1842 
	gDRV_CFGLOCK
;

1843 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gucMdi
 = 
ucMdi
;

1844 
	gDRV_CFGUNLOCK
;

1846  
	gNO_ERROR
;

1849 
INT32
 
_CTC_GëUniAutoNegModeCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 *
pbAutoNegMode
 )

1853 
	gDRV_CFGLOCK
;

1854 *
	gpbAutoNegMode
 = (
TRUE
 =
g_a°P‹tCfg
[
ulLP‹t
].
bAutoNegMode
)? TRUE : 
FALSE
;

1855 
	gDRV_CFGUNLOCK
;

1857  
	gNO_ERROR
;

1860 
INT32
 
_CTC_SëUniAutoNegModeCfg
–
ULONG
 
ulLP‹t
, 
BOOL
 
bAutoNegMode
 )

1864 
	gDRV_CFGLOCK
;

1865 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gbAutoNegMode
 = (
TRUE
 =
bAutoNegMode
)? TRUE : 
FALSE
;

1866 
	gDRV_CFGUNLOCK
;

1868  
	gNO_ERROR
;

1871 
INT32
 
_CTC_GëUniLöeR©eInCfg
–
ULONG
 
ulLP‹t
, ULONG *
pulLöeR©eIn
 )

1875 
	gDRV_CFGLOCK
;

1876 *
	gpulLöeR©eIn
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ulLöeR©eIn
;

1877 
	gDRV_CFGUNLOCK
;

1879  
	gNO_ERROR
;

1882 
INT32
 
_CTC_SëUniLöeR©eInCfg
–
ULONG
 
ulLP‹t
, ULONG 
ulLöeR©eIn
 )

1886 
	gDRV_CFGLOCK
;

1887 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gulLöeR©eIn
 = 
ulLöeR©eIn
;

1888 
	gDRV_CFGUNLOCK
;

1890  
	gNO_ERROR
;

1893 
INT32
 
_CTC_GëUniLöeR©eOutCfg
–
ULONG
 
ulLP‹t
, ULONG *
pulLöeR©eOut
 )

1897 
	gDRV_CFGLOCK
;

1898 *
	gpulLöeR©eOut
 = 
g_a°P‹tCfg
[
ulLP‹t
].
ulLöeR©eOut
;

1899 
	gDRV_CFGUNLOCK
;

1901  
	gNO_ERROR
;

1904 
INT32
 
_CTC_SëUniLöeR©eOutCfg
–
ULONG
 
ulLP‹t
, ULONG 
ulLöeR©eOut
 )

1908 
	gDRV_CFGLOCK
;

1909 
	gg_a°P‹tCfg
[
ulLP‹t
].
	gulLöeR©eOut
 = 
ulLöeR©eOut
;

1910 
	gDRV_CFGUNLOCK
;

1912  
	gNO_ERROR
;

1922 
INT32
 
DRV_Re£tAŒP‹tsSèti°ic
(
VOID
)

1924 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

1925 
UINT32
 
	gi
;

1926 
INT32
 
	giRë
 = 
NO_ERROR
;

1929 
	gi
 = 1; i < 
	gMAX_PORT_NUM
; i++)

1931 
	giRë
 = 
DRV_Re£tP‹tSèti°ic
(
i
);

1932 i‡(
	gNO_ERROR
 !
iRë
)

1934  
ERROR
;

1940 (
	gVOID
)
C¡CÃ
(
CNT_GE
, 0, 0);

1943 (
	gVOID
)
C¡CÃ
(
CNT_PON
, 0, 0);

1945 
OamCÃPeúodSèts
();

1947  
	gNO_ERROR
;

1951 
INT32
 
DRV_GëP‹tMibCou¡î
(
UINT32
 
Õ‹t
, 
UNI_COUNTER_S
* 
pMibCås
)

1953 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

1954 
	gªt
;

1955 
UINT64
 
	guŒVÆue
 = 0;

1957 if(
	gNULL
 =
pMibCås
)

1959  
ERROR
;

1962 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
))

1964  
ERROR
;

1967 
	gªt
 = 
DRV_OK
;

1969 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxO˘ës
, &
uŒVÆue
);

1970 
	gpMibCås
->
	guiTønsO˘ës
 = 
uŒVÆue
;

1971 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxO˘ës
, &
uŒVÆue
);

1972 
	gpMibCås
->
	guiRecO˘ës
 = 
uŒVÆue
;

1973 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxGoodO˘ës
, &
uŒVÆue
);

1974 
	gpMibCås
->
	gulRevBadO˘ës
 = (
ULONG
)(
pMibCås
->
uiRecO˘ës
 - 
uŒVÆue
);

1976 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxUniˇ°Pkts
, &
uŒVÆue
);

1977 
	gpMibCås
->
	gInUniˇ°
 = (
ULONG
)
uŒVÆue
;

1978 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxUniˇ°Pkts
, &
uŒVÆue
);

1979 
	gpMibCås
->
	gOutUniˇ°
 = (
ULONG
)
uŒVÆue
;

1980 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxMu…iˇ°Pkts
, &
uŒVÆue
);

1981 
	gpMibCås
->
	gInMu…iˇ°
 = (
ULONG
)
uŒVÆue
;

1982 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxMu…iˇ°Pkts
, &
uŒVÆue
);

1983 
	gpMibCås
->
	gOutMu…iˇ°
 = (
ULONG
)
uŒVÆue
;

1984 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxBrﬂdˇ°Pkts
, &
uŒVÆue
);

1985 
	gpMibCås
->
	gInBrﬂdˇ°
 = (
ULONG
)
uŒVÆue
;

1986 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxBrﬂdˇ°Pkts
, &
uŒVÆue
);

1987 
	gpMibCås
->
	gOutBrﬂdˇ°
 = (
ULONG
)
uŒVÆue
;

1989 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxPau£Pkts
, &
uŒVÆue
);

1990 
	gpMibCås
->
	gInPau£
 = (
ULONG
)
uŒVÆue
;

1991 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxPau£Pkts
, &
uŒVÆue
);

1992 
	gpMibCås
->
	gOutPau£
 = (
ULONG
)
uŒVÆue
;

1994 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxFCSEº‹s
, &
uŒVÆue
);

1995 
	gpMibCås
->
	gInCrcEº‹
 = (
ULONG
)
uŒVÆue
;

1996 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxUdîsizePkts
, &
uŒVÆue
);

1997 
	gpMibCås
->
	gInUndîÊow
 = (
ULONG
)
uŒVÆue
;

1998 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxOvîsizePkts
, &
uŒVÆue
);

1999 
	gpMibCås
->
	gInOvîÊow
 = (
ULONG
)
uŒVÆue
;

2000 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxDr›Pkts
, &
uŒVÆue
);

2001 
	gpMibCås
->
	gulInDr›≥d
 = (
ULONG
)
uŒVÆue
;

2002 
	gpMibCås
->
	gInEº‹
 = 
pMibCås
->
InUndîÊow
 +ÖMibCås->
InOvîÊow
 +ÖMibCås->
InCrcEº‹
 +ÖMibCås->
ulInDr›≥d
;

2003 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxFøgmít
, &
uŒVÆue
);

2004 
	gpMibCås
->
	gInUndîÊow
 +(
ULONG
)
uŒVÆue
;

2005 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
RxJabbîs
, &
uŒVÆue
);

2006 
	gpMibCås
->
	gInOvîÊow
 +(
ULONG
)
uŒVÆue
;

2008 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxSögÀCﬁlisi⁄
, &
uŒVÆue
);

2009 
	gpMibCås
->
	gOutCﬁlisi⁄
 = (
ULONG
)
uŒVÆue
;

2010 
	gªt
+=
Io˘l_GëP‹tSèti°icsByP‹t
(
Õ‹t
, 
TxL©eCﬁlisi⁄
, &
uŒVÆue
);

2011 
	gpMibCås
->
	gOutL©e
 = (
ULONG
)
uŒVÆue
;

2013 
	gpMibCås
->
	gOutEº‹
 = 
pMibCås
->
OutCﬁlisi⁄
 +ÖMibCås->
OutL©e
;

2015 if(
	gDRV_OK
 =
ªt
){

2016  
NO_ERROR
;

2019  
	gERROR
;

2022 
	giRë
;

2023 
UINT64
 
	guŒVÆue
 = 0;

2024 
UINT64
 
	guŒVÆueTmp
 = 0;

2025 
OPL_CNT_t
 
	g›lCou¡î
[
DAL_CNT_GE_NUM
];

2027 if(
	gNULL
 =
pMibCås
)

2029  
ERROR
;

2032 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
))

2034  
ERROR
;

2037 
	giRë
 = 
dÆCou¡îGë
(
DAL_CNT_POLL_GE_MASK
, 
›lCou¡î
, 0, 
DAL_CNT_GE_NUM
);

2038 i‡(0 !
iRë
)

2040  
ERROR
;

2044 
	gpMibCås
->
	guiTønsO˘ës
 = ((
UINT64
)(
›lCou¡î
[11].
°Added
.
uiHigh
Ë<< 32Ë| (›lCou¡î[11].°Added.
uiLow
);

2046 
	gpMibCås
->
	guiRecO˘ës
 = ((
UINT64
)(
›lCou¡î
[34].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[34].°Added.
uiLow
;

2048 
	gpMibCås
->
	gulRevBadO˘ës
 = 0;

2051 
	guŒVÆue
 = ((
UINT64
)(
›lCou¡î
[20].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[20].°Added.
uiLow
;

2052 
	guŒVÆue
 +(((
UINT64
)(
›lCou¡î
[21].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[21].°Added.
uiLow
);

2053 
	guŒVÆueTmp
 = (((
UINT64
)(
›lCou¡î
[19].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[19].°Added.
uiLow
);

2054 
	gpMibCås
->
	gInUniˇ°
 = (
UINT32
)(
uŒVÆueTmp
 - 
uŒVÆue
);

2057 
	guŒVÆue
 = (((
UINT64
)(
›lCou¡î
[1].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[1].°Added.
uiLow
);

2058 
	guŒVÆue
 +(((
UINT64
)(
›lCou¡î
[2].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[2].°Added.
uiLow
);

2059 
	guŒVÆueTmp
 = (((
UINT64
)(
›lCou¡î
[0].
°Added
.
uiHigh
Ë<< 32Ë| o∂Cou¡î[0].°Added.
uiLow
);

2060 
	gpMibCås
->
	gOutUniˇ°
 = (
UINT32
)(
uŒVÆueTmp
 - 
uŒVÆue
);

2063 
	gpMibCås
->
	gInMu…iˇ°
 = 
›lCou¡î
[21].
°Added
.
uiLow
;

2065 
	gpMibCås
->
	gOutMu…iˇ°
 = 
›lCou¡î
[2].
°Added
.
uiLow
;

2067 
	gpMibCås
->
	gInBrﬂdˇ°
 = 
›lCou¡î
[20].
°Added
.
uiLow
;

2069 
	gpMibCås
->
	gOutBrﬂdˇ°
 = 
›lCou¡î
[1].
°Added
.
uiLow
;

2072 
	gpMibCås
->
	gInPau£
 = 
›lCou¡î
[22].
°Added
.
uiLow
;

2074 
	gpMibCås
->
	gOutPau£
 = 
›lCou¡î
[3].
°Added
.
uiLow
;

2077 
	gpMibCås
->
	gInOvîÊow
 = 
›lCou¡î
[26].
°Added
.
uiLow
;

2079 
	gpMibCås
->
	gInUndîÊow
 = 
›lCou¡î
[25].
°Added
.
uiLow
;

2081 
	gpMibCås
->
	gInCrcEº‹
 = 
›lCou¡î
[15].
°Added
.
uiLow
;

2083 
	gpMibCås
->
	gInUndîÊow
 +
›lCou¡î
[17].
°Added
.
uiLow
;

2086 
	gpMibCås
->
	gOutCﬁlisi⁄
 = 0;

2088 
	gpMibCås
->
	gOutL©e
 = 0;

2090 
	gpMibCås
->
	gulInDr›≥d
 = 
›lCou¡î
[14].
°Added
.
uiLow
;

2092  
	gNO_ERROR
;

2100 
INT32
 
DRV_GëP‹tLökSètus
(
UINT32
 
Õ‹t
, 
BOOL
* 
pSètus
)

2102 
	glök°s
 = 0;

2104 if(
	gNULL
 =
pSètus
){

2105  
ERROR
;

2108 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2109  
ERROR
;

2112 if(
	gDRV_OK
 =
Io˘l_GëP‹tCuºítLök
(
Õ‹t
, &
lök°s
)){

2113 
	glök°s
)

2115 
	gTRUE
 :

2116 *
pSètus
 = 
TRUE
;

2118 
	gFALSE
 :

2119 *
pSètus
 = 
FALSE
;

2122  
ERROR
;

2126  
	gNO_ERROR
;

2133 
INT32
 
DRV_GëP‹tDu∂ex
(
UINT32
 
Õ‹t
, 
PORT_DUPLEX_E
* 
pDu∂exMode
)

2135 
	gdu∂ex
 = 0;

2137 if(
	gNULL
 =
pDu∂exMode
){

2138  
ERROR
;

2141 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2142  
ERROR
;

2144 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2145 if(
	gDRV_OK
 =
Io˘l_GëP‹tDu∂ex
(
Õ‹t
, &
du∂ex
)){

2146 
	gdu∂ex
)

2148 
	gPORT_DUPLEX_FULL
 :

2149 *
pDu∂exMode
 = 
DUPLEX_FULL
;

2151 
	gPORT_DUPLEX_HALF
 :

2152 *
pDu∂exMode
 = 
DUPLEX_HALF
;

2155  
ERROR
;

2159 
	gdu∂ex
 = 
du∂ex
;

2160 *
	gpDu∂exMode
 = 
DUPLEX_FULL
;

2162  
	gNO_ERROR
;

2169 
INT32
 
DRV_GëP‹tS≥ed
(
UINT32
 
Õ‹t
, 
PORT_SPEED_E
* 
pS≥edMode
)

2171 
	g•ìd
 = 0;

2173 if(
	gNULL
 =
pS≥edMode
){

2174  
ERROR
;

2177 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2178  
ERROR
;

2180 if(
	gDRV_OK
 =
Io˘l_GëP‹tS≥ed
(
Õ‹t
, &
•ìd
)){

2181 
	g•ìd
)

2183 
	gPORT_SPEED_10
 :

2184 *
pS≥edMode
 = 
SPEED_10M
;

2186 
	gPORT_SPEED_100
 :

2187 *
pS≥edMode
 = 
SPEED_100M
;

2189 
	gPORT_SPEED_1000
 :

2190 *
pS≥edMode
 = 
SPEED_1000M
;

2193  
ERROR
;

2196  
	gNO_ERROR
;

2203 
INT32
 
DRV_GëP‹tMdiSètus
(
UINT32
 
Õ‹t
, 
PORT_MDI_E
* 
pMdiMode
)

2205 
	gmdix
 = 0;

2207 if(
	gNULL
 =
pMdiMode
){

2208  
ERROR
;

2211 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2212  
ERROR
;

2214 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2215 if(
	gDRV_OK
 =
Io˘l_GëP‹tMdix
(
Õ‹t
, &
mdix
)){

2216 
	gmdix
)

2218 
	gPORT_MDI_NORMAL
 :

2219 *
pMdiMode
 = 
MDI_NORMAL
;

2221 
	gPORT_MDI_ACROSS
 :

2222 *
pMdiMode
 = 
MDI_ACROSS
;

2225  
ERROR
;

2229 
	gmdix
 = 
mdix
;

2230 *
	gpMdiMode
 = 
MDI_NORMAL
;

2232  
	gNO_ERROR
;

2239 
INT32
 
DRV_Re£tP‹tSèti°ic
(
UINT32
 
Õ‹t
)

2241 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2242  
ERROR
;

2244 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2245 if(
	gDRV_OK
 =
Io˘l_SëMibCou¡Re£t
(
Õ‹t
)){

2246  
NO_ERROR
;

2249  
	gERROR
;

2253 (
	gVOID
)
C¡CÃ
(
CNT_GE
, 0, 0);

2254  
	gNO_ERROR
;

2262 
gë_•dlx_by_√w_•ìd
(
PORT_SPEED_E
 
íP‹tS≥ed
, * 
•dlx_vÆ
)

2264 
	gdu∂ex_tmp
;

2266 
	gdu∂ex_tmp
 = (*
•dlx_vÆ
 % 3);

2268 
	gíP‹tS≥ed
)

2270 
	gSPEED_AUTO
 :

2271 *
•dlx_vÆ
 = (3*3Ë+ 
du∂ex_tmp
;

2273 
	gSPEED_10M
 :

2274 *
•dlx_vÆ
 = (0*3Ë+ 
du∂ex_tmp
;

2276 
	gSPEED_100M
 :

2277 *
•dlx_vÆ
 = (1*3Ë+ 
du∂ex_tmp
;

2279 
	gSPEED_1000M
 :

2280 *
•dlx_vÆ
 = (2*3Ë+ 
du∂ex_tmp
;

2293 
gë_•dlx_by_√w_du∂ex
(
PORT_DUPLEX_E
 
íP‹tDu∂ex
, * 
•dlx_vÆ
)

2295 
	g•ìd_tmp
;

2297 
	g•ìd_tmp
 = (*
•dlx_vÆ
 / 3);

2299 
	gíP‹tDu∂ex
)

2301 
	gDUPLEX_AUTO
 :

2302 *
•dlx_vÆ
 = (
•ìd_tmp
*3) + 2;

2304 
	gDUPLEX_FULL
 :

2305 *
•dlx_vÆ
 = (
•ìd_tmp
*3) + 1;

2307 
	gDUPLEX_HALF
 :

2308 *
•dlx_vÆ
 = (
•ìd_tmp
*3) + 0;

2322 
INT32
 
DRV_SëP‹tS≥ed
(
UINT32
 
Õ‹t
, 
PORT_SPEED_E
 
íP‹tS≥ed
)

2324 
	g•dlx_vÆ
;

2326 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2327  
ERROR
;

2330 if(
	gDRV_OK
 !
Io˘l_GëSpdlxSë
(
Õ‹t
, &
•dlx_vÆ
)) {

2331  
	gERROR
;

2334 if(-1 =
gë_•dlx_by_√w_•ìd
(
íP‹tS≥ed
, &
•dlx_vÆ
)) {

2335  
	gERROR
;

2338 if(
	gDRV_OK
 =
Io˘l_SëP‹tSpdlx
(
Õ‹t
, 
•dlx_vÆ
)){

2339 (
	gVOID
)
_CTC_SëUniS≥edCfg
(
Õ‹t
, 
íP‹tS≥ed
);

2340  
	gNO_ERROR
;

2343  
	gERROR
;

2351 
INT32
 
DRV_SëP‹tDu∂ex
(
UINT32
 
Õ‹t
, 
PORT_DUPLEX_E
 
íP‹tDu∂ex
)

2353 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2354 
	g•dlx_vÆ
;

2356 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2357  
ERROR
;

2360 if(
	gDRV_OK
 !
Io˘l_GëSpdlxSë
(
Õ‹t
, &
•dlx_vÆ
)) {

2361  
	gERROR
;

2364 if(-1 =
gë_•dlx_by_√w_du∂ex
(
íP‹tDu∂ex
, &
•dlx_vÆ
)) {

2365  
	gERROR
;

2368 if(
	gDRV_OK
 =
Io˘l_SëP‹tSpdlx
(
Õ‹t
, 
•dlx_vÆ
)){

2369 (
	gVOID
)
_CTC_SëUniDu∂exCfg
(
Õ‹t
, 
íP‹tDu∂ex
);

2370  
	gNO_ERROR
;

2373  
	gERROR
;

2376 
	gÕ‹t
 = 
Õ‹t
;

2377 
	gíP‹tDu∂ex
 = 
íP‹tDu∂ex
;

2378  
	gNO_ERROR
;

2387 
INT32
 
DRV_SëP‹tIsﬁ©i⁄
(
UINT32
 
Õ‹t
, 
BOOL
 
bE«bÀ
)

2389 
logic_pmask_t
 
	glmask
;

2391 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2392  
ERROR
;

2394 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2395 if(
	gDRV_OK
 !
Io˘l_GëIsﬁ©eSë
(&
lmask
)) {

2396  
ERROR
;

2399 if(
	gTRUE
 =
bE«bÀ
) {

2400 
SëLgcMaskBô
(
Õ‹t
, &
lmask
);

2402 if(
	gFALSE
 =
bE«bÀ
){

2403 
CÃLgcMaskBô
(
Õ‹t
, &
lmask
);

2406  
	gERROR
;

2409 if(
	gDRV_OK
 !
Io˘l_SëP‹tIsﬁ©e
(
lmask
)) {

2410  
ERROR
;

2413 (
	gVOID
)
_CTC_SëUniIsﬁ©eE«bÀCfg
(
Õ‹t
, 
bE«bÀ
);

2414  
	gNO_ERROR
;

2417 
mem£t
(&
lmask
, 0, (lmask));

2418 
	gbE«bÀ
 = 
bE«bÀ
;

2419  
	gERROR
;

2426 
INT32
 
DRV_SëP‹tFlowCål
(
UINT32
 
Õ‹t
, 
BOOL
 
bE«bÀ
)

2428 
BOOL
 
	gbCfgE«bÀ
 = 
FALSE
;

2430 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2431  
ERROR
;

2434 if((
	gFALSE
 !
bE«bÀ
Ë&& (
TRUE
 != bEnable)) {

2435  
ERROR
;

2438 (
	gVOID
)
_CTC_GëUniFlowCålCfg
(
Õ‹t
, &
bCfgE«bÀ
);

2439 i‡–
	gbE«bÀ
 =
bCfgE«bÀ
)

2441  
NO_ERROR
;

2444 if(
	gDRV_OK
 =
Io˘l_SëP‹tPau£
(
Õ‹t
, 
bE«bÀ
, bEnable))

2446 (
	gVOID
)
_CTC_SëUniFlowCålCfg
(
Õ‹t
, 
bE«bÀ
);

2447  
	gNO_ERROR
;

2450  
	gERROR
;

2457 
INT32
 
DRV_GëP‹tFlowCål
(
UINT32
 
Õ‹t
, 
BOOL
 *
bE«bÀ
)

2459 if(
	gNULL
 =
bE«bÀ
) {

2460  
ERROR
;

2463 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2464  
ERROR
;

2467 if(
	gDRV_OK
 !
Io˘l_GëP‹tFlow˘æ
(
Õ‹t
, 
bE«bÀ
))

2469  
	gERROR
;

2472  
	gNO_ERROR
;

2479 
INT32
 
DRV_SëP‹tLöeR©e
(
UINT32
 
Õ‹t
, 
PORT_DIRECT_E
 
íDúe˘
, UINT32 
uiLöeR©e
)

2481 
logic_pmask_t
 
	glmask
;

2482 
UINT32
 
	guiDúe˘i⁄
 = 
DRV_RATELIMIT_NONE
;

2485 i‡(0 !(
uiLöeR©e
 % 
MIN_PORT_BANDWIDTH
))

2487  
ERROR
;

2490  
	gíDúe˘
 )

2492 
	gDIRECT_IN
:

2493 
uiDúe˘i⁄
 = 
DRV_RATELIMIT_RX
;

2495 
	gDIRECT_OUT
:

2496 
uiDúe˘i⁄
 = 
DRV_RATELIMIT_TX
;

2499  
ERROR
;

2502 i‡((
	gMAX_PORT_BANDWIDTH
 =
uiLöeR©e
) ||

2503 (0 =
uiLöeR©e
))

2505 
uiLöeR©e
 = 0;

2509 
mem£t
(&
lmask
, 0, (lmask));

2510 
SëLgcMaskBô
(
Õ‹t
, &
lmask
);

2512 if(
	gDRV_OK
 =
Io˘l_SëR©eLimôP‹t
(
uiDúe˘i⁄
, 
lmask
, 
uiLöeR©e
)){

2514 if(
	gDRV_RATELIMIT_RX
 =
uiDúe˘i⁄
)

2516 
_CTC_SëUniLöeR©eInCfg
–
Õ‹t
, 
uiLöeR©e
 );

2520 
_CTC_SëUniLöeR©eOutCfg
–
Õ‹t
, 
uiLöeR©e
 );

2523  
	gNO_ERROR
;

2526  
	gERROR
;

2533 
INT32
 
DRV_SëP‹tLökSèã
(
UINT32
 
uiLP‹tId
, 
BOOL
 
bP‹tSètus
)

2535 
BOOL
 
	gbCfgE«bÀ
 = 
FALSE
;

2537 (
	gVOID
)
_CTC_GëUniP‹tE«bÀCfg
(
uiLP‹tId
, &
bCfgE«bÀ
);

2538 i‡–
	gbP‹tSètus
 =
bCfgE«bÀ
)

2540  
NO_ERROR
;

2543 if(
	gDRV_OK
 =
Io˘l_SëP‹tE«bÀ
(
uiLP‹tId
, 
bP‹tSètus
))

2545 (
	gVOID
)
_CTC_SëUniP‹tE«bÀCfg
(
uiLP‹tId
, 
bP‹tSètus
);

2546  
	gNO_ERROR
;

2549  
	gERROR
;

2557 
INT32
 
DRV_GëP‹tLökSèã
(
UINT32
 
uiLP‹tId
, 
BOOL
 *
bP‹tSètus
)

2559 if(
	gNULL
 =
bP‹tSètus
) {

2560  
ERROR
;

2563 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
uiLP‹tId
)) {

2564  
ERROR
;

2567 if(
	gDRV_OK
 !
Io˘l_GëP‹tE«bÀ
(
uiLP‹tId
, 
bP‹tSètus
))

2569  
	gERROR
;

2572  
	gNO_ERROR
;

2578 
INT32
 
DRV_SëP‹tAutoNegAdmö
(
UINT32
 
Õ‹t
, 
BOOL
 
bE«bÀ
)

2580 
BOOL
 
	gbCfgE«bÀ
 = 
FALSE
;

2582 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2583  
ERROR
;

2586 if((
	gFALSE
 !
bE«bÀ
Ë&& (
TRUE
 != bEnable)) {

2587  
ERROR
;

2590 (
	gVOID
)
_CTC_GëUniAutoNegModeCfg
(
Õ‹t
, &
bCfgE«bÀ
);

2591 i‡–
	gbE«bÀ
 =
bCfgE«bÀ
)

2593  
NO_ERROR
;

2596 if(
	gDRV_OK
 =
Io˘l_SëP‹tAut⁄eg
(
Õ‹t
, 
bE«bÀ
, bEnable))

2598 (
	gVOID
)
_CTC_SëUniAutoNegModeCfg
(
Õ‹t
, 
bE«bÀ
);

2599  
	gNO_ERROR
;

2602  
	gERROR
;

2609 
INT32
 
DRV_GëP‹tAutoNegAdmö
(
UINT32
 
Õ‹t
, 
BOOL
 *
bE«bÀ
)

2611 if(
	gNULL
 =
bE«bÀ
) {

2612  
ERROR
;

2615 if(
	gFALSE
 =
IsVÆidLgcP‹t
(
Õ‹t
)) {

2616  
ERROR
;

2619 if(
	gDRV_OK
 !
Io˘l_GëP‹tAut⁄eg
(
Õ‹t
, 
bE«bÀ
))

2621  
	gERROR
;

2624  
	gNO_ERROR
;

2631 
INT32
 
DRV_P‹tRe°¨tNeg
(
UINT32
 
uiLP‹tId
)

2633 if(
	gDRV_OK
 =
Io˘l_˘c_ª°¨t_aut⁄eg
(
uiLP‹tId
)){

2634 (
VOID
)
_CTC_SëUniAutoNegModeCfg
(
uiLP‹tId
, 
TRUE
);

2635  
	gNO_ERROR
;

2638  
	gERROR
;

2646 
INT32
 
DRV_SëP‹tAutoNeg
(
UINT32
 
uiLP‹tId
, 
UINT8
 
ucA˘i⁄
)

2648 
PORT_SPEED_E
 
	gíS≥edMode
 = 
SPEED_AUTO
;

2649 
PORT_DUPLEX_E
 
	gíDu∂exMode
 = 
DUPLEX_AUTO
;

2650 
	g•dlx_vÆ
;

2653 i‡(
	gm_abAutoNegE«bÀ
[
uiLP‹tId
] =
ucA˘i⁄
)

2655  
NO_ERROR
;

2659 i‡(
	gTRUE
 =
ucA˘i⁄
)

2661 
íS≥edMode
 = 
SPEED_AUTO
;

2662 
	gíDu∂exMode
 = 
DUPLEX_AUTO
;

2667 
	gíS≥edMode
 = 
SPEED_100M
;

2668 
	gíDu∂exMode
 = 
DUPLEX_FULL
;

2671 if(-1 =
gë_•dlx_by_√w_•ìd
(
íS≥edMode
, &
•dlx_vÆ
)) {

2672  
	gERROR
;

2675 if(-1 =
gë_•dlx_by_√w_du∂ex
(
íDu∂exMode
, &
•dlx_vÆ
)) {

2676  
	gERROR
;

2679 if(
	gDRV_OK
 !
Io˘l_SëP‹tSpdlx
(
uiLP‹tId
, 
•dlx_vÆ
))

2681  
	gERROR
;

2684 
_CTC_SëUniDu∂exCfg
(
uiLP‹tId
, 
íDu∂exMode
);

2685 
_CTC_SëUniS≥edCfg
(
uiLP‹tId
, 
íS≥edMode
);

2686 (
	gVOID
)
_CTC_SëUniAutoNegModeCfg
(
uiLP‹tId
, 
ucA˘i⁄
);

2687 
	gm_abAutoNegE«bÀ
[
uiLP‹tId
] = 
ucA˘i⁄
;

2689  
	gNO_ERROR
;

2695 
INT32
 
DRV_SëPriTru°Mode
(
QOS_PRI_TRUST_MODE_E
 
íTru°Mode
)

2697 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2698 
UINT32
 
	gi
;

2699 
UINT32
 
	gåu°Mode
=
QOS_COS
;

2701 
	gíTru°Mode
)

2703 
	gQOS_PRI_TRUST_MODE_IP_TOS
 :

2704  
ERROR
;

2705 
	gQOS_PRI_TRUST_MODE_DOT1P
 :

2706 
åu°Mode
 = 
QOS_COS
;

2708 
	gQOS_PRI_TRUST_MODE_DSCP
 :

2709 
åu°Mode
 = 
QOS_DSCP
;

2711 
	gQOS_PRI_TRUST_MODE_PORT
 :

2712 
åu°Mode
 = 
QOS_PORT
;

2715  
ERROR
;

2719 if(
	gDRV_OK
 !
Io˘l_SëQosTru°Mode
(
åu°Mode
)){

2720  
ERROR
;

2723 
	gi
 = 1; i <
LOGIC_PORT_NO
; i++)

2725 ()
_CTC_SëUniQosTru°ModeCfg
(
i
, 
åu°Mode
);

2728  
	gNO_ERROR
;

2731 
	gíTru°Mode
 = 
íTru°Mode
;

2732  
	gERROR
;

2739 
INT32
 
DRV_SëPriSchedMode
(
QOS_QUEUE_SCHEDULER_MODE_E
 
íPriSchedMode
)

2741 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2742 
QueueMode_S
 
	g°Queue
;

2744 
	gíPriSchedMode
)

2746 
	gQOS_QUEUE_SCHEDULER_MODE_WFQ
 :

2747 
°Queue
.
QueueMode
 = 
QUEUE_MODE_WFQ
;

2750 
	g°Queue
.
	gWeight
[0] = 8;

2751 
	g°Queue
.
	gWeight
[1] = 4;

2752 
	g°Queue
.
	gWeight
[2] = 2;

2753 
	g°Queue
.
	gWeight
[3] = 1;

2755 
	g°Queue
.
	gWeight
[0] = 1;

2756 
	g°Queue
.
	gWeight
[1] = 2;

2757 
	g°Queue
.
	gWeight
[2] = 4;

2758 
	g°Queue
.
	gWeight
[3] = 8;

2762 
	gQOS_QUEUE_SCHEDULER_MODE_SPQ
 :

2763 
°Queue
.
QueueMode
 = 
QUEUE_MODE_HQ_WRR
;

2764 
	g°Queue
.
	gWeight
[0] = 0;

2765 
	g°Queue
.
	gWeight
[1] = 0;

2766 
	g°Queue
.
	gWeight
[2] = 0;

2767 
	g°Queue
.
	gWeight
[3] = 0;

2770  
ERROR
;

2773 if(
	gDRV_OK
 !
Io˘l_SëQosQueueSchedul
(
°Queue
)){

2774  
ERROR
;

2777 
UINT8
 
	gucQid
;

2778 
UINT8
 
	gucCosIndex
;

2779 
UINT8
 
	gauCos2Qid
[
NUMBER_OF_DOT1P
] = {0,0,1,1,2,2,3,3};

2780 
OPL_STATUS
 
	gRë
;

2781 
OPL_STATUS
 
tmQueuePriHwWrôe
(
UINT8
 
°ªam
, UINT8 
Qid
, UINT8 
¥i‹ôy
);

2782 
OPL_STATUS
 
tmQueueWeightHwWrôe
(
UINT8
 
°ªam
, UINT8 
Qid
, 
UINT32
 
weight
);

2785 i‡(
	gQOS_QUEUE_SCHEDULER_MODE_SPQ
 =
íPriSchedMode
)

2787 
ucQid
 = 0; 
	gucQid
 < 4; ucQid++)

2789 
	gRë
 = 
tmQueuePriHwWrôe
(
UP_STREAM
, 
ucQid
, ucQid);

2790 
	gRë
 +
tmQueueWeightHwWrôe
(
UP_STREAM
, 
ucQid
, 0);

2791 
	gRë
 +
tmQueuePriHwWrôe
(
DOWN_STREAM
, 
ucQid
, ucQid);

2792 
	gRë
 +
tmQueueWeightHwWrôe
(
DOWN_STREAM
, 
ucQid
, 0);

2793 i‡(
	gOPL_OK
 !
Rë
)

2795  
ERROR
;

2799 
	gucCosIndex
 = 0; ucCosIndex < 
	gNUMBER_OF_DOT1P
; ucCosIndex++)

2801 
	gRë
 = 
odmQosCos2QM≠Së
(
ucCosIndex
, 
auCos2Qid
[ucCosIndex]);

2802 i‡(
	gNO_ERROR
 !
Rë
)

2804  
ERROR
;

2811 
UINT8
 
	gaucWeght
[4] = {8,4,2,1};

2812 
	gucQid
 = 0; ucQid < 4; ucQid++)

2814 
	gRë
 = 
tmQueuePriHwWrôe
(
UP_STREAM
, 
ucQid
, 0);

2816 
	gRë
 +
tmQueueWeightHwWrôe
(
UP_STREAM
, 
ucQid
, 
aucWeght
[ucQid]);

2817 
	gRë
 +
tmQueuePriHwWrôe
(
DOWN_STREAM
, 
ucQid
, 0);

2819 
	gRë
 +
tmQueueWeightHwWrôe
(
DOWN_STREAM
, 
ucQid
, 
aucWeght
[ucQid]);

2820 i‡(
	gOPL_OK
 !
Rë
)

2822  
ERROR
;

2829  
	gNO_ERROR
;

2835 
INT32
 
DRV_SëCos2QidM≠
(
UINT32
* 
auiCos2QidM≠
)

2837 
qos_8021p_to_öçri_t
 
	g°1pM≠
;

2838 
	gii
;

2840  
	gii
 = 0 ; iò< 
	gNUMBER_OF_DOT1P
 ; ii++ ) {

2841 
	g°1pM≠
.
	göã∫ÆPri
[
ii
] = ()
auiCos2QidM≠
[ii];

2843 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

2844 if(
	gDRV_OK
 =
Io˘l_SëQos2Qid
(
°1pM≠
)){

2845  
NO_ERROR
;

2848  
	gERROR
;

2851 
odmQosCos2QM≠Së
(
UINT8
 
VœnCos
,UINT8 
QueId
);

2852 
	giRë
 = 0;

2853 
UINT8
 
	guiCosIndex
;

2855 
	guiCosIndex
 = 0; uiCosIndex < 
	gNUMBER_OF_DOT1P
; uiCosIndex++)

2857 
	giRë
 +
odmQosCos2QM≠Së
(
uiCosIndex
, 
°1pM≠
.
öã∫ÆPri
[uiCosIndex]);

2860 i‡(
	gNO_ERROR
 !
iRë
)

2862  
ERROR
;

2865  
	gNO_ERROR
;

2869 
INT32
 
DRV_SëSçE«bÀ
(
BOOL
 
ulE«bÀ
)

2871 ()
	gulE«bÀ
;

2880 
BOOL_T
 
_DRV_IsUniCa°Ip
(
ULONG
 
ulIp
)

2882 
UCHAR
 
	gaucIp
[4] = { 0 };

2883 
UCHAR
 
	gaucZîoIp
[4] = { 0, 0, 0, 0 };

2884 
UCHAR
 
	gaucBCa°Ip
[4] = { 255, 255, 255, 255 };

2886 
	gaucIp
[0] = (
UCHAR
Ë((
ulIp
 & 0xFF000000) >> 24);

2887 
	gaucIp
[1] = (
UCHAR
Ë((
ulIp
 & 0x00FF0000) >> 16);

2888 
	gaucIp
[2] = (
UCHAR
Ë((
ulIp
 & 0x0000FF00) >> 8);

2889 
	gaucIp
[3] = (
UCHAR
Ë(
ulIp
 & 0x000000FF);

2893 i‡(((
	gaucIp
[0] >224Ë&& (
aucIp
[0] <= 239)) || (127 ==áucIp[0]))

2895  
BOOL_FALSE
;

2899 i‡((
	gCOMPARE_EQUAL
 =
MEM_COMPARE
(
aucIp
, 
aucZîoIp
, 4))

2900 || (
	gCOMPARE_EQUAL
 =
MEM_COMPARE
(
aucIp
, 
aucBCa°Ip
, 4)))

2902  
	gBOOL_FALSE
;

2905  
	gBOOL_TRUE
;

2921 
BOOL_T
 
_Drv_CheckFûãrRuÀ
(
ACL_FILTER_RULE_S
 *
p°RuÀ
)

2923 i‡(
	gNULL
 =
p°RuÀ
)

2925 
düg_¥ötf
("Wrong Filter Rule:ÇullÖointer.\r\n");

2926  
	gBOOL_FALSE
;

2929  
	gp°RuÀ
->
	gíTy≥
 )

2931 
	gFILTER_SRC_MAC
 :

2933 
UCHAR
 
aucZîoMac
[
MAC_ADDR_LEN
] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

2935 i‡((
	gDIRECTION_UPLINK
 !
p°RuÀ
->
íDúe˘
) ||

2936 (!
memcmp
(
aucZîoMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2937 (!
memcmp
(
g_aucOnuMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2940 i‡((
	gp°RuÀ
->
	gíDúe˘
 >
DIRECTION_BUTT
) ||

2941 (0 !(0x01 & 
p°RuÀ
->
unVÆue
.
aucMacAddr
[0])) ||

2942 (!
memcmp
(
aucZîoMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2943 (!
memcmp
(
g_aucOnuMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2947 
düg_¥ötf
("Wrong Filter Rule: Type: SA MAC Direct:%d MAC:%02x:%02x:%02x:%02x:%02x:%02x.\r\n",

2948 
p°RuÀ
->
íDúe˘
,

2949 
p°RuÀ
->
unVÆue
.
aucMacAddr
[0],

2950 
p°RuÀ
->
unVÆue
.
aucMacAddr
[1],

2951 
p°RuÀ
->
unVÆue
.
aucMacAddr
[2],

2952 
p°RuÀ
->
unVÆue
.
aucMacAddr
[3],

2953 
p°RuÀ
->
unVÆue
.
aucMacAddr
[4],

2954 
p°RuÀ
->
unVÆue
.
aucMacAddr
[5]);

2956  
	gBOOL_FALSE
;

2960 
	gFILTER_DEST_MAC
 :

2962 
UCHAR
 
aucZîoMac
[
MAC_ADDR_LEN
] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

2965 i‡((
	gp°RuÀ
->
	gíDúe˘
 >
DIRECTION_BUTT
) ||

2966 (0 !(0x01 & 
p°RuÀ
->
unVÆue
.
aucMacAddr
[0])) ||

2967 (!
memcmp
(
aucZîoMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2968 (!
memcmp
(
g_aucOnuMac
,
p°RuÀ
->
unVÆue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2971 
düg_¥ötf
("Wrong Filter Rule: Type: DA MAC Direct:%d MAC:%02x:%02x:%02x:%02x:%02x:%02x.\r\n",

2972 
p°RuÀ
->
íDúe˘
,

2973 
p°RuÀ
->
unVÆue
.
aucMacAddr
[0],

2974 
p°RuÀ
->
unVÆue
.
aucMacAddr
[1],

2975 
p°RuÀ
->
unVÆue
.
aucMacAddr
[2],

2976 
p°RuÀ
->
unVÆue
.
aucMacAddr
[3],

2977 
p°RuÀ
->
unVÆue
.
aucMacAddr
[4],

2978 
p°RuÀ
->
unVÆue
.
aucMacAddr
[5]);

2979  
	gBOOL_FALSE
;

2983 
	gFILTER_ETHER_TYPE
 :

2985 i‡(
p°RuÀ
->
íDúe˘
 >
DIRECTION_BOTH
)

2987 
düg_¥ötf
("Wrong Filter Rule: Type:EtherType Direct:%d Ether:0x%04X.\r\n",

2988 
p°RuÀ
->
íDúe˘
,Ö°RuÀ->
unVÆue
.
usEthîTy≥
);

2989  
	gBOOL_FALSE
;

2993 
	gFILTER_VLAN_ID
 :

2995 i‡((
p°RuÀ
->
íDúe˘
 >
DIRECTION_BOTH
) ||

2996 ((
p°RuÀ
->
unVÆue
.
usVœnId
 < 
MIN_VLAN_ID
) ||

2997 (
p°RuÀ
->
unVÆue
.
usVœnId
 > 
MAX_VLAN_ID
)))

2999 
düg_¥ötf
("Wrong Filter Rule: Type:VLAN Direct:%d VID:%d\r\n",

3000 
p°RuÀ
->
íDúe˘
,Ö°RuÀ->
unVÆue
.
usVœnId
);

3001  
	gBOOL_FALSE
;

3005 
	gFILTER_SRC_IP
 :

3006 
BIND_SRC_IP
 :

3007 
FILTER_DEST_IP
 :

3008 
BIND_DEST_IP
 :

3010 i‡((
p°RuÀ
->
íDúe˘
 >
DIRECTION_BOTH
) ||

3011 (
BOOL_FALSE
 =
_DRV_IsUniCa°Ip
(
p°RuÀ
->
unVÆue
.
ulIpAddr
)))

3014 
düg_¥ötf
("Wrong Filter Rule: Type:DIP Direct:%d IP:%d.%d.%d.%d\r\n",

3015 
p°RuÀ
->
íDúe˘
,

3016 (
p°RuÀ
->
unVÆue
.
ulIpAddr
 & 0xFF000000) >> 24,

3017 (
p°RuÀ
->
unVÆue
.
ulIpAddr
 & 0x00FF0000) >> 16,

3018 (
p°RuÀ
->
unVÆue
.
ulIpAddr
 & 0x0000FF00) >> 8,

3019 (
p°RuÀ
->
unVÆue
.
ulIpAddr
 & 0x000000FF));

3020  
	gBOOL_FALSE
;

3024 
	gFILTER_SRC_TCP
:

3025 
FILTER_SRC_UDP
:

3026 
FILTER_DEST_TCP
:

3027 
FILTER_DEST_UDP
:

3029 i‡(
p°RuÀ
->
íDúe˘
 >
DIRECTION_BOTH
)

3031 
düg_¥ötf
("Wrong Filter Rule: Type:L4PORT Direct:%d \r\n",

3032 
p°RuÀ
->
íDúe˘
);

3033  
	gBOOL_FALSE
;

3038  
BOOL_FALSE
;

3041  
	gBOOL_TRUE
;

3047 
INT32
 
DRV_SëFecMode
(
BOOL
 
bE«bÀ
)

3049 if((
	gFALSE
 !
bE«bÀ
Ë&& (
TRUE
 != bEnable)) {

3050  
ERROR
;

3053 if(
	gDRV_OK
 !
Io˘l_SëFecMode
(
bE«bÀ
))

3055  
ERROR
;

3058  
	gNO_ERROR
;

3064 
INT32
 
DRV_GëFecMode
(
BOOL
 *
bE«bÀ
)

3066 if(
	gNULL
 =
bE«bÀ
) {

3067  
ERROR
;

3070 if(
	gDRV_OK
 !
Io˘l_GëFecMode
(
bE«bÀ
))

3072  
ERROR
;

3075  
	gNO_ERROR
;

3081 
INT32
 
DRV_A˛AddFûãrRuÀ
(
ACL_FILTER_RULE_S
* 
pRuÀ
)

3083 #i‡
deföed
(
CONFIG_PRODUCT_EPN200
)

3084 
	gpRuÀ
 = 
pRuÀ
;

3085  
	gERROR
;

3087 
UINT32
 
	guiLP‹t
;

3089 
UINT32
 
	guiA˛RuÀTy≥
;

3090 
UINT32
 
	guiA˛RuÀNum
;

3091 
UINT32
 
	guiRuÀPª˚dí˚
 = 0;

3092 
BOOL_T
 
	gbSameVÆ
 = 
BOOL_FALSE
;

3095 
DRV_RET_E
 
	gíRë
;

3096 
SLL_NODE_S
 *
	gp°Node
 = 
NULL
;

3097 
ACL_FILTER_RULE_S
 *
	gp°Fûãr
 = 
NULL
;

3098 
ACL_DIRECTION_E
 
	gíFûãrDú
;

3100 if(
	gNULL
 =
pRuÀ
)

3102 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3103  
	gERROR
;

3106 i‡(
	gBOOL_TRUE
 !
_Drv_CheckFûãrRuÀ
(
pRuÀ
))

3108 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3109  
	gERROR
;

3113 
CÃLgcMaskAŒ
(&
uiLP‹tMask
);

3114 i‡(
	gDIRECTION_UPLINK
 =
pRuÀ
->
íDúe˘
){

3115 
SëLgcMaskAŒ
(&
uiLP‹tMask
);

3117 if(
	gDIRECTION_DOWNLINK
 =
pRuÀ
->
íDúe˘
){

3118 
SëLgcMaskBôNoCheck
(
LOGIC_UPPON_PORT
, &
uiLP‹tMask
);

3120 if(
	gDIRECTION_BOTH
 =
pRuÀ
->
íDúe˘
){

3122 
SëLgcMaskAŒ
(&
uiLP‹tMask
);

3123 
SëLgcMaskBôNoCheck
(
LOGIC_UPPON_PORT
, &
uiLP‹tMask
);

3126  
	gERROR
;

3129 
	gDRV_CFGLOCK
;

3130 
	guiA˛RuÀNum
 = 
SLL_Cou¡
(&
°EﬂmFûãrD©aLi°
);

3131 
	gDRV_CFGUNLOCK
;

3132 if(
	gMAX_ACL_FILTER_NUM
 <
uiA˛RuÀNum
)

3134 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3135  
	gERROR
;

3138 
	gDRV_CFGLOCK
;

3139 
SLL_Sˇn
(&
°EﬂmFûãrD©aLi°
, 
p°Node
, 
SLL_NODE_S
 *)

3142 
ACL_FILTER_RULE_S
 *
	gp°Rec
 = (ACL_FILTER_RULE_S *)
SLL_GET_HANDLE
(
p°Node
);

3145 
	guiRuÀPª˚dí˚
++;

3147 i‡((
	gp°Rec
->
	gíTy≥
 =
pRuÀ
->
íTy≥
) &&

3148 (
p°Rec
->
íDúe˘
 =
pRuÀ
->enDirect))

3150 
pRuÀ
->
íTy≥
)

3152 
FILTER_SRC_MAC
:

3153 
FILTER_DEST_MAC
:

3155 i‡(
COMPARE_EQUAL
 =
MEM_COMPARE
(
p°Rec
->
unVÆue
.
aucMacAddr
, 
pRuÀ
->unVÆue.aucMacAddr, 
MAC_ADDR_LEN
))

3157 
	gbSameVÆ
 = 
BOOL_TRUE
;

3160 
	gFILTER_ETHER_TYPE
:

3162 i‡(
p°Rec
->
unVÆue
.
usEthîTy≥
 =
pRuÀ
->unValue.usEtherType)

3164 
bSameVÆ
 = 
BOOL_TRUE
;

3167 
	gFILTER_VLAN_ID
:

3169 i‡(
p°Rec
->
unVÆue
.
usVœnId
 =
pRuÀ
->unValue.usVlanId)

3171 
bSameVÆ
 = 
BOOL_TRUE
;

3174 
	gFILTER_SRC_IP
:

3175 
FILTER_DEST_IP
:

3176 
BIND_SRC_IP
:

3177 
BIND_DEST_IP
:

3179 i‡(
p°Rec
->
unVÆue
.
ulIpAddr
 =
pRuÀ
->unValue.ulIpAddr)

3181 
bSameVÆ
 = 
BOOL_TRUE
;

3184 
	gFILTER_SRC_TCP
:

3185 
FILTER_DEST_TCP
:

3186 
FILTER_SRC_UDP
:

3187 
FILTER_DEST_UDP
:

3189 i‡(
p°Rec
->
unVÆue
.
usP‹t
 =
pRuÀ
->unValue.usPort)

3191 
bSameVÆ
 = 
BOOL_TRUE
;

3195 
DRV_CFGUNLOCK
;

3196 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3197  
	gERROR
;

3200 i‡(
	gBOOL_TRUE
 =
bSameVÆ
)

3202 
DRV_CFGUNLOCK
;

3203 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3204  
	gNO_ERROR
;

3208 
	gDRV_CFGUNLOCK
;

3210 i‡(
	gEOAM_FILTER_RULE_NUM_MAX
 <
uiRuÀPª˚dí˚
)

3212 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3213  
	gERROR
;

3216 
	gpRuÀ
->
	gíTy≥
)

3218 
	gFILTER_SRC_MAC
 :

3219 
uiA˛RuÀTy≥
 = 
ACL_TRUST_SMAC
;

3221 
	gFILTER_DEST_MAC
 :

3222 
uiA˛RuÀTy≥
 = 
ACL_TRUST_DMAC
;

3224 
	gFILTER_ETHER_TYPE
 :

3225 
uiA˛RuÀTy≥
 = 
ACL_TRUST_ETHTYPE
;

3227 
	gFILTER_VLAN_ID
 :

3228 
uiA˛RuÀTy≥
 = 
ACL_TRUST_CTAG_VID
;

3230 
	gFILTER_SRC_IP
 :

3231 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_SIP
;

3233 
	gFILTER_DEST_IP
 :

3234 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_DIP
;

3236 
	gBIND_SRC_IP
 :

3237 
BIND_DEST_IP
 :

3238  
ERROR
;

3239 
	gFILTER_SRC_TCP
 :

3240 
uiA˛RuÀTy≥
 = 
ACL_TRUST_TCP_SPORT
;

3242 
	gFILTER_DEST_TCP
 :

3243 
uiA˛RuÀTy≥
 = 
ACL_TRUST_TCP_DPORT
;

3245 
	gFILTER_SRC_UDP
 :

3246 
uiA˛RuÀTy≥
 = 
ACL_TRUST_UDP_SPORT
;

3248 
	gFILTER_DEST_UDP
 :

3249 
uiA˛RuÀTy≥
 = 
ACL_TRUST_UDP_DPORT
;

3252 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3253  
	gERROR
;

3257 
LgcP‹tF‹NoCheck
(
uiLP‹tIndex
, &
uiLP‹tMask
){

3258 if(
	gDRV_OK
 !
Io˘l_AddA˛Fûãr
(
uiLP‹tIndex
, 0, 
uiA˛RuÀTy≥
, (*)&(
pRuÀ
->
unVÆue
))){

3259  
	gERROR
;

3263 i‡(
	gDIRECTION_UPLINK
 =
pRuÀ
->
íDúe˘
)

3265 
uiLP‹t
 = 
INVALID_PORT
;

3266 
	gíFûãrDú
 = 
ACL_DIRECTION_UPLINK
;

3268 if(
	gDIRECTION_DOWNLINK
 =
pRuÀ
->
íDúe˘
)

3270 
uiLP‹t
 = 
LOGIC_UPPON_PORT
;

3271 
	gíFûãrDú
 = 
ACL_DIRECTION_DOWNLINK
;

3273 if(
	gDIRECTION_BOTH
 =
pRuÀ
->
íDúe˘
)

3275 
uiLP‹t
 = 
INVALID_PORT
;

3276 
	gíFûãrDú
 = 
ACL_DIRECTION_BOTH
;

3280 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3281  
	gERROR
;

3285 
	gíRë
 = 
Io˘l_AddA˛Fûãr
(
uiLP‹t
, 
uiRuÀPª˚dí˚
,

3286 
uiA˛RuÀTy≥
,

3287 
íFûãrDú
,

3288 (*)&(
pRuÀ
->
unVÆue
));

3289 if(
	gDRV_OK
 !
íRë
)

3291 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3292  
	gERROR
;

3295 
	gp°Fûãr
 = (
ACL_FILTER_RULE_S
 *)
mÆloc
((ACL_FILTER_RULE_S));

3296 i‡(
	gNULL
 =
p°Fûãr
)

3298 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3299  
	gVOS_ERR
;

3302 
mem˝y
(
p°Fûãr
, 
pRuÀ
, (
ACL_FILTER_RULE_S
));

3303 
	gp°Fûãr
->
	guiRuÀPª˚dí˚
 = 
uiRuÀPª˚dí˚
;

3306 
	gp°Node
 = (
SLL_NODE_S
 *)
mÆloc
((SLL_NODE_S));

3307 i‡(
	gNULL
 =
p°Node
)

3309 
‰ì
(
p°Fûãr
);

3310 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3311  
	gVOS_ERR
;

3314 
SLL_Inô_Node
(
p°Node
);

3315 
SLL_SET_HANDLE
(
p°Node
, 
p°Fûãr
);

3316 
	gDRV_CFGLOCK
;

3317 
SLL_Add
(&
°EﬂmFûãrD©aLi°
, 
p°Node
);

3318 
	gDRV_CFGUNLOCK
;

3322  
	gNO_ERROR
;

3331 
INT32
 
DRV_A˛DñFûãrRuÀ
(
ACL_FILTER_RULE_S
* 
pRuÀ
)

3333 #i‡
deföed
(
CONFIG_PRODUCT_EPN200
)

3334 
	gpRuÀ
 = 
pRuÀ
;

3335  
	gNO_ERROR
;

3337 
BOOL_T
 
	gbFound
 = 
BOOL_FALSE
;

3338 
UINT32
 
	guiA˛RuÀNum
;

3339 
UINT32
 
	guiRuÀPª˚dí˚
 = 0;

3340 
SLL_NODE_S
 *
	gp°Node
 = 
NULL
;

3341 
ACL_DIRECTION_E
 
	gíFûãrDú
;

3343 if(
	gNULL
 =
pRuÀ
)

3345 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3346  
	gERROR
;

3349 i‡(
	gBOOL_TRUE
 !
_Drv_CheckFûãrRuÀ
(
pRuÀ
))

3351 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3352  
	gERROR
;

3355 
	gDRV_CFGLOCK
;

3356 
	guiA˛RuÀNum
 = 
SLL_Cou¡
(&
°EﬂmFûãrD©aLi°
);

3357 
	gDRV_CFGUNLOCK
;

3358 i‡(
	guiA˛RuÀNum
 == 0)

3360 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3361  
	gNO_ERROR
;

3364 
	gDRV_CFGLOCK
;

3365 
SLL_Sˇn
(&
°EﬂmFûãrD©aLi°
, 
p°Node
, 
SLL_NODE_S
 *)

3367 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3368 
ACL_FILTER_RULE_S
 *
	gp°Rec
 = (ACL_FILTER_RULE_S *)
SLL_GET_HANDLE
(
p°Node
);

3369 i‡((
	gp°Rec
->
	gíTy≥
 =
pRuÀ
->
íTy≥
) &&

3370 (
p°Rec
->
íDúe˘
 =
pRuÀ
->enDirect))

3372 
p°Rec
->
íTy≥
)

3374 
FILTER_SRC_MAC
:

3375 
FILTER_DEST_MAC
:

3376 i‡(
COMPARE_EQUAL
 =
MEM_COMPARE
(
p°Rec
->
unVÆue
.
aucMacAddr
, 
pRuÀ
->unVÆue.aucMacAddr, 
MAC_ADDR_LEN
))

3378 
	gbFound
 = 
BOOL_TRUE
;

3381 
	gFILTER_ETHER_TYPE
:

3382 i‡(
p°Rec
->
unVÆue
.
usEthîTy≥
 =
pRuÀ
->unValue.usEtherType)

3384 
bFound
 = 
BOOL_TRUE
;

3387 
	gFILTER_VLAN_ID
:

3388 i‡(
p°Rec
->
unVÆue
.
usVœnId
 =
pRuÀ
->unValue.usVlanId)

3390 
bFound
 = 
BOOL_TRUE
;

3393 
	gFILTER_SRC_IP
:

3394 
FILTER_DEST_IP
:

3395 
BIND_SRC_IP
:

3396 
BIND_DEST_IP
:

3397 i‡(
p°Rec
->
unVÆue
.
ulIpAddr
 =
pRuÀ
->unValue.ulIpAddr)

3399 
bFound
 = 
BOOL_TRUE
;

3402 
	gFILTER_SRC_TCP
:

3403 
FILTER_DEST_TCP
:

3404 
FILTER_SRC_UDP
:

3405 
FILTER_DEST_UDP
:

3406 i‡(
p°Rec
->
unVÆue
.
usP‹t
 =
pRuÀ
->unValue.usPort)

3408 
bFound
 = 
BOOL_TRUE
;

3416 i‡(
	gbFound
 =
BOOL_TRUE
)

3418 
uiRuÀPª˚dí˚
 = 
p°Rec
->uiRulePrecedence;

3420 
	gpRuÀ
->
	gíDúe˘
)

3422 
	gDIRECTION_UPLINK
:

3423 
íFûãrDú
 = 
ACL_DIRECTION_UPLINK
;

3425 
	gDIRECTION_DOWNLINK
:

3426 
íFûãrDú
 = 
ACL_DIRECTION_DOWNLINK
;

3428 
	gDIRECTION_BOTH
:

3429 
íFûãrDú
 = 
ACL_DIRECTION_BOTH
;

3432 
DRV_CFGUNLOCK
;

3433 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3434  
	gERROR
;

3436 
düg_¥ötf
("\ndñ dú:%d\n",
íFûãrDú
);

3437 if(
	gDRV_OK
 !
Io˘l_DñA˛FûãrByP‹t
(
INVALID_PORT
, 
uiRuÀPª˚dí˚
, 
íFûãrDú
))

3439 
	gDRV_CFGUNLOCK
;

3440 
düg_¥ötf
("\nfunc:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

3441  
	gERROR
;

3444 
SLL_Dñëe
(&
°EﬂmFûãrD©aLi°
, 
p°Node
);

3445 
‰ì
(
p°Rec
);

3446 
‰ì
(
p°Node
);

3450 
	gDRV_CFGUNLOCK
;

3452  
	gNO_ERROR
;

3457 
ﬂm_˛asm¨k_loˇl_t
 
	gloˇl_˛asm¨k
[4];

3459 
Ctc_AddClfRmk2Loˇl
(
UINT32
 
Õ‹t
,

3460 
UINT32
 
¥e˚dí˚OfRuÀ
,

3461 
ﬂm_˛asm¨k_ruÀbody_t
 *
p°ClsRuÀ
,

3462 
ﬂm_˛asm¨k_fõldbody_t
 *
p°ClsFõld
)

3464 
	gDRV_CFGLOCK
;

3465 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsRuÀ
[
¥e˚dí˚OfRuÀ
].
	g¥e˚dí˚OfRuÀ
 = 
p°ClsRuÀ
->precedenceOfRule;

3466 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsRuÀ
[
¥e˚dí˚OfRuÀ
].
	gÀnOfRuÀ
 = 
p°ClsRuÀ
->
ÀnOfRuÀ
;

3467 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsRuÀ
[
¥e˚dí˚OfRuÀ
].
	gqueueM≠≥d
 = 
p°ClsRuÀ
->
queueM≠≥d
;

3468 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsRuÀ
[
¥e˚dí˚OfRuÀ
].
	gëhPriM¨k
 = 
p°ClsRuÀ
->
ëhPriM¨k
;

3469 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsRuÀ
[
¥e˚dí˚OfRuÀ
].
	gnumOfFõld
 = 
p°ClsRuÀ
->
numOfFõld
;

3470 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsFõld
[
¥e˚dí˚OfRuÀ
].
	gfõldSñe˘
 = 
p°ClsFõld
->
fõldSñe˘
;

3471 
mem˝y
(
loˇl_˛asm¨k
[
Õ‹t
].
ClsFõld
[
¥e˚dí˚OfRuÀ
].
m©chVÆue
, 
p°ClsFõld
->matchValue, 6);

3472 
	gloˇl_˛asm¨k
[
Õ‹t
].
	gClsFõld
[
¥e˚dí˚OfRuÀ
].
	g›î©‹
 = 
p°ClsFõld
->
›î©‹
;

3473 
	gDRV_CFGUNLOCK
;

3476 
Ctc_CÀ¨ClfRmk2LoˇlByP‹t
(
UINT32
 
Õ‹t
)

3478 
	gDRV_CFGLOCK
;

3479 
mem£t
(&
loˇl_˛asm¨k
[
Õ‹t
], 0, (
ﬂm_˛asm¨k_loˇl_t
));

3480 
	gDRV_CFGUNLOCK
;

3483 
Ctc_CÀ¨ClfRmk2LoˇlByPªc
(
UINT32
 
Õ‹t
, UINT32 
¥e˚dí˚OfRuÀ
)

3485 
	gDRV_CFGLOCK
;

3486 
mem£t
(&
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
], 0, (
ﬂm_˛asm¨k_ruÀbody_t
));

3487 
mem£t
(&
loˇl_˛asm¨k
[
Õ‹t
].
ClsFõld
[
¥e˚dí˚OfRuÀ
], 0, (
ﬂm_˛asm¨k_fõldbody_t
));

3488 
	gDRV_CFGUNLOCK
;

3491 
Ctc_GëClfRmk2Loˇl
(
UINT32
 
Õ‹t
,

3492 
UINT32
 
¥e˚dí˚OfRuÀ
,

3493 
ﬂm_˛asm¨k_ruÀbody_t
 *
p°ClsRuÀ
,

3494 
ﬂm_˛asm¨k_fõldbody_t
 *
p°ClsFõld
)

3496 
	gp°ClsRuÀ
->
	g¥e˚dí˚OfRuÀ
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
].precedenceOfRule;

3497 
	gp°ClsRuÀ
->
	gÀnOfRuÀ
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
].
ÀnOfRuÀ
;

3498 
	gp°ClsRuÀ
->
	gqueueM≠≥d
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
].
queueM≠≥d
;

3499 
	gp°ClsRuÀ
->
	gëhPriM¨k
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
].
ëhPriM¨k
;

3500 
	gp°ClsRuÀ
->
	gnumOfFõld
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsRuÀ
[
¥e˚dí˚OfRuÀ
].
numOfFõld
;

3501 
	gp°ClsFõld
->
	gfõldSñe˘
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsFõld
[
¥e˚dí˚OfRuÀ
].
fõldSñe˘
;

3502 
mem˝y
(
p°ClsFõld
->
m©chVÆue
, 
loˇl_˛asm¨k
[
Õ‹t
].
ClsFõld
[
¥e˚dí˚OfRuÀ
].matchValue, 6);

3503 
	gp°ClsFõld
->
	g›î©‹
 = 
loˇl_˛asm¨k
[
Õ‹t
].
ClsFõld
[
¥e˚dí˚OfRuÀ
].
›î©‹
;

3506 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

3509 
INT32
 
DRV_CtcAddClfRmkByPªc
(
UINT32
 
Õ‹t
,

3510 
UINT32
 
¥e˚dí˚OfRuÀ
,

3511 
ﬂm_˛asm¨k_ruÀbody_t
 *
p°ClsRuÀ
,

3512 
ﬂm_˛asm¨k_fõldbody_t
 *
p°ClsFõld
)

3514 
UINT32
 
	guiA˛RuÀTy≥
;

3515 
UINT32
 
	guiRem¨kPri
;

3516 
UINT32
 
	guiQueueM≠≥d
;

3517 
UINT32
 
	guiFõldNum
;

3518 
UINT32
 
	guiFõldId
;

3519 
ACL_CLF_RMK_VAL_EN
 
	gíRuÀVÆue
;

3522 
UINT8
 
	gaucSavedMacAdd1
[
MAC_ADDR_LEN
] = {0x01, 0x80, 0xC2, 0x0, 0x0, 0x3F};

3524 
UINT8
 
	gaucSavedMacAdd2
[
MAC_ADDR_LEN
] = {0x01, 0x0, 0x5E, 0x0, 0x0, 0x0};

3526 if((
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
)Ë|| (
NULL
 =
p°ClsRuÀ
Ë|| (NULL =
p°ClsFõld
))

3528 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

3529  
	gERROR
;

3532 
	guiFõldNum
 = (
UINT32
)(
p°ClsRuÀ
->
numOfFõld
);

3533 
	guiRem¨kPri
 = (
UINT32
)(
p°ClsRuÀ
->
ëhPriM¨k
);

3534 
	guiQueueM≠≥d
 = (
UINT32
)(
p°ClsRuÀ
->
queueM≠≥d
);

3537 i‡(
	guiFõldNum
 > 
	gCLF_RMK_RULES_IN_1_PRECEDENCE_MAX
)

3539  
	gERROR
;

3542 
	guiFõldId
 = 0; uiFõldId < 
	guiFõldNum
; uiFieldId++)

3544 
	gp°ClsFõld
->
	gfõldSñe˘
)

3546 
	gOAM_CTC_CLS_FIELD_TYPE_DA_MAC
 :

3548 
UINT8
 
aucZîoMacAdd
[
MAC_ADDR_LEN
] = {0};

3550 
mem˝y
(
íRuÀVÆue
.
aucMacAddr
, 
p°ClsFõld
->
m©chVÆue
, 
MAC_ADDR_LEN
);

3553 i‡–((0 =
memcmp
(
íRuÀVÆue
.
aucMacAddr
, 
aucSavedMacAdd1
, (
MAC_ADDR_LEN
 - 1))) &&

3554 (
	gíRuÀVÆue
.
	gaucMacAddr
[5] <
aucSavedMacAdd1
[5])) ||

3555 (0 =
memcmp
(
íRuÀVÆue
.
aucMacAddr
, 
aucSavedMacAdd2
, (
MAC_ADDR_LEN
 - 3))) )

3557  
	gERROR
;

3561 i‡(0 =
memcmp
(
íRuÀVÆue
.
aucMacAddr
, 
aucZîoMacAdd
, 
MAC_ADDR_LEN
))

3564 
	guiA˛RuÀTy≥
 = 
ACL_TRUST_PORT
;;

3569 
	guiA˛RuÀTy≥
 = 
ACL_TRUST_DMAC
;

3573 
	gOAM_CTC_CLS_FIELD_TYPE_SA_MAC
 :

3574 
uiA˛RuÀTy≥
 = 
ACL_TRUST_SMAC
;

3575 
mem˝y
(
íRuÀVÆue
.
aucMacAddr
, 
p°ClsFõld
->
m©chVÆue
, 
MAC_ADDR_LEN
);

3578 i‡–((0 =
memcmp
(
íRuÀVÆue
.
aucMacAddr
, 
aucSavedMacAdd1
, (
MAC_ADDR_LEN
 - 1))) &&

3579 (
	gíRuÀVÆue
.
	gaucMacAddr
[5] <
aucSavedMacAdd1
[5])) ||

3580 (0 =
memcmp
(
íRuÀVÆue
.
aucMacAddr
, 
aucSavedMacAdd2
, (
MAC_ADDR_LEN
 - 3))) )

3582  
	gERROR
;

3587 
	gOAM_CTC_CLS_FIELD_TYPE_ETH_PRI
 :

3588 
uiA˛RuÀTy≥
 = 
ACL_TRUST_CTAG_PRIO
;

3589 
	gíRuÀVÆue
.
	gulVÆue
 = 
p°ClsFõld
->
m©chVÆue
[5];

3591 
	gOAM_CTC_CLS_FIELD_TYPE_VLAN_ID
 :

3592 
uiA˛RuÀTy≥
 = 
ACL_TRUST_CTAG_VID
;

3593 
	gíRuÀVÆue
.
	gulVÆue
 = (
p°ClsFõld
->
m©chVÆue
[4]<<8) |ÖstClsField->matchValue[5];

3595 
	gOAM_CTC_CLS_FIELD_TYPE_ETHER_TYPE
 :

3596 
uiA˛RuÀTy≥
 = 
ACL_TRUST_ETHTYPE
;

3597 
	gíRuÀVÆue
.
	gulVÆue
 = (
p°ClsFõld
->
m©chVÆue
[4]<<8) |ÖstClsField->matchValue[5];

3599 
	gOAM_CTC_CLS_FIELD_TYPE_DST_IP
 :

3600 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_DIP
;

3601 
mem˝y
(&
íRuÀVÆue
.
ulVÆue
, &(
p°ClsFõld
->
m©chVÆue
[2]), (enRuleValue.ulValue));

3603 
	gOAM_CTC_CLS_FIELD_TYPE_SRC_IP
 :

3604 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_SIP
;

3605 
mem˝y
(&
íRuÀVÆue
.
ulVÆue
, &(
p°ClsFõld
->
m©chVÆue
[2]), (enRuleValue.ulValue));

3607 
	gOAM_CTC_CLS_FIELD_TYPE_IP_TYPE
 :

3608 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_PROTOCOL
;

3609 
	gíRuÀVÆue
.
	gulVÆue
 = 
p°ClsFõld
->
m©chVÆue
[5];

3614 
	gOAM_CTC_CLS_FIELD_TYPE_IP_DSCP
 :

3615 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_TOS
;

3616 
	gíRuÀVÆue
.
	gulVÆue
 = (
p°ClsFõld
->
m©chVÆue
[5] << 2 );

3620 
	gOAM_CTC_CLS_FIELD_TYPE_IP_PRECEDENCE
 :

3621 
uiA˛RuÀTy≥
 = 
ACL_TRUST_IPV4_TOS
;

3622 
	gíRuÀVÆue
.
	gulVÆue
 = 
p°ClsFõld
->
m©chVÆue
[5];

3625 
	gOAM_CTC_CLS_FIELD_TYPE_L4_SRC_PORT
 :

3629 
uiA˛RuÀTy≥
 = 
ACL_TRUST_TCP_SPORT
;

3630 
	gíRuÀVÆue
.
	gulVÆue
 = (
p°ClsFõld
->
m©chVÆue
[4]<<8) |ÖstClsField->matchValue[5];

3631 if(
	gDRV_OK
 !
Io˘l_AddCtcClfByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3632 
uiA˛RuÀTy≥
,

3633 (*)&
íRuÀVÆue
,

3634 
uiRem¨kPri
))

3636  
	gERROR
;

3639 if(
	gDRV_OK
 !
Io˘l_AddCtcClfPriToQueueByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3640 
uiQueueM≠≥d
))

3642  
	gERROR
;

3645 
	guiA˛RuÀTy≥
 = 
ACL_TRUST_UDP_SPORT
;

3647 
	gOAM_CTC_CLS_FIELD_TYPE_L4_DST_PORT
 :

3651 
uiA˛RuÀTy≥
 = 
ACL_TRUST_TCP_DPORT
;

3652 
	gíRuÀVÆue
.
	gulVÆue
 = (
p°ClsFõld
->
m©chVÆue
[4]<<8) |ÖstClsField->matchValue[5];

3653 if(
	gDRV_OK
 !
Io˘l_AddCtcClfByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3654 
uiA˛RuÀTy≥
,

3655 (*)&
íRuÀVÆue
,

3656 
uiRem¨kPri
))

3658  
	gERROR
;

3661 if(
	gDRV_OK
 !
Io˘l_AddCtcClfPriToQueueByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3662 
uiQueueM≠≥d
))

3664  
	gERROR
;

3667 
	guiA˛RuÀTy≥
 = 
ACL_TRUST_UDP_DPORT
;

3670  
ERROR
;

3673 if(
	gDRV_OK
 !
Io˘l_AddCtcClfByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3674 
uiA˛RuÀTy≥
,

3675 (*)&
íRuÀVÆue
,

3676 
uiRem¨kPri
))

3678  
	gERROR
;

3681 if(
	gDRV_OK
 !
Io˘l_AddCtcClfPriToQueueByP‹t
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
,

3682 
uiQueueM≠≥d
))

3684  
	gERROR
;

3689  
	gNO_ERROR
;

3695 
INT32
 
DRV_CtcDñClfRmkByPªc
(
UINT32
 
Õ‹t
, UINT32 
¥e˚dí˚OfRuÀ
)

3697 if(
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
))

3699  
ERROR
;

3702 if(
	gDRV_OK
 !
Io˘l_DñCtcClfByPªc
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
))

3704  
	gERROR
;

3707 if(
	gDRV_OK
 =
Io˘l_DñCtcClfPriToQueueByPªc
(
Õ‹t
, 
¥e˚dí˚OfRuÀ
))

3709  
	gERROR
;

3717 
INT32
 
DRV_CtcCÀ¨ClfRmkByP‹t
(
UINT32
 
Õ‹t
)

3719 if(
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
))

3721  
ERROR
;

3724 if(
	gDRV_OK
 !
Io˘l_CÀ¨CtcClfByP‹t
(
Õ‹t
))

3726  
ERROR
;

3729 if(
	gDRV_OK
 !
Io˘l_CÀ¨CtcClfPriToQueueByP‹t
(
Õ‹t
))

3731  
ERROR
;

3741 
INT32
 
DRV_CheckM⁄ô‹C⁄Êi˘
(
UINT8
 
Õ‹t
)

3743 
	gi
 = 0;

3744 
logic_pmask_t
 
	gﬂm_m⁄ô‹_lmask
 = {0x00};

3746 
SëLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, &
ﬂm_m⁄ô‹_lmask
);

3748 
	gi
 = 0; i < (
	glogic_pmask_t
); i++)

3750 i‡(–(((*)&
	gﬂm_m⁄ô‹_lmask
)[
i
]Ë& (((*)&
	gﬂm_ö_múr‹_lmask
)[i]) ) ||

3751 –(((*)&
	gﬂm_m⁄ô‹_lmask
)[
i
]Ë& (((*)&
	gﬂm_out_múr‹_lmask
)[i])) )

3753  
	gERROR
;

3757  
	gNO_ERROR
;

3764 
INT32
 
DRV_SëM⁄ô‹
(
UINT8
 
Õ‹t
, UINT8 
À«bÀ
)

3766 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

3767 
	gªt
 = 
DRV_OK
;

3769 
	gÕ‹t
 = 
Õ‹t
 - 1;

3771 if(
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
))

3773  
ERROR
;

3776 i‡(
	gDISABLE
 =
À«bÀ
)

3778 i‡(
ﬂm_m⁄ô‹_p‹t
 =(
UINT32
)
Õ‹t
)

3780 
ﬂm_m⁄ô‹_p‹t
 = 
MONITOR_PORT_DEFAULT_VALUE
;

3782 
Io˘l_SëMúr‹Group
(0xff, 
ﬂm_ö_múr‹_lmask
, 
ﬂm_out_múr‹_lmask
);

3784  
	gNO_ERROR
;

3787 i‡(
	gNO_ERROR
 !
DRV_CheckM⁄ô‹C⁄Êi˘
(
Õ‹t
))

3789  
ERROR
;

3792 
	gﬂm_m⁄ô‹_p‹t
 = (
UINT32
)
Õ‹t
;

3794 if(
LgcMaskNŸNuŒ
(&
ﬂm_ö_múr‹_lmask
Ë|| LgcMaskNŸNuŒ(&
ﬂm_out_múr‹_lmask
))

3796 
	gªt
 = 
Io˘l_SëMúr‹Group
(
ﬂm_m⁄ô‹_p‹t
, 
ﬂm_ö_múr‹_lmask
, 
ﬂm_out_múr‹_lmask
);

3799 if(
	gDRV_OK
 =
ªt
)

3801  
NO_ERROR
;

3805  
	gERROR
;

3808 
	gÕ‹t
 = 
Õ‹t
;

3809  
	gERROR
;

3824 
INT32
 
DRV_AddMúr‹
(
UINT8
 
Õ‹t
, 
UCHAR
 
ucMúr‹Dúe˘
)

3826 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

3827 
	gªt
 = 
DRV_OK
;

3828 
logic_pmask_t
 * 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = 
NULL
;

3829 
logic_pmask_t
 * 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = 
NULL
;

3832 
logic_pmask_t
 
	gﬂm_ö_múr‹_lmask_ãmp
 = {0x00};

3833 
logic_pmask_t
 
	gﬂm_out_múr‹_lmask_ãmp
 = {0x00};

3835 
mem˝y
(&
ﬂm_ö_múr‹_lmask_ãmp
, &
ﬂm_ö_múr‹_lmask
, (oam_in_mirror_lmask_temp));

3836 
mem˝y
(&
ﬂm_out_múr‹_lmask_ãmp
, &
ﬂm_out_múr‹_lmask
, (oam_out_mirror_lmask_temp));

3838 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = &
ﬂm_ö_múr‹_lmask_ãmp
;

3839 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = &
ﬂm_out_múr‹_lmask_ãmp
;

3841 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = &
ﬂm_ö_múr‹_lmask
;

3842 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = &
ﬂm_out_múr‹_lmask
;

3844 
	gÕ‹t
 = 
Õ‹t
 - 1;

3846 i‡((
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
)Ë|| (Õ‹à=
ﬂm_m⁄ô‹_p‹t
))

3848  
ERROR
;

3851 
	gucMúr‹Dúe˘
)

3853 
	gIN_MIRROR
 :

3854 
SëLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_ö_múr‹_lmask_ãmp
);

3855 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_out_múr‹_lmask_ãmp
);

3857 
	gOUT_MIRROR
 :

3858 
SëLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_out_múr‹_lmask_ãmp
);

3859 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_ö_múr‹_lmask_ãmp
);

3861 
	gBOTH_MIRROR
 :

3862 
SëLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_ö_múr‹_lmask_ãmp
);

3863 
SëLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_out_múr‹_lmask_ãmp
);

3866  
ERROR
;

3870 i‡((
LgcMaskNŸNuŒ
(
p°ﬂm_ö_múr‹_lmask_ãmp
)) &&

3871 (
LgcMaskNŸNuŒ
(
p°ﬂm_out_múr‹_lmask_ãmp
)) &&

3872 (0 !
memcmp
(
p°ﬂm_ö_múr‹_lmask_ãmp
, 
p°ﬂm_out_múr‹_lmask_ãmp
, (
ﬂm_out_múr‹_lmask_ãmp
))))

3874  
	gERROR
;

3877 
mem˝y
(&
ﬂm_ö_múr‹_lmask
, &
ﬂm_ö_múr‹_lmask_ãmp
, (oam_in_mirror_lmask_temp));

3878 
mem˝y
(&
ﬂm_out_múr‹_lmask
, &
ﬂm_out_múr‹_lmask_ãmp
, (oam_out_mirror_lmask_temp));

3880 if(
	gMONITOR_PORT_DEFAULT_VALUE
 =
ﬂm_m⁄ô‹_p‹t
)

3882  
NO_ERROR
;

3885 if(
LgcMaskNŸNuŒ
(&
ﬂm_ö_múr‹_lmask
Ë|| LgcMaskNŸNuŒ(&
ﬂm_out_múr‹_lmask
))

3887 
	gªt
 = 
Io˘l_SëMúr‹Group
(
ﬂm_m⁄ô‹_p‹t
, 
ﬂm_ö_múr‹_lmask
, 
ﬂm_out_múr‹_lmask
);

3890 if(
	gDRV_OK
 =
ªt
)

3892  
NO_ERROR
;

3896  
	gERROR
;

3899 
	gÕ‹t
 = 
Õ‹t
;

3900 
	gucMúr‹Dúe˘
 = 
ucMúr‹Dúe˘
;

3901  
	gERROR
;

3909 
INT32
 
DRV_DñMúr‹
(
UINT8
 
Õ‹t
, 
UCHAR
 
ucMúr‹Dúe˘
)

3911 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

3912 
	gªt
 = 
DRV_OK
;

3913 
logic_pmask_t
 * 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = 
NULL
;

3914 
logic_pmask_t
 * 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = 
NULL
;

3917 
logic_pmask_t
 
	gﬂm_ö_múr‹_lmask_ãmp
 = {0x00};

3918 
logic_pmask_t
 
	gﬂm_out_múr‹_lmask_ãmp
 = {0x00};

3920 
mem˝y
(&
ﬂm_ö_múr‹_lmask_ãmp
, &
ﬂm_ö_múr‹_lmask
, (oam_in_mirror_lmask_temp));

3921 
mem˝y
(&
ﬂm_out_múr‹_lmask_ãmp
, &
ﬂm_out_múr‹_lmask
, (oam_out_mirror_lmask_temp));

3923 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = &
ﬂm_ö_múr‹_lmask_ãmp
;

3924 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = &
ﬂm_out_múr‹_lmask_ãmp
;

3926 
	gp°ﬂm_ö_múr‹_lmask_ãmp
 = &
ﬂm_ö_múr‹_lmask
;

3927 
	gp°ﬂm_out_múr‹_lmask_ãmp
 = &
ﬂm_out_múr‹_lmask
;

3929 
	gÕ‹t
 = 
Õ‹t
 - 1;

3931 if(
	gFALSE
 =
IsVÆidLgcP‹t
((
p‹t_num_t
)
Õ‹t
))

3933  
ERROR
;

3936 
	gucMúr‹Dúe˘
)

3938 
	gIN_MIRROR
 :

3939 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_ö_múr‹_lmask_ãmp
);

3941 
	gOUT_MIRROR
 :

3942 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_out_múr‹_lmask_ãmp
);

3944 
	gBOTH_MIRROR
 :

3945 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_ö_múr‹_lmask_ãmp
);

3946 
CÃLgcMaskBô
((
p‹t_num_t
)
Õ‹t
, 
p°ﬂm_out_múr‹_lmask_ãmp
);

3949  
ERROR
;

3953 i‡((
LgcMaskNŸNuŒ
(
p°ﬂm_ö_múr‹_lmask_ãmp
)) &&

3954 (
LgcMaskNŸNuŒ
(
p°ﬂm_out_múr‹_lmask_ãmp
)) &&

3955 (0 !
memcmp
(
p°ﬂm_ö_múr‹_lmask_ãmp
, 
p°ﬂm_out_múr‹_lmask_ãmp
, (
ﬂm_out_múr‹_lmask_ãmp
))))

3957  
	gERROR
;

3960 
mem˝y
(&
ﬂm_ö_múr‹_lmask
, &
ﬂm_ö_múr‹_lmask_ãmp
, (oam_in_mirror_lmask_temp));

3961 
mem˝y
(&
ﬂm_out_múr‹_lmask
, &
ﬂm_out_múr‹_lmask_ãmp
, (oam_out_mirror_lmask_temp));

3963 if(
	gMONITOR_PORT_DEFAULT_VALUE
 =
ﬂm_m⁄ô‹_p‹t
)

3965  
NO_ERROR
;

3968 
	gªt
 = 
Io˘l_SëMúr‹Group
(
ﬂm_m⁄ô‹_p‹t
, 
ﬂm_ö_múr‹_lmask
, 
ﬂm_out_múr‹_lmask
);

3970 if(
	gDRV_OK
 =
ªt
)

3972  
NO_ERROR
;

3976  
	gERROR
;

3979 
	gÕ‹t
 = 
Õ‹t
;

3980 
	gucMúr‹Dúe˘
 = 
ucMúr‹Dúe˘
;

3981  
	gNO_ERROR
;

3991 
BOOL_T
 
C™RódO±icsPowî
()

3994 
UCHAR
 
	gaucD©a
[
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
+1] = {0};

3995 
UCHAR
 
	gaucZîoD©a
[
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
];

3996 
	giRë
 = 
NO_ERROR
;

3998 
	giRë
 = 
i2cRódR™dom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS1
,

3999 
IIC_OPTICS_TRANSCEIVER_VENDOR_PN_FIRST_REGISTER
,

4000 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
,

4001 &
aucD©a
[0]);

4003 i‡(
	gNO_ERROR
 !
iRë
)

4005  
BOOL_FALSE
;

4008 
MEM_SET_ZERO
(
aucZîoD©a
, 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
);

4010 i‡(0 =
MEM_COMPARE
(
aucD©a
, 
aucZîoD©a
, 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
))

4012  
	gBOOL_FALSE
;

4015  
	gBOOL_TRUE
;

4022 
ULONG
 
Drv_GëO±icsTønsmôPowî
(
USHORT
 *
pusTønsPowî
)

4024 
UINT8
 
	gaucTønsPowî
[2] = {0};

4025 
	giRë
 = 
NO_ERROR
;

4027 if(
	gNULL
 =
pusTønsPowî
)

4029  
VOS_ERR
;

4032 i‡(
	gBOOL_TRUE
 !
C™RódO±icsPowî
())

4034  
VOS_NOT_SUPPORT
;

4037 
	giRë
 = 
i2cRódR™dom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4038 
IIC_OPTICS_TRANSCEIVER_TXPOWER_MSB_REGISTER
,

4040 &
aucTønsPowî
[0]);

4042 i‡(0 > 
	giRë
)

4044  
	gVOS_ERR
;

4047 *
	gpusTønsPowî
 = (
aucTønsPowî
[
OFFSET_MSB
] << 8UË|áucTønsPowî[
OFFSET_LSB
];

4049  
	gVOS_OK
;

4059 
ULONG
 
Drv_GëO±icsRe˚ivePowî
(
USHORT
 *
pusRe˚ivPowî
)

4061 
UINT8
 
	gaucRe˚iPowî
[2] = {0};

4062 
	giRë
 = 
NO_ERROR
;

4064 if(
	gNULL
 =
pusRe˚ivPowî
)

4066  
VOS_ERR
;

4069 i‡(
	gBOOL_TRUE
 !
C™RódO±icsPowî
())

4071  
VOS_ERR
;

4074 
	giRë
 = 
i2cRódR™dom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4075 
IIC_OPTICS_TRANSCEIVER_RXPOWER_MSB_REGISTER
,

4077 
aucRe˚iPowî
);

4078 i‡(0 > 
	giRë
)

4080  
	gVOS_ERR
;

4082 *
	gpusRe˚ivPowî
 = (
aucRe˚iPowî
[
OFFSET_MSB
] << 8UË|áucRe˚iPowî[
OFFSET_LSB
];

4084  
	gVOS_OK
;

4087 
gëDigô
(
usNumbî
)

4089 
	gi
 = 0;

4090 
	gusTempNum
 = 
usNumbî
;

4091 
	gusTempNum
)

4093 
	gusTempNum
 = 
usTempNum
/10;

4094 
	gi
++;

4096  
	gi
;

4098 
födPowî
(
dPowîD©a
)

4100 
	gi
;

4101 if(
	gdPowîD©a
 <0.0 || dPowerData >10.0)

4104 
	gi
 = 0; i<100; i++)

4106 if(
	gdPowîD©a
 - 
	gg_adPowî
[
i
][0] < 0.000001 && dPowerData - g_adPower[i][0] > -0.000001)

4107  
	gg_adPowî
[
i
][1];

4111 
GëO±ics
(
usPowîD©a
)

4113 
	giDigô
;

4114 
	gdPowîD©a
;

4115 
	gdPowî
;

4117 
	giDigô

gëDigô
(
usPowîD©a
);

4119 
	giDigô
)

4122 
dPowîD©a
 = ()
usPowîD©a
/10.0;

4123 
	gdPowî
 = 10*(
födPowî
(
dPowîD©a
) + 1.0 -4.0);

4126 
dPowîD©a
 = ()(()((
usPowîD©a
 % 10)/1))/10.0;

4128 
	gdPowîD©a
 = 
dPowîD©a
+ ()(
usPowîD©a
/10);

4129 
	gdPowî
 = 10*(
födPowî
(
dPowîD©a
) + 1.0 -4.0);

4132 
dPowîD©a
 = ()(()((
usPowîD©a
 % 100)/10))/10.0;

4133 
	gdPowîD©a
 = 
dPowîD©a
+ ()(
usPowîD©a
/100);

4134 
	gdPowî
 = 10*(
födPowî
(
dPowîD©a
) + 2.0 -4.0);

4137 
dPowîD©a
 = ()(()((
usPowîD©a
 % 1000)/100))/10.0;

4138 
	gdPowîD©a
 = 
dPowîD©a
+ ()(
usPowîD©a
/1000);

4139 
	gdPowî
10*(
födPowî
(
dPowîD©a
) + 3.0 -4.0);

4142 
dPowîD©a
()(()((
usPowîD©a
 % 10000)/1000))/10.0;

4143 
	gdPowîD©a

dPowîD©a
+ ()(
usPowîD©a
/10000);

4144 
	gdPowî
10*(
födPowî
(
dPowîD©a
) + 4.0 -4.0);

4147 
dPowî
 = 0.0;

4151  
	gdPowî
;

4165 
ULONG
 
Drv_GëO±icsPowî
(
FLOAT
 *
pRe˚ivPowî
, FLOAT *
pTønsPowî
)

4167 
ULONG
 
	gulRë
 = 
VOS_OK
;

4168 
USHORT
 
	gusRe˚ivPowî
 = 0;

4169 
USHORT
 
	gusTønsPowî
 = 0;

4171 if((
	gNULL
 =
pRe˚ivPowî
Ë|| (
NULL
 =
pTønsPowî
))

4173  
VOS_ERR
;

4176 
	gulRë
 = 
Drv_GëO±icsRe˚ivePowî
(&
usRe˚ivPowî
);

4177 
	gulRë
 +
Drv_GëO±icsTønsmôPowî
(&
usTønsPowî
);

4179 i‡(
	gVOS_OK
 !
ulRë
)

4181  
VOS_ERR
;

4184 if((
	gFALSE
 =
g_bP⁄Los
Ë&& (
BOOL_FALSE
 =
g_bLightAlways
))

4186 *
pRe˚ivPowî
 = 
MIN_RECIVE_OPTIC_POWER
;

4187 *
	gpTønsPowî
 = 
MIN_RECIVE_OPTIC_POWER
;

4193 *
	gpRe˚ivPowî
 = (
FLOAT
)
GëO±ics
(
usRe˚ivPowî
);

4194 *
	gpTønsPowî
 = (
FLOAT
)
GëO±ics
(
usTønsPowî
);

4195 
CHECK_OPTIC_POWER
(*
pRe˚ivPowî
);

4196 
CHECK_OPTIC_POWER
(*
pTønsPowî
);

4198  
	gVOS_OK
;

4204 
ULONG
 
Drv_GëO±icsTem≥øtuª
(
SHORT
 *
psTem¥©rue
, 
USHORT
 *
psVﬁège
, USHORT *
psBüs
)

4206 
UINT8
 
	gaucD©a
[6] = {0};

4207 sig√d 
	gcD©a
 = 0;

4208 
	giRë
 = 
NO_ERROR
;

4210 if((
	gNULL
 =
psTem¥©rue
Ë|| (
NULL
 =
psVﬁège
Ë|| (NULL =
psBüs
))

4212  
VOS_ERR
;

4215 i‡(
	gBOOL_TRUE
 !
C™RódO±icsPowî
())

4217  
VOS_ERR
;

4220 
	giRë
 = 
i2cRódR™dom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4221 
IIC_OPTICS_TRANSCEIVER_TEMPERATURE_MSB_REGISTER
,

4223 &
aucD©a
[0]);

4224 i‡(0 > 
	giRë
)

4226  
	gVOS_ERR
;

4229 
	gcD©a
 = ()
aucD©a
[0];

4230 *
	gpsTem¥©rue
 = 
cD©a
;

4232 *
	gpsVﬁège
 = (
aucD©a
[
OFFSET_MSB
 + 2] << 8UË|áucD©a[
OFFSET_LSB
 + 2];

4233 *
	gpsBüs
 = (
aucD©a
[
OFFSET_MSB
 + 4] << 8UË|áucD©a[
OFFSET_LSB
 + 4];

4235  
	gVOS_OK
;

4241 
INT32
 
DRV_GëP‹tQöqCfg
(
UINT32
 
uiLP‹tId
, 
PORT_QINQ_S
 *
p°QöqCfg
)

4245 
mem˝y
(
p°QöqCfg
, 
g_a°UniQöqMode
 + 
uiLP‹tId
, (
PORT_QINQ_S
));

4248  
	gNO_ERROR
;

4255 
INT32
 
DRV_SëP‹tQöqCfg
(
UINT32
 
uiLP‹tId
, 
PORT_QINQ_S
 *
p°QöqCfg
)

4258 
mem˝y
(
g_a°UniQöqMode
 + 
uiLP‹tId
, 
p°QöqCfg
, (
PORT_QINQ_S
));

4261  
	gNO_ERROR
;

4267 
STATIC
 
INT32
 
DRV_CheckVœnF‹QöqMode
(
UINT32
 
uiLP‹tId
, UINT32 
uiVœnId
)

4269 
UINT32
 
	guiLP‹tIndex
;

4270 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

4273 
mem£t
(&
°VœnMode
, 0, (stVlanMode));

4275 
	guiLP‹tIndex
 = 1; uiLP‹tIndex <
MAX_PORT_NUM
; uiLPortIndex++)

4277 i‡(
	guiLP‹tIndex
 =
uiLP‹tId
)

4283 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

4284 if(
	gNO_ERROR
 !
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
))

4289 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

4291 
UINT32
 
uiVœnIndex
;

4293 
	guiVœnIndex
 = 0; uiVœnIndex < 
	g°VœnMode
.
	gnumbî_of_íåõs
; uiVlanIndex++)

4296 i‡((
	g°VœnMode
.
	gvœn_li°
[
uiVœnIndex
*2] !
°VœnMode
.
vœn_li°
[uiVlanIndex*2 + 1]) &&

4297 ((
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2]) ||

4298 (
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2 + 1])))

4300  
FALSE
;

4306  
	gTRUE
;

4312 
INT32
 
DRV_Re£tQöqPvid
(
UINT32
 
uiLP‹tId
)

4314 
INT32
 
	giRë
 = 
NO_ERROR
;

4315 
UINT32
 
	guiPvid
 = 0;

4316 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

4317 
PORT_QINQ_S
 
	g°QöqCfg
;

4320 
mem£t
(&
°VœnMode
, 0, (stVlanMode));

4322 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

4323 
	giRë
 = 
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

4324 i‡(
	gNO_ERROR
 !
iRë
)

4326 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4327  
	gERROR
;

4332 
	giRë
 = 
DRV_GëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4333 i‡(
	gNO_ERROR
 !
iRë
)

4335  
ERROR
;

4338 i‡(
	gTRUE
 !
°QöqCfg
.
bE«bÀ
)

4340  
NO_ERROR
;

4344 
	guiPvid
 = 
°QöqCfg
.
uiPvid
;

4346 
	giRë
 = 
dÆQöqPvidReSë
(
uiPvid
, 0);

4347 i‡(
	gNO_ERROR
 !
iRë
)

4349 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4350  
	gERROR
;

4353 
	g°QöqCfg
.
	gbE«bÀ
 = 
FALSE
;

4355 
	giRë
 = 
DRV_SëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4356 i‡(
	gNO_ERROR
 !
iRë
)

4358  
ERROR
;

4361  
	gNO_ERROR
;

4367 
INT32
 
DRV_E«bÀP‹tQöq
(
UINT32
 
uiLP‹tId
, UINT32 
uiTpid
, UINT32 
uiPvid
, UINT32 
uiPri‹ôy
)

4369 
INT32
 
	giRë
 = 
NO_ERROR
;

4370 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

4371 
PORT_QINQ_S
 
	g°QöqCfg
;

4374 
mem£t
(&
°VœnMode
, 0, (stVlanMode));

4376 
	giRë
 = 
DRV_GëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4377 i‡(
	gNO_ERROR
 !
iRë
)

4379 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4380  
	gERROR
;

4383 i‡((
	gTRUE
 =
°QöqCfg
.
bE«bÀ
) &&

4384 (
uiPvid
 =
°QöqCfg
.uiPvid) &&

4385 (
uiTpid
 =
°QöqCfg
.uiTpid) &&

4386 (
uiPri‹ôy
 =
°QöqCfg
.uiPriority))

4388  
NO_ERROR
;

4392 
	giRë
 = 
DRV_CheckVœnF‹QöqMode
(
uiLP‹tId
, 
uiPvid
);

4393 i‡(
	gFALSE
 =
iRë
)

4395 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4396  
	gERROR
;

4400 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

4401 
	giRë
 = 
CTC_DRV_SëTøn•¨ítVœn
(
uiLP‹tId
);

4402 i‡(
	gNO_ERROR
 !
iRë
)

4404 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4405  
	gERROR
;

4409 
	giRë
 = 
dÆQöqPvidSë
(
uiPvid
, 
uiPri‹ôy
);

4410 i‡(
	gNO_ERROR
 !
iRë
)

4412 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4413  
	gERROR
;

4416 
	g°VœnMode
.
	gdeÁu…_vœn
 = 
uiPvid
;

4417 
	g°VœnMode
.
	gmode
 = 
CTC_VLAN_MODE_QINQ
;

4418 
	g°VœnMode
.
	gnumbî_of_íåõs
 = 0;

4420 #i‡!
deföed
(
CONFIG_PRODUCT_EPN200
)

4421 
	giRë
 = 
_CTC_SëP‹tVœnModeCfg
(
uiLP‹tId
, &
°VœnMode
);

4422 i‡(
	gNO_ERROR
 !
iRë
)

4424 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4425  
	gERROR
;

4429 
	g°QöqCfg
.
	gbE«bÀ
 = 
TRUE
;

4430 
	g°QöqCfg
.
	guiPvid
 = 
uiPvid
;

4431 
	g°QöqCfg
.
	guiTpid
 = 
uiTpid
;

4432 
	g°QöqCfg
.
	guiPri‹ôy
 = 
uiPri‹ôy
;

4434 
	giRë
 = 
DRV_SëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4435 i‡(
	gNO_ERROR
 !
iRë
)

4437 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

4438  
	gERROR
;

4441  
	gNO_ERROR
;

4461 
STATIC
 
BOOL
 
DRV_CheckQöqCfg
(
UINT32
 
uiLP‹tId
, 
QINQ_CTAG_STAG_ENTRY_S
 *
p°QöqCfg
)

4463 
UINT32
 
	gi
,
	gj
;

4464 
PORT_QINQ_S
 
	g°QöqCfg
;

4469 
	gi
 = 1; i <
MAX_PORT_NUM
; i++)

4471 (
	gVOID
)
DRV_GëP‹tQöqCfg
(
i
, &
°QöqCfg
);

4476 i‡(
	gi
 =
uiLP‹tId
)

4478 
j
 = 0; 
	gj
 < 
	g°QöqCfg
.
	guiCègSègE¡ryNum
; j++)

4480 i‡(
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiSègVid
 !
p°QöqCfg
->
uiSègVid
)

4482 
UINT32
 
uiOldCègIndex
;

4483 
UINT32
 
	guiNewCègIndex
;

4485 
	guiOldCègIndex
 = 0; uiOldCègIndex < 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiCègVidNum
; uiOldCtagIndex++)

4487 
	guiNewCègIndex
 = 0; uiNewCègIndex < 
	gp°QöqCfg
->
	guiCègVidNum
; uiNewCtagIndex++)

4489 i‡((
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiSègVid
 =
p°QöqCfg
->
auiCègVid
[
uiNewCègIndex
]) ||

4490 (
°QöqCfg
.
a°CègSègE¡ry
[
j
].
auiCègVid
[
uiOldCègIndex
] =
p°QöqCfg
->auiCègVid[
uiNewCègIndex
]))

4492  
FALSE
;

4496 i‡(
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	gauiCègVid
[
uiOldCègIndex
] =
p°QöqCfg
->
uiSègVid
)

4498  
FALSE
;

4508 
	gj
 = 0; j < 
	g°QöqCfg
.
	guiCègSègE¡ryNum
; j++)

4512 i‡(
	gTRUE
 =
°QöqCfg
.
a°CègSègE¡ry
[
j
].
bAŒCègVid
)

4514 i‡((
MAX_VLAN_NUM
 - 1Ë!
p°QöqCfg
->
uiCègVidNum
)

4516  
FALSE
;

4518 i‡(
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiSègVid
 !
p°QöqCfg
->
uiSègVid
)

4520  
FALSE
;

4530 i‡((
	gMAX_VLAN_NUM
 - 1Ë=
p°QöqCfg
->
uiCègVidNum
)

4532  
FALSE
;

4536 i‡(
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiSègVid
 =
p°QöqCfg
->
uiSègVid
)

4538  
FALSE
;

4542 
UINT32
 
	guiOldCègIndex
;

4543 
UINT32
 
	guiNewCègIndex
;

4545 
	guiOldCègIndex
 = 0; uiOldCègIndex < 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	guiCègVidNum
; uiOldCtagIndex++)

4547 
	guiNewCègIndex
 = 0; uiNewCègIndex < 
	gp°QöqCfg
->
	guiCègVidNum
; uiNewCtagIndex++)

4549 i‡(
	g°QöqCfg
.
	ga°CègSègE¡ry
[
j
].
	gauiCègVid
[
uiOldCègIndex
] =
p°QöqCfg
->
auiCègVid
[
uiNewCègIndex
])

4551  
FALSE
;

4561  
	gTRUE
;

4583 
STATIC
 
INT32
 
DRV_Cª©eUpSåómCœssF‹Qöq
(
UINT32
 
uiLP‹tId
, UINT32 
uiSègVid
, UINT32 
uiCègVid
, *
p°rCœssName
)

4585 
INT32
 
	gRë
;

4593 
	gRë
 = 
odmCª©eCœss
(
p°rCœssName
);

4594 i‡(
	gQOS_OK
 !
Rë
)

4596 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4597  
	gERROR
;

4601 
	gRë
 = 
odmCfgCœssFVid
(
p°rCœssName
,(
UINT16
)
uiCègVid
,
CLASS_ADD
);

4602 i‡(
	gQOS_OK
 !
Rë
)

4604 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4605  
	gERROR
;

4609 
	gRë
 = 
odmCfgCœssRmkVid
(
p°rCœssName
, 
INSERTVID
, (
UINT16
)
uiSègVid
, 
CLASS_ADD
);

4610 i‡(
	gQOS_OK
 !
Rë
)

4612 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4613  
	gERROR
;

4617 
	gRë
 = 
odmIn°ÆlCœssE¡ry
(
p°rCœssName
, 
UP_STREAM_
, 
NULL
);

4618 i‡(
	gQOS_OK
 !
Rë
)

4620 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4621  
	gERROR
;

4624  
	gNO_ERROR
;

4644 
STATIC
 
INT32
 
DRV_Cª©eDownSåómCœssF‹Qöq
(
UINT32
 
uiLP‹tId
, UINT32 
uiSègVid
, *
p°rCœssName
)

4646 
INT32
 
	gRë
;

4653 
	gRë
 = 
odmCª©eCœss
(
p°rCœssName
);

4654 i‡(
	gQOS_OK
 !
Rë
)

4656 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4657  
	gERROR
;

4661 
	gRë
 = 
odmCfgCœssFVid
(
p°rCœssName
,(
UINT16
)
uiSègVid
,
CLASS_ADD
);

4662 i‡(
	gQOS_OK
 !
Rë
)

4664 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4665  
	gERROR
;

4670 
	gRë
 = 
odmCfgCœssRmkVid
(
p°rCœssName
, 
CHANGEVID
, 
VLAN_ID_0
, 
CLASS_ADD
);

4671 i‡(
	gQOS_OK
 !
Rë
)

4673 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4674  
	gERROR
;

4678 
	gRë
 = 
odmIn°ÆlCœssE¡ry
(
p°rCœssName
, 
DOWN_STREAM_
, 
NULL
);

4679 i‡(
	gNO_ERROR
 !
Rë
)

4681 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4682  
	gERROR
;

4685  
	gNO_ERROR
;

4705 
INT32
 
DRV_SëP‹tQöq
(
UINT32
 
uiLP‹tId
, 
QINQ_CTAG_STAG_ENTRY_S
 *
p°QöqCfg
)

4707 
INT32
 
	gRë
;

4708 
UINT32
 
	gi
;

4709 
UINT32
 
	guiEnm±yE¡yIndex
 = 
MAX_QINQ_CTAG_STAG_ENTRY
;

4710 
	g°rQöqCœssName
[
QINQ_CLASS_NAME_LEN
] = {0};

4711 
PORT_QINQ_S
 
	g°QöqCfg
;

4716 
mem£t
(&
°QöqCfg
, 0, (stQinqCfg));

4717 
	gRë
 = 
DRV_GëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4718 i‡(
	gNO_ERROR
 !
Rë
)

4720 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4721  
	gERROR
;

4724 i‡(
	gTRUE
 !
°QöqCfg
.
bE«bÀ
)

4726 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4727  
	gERROR
;

4730 i‡(
	gMAX_QINQ_CTAG_STAG_ENTRY
 <
°QöqCfg
.
uiCègSègE¡ryNum
)

4732 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4733  
	gERROR
;

4736 i‡(
	gFALSE
 =
DRV_CheckQöqCfg
(
uiLP‹tId
, 
p°QöqCfg
))

4738 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4739  
	gERROR
;

4743 i‡(
	gp°QöqCfg
->
	guiSègVid
 =
°QöqCfg
.
uiPvid
)

4745 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4746  
	gERROR
;

4750 i‡((
	gMAX_VLAN_NUM
 - 1Ë!
p°QöqCfg
->
uiCègVidNum
)

4752 
i
 = 0; 
	gi
 < 
	gp°QöqCfg
->
	guiCègVidNum
; i++)

4754 i‡(
	gp°QöqCfg
->
	gauiCègVid
[
i
] =
°QöqCfg
.
uiPvid
)

4756 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4757  
	gERROR
;

4762 
	gi
 = 0; i < 
	gMAX_QINQ_CTAG_STAG_ENTRY
; i++)

4765 i‡(
	gDEFAULT_SVLAN_ID
 =
°QöqCfg
.
a°CègSègE¡ry
[
i
].
uiSègVid
)

4767 i‡(
MAX_QINQ_CTAG_STAG_ENTRY
 =
uiEnm±yE¡yIndex
)

4769 
uiEnm±yE¡yIndex
 = 
i
;

4775 i‡(
	gMAX_QINQ_CTAG_STAG_ENTRY
 <
uiEnm±yE¡yIndex
)

4777 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4778  
	gERROR
;

4783 i‡((
	gMAX_VLAN_NUM
 - 1Ë=
p°QöqCfg
->
uiCègVidNum
)

4785 
Rë
 = 
HÆQöqClfSë
((
UINT16
)
p°QöqCfg
->
uiSègVid
, 
UP_STREAM
);

4786 i‡(
	gOPL_OK
 !
Rë
)

4788 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4789  
	gERROR
;

4793 
	gRë
 = 
dÆVâE¡ryTagAdd
(
TRUE
, TRUE, (
UINT16
)
°QöqCfg
.
uiPvid
, (UINT16)stQinqCfg.uiPvid);

4794 i‡(
	gOPL_OK
 !
Rë
)

4796 
DRV_DEBUG_PRINT
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

4797  
	gERROR
;

4800 
	g°QöqCfg
.
	ga°CègSègE¡ry
[0].
	gbAŒCègVid
 = 
TRUE
;

4805 i‡(
	gMAX_QINQ_CTAG_NUM
 < 
	gp°QöqCfg
->
	guiCègVidNum
)

4807 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4808  
	gERROR
;

4811 
	gi
 = 0; i < 
	gp°QöqCfg
->
	guiCègVidNum
; i++)

4813 
•rötf
(
°rQöqCœssName
, "p‹t%02dqöqup°ag%04d˘ag%04d",
uiLP‹tId
,
p°QöqCfg
->
uiSègVid
,p°QöqCfg->
auiCègVid
[
i
]);

4814 
	gRë
 = 
DRV_Cª©eUpSåómCœssF‹Qöq
(
uiLP‹tId
, 
p°QöqCfg
->
uiSègVid
,Ö°QöqCfg->
auiCègVid
[
i
], 
°rQöqCœssName
);

4815 i‡(
	gNO_ERROR
 !
Rë
)

4817 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4818  
	gERROR
;

4821 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
	guiCègVidNum
++;

4822 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
	gauiCègVid
[
i
] = 
p°QöqCfg
->
auiCègVid
[i];

4823 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
	guiA˛CœssNum
++;

4824 
°r˝y
(
°QöqCfg
.
a°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
a°rA˛CœssName
[
i
],
°rQöqCœssName
);

4825 
DRV_DEBUG_PRINT
("\nCª©êCœs†%s, index %dÇum:%d.\n",
°QöqCfg
.
a°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
a°rA˛CœssName
[
i
],uiEnmptyEntyIndex,i);

4830 
•rötf
(
°rQöqCœssName
, "p‹t%02dqöqdown°ag%04d",
uiLP‹tId
,
p°QöqCfg
->
uiSègVid
);

4831 
	gRë
 = 
DRV_Cª©eDownSåómCœssF‹Qöq
(
uiLP‹tId
, 
p°QöqCfg
->
uiSègVid
, 
°rQöqCœssName
);

4832 i‡(
	gNO_ERROR
 !
Rë
)

4834 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4835  
	gERROR
;

4838 
°r˝y
(
°QöqCfg
.
a°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
a°rA˛CœssName
[°QöqCfg.a°CègSègE¡ry[uiEnm±yE¡yIndex].
uiA˛CœssNum
],
°rQöqCœssName
);

4839 
DRV_DEBUG_PRINT
("\nCª©êCœs†%s.\n",
°QöqCfg
.
a°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
a°rA˛CœssName
[°QöqCfg.a°CègSègE¡ry[uiEnm±yE¡yIndex].
uiA˛CœssNum
]);

4840 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
	guiA˛CœssNum
++;

4841 
	g°QöqCfg
.
	guiCègSègE¡ryNum
++;

4842 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
uiEnm±yE¡yIndex
].
	guiSègVid
 = 
p°QöqCfg
->
uiSègVid
;

4843 
	gRë
 = 
DRV_SëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4844 i‡(
	gNO_ERROR
 !
Rë
)

4846 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4847  
	gERROR
;

4850  
	gNO_ERROR
;

4869 
INT32
 
DRV_Re£tP‹tQöq
(
UINT32
 
uiLP‹tId
)

4871 
INT32
 
	giRë
;

4872 
UINT32
 
	gi
,
	gj
;

4873 
PORT_QINQ_S
 
	g°QöqCfg
;

4877 
	giRë

DRV_GëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4878 i‡(
	gNO_ERROR
 !
iRë
)

4880 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4881  
	gERROR
;

4884 i‡(
	gTRUE
 !
°QöqCfg
.
bE«bÀ
)

4886  
NO_ERROR
;

4889 
	gi
 = 0; i < 
	g°QöqCfg
.
	guiCègSègE¡ryNum
; i++)

4892 i‡(
	gTRUE
 =
°QöqCfg
.
a°CègSègE¡ry
[
i
].
bAŒCègVid
)

4894 
iRë
 = 
HÆQöqClfRe£t
();

4895 i‡(
	gNO_ERROR
 !
iRë
)

4897 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4898  
	gERROR
;

4902 
	giRë
 = 
dÆVâE¡ryTagAdd
(
FALSE
, 
TRUE
, (
UINT16
)
°QöqCfg
.
uiPvid
, (UINT16)stQinqCfg.uiPvid);

4903 i‡(
	gNO_ERROR
 !
iRë
)

4905 
DRV_DEBUG_PRINT
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

4906  
	gERROR
;

4910 
	gj
 = 0; j < 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	guiA˛CœssNum
; j++)

4912 
DRV_DEBUG_PRINT
("\nRemovê˛as†%s,É¡ry:%d,Çum:%d.\n",
°QöqCfg
.
a°CègSègE¡ry
[
i
].
a°rA˛CœssName
[
j
],i,j);

4914 
	giRë
 = 
odmRemoveCœssE¡ry
(
°QöqCfg
.
a°CègSègE¡ry
[
i
].
a°rA˛CœssName
[
j
], 1);

4915 i‡((
	gNO_ERROR
 !
iRë
) &&

4916 (
QOS_CLS_EXIST_CHECK_ERROR
 !
iRë
))

4918 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4919  
	gERROR
;

4923 
	giRë
 = 
odmDe°royCœss
(
°QöqCfg
.
a°CègSègE¡ry
[
i
].
a°rA˛CœssName
[
j
]);

4924 i‡(
	gQOS_OK
 !
iRë
)

4926 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4927  
	gERROR
;

4930 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	ga°rA˛CœssName
[
j
][0] = '\0';

4933 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	gbAŒCègVid
 = 
FALSE
;

4934 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	guiA˛CœssNum
 = 0;

4935 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	guiCègVidNum
 = 0;

4936 
	g°QöqCfg
.
	ga°CègSègE¡ry
[
i
].
	guiSègVid
 = 
DEFAULT_SVLAN_ID
;

4939 
	g°QöqCfg
.
	guiCègSègE¡ryNum
 = 0;

4940 
	giRë

DRV_SëP‹tQöqCfg
(
uiLP‹tId
, &
°QöqCfg
);

4941 i‡(
	gNO_ERROR
 !
iRë
)

4943 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

4944  
	gERROR
;

4947  
	gNO_ERROR
;

4970 
INT32
 
DRV_GëSwôchU∂ökLP‹t
(
UINT32
 *
puiLP‹t
)

4972 if(
	gpuiLP‹t
 =
NULL
)

4974  
ERROR
;

4977 *
	gpuiLP‹t
 = 
LOGIC_PON_PORT
;

4979  
	gNO_ERROR
;

5000 
INT32
 
DRV_AddP‹t2Mˇ°Addr
(
UINT32
 
uiLP‹t
, UINT32 
uiVœn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

5002 
DRV_RET_E
 
	gRë
;

5003 
vœn_id_t
 
	gtdVid
;

5004 
mac_addªss_t
 
	g°MacAddªss
;

5005 
mac_mˇ°_t
 
	g°MacMˇ°
;

5006 
logic_pmask_t
 
	g°LP‹tMask
;

5008 i‡((
	gNULL
 =
aucMac
Ë|| (
FALSE
 =
IsVÆidLgcP‹t
(
uiLP‹t
))||(
MAX_VLAN_ID
 < 
uiVœn
))

5010  
ERROR
;

5012 
CÃLgcMaskAŒ
(&
°LP‹tMask
);

5013 
SëLgcMaskBô
(
uiLP‹t
,&
°LP‹tMask
);

5015 
mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

5016 
mem£t
(&
°MacAddªss
, 0, (stMacAddress));

5017 
mem˝y
(
°MacAddªss
, 
aucMac
, 
MAC_ADDR_LEN
);

5019 
	gtdVid
 = (
vœn_id_t
)
uiVœn
;

5021 
	gRë
 = 
Io˘l_GëMacMˇ°Mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

5023 
	gRë
 = 
Io˘l_˘c_mc_gë_mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

5026 i‡(
	gDRV_ERR_MAC_ADDR_NOT_FOUND
 =
Rë
)

5028 
mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

5029 
	g°MacMˇ°
.
	gtdVid
 = 
tdVid
;

5030 
LgcMaskC›y
(&
°MacMˇ°
.
p‹t_mask
,&
°LP‹tMask
);

5032 i‡(
	gDRV_OK
 =
Rë
)

5034 
LgcMaskOr
(&(
°MacMˇ°
.
p‹t_mask
), &
°LP‹tMask
);

5038  
	gERROR
;

5041 
mem˝y
(
°MacMˇ°
.
mac_addr
, 
°MacAddªss
, (
mac_addªss_t
));

5043 
düg_¥ötf
("\n%†p‹tmsk:0x%04X mc-ma¯%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

5044 
°LP‹tMask
.
pbôs
[0],
°MacMˇ°
.
mac_addr
[0],stMacMcast.mac_addr[1],

5045 
°MacMˇ°
.
mac_addr
[2],stMacMcast.mac_addr[3],

5046 
°MacMˇ°
.
mac_addr
[4],stMacMcast.mac_addr[5]);

5048 
	gRë
 = 
Io˘l_SëMacSëMˇ°Mac
(
°MacMˇ°
);

5050 
	gRë
 = 
Io˘l_˘c_mc_£t_mac
(
°MacMˇ°
);

5052 i‡(
	gDRV_OK
 !
Rë
)

5054  
ERROR
;

5057  
	gNO_ERROR
;

5077 
INT32
 
DRV_DñP‹tFromMˇ°Addr
(
UINT32
 
uiLP‹t
, UINT32 
uiVœn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

5079 
DRV_RET_E
 
	gRë
;

5080 
vœn_id_t
 
	gtdVid
;

5081 
mac_addªss_t
 
	g°MacAddªss
;

5082 
mac_mˇ°_t
 
	g°MacMˇ°
;

5083 
logic_pmask_t
 
	g°LP‹tMask
;

5085 i‡((
	gNULL
 =
aucMac
Ë|| (
FALSE
 =
IsVÆidLgcP‹t
(
uiLP‹t
))||(
MAX_VLAN_ID
 < 
uiVœn
))

5087 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

5088  
	gERROR
;

5090 
CÃLgcMaskAŒ
(&
°LP‹tMask
);

5091 
SëLgcMaskBô
(
uiLP‹t
,&
°LP‹tMask
);

5093 
mem£t
(&
°MacMˇ°
, 0, (stMacMcast));

5094 
mem˝y
(&
°MacAddªss
[0], 
aucMac
, (stMacAddress));

5096 
	gtdVid
 = (
vœn_id_t
)
uiVœn
;

5098 
	gRë
 = 
Io˘l_GëMacMˇ°Mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

5100 
	gRë
 = 
Io˘l_˘c_mc_gë_mac
(
tdVid
, 
°MacAddªss
, &
°MacMˇ°
);

5102 if(
	gDRV_OK
 =
Rë
)

5104 
mem˝y
(
°MacMˇ°
.
mac_addr
, 
°MacAddªss
, (
mac_addªss_t
));

5106 
düg_¥ötf
("\n%†p‹tmsk:0x%04X mc-ma¯%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

5107 
°LP‹tMask
.
pbôs
[0],
°MacMˇ°
.
mac_addr
[0],stMacMcast.mac_addr[1],

5108 
°MacMˇ°
.
mac_addr
[2],stMacMcast.mac_addr[3],

5109 
°MacMˇ°
.
mac_addr
[4],stMacMcast.mac_addr[5]);

5114 if(
	gFALSE
 =
LgcMaskNŸNuŒ
(&(
°MacMˇ°
.
p‹t_mask
)))

5117 
Rë
 = 
Io˘l_SëMacDñMˇ°Mac
(
°MacMˇ°
);

5118 if(
	gDRV_OK
 !
Rë
)

5120 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

5121  
	gERROR
;

5127 i‡(
	gDRV_OK
 !
Io˘l_SëMacSëMˇ°Mac
(
°MacMˇ°
))

5129 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

5130  
	gERROR
;

5134 
LgcMaskAnd
(&(
°MacMˇ°
.
p‹t_mask
), &
°LP‹tMask
);

5136 
	gRë
 = 
Io˘l_SëMacDñMˇ°Mac
(
°MacMˇ°
);

5138 
	gRë
 = 
Io˘l_˘c_mc_dñ_mac
(
°MacMˇ°
);

5140 if(
	gDRV_OK
 !
Rë
)

5142 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

5143  
	gERROR
;

5150 
düg_¥ötf
("\nfunc:%s,löe:%d\n",
__FUNCTION__
,
__LINE__
);

5151  
	gERROR
;

5154  
	gNO_ERROR
;

5172 
STATIC
 
INT32
 
DRV_CheckVœnF‹McMode
(
UINT32
 
uiVœnId
)

5174 
INT32
 
	giRë
;

5175 
UINT32
 
	guiLP‹tIndex
;

5176 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

5180 
LgcP‹tF‹
(
uiLP‹tIndex
)

5182 i‡(
	gDRV_OK
 !
Io˘l_˘c_gë_a˛_ruÀ
(
uiLP‹tIndex
, &
°VœnMode
))

5184 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5185  
	gFALSE
;

5188 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

5190 
UINT32
 
uiVœnIndex
 = 0;

5192 i‡(
	guiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

5194  
FALSE
;

5197 
	guiVœnIndex
 = 0; uiVœnIndex < 
	g°VœnMode
.
	gnumbî_of_íåõs
; uiVlanIndex++)

5199 i‡((
	guiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2]) ||

5200 (
uiVœnId
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
*2 + 1]))

5202  
FALSE
;

5206 i‡(
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

5208 i‡(
uiVœnId
 =
°VœnMode
.
deÁu…_vœn
)

5210  
FALSE
;

5215  
	gTRUE
;

5221 
INT32
 
DRV_AddP‹t2Mˇ°Vœn
(
UINT32
 
uiLP‹t
, UINT32 
uiMcVid
, 
MC_TAG_MODE_E
 
íTagMode
)

5223 
DRV_RET_E
 
	gulRëVÆ
 = 
DRV_OK
;

5224 
logic_pmask_t
 
	g°LMask
, 
	g°U¡agLMsk
;

5226 i‡((!
IsVÆidLgcP‹t
(
uiLP‹t
)) ||

5227 (!
VALID_VLAN_ID
(
uiMcVid
)) ||

5228 (
	gMC_TAG_MODE_END
 < 
	gíTagMode
))

5230  
	gERROR
;

5233 i‡(
	gTRUE
 !
DRV_CheckVœnF‹McMode
(
uiMcVid
))

5235  
ERROR
;

5238 
CÃLgcMaskAŒ
(&
°LMask
);

5239 
CÃLgcMaskAŒ
(&
°U¡agLMsk
);

5241 
	gulRëVÆ
 = 
Io˘l_GëVœnMembî
(
uiMcVid
, &
°LMask
, &
°U¡agLMsk
);

5243 
	gulRëVÆ
 = 
Io˘l_˘c_mc_gë_vœn_mem
(
uiMcVid
, &
°LMask
, &
°U¡agLMsk
);

5245 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5247 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5248  
	gERROR
;

5251 
	gíTagMode
)

5253 
	gMC_TAG_MODE_TRANSPARENT
:

5254 i‡(
T°LgcMaskBô
(
uiLP‹t
, &
°LMask
Ë&& (!T°LgcMaskBô(uiLP‹t, &
°U¡agLMsk
)))

5256  
	gNO_ERROR
;

5260 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

5261 
CÃLgcMaskBô
(
uiLP‹t
, &
°U¡agLMsk
);

5263 
SëLgcMaskBô
(
LOGIC_CPU_PORT
, &
°LMask
);

5264 
SëLgcMaskBô
(
LOGIC_PON_PORT
, &
°LMask
);

5269 
	gMC_TAG_MODE_STRIP
:

5270 i‡(
T°LgcMaskBô
(
uiLP‹t
, &
°LMask
Ë&& T°LgcMaskBô(uiLP‹t, &
°U¡agLMsk
))

5272  
	gNO_ERROR
;

5276 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

5278 
SëLgcMaskBô
(
LOGIC_CPU_PORT
, &
°LMask
);

5279 
SëLgcMaskBô
(
LOGIC_UPPON_PORT
, &
°LMask
);

5281 
SëLgcMaskBô
(
uiLP‹t
,&
°U¡agLMsk
);

5287  
ERROR
;

5291 
	gulRëVÆ
 = 
Io˘l_SëMcVœnMembîAdd
(
uiMcVid
, 
°LMask
, 
°U¡agLMsk
);

5292 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5294 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5295  
	gERROR
;

5300 
UINT32
 
	gbEnoughE¡ry
 = 
FALSE
;

5301 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

5306 
	g°VœnMode
.
	gdeÁu…_vœn
 = 
uiMcVid
;

5307 
	g°VœnMode
.
	gmode
 = 
CTC_VLAN_MODE_TAG
;

5308 
	g°VœnMode
.
	gnumbî_of_íåõs
 = 0;

5309 
	gulRëVÆ
 = 
Io˘l_˘c_íough_vœn_ödex_check
(
°VœnMode
, (&
bEnoughE¡ry
));

5310 i‡((
	gNO_ERROR
 !
ulRëVÆ
Ë|| (
FALSE
 =
bEnoughE¡ry
))

5312 
düg_¥ötf
("func:%s,line:%d,ret:%d,en:%d.\n",

5313 
__FUNCTION__
,
__LINE__
,
ulRëVÆ
,
bEnoughE¡ry
);

5314  
	gERROR
;

5317 
	gulRëVÆ
 = 
Io˘l_˘c_add_a˛_ruÀ_f‹_mvœn
(
uiLP‹t
, 
uiMcVid
);

5318 i‡(
	gNO_ERROR
 !
ulRëVÆ
)

5320 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5321  
	gERROR
;

5326  
	gNO_ERROR
;

5333 
INT32
 
DRV_DñP‹tFromMˇ°Vœn
(
UINT32
 
uiLP‹t
, UINT32 
uiMcVid
)

5335 
DRV_RET_E
 
	gulRëVÆ
 = 
DRV_OK
;

5337 
logic_pmask_t
 
	g°LMask
, 
	g°U¡agLMsk
, 
	g°TmpMsk
;

5339 
logic_pmask_t
 
	g°LMask
;

5342 i‡((!
IsVÆidLgcP‹t
(
uiLP‹t
)) ||

5343 (!
VALID_VLAN_ID
(
uiMcVid
)))

5345  
	gERROR
;

5349 i‡(
	gTRUE
 !
DRV_CheckVœnF‹McMode
(
uiMcVid
))

5351  
ERROR
;

5354 
CÃLgcMaskAŒ
(&
°LMask
);

5356 
CÃLgcMaskAŒ
(&
°U¡agLMsk
);

5358 
	gulRëVÆ
 = 
Io˘l_GëVœnMembî
(
uiMcVid
, &
°LMask
, &
°U¡agLMsk
);

5359 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5361 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5362  
	gERROR
;

5365 if(!
T°LgcMaskBô
(
uiLP‹t
, &
°LMask
))

5367  
	gNO_ERROR
;

5370 
CÃLgcMaskBô
(
uiLP‹t
, &
°LMask
);

5371 
CÃLgcMaskBô
(
uiLP‹t
, &
°U¡agLMsk
);

5373 
LgcMaskC›y
(&
°TmpMsk
, &
°LMask
);

5374 
CÃLgcMaskBô
(
LOGIC_CPU_PORT
, &
°TmpMsk
);

5375 
CÃLgcMaskBô
(
LOGIC_UPPON_PORT
, &
°TmpMsk
);

5376 if(
	gFALSE
 =
LgcMaskNŸNuŒ
(&
°TmpMsk
))

5378 
CÃLgcMaskAŒ
(&
°LMask
);

5379 
CÃLgcMaskAŒ
(&
°U¡agLMsk
);

5382 
	gulRëVÆ
 = 
Io˘l_SëMcVœnMembîAdd
(
uiMcVid
, 
°LMask
, 
°U¡agLMsk
);

5383 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5385 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5386  
	gERROR
;

5391 
	gulRëVÆ
 = 
Io˘l_˘c_dñ_a˛_ruÀ_f‹_mvœn
(
uiLP‹t
, 
uiMcVid
);

5392 i‡(
	gNO_ERROR
 !
ulRëVÆ
)

5394 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5395  
	gERROR
;

5399 
	gulRëVÆ
 = 
Io˘l_˘c_˛r_p‹t_ba£_vœn_íåy_by_vid
(
uiLP‹t
);

5400 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5402 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5403  
	gERROR
;

5408 
SëLgcMaskBô
(
uiLP‹t
, &
°LMask
);

5409 
	gulRëVÆ
 = 
Io˘l_˘c_mc_rmv_vœn_mem
(
uiMcVid
, 
°LMask
);

5410 i‡(
	gDRV_OK
 !
ulRëVÆ
)

5412 
düg_¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5413  
	gERROR
;

5416  
	gNO_ERROR
;

5423 
INT32
 
DRV_SwôchMcInô
()

5425 
INT32
 
	gRë
;

5426 
UINT32
 
	guiLP‹tId
;

5429 
	gRë
 = 
Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_CPU_ONLY
);

5430 i‡(
	gDRV_OK
 !
Rë
)

5432 
düg_¥ötf
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

5433  
	gERROR
;

5437 
	gRë
 = 
Io˘l_SëMˇ°LookupMissDr›
(
ENABLE
);

5438 i‡(
	gDRV_OK
 !
Rë
)

5440 
düg_¥ötf
("\nfunc:%s,Üöe:%d.\n",
__FUNCTION__
,
__LINE__
);

5441  
	gERROR
;

5444  
	gNO_ERROR
;

5452 
INT32
 
DRV_E«bÀSwôchMc
(INT32 
iE«bÀ
)

5454 
INT32
 
	gRë
;

5455 
UINT32
 
	guiLP‹tId
;

5457 i‡((
	gTRUE
 !
iE«bÀ
Ë&& (
FALSE
 != iEnable))

5459  
ERROR
;

5462 i‡(
	gTRUE
 =
iE«bÀ
)

5465 
Rë
 = 
Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_CPU_ONLY
);

5466 i‡(
	gDRV_OK
 !
Rë
)

5468  
ERROR
;

5473 
	gRë
 = 
Io˘l_igmp_unknow_ù4_a˘
(
MCAST_ACT_DROP
);

5474 i‡(
	gDRV_OK
 !
Rë
)

5476  
ERROR
;

5482 
	gRë
 = 
Io˘l_SëIgmpPktA˘i⁄
(
PASS_TYPE_ALLPORTS
);

5483 i‡(
	gDRV_OK
 !
Rë
)

5485  
ERROR
;

5490 
	gRë
 = 
Io˘l_igmp_unknow_ù4_a˘
(
MCAST_ACT_FORWARD
);

5491 i‡(
	gDRV_OK
 !
Rë
)

5493  
ERROR
;

5497  
	gNO_ERROR
;

5504 
INT32
 
DRV_SídFøme2SwôchP‹t
(
UINT32
 
uiLP‹t
, 
INT8
 *
pPackë
, UINT32 
uiLígth
)

5507 
INT16
 
	gsRë
 = 0;

5508 
UINT16
 
	gusVœnId
 = 0;

5509 
UINT32
 
	guiP‹tIdx
 = 0;

5510 
BOOL_T
 
	gbIsBˇ°
 = 
BOOL_FALSE
;

5511 
RTL_HEAD_S
 
	g°RéHód
;

5513 i‡((
	gNULL
 =
pPackë
) ||

5514 (
MIN_PACKET_SIZE
 > 
uiLígth
) ||

5515 (!
IsVÆidLgcP‹t
(
uiLP‹t
)))

5517 
düg_¥ötf
("\nfunc:%†Eº‹Ö¨amëî.\n",
__FUNCTION__
);

5518  
	gERROR
;

5521 
	gbIsBˇ°
 = 
IS_MAC_BROADCAST
(
pPackë
);

5523 i‡(–
	gpPackë
[12] =0x81Ë&& ( 
pPackë
[13] == 0))

5525 
usVœnId
 = ((
pPackë
[14] & 0xF) << 8) +ÖPacket[15];

5526 if((0 =
usVœnId
) || (0xFFF == usVlanId))

5528 
memmove
(
pPackë
 + 12,ÖPackë + 16, 
uiLígth
 - 16);

5529 
	gpPackë
[
uiLígth
 - 4] = 0;

5530 
	gpPackë
[
uiLígth
 - 3] = 0;

5531 
	gpPackë
[
uiLígth
 - 2] = 0;

5532 
	gpPackë
[
uiLígth
 - 1] = 0;

5533 
	guiLígth
 = (
uiLígth
 >
MIN_PACKET_SIZE
 + 4)? uiLength - 4 : MIN_PACKET_SIZE;

5537 i‡(
	gLOGIC_PON_PORT
 =
uiLP‹t
)

5539 
sRë
 = 
e›l_£nd_to_u∂ök
(0, (
VOID
 *)
pPackë
, 
uiLígth
);

5540 i‡(
	gNO_ERROR
 !
sRë
)

5542 
düg_¥ötf
("\nfunc:%†ÁûedÅÿˇŒÉ›l_£nd_to_u∂ök.\n",
__FUNCTION__
);

5543  
	gERROR
;

5546  
	gNO_ERROR
;

5550 
mem£t
(&
°RéHód
, 0, (stRtlHead));

5552 
	g°RéHód
.
	gusEthTy≥
 = 0x8899;

5553 
	g°RéHód
.
	gucPrŸocﬁ
 = 0x4;

5554 
	g°RéHód
.
	gucPri‹ôySñe˘
 = 1;

5555 
	g°RéHód
.
	gucPri‹ôy
 = 7;

5557 i‡(
	gBOOL_TRUE
 =
bIsBˇ°
)

5559 
uiP‹tIdx
 = 
MIN_UNI_PORT_ID
; 
	guiP‹tIdx
 <
MAX_UNI_PORT_ID
; uiPortIdx++)

5561 
	g°RéHód
.
	gusP‹tNo
 |1 << 
DRV_P‹tLogiˇl2Physiˇl
(
uiP‹tIdx
);

5566 
	g°RéHód
.
	gusP‹tNo
 |1 << 
DRV_P‹tLogiˇl2Physiˇl
(
uiLP‹t
);

5569 
memmove
(
pPackë
 + 
RTL_HEAD_OFF
 + 
RTL_HEAD_LEN
,ÖPackë + RTL_HEAD_OFF, 
uiLígth
 - RTL_HEAD_OFF);

5570 
mem˝y
(
pPackë
 + 
RTL_HEAD_OFF
, &
°RéHód
, 
RTL_HEAD_LEN
);

5572 
	guiLígth
 +
RTL_HEAD_LEN
;

5574 (
	gVOID
)
sysˇŒ
(
NR_TEST_SETDATA
, 
pPackë
, 
uiLígth
);

5576  
	gNO_ERROR
;

5580 
UINT32
 
DRV_GëSwôchHódîLí
()

5586 
INT32
 
DRV_GëP‹tFromSwôchHódî
(
UINT8
 *
pucD©a
, 
UINT32
 *
puiPP‹t
)

5589 
RTL_HEAD_S
 *
	gp°InHódî
 = 
NULL
;

5591 i‡((
	gNULL
 =
pucD©a
Ë|| (
NULL
 =
puiPP‹t
))

5593  
ERROR
;

5596 
	gp°InHódî
 = (
RTL_HEAD_S
 *)
pucD©a
;

5597 *
	gpuiPP‹t
 = 
p°InHódî
->
usP‹tNo
;

5599  
	gNO_ERROR
;

5607 
VOID
 
DRV_InôQöqCfg
(VOID)

5609 
UINT32
 
	guiP‹Index
;

5610 
UINT32
 
	guiA˛Index
;

5612 
	guiP‹Index
 = 0; uiP‹Index <
MAX_PORT_NUM
; uiPorIndex++)

5614 
	guiA˛Index
 = 0; uiA˛Index < 
	gMAX_QINQ_CTAG_STAG_ENTRY
; uiAclIndex ++)

5616 
	gg_a°UniQöqMode
[
uiP‹Index
].
	ga°CègSègE¡ry
[
uiA˛Index
].
	guiSègVid
 = 
DEFAULT_SVLAN_ID
;

5626 
INT32
 
Drv_P¨£Rt˘Resu…
(
VCT_CABLE_DIAG_S
 *
p°CabÀDüg
, 
ˇbÀ_düg_t
 *
p°Düg
)

5628 
UINT8
 
	gucIdx
 = 0;

5633  
	gucIdx
 = 
CABLE_PAIR_0
; ucIdx < 
	gCABLE_PAIR_NUM
; ucIdx++ )

5635  
	gp°Düg
->
	g∑ú_°©e
[
ucIdx
] )

5637 
	gCABLE_STATE_OK
:

5638 
p°CabÀDüg
->
´nCabÀSètus
[
ucIdx
] = 
VCT_NORMAL_CABLE
;

5640 
	gCABLE_STATE_OPEN
:

5641 
p°CabÀDüg
->
´nCabÀSètus
[
ucIdx
] = 
VCT_OPEN_CABLE
;

5643 
	gCABLE_STATE_SHORT
:

5644 
p°CabÀDüg
->
´nCabÀSètus
[
ucIdx
] = 
VCT_SHORT_CABLE
;

5647 
p°CabÀDüg
->
´nCabÀSètus
[
ucIdx
] = 
VCT_IMPEDANCE_MISMATCH
;

5652 i‡(
	gVCT_NORMAL_CABLE
 =
p°CabÀDüg
->
´nCabÀSètus
[
ucIdx
])

5654 
p°CabÀDüg
->
ausCabÀLí
[
ucIdx
] = 0xFFFF;

5658 
	gp°CabÀDüg
->
	gausCabÀLí
[
ucIdx
] = 
p°Düg
->
∑ú_Àn
[ucIdx];

5663  
	gNO_ERROR
;

5669 
INT32
 
DRV_GëP‹tV˘
(
ULONG
 
ulLP‹t
, 
VCT_CABLE_DIAG_S
 *
p°CabÀDüg
 )

5671 #i‡
deföed
(
CONFIG_PRODUCT_EPN200
)

5672 
	gulLP‹t
 = 
ulLP‹t
;

5673 
	gp°CabÀDüg
 = 
p°CabÀDüg
;

5674  
	gERROR
;

5676 
ˇbÀ_düg_t
 
	g°Düg
;

5677 
INT32
 
	giRë
 = 0;

5678 
BOOL
 
	gbP‹tSèã
 = 
FALSE
;

5679 
UINT8
 
	gucPaúIdx
 = 0;

5685 
mem£t
(&
°Düg
, 0, (stDiag));

5688 
	giRë
 = 
DRV_GëP‹tLökSètus
(
ulLP‹t
, &
bP‹tSèã
);

5689 i‡–
	gNO_ERROR
 !
iRë
 )

5691 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5692  
	gERROR
;

5695 
	giRë
 = 
Io˘l_gë_ˇbÀ_düg
(
ulLP‹t
, &
°Düg
);

5696 i‡(
	gDRV_OK
 !
iRë
)

5698 
DRV_DEBUG_PRINT
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

5699  
	gERROR
;

5703 i‡(
	gTRUE
 =
bP‹tSèã
)

5705  
ucPaúIdx
 = 
CABLE_PAIR_0
 ; 
	gucPaúIdx
 < 
	gCABLE_PAIR_NUM
; ucPairIdx++ )

5707 
	g°Düg
.
	g∑ú_°©e
[
ucPaúIdx
] = 
CABLE_STATE_OK
;

5711 (
	gVOID
)
Drv_P¨£Rt˘Resu…
(
p°CabÀDüg
, &
°Düg
);

5713  
	gNO_ERROR
;

5733 
INT32
 
DRV_BlockI¬îUni
(
BOOL
 
bUniE«bÀ
)

5735 
UINT32
 
	guiVÆue
 = 0;

5738 
	guiVÆue
 = (
TRUE
 =
bUniE«bÀ
)? 0 : 1;

5739 if(
	gNO_ERROR
 !
›lRegFõldWrôe
(
REG_BRG_GE_PORT_TABLE
, 0, 1, 
uiVÆue
))

5741 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

5743 if(
	gNO_ERROR
 !
›lRegFõldWrôe
(
REG_BRG_PON_PORT_TABLE
, 0, 1, 
uiVÆue
))

5745 
DRV_DEBUG_PRINT
("\nfunc:%†löe:%d\n",
__FUNCTION__
,
__LINE__
);

5747  
	gNO_ERROR
;

5750 #i‡
deföed
(
CONFIG_PRODUCT_EPN200
)

5751 
INT32
 
DRV_SögÀMdioDbgWrôe
(
UINT32
 
uiReg
, UINT32 
uiD©a
)

5753 ()
Io˘l_SëExtPhyDbgReg
(0, 
uiReg
, 
uiD©a
);

5754  
	gNO_ERROR
;

5757 
INT32
 
DRV_SögÀMdioDbgRód
(
UINT32
 
uiReg
, UINT32 *
puiD©a
)

5759 ()
Io˘l_GëExtPhyDbgReg
(0, 
uiReg
, 
puiD©a
);

5760  
	gNO_ERROR
;

5763 
INT32
 
DRV_ExtPhyInô
()

5765 
UINT32
 
	guiD©a
;

5770 ()
Io˘l_GëExtPhyMiiReg
(0, 4, &
uiD©a
);

5772 
	guiD©a
 &= ~((1U << 7) | (1U << 8));

5774 
	guiD©a
 &= ~(1U << 6);

5776 
	guiD©a
 |= (1U << 5);

5777 ()
Io˘l_SëExtPhyMiiReg
(0, 4, 
uiD©a
);

5780 ()
Io˘l_GëExtPhyMiiReg
(0, 0, &
uiD©a
);

5782 
	guiD©a
 |= (1U << 12);

5784 
	guiD©a
 &= ~(1U << 13);

5785 
	guiD©a
 |= (1U << 6);

5787 
	guiD©a
 |= (1U << 8);

5789 
	guiD©a
 |= (1U << 9);

5790 ()
Io˘l_SëExtPhyMiiReg
(0, 0, 
uiD©a
);

5792  
	gNO_ERROR
;

5815 
BOOL
 
CTC_CheckVÆidVidF‹Mcvœn
(
UINT32
 
uiMcVid
)

5817 
UINT32
 
	guiLP‹tIndex
;

5818 
CTC_VLAN_CFG_S
 
	g°VœnMode
;

5820 i‡(!
VALID_VLAN_ID
(
uiMcVid
))

5822  
	gFALSE
;

5825 
LgcP‹tF‹
(
uiLP‹tIndex
)

5827 (
	gVOID
)
_CTC_GëP‹tVœnModeCfg
(
uiLP‹tIndex
, &
°VœnMode
);

5828 i‡(
	gCTC_VLAN_MODE_TRANSLATION
 =
°VœnMode
.
mode
)

5830 
UINT32
 
uiVœnIndex
 = 0;

5832 i‡(
	guiMcVid
 =
°VœnMode
.
deÁu…_vœn
)

5834  
FALSE
;

5837 
	guiVœnIndex
 = 0; uiVœnIndex < 
	g°VœnMode
.
	gnumbî_of_íåõs
; uiVlanIndex++)

5839 i‡((
	guiMcVid
 =
°VœnMode
.
vœn_li°
[
uiVœnIndex
<<1]) ||

5840 (
uiMcVid
 =
°VœnMode
.
vœn_li°
[(
uiVœnIndex
<<1) + 1]))

5842  
FALSE
;

5846 i‡(
	gCTC_VLAN_MODE_TAG
 =
°VœnMode
.
mode
)

5848 i‡(
uiMcVid
 =
°VœnMode
.
deÁu…_vœn
)

5850  
FALSE
;

5855  
	gTRUE
;

5860 #ifde‡ 
__˝lu•lus


	@src/user/oam_alarm.c

3 
	~<°dio.h
>

4 
	~<°rög.h
>

7 
	~"ï⁄_ﬂm_c⁄fig.h
"

8 
	~"ï⁄_ﬂm_îr.h
"

9 
	~"ï⁄_ﬂm_db.h
"

10 
	~"ï⁄_ﬂm_dbg.h
"

11 
	~"ï⁄_ﬂm_rx.h
"

13 
	~"ùc_˛õ¡.h
"

14 
	~"ﬂm_lw.h
"

16 
	~"lw_drv_pub.h
"

17 
	~"lw_drv_ªq.h
"

18 
	~"mc_c⁄åﬁ.h
"

20 
	~"ﬂm_Æ¨m.h
"

21 
	~"ﬂm.h
"

22 
	~"˘c_2_1.h
"

24 
u8_t
 
ho°Mac
[6];

26 
u16_t
 
	gg_usAœrmOutD©aIdx
;

27 
u8_t
 
	gÆ¨m_out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+1];

28 
	gg_Æ¨m_£q_no
 = 0;

29 
	gr°pw¨nög°©e
[
NUMBER_OF_PORTS
];

33 
	#NO_ERROR
 0

	)

34 
	#ERROR
 -1

	)

35 
	#MODULE
 
MOD_OAM


	)

39 
	gg_ªp‹t_íabÀ
 = 1;

40 
	gobjP‹t
;

43 
	gg_Æ¨m_ëh_°©e
[
NUMBER_OF_PORTS
] = {0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff};

44 
	gg_Æ¨m_⁄u_°©e
 = 0xffffffff;

45 
	gg_Æ¨m_p⁄_°©e
 = 0xffffffff;

46 
	gg_Æ¨m_ˇrd_°©e
 = 0xffffffff;

47 
	gg_Æ¨m_pŸs_°©e
 = 0xffffffff;

48 
	gg_Æ¨m_e1_°©e
 = 0xffffffff;

52 
	gg_Æ¨m_ëh_íabÀ
[
NUMBER_OF_PORTS
] = {0xffff, 0xffff, 0xffff, 0xffff};

53 
	gg_Æ¨m_⁄u_íabÀ
 = 0;

54 
	gg_Æ¨m_p⁄_íabÀ
 = 0;

55 
	gg_Æ¨m_ˇrd_íabÀ
 = 0;

56 
	gg_Æ¨m_pŸs_íabÀ
 = 0;

57 
	gg_Æ¨m_e1_íabÀ
= 0;

60 
Æ¨m_thr_t
 
	gg_Æ¨m_›tiˇl_thr
[
WARNING_TEMP_LOW
]={{0xffffffff, 0x0},

82 
	gg_Æ¨m_ups_°©e
 = 0;

86 
	#GPIO9
 9

	)

87 
	#GPIO11
 11

	)

88 
	#DRY1_ALARMID
 0x8001

	)

89 
	#DRY2_ALARMID
 0x8002

	)

90 
	gﬁd_dry1_°©e
=0;

91 
	gﬁd_dry2_°©e
=0;

95 
	$dump_Æ¨m_∑ckë
–*
pkt
, 
Àn
 )

98 
	`Ârötf
(
°dîr
, "\n--------------------------------\r\n");

100 
i
 = 0;

101 
	`Ârötf
(
°dîr
, "pkt_À¿%d\n", 
Àn
);

102  
i
 = 0; i < 
Àn
; i++ )

104 i‡(
i
 % 16 == 0 && i != 0)

106 
	`Ârötf
(
°dîr
, "\n");

109 
	`Ârötf
(
°dîr
, "%02X ", 
pkt
[
i
]&0x000000ff);

112 
	`Ârötf
(
°dîr
, "\n--------------------------------\r\n");

115 
	}
}

117 
	$e›l_˘c_Æ¨m_ªp‹t
(
Æ¨m_ªp‹t_t
 *
ªp‹tInfo
)

119 
u8_t
 *
p_byã
;

120 
u16_t
 
obj_ty≥
;

121 
u32_t
 
ö°™˚_num
;

122 
˘c_evít_hdr_t
 *
p_˘c_evít_hdr
;

123 
˘c_Æ¨m_íåy_hdr_t
 *
p_˘c_Æ¨m_íåy
;

124 
ªt
;

126 
˘c_hódî_t
 *
p_˘c
;

127 
u8_t
 
ﬂm_d°_addr
[6] = {0x1, 0x80, 0xc2, 0x0, 0x0, 0x2};

128 
u8_t
 
ﬂm_Àngth_ty≥
[2] = {0x88, 0x09};

129 
u8_t
 
˘c_oui
[3] = {0x11, 0x11, 0x11};

130 
ﬂmpdu_hdr_t
 *
p_hdr
;

133 if(0 =
g_usAœrmOutD©aIdx
)

135 
	`mem£t
(
Æ¨m_out_d©a
, 0, 
OAM_MAXIMUM_PDU_SIZE
);

138 
Æ¨m_out_d©a
[0] = 
OAM_LOGIG_PON_PORT
;

139 
p_byã
 = &
Æ¨m_out_d©a
[1];

140 
p_hdr
 = (
ﬂmpdu_hdr_t
*)
p_byã
;

142 
p_hdr
 = (
ﬂmpdu_hdr_t
*)&
Æ¨m_out_d©a
[1];

143 
	`vosMemCpy
(
p_hdr
->
de°
, 
ﬂm_d°_addr
,6);

144 
	`vosMemCpy
(
p_hdr
->
§c
, 
ho°Mac
, 6);

145 
	`vosMemCpy
(
p_hdr
->
Àngth
, 
ﬂm_Àngth_ty≥
, 2);

146 
p_hdr
->
subty≥
 = 0x03;

147 
p_hdr
->
pcode
 = 0x01;

148 
p_hdr
->
Êags
 = 0x0050;

150 
p_byã
 +(
ﬂmpdu_hdr_t
);

151 
g_usAœrmOutD©aIdx
 +(
ﬂmpdu_hdr_t
) + 1;

156 
p_byã
 = &
Æ¨m_out_d©a
[
g_usAœrmOutD©aIdx
];

158 
p_˘c_evít_hdr
 = (
˘c_evít_hdr_t
 *)
p_byã
;

159 
p_˘c_evít_hdr
->
£q_num
 = 
g_Æ¨m_£q_no
++;

160 
p_˘c_evít_hdr
->
evít_ty≥
 = 0xFE;

161 
p_˘c_evít_hdr
->
oui
[0] = 0x11;

162 
p_˘c_evít_hdr
->
oui
[1] = 0x11;

163 
p_˘c_evít_hdr
->
oui
[2] = 0x11;

166 
p_˘c_evít_hdr
->
evít_Àn
 = (
˘c_Æ¨m_íåy_hdr_t
Ë+ (
˘c_evít_hdr_t
Ë-2 + 
ªp‹tInfo
->
Àngth
;

167 
p_byã
 +(
˘c_evít_hdr_t
);

168 
g_usAœrmOutD©aIdx
 +(
˘c_evít_hdr_t
);

170 
p_˘c_Æ¨m_íåy
 = (
˘c_Æ¨m_íåy_hdr_t
 *)
p_byã
;

172 
p_˘c_Æ¨m_íåy
->
obj_ty≥
 = 
ªp‹tInfo
->
obje˘Ty≥
;

173 
p_˘c_Æ¨m_íåy
->
ö°™˚_num
 = 
ªp‹tInfo
->
ö°™˚Num
;

174 
p_˘c_Æ¨m_íåy
->
Æ¨m_id
 = 
ªp‹tInfo
->
Æ¨mID
;

177 
p_˘c_Æ¨m_íåy
->
timeSèmp
 = 0;

179 
p_˘c_Æ¨m_íåy
->
Æ¨m_°©e
 = 
ªp‹tInfo
->
Æ¨mSèã
;

180 
g_usAœrmOutD©aIdx
 +(
˘c_Æ¨m_íåy_hdr_t
);

182 if(
ªp‹tInfo
->
Àngth
 > 0)

184 
p_byã
 +(
˘c_Æ¨m_íåy_hdr_t
);

185 
	`mem˝y
(
p_byã
, 
ªp‹tInfo
->
Æ¨mInfo
,Ñï‹tInfo->
Àngth
);

186 
g_usAœrmOutD©aIdx
 +
ªp‹tInfo
->
Àngth
;

189 
ªt
 = 0;

191 if(
g_usAœrmOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
+1)

193 
g_usAœrmOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
+1;

195 
	`e›l_ho°_£nd
(
Æ¨m_out_d©a
, 
g_usAœrmOutD©aIdx
);

196 
g_usAœrmOutD©aIdx
 = 0;

198  
ªt
;

199 
	}
}

202 
	$ﬂm_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
)

204 
i
;

205 
nRë
 = 0;

207 
nRë
 = 
	`e›l_˘c_Æ¨m_ªp‹t
(
öfo
);

208 if(
nRë
 !
NO_ERROR
)

210 
	`¥ötf
("Generateálarm failed.\n");

212  
nRë
;

214 
	}
}

216 
	$ëh_judge_™d_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
)

218 
ﬁd_°©e
;

219 
ty≥
 = 0xf‡& 
öfo
->
Æ¨mID
;

220 
p‹t
 = (
öfo
->
ö°™˚Num
 & 0xff) - 1;

221 
ﬁd_°©e
 = 
	`gë_ëh_Æ¨m_°©e
(
p‹t
, 
ty≥
-1);

222 if–
öfo
->
Æ¨mSèã
 !
ﬁd_°©e
)

224 
	`ﬂm_Æ¨m
(
öfo
);

226 
	`c⁄fig_ëh_Æ¨m_°©e
(
p‹t
, 
ty≥
-1, 
öfo
->
Æ¨mSèã
);

229 
	}
}

231 
	$⁄u_judge_™d_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
)

233 
ty≥
 = 0xf‡& 
öfo
->
Æ¨mID
;

234 
ﬁd_°©e
;

236 
ﬁd_°©e
 = 
	`gë_⁄u_Æ¨m_°©e
(
ty≥
);

238 if–
öfo
->
Æ¨mSèã
 !
ﬁd_°©e
)

240 
	`ﬂm_Æ¨m
(
öfo
);

242 
	`c⁄fig_⁄u_Æ¨m_°©e
(
ty≥
, 
öfo
->
Æ¨mSèã
);

245 
	}
}

247 
	$p⁄_judge_™d_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
)

249 
ty≥
 = 0xf‡& 
öfo
->
Æ¨mID
;

250 
ﬁd_°©e
;

252 
ﬁd_°©e
 = 
	`gë_p⁄_Æ¨m_°©e
(
ty≥
);

254 if–
öfo
->
Æ¨mSèã
 !
ﬁd_°©e
)

256 
	`ﬂm_Æ¨m
(
öfo
);

258 
	`c⁄fig_p⁄_Æ¨m_°©e
(
ty≥
, 
öfo
->
Æ¨mSèã
);

260 
	}
}

262 
	$gë_Æ¨m_swôch_°©e
()

264  
g_ªp‹t_íabÀ
;

265 
	}
}

267 
	$lök_°©e_™d_lo›_Æ¨m
(
p‹t
, 
Æ¨m_ªp‹t_t
 *
Æ¨m_öfo
)

269 
cou¡
 = 0;

270 
lök_°©us
 = 0;

271 
i
, 
nRë
,
aut⁄egSèã
, 
admöSèã
 = 0;

273 
i
 = 
ALARM_ETHPORT_AUTONEG
; i <
ALARM_ETHPORT_LDP
; i++){

274 i‡(!
	`gë_ëh_Æ¨m_íabÀ
(
p‹t
, 
i
 -
ALARM_ETHPORT_AUTONEG
))

278 
Æ¨m_öfo
->
Æ¨mID
 = 
i
;

279 
Æ¨m_öfo
->
Àngth
 = 0;

280 
Æ¨m_öfo
->
Æ¨mSèã
 = 1;

283 
i
){

284 
ALARM_ETHPORT_AUTONEG
:

288 if(1==
lök_°©us
)

291 i‡(2 =
admöSèã
){

293 i‡(0 =
nRë
){

294 
Æ¨m_öfo
->
Æ¨mSèã
 = 
aut⁄egSèã
;

295 
	`ëh_judge_™d_Æ¨m
(
Æ¨m_öfo
);

301 
ALARM_ETHPORT_LOS
:

303 
nRë
 = 
	`DRV_GëP‹tLökSètus
(
p‹t
 + 1, &
lök_°©us
);

305 
Æ¨m_öfo
->
Æ¨mSèã
 = 
lök_°©us
;

306 
	`ëh_judge_™d_Æ¨m
(
Æ¨m_öfo
);

310 
ALARM_ETHPORT_FAILURE
:

312 
ALARM_ETHPORT_LDP
:

314 if(
cou¡
 =
LDP_RESOLVE_TIME
 -1){

315 
Æ¨m_öfo
->
Æ¨mSèã
 = ()(!
r°pw¨nög°©e
[
p‹t
]);

316 
	`ëh_judge_™d_Æ¨m
(
Æ¨m_öfo
);

328 
cou¡
 ++;

329 
cou¡
 %
LDP_RESOLVE_TIME
;

337 
	}
}

339 
	$ups_Æ¨m
(
Æ¨m_ªp‹t_t
 *
Æ¨m_öfo
)

341 
cur_°©e
 = 
	`gë_Æ¨m_ups_cur_°©e
();

342 
cur_vﬁt_low_°©e
 = 0;

343 
cur_powî_losög_°©e
 = 0;

344 
cur_off_°©e
 = 0;

346 
Æ¨m_öfo
->
Àngth
 = 4;

348 
cur_°©e
)

350 
ALARM_UPS_STATE_ON
:

351 
cur_off_°©e
 = 0;

352 
cur_powî_losög_°©e
 = 0;

353 
cur_vﬁt_low_°©e
 = 0;

355 
ALARM_UPS_STATE_POWER_LOSING
:

356 
cur_off_°©e
 = 0;

357 
cur_powî_losög_°©e
 = 1;

358 
cur_vﬁt_low_°©e
 = 0;

360 
ALARM_UPS_STATE_VOLT_LOW
:

361 
cur_off_°©e
 = 0;

362 
cur_powî_losög_°©e
 = 1;

363 
cur_vﬁt_low_°©e
 = 1;

365 
ALARM_UPS_STATE_OFF
:

366 
cur_off_°©e
 = 1;

367 
cur_powî_losög_°©e
 = 0;

368 
cur_vﬁt_low_°©e
 = 0;

375 if(
	`gë_⁄u_Æ¨m_íabÀ
(
ALARM_UPS_MISSING
 & 0xff))

377 
Æ¨m_öfo
->
Æ¨mID
 = 
ALARM_UPS_MISSING
;

378 
Æ¨m_öfo
->
Æ¨mSèã
 = !
cur_off_°©e
;

379 
	`⁄u_judge_™d_Æ¨m
(
Æ¨m_öfo
);

382 if(
	`gë_⁄u_Æ¨m_íabÀ
(
ALARM_UPS_POWER
 & 0xff))

384 
Æ¨m_öfo
->
Æ¨mID
 = 
ALARM_UPS_POWER
;

385 
Æ¨m_öfo
->
Æ¨mSèã
 = !
cur_powî_losög_°©e
;

386 
	`⁄u_judge_™d_Æ¨m
(
Æ¨m_öfo
);

389 if(
	`gë_⁄u_Æ¨m_íabÀ
(
ALARM_UPS_VOLT_LOW
 & 0xff))

391 
Æ¨m_öfo
->
Æ¨mID
 = 
ALARM_UPS_VOLT_LOW
;

392 
Æ¨m_öfo
->
Æ¨mSèã
 = !
cur_vﬁt_low_°©e
;

393 
	`⁄u_judge_™d_Æ¨m
(
Æ¨m_öfo
);

396 
	}
}

399 
	$dry_judge_™d_Æ¨m
(
Æ¨m_ªp‹t_t
 *
öfo
)

401 
i
;

402 
nRë
 = 0;

404 
tx_‰ame
[
ALARM_INFO_HEAD
 + 
ALARM_INFO_MAX_WIDTH
 + 2] = {0};

406 
	`SET_BYTE_INIT
();

408 
	`SET_OUI
(
tx_‰ame
,0x111111);

411 
	`SET_OBJ_TYPE
(
tx_‰ame
, 
öfo
->
obje˘Ty≥
);

412 
	`SET_INSTANCE_NUM
(
tx_‰ame
, 
öfo
->
ö°™˚Num
);

414 
	`SET_ALARM_ID
(
tx_‰ame
, 
öfo
->
Æ¨mID
);

415 
	`SET_TIMESTAMP
(
tx_‰ame
, 0x00);

416 
	`SET_ALARM_STATE
(
tx_‰ame
, 
öfo
->
Æ¨mSèã
);

417 
	`SET_ALARM_INFO
(
tx_‰ame
, 
öfo
->
Æ¨mInfo
, 
ALARM_INFO_MAX_WIDTH
);

424 i‡(
nRë
 !
NO_ERROR
)

426 #ifde‡
ALARM_DEG


427 
	`Ârötf
(
°dîr
, "%†%d %d\r\n", 
__FUNCTION__
, 
__LINE__
, 
nRë
);

432 
	}
}

434 #ifde‡
DRY_ALARM


435 
	$dry1_Æ¨m
(
Æ¨m_ªp‹t_t
 *
Æ¨m_öfo
)

437 
INT8U
 
nLevñ
 = 0;

438 
INT32U
 
Àvñ
=0;

439 
INT32U
 
m⁄ô‹
=0;

440 
i
=0;

441 
Àvñ
=
Æ¨m_ªp‹t_dry_Æ¨m
.
Àvñ1
;

442 
m⁄ô‹
 = 
Æ¨m_ªp‹t_dry_Æ¨m
.
m⁄ô‹1
 & 0xffffffff;

443 
Æ¨m_öfo
->
Æ¨mID
 =
DRY1_ALARMID
;

444 
	`mem˝y
(
Æ¨m_öfo
->
Æ¨mInfo
, (*)&
m⁄ô‹
, 
ALARM_INFO_MAX_WIDTH
);

445 i‡(
	`PASONU_GPIO_gë
(
GPIO9
, &
nLevñ
)!=
NO_ERROR
)

447 
	`¥ötf
("getÅhe gpio9 value failure!!!\n");

452 
nLevñ
 = 
Àvñ
;

455 if(
nLevñ
!=
ﬁd_dry1_°©e
)

457 if(
Àvñ
)

459 
Æ¨m_öfo
->
Æ¨mSèã
 =
nLevñ
;

463 
Æ¨m_öfo
->
Æ¨mSèã
 =!
nLevñ
;

466 
ﬁd_dry1_°©e
 = 
nLevñ
;

468 
	`dry_judge_™d_Æ¨m
(
Æ¨m_öfo
);

471 
	}
}

473 
	$dry2_Æ¨m
(
Æ¨m_ªp‹t_t
 *
Æ¨m_öfo
)

475 
INT8U
 
nLevñ
 = 0;

476 
INT32U
 
Àvñ
=0;

477 
INT32U
 
m⁄ô‹
=0;

478 
i
=0;

479 
Àvñ
=
Æ¨m_ªp‹t_dry_Æ¨m
.
Àvñ2
;

480 
m⁄ô‹
 = 
Æ¨m_ªp‹t_dry_Æ¨m
.
m⁄ô‹2
 & 0xffffffff;

481 
Æ¨m_öfo
->
Æ¨mID
 =
DRY2_ALARMID
;

482 
	`mem˝y
(
Æ¨m_öfo
->
Æ¨mInfo
, (*)&
m⁄ô‹
, 
ALARM_INFO_MAX_WIDTH
);

484 i‡(
	`PASONU_GPIO_gë
(
GPIO11
, &
nLevñ
)!=
NO_ERROR
)

486 
	`¥ötf
("getÅhe gpio11 value failure!!!\n");

490 if(
nLevñ
!=
ﬁd_dry2_°©e
)

492 if(
Àvñ
)

494 
Æ¨m_öfo
->
Æ¨mSèã
 =
nLevñ
;

498 
Æ¨m_öfo
->
Æ¨mSèã
 =!
nLevñ
;

500 
ﬁd_dry2_°©e
 = 
nLevñ
;

501 
	`dry_judge_™d_Æ¨m
(
Æ¨m_öfo
);

503 
	}
}

506 
	$›tiˇl_Æ¨m
(
Æ¨m_ªp‹t_t
 *
Æ¨m_öfo
)

509 
Æ¨m_id
;

511 
nRë
 = 0;

512 
cur_°©e
 = 1;

513 
›tiˇl_∑øm_vÆue
;

514 
loˇl_vÆue
 = 0;

516 
Æ¨m_id
 = 
ALARM_RX_POWER_HIGH
;áœrm_id<
WARNING_TEMP_LOW
 + 1;álarm_id++)

518 if(!
	`gë_p⁄_Æ¨m_íabÀ
(
Æ¨m_id
 & 0xff))

521 
Æ¨m_id
)

523 
ALARM_TX_POWER_HIGH
:

524 
ALARM_TX_POWER_LOW
:

525 
WARNING_TX_POWER_HIGH
:

526 
WARNING_TX_POWER_LOW
:

530 
ALARM_RX_POWER_HIGH
:

531 
ALARM_RX_POWER_LOW
:

532 
WARNING_RX_POWER_HIGH
:

533 
WARNING_RX_POWER_LOW
:

537 
ALARM_TX_BIAS_HIGH
:

538 
ALARM_TX_BIAS_LOW
:

539 
WARNING_TX_BIAS_HIGH
:

540 
WARNING_TX_BIAS_LOW
:

544 
ALARM_VCC_HIGH
:

545 
ALARM_VCC_LOW
:

546 
WARNING_VCC_HIGH
:

547 
WARNING_VCC_LOW
:

551 
ALARM_TEMP_HIGH
:

552 
ALARM_TEMP_LOW
:

553 
WARNING_TEMP_HIGH
:

554 
WARNING_TEMP_LOW
:

562 
loˇl_vÆue
 = 
›tiˇl_∑øm_vÆue
;

569 if(
Æ¨m_id
%2 == 1)

571 if(
loˇl_vÆue
 >
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
 - 
ALARM_RX_POWER_HIGH
].
£tAœrmThªshﬁd
)

573 
cur_°©e
 = 0;

575 if(
loˇl_vÆue
 < 
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
 - 
ALARM_RX_POWER_HIGH
].
˛órAœrmThªshﬁd
)

577 
cur_°©e
 = 1;

587 if(
loˇl_vÆue
 <
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
 - 
ALARM_RX_POWER_HIGH
].
£tAœrmThªshﬁd
)

589 
cur_°©e
 = 0;

591 if(
loˇl_vÆue
 > 
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
 - 
ALARM_RX_POWER_HIGH
].
˛órAœrmThªshﬁd
)

593 
cur_°©e
 = 1;

602 
Æ¨m_öfo
->
Æ¨mID
 = 
Æ¨m_id
;

603 
Æ¨m_öfo
->
Æ¨mSèã
 = 
cur_°©e
;

604 
	`mem˝y
(
Æ¨m_öfo
->
Æ¨mInfo
, (*)&
loˇl_vÆue
, 
ALARM_INFO_MAX_WIDTH
);

606 
	`p⁄_judge_™d_Æ¨m
(
Æ¨m_öfo
);

609 
	}
}

612 
	$p‹t_Æ¨m_ªp‹t
()

614 
i
;

615 
Æ¨m_ªp‹t_t
 
Æ¨m_öfo
;

616 
Æ¨m_öfo
.
obje˘Ty≥
 = 
CTC_OBJ_PORT
;

617 
i
 = 0; i < 
NUMBER_OF_PORTS
; i++)

619 
Æ¨m_öfo
.
ö°™˚Num
 = (
i
+1)|(
ETH_TYPE
 << 24);

620 
	`lök_°©e_™d_lo›_Æ¨m
(
i
, &
Æ¨m_öfo
);

622 
	}
}

625 
	$⁄u_Æ¨m_ªp‹t
()

627 
Æ¨m_ªp‹t_t
 
Æ¨m_öfo
;

628 
Æ¨m_öfo
.
obje˘Ty≥
 = 
CTC_OBJ_ONU
;

629 
Æ¨m_öfo
.
ö°™˚Num
 = 0xffffffff;

630 
	`ups_Æ¨m
(&
Æ¨m_öfo
);

631 
	}
}

632 #ifde‡
DRY_ALARM


633 
	$dry_Æ¨m_ªp‹t
()

635 
Æ¨m_ªp‹t_t
 
Æ¨m_öfo_dry1
;

636 
Æ¨m_ªp‹t_t
 
Æ¨m_öfo_dry2
;

637 
	`mem£t
(&
Æ¨m_öfo_dry1
,0,(
Æ¨m_ªp‹t_t
));

638 
	`mem£t
(&
Æ¨m_öfo_dry2
,0,(
Æ¨m_ªp‹t_t
));

639 
Æ¨m_öfo_dry1
.
obje˘Ty≥
 = 
	`ht⁄s
(
CTC_OBJ_ONU
);

640 
Æ¨m_öfo_dry1
.
ö°™˚Num
 = 
	`ht⁄l
(0xffffffff);

641 
Æ¨m_öfo_dry2
.
obje˘Ty≥
 = 
	`ht⁄s
(
CTC_OBJ_ONU
);

642 
Æ¨m_öfo_dry2
.
ö°™˚Num
 = 
	`ht⁄l
(0xffffffff);

644 
	`dry1_Æ¨m
(&
Æ¨m_öfo_dry1
);

645 
	`dry2_Æ¨m
(&
Æ¨m_öfo_dry2
);

647 
	}
}

650 
	$p⁄_Æ¨m_ªp‹t
()

652 
Æ¨m_ªp‹t_t
 
Æ¨m_öfo
;

653 
Æ¨m_öfo
.
obje˘Ty≥
 = 
CTC_OBJ_PON_IF
;

654 
Æ¨m_öfo
.
ö°™˚Num
 = 0x0000000;

655 
	`›tiˇl_Æ¨m
(&
Æ¨m_öfo
);

656 
	}
}

658 
	$CTC_STACK_Æ¨m_gë_°©e
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, *
íabÀd
)

660 
obj_ty≥
 = 
Æ¨m_id
 & 
ALARM_OBJ_TYPE_MASK
;

661 
ö°™˚_ty≥
 = 
Æ¨m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

663 
íabÀ
;

665 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

667 
obj_ty≥
)

669 
ALARM_ONU_BASE
:

670 
íabÀ
 = 
	`gë_⁄u_Æ¨m_íabÀ
(
ö°™˚_ty≥
);

672 
ALARM_PON_IF_BASE
:

673 
íabÀ
 = 
	`gë_p⁄_Æ¨m_íabÀ
(
ö°™˚_ty≥
);

675 
ALARM_CARD_BASE
:

676  
ERROR
;

677 
ALARM_ETH_PORT_BASE
:

678 
p‹t_num
--;

679 
íabÀ
 = 
	`gë_ëh_Æ¨m_íabÀ
(
p‹t_num
, 
ö°™˚_ty≥
);

681 
ALARM_POTS_BASE
:

682 
ALARM_E1_BASE
:

684  
ERROR
;

688 
	`TRACE_ALARM_ARG
(
g_Æ¨m_p⁄_íabÀ
);

689 *
íabÀd
 = 
íabÀ
 =0 ? 
CTC_STACK_ALARM_CONFIG_DISABLED
 : 
CTC_STACK_ALARM_CONFIG_ENABLED
;

690  
NO_ERROR
;

691 
	}
}

693 
	$CTC_STACK_Æ¨m_£t_°©e
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
íabÀd
)

695 
obj_ty≥
 = 
Æ¨m_id
 & 
ALARM_OBJ_TYPE_MASK
;

696 
ö°™˚_ty≥
 = 
Æ¨m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

697 
íabÀ
 = (
íabÀd
 == 0 ? 0 : 1);

698 
i
 = 0;

700 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

702 
obj_ty≥
)

704 
ALARM_ONU_BASE
:

705 
	`c⁄fig_⁄u_Æ¨m_íabÀ
(
ö°™˚_ty≥
, 
íabÀ
);

707 
ALARM_PON_IF_BASE
:

708 
	`c⁄fig_p⁄_Æ¨m_íabÀ
(
ö°™˚_ty≥
, 
íabÀ
);

710 
ALARM_CARD_BASE
:

711  
ERROR
;

712 
ALARM_ETH_PORT_BASE
:

713 
p‹t_num
--;

714 
	`c⁄fig_ëh_Æ¨m_íabÀ
(
p‹t_num
, 
ö°™˚_ty≥
-1, 
íabÀ
);

716 
ALARM_POTS_BASE
:

717 
ALARM_E1_BASE
:

719  
ERROR
;

721 
	`TRACE_ALARM_ARG
(
g_Æ¨m_p⁄_íabÀ
);

722  
NO_ERROR
;

723 
	}
}

725 
	$£t_›tiˇl_thr
(
INT16U
 
Æ¨m_id
, 
Æ¨m_thr_t
 *
thr
)

727 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

729 
Æ¨m_id
)

731 
ALARM_RX_POWER_HIGH
:

732 
ALARM_RX_POWER_LOW
:

733 
ALARM_TX_POWER_HIGH
:

734 
ALARM_TX_POWER_LOW
:

735 
ALARM_TX_BIAS_HIGH
:

736 
ALARM_TX_BIAS_LOW
:

737 
ALARM_VCC_HIGH
:

738 
ALARM_VCC_LOW
:

739 
ALARM_TEMP_HIGH
:

740 
ALARM_TEMP_LOW
:

741 
WARNING_RX_POWER_HIGH
:

742 
WARNING_RX_POWER_LOW
:

743 
WARNING_TX_POWER_HIGH
:

744 
WARNING_TX_POWER_LOW
:

745 
WARNING_TX_BIAS_HIGH
:

746 
WARNING_TX_BIAS_LOW
:

747 
WARNING_VCC_HIGH
:

748 
WARNING_VCC_LOW
:

749 
WARNING_TEMP_HIGH
:

750 
WARNING_TEMP_LOW
:

752 
	`mem˝y
(&
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
-
ALARM_RX_POWER_HIGH
], 
thr
, (
Æ¨m_thr_t
));

755  
ERROR
;

758  
NO_ERROR
;

759 
	}
}

761 
	$gë_›tiˇl_thr
(
INT16U
 
Æ¨m_id
, 
Æ¨m_thr_t
 *
thr
)

764 
	`TRACE_ALARM_ARG
(
Æ¨m_id
);

766 
Æ¨m_id
)

768 
ALARM_RX_POWER_HIGH
:

769 
ALARM_RX_POWER_LOW
:

770 
ALARM_TX_POWER_HIGH
:

771 
ALARM_TX_POWER_LOW
:

772 
ALARM_TX_BIAS_HIGH
:

773 
ALARM_TX_BIAS_LOW
:

774 
ALARM_VCC_HIGH
:

775 
ALARM_VCC_LOW
:

776 
ALARM_TEMP_HIGH
:

777 
ALARM_TEMP_LOW
:

778 
WARNING_RX_POWER_HIGH
:

779 
WARNING_RX_POWER_LOW
:

780 
WARNING_TX_POWER_HIGH
:

781 
WARNING_TX_POWER_LOW
:

782 
WARNING_TX_BIAS_HIGH
:

783 
WARNING_TX_BIAS_LOW
:

784 
WARNING_VCC_HIGH
:

785 
WARNING_VCC_LOW
:

786 
WARNING_TEMP_HIGH
:

787 
WARNING_TEMP_LOW
:

788 
	`mem˝y
(
thr
, &
g_Æ¨m_›tiˇl_thr
[
Æ¨m_id
-
ALARM_RX_POWER_HIGH
], (
Æ¨m_thr_t
));

791  
ERROR
;

794  
NO_ERROR
;

795 
	}
}

798 
	$CTC_STACK_Æ¨m_gë_thr
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
INT32U
 *
risög_thr
, INT32U *
ÁŒög_thr
)

800 
obj_ty≥
 = 
Æ¨m_id
 & 
ALARM_OBJ_TYPE_MASK
;

801 
ö°™˚_ty≥
 = 
Æ¨m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

802 
Æ¨m_thr_t
 
thr
;

803 
nRë
 = 0;

806 
	`TRACE_ALARM_ARG
(
obj_ty≥
);

808 
obj_ty≥
)

810 
ALARM_ONU_BASE
:

811  
ERROR
;

812 
ALARM_PON_IF_BASE
:

813 
nRë
 = 
	`gë_›tiˇl_thr
(
Æ¨m_id
, &
thr
);

815 
ALARM_CARD_BASE
:

816 
ALARM_ETH_PORT_BASE
:

817 
ALARM_POTS_BASE
:

818 
ALARM_E1_BASE
:

820  
ERROR
;

823 *
risög_thr
 = 
thr
.
£tAœrmThªshﬁd
;

824 *
ÁŒög_thr
 = 
thr
.
˛órAœrmThªshﬁd
;

828 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

829 
	`TRACE_ALARM_ARG
(
nRë
);

831  
nRë
;

833 
	}
}

836 
	$CTC_STACK_Æ¨m_£t_thr
(
INT16U
 
Æ¨m_id
, 
p‹t_num
, 
INT32U
 
risög_thr
, INT32U 
ÁŒög_thr
)

838 
obj_ty≥
 = 
Æ¨m_id
 & 
ALARM_OBJ_TYPE_MASK
;

839 
ö°™˚_ty≥
 = 
Æ¨m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

840 
Æ¨m_thr_t
 
thr
;

841 
thr
.
£tAœrmThªshﬁd
 = 
risög_thr
;

842 
thr
.
˛órAœrmThªshﬁd
 = 
ÁŒög_thr
;

843 
nRë
 = -1;

845 
obj_ty≥
)

847 
ALARM_ONU_BASE
:

849  
ERROR
;

850 
ALARM_PON_IF_BASE
:

851 
nRë
 = 
	`£t_›tiˇl_thr
(
Æ¨m_id
, &
thr
);

853 
ALARM_CARD_BASE
:

854 
ALARM_ETH_PORT_BASE
:

855 
ALARM_POTS_BASE
:

856 
ALARM_E1_BASE
:

858  
ERROR
;

861 
	`TRACE_ALARM_ARG
(
nRë
);

862  
nRë
;

863 
	}
}

867 *
	$ï⁄_ﬂm_˘c_Æ¨m_thªad
(*
¨gu
)

871 
	`¶ìp
(
QUERY_TIME
);

873 if(!
	`gë_Æ¨m_swôch_°©e
())

875 
	`p‹t_Æ¨m_ªp‹t
();

879 
	`p⁄_Æ¨m_ªp‹t
();

881 #ifde‡
DRY_ALARM


882 
	`dry_Æ¨m_ªp‹t
();

886 if(
timeCou¡î
 =
COUTER_NO_USE
)

889 if(
timeCou¡î
 * 
QUERY_TIME
 =
WAIT_CTC_TIME_DELAY
)

891 
timeCou¡î
 = 
COUTER_NO_USE
;

896 
timeCou¡î
++;

899 
	`vosThªadExô
(0);

900 
	}
}

	@src/vendor/bdcom.c

9 
	~<°dio.h
>

10 
	~<°rög.h
>

11 
	~<°dlib.h
>

12 
	~<mÆloc.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<sys/°©.h
>

15 
	~<sys/sockë.h
>

16 
	~<√töë/ö.h
>

17 
	~<√t/if.h
>

20 
	~"ï⁄_ﬂm_c⁄fig.h
"

21 
	~"ï⁄_ﬂm_îr.h
"

22 
	~"ï⁄_ﬂm_db.h
"

23 
	~"ï⁄_ﬂm_dbg.h
"

24 
	~"ï⁄_ﬂm_rx.h
"

26 
	~"ﬂm.h
"

27 
	~"h3c.h
"

29 
	~"ùc_˛õ¡.h
"

30 
	~"ﬂm_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_ªq.h
"

35 
	~"bdcom.h
"

36 
	~"zã.h
"

37 
	~"lw_c⁄fig.h
"

41 
	#MODULE
 
MOD_OAM


	)

43 
u8_t
 
out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

44 
u8_t
 
ö_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
bdcom_oui
[3];

46 
u16_t
 
g_usOutD©aIdx
;

47 
ﬂm_ßã_t
 
ﬂms
;

48 
ﬂm_ö°™˚_év_t
 
	gbdcom_p‹t_ö°™˚
;

49 
p‹t_m⁄ô‹_t
 
	gp‹t_m⁄ô‹
 = {0,0, {{0,0}, {0,0}, {0,0}}};

51 
u8_t
 
	gﬂm_lök_lo°_Êag
 =0;

53 
	#EOPL_BDCOM_HEADER_PROCESS
(
code
)\

	)

55 
	gp_out
 = &
out_d©a
[0]; \

56 
e›l_ﬂm_pdu_hdr
(
p_out
, 
ﬂms
.
Êags
, 
OAM_CODE_ORG_SPEC
); \

57 
	gp_out
 +(
ﬂmpdu_hdr_t
); \

58 
vosMemCpy
(((
bdcom_hódî_t
*)
p_out
)->
oui
, 
bdcom_oui
, 3); \

59 ((
	gbdcom_hódî_t
*)
	gp_out
)->
	gext_›code
 = 
code
; \

60 
	gp_out
 +(
bdcom_hódî_t
); \

61 
	gg_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
bdcom_hódî_t
); \

65 
	#BDCOMDBG
(
°rög
Ë{\

	)

67 
¥ötf
 
	g°rög
;\

71 
	#BDCOMDBG
(
°rög
)

	)

75 
	$e›l_bdcom_£t_p‹t_isﬁ©e
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

77 
u32_t
 
ªt
;

78 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

79 
bdcom_p‹t_isﬁ©e_t
* 
p_bdcom_p‹t_isﬁ©e
;

80 
u32_t
 
ulP‹t
;

81 
ªt
 = 
NO_ERROR
;

83 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

88 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

89 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

90 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_ISOLATE
;

92 
p_bdcom_p‹t_isﬁ©e
 = (
bdcom_p‹t_isﬁ©e_t
*)
p_ö
;

93 if(
OAM_BDCOM_EXT_LEAF_ISLATE_SET
 =
p_bdcom_p‹t_isﬁ©e
->
a˘i⁄
)

95 
ulP‹t
 = 1; ulP‹à<
LOGIC_PORT_NO
; ulPort++)

97 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
ulP‹t
, 
ENABLE
);

98 if(
NO_ERROR
 !
ªt
)

104 i‡(
OAM_BDCOM_EXT_LEAF_ISLATE_UNSET
 =
p_bdcom_p‹t_isﬁ©e
->
a˘i⁄
)

106 
ulP‹t
 = 1; ulP‹à<
LOGIC_PORT_NO
; ulPort++)

108 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
ulP‹t
, 
DISABLE
);

109 if(
NO_ERROR
 !
ªt
)

117 
ªt
 = 
ERROR
;

119 if(
NO_ERROR
 =
ªt
)

121 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

125 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

128 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

131 
	}
}

132 
	$e›l_bdcom_£t_p‹t_múr‹
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

134 
u32_t
 
ªt
;

135 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

137 
bdcom_m⁄ô‹_t
* 
p_m⁄ô‹_p‹t
;

138 
bdcom_múr‹_t
* 
p_múr‹_p‹t
;

140 
u8_t
 
ii
;

141 
u8_t
 
ödex
 = 0;

142 
ªt
 = 
NO_ERROR
;

144 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

149 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

150 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

151 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MIRROR
;

153 
p_m⁄ô‹_p‹t
 = (
bdcom_m⁄ô‹_t
*)
p_ö
;

154 
p_m⁄ô‹_p‹t
->
a˘i⁄
)

156 
OAM_BDCOM_EXT_LEAF_PORT_MIRROR
:

158 if(
ﬂm_lök_lo°_Êag
)

160 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

161 
ii
=0; ii<3; ii++)

163 if(0 !
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
)

165 ()
	`DRV_DñMúr‹
(
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
+1, 
BOTH_MIRROR
);

168 ()
	`DRV_SëM⁄ô‹
(
p_m⁄ô‹_p‹t
->
m⁄ô‹_p‹t
+1, 
DISABLE
);

169 
	`mem£t
(&
p‹t_m⁄ô‹
, 0, (
p‹t_m⁄ô‹_t
));

170 
ﬂm_lök_lo°_Êag
 = 0;

173 if(0 !
p‹t_m⁄ô‹
.
em±y_Êag
)

175 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

176 
ªt
 = 
ERROR
;

177 
£nd_r•
;

179 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p_m⁄ô‹_p‹t
->
m⁄ô‹_p‹t
+1, 
ENABLE
);

180 if(
NO_ERROR
 !
ªt
)

182 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

183 
	`mem£t
(&
p‹t_m⁄ô‹
, 0, (
p‹t_m⁄ô‹_t
));

184 
˛r_£âög
;

186 
p‹t_m⁄ô‹
.
em±y_Êag
 = 1;

187 
p‹t_m⁄ô‹
.
m⁄ô‹_p‹t
 = 
p_m⁄ô‹_p‹t
->monitor_port;

188 
p_ö
 +(
bdcom_m⁄ô‹_t
);

189 
ii
 = 
p_m⁄ô‹_p‹t
->
múr‹_num
;

190 
ii
)

192 
p_múr‹_p‹t
 = (
bdcom_múr‹_t
*)
p_ö
;

193 
ªt
 = 
	`DRV_AddMúr‹
(
p_múr‹_p‹t
->
m⁄ô‹_p‹t
+1,Ö_múr‹_p‹t->
m⁄ô‹_dú
);

194 if(
NO_ERROR
 !
ªt
)

196 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

197 
˛r_£âög
;

199 
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ödex
].
p‹t
 = 
p_múr‹_p‹t
->
m⁄ô‹_p‹t
;

200 
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ödex
].
dú
 = 
p_múr‹_p‹t
->
m⁄ô‹_dú
;

201 
p_ö
 +(
bdcom_múr‹_t
);

202 
ii
--;

205 
OAM_BDCOM_EXT_LEAF_PORT_MIRROR_UNSET
:

206 if(0 =
p‹t_m⁄ô‹
.
em±y_Êag
)

208 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

209 
£nd_r•
;

211 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p‹t_m⁄ô‹
.
m⁄ô‹_p‹t
+1, 
DISABLE
);

212 if(
NO_ERROR
 !
ªt
)

214 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

215 
£nd_r•
;

217 
ii
=0; ii<3; ii++)

219 if(0 !
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
)

221 
ªt
 = 
	`DRV_DñMúr‹
(
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
+1,Ö‹t_m⁄ô‹.múr‹_p‹t[ii].
dú
);

222 if(
NO_ERROR
 !
ªt
)

224 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

225 
£nd_r•
;

229 
	`mem£t
(&
p‹t_m⁄ô‹
, 0, (
p‹t_m⁄ô‹_t
));

235 
˛r_£âög
:

237 if(
NO_ERROR
 !
ªt
)

239 
ii
=0; ii<3; ii++)

241 if(0 !
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
)

243 ()
	`DRV_DñMúr‹
(
p‹t_m⁄ô‹
.
múr‹_p‹t
[
ii
].
p‹t
+1, 
BOTH_MIRROR
);

246 ()
	`DRV_SëM⁄ô‹
(
p_m⁄ô‹_p‹t
->
m⁄ô‹_p‹t
+1, 
DISABLE
);

247 
	`mem£t
(&
p‹t_m⁄ô‹
, 0, (
p‹t_m⁄ô‹_t
));

250 
£nd_r•
:

251 if(
NO_ERROR
 =
ªt
)

253 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

257 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

260 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

263 
	}
}

265 
	$e›l_bdcom_£t_p‹t_•ìd
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

268 
u32_t
 
ªt
;

269 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

270 
bdcom_p‹t_•ìd_t
 *
p_p‹t_•ìd
;

271 
u32_t
 
ulP‹tVÆue
;

272 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

273 
ªt
 = 
NO_ERROR
;

277 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

281 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

282 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

283 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

285 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

286 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

287 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_SPEED
;

288 
p_p‹t_•ìd
 = (
bdcom_p‹t_•ìd_t
*)
p_ö
;

289 
ulP‹tVÆue
 = 
bdcom_p‹t_ö°™˚
.
vÆue
 & 0x0000000f;

290 
p_p‹t_•ìd
->
a˘i⁄
)

292 
OAM_BDCOM_EXT_LEAF_SPEED_10M
:

293 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
ulP‹tVÆue
, 
SPEED_10M
);

294 if(
NO_ERROR
 !
ªt
)

296 
£nd_r•
;

299 
OAM_BDCOM_EXT_LEAF_SPEED_100M
:

300 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
ulP‹tVÆue
, 
SPEED_100M
);

301 if(
NO_ERROR
 !
ªt
)

303 
£nd_r•
;

306 
OAM_BDCOM_EXT_LEAF_SPEED_AUTO
:

307 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
ulP‹tVÆue
, 
SPEED_AUTO
);

308 if(
NO_ERROR
 !
ªt
)

310 
£nd_r•
;

314 
ªt
 = 
ERROR
;

318 
£nd_r•
:

319 if(
NO_ERROR
 =
ªt
)

321 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

325 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

328 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_ö°™˚_év_t
);

330 
	}
}

333 
	$e›l_bdcom_£t_p‹t_du∂ex
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

335 
u32_t
 
ªt
;

336 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

337 
bdcom_p‹t_du∂ex_t
 *
p_p‹t_du∂ex
;

338 
u32_t
 
ulP‹tVÆue
;

339 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

340 
ªt
 = 
NO_ERROR
;

344 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

348 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

349 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

350 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

352 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

353 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

354 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX
;

356 
p_p‹t_du∂ex
 = (
bdcom_p‹t_du∂ex_t
*)
p_ö
;

358 
ulP‹tVÆue
 = 
bdcom_p‹t_ö°™˚
.
vÆue
 & 0x0000000f;

359 
p_p‹t_du∂ex
->
a˘i⁄
)

361 
OAM_BDCOM_EXT_LEAF_DUPLEX_HALF
:

362 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
ulP‹tVÆue
, 
DUPLEX_HALF
);

363 if(
NO_ERROR
 !
ªt
)

365 
£nd_r•
;

368 
OAM_BDCOM_EXT_LEAF_DUPLEX_FULL
:

369 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
ulP‹tVÆue
, 
DUPLEX_FULL
);

370 if(
NO_ERROR
 !
ªt
)

372 
£nd_r•
;

375 
OAM_BDCOM_EXT_LEAF_DUPLEX_AUTO
:

376 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
ulP‹tVÆue
, 
DUPLEX_AUTO
);

377 if(
NO_ERROR
 !
ªt
)

379 
£nd_r•
;

383 
ªt
 = 
ERROR
;

387 
£nd_r•
:

388 if(
NO_ERROR
 =
ªt
)

390 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

394 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

397 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_ö°™˚_év_t
);

398 
	}
}

401 
	$e›l_bdcom_£t_mgmtù
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

403 
u32_t
 
ªt
;

404 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

405 
bdcom_mgmtù_t
* 
p_mgmtù
;

406 
ªt
 = 
NO_ERROR
;

409 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

413 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

414 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

415 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MGMTIP
;

417 
p_mgmtù
 = (
bdcom_mgmtù_t
*)
p_ö
;

419 
p_mgmtù
->
a˘i⁄
)

421 
OAM_BDCOM_EXT_LEAF_IP_DHCP
:

422 
ªt
 = 
	`e›l_dh˝_h™dÀr
();

424 
OAM_BDCOM_EXT_LEAF_IP_STATIC
:

425 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_mgmtù
->
ùaddr
,Ö_mgmtù->
mask
,Ö_mgmtù->
g©eway
);

426 if(
NO_ERROR
 !
ªt
)

428 
£nd_r•
;

430 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_mgmtù
->
mvœn
);

431 if(
NO_ERROR
 !
ªt
)

433 
£nd_r•
;

437 
ªt
 = 
ERROR
;

440 
£nd_r•
:

441 if(
NO_ERROR
 =
ªt
)

443 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

447 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

450 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

453 
	}
}

456 
	$e›l_bdcom_£t_p‹t_lookback
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

458 
u32_t
 
ªt
;

459 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

460 
bdcom_p‹t_lookback_t
* 
p_p‹t_lookback
;

461 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

463 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

468 
ªt
 = 
NO_ERROR
;

470 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

471 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

472 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

474 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

475 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

476 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_LOOKBACK
;

478 
p_p‹t_lookback
 = (
bdcom_p‹t_lookback_t
*)
p_ö
;

479 
p_p‹t_lookback
->
a˘i⁄
)

481 
OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK
:

484 
OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK_UNSET
:

490 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

491 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
)+(
ﬂm_ö°™˚_év_t
);

494 
	}
}

496 
	$e›l_bdcom_£t_p‹t_mac
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

498 
u32_t
 
ªt
;

499 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

500 
bdcom_mac_t
* 
p_mac
;

501 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

503 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

508 
ªt
 = 
NO_ERROR
;

510 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

511 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

512 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

514 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

515 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

516 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC
;

518 
p_mac
 = (
bdcom_mac_t
*)
p_ö
;

519 
p_mac
->
a˘i⁄
)

521 
OAM_BDCOM_EXT_LEAF_PORT_MAC_ENABLE
:

523 
OAM_BDCOM_EXT_LEAF_PORT_MAC_DISABLE
:

529 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

530 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
)+(
ﬂm_ö°™˚_év_t
);

533 
	}
}

536 
	$e›l_bdcom_£t_p‹t_mac_num
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

538 
u32_t
 
ªt
;

539 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

540 
bdcom_p‹t_mac_num_t
* 
p_mac_num
;

541 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

542 
UINT32
 
macLimô
;

544 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

549 
ªt
 = 
NO_ERROR
;

551 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

552 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

553 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

555 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

556 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

557 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC_NUM
;

559 
p_mac_num
 = (
bdcom_p‹t_mac_num_t
*)
p_ö
;

560 
	`BDCOMDBG
(("p‹ànum:%d, ma¯mum %d\n", 
bdcom_p‹t_ö°™˚
.
vÆue
&0x0000000f,
p_mac_num
->
mac_num
));

561 
macLimô
 = (
p_mac_num
->
mac_num
)?p_mac_num->mac_num:
MAC_LEARNING_UNLIMIT
;

562 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
bdcom_p‹t_ö°™˚
.
vÆue
&0x0000000f, 
macLimô
, 
TRUE
);

563 if(
ªt
 !
DRV_OK
)

565 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

566 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

570 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

572 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
)+(
ﬂm_ö°™˚_év_t
);

575 
	}
}

577 
	$e›l_bdcom_£t_mac_agög
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

579 
u32_t
 
ªt
;

580 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

581 
bdcom_mac_agög_t
* 
p_mac_agög
;

583 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

587 
ªt
 = 
NO_ERROR
;

589 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

590 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

591 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC_AGING
;

593 
p_mac_agög
 = (
bdcom_mac_agög_t
*)
p_ö
;

596 if((
p_mac_agög
->
agögTime
<
MIN_MAC_AGETIME
Ë|| (p_mac_agög->agögTime>
MAX_MAC_AGETIME
))

598 
ªt
 = 
ERROR
;

599 
£nd_r•
;

602 
ªt
 = 
	`Io˘l_SëMacAgeTime
(
p_mac_agög
->
agögTime
*10);

603 
£nd_r•
:

604 if(
ªt
 !
DRV_OK
)

606 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

610 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

612 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

615 
	}
}

617 
	$e›l_bdcom_£t_mac_À¨nög
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

619 
u32_t
 
ªt
;

620 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

621 
bdcom_mac_À¨nög_t
* 
p_mac_À¨n
;

622 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

623 
logic_pmask_t
 
p‹t_mask
;

626 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

630 
ªt
 = 
ERROR
;

632 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

633 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

634 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC_LEARNING
;

636 
	`mem£t
(&
p‹t_mask
, 0xff, (
logic_pmask_t
));

637 
p_mac_À¨n
 = (
bdcom_mac_À¨nög_t
*)
p_ö
;

638 
p_mac_À¨n
->
a˘i⁄
)

640 
OAM_BDCOM_EXT_LEAF_MAC_LEARN_ENABLE
:

641 
ªt
 = 
	`Io˘l_SëMacLó∫E«bÀ
(
p‹t_mask
, 
ENABLE
);

643 
OAM_BDCOM_EXT_LEAF_MAC_LEARN_DISABLE
:

644 
ªt
 = 
	`Io˘l_SëMacLó∫E«bÀ
(
p‹t_mask
, 
DISABLE
);

650 if(
NO_ERROR
 !
ªt
)

652 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

653 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

657 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

660 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

663 
	}
}

665 
	$bdcom_p‹t_°©ic_mac_add
(
bdcom_mac_böd_°©ic_t
* 
p_böd_°©ic
)

667 
u32_t
 
Õ‹t
 = 0;

668 
ªt
;

669 
ii
 = 0;

670 
mac_uˇ°_t
 
gë_mac_addªss
;

671 
mac_uˇ°_t
 
£t_mac_addªss
;

676 
ii
=1; ii<=4; ii++)

678 if((
p_böd_°©ic
->
p‹tMask
>>
ii
) & 0x00000001)

684 if(5 =
ii
)

686  
ERROR
;

689 
Õ‹t
 = 
ii
;

691 
	`mem£t
(&
gë_mac_addªss
, 0, (
mac_uˇ°_t
));

693 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
Õ‹t
, 
p_böd_°©ic
->
vœn
, &
vœnMode
, &
vœnExi°
))

695  
ERROR
;

698 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

700 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_böd_°©ic
->
mac
 , &
gë_mac_addªss
);

702 if(
vœnExi°
)

704 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_böd_°©ic
->
vœn
,Ö_böd_°©ic->
mac
 , &
gë_mac_addªss
);

708  
ERROR
;

711 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_böd_°©ic
->
vœn
,Ö_böd_°©ic->
mac
 , &
gë_mac_addªss
);

714 if(
DRV_OK
 =
ªt
)

717 if(
gë_mac_addªss
.
lgcP‹t
 =
Õ‹t
)

719  
NO_ERROR
;

721 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

722  
ERROR
;

725 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
ªt
)

729 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

730 
£t_mac_addªss
.
lgcP‹t
 = 
Õ‹t
;

731 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_böd_°©ic
->
mac
 , (
mac_addªss_t
));

732 
£t_mac_addªss
.
tdVid
 = 
p_böd_°©ic
->
vœn
 ;

734 
£t_mac_addªss
.
ucSètic
 = 1;

736 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

737 if(
ªt
 !
DRV_OK
)

739 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

740  
ERROR
;

742  
NO_ERROR
;

744 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

745  
ERROR
;

746 
	}
}

748 
	$bdcom_p‹t_mac_dñ
(
bdcom_mac_böd_°©ic_t
 *
p_°©ic
, 
u8_t
 
mac_mode
)

750 
ªt
 = 
NO_ERROR
;

751 
mac_uˇ°_t
 
gë_mac_addªss
;

753 
UINT8
 
vœnMode
 = 0;

756 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_°©ic
->
vœn
,Ö_°©ic->
mac
, &
gë_mac_addªss
);

757 if(
DRV_OK
 =
ªt
)

759 if(
mac_mode
 =
BDCOM_MAC_STATIC
)

761 if(
gë_mac_addªss
.
ucSètic
)

763 ()
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

766 if(
mac_mode
 =
BDCOM_MAC_DYNAMIC
)

768 if(0 ==
gë_mac_addªss
.
ucSètic
)

770 ()
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

776 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_°©ic
->
vœn
,Ö_°©ic->
mac
, &
gë_mac_addªss
);

777 if(
DRV_OK
 !
ªt
)

780  
NO_ERROR
;

783 if(
mac_mode
 =
BDCOM_MAC_STATIC
)

785 if(0 =
gë_mac_addªss
.
ucSètic
)

787  
NO_ERROR
;

790 if(
mac_mode
 =
BDCOM_MAC_DYNAMIC
)

792 if(
gë_mac_addªss
.
ucSètic
)

794  
NO_ERROR
;

798 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

799 if(
DRV_OK
 !=
ªt
)

801 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

802  
ERROR
;

804  
NO_ERROR
;

805 
	}
}

807 
u32_t
 
	$bdcom_p‹t_mac_dy«mic_˛ór
(
u8_t
 
p‹t_id
)

809 
u32_t
 
ªt
 = 
ERROR
;

810 
mac_dñëe_t
 
bödög_mac_˛ór
;

811 
	`mem£t
(&
bödög_mac_˛ór
, 0, (
mac_dñëe_t
));

813 
bödög_mac_˛ór
.
ÊushByP‹t
 = 
ENABLE
;

814 
bödög_mac_˛ór
.
ÊushSèticAddr
 = 
DISABLE
;

815 
bödög_mac_˛ór
.
p‹t
 = 
p‹t_id
;

817 
ªt
 = 
	`Io˘l_SëMacFlushUˇ°Mac
(
bödög_mac_˛ór
);

819  
ªt
;

821 
	}
}

823 
	$e›l_bdcom_£t_mac_böd_°©ic
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

825 
ªt
 = 
ERROR
;

826 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

827 
bdcom_mac_böd_°©ic_t
* 
p_mac_böd
;

828 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

829 
u8_t
 
ii
 = 0;

831 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

835 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

836 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

837 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
;

839 
p_mac_böd
 = (
bdcom_mac_böd_°©ic_t
*)
p_ö
;

841 
p_mac_böd
->
a˘i⁄
)

843 
OAM_BDCOM_EXT_LEAF_MAC_STATIC_ADD
:

844 
ªt
 = 
	`bdcom_p‹t_°©ic_mac_add
(
p_mac_böd
);

846 
OAM_BDCOM_EXT_LEAF_MAC_STATIC_DEL
:

847 
ªt
 = 
	`bdcom_p‹t_mac_dñ
(
p_mac_böd
, 
BDCOM_MAC_STATIC
);

849 
OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL
:

850 
ªt
 = 
	`bdcom_p‹t_mac_dñ
(
p_mac_böd
, 
BDCOM_MAC_DYNAMIC
);

852 
OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL_ALL
:

854 
ii
=1; ii<=4; ii++)

856 if((
p_mac_böd
->
p‹tMask
>>
ii
) & 0x00000001)

862 if(5 =
ii
)

864 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

865 
ªt
 = 
ERROR
;

866 
£nd_r•
;

868 
ªt
 = 
	`bdcom_p‹t_mac_dy«mic_˛ór
(
ii
);

873 
£nd_r•
:

874 if(
NO_ERROR
 !
ªt
)

876 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

877 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

881 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

883 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

886 
	}
}

888 
	$e›l_bdcom_£t_•™nög_åì
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

890 
u32_t
 
ªt
;

891 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

892 
bdcom_•™nög_åì_t
* 
p_•™nög_åì
;

893 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

895 if((
NULL
==
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

900 
ªt
 = 
NO_ERROR
;

902 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

903 
p_r•
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

904 
p_r•
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_SPANNING_TREE
;

906 
p_•™nög_åì
 = (
bdcom_•™nög_åì_t
*)
p_ö
;

908 
p_•™nög_åì
->
a˘i⁄
)

910 
OAM_BDCOM_EXT_LEAF_ENABLE
:

912 
OAM_BDCOM_EXT_LEAF_DISABLE
:

915 
ªt
 = 
ERROR
;

920 
ªt
 = 
ERROR
;

921 if(
NO_ERROR
 !
ªt
)

923 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

924 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

928 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

930 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

933 
	}
}

936 
	$bdcom_gë_⁄u_p‹t_•ìd
(
u8_t
*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

938 
ªt
 = 
NO_ERROR
;

939 
bdcom_gë_v¨_t
 *
p_d©a
;

940 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

941 
PORT_SPEED_E
 
p‹t_•ìd
;

942 
u32_t
 
lök_°©us
 = 0;

945 if((
NULL
==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

950 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

951 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

952 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

955 
p_d©a
 = (
bdcom_gë_v¨_t
*)
ª∂ybuf
;

956 
p_d©a
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

957 
p_d©a
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_SPEED
;

958 
p_d©a
->
width
 = 0x01;

961 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
bdcom_p‹t_ö°™˚
.
vÆue
&0X0000000F, &
lök_°©us
);

962 if((
NO_ERROR
!=
ªt
Ë|| (
lök_°©us
==0))

964 
p_d©a
->
vÆue
 = 0XFF;

965 
£nd_r•
;

968 
ªt
 = 
	`DRV_GëP‹tS≥ed
(
bdcom_p‹t_ö°™˚
.
vÆue
&0X0000000F, &
p‹t_•ìd
);

969 if(
NO_ERROR
 !
ªt
)

971 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

972 
£nd_r•
;

975 
p‹t_•ìd
)

977 
SPEED_10M
:

978 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_10M
;

980 
SPEED_100M
:

981 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_100M
;

983 
SPEED_AUTO
:

984 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_AUTO
;

987 
p_d©a
->
vÆue
 = 0XFF;

991 
£nd_r•
:

992 *
gíÀn
 = (
bdcom_gë_v¨_t
)+ (
ﬂm_ö°™˚_év_t
);

994 
	}
}

996 
	$bdcom_gë_⁄u_p‹t_du∂ex
(
u8_t
*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

998 
ªt
 = 
NO_ERROR
;

999 
bdcom_gë_v¨_t
 *
p_d©a
;

1000 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

1001 
PORT_DUPLEX_E
 
p‹t_du∂ex
;

1002 
u32_t
 
lök_°©us
 = 0;

1004 if((
NULL
==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

1009 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

1010 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

1011 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

1013 
p_d©a
 = (
bdcom_gë_v¨_t
*)
ª∂ybuf
;

1014 
p_d©a
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1015 
p_d©a
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX
;

1016 
p_d©a
->
width
 = 0x01;

1019 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
bdcom_p‹t_ö°™˚
.
vÆue
&0X0000000F, &
lök_°©us
);

1020 if((
NO_ERROR
!=
ªt
Ë|| (
lök_°©us
==0))

1022 
p_d©a
->
vÆue
 = 0XFF;

1023 
£nd_r•
;

1026 
ªt
 = 
	`DRV_GëP‹tDu∂ex
(
bdcom_p‹t_ö°™˚
.
vÆue
&0X0000000F, &
p‹t_du∂ex
);

1027 if(
NO_ERROR
 !
ªt
)

1029 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1030 
£nd_r•
;

1033 
p‹t_du∂ex
)

1035 
DUPLEX_HALF
:

1036 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_HALF
;

1038 
DUPLEX_FULL
:

1039 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_FULL
;

1041 
DUPLEX_AUTO
:

1042 
p_d©a
->
vÆue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_AUTO
;

1045 
p_d©a
->
vÆue
 = 0XFF;

1049 
£nd_r•
:

1050 *
gíÀn
 = (
bdcom_gë_v¨_t
Ë+ (
ﬂm_ö°™˚_év_t
);

1052 
	}
}

1055 
	$bdcom_gë_⁄u_p‹t_°©s
(
u8_t
*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

1058 
u32_t
 
ªt
 = 
NO_ERROR
;

1059 
ﬂm_ö°™˚_év_t
* 
p_out_ö°™˚
;

1060 
ﬂm_bdcom_p‹t_°©s_t
* 
p_p‹t_°©s
;

1061 
UNI_COUNTER_S
 
mibCou¡îs
;

1063 if((
NULL
==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

1067 
p_out_ö°™˚
 = (
ﬂm_ö°™˚_év_t
*)
ª∂ybuf
;

1068 
	`mem˝y
(
p_out_ö°™˚
, &
bdcom_p‹t_ö°™˚
, (bdcom_port_instance));

1069 
ª∂ybuf
 +(
ﬂm_ö°™˚_év_t
);

1071 
p_p‹t_°©s
 = (
ﬂm_bdcom_p‹t_°©s_t
*)
ª∂ybuf
;

1073 
p_p‹t_°©s
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1074 
p_p‹t_°©s
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_PORT_STATS
;

1075 
p_p‹t_°©s
->
width
 = 0xf0;

1078 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
bdcom_p‹t_ö°™˚
.
vÆue
&0x0000000‡, &
mibCou¡îs
);

1079 if(
ªt
 !
NO_ERROR
)

1081 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1082 
£nd_r•
;

1084 
p_p‹t_°©s
->
ifInGoodO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

1085 
p_p‹t_°©s
->
ifInBadO˘ës
 = 
mibCou¡îs
.
ulRevBadO˘ës
;

1086 
p_p‹t_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

1087 
p_p‹t_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

1088 
p_p‹t_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

1089 
p_p‹t_°©s
->
ifInPau£Pkts
 = 
mibCou¡îs
.
InPau£
;

1090 
p_p‹t_°©s
->
ifInMacEº‹s
 = 0;

1091 
p_p‹t_°©s
->
ifInFCSEº‹s
 = 0;

1092 
p_p‹t_°©s
->
ifInUndîsizePkts
 = 0;

1093 
p_p‹t_°©s
->
ifInFøgmítPkts
 = 0;

1094 
p_p‹t_°©s
->
ifInOvîsizePkts
 = 0;

1095 
p_p‹t_°©s
->
ifJabbîPkts
 = 0;

1097 
p_p‹t_°©s
->
ifOutO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

1098 
p_p‹t_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

1099 
p_p‹t_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

1100 
p_p‹t_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

1101 
p_p‹t_°©s
->
ifOutPau£Pkts
 = 
mibCou¡îs
.
OutPau£
;

1102 
p_p‹t_°©s
->
ifOutFCSEº‹s
 = 0;

1103 
p_p‹t_°©s
->
ifOutDe„ºedPkts
 = 0;

1104 
p_p‹t_°©s
->
ifOutEx˚ssivePkts
 = 0;

1105 
p_p‹t_°©s
->
ifOutScﬁlisi⁄Pkts
 = 0;

1106 
p_p‹t_°©s
->
ifOutMCﬁlisi⁄Pkts
 = 0;

1107 
p_p‹t_°©s
->
ifOutL©ePkts
 = 
mibCou¡îs
.
OutL©e
;

1108 
p_p‹t_°©s
->
ifOutCﬁlisi⁄Pkts
 = 
mibCou¡îs
.
OutCﬁlisi⁄
;

1109 
£nd_r•
:

1110 *
gíÀn
 = (
ﬂm_bdcom_p‹t_°©s_t
Ë+ (
ﬂm_ö°™˚_év_t
);

1113 
	}
}

1114 
ªad_mac_uˇ°_dump
(
mac_dump_uˇ°_èb_t
* 
pMacTabÀ
, 
u32_t
* 
pmac_cou¡
);

1116 
bdcom_mac_fõld_t
* 
	gp_gMacTabÀ
 = 
NULL
;

1117 
	#BDCOM_GET_MAC_MAX_ENTRY
 17

	)

1120 
	$bdcom_gë_⁄u_mac_èbÀ
(
u8_t
* 
p_ö
, u8_t*
ª∂ybuf
, 
u16_t
* 
gíÀn
)

1122 
ªt
 = 
NO_ERROR
;

1123 
bdcom_gë_mac_v¨_t
 *
p_d©a
;

1124 
u32_t
 
num
 = 0;

1125 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[2048];

1126 
u32_t
 
mac_cou¡
;

1127 
u32_t
 
ii
 = 0;

1128 
bdcom_mac_fõld_t
* 
p_mac_fõld
;

1129 
bdcom_mac_böd_°©ic_t
* 
p_mac_v¨
;

1130 
u8_t
 
macZîo
[6] = {0};

1131 
bdcom_mac_fõld_t
* 
p_lﬂ˛MacTabÀ
 = 
NULL
;

1132 
u32_t
 
£nd_mac
 = 0;

1133 
u32_t
 
tŸÆ_mac
 = 0;

1135 if((
NULL
 =
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

1140 
p_d©a
 = (
bdcom_gë_mac_v¨_t
*)
ª∂ybuf
;

1141 
p_d©a
->
bønch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1142 
p_d©a
->
Àaf
 = 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
;

1143 
ª∂ybuf
 +(
bdcom_gë_mac_v¨_t
);

1145 
	`mem£t
(
ãmpMacTabÀ
, 0, (tempMacTable));

1146 
p_mac_v¨
 = (
bdcom_mac_böd_°©ic_t
*)
p_ö
;

1149 if(!
	`memcmp
(
p_mac_v¨
->
mac
, 
macZîo
, (macZero)))

1152 
ªt
 = 
	`ªad_mac_uˇ°_dump
(
ãmpMacTabÀ
, &
mac_cou¡
);

1153 if(
DRV_OK
 !
ªt
)

1155 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1156 
£nd_r•
;

1159 if(0 =
mac_cou¡
)

1162 
£nd_r•
;

1164 if(
NULL
 !
p_gMacTabÀ
)

1166 
	`‰ì
(
p_gMacTabÀ
);

1167 
p_gMacTabÀ
 = 
NULL
;

1170 
p_gMacTabÀ
 = 
	`mÆloc
(
mac_cou¡
*(
bdcom_mac_fõld_t
));

1172 if(
NULL
 !
p_gMacTabÀ
)

1174 
	`BDCOMDBG
(("\nAlloc memory successfully!\n"));

1175 
tŸÆ_mac
 = 0;

1176 
p_lﬂ˛MacTabÀ
 = 
p_gMacTabÀ
;

1178 
ii
=0; ii<
mac_cou¡
; ii++)

1181 if((
ãmpMacTabÀ
[
ii
].
Õ‹t
 <
LOGIC_PORT_NO
) && (tempMacTable[ii].lport > 0))

1183 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1184 
p_lﬂ˛MacTabÀ
->
vœn
 = 
ãmpMacTabÀ
[
ii
].
vid
;

1185 
p_lﬂ˛MacTabÀ
->
p‹tMask
 = (1 << 
ãmpMacTabÀ
[
ii
].
Õ‹t
);

1186 
p_lﬂ˛MacTabÀ
 += 1;

1187 
tŸÆ_mac
++;

1194 
	`BDCOMDBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1195 
£nd_r•
;

1199 
p_lﬂ˛MacTabÀ
 = 
p_gMacTabÀ
 + 
£nd_mac
;

1200 
num
 = 0;

1204 if((
num
 >16Ë|| (
£nd_mac
 >
tŸÆ_mac
))

1208 #i‡
	`deföed
(
CONFIG_PRODUCT_5500
)

1209 if(
p_lﬂ˛MacTabÀ
->
p‹tMask
 >> 3)

1211 
p_lﬂ˛MacTabÀ
 += 1;

1212 
£nd_mac
++;

1217 
p_mac_fõld
 = (
bdcom_mac_fõld_t
*)
ª∂ybuf
;

1218 
	`mem˝y
(
p_mac_fõld
, 
p_lﬂ˛MacTabÀ
, (
bdcom_mac_fõld_t
));

1219 
num
++;

1220 
ª∂ybuf
 +(
bdcom_mac_fõld_t
);

1221 
p_lﬂ˛MacTabÀ
 += 1;

1222 
£nd_mac
++;

1225 if(
£nd_mac
 >
tŸÆ_mac
)

1227 
£nd_mac
 = 0;

1228 
tŸÆ_mac
 = 0;

1229 
	`‰ì
(
p_gMacTabÀ
);

1230 
p_gMacTabÀ
 = 
NULL
;

1231 
	`BDCOMDBG
(("\nFree memory successfully!\n"));

1233 
p_d©a
->
ª£rve
 = 0x0301;

1234 
p_d©a
->
macNum
 = 
num
;

1235 
p_d©a
->
width
 = 
num
 * (
bdcom_mac_fõld_t
) + 3;

1237 
£nd_r•
:

1238 *
gíÀn
 = (
bdcom_gë_mac_v¨_t
Ë+ 
num
 * (
bdcom_mac_fõld_t
);

1241 
	}
}

1243 
	$e›l_bdcom_gë_ªq
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
* 
ª∂yÀn
)

1245 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_des
;

1246 
u8_t
 *
p_§c
 = 
p_ö
;

1247 
u16_t
 
gíÀn
 = 0;

1250 i‡((
p_ö
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
)

1255 *
p_ö
)

1257 
OAM_BDCOM_BRANCH_INSTANCE_V_2_1
:

1258 
bdcom_p‹t_ö°™˚
 = *((
ﬂm_ö°™˚_év_t
*)
p_ö
);

1259 
p_ö
 +(
ﬂm_ö°™˚_év_t
);

1262 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
:

1263 
p_des
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
*)
p_ö
;

1264 
p_des
->
Àaf
)

1266 
OAM_BDCOM_EXT_LEAF_SPEED
:

1267 
	`bdcom_gë_⁄u_p‹t_•ìd
(
ª∂ybuf
, &
gíÀn
);

1268 
ª∂ybuf
 +
gíÀn
;

1269 *
ª∂yÀn
 +
gíÀn
;

1271 
OAM_BDCOM_EXT_LEAF_DUPLEX
:

1272 
	`bdcom_gë_⁄u_p‹t_du∂ex
(
ª∂ybuf
, &
gíÀn
);

1273 
ª∂ybuf
 +
gíÀn
;

1274 *
ª∂yÀn
 +
gíÀn
;

1276 
OAM_BDCOM_EXT_LEAF_PORT_STATS
:

1277 
	`bdcom_gë_⁄u_p‹t_°©s
(
ª∂ybuf
, &
gíÀn
);

1278 
ª∂ybuf
 +
gíÀn
;

1279 *
ª∂yÀn
 +
gíÀn
;

1282 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
:

1283 
	`bdcom_gë_⁄u_mac_èbÀ
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1284 
ª∂ybuf
 +
gíÀn
;

1285 *
ª∂yÀn
 +
gíÀn
;

1290 
p_ö
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

1296 
	}
}

1298 
	$e›l_bdcom_£t_ªq
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
ª∂yÀn
)

1300 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

1301 
bdcom_m⁄ô‹_t
* 
p_p‹t_m⁄ô‹
;

1302 
u16_t
 
gíÀn
 = 0;

1303 #i‚de‡
CONFIG_PRODUCT_5500


1306 *
p_ö
)

1309 
OAM_BDCOM_BRANCH_INSTANCE_V_2_1
:

1310 
bdcom_p‹t_ö°™˚
 = *((
ﬂm_ö°™˚_év_t
*)
p_ö
);

1311 
p_ö
 +(
ﬂm_ö°™˚_év_t
);

1313 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
:

1314 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

1315 
p_v¨_desc
->
Àaf
)

1317 
OAM_BDCOM_EXT_LEAF_ISOLATE
:

1318 
	`e›l_bdcom_£t_p‹t_isﬁ©e
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1319 
p_ö
 +(
bdcom_p‹t_isﬁ©e_t
);

1320 
ª∂ybuf
 +
gíÀn
;

1321 *
ª∂yÀn
 +
gíÀn
;

1323 
OAM_BDCOM_EXT_LEAF_MIRROR
:

1324 
p_p‹t_m⁄ô‹
 = (
bdcom_m⁄ô‹_t
*)
p_ö
;

1325 
	`e›l_bdcom_£t_p‹t_múr‹
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1326 
p_ö
 +(
bdcom_p‹t_múr‹_t
);

1327 
p_ö
 +
p_p‹t_m⁄ô‹
->
width
;

1328 
ª∂ybuf
 +
gíÀn
;

1329 *
ª∂yÀn
 +
gíÀn
;

1331 
OAM_BDCOM_EXT_LEAF_SPEED
:

1332 
	`e›l_bdcom_£t_p‹t_•ìd
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1333 
p_ö
 +(
bdcom_p‹t_•ìd_t
);

1334 
ª∂ybuf
 +
gíÀn
;

1335 *
ª∂yÀn
 +
gíÀn
;

1337 
OAM_BDCOM_EXT_LEAF_DUPLEX
:

1338 
	`e›l_bdcom_£t_p‹t_du∂ex
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1339 
p_ö
 +(
bdcom_p‹t_du∂ex_t
);

1340 
ª∂ybuf
 +
gíÀn
;

1341 *
ª∂yÀn
 +
gíÀn
;

1343 
OAM_BDCOM_EXT_LEAF_MGMTIP
:

1344 
	`e›l_bdcom_£t_mgmtù
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1345 
p_ö
 +(
bdcom_mgmtù_t
);

1346 
ª∂ybuf
 +
gíÀn
;

1347 *
ª∂yÀn
 +
gíÀn
;

1349 
OAM_BDCOM_EXT_LEAF_LOOKBACK
:

1350 
	`e›l_bdcom_£t_p‹t_lookback
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1351 
p_ö
 +(
bdcom_p‹t_lookback_t
);

1352 
ª∂ybuf
 +
gíÀn
;

1353 *
ª∂yÀn
 +
gíÀn
;

1355 
OAM_BDCOM_EXT_LEAF_MAC
:

1356 
	`e›l_bdcom_£t_p‹t_mac
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1357 
p_ö
 +(
bdcom_mac_t
);

1358 
ª∂ybuf
 +
gíÀn
;

1359 *
ª∂yÀn
 +
gíÀn
;

1361 
OAM_BDCOM_EXT_LEAF_MAC_NUM
:

1362 
	`e›l_bdcom_£t_p‹t_mac_num
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1363 
p_ö
 +(
bdcom_p‹t_mac_num_t
);

1364 
ª∂ybuf
 +
gíÀn
;

1365 *
ª∂yÀn
 +
gíÀn
;

1367 
OAM_BDCOM_EXT_LEAF_MAC_AGING
:

1368 
	`e›l_bdcom_£t_mac_agög
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1369 
p_ö
 +(
bdcom_mac_agög_t
);

1370 
ª∂ybuf
 +
gíÀn
;

1371 *
ª∂yÀn
 +
gíÀn
;

1373 
OAM_BDCOM_EXT_LEAF_MAC_LEARNING
:

1374 
	`e›l_bdcom_£t_mac_À¨nög
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1375 
p_ö
 +(
bdcom_mac_À¨nög_t
);

1376 
ª∂ybuf
 +
gíÀn
;

1377 *
ª∂yÀn
 +
gíÀn
;

1379 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
:

1380 
	`e›l_bdcom_£t_mac_böd_°©ic
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1381 
p_ö
 +(
bdcom_mac_böd_°©ic_t
);

1382 
ª∂ybuf
 +
gíÀn
;

1383 *
ª∂yÀn
 +
gíÀn
;

1385 
OAM_BDCOM_EXT_LEAF_SPANNING_TREE
:

1386 
	`e›l_bdcom_£t_•™nög_åì
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1387 
p_ö
 +(
bdcom_•™nög_åì_t
);

1388 
ª∂ybuf
 +
gíÀn
;

1389 *
ª∂yÀn
 +
gíÀn
;

1403 
	}
}

1404 
	$e›l_bdcom_pdu_¥o˚ss
(

1405 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1406 *
pFøme
,

1407 
Àngth
,

1408 *
pRïlyBuf
,

1409 
bufLí
,

1410 *
pRïlyLí
)

1412 
ªt
 = 
EPON_OAM_ERR_OK
;

1413 
u8_t
 *
p_byã
;

1414 
bdcom_hódî_t
 *
p_bdcom_hdr
;

1415 
bdcom_hódî_t
 *
p_out_bdcom_hdr
;

1417 *
pRïlyLí
 = 0;

1418 if((
Àngth
 < 
BDCOM_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < BDCOM_ORGSPEC_HDR_LEN))

1421  
EPON_OAM_ERR_PARAM
;

1424 
p_byã
 = 
pFøme
;

1425 
p_bdcom_hdr
 = (
bdcom_hódî_t
*)
pFøme
;

1426 
p_byã
 +(
bdcom_hódî_t
);

1428 
p_out_bdcom_hdr
 = (
bdcom_hódî_t
*)
pRïlyBuf
;

1429 
	`mem˝y
(
p_out_bdcom_hdr
->
oui
, 
p_bdcom_hdr
->oui, 3);

1431 *
pRïlyLí
 +(
bdcom_hódî_t
);

1432 
pRïlyBuf
 +(
bdcom_hódî_t
);

1434 
p_bdcom_hdr
->
ext_›code
)

1436 
OAM_BDCOM_EXT_OPCODE_GET_REQUEST
:

1437 
p_out_bdcom_hdr
->
ext_›code
 = 
OAM_BDCOM_EXT_OPCODE_GET_RESPONSE
;

1438 
	`e›l_bdcom_gë_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

1440 
OAM_BDCOM_EXT_OPCODE_SET_REQUEST
:

1441 
p_out_bdcom_hdr
->
ext_›code
 = 
OAM_BDCOM_EXT_OPCODE_SET_RESPONSE
;

1442 
	`e›l_bdcom_£t_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

1448  
ªt
;

1449 
	}
}

1451 
	$bdcom_ﬂm_öô
()

1453 
i
, 
ªt
;

1454 
oui
[] = 
BDCOM_OAM_OUI
;

1455 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

1458 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_bdcom_pdu_¥o˚ss
;

1459 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

1460 
EPON_OAM_CBTYPE_ORGSPEC
,

1461 
oui
,

1462 (*Ë&
‹gS≥cCb
);

1463 if(
EPON_OAM_ERR_OK
 !
ªt
)

1465 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1467  
EPON_OAM_ERR_UNKNOWN
;

1470  
EPON_OAM_ERR_OK
;

1471 
	}
}

	@src/vendor/fiberhome.c

9 
	~<°dio.h
>

10 
	~<°rög.h
>

11 
	~<°dlib.h
>

12 
	~<mÆloc.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<sys/°©.h
>

15 
	~<sys/sockë.h
>

16 
	~<√töë/ö.h
>

17 
	~<√t/if.h
>

20 
	~"ï⁄_ﬂm_c⁄fig.h
"

21 
	~"ï⁄_ﬂm_îr.h
"

22 
	~"ï⁄_ﬂm_db.h
"

23 
	~"ï⁄_ﬂm_dbg.h
"

24 
	~"ï⁄_ﬂm_rx.h
"

26 
	~"ﬂm.h
"

27 
	~"fibîhome.h
"

29 
	~"ùc_˛õ¡.h
"

30 
	~"ﬂm_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_ªq.h
"

35 
	~"mc_c⁄åﬁ.h
"

36 
	~"lw_c⁄fig.h
"

37 
	~"sy°em.h
"

39 
	#MAX_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

41 
	#OAM_SUPPORT_FIBERHOME_EXT


	)

42 #ifde‡
OAM_SUPPORT_FIBERHOME_EXT


43 
u16_t
 
g_usOutD©aIdx
;

44 
u8_t
 
out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
ö_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

46 
ﬂm_ßã_t
 
ﬂms
;

47 
u8_t
 
fibîhome_⁄u_oui
[3];

48 
u32_t
 
	gulSequí˚Num_FIBERHOME
 = 0;

49 
	gùc_fd
;

51 
	#MODULE
 
MOD_OAM


	)

52 
	#MAX_FILTER_NUM
 32

	)

53 
	#INVALID_8
 0xFF

	)

55 
u8_t
 
uni_p‹t_auto_√gŸüti⁄
;

57 
fibîhome_p‹t_mode_t
 
	g°_p‹t_mode
[4] =

59 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

60 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

61 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

62 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
}

66 
	#FIBERHOME_DBG
 
¥ötf


	)

68 
	#FIBERHOME_DBG
(
fmt
, ...)

	)

71 
	$ﬂm_ùc_gë_sys_√tw‹kög
(
sys_√tw‹k_t
 *
öfo
)

73 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

74 
ªt
;

75 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

76 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

77 i‡(
öfo
){

78 
	`mem˝y
(
öfo
, &
∑ck
->
√tw‹k
, (*info));

80 
ªt
 = 0;

81 }i‡(
∑ck
){

82 
ªt
 = 
∑ck
->
hdr
.
°©us
;

84 
ªt
 = 
IPC_STATUS_FAIL
;

86 if(
∑ck
Ë
	`‰ì
(pack);

88  
ªt
;

89 
	}
}

91 
	$ﬂm_ùc_£t_sys_√tw‹kög
(
ùc_√tw‹k_t
 *
öfo
)

93 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

94 
ªt
;

95 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

96 i‡(
∑ck
){

97 
ªt
 = 
∑ck
->
hdr
.
°©us
;

99 
ªt
 = 
IPC_STATUS_FAIL
;

102 if(
∑ck
Ë
	`‰ì
(pack);

103  
ªt
;

104 
	}
}

106 
	$ﬂm_ùc_gë_sys_mvœn
(
sys_mvœn_t
 *
mvœn
)

108 
ùc_sys_mvœn_ack_t
 *
∑ck
;

109 
ªt
;

110 
∑ck
 = 
	`ùc_sys_mvœn
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

111 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

112 i‡(
mvœn
){

113 
	`mem˝y
(
mvœn
, &
∑ck
->mvlan, (*mvlan));

115 
ªt
 = 0;

116 }i‡(
∑ck
){

117 
ªt
 = 
∑ck
->
hdr
.
°©us
;

119 
ªt
 = 
IPC_STATUS_FAIL
;

121 if(
∑ck
Ë
	`‰ì
(pack);

123  
ªt
;

124 
	}
}

126 
	$ﬂm_ùc_£t_sys_mvœn
(
sys_mvœn_t
 *
öfo
)

128 
ùc_sys_mvœn_ack_t
 *
∑ck
;

129 
ªt
;

130 
∑ck
 = 
	`ùc_sys_mvœn
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

131 i‡(
∑ck
){

132 
ªt
 = 
∑ck
->
hdr
.
°©us
;

134 
ªt
 = 
IPC_STATUS_FAIL
;

137 if(
∑ck
Ë
	`‰ì
(pack);

138  
ªt
;

139 
	}
}

141 
	$ﬂm_ùc_gë_sys_ï⁄
(
sys_ï⁄_t
 *
öfo
)

143 
ùc_sys_ï⁄_ack_t
 *
∑ck
;

144 
ªt
;

145 
∑ck
 = 
	`ùc_sys_ï⁄
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

147 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

148 i‡(
öfo
){

149 
	`mem˝y
(
öfo
, &
∑ck
->
ï⁄_öfo
, (*info));

151 
ªt
 = 0;

152 }i‡(
∑ck
){

153 
ªt
 = 
∑ck
->
hdr
.
°©us
;

155 
ªt
 = 
IPC_STATUS_FAIL
;

158 if(
∑ck
Ë
	`‰ì
(pack);

159  
ªt
;

160 
	}
}

162 
	$ﬂm_ùc_£t_sys_lo›
(
sys_lo›_t
 *
öfo
)

164 
ùc_sys_lo›_ack_t
 *
∑ck
;

165 
ªt
;

166 
∑ck
 = 
	`ùc_sys_lo›
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

167 i‡(
∑ck
){

168 
ªt
 = 
∑ck
->
hdr
.
°©us
;

170 
ªt
 = 
IPC_STATUS_FAIL
;

173 if(
∑ck
Ë
	`‰ì
(pack);

174  
ªt
;

175 
	}
}

177 
	$ﬂm_ùc_gë_sys_lo›
(
sys_lo›_t
 *
öfo
)

179 
ùc_sys_lo›_ack_t
 *
∑ck
;

180 
ªt
;

181 
∑ck
 = 
	`ùc_sys_lo›
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

183 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

184 i‡(
öfo
){

185 
	`mem˝y
(
öfo
, &
∑ck
->
lo›
, (*info));

187 
ªt
 = 0;

188 }i‡(
∑ck
){

189 
ªt
 = 
∑ck
->
hdr
.
°©us
;

191 
ªt
 = 
IPC_STATUS_FAIL
;

194 if(
∑ck
Ë
	`‰ì
(pack);

195  
ªt
;

196 
	}
}

198 
	$e›l_fibîhome_gë_uni_°©s
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
, u8_t* 
ª∂ybuf
, u16_à*
ª∂yÀn
)

200 
fibîhome_°©s_t
* 
p_fibîhome_°©s
;

201 
u32_t
 
Õ‹t
 = (u32_t)(*
p_ö
) + 1;

202 
u32_t
 
ªt
 = 
NO_ERROR
;

203 
UNI_COUNTER_S
 
mibCou¡îs
;

205 
u32_t
 
p‹t_du∂ex
 = 0;

206 
u32_t
 
p‹t_•ìd
 = 0;

207 
u32_t
 
lök_°©us
 = 0;

208 
íabÀ
=
FALSE
;

209 if((
Õ‹t
 > 
ODM_NUM_OF_PORTS
) || (0 ==Üport))

211 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

212  
ERROR
;

214 
ªt
 = 
	`Io˘l_GëP‹tAut⁄eg
(
Õ‹t
,&
íabÀ
);

215 if(
ªt
 !
DRV_OK
)

217 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %dÑë %d\n", 
__FILE__
, 
__LINE__
,
ªt
);

218  
ªt
;

220 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
Õ‹t
, &
mibCou¡îs
);

221 if(
ªt
 !
NO_ERROR
)

223 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

224  
ªt
;

227 
ªt
 = 
	`DRV_GëP‹tDu∂ex
(
Õ‹t
, &
p‹t_du∂ex
);

228 if(
ªt
 !
NO_ERROR
)

230 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

231  
ªt
;

234 
ªt
 = 
	`DRV_GëP‹tS≥ed
(
Õ‹t
, &
p‹t_•ìd
);

235 if(
ªt
 !
NO_ERROR
)

237 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

238  
ªt
;

241 
p_fibîhome_°©s
 = (
fibîhome_°©s_t
*)(
ª∂ybuf
);

242 if(
TRUE
 !
íabÀ
)

244 
p_fibîhome_°©s
->
•ìdTy≥
 = 0x01;

245 
p_fibîhome_°©s
->
du∂exTy≥
 = 0x01;

249 
p_fibîhome_°©s
->
•ìdTy≥
 = 0x00;

250 
p_fibîhome_°©s
->
du∂exTy≥
 = 0x00;

254 if(
FIBERHOME_PORT_MODE_DUPLEX_AUTO
 !
°_p‹t_mode
[
Õ‹t
-1].
du∂exTy≥
)

256 
p_fibîhome_°©s
->
du∂exTy≥
 = 0x01;

260 
p_fibîhome_°©s
->
du∂exTy≥
 = 0x00;

263 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
Õ‹t
, &
lök_°©us
);

265 if((
NO_ERROR
!=
ªt
Ë|| (
lök_°©us
==0))

267 
p_fibîhome_°©s
->
•ìd
 = 0XFF;

268 
p_fibîhome_°©s
->
du∂ex
 = 0XFF;

269 
£nd_r•
;

271 ()
	`DRV_GëP‹tDu∂ex
(
Õ‹t
, &
p‹t_du∂ex
);

272 ()
	`DRV_GëP‹tS≥ed
(
Õ‹t
, &
p‹t_•ìd
);

274 
p‹t_du∂ex
)

276 
DUPLEX_HALF
:

277 
p_fibîhome_°©s
->
du∂ex
 = 
FIBERHOME_PORT_MODE_DUPLEX_HALF
;

279 
DUPLEX_FULL
:

280 
p_fibîhome_°©s
->
du∂ex
 = 
FIBERHOME_PORT_MODE_DUPLEX_FULL
;

283 
p_fibîhome_°©s
->
du∂ex
 = 0XFF;

287 
p‹t_•ìd
)

289 
SPEED_10M
:

290 
p_fibîhome_°©s
->
•ìd

FIBERHOME_PORT_MODE_SPEED_10M
;

292 
SPEED_100M
:

293 
p_fibîhome_°©s
->
•ìd
 = 
FIBERHOME_PORT_MODE_SPEED_100M
;

295 
SPEED_1000M
:

296 
p_fibîhome_°©s
->
•ìd
 = 
FIBERHOME_PORT_MODE_SPEED_1000M
;

299 
p_fibîhome_°©s
->
•ìd
 = 0XFF;

303 
£nd_r•
:

304 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
Õ‹t
, &
mibCou¡îs
);

305 if(
ªt
 !
NO_ERROR
)

307 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

308 
£nd_Æl
;

310 
p_fibîhome_°©s
->
ifInO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

311 
p_fibîhome_°©s
->
ifInCRCEº‹s
 = 
mibCou¡îs
.
InCrcEº‹
;

312 
p_fibîhome_°©s
->
ifInPau£Pkts
 = 
mibCou¡îs
.
InPau£
;

314 
p_fibîhome_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

315 
p_fibîhome_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

316 
p_fibîhome_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

317 
p_fibîhome_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

318 
p_fibîhome_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

319 
p_fibîhome_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

321 
p_fibîhome_°©s
->
ifInBuf„rEº‹s
 = 0;

323 
p_fibîhome_°©s
->
ifInRu¡sPkts
 = 
mibCou¡îs
.
InUndîÊow
;

324 
p_fibîhome_°©s
->
ifInGü¡sPkts
 = 
mibCou¡îs
.
InOvîÊow
;

325 
p_fibîhome_°©s
->
ifInRxEº‹s
 = 
mibCou¡îs
.
InEº‹
;

327 
p_fibîhome_°©s
->
ifOutO˘ësL
 = (
u32_t
)(
mibCou¡îs
.
uiTønsO˘ës
);

328 
p_fibîhome_°©s
->
ifOutO˘ësH
 = (
u32_t
)(
mibCou¡îs
.
uiTønsO˘ës
 >> 32);

330 
p_fibîhome_°©s
->
ifOutPau£Pkts
 = 
mibCou¡îs
.
OutPau£
;

331 
p_fibîhome_°©s
->
ifOutde„ºed
 = 0;

332 
p_fibîhome_°©s
->
ifOutcﬁlisi⁄s
 = 
mibCou¡îs
.
OutCﬁlisi⁄
;

333 
p_fibîhome_°©s
->
ifOutTxEº
 = 
mibCou¡îs
.
OutEº‹
;

335 
£nd_Æl
:

336 *
ª∂yÀn
 +(
fibîhome_°©s_t
);

338  
ªt
;

339 
	}
}

341 
	$e›l_fibîhome_gë_bﬂrd_°©s
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
, u8_t* 
ª∂ybuf
, u16_à*
ª∂yÀn
)

343 #i‡
	`deföed
(
CONFIG_PRODUCT_5500
)

344 
tmp_buf
[81]={ 'N', '5', '5', '0', '0', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

350 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104N
)

351 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

357 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104W
)

358 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'W', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

365 
tmp_buf
[81]={ 'U', 'N', 'K', 'N', 'O', 'W', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

373 
	`mem˝y
(
ª∂ybuf
, 
tmp_buf
, (tmp_buf));

374 *
ª∂yÀn
 +(
tmp_buf
);

376  
NO_ERROR
;

377 
	}
}

380 
	$e›l_fibîhome_gë_⁄u_mac_agëime
(
u8_t
* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

382 
ªt
 = 
NO_ERROR
;

383 
fibîhome_mac_agög_t
 *
p_r°p
;

384 
u32_t
 
agög_time
 = 0;

386 
p_r°p
 = (
fibîhome_mac_agög_t
*)
ª∂ybuf
;

387 
p_r°p
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

388 
p_r°p
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
;

389 
p_r°p
->
width
 = 0x02;

391 
ªt
 = 
	`Io˘l_GëMacAgeTime
(&
agög_time
);

392 
p_r°p
->
agögTime
 = 
agög_time
/10;

393 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "£àma¯add∏agögÅimê%d\n", 
p_r°p
->
agögTime
);

394 *
gíÀn
 = (
fibîhome_mac_agög_t
);

397 
	}
}

399 
	$e›l_fibîhome_gë_⁄u_p‹t_£∑øã
(
u8_t
* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

401 
ªt
 = 
NO_ERROR
;

402 
fibîhome_p‹t_£∑øã_t
 *
p_r°p
;

403 
logic_pmask_t
 
lmask
;

404 
ulP‹t
;

406 
p_r°p
 = (
fibîhome_p‹t_£∑øã_t
*)
ª∂ybuf
;

407 
p_r°p
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

408 
p_r°p
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
;

409 
p_r°p
->
width
 = 0x02;

411 
ªt
 = 
	`Io˘l_GëIsﬁ©eSë
(&
lmask
);

413 if(0 !*
lmask
.
pbôs
)

415 
p_r°p
->
£∑øã
 = 1;

419 
p_r°p
->
£∑øã
 = 0;

422 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "£àma¯add∏agögÅimê%d\n", 
p_r°p
->
£∑øã
);

423 *
gíÀn
 = (
fibîhome_p‹t_£∑øã_t
);

426 
	}
}

428 
	$e›l_fibîhome_£t_⁄u_mac_limô
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

430 
u32_t
 
ªt
 = 
NO_ERROR
;

431 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

432 
fibîhome_mac_limô_t
* 
p_limô
;

433 *
p‹t
;

434 
logic_pmask_t
 
p‹t_mask
;

436 
p‹t
 = 
p_ö
;

437 
p_ö
++;

438 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

439 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

440 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_LIMIT
;

442 
p_limô
 = (
fibîhome_mac_limô_t
*)
p_ö
;

444 
	`mem£t
(&
p‹t_mask
, *
p‹t
, (
logic_pmask_t
));

446 
p_limô
->
íabÀ
)

448 
OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_ENABLE
:

449 
ªt
 = 
	`Io˘l_SëMacLó∫E«bÀ
(
p‹t_mask
, 
ENABLE
);

451 
OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_DISABLE
:

452 
ªt
 = 
	`Io˘l_SëMacLó∫E«bÀ
(
p‹t_mask
, 
DISABLE
);

458 if(
p_limô
->
numLimô
 >= 0x0800)

460 
ªt
 = 
ERROR
;

461 
£nd_r•
;

463 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(*
p‹t
, 
p_limô
->
numLimô
, 
TRUE
);

465 
£nd_r•
:

466 if(
ªt
 !
DRV_OK
)

468 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

472 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

475 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

477 
	}
}

480 
	$e›l_fibîhome_gë_⁄u_ö°™˚_mac_limô
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

482 
fibîhome_ö°™˚_mac_limô_t
 *
p_r°p
;

483 
fibîhome_ö°™˚_mac_limô_t
 *
p_d©a
;

484 
p_r°p
 = (
fibîhome_ö°™˚_mac_limô_t
*)
ª∂ybuf
;

485 
p_d©a
 = (
fibîhome_ö°™˚_mac_limô_t
*)
p_ö
;

487 
p_r°p
->
bønch
 = 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
;

488 
p_r°p
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
;

489 
p_r°p
->
width
 = 0x04;

491 
p_r°p
->
bønch
 = 
p_d©a
->branch;

492 
p_r°p
->
Àaf
 = 
p_d©a
->leaf;

493 
p_r°p
->
width
 = 
p_d©a
->width;

494 
p_r°p
->
vÆue
 = 
p_d©a
->value;

495 *
gíÀn
 = (
fibîhome_ö°™˚_mac_limô_t
);

498 
	}
}

500 
	$fibîhome_gë_⁄u_p‹t_°©s
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

502 
ªt
 = 
NO_ERROR
;

503 
fibîhome_p‹t_°©s_t
* 
p_°©s
;

504 
fibîhome_p‹t_t
 *
p_p‹t
;

505 
UNI_COUNTER_S
 
mibCou¡îs
;

507 
p_°©s
 = (
fibîhome_p‹t_°©s_t
*)
ª∂ybuf
;

508 
p_°©s
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

509 
p_°©s
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_STATS
;

510 
p_°©s
->
width
 = (
fibîhome_p‹t_°©s_t
)-4;

512 
p_p‹t
 = (
fibîhome_p‹t_t
*)
p_ö
;

514 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
p_p‹t
->
p‹t
, &
mibCou¡îs
);

515 if(
ªt
 !
NO_ERROR
)

517 
	`FIBERHOME_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

518 
£nd_r•
;

520 
p_°©s
->
ifInO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

521 
p_°©s
->
ifInTŸÆPkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
+mibCou¡îs.
InMu…iˇ°
+mibCou¡îs.
InUniˇ°
;

522 
p_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

523 
p_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

524 
p_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

525 
p_°©s
->
ifInRxDisˇrdPkts
 = 0;

527 
p_°©s
->
ifInRu¡sPkts
 = 
mibCou¡îs
.
InUndîÊow
;

528 
p_°©s
->
ifInEº‹Pkts
 = 0;

529 
p_°©s
->
ifInGü¡sPkts
 = 
mibCou¡îs
.
InOvîÊow
;

530 
p_°©s
->
ifInUnknowPkts
 = 0;

531 
p_°©s
->
ifInCRCPkts
 = 
mibCou¡îs
.
InCrcEº‹
;

533 
p_°©s
->
ifOutO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

534 
p_°©s
->
ifOutTŸÆPkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
+mibCou¡îs.
OutMu…iˇ°
+mibCou¡îs.
OutUniˇ°
;

535 
p_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

536 
p_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

537 
p_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

539 
£nd_r•
:

540 *
gíÀn
 = (
fibîhome_p‹t_°©s_t
);

542 
	}
}

547 
	$fibîhome_gë_⁄u_p‹t_r°p
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

549 
ªt
 = 
NO_ERROR
;

550 
fibîhome_r°p_t
 *
p_r°p
;

551 
fibîhome_p‹t_t
 *
p_p‹t
;

553 
p_p‹t
 = (
fibîhome_p‹t_t
*)
p_ö
;

554 
p_r°p
 = (
fibîhome_r°p_t
*)
ª∂ybuf
;

555 
p_r°p
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

556 
p_r°p
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_RSTP
;

557 
p_r°p
->
width
 = 0x02;

558 
p_r°p
->
vÆue
 = 0x20;

560 *
gíÀn
 = (
fibîhome_r°p_t
);

562 
	}
}

564 
fibîhome_mac_fõld_t
* 
	gp_gMacTabÀ
 = 
NULL
;

566 
	$fibîhome_gë_⁄u_mac_èbÀ
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

569 
ªt
 = 
NO_ERROR
;

570 
fibîhome_gë_mac_v¨_t
 *
p_d©a
;

571 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

572 
u32_t
 
num
 = 0;

573 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[2048];

574 
u32_t
 
mac_cou¡
;

575 
u32_t
 
ii
 = 0;

576 
fibîhome_mac_fõld_t
* 
p_mac_fõld
;

577 
fibîhome_mac_böd_°©ic_t
* 
p_mac_v¨
;

578 
u8_t
 
macZîo
[6] = {0};

579 
fibîhome_mac_fõld_t
* 
p_lﬂ˛MacTabÀ
 = 
NULL
;

580 
u32_t
 
£nd_mac
 = 0;

581 
u32_t
 
tŸÆ_mac
 = 0;

582 
u8_t
 *
°a_ch¨
 = 
NULL
;

583 
u8_t
 
tmp_buf
[11] =

585 if((
NULL
 =
p_ö
Ë|| (NULL==
ª∂ybuf
Ë|| (NULL==
gíÀn
))

591 
	`mem£t
(
ãmpMacTabÀ
, 0, (tempMacTable));

592 
p_mac_v¨
 = (
fibîhome_mac_böd_°©ic_t
*)
p_ö
;

595 if(!
	`memcmp
(
p_mac_v¨
->
mac
, 
macZîo
, (macZero)))

598 
ªt
 = 
	`ªad_mac_uˇ°_dump
(
ãmpMacTabÀ
, &
mac_cou¡
);

599 if(
DRV_OK
 !
ªt
)

601 
	`FIBERHOME_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

602 
£nd_r•
;

605 if(0 =
mac_cou¡
)

608 
£nd_r•
;

610 if(
NULL
 !
p_gMacTabÀ
)

612 
	`‰ì
(
p_gMacTabÀ
);

613 
p_gMacTabÀ
 = 
NULL
;

616 
p_gMacTabÀ
 = 
	`mÆloc
(
mac_cou¡
*(
fibîhome_mac_fõld_t
));

618 if(
NULL
 !
p_gMacTabÀ
)

620 
	`FIBERHOME_DBG
(("\nAlloc memory successfully!\n"));

621 
tŸÆ_mac
 = 0;

622 
p_lﬂ˛MacTabÀ
 = 
p_gMacTabÀ
;

624 
ii
=0; ii<
mac_cou¡
; ii++)

627 if((
ãmpMacTabÀ
[
ii
].
Õ‹t
 <
LOGIC_PORT_NO
) && (tempMacTable[ii].lport > 0))

629 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

630 
p_lﬂ˛MacTabÀ
->
vœn
 = 
ãmpMacTabÀ
[
ii
].
vid
;

631 
p_lﬂ˛MacTabÀ
->
p‹tMask
 = (1 << 
ãmpMacTabÀ
[
ii
].
Õ‹t
);

632 
p_lﬂ˛MacTabÀ
 += 1;

633 
tŸÆ_mac
++;

640 
	`FIBERHOME_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

641 
£nd_r•
;

645 
p_lﬂ˛MacTabÀ
 = 
p_gMacTabÀ
 + 
£nd_mac
;

646 
num
 = 0;

650 if((
num
 >16Ë|| (
£nd_mac
 >
tŸÆ_mac
))

654 #i‡
	`deföed
(
CONFIG_PRODUCT_5500
)

655 if(
p_lﬂ˛MacTabÀ
->
p‹tMask
 >> 3)

657 
p_lﬂ˛MacTabÀ
 += 1;

658 
£nd_mac
++;

662 
p_d©a
 = (
fibîhome_gë_mac_v¨_t
*)
ª∂ybuf
;

663 
p_d©a
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

664 
p_d©a
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
;

665 
p_d©a
->
width
 = 0x12;

666 
ª∂ybuf
 +(
fibîhome_gë_mac_v¨_t
);

667 
°a_ch¨
 = 
ª∂ybuf
;

668 
	`mem˝y
(
°a_ch¨
, 
tmp_buf
, (tmp_buf));

669 
ª∂ybuf
 +=(
tmp_buf
);

670 
p_mac_fõld
 = (
fibîhome_mac_fõld_t
*)
ª∂ybuf
;

671 
	`mem˝y
(
p_mac_fõld
, 
p_lﬂ˛MacTabÀ
, (
fibîhome_mac_fõld_t
));

672 
num
++;

673 
ª∂ybuf
 +(
fibîhome_mac_fõld_t
);

674 
p_lﬂ˛MacTabÀ
 += 1;

675 
£nd_mac
++;

678 if(
£nd_mac
 >
tŸÆ_mac
)

680 
£nd_mac
 = 0;

681 
tŸÆ_mac
 = 0;

682 
	`‰ì
(
p_gMacTabÀ
);

683 
p_gMacTabÀ
 = 
NULL
;

684 
	`FIBERHOME_DBG
(("\nFree memory successfully!\n"));

686 
p_d©a
->
macNum
 = 
num
;

687 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

688 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

689 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
;

690 
p_r•
->
ödiˇti⁄
 = 0x80;

691 
£nd_r•
:

692 *
gíÀn
 = 
num
 *((
fibîhome_gë_mac_v¨_t
Ë+ (
fibîhome_mac_fõld_t
)+11)+(
ﬂm_£t_ª•⁄£_t
);

696 
	}
}

700 
	$e›l_fibîhome_gë_ªq
(
u8_t
 *
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
ª∂yÀn
)

702 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

703 
u16_t
 
gíÀn
 = 0;

706 *
p_ö
)

708 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
:

709 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

710 
p_v¨_desc
->
Àaf
)

712 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
:

713 
	`e›l_fibîhome_gë_⁄u_ö°™˚_mac_limô
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

714 
p_ö
 +(
fibîhome_ö°™˚_mac_limô_t
);

715 
ª∂ybuf
 +
gíÀn
;

716 *
ª∂yÀn
 +
gíÀn
;

719 
p_ö
 +(
ﬂm_£t_ª•⁄£_t
);

723 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
:

724 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

725 
p_v¨_desc
->
Àaf
)

727 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
:

728 
	`e›l_fibîhome_gë_⁄u_mac_agëime
(
ª∂ybuf
, &
gíÀn
);

729 
p_ö
 +(
fibîhome_mac_agög_t
);

730 
ª∂ybuf
 +
gíÀn
;

731 *
ª∂yÀn
 +
gíÀn
;

733 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
:

734 
	`e›l_fibîhome_gë_⁄u_p‹t_£∑øã
(
ª∂ybuf
, &
gíÀn
);

735 
p_ö
 +(
fibîhome_p‹t_£∑øã_t
);

736 
ª∂ybuf
 +
gíÀn
;

737 *
ª∂yÀn
 +
gíÀn
;

739 
OAM_FIBERHOME_EXT_LEAF_STATS
:

740 
	`fibîhome_gë_⁄u_p‹t_°©s
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

741 
p_ö
 +(
fibîhome_p‹t_t
);

742 
ª∂ybuf
 +
gíÀn
;

743 *
ª∂yÀn
 +
gíÀn
;

745 
OAM_FIBERHOME_EXT_LEAF_RSTP
:

746 
	`fibîhome_gë_⁄u_p‹t_r°p
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

747 
p_ö
 +(
fibîhome_p‹t_t
);

748 
ª∂ybuf
 +
gíÀn
;

749 *
ª∂yÀn
 +
gíÀn
;

751 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
:

752 
	`fibîhome_gë_⁄u_mac_èbÀ
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

753 
p_ö
 +(
fibîhome_mac_böd_°©ic_t
);

754 
ª∂ybuf
 +
gíÀn
;

755 *
ª∂yÀn
 +
gíÀn
;

759 
p_ö
 +(
ﬂm_£t_ª•⁄£_t
);

768 
	}
}

788 
	$e›l_fibîhome_dh˝_¥o˚ss
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

790 
i
 = 0;

791 
u32_t
 
ªt
 = 
NO_ERROR
;

792 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

793 
ﬂm_fibîhome_mgmt_dh˝_t
 *
p_fibîhome_mgmt_dh˝
;

795 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

796 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

797 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_DHCP
;

799 
p_fibîhome_mgmt_dh˝
 = (
ﬂm_fibîhome_mgmt_dh˝_t
 *)
p_ö
;

801 
p_fibîhome_mgmt_dh˝
->
a˘i⁄
)

803 
ZTE_DHCP_ENABLE
:

805 if((
p_fibîhome_mgmt_dh˝
->
vœnid
<1) || (p_fiberhome_mgmt_dhcp->vlanid>4094))

807 
ªt
 = 
ERROR
;

808 
£nd_r•
;

812 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_fibîhome_mgmt_dh˝
->
vœnid
);

813 if(
NO_ERROR
 !
ªt
)

815 
£nd_r•
;

817 
ªt
 = 
	`e›l_dh˝_h™dÀr
();

818 if(
NO_ERROR
 !
ªt
)

820 
£nd_r•
;

824 
ZTE_DHCP_DISABLE
:

825 
ªt
 = 
	`e›l_fibîhome_£t_deÁu…_ù
(
p_ö
);

826 if(
NO_ERROR
 !
ªt
)

828 
£nd_r•
;

832 
ªt
 = 
ERROR
;

833 
£nd_r•
;

836 
£nd_r•
:

837 if(
ªt
 =
NO_ERROR
)

839 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

843 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

846 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

848 
	}
}

867 
	$e›l_fibîhome_£t_deÁu…_ù
(
u8_t
* 
p_ö
)

869 
u32_t
 
ªt
 = 
NO_ERROR
;

870 
ö_addr
 
ùaddr
;

871 
ö_addr
 
mask
;

872 
ö_addr
 
g©eway
;

873 
u32_t
 
u32_ù
 = 
DEFAULT_IP
;

874 
u32_t
 
u32_mask
 = 
DEFAULT_MASK
;

875 
u32_t
 
u32_g©eway
 = 
DEFAULT_GW
;

877 
p_ö
 =Ö_in;

879 
	`mem˝y
(&
ùaddr
, &
u32_ù
, 4);

880 
	`mem˝y
(&
mask
, &
u32_mask
, 4);

881 
	`mem˝y
(&
g©eway
, &
u32_g©eway
, 4);

882 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
ùaddr
, 
mask
, 
g©eway
);

883  
ªt
;

884 
	}
}

903 
	$e›l_fibîhome_£t_⁄u_admöù
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

905 
u32_t
 
ªt
 = 
NO_ERROR
;

906 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

907 
fibîhome_admöù_t
* 
p_admöù
;

908 
ul_addr
 ;

909 
ul_mask
 ;

911 
ªt
 = 
NO_ERROR
;

913 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

914 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

915 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_ADMIN_IP
;

917 
p_admöù
 = (
fibîhome_admöù_t
*)
p_ö
;

919 if(!
	`vÆid_ù
(
p_admöù
->
ùaddr
Ë|| !
	`vÆid_sub√t_mask
’_admöù->ùaddr,Ö_admöù->
mask
))

921 
ªt
 = 
ERROR
;

922 
£nd_r•
;

924 
ul_addr
 = 
p_admöù
->
ùaddr
.
s_addr
;

925 
ul_mask
 = 
p_admöù
->
mask
.
s_addr
;

928 if(0==(
ul_addr
 & (~
ul_mask
)))

930 
ªt
 = 
ERROR
;

931 
£nd_r•
;

935 if((
ul_addr
 & (~
ul_mask
)) == (0xffffffff & (~ul_mask)))

937 
ªt
 = 
ERROR
;

938 
£nd_r•
;

941 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_admöù
->
ùaddr
,Ö_admöù->
mask
,Ö_admöù->
g©eway
);

943 
£nd_r•
:

944 if(
NO_ERROR
 !
ªt
)

946 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

950 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

952 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

954 
	}
}

956 
u8_t
 
	gg_mgmt_°©us_cfg
;

975 
	$e›l_fibîhome_mngt_vœn_¥o˚ss
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

977 
u32_t
 
ªt
 = 
NO_ERROR
;

978 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

979 
fibîhome_admövœn_t
* 
p_vœn
;

981 
ªt
 = 
NO_ERROR
;

983 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

984 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

985 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_ADMIN_VLAN
;

987 
p_vœn
 = (
yŸc_admövœn_t
*)
p_ö
;

989 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_vœn
->
vœn
&0x0fff);

991 if(
NO_ERROR
 !
ªt
)

993 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

997 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

999 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1002 
	}
}

1020 
	$e›l_fibîhome_£t_p‹t_•ìd
(
u32_t
 
p‹t_num
, u32_à
•ìd_mode
)

1022 
u32_t
 
aut⁄eg
;

1023 
u32_t
 
•ìd
;

1024 
u32_t
 
ªt
 = 
NO_ERROR
;

1025 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1027 
•ìd_mode
)

1029 
FIBERHOME_PORT_MODE_SPEED_AUTO
:

1030 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_AUTO
);

1033 
FIBERHOME_PORT_MODE_SPEED_10M
:

1034 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_10M
);

1037 
FIBERHOME_PORT_MODE_SPEED_100M
:

1038 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_100M
);

1041 
FIBERHOME_PORT_MODE_SPEED_1000M
:

1042 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_1000M
);

1045 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1046 
ªt
 = 
ERROR
;

1049 if(
NO_ERROR
 !
ªt
)

1051 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1052  
ERROR
;

1054 
°_p‹t_mode
[
p‹t_id
-1].
•ìdTy≥
 = 
•ìd_mode
;

1055  
ªt
;

1056 
	}
}

1074 
u32_t
 
	$e›l_fibîhome_p‹t_mode
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1076 
u32_t
 
ªt
 = 
NO_ERROR
;

1077 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1078 
fibîhome_p‹t_mode_t
* 
p_p‹t_mode
;

1079 
u32_t
 
p‹t_mode_du∂ex
 = 0;

1080 
u32_t
 
p‹t_mode_•ìd
 = 0;

1081 
ªt
 = 
NO_ERROR
;

1083 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1084 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1085 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_MODE
;

1087 
p_p‹t_mode
 = (
fibîhome_p‹t_mode_t
*)
p_ö
;

1088 
p_p‹t_mode
->
mode
)

1090 
FIBERHOME_PORT_MODE_10HALF
:

1091 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

1092 
p‹t_mode_•ìd
 = 
SPEED_10M
;

1094 
FIBERHOME_PORT_MODE_10FULL
:

1095 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

1096 
p‹t_mode_•ìd
 = 
SPEED_10M
;

1098 
FIBERHOME_PORT_MODE_100HALF
:

1099 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

1100 
p‹t_mode_•ìd
 = 
SPEED_100M
;

1102 
FIBERHOME_PORT_MODE_100FULL
:

1103 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

1104 
p‹t_mode_•ìd
 = 
SPEED_100M
;

1106 
FIBERHOME_PORT_MODE_1G
:

1107 
p‹t_mode_•ìd
 = 
SPEED_1000M
;

1109 
FIBERHOME_PORT_MODE_AUTO
:

1110 
p‹t_mode_du∂ex
 = 
DUPLEX_AUTO
;

1111 
p‹t_mode_•ìd
 = 
SPEED_AUTO
;

1114 
ªt
 = 
ERROR
;

1115 
£nd_r•
;

1119 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
p‹t_mode_•ìd
);

1120 if(
NO_ERROR
 !
ªt
)

1122 
£nd_r•
;

1125 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
p‹t_mode_du∂ex
);

1127 
£nd_r•
:

1128 if(
NO_ERROR
 !
ªt
)

1130 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1134 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1139 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1141 
	}
}

1160 
	$e›l_fibîhome_£t_p‹t_du∂ex
(
u32_t
 
p‹t_num
, u32_à
du∂ex_mode
)

1162 
u32_t
 
ªt
 = 
NO_ERROR
;

1163 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1164 
du∂ex_mode
)

1166 
FIBERHOME_PORT_MODE_DUPLEX_AUTO
:

1167 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_AUTO
);

1170 
FIBERHOME_PORT_MODE_DUPLEX_HALF
:

1171 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_HALF
);

1174 
FIBERHOME_PORT_MODE_DUPLEX_FULL
:

1175 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_FULL
);

1178 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1179 
ªt
 = 
ERROR
;

1183 if(
NO_ERROR
 !
ªt
)

1185 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1186  
ERROR
;

1188 
°_p‹t_mode
[
p‹t_id
-1].
du∂exTy≥
 = 
du∂ex_mode
;

1189  
ªt
;

1190 
	}
}

1209 
	$e›l_fibîhome_du∂ex_¥o˚ss
(
u8_t
* 
p_ö
)

1211 
u32_t
 
ªt
 = 
NO_ERROR
;

1212 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1213 
u32_t
 
du∂ex_mode
;

1214 
p_ö
 += 1;

1215 
du∂ex_mode
 = (
u32_t
)(*
p_ö
);

1216 if(
uni_p‹t_auto_√gŸüti⁄
 &(1<<
p‹t_num
))

1218  
NO_ERROR
;

1220 
ªt
 = 
	`e›l_fibîhome_£t_p‹t_du∂ex
(
p‹t_num
, 
du∂ex_mode
);

1221 if(
ªt
 !
NO_ERROR
)

1223 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1226  
ªt
;

1227 
	}
}

1246 
	$e›l_fibîhome_£t_p‹t_múr‹
(
u32_t
 
p‹t_num
, u32_à
múr‹_mode
)

1248 
u32_t
 
ªt
 = 
NO_ERROR
;

1249 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1250 
múr‹_mode
)

1252 
FIBERHOME_PORT_MODE_MIRROR_BOTH
:

1253 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
BOTH_MIRROR
);

1256 
FIBERHOME_PORT_MODE_MIRROR_INBOUND
:

1257 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
IN_MIRROR
);

1260 
FIBERHOME_PORT_MODE_MIRROR_OUTBOUND
:

1261 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
OUT_MIRROR
);

1264 
FIBERHOME_PORT_MODE_MIRROR_UNDO
:

1265 
ªt
 = 
	`DRV_DñMúr‹
(
p‹t_id
, 
BOTH_MIRROR
);

1268 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1269 
ªt
 = 
ERROR
;

1272  
ªt
;

1273 
	}
}

1292 
u32_t
 
	$e›l_fibîhome_múr‹_¥o˚ss
(
u8_t
* 
p_ö
)

1294 
u32_t
 
ªt
 = 
NO_ERROR
;

1295 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1296 
u32_t
 
múr‹_mode
;

1297 
p_ö
 += 1;

1298 
múr‹_mode
 = (
u32_t
)(*
p_ö
);

1299 
p_ö
 += 1;

1300 
múr‹_mode
 <<= 8;

1301 
múr‹_mode
 |*
p_ö
;

1302 
ªt
 = 
	`e›l_fibîhome_£t_p‹t_múr‹
(
p‹t_num
, 
múr‹_mode
);

1303 if(
ªt
 !
NO_ERROR
)

1305 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1308  
ªt
;

1309 
	}
}

1329 
	$e›l_fibîhome_£t_p‹t_m⁄ô‹
(
u32_t
 
p‹t_num
, u32_à
a˘i⁄
)

1331 
u32_t
 
ªt
 = 
NO_ERROR
;

1332 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1333 
a˘i⁄
)

1335 
FIBERHOME_PORT_MODE_MONITOR_SET
:

1336 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p‹t_id
, 
ENABLE
);

1339 
FIBERHOME_PORT_MODE_MONITOR_UNDO
:

1340 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p‹t_id
, 
DISABLE
);

1344 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1345 
ªt
 = 
ERROR
;

1348  
ªt
;

1349 
	}
}

1367 
	$e›l_fibîhome_m⁄ô‹_¥o˚ss
(
u8_t
* 
p_ö
)

1369 
u32_t
 
ªt
 = 
NO_ERROR
;

1370 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1371 
u32_t
 
subty≥
;

1372 
p_ö
 += 1;

1373 
subty≥
 = (
u32_t
)(*
p_ö
);

1374 
ªt
 = 
	`e›l_fibîhome_£t_p‹t_m⁄ô‹
(
p‹t_num
, 
subty≥
);

1375 if(
ªt
 !
NO_ERROR
)

1377 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1380  
ªt
;

1381 
	}
}

1384 
	$e›l_fibîhome_£t_p‹t_mdi
(
u32_t
 
p‹t_num
, u32_à
subty≥
)

1386 
u32_t
 
ªt
 = 
NO_ERROR
;

1387 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1388 
subty≥
)

1390 
FIBERHOME_PORT_MODE_MDI_AUTO
:

1391 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_AUTO
);

1394 
FIBERHOME_PORT_MODE_MDI_NORMAL
:

1395 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_NORMAL
);

1398 
FIBERHOME_PORT_MODE_MDI_ACROSS
:

1399 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_ACROSS
);

1402 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1403 
ªt
 = 
ERROR
;

1406  
ªt
;

1407 
	}
}

1409 
	$e›l_fibîhome_mdi_¥o˚ss
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1411 
u32_t
 
ªt
 = 
NO_ERROR
;

1413 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1414 
u32_t
 
subty≥
;

1415 
fibîhome_mdi_t
 *
mdi_öfo
;

1417 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1418 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1419 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_MDI
;

1421 
mdi_öfo
 = (
fibîhome_mdi_t
*)
p_ö
;

1424 
ªt
 = 
	`e›l_fibîhome_£t_p‹t_mdi
(
mdi_öfo
->
p‹t_num
, mdi_öfo->
subty≥
);

1425 if(
ªt
 !
NO_ERROR
)

1427 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1428 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1432 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1434 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1436  
ªt
;

1437 
	}
}

1440 
	$e›l_fibîhome_£t_mac_agög
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1442 
u32_t
 
ªt
 = 
NO_ERROR
;

1443 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1444 
fibîhome_mac_agög_t
* 
p_agög
;

1446 
ªt
 = 
NO_ERROR
;

1448 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1449 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1450 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
;

1452 
p_agög
 = (
fibîhome_mac_agög_t
*)
p_ö
;

1453 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "£àma¯add∏agögÅimê%d\n", 
p_agög
->
agögTime
);

1455 
ªt
 = 
	`Io˘l_SëMacAgeTime
(
p_agög
->
agögTime
*10);

1456 if(
ªt
 !
DRV_OK
)

1458 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1462 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1464 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1466 
	}
}

1468 
	$e›l_fibîhome_£t_p‹t_£∑øã
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1470 
u32_t
 
ªt
 = 
NO_ERROR
;

1471 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1472 
fibîhome_p‹t_£∑øã_t
* 
p_p‹t_isﬁ©e
;

1473 
u32_t
 
ulP‹t
;

1475 
ªt
 = 
NO_ERROR
;

1477 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1478 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1479 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
;

1481 
p_p‹t_isﬁ©e
 = (
fibîhome_p‹t_£∑øã_t
*)
p_ö
;

1483 
ulP‹t
 = 1; ulP‹à<
MAX_NUM_OF_PORTS
; ulPort++)

1485 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
ulP‹t
, 
p_p‹t_isﬁ©e
->
£∑øã
);

1486 if(
NO_ERROR
 !
ªt
)

1492 if(
NO_ERROR
 !
ªt
)

1494 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1498 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1501 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1503 
	}
}

1507 
	$fûãr_a˛_add_loˇl
(
u8_t
 
dúe˘i⁄
, u8_à
a˛Ty≥
,u8_à
ucRuÀID
, u8_t* 
ucVÆue
)

1509 
ii
;

1510 if(
dúe˘i⁄
 > 2)

1512  
ERROR
;

1514 if(
NULL
 =
ucVÆue
)

1516  
ERROR
;

1518 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1520 if(
INVALID_8
 =
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1522 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = direction;

1523 
aFûtA˛_li°
[
ii
].
a˛ruÀID
 = 
ucRuÀID
;

1524 
aFûtA˛_li°
[
ii
].
ty≥
 = 
a˛Ty≥
;

1525 
	`mem˝y
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 6);

1529 if(
MAX_FILTER_NUM
 =
ii
)

1531 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1532  
ERROR
;

1534  
NO_ERROR
;

1535 
	}
}

1536 
	$fûãr_a˛_gë_loˇ um
()

1538 
ii
;

1539 
cou¡
=0;

1540 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1542 if(
INVALID_8
 !
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1544 
cou¡
++;

1548  
cou¡
;

1549 
	}
}

1550 
	$fûãr_a˛_gë_em±yruÀ
()

1552 
ii
;

1553 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1555 if(
INVALID_8
 =
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1561  
ii
;

1562 
	}
}

1564 
	$fûãr_a˛_dñ_loˇl
(
u8_t
 
dúe˘i⁄
, u8_à
a˛Ty≥
, u8_t* 
ucVÆue
)

1566 
ii
;

1567 
ªt
 = 
NO_ERROR
;

1568 if(
dúe˘i⁄
 > 2)

1570  
ERROR
;

1572 if(
NULL
 =
ucVÆue
)

1574  
ERROR
;

1576 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1578 if((
dúe˘i⁄
 =
aFûtA˛_li°
[
ii
].dúe˘i⁄Ë&& (
a˛Ty≥
 =aFûtA˛_li°[ii].
ty≥
))

1580 if((
ACL_TRUST_SMAC
==
a˛Ty≥
Ë|| (
ACL_TRUST_DMAC
==aclType))

1582 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 6))

1587 if((
ACL_TRUST_IPV4_SIP
==
a˛Ty≥
Ë|| (
ACL_TRUST_IPV4_DIP
==aclType))

1589 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 4))

1596 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 2))

1602 
	`FIBERHOME_DBG
("fûãr_a˛_dñ_loˇ»%d\n",
aFûtA˛_li°
[
ii
].
a˛ruÀID
);

1603 
ªt
=
	`Io˘l_DñA˛FûãrByP‹t
(
INVALID_PORT
,
aFûtA˛_li°
[
ii
].
a˛ruÀID
,aFûtA˛_li°[ii].
dúe˘i⁄
);

1604 if(
ªt
 !
DRV_OK
)

1606 
	`FIBERHOME_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1607  
ERROR
;

1609 
aFûtA˛_li°
[
ii
].
ty≥
 = 
INVALID_8
;

1610 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = 
INVALID_8
;

1611 
	`mem£t
(
aFûtA˛_li°
[
ii
].
vÆue
, 0, 6);

1616  
NO_ERROR
;

1617 
	}
}

1619 
	$fûãr_a˛_˛ór_loˇl
()

1621 
ii
;

1622 
ªt
;

1623 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1625 if(
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 =
INVALID_8
)

1630 
ªt
=
	`Io˘l_DñA˛FûãrByP‹t
(
INVALID_PORT
,
aFûtA˛_li°
[
ii
].
a˛ruÀID
,aFûtA˛_li°[ii].
dúe˘i⁄
);

1631 if(
ªt
 !
DRV_OK
)

1633 
	`FIBERHOME_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1634  
ERROR
;

1636 
aFûtA˛_li°
[
ii
].
ty≥
 = 
INVALID_8
;

1637 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = 
INVALID_8
;

1638 
	`mem£t
(
aFûtA˛_li°
[
ii
].
vÆue
, 0, 6);

1640 
	}
}

1642 
	$e›l_fibîhome_fûãr_¥o˚ss
(
u8_t
* 
p_ö
)

1644 
u32_t
 
ªt
 = 
NO_ERROR
;

1645 
u32_t
 
fûãrEm±yE¡ry
;

1646 
u32_t
 
cou¡
=0;

1647 
u32_t
 
a˛Dú
;

1648 
a˛ToDñ
 = -1;

1649 
u32_t
 
fûãrTy≥
 = 0;

1650 
ii
 = 0;

1651 
fibîhome_∑ckë_fûãr_t
* 
p_∑ckë_fûãr
 = (fibîhome_∑ckë_fûãr_t*)
p_ö
;

1652 
u8_t
 
tmp_fûãr_vÆue
[6];

1654 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
, (p_packet_filter->value));

1656 
p_∑ckë_fûãr
->
ty≥
)

1658 
FIBERHOME_PACKET_FILTER_TRUST_DMAC
:

1659 
fûãrTy≥
 = 
ACL_TRUST_DMAC
;

1661 
FIBERHOME_PACKET_FILTER_TRUST_SMAC
:

1662 
fûãrTy≥
 = 
ACL_TRUST_SMAC
;

1664 
FIBERHOME_PACKET_FILTER_TRUST_SIP
:

1665 
fûãrTy≥
 = 
ACL_TRUST_IPV4_SIP
;

1667 
FIBERHOME_PACKET_FILTER_TRUST_DIP
:

1668 
fûãrTy≥
 = 
ACL_TRUST_IPV4_DIP
;

1670 
FIBERHOME_PACKET_FILTER_TRUST_TCP_SPORT
:

1671 
fûãrTy≥
 = 
ACL_TRUST_TCP_SPORT
;

1672 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1673 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1675 
FIBERHOME_PACKET_FILTER_TRUST_TCP_DPORT
:

1676 
fûãrTy≥
 = 
ACL_TRUST_TCP_DPORT
;

1677 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1678 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1680 
FIBERHOME_PACKET_FILTER_TRUST_UDP_SPORT
:

1681 
fûãrTy≥
 = 
ACL_TRUST_UDP_SPORT
;

1682 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1683 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1685 
FIBERHOME_PACKET_FILTER_TRUST_UDP_DPORT
:

1686 
fûãrTy≥
 = 
ACL_TRUST_UDP_DPORT
;

1687 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1688 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1690 
FIBERHOME_PACKET_FILTER_TRUST_CVLAN
:

1691 
fûãrTy≥
 = 
ACL_TRUST_CTAG_VID
;

1692 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1693 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1695 
FIBERHOME_PACKET_FILTER_TRUST_ETHTYPE
:

1696 
fûãrTy≥
 = 
ACL_TRUST_ETHTYPE
;

1701 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1702 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1705  
ERROR
;

1707 if(
FIBERHOME_PACKET_FILTER_ENABLE_SET
 =
p_∑ckë_fûãr
->
a˘i⁄
) {

1709 if((
cou¡
=
	`fûãr_a˛_gë_loˇ um
())==
MAX_FILTER_NUM
)

1711  
ERROR
;

1714 
ªt
 = 
	`Io˘l_GëUni⁄Uöt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
fûãrEm±yE¡ry
);

1715 if(
ªt
 !
DRV_OK
)

1717 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1718  
ERROR
;

1721 
fûãrEm±yE¡ry
=
	`fûãr_a˛_gë_em±yruÀ
();

1722 
	`FIBERHOME_DBG
("addá˛É¡ry %d\n", 
fûãrEm±yE¡ry
);

1723 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

1724 
fûãrTy≥
,

1725 
p_∑ckë_fûãr
->
dú˘i⁄
,

1726 
tmp_fûãr_vÆue
);

1728 if(
ªt
 !
DRV_OK
)

1730 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1731  
ERROR
;

1733 
	`fûãr_a˛_add_loˇl
(
p_∑ckë_fûãr
->
dú˘i⁄
,

1734 
p_∑ckë_fûãr
->
ty≥
,

1735 
fûãrEm±yE¡ry
,

1736 
p_∑ckë_fûãr
->
vÆue
);

1739 if(
FIBERHOME_PACKET_FILTER_DISABLE_SET
 =
p_∑ckë_fûãr
->
a˘i⁄
)

1741 
ªt
 = 
	`fûãr_a˛_dñ_loˇl
(
p_∑ckë_fûãr
->
dú˘i⁄
,

1742 
p_∑ckë_fûãr
->
ty≥
,

1743 
p_∑ckë_fûãr
->
vÆue
);

1744 if(
ªt
 !
NO_ERROR
)

1746 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1747  
ERROR
;

1752 
	`FIBERHOME_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1753  
ERROR
;

1755  
NO_ERROR
;

1756 
	}
}

1758 
	$e›l_fibîhome_ª£t_uni_°©s
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1760 
u32_t
 
ªt
 = 
NO_ERROR
;

1761 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1762 
fibîhome_°©s_ª£t_t
* 
p_°©s_ª£t
;

1763 
u32_t
 
Õ‹t
;

1764 
ªt
 = 
NO_ERROR
;

1766 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1767 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1768 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_STATS
;

1770 
p_°©s_ª£t
(
fibîhome_°©s_ª£t_t
*)
p_ö
;

1771 
Õ‹t
 = (
u32_t
)(
p_°©s_ª£t
->
p‹t
);

1772 
ªt
 = 
	`Io˘l_SëMibCou¡Re£t
(
Õ‹t
);

1773 if(
DRV_OK
 !
ªt
)

1775 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1779 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1781 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1783 
	}
}

1784 
	$ﬂm_fibîhome_£t_mgmtvœnif
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

1786 
u32_t
 
ªt
 = 
NO_ERROR
;

1787 
ifödex_t
 
ifödex
;

1788 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1789 
i‚ame
[64];

1790 
sys_mvœn_t
 
öfo_mvœn
;

1792 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

1793 
p_r•
->
bønch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1794 
p_r•
->
Àaf
 = 
OAM_FIBERHOME_EXT_LEAF_SHUTDOWN
;

1796 
	`mem£t
(&
öfo_mvœn
, 0, (
sys_mvœn_t
));

1797 if(
IPC_STATUS_OK
 !
	`ﬂm_ùc_gë_sys_mvœn
(&
öfo_mvœn
))

1799  
ERROR
;

1802 
	`•rötf
(
i‚ame
,
IF_L3VLAN_NAMEPREFIX
"%d",
öfo_mvœn
.
vœn_öãrÁ˚
);

1803 
	`IF_GëByIFName
(
i‚ame
,&
ifödex
);

1805 if(
FIBERHOME_MGMT_IF_SHUTDOWN_NO
 =*
p_ö
)

1807 
ªt
 = 
	`ùc_shutdown_ötf
(
ùc_fd
,
ifödex
,
UNDOSHUTDOWN
);

1809 if(
FIBERHOME_MGMT_IF_SHUTDOWN
 =*
p_ö
)

1811 
ªt
 = 
	`ùc_shutdown_ötf
(
ùc_fd
,
ifödex
,
SHUTDOWN
);

1815  
ERROR
;

1817 if(
ªt
 !
DRV_OK
)

1819 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1823 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1825 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1826  
NO_ERROR
;

1827 
	}
}

1829 
	$ﬂm_fibîhome_£t_uni_Á°_Àave
(
u8_t
 *
p_ö
)

1831 
fibîhome_Á°_Àave_t
 *
p_Á°_Àave
 = (fibîhome_Á°_Àave_t*)
p_ö
;

1833  
ERROR
;

1834 
p_Á°_Àave
->
a˘
)

1836 
FIBERHOME_ENABLE
:

1837 if(
OPL_OK
 !
	`odmMu…iˇ°Fa°ÀaveModeSë
(1))

1839  
ERROR
;

1842 
FIBERHOME_DISABLE
:

1843 if(
OPL_OK
 !
	`odmMu…iˇ°Fa°ÀaveModeSë
(0))

1845  
ERROR
;

1849  
ERROR
;

1852  
NO_ERROR
;

1853 
	}
}

1855 
	$ﬂm_fibîhome_£t_uni_c⁄fig
(
u8_t
 *
p_ö
)

1857 
u32_t
 
ªt
 = 
NO_ERROR
;

1858 
u8_t
* 
p_§c
 = 
p_ö
;

1859 
p_ö
 += 6;

1860 
fibîhome_v¨übÀ_t
 *
p_des
;

1863 i‡((
p_ö
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
-((
ﬂmpdu_hdr_t
)+(
fibîhome_hódî_t
)))

1865 
	`FIBERHOME_DBG
("invalidÖacket size\n");

1868 
p_des
 = (
fibîhome_v¨übÀ_t
*)
p_ö
;

1869 
p_des
->
Àaf
)

1871 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET
:

1872 
ªt
 = 
	`e›l_fibîhome_•ìd_¥o˚ss
(
p_ö
 + 4);

1874 
OAM_FIBERHOME_EXT_LEAF_DUPLEX_SET
:

1875 
ªt
 = 
	`e›l_fibîhome_du∂ex_¥o˚ss
(
p_ö
 + 4);

1877 
OAM_FIBERHOME_EXT_LEAF_MIRROR_SET
:

1878 
ªt
 = 
	`e›l_fibîhome_múr‹_¥o˚ss
(
p_ö
 + 4);

1880 
OAM_FIBERHOME_EXT_LEAF_MONITOR_SET
:

1881 
ªt
 = 
	`e›l_fibîhome_m⁄ô‹_¥o˚ss
(
p_ö
 + 4);

1883 
OAM_FIBERHOME_EXT_LEAF_ISOLATE_SET
:

1884 
ªt
 = 
	`e›l_fibîhome_isﬁ©e_¥o˚ss
(
p_ö
 + 4);

1886 
OAM_FIBERHOME_EXT_LEAF_MDI_SET
:

1887 
ªt
 = 
	`e›l_fibîhome_mdi_¥o˚ss
(
p_ö
 + 4);

1889 
OAM_FIBERHOME_EXT_LEAF_MCAST_FAST_LEAVE
:

1890 
ªt
 = 
	`ﬂm_fibîhome_£t_uni_Á°_Àave
(
p_ö
 + 4);

1899 
p_ö
 +(
p_des
->
width
+4);

1901 
	}
}

1903 
	$ﬂm_fibîhome_£t_⁄u_c⁄fig
(
u8_t
 *
p_ö
)

1905 
u8_t
* 
p_§c
 = 
p_ö
;

1906 
p_ö
 += 6;

1907 
fibîhome_v¨übÀ_t
 *
p_des
;

1910 ()
	`fûãr_a˛_˛ór_loˇl
();

1914 i‡((
p_ö
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
-((
ﬂmpdu_hdr_t
)+(
fibîhome_hódî_t
)))

1916 
	`FIBERHOME_DBG
("invalidÖacket size\n");

1919 
p_des
 = (
fibîhome_v¨übÀ_t
*)
p_ö
;

1920 
p_des
->
Àaf
)

1922 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_CFG
:

1923 ()
	`e›l_fibîhome_ù_¥o˚ss
(
p_ö
 + 4);

1925 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLAN
:

1926 ()
	`e›l_fibîhome_mngt_vœn_¥o˚ss
(
p_ö
 + 4);

1928 
OAM_FIBERHOME_EXT_LEAF_DHCP
:

1929 ()
	`e›l_fibîhome_dh˝_¥o˚ss
(
p_ö
 + 4);

1931 
OAM_FIBERHOME_EXT_LEAF_FILTER_SET
:

1932 ()
	`e›l_fibîhome_fûãr_¥o˚ss
(
p_ö
 + 4);

1934 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLANIF
:

1935 ()
	`ﬂm_fibîhome_£t_mgmtvœnif
(
p_ö
 + 4);

1954 
p_ö
 +(
p_des
->
width
+4);

1956 
	}
}

1976 
	$e›l_fibîhome_£t_ªq
(
u8_t
 *
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
ª∂yÀn
)

1978 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

1979 
u16_t
 
gíÀn
 = 0;

1980 
u32_t
 
ªt
 = 
ERROR
;

1984 *
p_ö
)

1986 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
:

1987 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

1988 
p_v¨_desc
->
Àaf
)

1991 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_CFG
:

1993 
	`e›l_fibîhome_£t_⁄u_admöù
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1994 
p_ö
 +(
fibîhome_admöù_t
);

1995 
ª∂ybuf
 +
gíÀn
;

1996 *
ª∂yÀn
 +
gíÀn
;

1998 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLAN
:

2000 
	`e›l_fibîhome_mngt_vœn_¥o˚ss
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2001 
p_ö
 +(
fibîhome_admövœn_t
);

2002 
ª∂ybuf
 +
gíÀn
;

2003 *
ª∂yÀn
 +
gíÀn
;

2006 
OAM_FIBERHOME_EXT_LEAF_DHCP
:

2008 
	`e›l_fibîhome_dh˝_¥o˚ss
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2009 
p_ö
 +(
ﬂm_fibîhome_mgmt_dh˝_t
);

2010 
ª∂ybuf
 +
gíÀn
;

2011 *
ª∂yÀn
 +
gíÀn
;

2014 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET
:

2016 
	`e›l_fibîhome_p‹t_mode
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2017 
p_ö
 +(
fibîhome_p‹t_mode_t
);

2018 
ª∂ybuf
 +
gíÀn
;

2019 *
ª∂yÀn
 +
gíÀn
;

2021 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET_1000M
:

2024 
OAM_FIBERHOME_EXT_LEAF_DUPLEX_SET
:

2025 
ªt
 = 
	`e›l_fibîhome_du∂ex_¥o˚ss
(
p_ö
);

2027 
OAM_FIBERHOME_EXT_LEAF_MIRROR_SET
:

2028 
ªt
 = 
	`e›l_fibîhome_múr‹_¥o˚ss
(
p_ö
);

2030 
OAM_FIBERHOME_EXT_LEAF_MONITOR_SET
:

2031 
ªt
 = 
	`e›l_fibîhome_m⁄ô‹_¥o˚ss
(
p_ö
);

2034 
OAM_FIBERHOME_EXT_LEAF_MDI_SET
:

2036 
	`e›l_fibîhome_mdi_¥o˚ss
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2037 
p_ö
 +(
fibîhome_mdi_t
);

2038 
ª∂ybuf
 +
gíÀn
;

2039 *
ª∂yÀn
 +
gíÀn
;

2042 
OAM_FIBERHOME_EXT_LEAF_FILTER_SET
:

2043 
ªt
 = 
	`e›l_fibîhome_fûãr_¥o˚ss
(
p_ö
);

2046 
OAM_FIBERHOME_EXT_LEAF_UNI_STATS_RESET
:

2048 
	`e›l_fibîhome_ª£t_uni_°©s
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2049 
p_ö
 +(
fibîhome_°©s_ª£t_t
);

2050 
ª∂ybuf
 +
gíÀn
;

2051 *
ª∂yÀn
 +
gíÀn
;

2054 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLANIF
:

2056 
	`ﬂm_fibîhome_£t_mgmtvœnif
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2057 
p_ö
 +(
fibîhome_shutdowm_t
);

2058 
ª∂ybuf
 +
gíÀn
;

2059 *
ª∂yÀn
 +
gíÀn
;

2062 
OAM_FIBERHOME_EXT_LEAF_MCAST_FAST_LEAVE
:

2063 
ªt
 = 
	`ﬂm_fibîhome_£t_uni_Á°_Àave
(
p_ö
);

2066 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
:

2067 
	`e›l_fibîhome_£t_mac_agög
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2068 
p_ö
 +(
fibîhome_mac_agög_t
);

2069 
ª∂ybuf
 +
gíÀn
;

2070 *
ª∂yÀn
 +
gíÀn
;

2072 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
:

2073 
	`e›l_fibîhome_£t_p‹t_£∑øã
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2074 
p_ö
 +(
fibîhome_p‹t_£∑øã_t
);

2075 
ª∂ybuf
 +
gíÀn
;

2076 *
ª∂yÀn
 +
gíÀn
;

2078 
OAM_FIBERHOME_EXT_LEAF_MAC_LIMIT
:

2079 
p_ö
--;

2080 
	`e›l_fibîhome_£t_⁄u_mac_limô
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

2081 
p_ö
 +(
fibîhome_mac_limô_t
);

2082 
ª∂ybuf
 +
gíÀn
;

2083 *
ª∂yÀn
 +
gíÀn
;

2086 
OAM_FIBERHOME_EXT_LEAF_UNI_CONFIG
:

2087 if(0xf‡=
p_v¨_desc
->
bønch
)

2089 ()
	`ﬂm_fibîhome_£t_uni_c⁄fig
(
p_ö
);

2091 
ªt
 = 
NO_ERROR
;

2093 
OAM_FIBERHOME_EXT_LEAF_ONU_CONFIG
:

2094 if(0xf‡=
p_v¨_desc
->
bønch
)

2096 ()
	`ﬂm_fibîhome_£t_⁄u_c⁄fig
(
p_ö
);

2098 
ªt
 = 
NO_ERROR
;

2102 
p_ö
 +(
ﬂm_£t_ª•⁄£_t
);

2107 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
:

2108 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

2109 
p_v¨_desc
->
Àaf
)

2111 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
:

2112 
	`e›l_fibîhome_gë_⁄u_ö°™˚_mac_limô
(
p_ö
,
ª∂ybuf
, &
gíÀn
);

2113 
p_ö
 +(
fibîhome_ö°™˚_mac_limô_t
);

2114 
ª∂ybuf
 +
gíÀn
;

2115 *
ª∂yÀn
 +
gíÀn
;

2123  
ªt
;

2124 
	}
}

2144 
	$e›l_fibîhome_pdu_¥o˚ss
(

2145 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

2146 *
pFøme
,

2147 
Àngth
,

2148 *
pRïlyBuf
,

2149 
bufLí
,

2150 *
pRïlyLí
)

2152 
ªt
 = 
EPON_OAM_ERR_OK
;

2153 
fibîhome_hódî_t
 *
p_fibîhome_hdr
;

2154 
fibîhome_hódî_t
 *
p_out_fibîhome_hdr
;

2155 
u8_t
 *
p_byã
;

2157 *
pRïlyLí
 = 0;

2158 if((
Àngth
 < 
FIBERHOME_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < FIBERHOME_ORGSPEC_HDR_LEN))

2161  
EPON_OAM_ERR_PARAM
;

2164 
p_byã
 = 
pFøme
;

2165 
p_fibîhome_hdr
 = (
fibîhome_hódî_t
*)
pFøme
;

2166 
p_byã
 +(
fibîhome_hódî_t
);

2168 
p_out_fibîhome_hdr
 = (
fibîhome_hódî_t
*)
pRïlyBuf
;

2169 
	`mem˝y
(
p_out_fibîhome_hdr
->
oui
, 
p_fibîhome_hdr
->oui, 3);

2170 *
pRïlyLí
 +(
fibîhome_hódî_t
);

2171 
pRïlyBuf
 +(
fibîhome_hódî_t
);

2173 
p_fibîhome_hdr
->
ext_›code
)

2175 
OAM_FIBERHOME_EXT_OPCODE_GET_REQUEST
:

2176 
p_out_fibîhome_hdr
->
ext_›code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

2177 
	`e›l_fibîhome_gë_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

2179 
OAM_FIBERHOME_EXT_OPCODE_SET_REQUEST
:

2180 
p_out_fibîhome_hdr
->
ext_›code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

2181 
	`e›l_fibîhome_£t_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

2184 
	`FIBERHOME_DBG
("Unknow Ext. Opcodê(%d)", 
p_fibîhome_hdr
->
ext_›code
);

2185 
p_out_fibîhome_hdr
 = (
fibîhome_hódî_t
*)
pRïlyBuf
;

2186 
	`mem˝y
(
p_out_fibîhome_hdr
->
oui
,Ö_out_fiberhome_hdr->oui, 3);

2187 
p_out_fibîhome_hdr
->
ext_›code
 = 
p_fibîhome_hdr
->ext_opcode;

2189 *
pRïlyLí
 = (
fibîhome_hódî_t
);

2193  
EPON_OAM_ERR_OK
;

2194 
	}
}

2196 
	$fibîhome_ﬂm_öô
()

2198 
i
, 
ªt
;

2199 
oui
[] = 
FIBERHOME_OAM_OUI
;

2200 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

2203 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_fibîhome_pdu_¥o˚ss
;

2204 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

2205 
EPON_OAM_CBTYPE_ORGSPEC
,

2206 
oui
,

2207 (*Ë&
‹gS≥cCb
);

2208 if(
EPON_OAM_ERR_OK
 !
ªt
)

2210 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2212  
EPON_OAM_ERR_UNKNOWN
;

2215 
ùc_fd
 = 
	`ùc_˛õ¡_c⁄√˘
("eponoamd");

2216 if(
ùc_fd
 < 0)

2218 
	`¥ötf
("%†%d\n", 
__FUNCTION__
, 
__LINE__
);

2221  
EPON_OAM_ERR_OK
;

2222 
	}
}

	@src/vendor/h3c.c

9 
	~<°dio.h
>

10 
	~<°rög.h
>

11 
	~<°dlib.h
>

12 
	~<mÆloc.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<sys/°©.h
>

15 
	~<sys/sockë.h
>

16 
	~<√töë/ö.h
>

17 
	~<√t/if.h
>

20 
	~"ï⁄_ﬂm_c⁄fig.h
"

21 
	~"ï⁄_ﬂm_îr.h
"

22 
	~"ï⁄_ﬂm_db.h
"

23 
	~"ï⁄_ﬂm_dbg.h
"

24 
	~"ï⁄_ﬂm_rx.h
"

26 
	~"ﬂm.h
"

27 
	~"h3c.h
"

29 
	~"ùc_˛õ¡.h
"

30 
	~"ﬂm_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_ªq.h
"

35 
	~"mc_c⁄åﬁ.h
"

36 
	~"lw_c⁄fig.h
"

39 
	#OAM_SUPPORT_H3C_EXT


	)

40 #ifde‡
OAM_SUPPORT_H3C_EXT


41 
u16_t
 
g_usOutD©aIdx
;

42 
u8_t
 
out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

43 
u8_t
 
ö_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

44 
ﬂm_ßã_t
 
ﬂms
;

45 
u8_t
 
h3c_oui
[3];

46 
u32_t
 
	gulSequí˚Num_H3C
 = 0;

47 
	gùc_fd
;

49 
	#MODULE
 
MOD_OAM


	)

50 
	#MAX_FILTER_NUM
 32

	)

51 
	#INVALID_8
 0xFF

	)

53 
u8_t
 
uni_p‹t_auto_√gŸüti⁄
;

55 
fûãr_a˛_t
 
	gaFûtA˛_li°
[
MAX_FILTER_NUM
] =

57 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

58 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

59 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

60 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

61 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

62 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

63 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

64 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

67 
h3c_p‹t_mode_t
 
	g°_p‹t_mode
[4] =

69 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

70 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

71 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

72 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
}

76 
	#H3C_DBG
 
¥ötf


	)

78 
	#H3C_DBG
(
fmt
, ...)

	)

81 
	$ﬂm_ùc_gë_sys_√tw‹kög
(
sys_√tw‹k_t
 *
öfo
)

83 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

84 
ªt
;

85 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

86 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

87 i‡(
öfo
){

88 
	`mem˝y
(
öfo
, &
∑ck
->
√tw‹k
, (*info));

90 
ªt
 = 0;

91 }i‡(
∑ck
){

92 
ªt
 = 
∑ck
->
hdr
.
°©us
;

94 
ªt
 = 
IPC_STATUS_FAIL
;

96 if(
∑ck
Ë
	`‰ì
(pack);

98  
ªt
;

99 
	}
}

101 
	$ﬂm_ùc_£t_sys_√tw‹kög
(
ùc_√tw‹k_t
 *
öfo
)

103 
ùc_sys_√tw‹k_ack_t
 *
∑ck
;

104 
ªt
;

105 
∑ck
 = 
	`ùc_sys_√tw‹kög
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

106 i‡(
∑ck
){

107 
ªt
 = 
∑ck
->
hdr
.
°©us
;

109 
ªt
 = 
IPC_STATUS_FAIL
;

112 if(
∑ck
Ë
	`‰ì
(pack);

113  
ªt
;

114 
	}
}

116 
	$ﬂm_ùc_gë_sys_mvœn
(
sys_mvœn_t
 *
mvœn
)

118 
ùc_sys_mvœn_ack_t
 *
∑ck
;

119 
ªt
;

120 
∑ck
 = 
	`ùc_sys_mvœn
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

121 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

122 i‡(
mvœn
){

123 
	`mem˝y
(
mvœn
, &
∑ck
->mvlan, (*mvlan));

125 
ªt
 = 0;

126 }i‡(
∑ck
){

127 
ªt
 = 
∑ck
->
hdr
.
°©us
;

129 
ªt
 = 
IPC_STATUS_FAIL
;

131 if(
∑ck
Ë
	`‰ì
(pack);

133  
ªt
;

134 
	}
}

136 
	$ﬂm_ùc_£t_sys_mvœn
(
sys_mvœn_t
 *
öfo
)

138 
ùc_sys_mvœn_ack_t
 *
∑ck
;

139 
ªt
;

140 
∑ck
 = 
	`ùc_sys_mvœn
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

141 i‡(
∑ck
){

142 
ªt
 = 
∑ck
->
hdr
.
°©us
;

144 
ªt
 = 
IPC_STATUS_FAIL
;

147 if(
∑ck
Ë
	`‰ì
(pack);

148  
ªt
;

149 
	}
}

151 
	$ﬂm_ùc_gë_sys_ï⁄
(
sys_ï⁄_t
 *
öfo
)

153 
ùc_sys_ï⁄_ack_t
 *
∑ck
;

154 
ªt
;

155 
∑ck
 = 
	`ùc_sys_ï⁄
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

157 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

158 i‡(
öfo
){

159 
	`mem˝y
(
öfo
, &
∑ck
->
ï⁄_öfo
, (*info));

161 
ªt
 = 0;

162 }i‡(
∑ck
){

163 
ªt
 = 
∑ck
->
hdr
.
°©us
;

165 
ªt
 = 
IPC_STATUS_FAIL
;

168 if(
∑ck
Ë
	`‰ì
(pack);

169  
ªt
;

170 
	}
}

172 
	$ﬂm_ùc_£t_sys_lo›
(
sys_lo›_t
 *
öfo
)

174 
ùc_sys_lo›_ack_t
 *
∑ck
;

175 
ªt
;

176 
∑ck
 = 
	`ùc_sys_lo›
(
ùc_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
öfo
);

177 i‡(
∑ck
){

178 
ªt
 = 
∑ck
->
hdr
.
°©us
;

180 
ªt
 = 
IPC_STATUS_FAIL
;

183 if(
∑ck
Ë
	`‰ì
(pack);

184  
ªt
;

185 
	}
}

187 
	$ﬂm_ùc_gë_sys_lo›
(
sys_lo›_t
 *
öfo
)

189 
ùc_sys_lo›_ack_t
 *
∑ck
;

190 
ªt
;

191 
∑ck
 = 
	`ùc_sys_lo›
(
ùc_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

193 i‡(
∑ck
 &&Öack->
hdr
.
°©us
 =
IPC_STATUS_OK
) {

194 i‡(
öfo
){

195 
	`mem˝y
(
öfo
, &
∑ck
->
lo›
, (*info));

197 
ªt
 = 0;

198 }i‡(
∑ck
){

199 
ªt
 = 
∑ck
->
hdr
.
°©us
;

201 
ªt
 = 
IPC_STATUS_FAIL
;

204 if(
∑ck
Ë
	`‰ì
(pack);

205  
ªt
;

206 
	}
}

208 
	$e›l_h3c_gë_uni_°©s
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
, u8_t* 
ª∂ybuf
, u16_à*
ª∂yÀn
)

210 
h3c_°©s_t
* 
p_h3c_°©s
;

211 
u32_t
 
Õ‹t
 = (u32_t)(*
p_ö
) + 1;

212 
u32_t
 
ªt
 = 
NO_ERROR
;

213 
UNI_COUNTER_S
 
mibCou¡îs
;

215 
u32_t
 
p‹t_du∂ex
 = 0;

216 
u32_t
 
p‹t_•ìd
 = 0;

217 
u32_t
 
lök_°©us
 = 0;

218 
íabÀ
=
FALSE
;

219 if((
Õ‹t
 > 
ODM_NUM_OF_PORTS
) || (0 ==Üport))

221 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

222  
ERROR
;

224 
ªt
 = 
	`Io˘l_GëP‹tAut⁄eg
(
Õ‹t
,&
íabÀ
);

225 if(
ªt
 !
DRV_OK
)

227 
	`H3C_DBG
("[FILE] %†[LINE] %dÑë %d\n", 
__FILE__
, 
__LINE__
,
ªt
);

228  
ªt
;

230 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
Õ‹t
, &
mibCou¡îs
);

231 if(
ªt
 !
NO_ERROR
)

233 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

234  
ªt
;

237 
ªt
 = 
	`DRV_GëP‹tDu∂ex
(
Õ‹t
, &
p‹t_du∂ex
);

238 if(
ªt
 !
NO_ERROR
)

240 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

241  
ªt
;

244 
ªt
 = 
	`DRV_GëP‹tS≥ed
(
Õ‹t
, &
p‹t_•ìd
);

245 if(
ªt
 !
NO_ERROR
)

247 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

248  
ªt
;

251 
p_h3c_°©s
 = (
h3c_°©s_t
*)(
ª∂ybuf
);

252 if(
TRUE
 !
íabÀ
)

254 
p_h3c_°©s
->
•ìdTy≥
 = 0x01;

255 
p_h3c_°©s
->
du∂exTy≥
 = 0x01;

259 
p_h3c_°©s
->
•ìdTy≥
 = 0x00;

260 
p_h3c_°©s
->
du∂exTy≥
 = 0x00;

264 if(
H3C_PORT_MODE_DUPLEX_AUTO
 !
°_p‹t_mode
[
Õ‹t
-1].
du∂exTy≥
)

266 
p_h3c_°©s
->
du∂exTy≥
 = 0x01;

270 
p_h3c_°©s
->
du∂exTy≥
 = 0x00;

273 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
Õ‹t
, &
lök_°©us
);

275 if((
NO_ERROR
!=
ªt
Ë|| (
lök_°©us
==0))

277 
p_h3c_°©s
->
•ìd
 = 0XFF;

278 
p_h3c_°©s
->
du∂ex
 = 0XFF;

279 
£nd_r•
;

281 ()
	`DRV_GëP‹tDu∂ex
(
Õ‹t
, &
p‹t_du∂ex
);

282 ()
	`DRV_GëP‹tS≥ed
(
Õ‹t
, &
p‹t_•ìd
);

284 
p‹t_du∂ex
)

286 
DUPLEX_HALF
:

287 
p_h3c_°©s
->
du∂ex
 = 
H3C_PORT_MODE_DUPLEX_HALF
;

289 
DUPLEX_FULL
:

290 
p_h3c_°©s
->
du∂ex
 = 
H3C_PORT_MODE_DUPLEX_FULL
;

293 
p_h3c_°©s
->
du∂ex
 = 0XFF;

297 
p‹t_•ìd
)

299 
SPEED_10M
:

300 
p_h3c_°©s
->
•ìd

H3C_PORT_MODE_SPEED_10M
;

302 
SPEED_100M
:

303 
p_h3c_°©s
->
•ìd
 = 
H3C_PORT_MODE_SPEED_100M
;

305 
SPEED_1000M
:

306 
p_h3c_°©s
->
•ìd
 = 
H3C_PORT_MODE_SPEED_1000M
;

309 
p_h3c_°©s
->
•ìd
 = 0XFF;

313 
£nd_r•
:

314 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
Õ‹t
, &
mibCou¡îs
);

315 if(
ªt
 !
NO_ERROR
)

317 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

318 
£nd_Æl
;

320 
p_h3c_°©s
->
ifInO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

321 
p_h3c_°©s
->
ifInCRCEº‹s
 = 
mibCou¡îs
.
InCrcEº‹
;

322 
p_h3c_°©s
->
ifInPau£Pkts
 = 
mibCou¡îs
.
InPau£
;

324 
p_h3c_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

325 
p_h3c_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

326 
p_h3c_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

327 
p_h3c_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

328 
p_h3c_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

329 
p_h3c_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

331 
p_h3c_°©s
->
ifInBuf„rEº‹s
 = 0;

333 
p_h3c_°©s
->
ifInRu¡sPkts
 = 
mibCou¡îs
.
InUndîÊow
;

334 
p_h3c_°©s
->
ifInGü¡sPkts
 = 
mibCou¡îs
.
InOvîÊow
;

335 
p_h3c_°©s
->
ifInRxEº‹s
 = 
mibCou¡îs
.
InEº‹
;

337 
p_h3c_°©s
->
ifOutO˘ësL
 = (
u32_t
)(
mibCou¡îs
.
uiTønsO˘ës
);

338 
p_h3c_°©s
->
ifOutO˘ësH
 = (
u32_t
)(
mibCou¡îs
.
uiTønsO˘ës
 >> 32);

340 
p_h3c_°©s
->
ifOutPau£Pkts
 = 
mibCou¡îs
.
OutPau£
;

341 
p_h3c_°©s
->
ifOutde„ºed
 = 0;

342 
p_h3c_°©s
->
ifOutcﬁlisi⁄s
 = 
mibCou¡îs
.
OutCﬁlisi⁄
;

343 
p_h3c_°©s
->
ifOutTxEº
 = 
mibCou¡îs
.
OutEº‹
;

345 
£nd_Æl
:

346 *
ª∂yÀn
 +(
h3c_°©s_t
);

348  
ªt
;

349 
	}
}

352 
	$e›l_h3c_gë_bﬂrd_°©s
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
, u8_t* 
ª∂ybuf
, u16_à*
ª∂yÀn
)

354 #i‡
	`deföed
(
CONFIG_PRODUCT_5500
)

355 
tmp_buf
[81]={ 'N', '5', '5', '0', '0', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

361 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104N
)

362 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

368 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104W
)

369 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'W', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

375 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN101R
)

376 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '1', 'R', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

382 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN101ZG
)

383 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '1', 'Z', 'G', 0x00, 0x00, 0x00, 0x00, 0x00,

389 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104ZG
)

390 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'Z', 'G', 0x00, 0x00, 0x00, 0x00, 0x00,

396 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN104ZG_A
)

397 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'Z', 'G', '_', 'A', 0x00, 0x00, 0x00,

403 #ñi‡
	`deföed
(
CONFIG_PRODUCT_EPN105
)

404 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '5', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

410 #ñi‡
	`deföed
(
CONFIG_PRODUCT_GPN104N
)

411 
tmp_buf
[81]={ 'G', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

418 
tmp_buf
[81]={ 'U', 'N', 'K', 'N', 'O', 'W', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

426 
	`mem˝y
(
ª∂ybuf
, 
tmp_buf
, (tmp_buf));

427 *
ª∂yÀn
 +(
tmp_buf
);

429  
NO_ERROR
;

430 
	}
}

433 
	$e›l_h3c_gë_ªq
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
, u8_t* 
ª∂ybuf
, u16_à*
ª∂yÀn
)

435 
u32_t
 
ªt
 = 
NO_ERROR
;

437 
Àaf
)

439 
OAM_H3C_EXT_LEAF_UNI_STATS
:

440 
ªt
 = 
	`e›l_h3c_gë_uni_°©s
(
p_ö
, 
bønch
, 
Àaf
, 
ª∂ybuf
, 
ª∂yÀn
);

442 
OAM_H3C_EXT_LEAF_BOARD_STATS
:

443 
ªt
 = 
	`e›l_h3c_gë_bﬂrd_°©s
(
p_ö
, 
bønch
, 
Àaf
, 
ª∂ybuf
, 
ª∂yÀn
);

446 
ªt
 = 
EPON_OAM_ERR_NOT_FOUND
;

450  
ªt
;

451 
	}
}

470 
	$e›l_dh˝_h™dÀr
()

473 
ªt
 = 
NO_ERROR
;

474 
sys_√tw‹k_t
 
öfo
;

475 
ùc_√tw‹k_t
 
ùc_£t
;

477 
	`mem£t
(&
öfo
, 0, (
sys_√tw‹k_t
));

478 
ªt
 = 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

479 if(
IPC_STATUS_OK
 !
ªt
)

481 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

482  
ERROR
;

485 
	`mem£t
(&
ùc_£t
, 0, (
ùc_√tw‹k_t
));

486 
	`ß„_°∫˝y
(
ùc_£t
.
ho°«me
, 
öfo
.hostname, (ipc_set.hostname));

487 
	`ß„_°∫˝y
(
ùc_£t
.
öãrÁ˚_°©e
, 
öfo
.interface_state, (ipc_set.interface_state));

489 
ùc_£t
.
ù_¥Ÿo
 = 
IP_PROTO_DYNAMIC
;

491 if(
IP_PROTO_DYNAMIC
 =
öfo
.
ù_¥Ÿo
)

493 
	`H3C_DBG
(" INFO: ipÖrotocol is dynamic!\n");

494  
NO_ERROR
;

498 
ùc_£t
.
a˘i⁄
 = 
ACTION_RENEW
;

501 
ªt
 = 
	`ﬂm_ùc_£t_sys_√tw‹kög
(&
ùc_£t
);

502 if(
IPC_STATUS_OK
 !
ªt
)

504 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

505  
ERROR
;

507  
ªt
;

508 
	}
}

527 
	$e›l_h3c_dh˝_¥o˚ss
(
u8_t
* 
p_ö
)

529 
u32_t
 
ªt
 = 
NO_ERROR
;

530 if(0x01 =*
p_ö
)

532 
ªt
 = 
	`e›l_dh˝_h™dÀr
();

535  
ªt
;

536 
	}
}

556 
	$e›l_ù_¥o˚ssög
(
ö_addr
 
ùaddr
, ö_add∏
mask
, ö_add∏
g©eway
)

559 
ªt
 = 
NO_ERROR
;

560 
sys_√tw‹k_t
 
öfo
;

561 
ùc_√tw‹k_t
 
ùc_£t
;

563 
	`mem£t
(&
öfo
, 0, (
sys_√tw‹k_t
));

564 
ªt
 = 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

565 if(
IPC_STATUS_OK
 !
ªt
)

567  
ERROR
;

570 
	`mem£t
(&
ùc_£t
, 0, (
ùc_√tw‹k_t
));

571 
	`ß„_°∫˝y
(
ùc_£t
.
ho°«me
, 
öfo
.hostname, (ipc_set.hostname));

572 
	`ß„_°∫˝y
(
ùc_£t
.
öãrÁ˚_°©e
, 
öfo
.interface_state, (ipc_set.interface_state));

574 if(
IP_PROTO_DYNAMIC
 =
öfo
.
ù_¥Ÿo
)

576 
ùc_£t
.
a˘i⁄
 = 
ACTION_RELEASE
;

577 
ªt
 = 
	`ﬂm_ùc_£t_sys_√tw‹kög
(&
ùc_£t
);

578 if(
IPC_STATUS_OK
 !
ªt
)

580 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

581  
ERROR
;

585 
ùc_£t
.
ù_¥Ÿo
 = 
IP_PROTO_STATIC
;

586 
	`mem˝y
(&
ùc_£t
.
√tif
, &
öfo
.netif, (info.netif));

587 
ùc_£t
.
√tif
.
ù
 = 
ùaddr
;

588 
ùc_£t
.
√tif
.
sub√t
 = 
mask
;

589 
ùc_£t
.
√tif
.
g©eway
= gateway;

591 
ªt
 = 
	`ﬂm_ùc_£t_sys_√tw‹kög
(&
ùc_£t
);

592 if(
IPC_STATUS_OK
 !
ªt
)

594 
ªt
 = 
ERROR
;

596  
ªt
;

597 
	}
}

616 
	$e›l_h3c_£t_ù
(
u8_t
* 
p_ö
)

618 
ö_addr
 
ùaddr
;

619 
ö_addr
 
mask
;

620 
ö_addr
 
g©eway
;

621 
u32_t
 
ªt
 = 
NO_ERROR
;

623 
	`mem˝y
(&
ùaddr
, 
p_ö
, 4);

625 
p_ö
 += 4;

626 
	`mem˝y
(&
mask
, 
p_ö
, 4);

629 
p_ö
 += 4;

630 
	`mem˝y
(&
g©eway
, 
p_ö
, 4);

632 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
ùaddr
, 
mask
, 
g©eway
);

634  
ªt
;

635 
	}
}

654 
	$e›l_h3c_£t_deÁu…_ù
(
u8_t
* 
p_ö
)

656 
u32_t
 
ªt
 = 
NO_ERROR
;

657 
ö_addr
 
ùaddr
;

658 
ö_addr
 
mask
;

659 
ö_addr
 
g©eway
;

660 
u32_t
 
u32_ù
 = 
DEFAULT_IP
;

661 
u32_t
 
u32_mask
 = 
DEFAULT_MASK
;

662 
u32_t
 
u32_g©eway
 = 
DEFAULT_GW
;

664 
p_ö
 =Ö_in;

666 
	`mem˝y
(&
ùaddr
, &
u32_ù
, 4);

667 
	`mem˝y
(&
mask
, &
u32_mask
, 4);

668 
	`mem˝y
(&
g©eway
, &
u32_g©eway
, 4);

669 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
ùaddr
, 
mask
, 
g©eway
);

670  
ªt
;

671 
	}
}

690 
	$e›l_h3c_ù_¥o˚ss
(
u8_t
* 
p_ö
)

692 
u32_t
 
ªt
 = 
NO_ERROR
;

693 
u8_t
 
subty≥
 = *
p_ö
;

694 
p_ö
 += 1;

695 
subty≥
)

699 
ªt
 = 
	`e›l_h3c_£t_ù
(
p_ö
);

703 
ªt
 = 
	`e›l_h3c_£t_deÁu…_ù
(
p_ö
);

706 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

707 
ªt
 = 
ERROR
;

710  
ªt
;

711 
	}
}

730 
	$e›l_mgmtvœn_¥o˚ssög
(
u16_t
 
vœnid
)

732 
u32_t
 
ªt
 = 
NO_ERROR
;

733 
sys_mvœn_t
 
ùc_£t_mvœn
;

735 
ùc_£t_mvœn
.
m_vœn
 = 
vœnid
;

736 
ùc_£t_mvœn
.
vœn_öãrÁ˚
 = ipc_£t_mvœn.
m_vœn
;

738 
ªt
 = 
	`ﬂm_ùc_£t_sys_mvœn
(&
ùc_£t_mvœn
);

739 if(
IPC_STATUS_OK
 !
ªt
)

741 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

742  
ERROR
;

744  
NO_ERROR
;

745 
	}
}

764 
	$e›l_h3c_mngt_vœn_¥o˚ss
(
u8_t
* 
p_ö
)

766 
u16_t
 
vœnid
;

767 
ªt
 = 
NO_ERROR
;

768 
sys_√tw‹k_t
 
öfo
;

769 
ùc_√tw‹k_t
 
ùc_£t
;

771 
p_ö
 += 2;

772 
	`mem˝y
(&
vœnid
, 
p_ö
, 2);

773 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
vœnid
);

774 if(
NO_ERROR
 !
ªt
)

776 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

777  
ERROR
;

779  
NO_ERROR
;

781 
	}
}

800 
	$e›l_h3c_£t_p‹t_•ìd
(
u32_t
 
p‹t_num
, u32_à
•ìd_mode
)

802 
u32_t
 
aut⁄eg
;

803 
u32_t
 
•ìd
;

804 
u32_t
 
ªt
 = 
NO_ERROR
;

805 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

807 
•ìd_mode
)

809 
H3C_PORT_MODE_SPEED_AUTO
:

810 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_AUTO
);

813 
H3C_PORT_MODE_SPEED_10M
:

814 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_10M
);

817 
H3C_PORT_MODE_SPEED_100M
:

818 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_100M
);

821 
H3C_PORT_MODE_SPEED_1000M
:

822 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_1000M
);

825 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

826 
ªt
 = 
ERROR
;

829 if(
NO_ERROR
 !
ªt
)

831 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

832  
ERROR
;

834 
°_p‹t_mode
[
p‹t_id
-1].
•ìdTy≥
 = 
•ìd_mode
;

835  
ªt
;

836 
	}
}

855 
u32_t
 
	$e›l_h3c_•ìd_¥o˚ss
(
u8_t
* 
p_ö
)

857 
u32_t
 
ªt
 = 
NO_ERROR
;

858 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

859 
u32_t
 
•ìd_mode
;

860 
p_ö
 += 1;

861 
•ìd_mode
 = (
u32_t
)(*(
u16_t
 *)
p_ö
);

862 if(
uni_p‹t_auto_√gŸüti⁄
 &(1<<
p‹t_num
))

864  
NO_ERROR
;

866 
ªt
 = 
	`e›l_h3c_£t_p‹t_•ìd
(
p‹t_num
, 
•ìd_mode
);

867 if(
ªt
 !
NO_ERROR
)

869 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

872  
ªt
;

873 
	}
}

893 
	$e›l_h3c_£t_p‹t_du∂ex
(
u32_t
 
p‹t_num
, u32_à
du∂ex_mode
)

895 
u32_t
 
ªt
 = 
NO_ERROR
;

896 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

897 
du∂ex_mode
)

899 
H3C_PORT_MODE_DUPLEX_AUTO
:

900 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_AUTO
);

903 
H3C_PORT_MODE_DUPLEX_HALF
:

904 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_HALF
);

907 
H3C_PORT_MODE_DUPLEX_FULL
:

908 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_FULL
);

911 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

912 
ªt
 = 
ERROR
;

916 if(
NO_ERROR
 !
ªt
)

918 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

919  
ERROR
;

921 
°_p‹t_mode
[
p‹t_id
-1].
du∂exTy≥
 = 
du∂ex_mode
;

922  
ªt
;

923 
	}
}

942 
	$e›l_h3c_du∂ex_¥o˚ss
(
u8_t
* 
p_ö
)

944 
u32_t
 
ªt
 = 
NO_ERROR
;

945 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

946 
u32_t
 
du∂ex_mode
;

947 
p_ö
 += 1;

948 
du∂ex_mode
 = (
u32_t
)(*
p_ö
);

949 if(
uni_p‹t_auto_√gŸüti⁄
 &(1<<
p‹t_num
))

951  
NO_ERROR
;

953 
ªt
 = 
	`e›l_h3c_£t_p‹t_du∂ex
(
p‹t_num
, 
du∂ex_mode
);

954 if(
ªt
 !
NO_ERROR
)

956 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

959  
ªt
;

960 
	}
}

979 
	$e›l_h3c_£t_p‹t_múr‹
(
u32_t
 
p‹t_num
, u32_à
múr‹_mode
)

981 
u32_t
 
ªt
 = 
NO_ERROR
;

982 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

983 
múr‹_mode
)

985 
H3C_PORT_MODE_MIRROR_BOTH
:

986 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
BOTH_MIRROR
);

989 
H3C_PORT_MODE_MIRROR_INBOUND
:

990 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
IN_MIRROR
);

993 
H3C_PORT_MODE_MIRROR_OUTBOUND
:

994 
ªt
 = 
	`DRV_AddMúr‹
(
p‹t_id
, 
OUT_MIRROR
);

997 
H3C_PORT_MODE_MIRROR_UNDO
:

998 
ªt
 = 
	`DRV_DñMúr‹
(
p‹t_id
, 
BOTH_MIRROR
);

1001 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1002 
ªt
 = 
ERROR
;

1005  
ªt
;

1006 
	}
}

1025 
u32_t
 
	$e›l_h3c_múr‹_¥o˚ss
(
u8_t
* 
p_ö
)

1027 
u32_t
 
ªt
 = 
NO_ERROR
;

1028 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1029 
u32_t
 
múr‹_mode
;

1030 
p_ö
 += 1;

1031 
múr‹_mode
 = (
u32_t
)(*
p_ö
);

1032 
p_ö
 += 1;

1033 
múr‹_mode
 <<= 8;

1034 
múr‹_mode
 |*
p_ö
;

1035 
ªt
 = 
	`e›l_h3c_£t_p‹t_múr‹
(
p‹t_num
, 
múr‹_mode
);

1036 if(
ªt
 !
NO_ERROR
)

1038 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1041  
ªt
;

1042 
	}
}

1061 
	$e›l_h3c_£t_p‹t_m⁄ô‹
(
u32_t
 
p‹t_num
, u32_à
a˘i⁄
)

1063 
u32_t
 
ªt
 = 
NO_ERROR
;

1064 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1065 
a˘i⁄
)

1067 
H3C_PORT_MODE_MONITOR_SET
:

1068 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p‹t_id
, 
ENABLE
);

1071 
H3C_PORT_MODE_MONITOR_UNDO
:

1072 
ªt
 = 
	`DRV_SëM⁄ô‹
(
p‹t_id
, 
DISABLE
);

1076 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1077 
ªt
 = 
ERROR
;

1080  
ªt
;

1081 
	}
}

1099 
	$e›l_h3c_m⁄ô‹_¥o˚ss
(
u8_t
* 
p_ö
)

1101 
u32_t
 
ªt
 = 
NO_ERROR
;

1102 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1103 
u32_t
 
subty≥
;

1104 
p_ö
 += 1;

1105 
subty≥
 = (
u32_t
)(*
p_ö
);

1106 
ªt
 = 
	`e›l_h3c_£t_p‹t_m⁄ô‹
(
p‹t_num
, 
subty≥
);

1107 if(
ªt
 !
NO_ERROR
)

1109 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1112  
ªt
;

1113 
	}
}

1132 
	$e›l_h3c_£t_p‹t_isﬁ©e
(
u32_t
 
p‹t_num
, u32_à
a˘i⁄
)

1134 
u32_t
 
ªt
 = 
NO_ERROR
;

1135 
a˘i⁄
)

1137 
H3C_PORT_MODE_ISOLATE_SET
:

1138 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
p‹t_num
+1, 
ENABLE
);

1140 
H3C_PORT_MODE_ISOLATE_UNDO
:

1141 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
p‹t_num
+1, 
DISABLE
);

1144 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1145 
ªt
 = 
ERROR
;

1148  
ªt
;

1149 
	}
}

1167 
	$e›l_h3c_isﬁ©e_¥o˚ss
(
u8_t
* 
p_ö
)

1169 
u32_t
 
ªt
 = 
NO_ERROR
;

1170 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1171 
u32_t
 
subty≥
;

1173 
p_ö
 += 1;

1174 
subty≥
 = (
u32_t
)(*
p_ö
);

1175 
ªt
 = 
	`e›l_h3c_£t_p‹t_isﬁ©e
(
p‹t_num
, 
subty≥
);

1176 if(
ªt
 !
NO_ERROR
)

1178 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1181  
ªt
;

1182 
	}
}

1185 
	$e›l_h3c_£t_p‹t_mdi
(
u32_t
 
p‹t_num
, u32_à
subty≥
)

1187 
u32_t
 
ªt
 = 
NO_ERROR
;

1188 
u32_t
 
p‹t_id
 = 
p‹t_num
+1;

1189 
subty≥
)

1191 
H3C_PORT_MODE_MDI_AUTO
:

1192 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_AUTO
);

1195 
H3C_PORT_MODE_MDI_NORMAL
:

1196 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_NORMAL
);

1199 
H3C_PORT_MODE_MDI_ACROSS
:

1200 
ªt
 = 
	`Io˘l_SëP‹tMdix
(
p‹t_id
, 
PORT_MDI_ACROSS
);

1203 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1204 
ªt
 = 
ERROR
;

1207  
ªt
;

1208 
	}
}

1210 
	$e›l_h3c_mdi_¥o˚ss
(
u8_t
* 
p_ö
)

1212 
u32_t
 
ªt
 = 
NO_ERROR
;

1213 
u32_t
 
p‹t_num
 = (u32_t)(*
p_ö
);

1214 
u32_t
 
subty≥
;

1215 
p_ö
 += 1;

1216 
subty≥
 = (
u32_t
)(*
p_ö
);

1217 
ªt
 = 
	`e›l_h3c_£t_p‹t_mdi
(
p‹t_num
, 
subty≥
);

1218 if(
ªt
 !
NO_ERROR
)

1220 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1223  
ªt
;

1224 
	}
}

1226 
	$fûãr_a˛_add_loˇl
(
u8_t
 
dúe˘i⁄
, u8_à
a˛Ty≥
,u8_à
ucRuÀID
, u8_t* 
ucVÆue
)

1228 
ii
;

1229 if(
dúe˘i⁄
 > 2)

1231  
ERROR
;

1233 if(
NULL
 =
ucVÆue
)

1235  
ERROR
;

1237 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1239 if(
INVALID_8
 =
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1241 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = direction;

1242 
aFûtA˛_li°
[
ii
].
a˛ruÀID
 = 
ucRuÀID
;

1243 
aFûtA˛_li°
[
ii
].
ty≥
 = 
a˛Ty≥
;

1244 
	`mem˝y
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 6);

1248 if(
MAX_FILTER_NUM
 =
ii
)

1250 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1251  
ERROR
;

1253  
NO_ERROR
;

1254 
	}
}

1255 
	$fûãr_a˛_gë_loˇ um
()

1257 
ii
;

1258 
cou¡
=0;

1259 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1261 if(
INVALID_8
 !
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1263 
cou¡
++;

1267  
cou¡
;

1268 
	}
}

1269 
	$fûãr_a˛_gë_em±yruÀ
()

1271 
ii
;

1272 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1274 if(
INVALID_8
 =
aFûtA˛_li°
[
ii
].
dúe˘i⁄
)

1280  
ii
;

1281 
	}
}

1283 
	$fûãr_a˛_dñ_loˇl
(
u8_t
 
dúe˘i⁄
, u8_à
a˛Ty≥
, u8_t* 
ucVÆue
)

1285 
ii
;

1286 
ªt
 = 
NO_ERROR
;

1287 if(
dúe˘i⁄
 > 2)

1289  
ERROR
;

1291 if(
NULL
 =
ucVÆue
)

1293  
ERROR
;

1295 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1297 if((
dúe˘i⁄
 =
aFûtA˛_li°
[
ii
].dúe˘i⁄Ë&& (
a˛Ty≥
 =aFûtA˛_li°[ii].
ty≥
))

1299 if((
ACL_TRUST_SMAC
==
a˛Ty≥
Ë|| (
ACL_TRUST_DMAC
==aclType))

1301 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 6))

1306 if((
ACL_TRUST_IPV4_SIP
==
a˛Ty≥
Ë|| (
ACL_TRUST_IPV4_DIP
==aclType))

1308 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 4))

1315 if(0 !
	`memcmp
(
aFûtA˛_li°
[
ii
].
vÆue
, 
ucVÆue
, 2))

1322 
	`H3C_DBG
("fûãr_a˛_dñ_loˇ»%d\n",
aFûtA˛_li°
[
ii
].
a˛ruÀID
);

1323 
ªt
=
	`Io˘l_DñA˛FûãrByP‹t
(
INVALID_PORT
,
aFûtA˛_li°
[
ii
].
a˛ruÀID
,aFûtA˛_li°[ii].
dúe˘i⁄
);

1324 if(
ªt
 !
DRV_OK
)

1326 
	`H3C_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1327  
ERROR
;

1330 
aFûtA˛_li°
[
ii
].
ty≥
 = 
INVALID_8
;

1331 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = 
INVALID_8
;

1332 
	`mem£t
(
aFûtA˛_li°
[
ii
].
vÆue
, 0, 6);

1337  
NO_ERROR
;

1338 
	}
}

1340 
	$fûãr_a˛_˛ór_loˇl
()

1342 
ii
;

1343 
ªt
;

1344 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1346 if(
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 =
INVALID_8
)

1351 
ªt
=
	`Io˘l_DñA˛FûãrByP‹t
(
INVALID_PORT
,
aFûtA˛_li°
[
ii
].
a˛ruÀID
,aFûtA˛_li°[ii].
dúe˘i⁄
);

1352 if(
ªt
 !
DRV_OK
)

1354 
	`H3C_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1355  
ERROR
;

1357 
aFûtA˛_li°
[
ii
].
ty≥
 = 
INVALID_8
;

1358 
aFûtA˛_li°
[
ii
].
dúe˘i⁄
 = 
INVALID_8
;

1359 
	`mem£t
(
aFûtA˛_li°
[
ii
].
vÆue
, 0, 6);

1361 
	}
}

1362 
	$e›l_h3c_fûãr_¥o˚ss
(
u8_t
* 
p_ö
)

1364 
u32_t
 
ªt
 = 
NO_ERROR
;

1365 
u32_t
 
fûãrEm±yE¡ry
;

1366 
u32_t
 
cou¡
=0;

1367 
u32_t
 
a˛Dú
;

1368 
a˛ToDñ
 = -1;

1369 
u32_t
 
fûãrTy≥
 = 0;

1370 
ii
 = 0;

1371 
h3c_∑ckë_fûãr_t
* 
p_∑ckë_fûãr
 = (h3c_∑ckë_fûãr_t*)
p_ö
;

1372 
u8_t
 
tmp_fûãr_vÆue
[6];

1374 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
, (p_packet_filter->value));

1376 
p_∑ckë_fûãr
->
ty≥
)

1378 
H3C_PACKET_FILTER_TRUST_DMAC
:

1379 
fûãrTy≥
 = 
ACL_TRUST_DMAC
;

1381 
H3C_PACKET_FILTER_TRUST_SMAC
:

1382 
fûãrTy≥
 = 
ACL_TRUST_SMAC
;

1384 
H3C_PACKET_FILTER_TRUST_SIP
:

1385 
fûãrTy≥
 = 
ACL_TRUST_IPV4_SIP
;

1387 
H3C_PACKET_FILTER_TRUST_DIP
:

1388 
fûãrTy≥
 = 
ACL_TRUST_IPV4_DIP
;

1390 
H3C_PACKET_FILTER_TRUST_TCP_SPORT
:

1391 
fûãrTy≥
 = 
ACL_TRUST_TCP_SPORT
;

1392 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1393 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1395 
H3C_PACKET_FILTER_TRUST_TCP_DPORT
:

1396 
fûãrTy≥
 = 
ACL_TRUST_TCP_DPORT
;

1397 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1398 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1400 
H3C_PACKET_FILTER_TRUST_UDP_SPORT
:

1401 
fûãrTy≥
 = 
ACL_TRUST_UDP_SPORT
;

1402 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1403 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1405 
H3C_PACKET_FILTER_TRUST_UDP_DPORT
:

1406 
fûãrTy≥
 = 
ACL_TRUST_UDP_DPORT
;

1407 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1408 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1410 
H3C_PACKET_FILTER_TRUST_CVLAN
:

1411 
fûãrTy≥
 = 
ACL_TRUST_CTAG_VID
;

1412 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1413 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1415 
H3C_PACKET_FILTER_TRUST_ETHTYPE
:

1416 
fûãrTy≥
 = 
ACL_TRUST_ETHTYPE
;

1421 
	`mem˝y
(
tmp_fûãr_vÆue
, 
p_∑ckë_fûãr
->
vÆue
 + 2, 2);

1422 
	`mem˝y
(
tmp_fûãr_vÆue
 + 2, 
p_∑ckë_fûãr
->
vÆue
, 2);

1425  
ERROR
;

1427 if(
H3C_PACKET_FILTER_ENABLE_SET
 =
p_∑ckë_fûãr
->
a˘i⁄
) {

1429 if((
cou¡
=
	`fûãr_a˛_gë_loˇ um
())==
MAX_FILTER_NUM
)

1431  
ERROR
;

1434 
ªt
 = 
	`Io˘l_GëUni⁄Uöt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
fûãrEm±yE¡ry
);

1435 if(
ªt
 !
DRV_OK
)

1437 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1438  
ERROR
;

1441 
fûãrEm±yE¡ry
=
	`fûãr_a˛_gë_em±yruÀ
();

1442 
	`H3C_DBG
("addá˛É¡ry %d\n", 
fûãrEm±yE¡ry
);

1443 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

1444 
fûãrTy≥
,

1445 
p_∑ckë_fûãr
->
dú˘i⁄
,

1446 
tmp_fûãr_vÆue
);

1448 if(
ªt
 !
DRV_OK
)

1450 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1451  
ERROR
;

1453 
	`fûãr_a˛_add_loˇl
(
p_∑ckë_fûãr
->
dú˘i⁄
,

1454 
p_∑ckë_fûãr
->
ty≥
,

1455 
fûãrEm±yE¡ry
,

1456 
p_∑ckë_fûãr
->
vÆue
);

1459 if(
H3C_PACKET_FILTER_DISABLE_SET
 =
p_∑ckë_fûãr
->
a˘i⁄
)

1461 
ªt
 = 
	`fûãr_a˛_dñ_loˇl
(
p_∑ckë_fûãr
->
dú˘i⁄
,

1462 
p_∑ckë_fûãr
->
ty≥
,

1463 
p_∑ckë_fûãr
->
vÆue
);

1464 if(
ªt
 !
NO_ERROR
)

1466 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1467  
ERROR
;

1472 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1473  
ERROR
;

1475  
NO_ERROR
;

1476 
	}
}

1478 
	$e›l_h3c_ª£t_uni_°©s
(
u8_t
* 
p_ö
)

1480 
u32_t
 
ªt
 = 
NO_ERROR
;

1481 
u32_t
 
Õ‹t
 = (u32_t)(*
p_ö
) + 1;

1482 
ªt
 = 
	`Io˘l_SëMibCou¡Re£t
(
Õ‹t
);

1483 if(
ªt
 !
DRV_OK
)

1485 
	`H3C_DBG
("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1486  
ERROR
;

1488  
NO_ERROR
;

1489 
	}
}

1491 
	$ﬂm_h3c_£t_mgmtvœnif
(
u8_t
 *
p_ö
)

1493 
u32_t
 
ªt
 = 
NO_ERROR
;

1494 
ifödex_t
 
ifödex
;

1495 
i‚ame
[64];

1496 
sys_mvœn_t
 
öfo_mvœn
;

1498 
	`mem£t
(&
öfo_mvœn
, 0, (
sys_mvœn_t
));

1499 if(
IPC_STATUS_OK
 !
	`ﬂm_ùc_gë_sys_mvœn
(&
öfo_mvœn
))

1501  
ERROR
;

1504 
	`•rötf
(
i‚ame
,
IF_L3VLAN_NAMEPREFIX
"%d",
öfo_mvœn
.
vœn_öãrÁ˚
);

1505 
	`IF_GëByIFName
(
i‚ame
,&
ifödex
);

1507 if(
H3C_MGMT_IF_SHUTDOWN_NO
 =*
p_ö
)

1509 
	`ùc_shutdown_ötf
(
ùc_fd
,
ifödex
,
UNDOSHUTDOWN
);

1511 if(
H3C_MGMT_IF_SHUTDOWN
 =*
p_ö
)

1513 
	`ùc_shutdown_ötf
(
ùc_fd
,
ifödex
,
SHUTDOWN
);

1517  
ERROR
;

1520  
NO_ERROR
;

1521 
	}
}

1522 
	$ﬂm_h3c_£t_uni_Á°_Àave
(
u8_t
 *
p_ö
)

1524 
h3c_Á°_Àave_t
 *
p_Á°_Àave
 = (h3c_Á°_Àave_t*)
p_ö
;

1526  
ERROR
;

1528 
p_Á°_Àave
->
a˘
)

1530 
H3C_ENABLE
:

1531 if(
OPL_OK
 !
	`odmMu…iˇ°Fa°ÀaveModeSë
(1))

1533  
ERROR
;

1536 
H3C_DISABLE
:

1537 if(
OPL_OK
 !
	`odmMu…iˇ°Fa°ÀaveModeSë
(0))

1539  
ERROR
;

1543  
ERROR
;

1546  
NO_ERROR
;

1548 
	}
}

1550 
	$ﬂm_h3c_£t_uni_c⁄fig
(
u8_t
 *
p_ö
)

1552 
u32_t
 
ªt
 = 
NO_ERROR
;

1553 
u8_t
* 
p_§c
 = 
p_ö
;

1554 
p_ö
 += 6;

1555 
h3c_v¨übÀ_t
 *
p_des
;

1558 i‡((
p_ö
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
-((
ﬂmpdu_hdr_t
)+(
h3c_hódî_t
)))

1560 
	`H3C_DBG
("invalidÖacket size\n");

1563 
p_des
 = (
h3c_v¨übÀ_t
*)
p_ö
;

1564 
p_des
->
Àaf
)

1566 
OAM_H3C_EXT_LEAF_SPEED_SET
:

1567 
ªt
 = 
	`e›l_h3c_•ìd_¥o˚ss
(
p_ö
 + 4);

1569 
OAM_H3C_EXT_LEAF_DUPLEX_SET
:

1570 
ªt
 = 
	`e›l_h3c_du∂ex_¥o˚ss
(
p_ö
 + 4);

1572 
OAM_H3C_EXT_LEAF_MIRROR_SET
:

1573 
ªt
 = 
	`e›l_h3c_múr‹_¥o˚ss
(
p_ö
 + 4);

1575 
OAM_H3C_EXT_LEAF_MONITOR_SET
:

1576 
ªt
 = 
	`e›l_h3c_m⁄ô‹_¥o˚ss
(
p_ö
 + 4);

1578 
OAM_H3C_EXT_LEAF_ISOLATE_SET
:

1579 
ªt
 = 
	`e›l_h3c_isﬁ©e_¥o˚ss
(
p_ö
 + 4);

1581 
OAM_H3C_EXT_LEAF_MDI_SET
:

1582 
ªt
 = 
	`e›l_h3c_mdi_¥o˚ss
(
p_ö
 + 4);

1584 
OAM_H3C_EXT_LEAF_MCAST_FAST_LEAVE
:

1585 
ªt
 = 
	`ﬂm_h3c_£t_uni_Á°_Àave
(
p_ö
 + 4);

1594 
p_ö
 +(
p_des
->
width
+4);

1596 
	}
}

1598 
	$ﬂm_h3c_£t_⁄u_c⁄fig
(
u8_t
 *
p_ö
)

1600 
u8_t
* 
p_§c
 = 
p_ö
;

1601 
p_ö
 += 6;

1602 
h3c_v¨übÀ_t
 *
p_des
;

1605 ()
	`fûãr_a˛_˛ór_loˇl
();

1609 i‡((
p_ö
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
-((
ﬂmpdu_hdr_t
)+(
h3c_hódî_t
)))

1611 
	`H3C_DBG
("invalidÖacket size\n");

1614 
p_des
 = (
h3c_v¨übÀ_t
*)
p_ö
;

1615 
p_des
->
Àaf
)

1617 
OAM_H3C_EXT_LEAF_MGMT_IP_CFG
:

1618 ()
	`e›l_h3c_ù_¥o˚ss
(
p_ö
 + 4);

1620 
OAM_H3C_EXT_LEAF_MGMT_VLAN
:

1621 ()
	`e›l_h3c_mngt_vœn_¥o˚ss
(
p_ö
 + 4);

1623 
OAM_H3C_EXT_LEAF_DHCP
:

1624 ()
	`e›l_h3c_dh˝_¥o˚ss
(
p_ö
 + 4);

1626 
OAM_H3C_EXT_LEAF_FILTER_SET
:

1627 ()
	`e›l_h3c_fûãr_¥o˚ss
(
p_ö
 + 4);

1629 
OAM_H3C_EXT_LEAF_MGMT_VLANIF
:

1630 ()
	`ﬂm_h3c_£t_mgmtvœnif
(
p_ö
 + 4);

1649 
p_ö
 +(
p_des
->
width
+4);

1651 
	}
}

1671 
	$e›l_h3c_£t_ªq
(
u8_t
 *
p_ö
, u8_à
bønch
, 
u16_t
 
Àaf
)

1673 
u8_t
 *
p_out
;

1674 
u8_t
 * 
pucBuf
;

1675 
u32_t
 
ödex
;

1676 
u32_t
 
ªt
 = 
ERROR
;

1677 #i‚de‡
CONFIG_PRODUCT_5500


1678 
Àaf
)

1680 
OAM_H3C_EXT_LEAF_MGMT_IP_CFG
:

1681 
ªt
 = 
	`e›l_h3c_ù_¥o˚ss
(
p_ö
);

1683 
OAM_H3C_EXT_LEAF_MGMT_VLAN
:

1684 
ªt
 = 
	`e›l_h3c_mngt_vœn_¥o˚ss
(
p_ö
);

1686 
OAM_H3C_EXT_LEAF_DHCP
:

1687 
ªt
 = 
	`e›l_h3c_dh˝_¥o˚ss
(
p_ö
);

1689 
OAM_H3C_EXT_LEAF_SPEED_SET
:

1690 
ªt
 = 
	`e›l_h3c_•ìd_¥o˚ss
(
p_ö
);

1692 
OAM_H3C_EXT_LEAF_SPEED_SET_1000M
:

1694 
OAM_H3C_EXT_LEAF_DUPLEX_SET
:

1695 
ªt
 = 
	`e›l_h3c_du∂ex_¥o˚ss
(
p_ö
);

1697 
OAM_H3C_EXT_LEAF_MIRROR_SET
:

1698 
ªt
 = 
	`e›l_h3c_múr‹_¥o˚ss
(
p_ö
);

1700 
OAM_H3C_EXT_LEAF_MONITOR_SET
:

1701 
ªt
 = 
	`e›l_h3c_m⁄ô‹_¥o˚ss
(
p_ö
);

1703 
OAM_H3C_EXT_LEAF_ISOLATE_SET
:

1704 
ªt
 = 
	`e›l_h3c_isﬁ©e_¥o˚ss
(
p_ö
);

1706 
OAM_H3C_EXT_LEAF_MDI_SET
:

1707 
ªt
 = 
	`e›l_h3c_mdi_¥o˚ss
(
p_ö
);

1709 
OAM_H3C_EXT_LEAF_FILTER_SET
:

1710 
ªt
 = 
	`e›l_h3c_fûãr_¥o˚ss
(
p_ö
);

1712 
OAM_H3C_EXT_LEAF_UNI_STATS_RESET
:

1713 
ªt
 = 
	`e›l_h3c_ª£t_uni_°©s
(
p_ö
);

1715 
OAM_H3C_EXT_LEAF_MGMT_VLANIF
:

1716 
ªt
 = 
	`ﬂm_h3c_£t_mgmtvœnif
(
p_ö
);

1718 
OAM_H3C_EXT_LEAF_MCAST_FAST_LEAVE
:

1719 
ªt
 = 
	`ﬂm_h3c_£t_uni_Á°_Àave
(
p_ö
);

1721 
OAM_H3C_EXT_LEAF_UNI_CONFIG
:

1722 if(0xf‡=
bønch
)

1724 ()
	`ﬂm_h3c_£t_uni_c⁄fig
(
p_ö
);

1726 
ªt
 = 
NO_ERROR
;

1728 
OAM_H3C_EXT_LEAF_ONU_CONFIG
:

1729 if(0xf‡=
bønch
)

1731 ()
	`ﬂm_h3c_£t_⁄u_c⁄fig
(
p_ö
);

1733 
ªt
 = 
NO_ERROR
;

1740  
ªt
;

1741 
	}
}

1761 
	$e›l_h3c_pdu_¥o˚ss
(

1762 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1763 *
pFøme
,

1764 
Àngth
,

1765 *
pRïlyBuf
,

1766 
bufLí
,

1767 *
pRïlyLí
)

1769 
ªt
 = 
EPON_OAM_ERR_OK
;

1770 
h3c_hódî_t
 *
p_h3c_hdr
;

1771 
h3c_hódî_t
 *
p_out_h3c_hdr
;

1772 
u8_t
 *
p_byã
;

1774 *
pRïlyLí
 = 0;

1775 if((
Àngth
 < 
H3C_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < H3C_ORGSPEC_HDR_LEN))

1778  
EPON_OAM_ERR_PARAM
;

1781 
p_byã
 = 
pFøme
;

1782 
p_h3c_hdr
 = (
h3c_hódî_t
*)
pFøme
;

1783 
p_byã
 +(
h3c_hódî_t
);

1785 
p_out_h3c_hdr
 = (
h3c_hódî_t
*)
pRïlyBuf
;

1786 
	`mem˝y
(
p_out_h3c_hdr
->
oui
, 
p_h3c_hdr
->oui, 3);

1787 
p_out_h3c_hdr
->
bønch
 = 
p_h3c_hdr
->branch;

1788 
p_out_h3c_hdr
->
Àaf
 = 
p_h3c_hdr
->leaf;

1789 *
pRïlyLí
 +(
h3c_hódî_t
);

1790 
pRïlyBuf
 +(
h3c_hódî_t
);

1792 
p_h3c_hdr
->
ext_›code
)

1794 
OAM_H3C_EXT_OPCODE_GET_REQUEST
:

1795 
p_out_h3c_hdr
->
ext_›code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

1796 
ªt
 = 
	`e›l_h3c_gë_ªq
(
p_byã
, 
p_h3c_hdr
->
bønch
,Ö_h3c_hdr->
Àaf
, 
pRïlyBuf
, 
pRïlyLí
);

1798 
OAM_H3C_EXT_OPCODE_SET_REQUEST
:

1799 
p_out_h3c_hdr
->
ext_›code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

1800 
ªt
 = 
	`e›l_h3c_£t_ªq
(
p_byã
, 
p_h3c_hdr
->
bønch
,Ö_h3c_hdr->
Àaf
);

1803 
p_out_h3c_hdr
->
ext_›code
 = 
p_h3c_hdr
->ext_opcode;

1804 
	`H3C_DBG
("Unknow Ext. Opcodê(%d)", 
p_h3c_hdr
->
ext_›code
);

1807 
p_out_h3c_hdr
->
£quí˚
[0]=
ªt
;

1808 if(
EPON_OAM_ERR_OK
 !
ªt
)

1811 *(
pRïlyBuf
-5) = 0x04;

1814  
EPON_OAM_ERR_OK
;

1815 
	}
}

1817 
	$h3c_ﬂm_öô
()

1819 
i
, 
ªt
;

1820 
oui
[] = 
H3C_OAM_OUI
;

1821 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

1824 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_h3c_pdu_¥o˚ss
;

1825 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

1826 
EPON_OAM_CBTYPE_ORGSPEC
,

1827 
oui
,

1828 (*Ë&
‹gS≥cCb
);

1829 if(
EPON_OAM_ERR_OK
 !
ªt
)

1831 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1833  
EPON_OAM_ERR_UNKNOWN
;

1836 
ùc_fd
 = 
	`ùc_˛õ¡_c⁄√˘
("eponoamd");

1837 if(
ùc_fd
 < 0)

1839 
	`¥ötf
("%†%d\n", 
__FUNCTION__
, 
__LINE__
);

1842  
EPON_OAM_ERR_OK
;

1843 
	}
}

	@src/vendor/huawei.c

9 
	~<°dio.h
>

10 
	~<°rög.h
>

11 
	~<°dlib.h
>

12 
	~<mÆloc.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<sys/°©.h
>

15 
	~<sys/sockë.h
>

16 
	~<√töë/ö.h
>

17 
	~<√t/if.h
>

20 
	~"ï⁄_ﬂm_c⁄fig.h
"

21 
	~"ï⁄_ﬂm_îr.h
"

22 
	~"ï⁄_ﬂm_db.h
"

23 
	~"ï⁄_ﬂm_dbg.h
"

24 
	~"ï⁄_ﬂm_rx.h
"

26 
	~"˘c_ﬂm.h
"

27 
	~"˘c_ﬂm_v¨.h
"

29 
	~"ﬂm.h
"

30 
	~"h3c.h
"

32 
	~"ùc_˛õ¡.h
"

33 
	~"ﬂm_lw.h
"

36 
	~"lw_drv_pub.h
"

37 
	~"lw_drv_ªq.h
"

38 
	~"huawei.h
"

39 
	~"yŸc.h
"

40 
	~"h3c.h
"

41 
	~"lw_c⁄fig.h
"

43 
u16_t
 
g_usOutD©aIdx
;

44 
u8_t
 
out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
ö_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

46 
ﬂm_ßã_t
 
ﬂms
;

47 
u8_t
 
huawei_oui
[];

50 
u8_t
 
uni_p‹t_auto_√gŸüti⁄
;

52 
ﬂm_huawei_ö°™˚_év_2_0_t
 
	ghuawei_p‹t_ö°™˚_2_0
;

54 
	#MODULE
 
MOD_OAM


	)

57 
	#HW_DBG
(
°rög
Ë{\

	)

59 
¥ötf
 
	g°rög
;\

63 
	#HW_DBG
(
°rög
)

	)

66 
	$ﬂm_huawei_ù_mgmt_vœn_¥o˚ss
(

67 
ŒidIdx
,

68 
›
,

69 
˘c_v¨In°™t_t
 *
pV¨In°™t
,

70 
˘c_v¨Des¸ùt‹_t
 
v¨Desc
,

71 *
pV¨C⁄èöî_TŸÆ_Lí
,

72 
˘c_v¨C⁄èöî_t
 *
pV¨C⁄èöî
)

74 
u32_t
 
ªt
 = 
NO_ERROR
;

75 
u8_t
 *
p_ö
 = 
pV¨C⁄èöî
->
pV¨D©a
;

77 
ﬂm_huawei_ù_mgmt_vœn_£t_t
 *
p_ù_mgmt_vœn_c⁄fig
;

78 
p_ù_mgmt_vœn_c⁄fig
 = (
ﬂm_huawei_ù_mgmt_vœn_£t_t
*)
p_ö
;

81 
p_ù_mgmt_vœn_c⁄fig
 = (
ﬂm_huawei_ù_mgmt_vœn_£t_t
*)
p_ö
;

82 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_ù_mgmt_vœn_c⁄fig
->
ùaddr
,Ö_ù_mgmt_vœn_c⁄fig->
mask
,Ö_ù_mgmt_vœn_c⁄fig->
g©eway
);

83 if(
NO_ERROR
 !
ªt
)

85 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

86 
£nd_r•
;

88 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_ù_mgmt_vœn_c⁄fig
->
vœnid
);

89 if(
NO_ERROR
 !
ªt
)

91 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

92 
£nd_r•
;

94 
£nd_r•
:

95 if(
NO_ERROR
 !
ªt
)

97 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

101 
pV¨C⁄èöî
->
v¨Width
 = 
CTC_OAM_VAR_RESP_SETOK
;

104  
EPON_OAM_ERR_OK
;

105 
	}
}

108 
	$e›l_huawei_£t_uni_˛ór
(
u8_t
* 
p_ö
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

110 
u8_t
 
æt
=
DRV_OK
, 
ucP‹tS
, 
ucP‹tE
;

111 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

112 
ﬂm_huawei_ö°™˚_év_2_0_t
 *
p_ö°
;

114 
p_ö
 =Ö_in;

116 if(
huawei_p‹t_ö°™˚_2_0
.
vÆue
 == 200)

121 if(0xFF =
huawei_p‹t_ö°™˚_2_0
.
vÆue
)

123 
ucP‹tS
 = 1;

124 
ucP‹tE
 = 
OAM_MAX_INSTANCE_ID
;

128 
ucP‹tS
 = 
huawei_p‹t_ö°™˚_2_0
.
vÆue
;

129 
ucP‹tE
 = 
huawei_p‹t_ö°™˚_2_0
.
vÆue
;

132 
p_ö°
 = (
ﬂm_huawei_ö°™˚_év_2_0_t
 *)
pRïlyBuf
;

133 *
p_ö°
 = 
huawei_p‹t_ö°™˚_2_0
;

134 
pRïlyBuf
 +(
ﬂm_ö°™˚_év_2_0
);

135 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

136 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

137 
p_r•
->
Àaf
 = 
OAM_HUAWEI_EXT_LEAF_UNI_CLEAR
;

139 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

141 
æt
 = 
	`Io˘l_SëMibCou¡Re£t
(
ucP‹tS
);

144 if(
æt
 =
DRV_OK
)

146 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

150 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

151 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

154 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_huawei_ö°™˚_év_2_0_t
);

155 
	}
}

157 
	$e›l_huawei_£t_rögcheck
(
u8_t
* 
p_ö
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

159 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

160 
ﬂm_huawei_rögcheck_t
* 
p_rögcheck
;

162 
u32_t
 
ªt
 = 
NO_ERROR
;

164 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

165 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

166 
p_r•
->
Àaf
 = 
OAM_HUAWEI_EXT_LEAF_SET_RINGCHECK
;

168 
p_rögcheck
 = (
ﬂm_huawei_rögcheck_t
*)
p_ö
;

170 
p_rögcheck
->
a˘i⁄
)

172 
OAM_HUAWEI_EXT_LEAF_RINGCHECK_ENABLE
:

174 
ªt
 = 
NO_ERROR
;

176 
OAM_HUAWEI_EXT_LEAF_RINGCHECK_DISABLE
:

177 
ªt
 = 
NO_ERROR
;

180 
ªt
 = 
ERROR
;

184 if(
NO_ERROR
 =
ªt
)

186 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

190 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

193 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

194 
	}
}

198 
	$e›l_huawei_gë_›tics_r•
(
u8_t
* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

200 
iSètus
=0;

201 
ﬂm_⁄u_›tics_öfo_t
 *
p_›tics_öfo
;

203 
p_›tics_öfo
 = (
ﬂm_⁄u_›tics_öfo_t
*)
pRïlyBuf
;

204 
p_›tics_öfo
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

205 
p_›tics_öfo
->
Àaf
 = 
OAM_HUAWEI_EXT_LEAF_GET_OPTICS
;

206 
p_›tics_öfo
->
width
 = 0x0b;

216 
p_›tics_öfo
->
ãm≥øtuª
= 0x33;

217 
p_›tics_öfo
->
suµlyVﬁt
= 0x00000003;

218 
p_›tics_öfo
->
büsCuºít
= 0x000d;

219 
p_›tics_öfo
->
txPowî
= 0x420a;

220 
p_›tics_öfo
->
rxPowî
= 0x008a;

222 *
pGíÀn
 = (
ﬂm_⁄u_›tics_öfo_t
);

224 
	}
}

226 
	$e›l_huawei_gë_ëh_°©s_r•
(
u8_t
* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

228 
ﬂm_huawei_p‹t_°©s_t
 *
p_p‹t_°©s
;

229 
ﬂm_huawei_ö°™˚_év_2_0_t
 *
p_out_ö°™˚
;

230 
u32_t
 
ªt
 = 
NO_ERROR
;

231 
UNI_COUNTER_S
 
mibCou¡îs
;

234 
p_out_ö°™˚
 = (
ﬂm_huawei_ö°™˚_év_2_0_t
*)
pRïlyBuf
;

235 
	`mem˝y
(
p_out_ö°™˚
, &
huawei_p‹t_ö°™˚_2_0
, (
ﬂm_huawei_ö°™˚_év_2_0_t
));

236 
pRïlyBuf
 +(
ﬂm_huawei_ö°™˚_év_2_0_t
);

238 
p_p‹t_°©s
 = (
ﬂm_huawei_p‹t_°©s_t
*)
pRïlyBuf
;

239 
p_p‹t_°©s
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

240 
p_p‹t_°©s
->
Àaf
 = 
OAM_HUAWEI_EXT_LEAF_GET_ETH_STATS
;

241 
p_p‹t_°©s
->
width
 = (
ﬂm_huawei_p‹t_°©s_t
) - 5;

243 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
huawei_p‹t_ö°™˚_2_0
.
vÆue
, &
mibCou¡îs
);

244 if(
ªt
 !
NO_ERROR
)

246 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

247 
£nd_r•
;

250 
p_p‹t_°©s
->
ifInTŸÆPkts
 +
mibCou¡îs
.
InBrﬂdˇ°
;

251 
p_p‹t_°©s
->
ifInTŸÆPkts
 +
mibCou¡îs
.
InMu…iˇ°
;

252 
p_p‹t_°©s
->
ifInTŸÆPkts
 +
mibCou¡îs
.
InUniˇ°
;

253 
p_p‹t_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

254 
p_p‹t_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

255 
p_p‹t_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

256 
p_p‹t_°©s
->
ifInPau£Pkts
 = 
mibCou¡îs
.
InPau£
;

257 
p_p‹t_°©s
->
ifInAlignmítEº‹Pkts
 = 
mibCou¡îs
.
InCrcEº‹
;

259 
p_p‹t_°©s
->
ifInOvîÊowsPkts
 = 
mibCou¡îs
.
InOvîÊow
;

260 
p_p‹t_°©s
->
ifInUndîsizePkts
 = 
mibCou¡îs
.
InUndîÊow
;

262 
p_p‹t_°©s
->
ifInEthî√tO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

263 
p_p‹t_°©s
->
ifOutGoodO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

265 
p_p‹t_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

266 
p_p‹t_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

267 
p_p‹t_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

268 
p_p‹t_°©s
->
ifOutPau£Pkts
 = 
mibCou¡îs
.
OutPau£
;

269 
p_p‹t_°©s
->
ifOutTŸÆCﬁlisi⁄Pkts
 = 
mibCou¡îs
.
OutCﬁlisi⁄
;

270 
p_p‹t_°©s
->
ifOutDñayPkts
 = 
mibCou¡îs
.
OutL©e
;

272 
£nd_r•
:

273 *
pGíÀn
 = (
ﬂm_huawei_p‹t_°©s_t
)+(
ﬂm_huawei_ö°™˚_év_2_0_t
);

275 
	}
}

277 
	$e›l_huawei_gë_•ecül_r•
(
u8_t
* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

279 
iSètus
=0;

280 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

282 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

283 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

284 
p_r•
->
Àaf
 = 0x00a1;

285 
p_r•
->
ödiˇti⁄
 = 0x04;

287 *
pGíÀn
 = (
ﬂm_⁄u_›tics_öfo_t
);

289 
	}
}

291 
	$huawei_ju°_£t_ª•⁄£
(
u8_t
* 
p_ö
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

293 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

294 
u32_t
 
ªt
 = 
NO_ERROR
;

295 
p_ö
 =Ö_in;

297 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

298 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

299 
p_r•
->
Àaf
 = 0x00a4;

302 if(
NO_ERROR
 =
ªt
)

304 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

308 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

311 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

312 
	}
}

315 
	$e›l_huawei_£t_ªq
(
u8_t
* 
p_byã
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

317 
u8_t
 *
p_§c
 = 
p_byã
;

318 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_des
;

319 
u16_t
 
gíÀn
 = 0;

320 
huawei_p‹t_ö°™˚_2_0
.
vÆue
 = 200;

324 i‡((
p_byã
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
)

326 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

329 *
p_byã
)

331 
OAM_BRANCH_INSTANCE_V_2_0
:

333 
	`mem˝y
(&
huawei_p‹t_ö°™˚_2_0
,
p_byã
,(huawei_port_instance_2_0));

334 
p_byã
 +(
ﬂm_ö°™˚_év_2_0
);

335 if((
huawei_p‹t_ö°™˚_2_0
.
vÆue
>
OAM_MAX_INSTANCE_ID
)

336 && (
huawei_p‹t_ö°™˚_2_0
.
vÆue
 != 0xFF))

341 
OAM_BRANCH_EXTENDED_ATTRIB
:

342 
OAM_BRANCH_STANDARD_ATTRIB
:

343 
p_des
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_byã
;

344 
p_des
->
Àaf
)

346 
OAM_HUAWEI_EXT_LEAF_UNI_CLEAR
:

347 
	`e›l_huawei_£t_uni_˛ór
(
p_byã
, 
pRïlyBuf
, &
gíÀn
);

348 
p_byã
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

349 
pRïlyLí
 +
gíÀn
;

350 
pRïlyBuf
 +
gíÀn
;

352 
OAM_HUAWEI_EXT_LEAF_SET_RINGCHECK
:

353 
	`e›l_huawei_£t_rögcheck
(
p_byã
, 
pRïlyBuf
, &
gíÀn
);

354 
p_byã
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

355 
pRïlyLí
 +
gíÀn
;

356 
pRïlyBuf
 +
gíÀn
;

359 
	`huawei_ju°_£t_ª•⁄£
(
p_byã
, 
pRïlyBuf
, &
gíÀn
);

360 
p_byã
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
)+8;

361 
pRïlyLí
 +
gíÀn
;

362 
pRïlyBuf
 +
gíÀn
;

365 
p_byã
 +(
ﬂm_r•_ödiˇti⁄_t
);

369 
OAM_BRANCH_STANDARD_ACTION
:

370 
OAM_BRANCH_EXTENDED_ACTION
:

377 
	}
}

379 
	$e›l_huawei_gë_ªq
(
u8_t
* 
p_byã
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

381 
u8_t
 
size
 = (
ﬂm_v¨übÀ_des¸ùt‹
);

382 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_des
;

384 
huawei_p‹t_ö°™˚_2_0
.
vÆue
 = 200;

385 
u8_t
 *
p_§c
 = 
p_byã
;

386 
u16_t
 
gíÀn
 = 0;

390 i‡((
p_byã
 - 
p_§c
Ë>
OAM_MAXIMUM_PDU_SIZE
)

395 *
p_byã
)

397 
OAM_BRANCH_INSTANCE_V_2_0
:

398 
huawei_p‹t_ö°™˚_2_0
 = *((
ﬂm_huawei_ö°™˚_év_2_0_t
*)
p_byã
);

399 
p_byã
 +(
ﬂm_ö°™˚_év_2_0
);

400 if((
huawei_p‹t_ö°™˚_2_0
.
vÆue
>
OAM_MAX_INSTANCE_ID
)

401 && (
huawei_p‹t_ö°™˚_2_0
.
vÆue
 != 0xFF)

402 && (
huawei_p‹t_ö°™˚_2_0
.
vÆue
 != 0x50)

403 && (
huawei_p‹t_ö°™˚_2_0
.
vÆue
 != 0x51)

409 
OAM_BRANCH_EXTENDED_ATTRIB
:

410 
OAM_BRANCH_STANDARD_ATTRIB
:

411 
p_des
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_byã
;

412 
p_des
->
Àaf
)

414 
OAM_HUAWEI_EXT_LEAF_GET_OPTICS
:

415 
	`e›l_huawei_gë_›tics_r•
(
pRïlyBuf
, &
gíÀn
);

416 
pRïlyLí
 +
gíÀn
;

417 
pRïlyBuf
 +
gíÀn
;

419 
OAM_HUAWEI_EXT_LEAF_GET_ETH_STATS
:

420 
	`e›l_huawei_gë_ëh_°©s_r•
(
pRïlyBuf
, &
gíÀn
);

421 
pRïlyLí
 +
gíÀn
;

422 
pRïlyBuf
 +
gíÀn
;

425 
	`e›l_huawei_gë_•ecül_r•
(
pRïlyBuf
, &
gíÀn
);

426 
pRïlyLí
 +
gíÀn
;

427 
pRïlyBuf
 +
gíÀn
;

430 
p_byã
 +(
ﬂm_r•_ödiˇti⁄_t
);

433 
p_byã
 +
size
;

440 
	}
}

443 
	$e›l_huawei_pdu_¥o˚ss
(

444 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

445 *
pFøme
,

446 
Àngth
,

447 *
pRïlyBuf
,

448 
bufLí
,

449 *
pRïlyLí
)

452 
ªt
 = 
EPON_OAM_ERR_OK
;

453 
u8_t
 *
p_byã
;

454 
huawei_hódî_t
 *
p_huawei_hdr
;

455 
huawei_hódî_t
 *
p_out_huawei_hdr
;

456 *
pRïlyLí
 = 0;

457 if((
Àngth
 < 
HUAWEI_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < HUAWEI_ORGSPEC_HDR_LEN))

460  
EPON_OAM_ERR_PARAM
;

463 
p_byã
 = 
pFøme
;

464 
p_huawei_hdr
 = (
huawei_hódî_t
*)
pFøme
;

465 
p_byã
 +(
huawei_hódî_t
);

467 
p_out_huawei_hdr
 = (
huawei_hódî_t
*)
pRïlyBuf
;

468 
	`mem˝y
(
p_out_huawei_hdr
->
oui
, 
p_huawei_hdr
->oui, 3);

470 *
pRïlyLí
 +(
huawei_hódî_t
);

471 
pRïlyBuf
 +(
huawei_hódî_t
);

473 
p_huawei_hdr
->
ext_code
)

475 
OAM_HUAWEI_EXT_OPCODE_GET_REQUEST
:

476 
p_out_huawei_hdr
->
ext_code
 = 
OAM_HUAWEI_EXT_OPCODE_GET_RESPONSE
;

477 
	`e›l_huawei_gë_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

479 
OAM_H3C_EXT_OPCODE_SET_REQUEST
:

480 
p_out_huawei_hdr
->
ext_code
 = 
OAM_HUAWEI_EXT_OPCODE_SET_RESPONSE
;

481 
	`e›l_huawei_£t_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

487 
	}
}

489 
	$huawei_ﬂm_öô
()

491 
i
, 
ªt
;

492 
oui
[] = 
HUAWEI_OAM_OUI
;

493 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

496 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_huawei_pdu_¥o˚ss
;

497 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

498 
EPON_OAM_CBTYPE_ORGSPEC
,

499 
oui
,

500 (*Ë&
‹gS≥cCb
);

501 if(
EPON_OAM_ERR_OK
 !
ªt
)

503 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

505  
EPON_OAM_ERR_UNKNOWN
;

508  
EPON_OAM_ERR_OK
;

509 
	}
}

512 
	$huawei_p‹t_mode_gë
(
u8_t
 *
p_ö
, u8_t* 
p_out
, 
u16_t
* 
pGíÀn
)

514 
huawei_mode_out_t
 *
p_out_mode
;

515 
u16_t
* 
p‹t
 = 0;

516 
u32_t
 
p‹t_du∂ex
 = 0;

517 
u32_t
 
p‹t_•ìd
 = 0;

519 
p‹t
 = (
u16_t
*)
p_ö
;

520 
p_out_mode
 = (
huawei_mode_out_t
*)
p_out
;

522 ()
	`DRV_GëP‹tDu∂ex
(*
p‹t
+1, &
p‹t_du∂ex
);

523 ()
	`DRV_GëP‹tS≥ed
(*
p‹t
+1, &
p‹t_•ìd
);

525 
p‹t
 = (
u16_t
*)
p_ö
;

526 
p_out_mode
->
Õ‹t
 = *
p‹t
;

528 
p‹t_du∂ex
)

530 
DUPLEX_FULL
:

531 
p_out_mode
->
du∂ex
 = 
OAM_HUAWEI_MODE_FULL
;

533 
DUPLEX_HALF
:

534 
p_out_mode
->
du∂ex
 = 
OAM_HUAWEI_MODE_HALF
;

537 
p_out_mode
->
du∂ex
 = 0XFF;

541 
p‹t_•ìd
)

543 
SPEED_10M
:

544 
p_out_mode
->
•ìd
 = 
OAM_HUAWEI_MODE_10M
;

546 
SPEED_100M
:

547 
p_out_mode
->
•ìd
 = 
OAM_HUAWEI_MODE_100M
;

549 
SPEED_1000M
:

550 
p_out_mode
->
•ìd
 = 
OAM_HUAWEI_MODE_1000M
;

553 
p_out_mode
->
•ìd
 = 0xff;

556 
p_out_mode
->
ª£rved5
 = 1;

557 
p_out_mode
->
ª£rved6
 = 1;

558 
p_out_mode
->
ª£rved7
 = 1;

559 
p_out_mode
->
ª£rved8
 = 1;

560 
p_out_mode
->
ª£rved11
 = 1;

561 
p_out_mode
->
ª£rved13
 = 1;

562 *
pGíÀn
 = (
huawei_mode_out_t
);

563 
	}
}

565 
	$huawei_p‹t_mode_£t
(
u8_t
 *
p_ö
)

567 
huawei_mode_£t_t
* 
p_mode_£t
;

568 
u32_t
 
ªt
 = 
ERROR
;

570 
p_mode_£t
 = (
huawei_mode_£t_t
*)
p_ö
;

572 if(
uni_p‹t_auto_√gŸüti⁄
 & (1<<
p_mode_£t
->
p‹t
))

574  
NO_ERROR
;

576 #i‚de‡
CONFIG_PRODUCT_5500


577 
p_mode_£t
->
du∂ex
)

579 
OAM_HUAWEI_MODE_HALF
:

580 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_mode_£t
->
p‹t
+1, 
DUPLEX_HALF
);

582 
OAM_HUAWEI_MODE_FULL
:

583 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_mode_£t
->
p‹t
+1, 
DUPLEX_FULL
);

589 if(
DRV_OK
 !
ªt
)

591 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

592  
ERROR
;

595 
ªt
 = 
ERROR
;

596 #i‚de‡
CONFIG_PRODUCT_5500


597 
p_mode_£t
->
•ìd
)

599 
OAM_HUAWEI_MODE_10M
:

600 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_mode_£t
->
p‹t
+1, 
SPEED_10M
);

602 
OAM_HUAWEI_MODE_100M
:

603 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_mode_£t
->
p‹t
+1, 
SPEED_100M
);

605 
OAM_HUAWEI_MODE_1000M
:

606 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_mode_£t
->
p‹t
+1, 
SPEED_1000M
);

612 if(
DRV_OK
 !
ªt
)

614 
	`HW_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

615  
ERROR
;

618  
NO_ERROR
;

619 
	}
}

621 
	$e›l_huawei_pdu_¥o˚ss2
(
u8_t
* 
p_byã
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

623 
huawei_hódî2_t
 *
p_hdr
;

624 
ﬂmpdu_hdr_t
 *
p_ﬂm_hdr
;

626 
huawei_hódî2_t
 *
p_huawei_hdr
;

627 
huawei_mode_out_t
 *
p_out_mode
;

629 
u16_t
 
gíÀn
 = 0;

630 
p_hdr
 = (
huawei_hódî2_t
*)
p_byã
;

631 
p_byã
 +(
huawei_hódî2_t
);

633 
p_huawei_hdr
 = (
huawei_hódî2_t
*)
pRïlyBuf
;

634 
	`mem˝y
(
p_huawei_hdr
, 
p_hdr
, (
huawei_hódî2_t
));

636 
p_huawei_hdr
->
ª£ved2
 = 0x01;

637 
pRïlyBuf
 +(
huawei_hódî2_t
);

638 *
pRïlyLí
 +(
huawei_hódî2_t
);

639 
p_huawei_hdr
->
bønch
)

641 
OAM_HUAWEI_PORT_MODE_GET
:

642 
	`huawei_p‹t_mode_gë
(
p_byã
, 
pRïlyBuf
, &
gíÀn
);

643 *
pRïlyLí
 +
gíÀn
;

644 
pRïlyBuf
 +
gíÀn
;

646 
OAM_HUAWEI_PORT_MODE_SET
:

647 
	`huawei_p‹t_mode_£t
(
p_byã
);

653 
	}
}

656 
	$e›l_sh¨e_pdu_¥o˚ss
(

657 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

658 *
pFøme
,

659 
Àngth
,

660 *
pRïlyBuf
,

661 
bufLí
,

662 *
pRïlyLí
)

664 
sh¨e_hódî_t
 *
p_hdr
;

665 
u8_t
* 
p_byã
;

667 if((
Àngth
 < 
SHARE_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < SHARE_ORGSPEC_HDR_LEN))

670  
EPON_OAM_ERR_PARAM
;

673 
p_byã
 = 
pFøme
;

674 
p_hdr
 = (
sh¨e_hódî_t
*)
pFøme
;

676 *
pRïlyLí
 = 0;

677 
p_hdr
->
bønch
)

680 
	`e›l_huawei_pdu_¥o˚ss2
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

683 
	`e›l_yŸc_pdu_¥o˚ss2
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

690 
	}
}

692 
	$huawei_yŸc_ﬂm_öô
()

694 
i
, 
ªt
;

695 
oui
[] = 
SHARE_OAM_OUI
;

696 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

699 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_sh¨e_pdu_¥o˚ss
;

700 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

701 
EPON_OAM_CBTYPE_ORGSPEC
,

702 
oui
,

703 (*Ë&
‹gS≥cCb
);

704 if(
EPON_OAM_ERR_OK
 !
ªt
)

706 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

708  
EPON_OAM_ERR_UNKNOWN
;

711  
EPON_OAM_ERR_OK
;

712 
	}
}

	@src/vendor/raisecom.c

1 
	~<°dio.h
>

2 
	~<°rög.h
>

3 
	~<°dlib.h
>

4 
	~<mÆloc.h
>

5 
	~<sys/ty≥s.h
>

6 
	~<sys/°©.h
>

7 
	~<sys/sockë.h
>

8 
	~<√töë/ö.h
>

9 
	~<√t/if.h
>

12 
	~"ï⁄_ﬂm_c⁄fig.h
"

13 
	~"ï⁄_ﬂm_îr.h
"

14 
	~"ï⁄_ﬂm_db.h
"

15 
	~"ï⁄_ﬂm_dbg.h
"

16 
	~"ï⁄_ﬂm_rx.h
"

18 
	~"˘c_ﬂm.h
"

19 
	~"˘c_ﬂm_v¨.h
"

21 
	~"ﬂm.h
"

22 
	~"h3c.h
"

24 
	~"ùc_˛õ¡.h
"

25 
	~"ﬂm_lw.h
"

26 
	~"øi£com.h
"

29 
	~"lw_drv_pub.h
"

30 
	~"lw_drv_ªq.h
"

31 
	~"sig«l.h
"

32 
	~<löux/fûãr.h
>

33 
	~"mc_c⁄åﬁ.h
"

34 
	~<löux/if_∑ckë.h
>

35 
	~<löux/if_ëhî.h
>

36 
	~<îr‹s.h
>

37 
	~<sys/io˘l.h
>

38 
	~<vos_msq.h
>

39 
	~"vos_time.h
"

40 
	~"lw_c⁄fig.h
"

42 
uöt8
 
	gho°Mac
[
MAC_ADDRESS_LENGTH
] = {0};

44 
	#MAX_FILTER_NUM
 32

	)

47 
u16_t
 
	gg_usOutD©aIdx
;

48 
u8_t
 
	gout_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

51 
u8_t
 
	gøi£com_fúm_vî
[];

55 
	#RC_DBG
(
°rög
Ë{\

	)

57 
¥ötf
 
	g°rög
;\

61 
	#RC_DBG
(
°rög
)

	)

64 
rc_fûãr_a˛_t
 
	gfûãr_a˛_loˇl
[
MAX_FILTER_NUM
] =

66 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

67 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

68 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

69 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

70 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

71 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

72 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

73 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

76 
rc_mac_°©ic_t
* 
	gg°_rc_°©ic_mac
 = 
NULL
;

77 
rc_p‹t_mac_t
 * 
	gg_rc_p‹t_mac
 = 
NULL
;

79 
u8_t
 
	gucFú°DownC⁄fig
 = 0;

81 
	#RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
Ë\

	)

83 
	gp_out
 = &
out_d©a
[1];\

84 
mem£t
(
out_d©a
,0,
OAM_MAXIMUM_PDU_SIZE
);\

85 
øi£com_ﬂm_pdu_hdr
(
p_out
, 
p_øi£com
);\

86 
	gg_usOutD©aIdx
 = (
øi£com_hódî_out_t
)+1;\

87 
	gp_out
 +(
øi£com_hódî_out_t
);\

91 
	$øi£com_ﬂm_pdu_hdr
(
u8_t
 *
±r
, 
øi£com_hdr_t
 *
p_øi£com
)

93 
øi£com_hódî_out_t
 *
p_hdr
;

95 
p_hdr
 = (
øi£com_hódî_out_t
*)
±r
;

96 
	`vosMemCpy
(
p_hdr
->
de°
, 
p_øi£com
->
§c
, 6);

97 
	`vosMemCpy
(
p_hdr
->
§c
, 
ho°Mac
, 6);

98 
p_hdr
->
ty≥
 = 0xfefe;

99 
	}
}

101 
rc_p‹t_°©ic_mac_dñ
(
rc_mac_böd_t
 *
p_mac
);

104 
	$øi£com_gë_devi˚_öfom©i⁄
(
u8_t
 *
p_ö
)

106 
u8_t
 *
p_out
;

107 
øi£com_out_t
 *
p_øi£_out
;

108 
rc_devi˚_t
 *
p_devi˚_öfo
;

109 
øi£com_hdr_t
 *
p_øi£com
;

110 *
pRóÀa£
 = 
NULL
;

112 
u8_t
 
tmp_hw¨evî
[8] = {0};

117 
u8_t
 
ãmp_buf
[] =

121 
u8_t
 
ucHomíame
[32] = {0};

123 
u8_t
 
ãmp_buf2
[] ={0x45,0x30,0x67,0x50,0xA0,0x08,0x03,0x1B,

128 
u8_t
 
ãmp_buf3
[6] = {0x01,0x00,0x00,0x00,0x00,0x00,};

129 
u8_t
 
∂©f‹m_vîsi⁄
[] = {0x52,0x4F,0x41,0x50,0x20,0x56,

132 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

133 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

135 ()
	`ﬂm_gë_ho°«me
(
ucHomíame
,31);

137 if(
	`GëH¨dVîsi⁄
(
tmp_hw¨evî
, (tmp_hwarever)) != 0)

139 
	`¥ötf
("Get hard versionÉrror in oam!\n");

142 
tmp_hw¨evî
[0] = 's';

144 
pRóÀa£
 = 
	`°rchr
(
CONFIG_RELEASE_VER
, 'V');

145 if(
NULL
 =
pRóÀa£
)

147 
pRóÀa£
 = 
CONFIG_RELEASE_VER
;

149 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

151 
p_øi£_out
->
p_code
 = 0x00000110;

152 
p_øi£_out
->
ª£rved1
 = 0x20582314;

153 
p_øi£_out
->
ª£rved2
 = 0x00fc0100;

154 
p_øi£_out
->
ª£rved3
 = 0x00002000;

155 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

156 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

157 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

158 
g_usOutD©aIdx
 +(
øi£com_out_t
);

159 
p_out
 +(
øi£com_out_t
);

160 
p_devi˚_öfo
 = (
rc_devi˚_t
*)
p_out
;

162 
	`mem˝y
(
p_devi˚_öfo
->
ª£rved
, 
ãmp_buf
, (temp_buf));

164 
	`mem˝y
(
p_devi˚_öfo
->
⁄u_mac
, 
ho°Mac
, 6);

166 
	`mem˝y
(
p_devi˚_öfo
->
hw_vîsi⁄
, 
tmp_hw¨evî
, 8);

169 
	`mem˝y
(
p_devi˚_öfo
->
sw_vîsi⁄
, 
pRóÀa£
, 16);

171 
	`mem˝y
(
p_devi˚_öfo
->
fw_vîsi⁄
, 
øi£com_fúm_vî
, 16);

173 
	`mem˝y
(
p_devi˚_öfo
->
ho°«me
, 
ucHomíame
, (ucHomename));

175 
	`mem˝y
(
p_devi˚_öfo
->
ª£rved2
, 
ãmp_buf2
, (temp_buf2));

177 
p_devi˚_öfo
->
Êash_size
 = 0x00800000;

178 
p_devi˚_öfo
->
sdøm
 = 0x01c5f000;

180 
	`mem˝y
(
p_devi˚_öfo
->
ª£rved3
, 
ãmp_buf3
, (temp_buf3));

182 
p_devi˚_öfo
->
swôch_modﬁe
 = 0x2088;

184 
	`mem˝y
(
p_devi˚_öfo
->
pf_vîsi⁄
, 
∂©f‹m_vîsi⁄
, (platform_version));

185 
g_usOutD©aIdx
 +(
rc_devi˚_t
);

186 
	}
}

188 
	$fûãr_a˛_add_loˇl
(
u8_t
 
a˛Ty≥
,u8_à
ucRuÀID
, u8_t* 
ucVÆue
)

190 
ii
;

191 if(
NULL
 =
ucVÆue
)

193  
ERROR
;

195 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

197 if(
INVALID_8
 =
fûãr_a˛_loˇl
[
ii
].
ty≥
)

199 
fûãr_a˛_loˇl
[
ii
].
a˛ruÀID
 = 
ucRuÀID
;

200 
fûãr_a˛_loˇl
[
ii
].
ty≥
 = 
a˛Ty≥
;

201 
	`mem˝y
(
fûãr_a˛_loˇl
[
ii
].
vÆue
, 
ucVÆue
, 6);

205 if(
MAX_FILTER_NUM
 =
ii
)

207 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

208  
ERROR
;

210  
NO_ERROR
;

211 
	}
}

213 
	$fûãr_a˛_dñ_loˇl
(
u8_t
 
a˛Ty≥
, u8_t* 
ucVÆue
)

215 
ii
;

216 
ªt
 = 
NO_ERROR
;

218 if(
NULL
 =
ucVÆue
)

220  
ERROR
;

222 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

224 if(
a˛Ty≥
 =
fûãr_a˛_loˇl
[
ii
].
ty≥
)

226 if(!
	`memcmp
(
fûãr_a˛_loˇl
[
ii
].
vÆue
, 
ucVÆue
, 6))

228 
	`RC_DBG
(("DñëêruÀ index %d\n", 
fûãr_a˛_loˇl
[
ii
].
a˛ruÀID
));

229 
ªt
 = 
	`Io˘l_SëUni⁄Uöt32
(
DRV_CMD_ACL_DELETE_BY_ID
, 
fûãr_a˛_loˇl
[
ii
].
a˛ruÀID
);

230 if(
ªt
 !
DRV_OK
)

232 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

233  
ERROR
;

235 
fûãr_a˛_loˇl
[
ii
].
ty≥
 = 
INVALID_8
;

236 
	`mem£t
(
fûãr_a˛_loˇl
[
ii
].
vÆue
, 0, 6);

241  
NO_ERROR
;

242 
	}
}

244 
	$øi£com_gë_ho°«me
(
u8_t
 *
p_ö
)

246 
øi£com_hdr_t
 *
p_øi£com
;

247 
u8_t
 *
p_out
;

248 
øi£com_out_t
 *
p_øi£_out
;

249 
u8_t
 
ho°«me
[32] = {"EPN104N"};

251 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

252 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

255 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

258 
p_øi£_out
->
p_code
 = 0x00010014 + 
	`°æí
(
ho°«me
);

261 
p_øi£_out
->
ª£rved1
 = 0x00002314;

263 
p_øi£_out
->
ª£rved2
 = 0x000000e0+(
	`°æí
(
ho°«me
)<<16);

264 
p_øi£_out
->
ª£rved3
 = 0x00002000;

265 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

266 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

267 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

268 
g_usOutD©aIdx
 +(
øi£com_out_t
);

269 
p_out
 +(
øi£com_out_t
);

272 
	`mem˝y
(
p_out
, 
ho°«me
, (hostname));

273 
g_usOutD©aIdx
 +(
ho°«me
);

274 
	}
}

276 
	$gë_u±ime
(
u32_t
 *
u±ime
)

278 
FILE
 *
Â
;

279 
vÆ
[64];

280 
u32_t
 
ãmp_time
;

282 
Â
 = 
	`f›í
("/proc/uptime", "r");

283 i‡(
Â
 =
NULL
){

284  
GET_UPTIME_ERROR
;

286 
	`fgës
(
vÆ
, (vÆ), 
Â
);

287 
	`f˛o£
(
Â
);

288 
ãmp_time
 = 
	`°πoul
(
vÆ
, 
NULL
, 0);

289 *
u±ime
 = 
ãmp_time
;

290  
GET_UPTIME_SUCCESS
;

291 
	}
}

294 
	$øi£com_gë_u±ime
(
u8_t
 *
p_ö
)

296 
øi£com_hdr_t
 *
p_øi£com
;

297 
u8_t
 *
p_out
;

298 
øi£com_out_t
 *
p_øi£_out
;

299 
u32_t
 
uU±ime
;

301 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

302 
	`gë_u±ime
(&
uU±ime
);

304 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

305 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

307 
p_øi£_out
->
p_code
 = 0x00010018;

309 
p_øi£_out
->
ª£rved1
 = 0x00002314;

310 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

311 
p_øi£_out
->
ª£rved3
 = 0x00002000;

312 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

313 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

314 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

315 
g_usOutD©aIdx
 +(
øi£com_out_t
);

316 
p_out
 +(
øi£com_out_t
);

319 
	`mem˝y
(
p_out
, &
uU±ime
, 4);

320 
g_usOutD©aIdx
 += 4;

321 
	}
}

324 
	$øi£com_gë_ívú⁄mít_∑π1
(
u8_t
 *
p_ö
)

326 
øi£com_hdr_t
 *
p_øi£com
;

327 
u8_t
 *
p_out
;

328 
øi£com_out_t
 *
p_øi£_out
;

329 
u8_t
 
d©a_fõld
;

330 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

331 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

333 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

335 
p_øi£_out
->
p_code
 = 0x00010018;

337 
p_øi£_out
->
ª£rved1
 = 0x00002314;

338 
p_øi£_out
->
ª£rved2
 = 0x000300e0;

339 
p_øi£_out
->
ª£rved3
 = 0x00002000;

340 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

341 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

342 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

343 
g_usOutD©aIdx
 +(
øi£com_out_t
);

344 
p_out
 +(
øi£com_out_t
);

347 
d©a_fõld
 = 0x27;

348 
	`mem˝y
(
p_out
, &
d©a_fõld
, 1);

349 
g_usOutD©aIdx
 += 1;

350 
	}
}

352 
	$øi£com_gë_ívú⁄mít_∑π2
(
u8_t
 *
p_ö
)

354 
øi£com_hdr_t
 *
p_øi£com
;

355 
u8_t
 *
p_out
;

356 
øi£com_out_t
 *
p_øi£_out
;

357 
u8_t
 
d©a_fõld
[] =

359 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

360 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

362 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

364 
p_øi£_out
->
p_code
 = 0x00010018;

366 
p_øi£_out
->
ª£rved1
 = 0x00002314;

367 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

368 
p_øi£_out
->
ª£rved3
 = 0x00002000;

369 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

370 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

371 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

372 
g_usOutD©aIdx
 +(
øi£com_out_t
);

373 
p_out
 +(
øi£com_out_t
);

376 
	`mem˝y
(
p_out
, 
d©a_fõld
, (data_field));

377 
g_usOutD©aIdx
 +(
d©a_fõld
);

378 
	}
}

381 
	$øi£com_gë_u∂ök_Êow_c⁄åﬁ
(
u8_t
* 
p_ö
)

383 
øi£com_hdr_t
 *
p_øi£com
;

384 
u8_t
 *
p_out
;

385 
øi£com_out_t
 *
p_øi£_out
;

386 
u32_t
 *
p_Êow_í
;

387 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

388 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

390 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

392 
p_øi£_out
->
p_code
 = 0x00000018;

393 
p_øi£_out
->
ª£rved1
 = 0x20482314;

394 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

395 
p_øi£_out
->
ª£rved3
 = 0x00002000;

396 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

397 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

398 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

399 
g_usOutD©aIdx
 +(
øi£com_out_t
);

400 
p_out
 +(
øi£com_out_t
);

402 
p_Êow_í
 = (
u32_t
*)
p_out
;

403 *
p_Êow_í
 = 
RAISECOM_DISABLE
;

404 
g_usOutD©aIdx
 +(
u32_t
);

405 
	}
}

407 
	$øi£com_gë_u∂ök_øã_limô
(
u8_t
* 
p_ö
)

409 
øi£com_hdr_t
 *
p_øi£com
;

410 
u8_t
 *
p_out
;

411 
øi£com_out_t
 *
p_øi£_out
;

412 
u32_t
 *
p_øã_limô
;

413 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

414 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

416 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

418 
p_øi£_out
->
p_code
 = 0x00000018;

419 
p_øi£_out
->
ª£rved1
 = 0x20482314;

420 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

421 
p_øi£_out
->
ª£rved3
 = 0x00002000;

422 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

423 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

424 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

425 
g_usOutD©aIdx
 +(
øi£com_out_t
);

426 
p_out
 +(
øi£com_out_t
);

428 
p_øã_limô
 = (
u32_t
*)
p_out
;

429 *
p_øã_limô
 = 100000;

430 
g_usOutD©aIdx
 +(
u32_t
);

431 
	}
}

433 
	$øi£com_gë_u∂ök_sh≠pög_limô
(
u8_t
* 
p_ö
)

435 
øi£com_hdr_t
 *
p_øi£com
;

436 
u8_t
 *
p_out
;

437 
øi£com_out_t
 *
p_øi£_out
;

438 
u32_t
 *
p_øã_limô
;

439 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

440 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

442 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

444 
p_øi£_out
->
p_code
 = 0x00000018;

445 
p_øi£_out
->
ª£rved1
 = 0x20482314;

446 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

447 
p_øi£_out
->
ª£rved3
 = 0x00002000;

448 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

449 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

450 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

451 
g_usOutD©aIdx
 +(
øi£com_out_t
);

452 
p_out
 +(
øi£com_out_t
);

454 
p_øã_limô
 = (
u32_t
*)
p_out
;

455 *
p_øã_limô
 = 100000;

456 
g_usOutD©aIdx
 +(
u32_t
);

457 
	}
}

459 
	$øi£com_gë_ru¬ög_c⁄fig_1
(
u8_t
 *
p_ö
)

461 
øi£com_hdr_t
 *
p_øi£com
;

462 
u8_t
 *
p_out
;

463 
øi£com_out_t
 *
p_øi£_out
;

464 
u32_t
 *
p_vÆue
;

465 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

466 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

468 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

470 
p_øi£_out
->
p_code
 = 0x00000018;

471 
p_øi£_out
->
ª£rved1
 = 0x20582314;

472 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

473 
p_øi£_out
->
ª£rved3
 = 0x00002000;

474 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

475 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

476 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

477 
g_usOutD©aIdx
 +(
øi£com_out_t
);

478 
p_out
 +(
øi£com_out_t
);

483 
	}
}

485 
	$øi£com_gë_ru¬ög_c⁄fig_2
(
u8_t
* 
p_ö
)

487 
øi£com_hdr_t
 *
p_øi£com
;

488 
u8_t
 *
p_out
;

489 
øi£com_out_t
 *
p_øi£_out
;

490 
u8_t
 
a_vÆue
[] = {0x01,0x00,0x00,0x00,0x00,0x01,0x05};

491 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

492 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

494 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

496 
p_øi£_out
->
p_code
 = 0x0000004c;

497 
p_øi£_out
->
ª£rved1
 = 0x20582314;

498 
p_øi£_out
->
ª£rved2
 = 0x003800e0;

499 
p_øi£_out
->
ª£rved3
 = 0x00002000;

500 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

501 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

502 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

503 
g_usOutD©aIdx
 +(
øi£com_out_t
);

504 
p_out
 +(
øi£com_out_t
);

509 
	`mem˝y
(
p_out
, 
a_vÆue
, (p_out));

510 
g_usOutD©aIdx
 +((
p_out
));

511 
	}
}

513 
	$øi£com_gë_ru¬ög_c⁄fig_3
(
u8_t
* 
p_ö
)

515 
øi£com_hdr_t
 *
p_øi£com
;

516 
u8_t
 *
p_out
;

517 
øi£com_out_t
 *
p_øi£_out
;

518 
u8_t
 
íabÀ
 = 0;

519 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

520 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

523 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

525 
p_øi£_out
->
p_code
 = 0x00000018;

526 
p_øi£_out
->
ª£rved1
 = 0x20582314;

527 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

528 
p_øi£_out
->
ª£rved3
 = 0x00002000;

529 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

530 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

531 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

532 
g_usOutD©aIdx
 +(
øi£com_out_t
);

533 
p_out
 +(
øi£com_out_t
);

539 *
p_out
 = 
íabÀ
;

541 
g_usOutD©aIdx
 +(
u8_t
);

542 
	}
}

544 
	$øi£com_gë_ru¬ög_c⁄fig_4
(
u8_t
* 
p_ö
)

546 
øi£com_hdr_t
 *
p_øi£com
;

547 
u8_t
 *
p_out
;

548 
øi£com_out_t
 *
p_øi£_out
;

549 
u8_t
 
a_vÆue
[] = {0xc0, 0xa8, 0x01, 0xfe, 0xff,0xff,0xff,0x00};

550 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

551 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

553 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

555 
p_øi£_out
->
p_code
 = 0x00000018;

556 
p_øi£_out
->
ª£rved1
 = 0x20582314;

557 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

558 
p_øi£_out
->
ª£rved3
 = 0x00002000;

559 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

560 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

561 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

562 
g_usOutD©aIdx
 +(
øi£com_out_t
);

563 
p_out
 +(
øi£com_out_t
);

568 
	`mem˝y
(
p_out
, 
a_vÆue
, (p_out));

569 
g_usOutD©aIdx
 +((
p_out
));

570 
	}
}

572 
	$øi£com_gë_ru¬ög_c⁄fig_5
(
u8_t
 *
p_ö
)

574 
øi£com_hdr_t
 *
p_øi£com
;

575 
u8_t
 *
p_out
;

576 
øi£com_out_t
 *
p_øi£_out
;

578 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

579 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

581 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

583 
p_øi£_out
->
p_code
 = 0x00000018;

584 
p_øi£_out
->
ª£rved1
 = 0x20582314;

585 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

586 
p_øi£_out
->
ª£rved3
 = 0x00002000;

587 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

588 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

589 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

590 
g_usOutD©aIdx
 +(
øi£com_out_t
);

591 
p_out
 +(
øi£com_out_t
);

592 
	}
}

593 
	$øi£com_gë_ru¬ög_c⁄fig_6
(
u8_t
 *
p_ö
)

595 
øi£com_hdr_t
 *
p_øi£com
;

596 
u8_t
 *
p_out
;

597 
øi£com_out_t
 *
p_øi£_out
;

598 
u8_t
 
a_vÆue
[] = {0x00, 0x5d, 0x2b, 0xa0};

599 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

600 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

602 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

604 
p_øi£_out
->
p_code
 = 0x00000018;

605 
p_øi£_out
->
ª£rved1
 = 0x20582314;

606 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

607 
p_øi£_out
->
ª£rved3
 = 0x00002000;

608 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

609 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

610 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

611 
g_usOutD©aIdx
 +(
øi£com_out_t
);

612 
p_out
 +(
øi£com_out_t
);

617 
	`mem˝y
(
p_out
, 
a_vÆue
, (p_out));

618 
g_usOutD©aIdx
 +((
p_out
));

619 
	}
}

621 
	$øi£com_gë_ru¬ög_c⁄fig_7
(
u8_t
 *
p_ö
)

623 
øi£com_hdr_t
 *
p_øi£com
;

624 
u8_t
 *
p_out
;

625 
øi£com_out_t
 *
p_øi£_out
;

626 
u8_t
 
a_vÆue
[] = {0x00, 0x5d, 0x2b, 0xa0};

627 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

628 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

630 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

632 
p_øi£_out
->
p_code
 = 0x00000018;

633 
p_øi£_out
->
ª£rved1
 = 0x20582314;

634 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

635 
p_øi£_out
->
ª£rved3
 = 0x00002000;

636 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

637 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

638 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

639 
g_usOutD©aIdx
 +(
øi£com_out_t
);

640 
p_out
 +(
øi£com_out_t
);

645 
	`mem˝y
(
p_out
, 
a_vÆue
, (p_out));

646 
g_usOutD©aIdx
 +((
p_out
));

647 
	}
}

649 
	$øi£com_gë_ru¬ög_c⁄fig_8
(
u8_t
* 
p_ö
)

651 
øi£com_hdr_t
 *
p_øi£com
;

652 
u8_t
 *
p_out
;

653 
øi£com_out_t
 *
p_øi£_out
;

654 
u8_t
 
a_vÆue
[] = {0x02};

655 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

656 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

658 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

660 
p_øi£_out
->
p_code
 = 0x00000018;

661 
p_øi£_out
->
ª£rved1
 = 0x20582314;

662 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

663 
p_øi£_out
->
ª£rved3
 = 0x00002000;

664 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

665 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

666 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

667 
g_usOutD©aIdx
 +(
øi£com_out_t
);

668 
p_out
 +(
øi£com_out_t
);

673 
	`mem˝y
(
p_out
, 
a_vÆue
, (p_out));

674 
g_usOutD©aIdx
 +((
p_out
));

675 
	}
}

679 
	$øi£com_gë_ªque°
(
u8_t
 *
p_ö
)

681 
rc_mng_ù_t
 *
p_ù
;

682 
øi£com_hdr_t
 *
p_øi£com
;

683 
u8_t
 *
p_out
;

684 
øi£com_out_t
 *
p_øi£_out
;

686 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

688 
p_øi£com
->
Àaf
)

690 
RAISECOM_LEAF_GET_DEVICE_INFO
:

691 
	`øi£com_gë_devi˚_öfom©i⁄
(
p_ö
);

693 
RAISECOM_LEAF_GET_HOSTNAME
:

695 
	`øi£com_gë_ho°«me
(
p_ö
);

697 
RAISECOM_LEAF_GET_UPTIME
:

698 
	`øi£com_gë_u±ime
(
p_ö
);

700 
RAISECOM_LEAF_GET_CURRENT
:

702 
	`øi£com_gë_ívú⁄mít_∑π1
(
p_ö
);

704 
RAISECOM_LEAF_GET_TEMPARATURE
:

706 
	`øi£com_gë_ívú⁄mít_∑π2
(
p_ö
);

708 
RAISECOM_LEAF_FLOW_CONTROL_UPLINK
:

710 
	`øi£com_gë_u∂ök_Êow_c⁄åﬁ
(
p_ö
);

712 
RAISECOM_LEAF_RATE_LIMIT_UPLINK
:

714 
	`øi£com_gë_u∂ök_øã_limô
(
p_ö
);

716 
RAISECOM_LEAF_GET_SHAPPING
:

718 
	`øi£com_gë_u∂ök_sh≠pög_limô
(
p_ö
);

721 
	`øi£com_gë_ru¬ög_c⁄fig_5
(
p_ö
);

725 
	`øi£com_gë_ru¬ög_c⁄fig_8
(
p_ö
);

730 
	}
}

732 
	$rc_gë_uni_°©i°ic
(
u8_t
* 
p_ö
)

734 
øi£com_hdr_t
 *
p_øi£com
;

735 
u8_t
 *
p_out
;

736 
øi£com_out_t
 *
p_øi£_out
;

737 
rc_uni_°©i°ic_t
* 
p_p‹t_°©
;

738 
u32_t
 *
p‹t
 ;

739 
u16_t
 
ii
;

740 
u32_t
 
ªt
;

741 
UNI_COUNTER_S
 
mibCou¡îs
;

743 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

744 
p_ö
 +(
øi£com_hdr_t
);

745 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

748 
p‹t
 = (
u32_t
*)(
p_ö
 + 2);

750 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

751 
p_øi£_out
->
p_code
 = 0x0001012c;

753 
p_øi£_out
->
ª£rved1
 = 0x00002314;

754 
p_øi£_out
->
ª£rved2
 = 0x011800e0;

755 
p_øi£_out
->
ª£rved3
 = 0x00002000;

756 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

757 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

758 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

759 
g_usOutD©aIdx
 +(
øi£com_out_t
);

760 
p_out
 +(
øi£com_out_t
);

761 
p_p‹t_°©
 = (
rc_uni_°©i°ic_t
*)
p_out
;

762 
p_p‹t_°©
->
ª£rved
 = 0x0100;

763 
p_p‹t_°©
->
p‹t
 = *port;

764 
p_p‹t_°©
->
ª£rved3
 = 0x381b;

766 
ii
=0; ii<0x1b; ii++)

768 
p_p‹t_°©
->
ª£rved4
[
ii
] = ii+1;

771 
	`mem£t
(
p_p‹t_°©
->
⁄es
, 1, 27);

774 if((*
p‹t
 > 4) || (0 == *port))

776 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

777 
£nd_r•
;

780 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(*
p‹t
, &
mibCou¡îs
);

781 if(
ªt
 !
NO_ERROR
)

783 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

784 
£nd_r•
;

787 
p_p‹t_°©
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

788 
p_p‹t_°©
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

789 
p_p‹t_°©
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

790 
p_p‹t_°©
->
ifInPau£Pkts
 = 
mibCou¡îs
.
InPau£
;

791 
p_p‹t_°©
->
ifInGoodO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

792 
p_p‹t_°©
->
ifInBadO˘ës
 = 
mibCou¡îs
.
ulRevBadO˘ës
;

793 
p_p‹t_°©
->
ifInUndîsizePkts
 = 
mibCou¡îs
.
InUndîÊow
;

795 
p_p‹t_°©
->
ifInFøgmítsPkts
 = 0;

796 
p_p‹t_°©
->
ifInOvîsizePkts
 = 
mibCou¡îs
.
InOvîÊow
;

797 
p_p‹t_°©
->
ifInJabbîsPkts
 = 0;

798 
p_p‹t_°©
->
ifInFCSEº‹s
 = 
mibCou¡îs
.
InCrcEº‹
;

801 
p_p‹t_°©
->
ifIn_64_O˘ës
 = 0;

802 
p_p‹t_°©
->
ifIn_65_127_O˘ës
 = 0;

803 
p_p‹t_°©
->
ifIn_128_255_O˘ës
 = 0;

804 
p_p‹t_°©
->
ifIn_256_511_O˘ës
 = 0;

805 
p_p‹t_°©
->
ifIn_512_1023_O˘ës
 = 0;

806 
p_p‹t_°©
->
ifIn_1024_1518_O˘ës
 = 0;

808 
p_p‹t_°©
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

809 
p_p‹t_°©
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

810 
p_p‹t_°©
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

811 
p_p‹t_°©
->
ifOutPau£Pkts
 = 
mibCou¡îs
.
OutPau£
;

812 
p_p‹t_°©
->
ifOutGoodO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

814 
p_p‹t_°©
->
ifInEº‹Pkts
 = 0;

815 
p_p‹t_°©
->
ifInDisˇrdPkts
 = 0;

816 
p_p‹t_°©
->
ifInUnkownPrŸos
 = 0;

817 
p_p‹t_°©
->
ifOutEº‹Pkts
 = 0;

818 
p_p‹t_°©
->
ifOutDisˇrdPkts
 = 0;

820 
£nd_r•
:

821 
g_usOutD©aIdx
 +(
rc_uni_°©i°ic_t
);

822 
	}
}

828 
	$øi£com_£t_mng_ù
(
u8_t
 *
p_ö
)

830 
rc_mng_ù_t
 *
p_ù
;

831 
øi£com_hdr_t
 *
p_øi£com
;

832 
u8_t
 *
p_out
;

833 
øi£com_out_t
 *
p_øi£_out
;

834 
rc_mng_ù_t
 
mng_ù_s
;

835 
u8_t
 
cmp_zîo
[4] = {0};

836 
u8_t
 
öôed_Êag
 = 0;

839 if(!
öôed_Êag
)

841 
	`mem£t
(&
mng_ù_s
, 0, (
rc_mng_ù_t
));

842 
öôed_Êag
 = 1;

844 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

846 
p_øi£com
->
Àaf
)

848 
RAISECOM_LEAF_GET_STATISTICS
:

849 
	`rc_gë_uni_°©i°ic
(
p_ö
);

854 
p_ö
 +(
øi£com_hdr_t
);

855 
p_ù
 = (
rc_mng_ù_t
*)
p_ö
;

856 
p_ù
->
bønch
)

859 if(1 =
p_ù
->
Àaf
)

861 
	`mem˝y
(&(
mng_ù_s
.
ùaddr
), &(
p_ù
->ipaddr), 4);

863 if(2 =
p_ù
->
Àaf
)

865 
	`mem˝y
(&(
mng_ù_s
.
mask
), &(
p_ù
->mask), 4);

867 if(6 =
p_ù
->
Àaf
)

869 
	`mem˝y
(&(
mng_ù_s
.
mask
), &(
p_ù
->mask), 4);

870 
	`mem˝y
(&(
mng_ù_s
.
g©eway
), &(
p_ù
->gateway), 4);

871 if(0 !
	`memcmp
(
cmp_zîo
, &
mng_ù_s
.
ùaddr
, 4))

873 
	`e›l_ù_¥o˚ssög
(
mng_ù_s
.
ùaddr
, mng_ù_s.
mask
, mng_ù_s.
g©eway
);

878 
	`e›l_h3c_£t_deÁu…_ù
(
p_ö
);

879 
	`e›l_mgmtvœn_¥o˚ssög
(1);

881 
	`mem£t
(&
mng_ù_s
, 0, (
rc_mng_ù_t
));

888 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

891 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

893 
p_øi£_out
->
p_code
 = 0x00000014;

894 
p_øi£_out
->
ª£rved1
 = 0x20582314;

895 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

896 
p_øi£_out
->
ª£rved3
 = 0x00002000;

897 
p_øi£_out
->
Àaf
 = 0x000073e9;

898 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

899 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

900 
g_usOutD©aIdx
 +(
øi£com_out_t
);

901 
p_out
 +(
øi£com_out_t
);

903 
	}
}

905 
	$rc_£t_lookback
(
u8_t
* 
p_ö
)

907 
u8_t
 *
p_out
;

908 
øi£com_out_t
 *
p_øi£_out
;

909 
øi£com_hdr_t
 *
p_øi£com
;

910 
rc_lookback_t
 *
p_lookback
;

912 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

913 
p_ö
 +(
øi£com_hdr_t
);

914 
p_lookback
 = (
rc_lookback_t
*)
p_ö
;

916 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

917 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

919 
p_øi£_out
->
p_code
 = 0x00000014;

920 
p_øi£_out
->
ª£rved1
 = 0x20482314;

921 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

922 
p_øi£_out
->
ª£rved3
 = 0x00002000;

923 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

924 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

925 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

926 
g_usOutD©aIdx
 +(
øi£com_out_t
);

927 
	}
}

933 
	$øi£com_gë_mng_ù_°ï2
(
u8_t
 *
p_ö
)

936 
u8_t
 *
p_out
;

937 
øi£com_out_t
 *
p_øi£_out
;

938 
sys_√tw‹k_t
 
öfo
;

939 
øi£com_hdr_t
 *
p_øi£com
;

941 
rc_mng_ù_out_t
 *
p_out_mng_ù
;

944 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

946 
p_øi£com
->
Àaf
)

948 
RAISECOM_LEAF_SET_LOOKBACK
:

950 
	`rc_£t_lookback
(
p_ö
);

954 
	`øi£com_gë_ru¬ög_c⁄fig_2
(
p_ö
);

963 
p_ö
 +(
øi£com_hdr_t
);

964 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

965 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

967 
p_øi£_out
->
p_code
 = 0x0000004c;

968 
p_øi£_out
->
ª£rved1
 = 0x00002314;

969 
p_øi£_out
->
ª£rved2
 = 0x003800e0;

970 
p_øi£_out
->
ª£rved3
 = 0x00002000;

971 
p_øi£_out
->
Àaf
 = 0x000073e9;

972 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

973 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

974 
g_usOutD©aIdx
 +(
øi£com_out_t
);

975 
p_out
 +(
øi£com_out_t
);

976 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

977 
p_out_mng_ù
 = (
rc_mng_ù_out_t
*)
p_out
;

979 
p_out_mng_ù
->
ª£rved
 = 0x01000000;

980 
p_out_mng_ù
->
ª£rved2
 = 0x00010600;

981 
p_out_mng_ù
->
ùaddr
 = 
öfo
.
√tif
.
ù
;

982 
p_out_mng_ù
->
mask

öfo
.
√tif
.
sub√t
;

983 
p_out_mng_ù
->
g©eway

öfo
.
√tif
.gateway;

984 
p_out_mng_ù
->
vœn

öfo
.
m_vœn
;

985 
p_out_mng_ù
->
ª£rved3
= 0x00000001;

989 
g_usOutD©aIdx
 +(
rc_mng_ù_out_t
);

991 
g_usOutD©aIdx
 += 30;

993 
	}
}

996 
	$rc_£t_p‹t_•du∂ex
(
u8_t
 
Õ‹t
, u8_à
mode
)

998 
ªt
 = 
NO_ERROR
;

999 
mode
)

1001 
RC_PORT_AUTO
:

1002 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_AUTO
);

1003 if(
ªt
 !
NO_ERROR
)

1005  
ªt
;

1007 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_AUTO
);

1008 if(
ªt
 !
NO_ERROR
)

1010  
ªt
;

1013 
RC_PORT_10HALF
:

1015 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_10M
);

1016 if(
ªt
 !
NO_ERROR
)

1018  
ªt
;

1020 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_HALF
);

1021 if(
ªt
 !
NO_ERROR
)

1023  
ªt
;

1027 
RC_PORT_10FULL
:

1029 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_10M
);

1030 if(
ªt
 !
NO_ERROR
)

1032  
ªt
;

1034 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_FULL
);

1035 if(
ªt
 !
NO_ERROR
)

1037  
ªt
;

1040 
RC_PORT_100HALF
:

1042 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_100M
);

1043 if(
ªt
 !
NO_ERROR
)

1045  
ªt
;

1047 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_HALF
);

1048 if(
ªt
 !
NO_ERROR
)

1050  
ªt
;

1053 
RC_PORT_100FULL
:

1055 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_100M
);

1056 if(
ªt
 !
NO_ERROR
)

1058  
ªt
;

1060 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_FULL
);

1061 if(
ªt
 !
NO_ERROR
)

1063  
ªt
;

1066 
RC_PORT_1000HALF
:

1068 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_1000M
);

1069 if(
ªt
 !
NO_ERROR
)

1071  
ªt
;

1073 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_HALF
);

1074 if(
ªt
 !
NO_ERROR
)

1076  
ªt
;

1079 
RC_PORT_1000FULL
:

1080 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
Õ‹t
, 
SPEED_1000M
);

1081 if(
ªt
 !
NO_ERROR
)

1083  
ªt
;

1085 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
Õ‹t
, 
DUPLEX_FULL
);

1086 if(
ªt
 !
NO_ERROR
)

1088  
ªt
;

1093  
ERROR
;

1095 if(
RC_PORT_AUTO
 =
mode
)

1097 
m_abAutoNegE«bÀ
[
Õ‹t
] = 1;

1101 
m_abAutoNegE«bÀ
[
Õ‹t
] = 0;

1104  
NO_ERROR
;

1105 
	}
}

1107 
	$øi£com_£t_p‹t_mode
(
u8_t
 *
p_ö
)

1109 
u8_t
 *
p_out
;

1110 
øi£com_out_t
 *
p_øi£_out
;

1111 
øi£com_hdr_t
 *
p_øi£com
;

1112 
rc_p‹t_•ìd_du∂ex_t
 *
p_p‹t_mode
;

1113 
ªt
 = 
NO_ERROR
;

1115 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1116 
p_ö
 +(
øi£com_hdr_t
);

1118 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1121 
p_p‹t_mode
 = (
rc_p‹t_•ìd_du∂ex_t
*)
p_ö
;

1122 
p_p‹t_mode
->
mode
)

1124 
RC_PORT_10HALF
:

1126 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_10M
);

1127 if(
ªt
 !
NO_ERROR
)

1129 
£nd_r•
;

1131 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_HALF
);

1132 if(
ªt
 !
NO_ERROR
)

1134 
£nd_r•
;

1138 
RC_PORT_10FULL
:

1140 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_10M
);

1141 if(
ªt
 !
NO_ERROR
)

1143 
£nd_r•
;

1145 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_FULL
);

1146 if(
ªt
 !
NO_ERROR
)

1148 
£nd_r•
;

1151 
RC_PORT_100HALF
:

1153 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_100M
);

1154 if(
ªt
 !
NO_ERROR
)

1156 
£nd_r•
;

1158 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_HALF
);

1159 if(
ªt
 !
NO_ERROR
)

1161 
£nd_r•
;

1164 
RC_PORT_100FULL
:

1166 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_100M
);

1167 if(
ªt
 !
NO_ERROR
)

1169 
£nd_r•
;

1171 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_FULL
);

1172 if(
ªt
 !
NO_ERROR
)

1174 
£nd_r•
;

1177 
RC_PORT_1000HALF
:

1179 #i‡
	`deföed
(
CONFIG_BOSA
)

1180 
ªt
 = 
ERROR
;

1181 
£nd_r•
;

1183 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN104
)

1184 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_1000M
);

1185 if(
ªt
 !
NO_ERROR
)

1187 
£nd_r•
;

1189 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_HALF
);

1190 if(
ªt
 !
NO_ERROR
)

1192 
£nd_r•
;

1196 
RC_PORT_1000FULL
:

1197 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN204
)

1198 
ªt
 = 
ERROR
;

1199 
£nd_r•
;

1201 #i‡
	`deföed
(
CONFIG_PRODUCT_EPN104
)

1202 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
SPEED_1000M
);

1203 if(
ªt
 !
NO_ERROR
)

1205 
£nd_r•
;

1207 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
DUPLEX_FULL
);

1208 if(
ªt
 !
NO_ERROR
)

1210 
£nd_r•
;

1216 
ªt
 = 
ERROR
;

1217 
£nd_r•
;

1221 
£nd_r•
:

1222 
m_abAutoNegE«bÀ
[
p_p‹t_mode
->
p‹t
] = 0;

1223 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1225 if(
NO_ERROR
 !
ªt
)

1227 
p_øi£_out
->
ª£rved1
 = 0x00002314 +1;

1231 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1233 
p_øi£_out
->
p_code
 = 0x00010014;

1236 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1237 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1238 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1239 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1240 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1241 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1243 
	}
}

1245 
	$øi£com_£t_mac_agög
(
u8_t
* 
p_ö
)

1247 
u8_t
 *
p_out
;

1248 
øi£com_out_t
 *
p_øi£_out
;

1249 
øi£com_hdr_t
 *
p_øi£com
;

1250 
ªt
 = 
NO_ERROR
;

1251 
u16_t
 *
agögTime
;

1253 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1254 
p_ö
 +(
øi£com_hdr_t
);

1256 
agögTime
 = (
u16_t
*)
p_ö
;

1257 if((*
agögTime
<
MIN_MAC_AGETIME
Ë|| (*agögTime>
MAX_MAC_AGETIME
))

1260 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1261 
ªt
 = 
ERROR
;

1262 
£nd_r•
;

1265 
ªt
 = 
	`Io˘l_SëMacAgeTime
(*
agögTime
*10);

1266 if(
ªt
 !
DRV_OK
)

1268 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1269 
ªt
 = 
ERROR
;

1270 
£nd_r•
;

1273 
£nd_r•
:

1275 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1276 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1278 if(
ªt
 !
NO_ERROR
)

1280 
p_øi£_out
->
ª£rved1
 = 0x00002314+1;

1284 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1287 
p_øi£_out
->
p_code
 = 0x00010014;

1289 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1290 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1291 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1292 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1293 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1294 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1296 
	}
}

1299 
	$øi£com_gë_p‹t_°©e
(
u8_t
* 
p_ö
)

1301 
u8_t
 *
p_out
;

1302 
øi£com_out_t
 *
p_øi£_out
;

1303 
øi£com_hdr_t
 *
p_øi£com
;

1304 
ªt
 = 
NO_ERROR
;

1305 
rc_p‹t_•ìd_du∂ex_t
* 
p_p‹t_mode
;

1306 
u16_t
 *
p‹t
;

1307 
u32_t
 
p‹t_du∂ex
 = 0;

1308 
u32_t
 
p‹t_•ìd
 = 0;

1309 
u32_t
 
lök_°©us
 = 0;

1311 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1312 
p_ö
 +(
øi£com_hdr_t
);

1314 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1315 
p‹t
 = (
u16_t
*)
p_ö
;

1316 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1318 
p_øi£_out
->
p_code
 = 0x00000018;

1319 
p_øi£_out
->
ª£rved1
 = 0x6e582314;

1320 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

1321 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1322 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1323 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1324 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1325 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1326 
p_out
 +(
øi£com_out_t
);

1330 ()
	`DRV_GëP‹tDu∂ex
(*
p‹t
, &
p‹t_du∂ex
);

1331 ()
	`DRV_GëP‹tS≥ed
(*
p‹t
, &
p‹t_•ìd
);

1334 
p_p‹t_mode
 = (
rc_p‹t_•ìd_du∂ex_t
*)
p_out
;

1335 ()
	`DRV_GëP‹tLökSètus
(*
p‹t
, &
lök_°©us
);

1337 if(
lök_°©us
 == 0)

1339 
p_p‹t_mode
->
mode
 = 0xff;

1340 
£nd_r•
;

1342 
p_p‹t_mode
->
p‹t
 = *port;

1343 
p‹t_•ìd
)

1345 
SPEED_10M
:

1346 if(
DUPLEX_HALF
 =
p‹t_du∂ex
)

1348 
p_p‹t_mode
->
mode
 = 
RC_PORT_10HALF
;

1352 
p_p‹t_mode
->
mode
 = 
RC_PORT_10FULL
;

1355 
SPEED_100M
:

1356 if(
DUPLEX_HALF
 =
p‹t_du∂ex
)

1358 
p_p‹t_mode
->
mode
 = 
RC_PORT_100HALF
;

1362 
p_p‹t_mode
->
mode
 = 
RC_PORT_100FULL
;

1365 
SPEED_1000M
:

1366 if(
DUPLEX_HALF
 =
p‹t_du∂ex
)

1368 
p_p‹t_mode
->
mode
 = 
RC_PORT_1000HALF
;

1372 
p_p‹t_mode
->
mode
 = 
RC_PORT_1000FULL
;

1376 
p_p‹t_mode
->
mode
 = 0xff;

1380 
£nd_r•
:

1381 
g_usOutD©aIdx
 +(
rc_p‹t_•ìd_du∂ex_t
);

1382 
	}
}

1384 
	$øi£com_£t_p‹t_isﬁ©e
(
u8_t
* 
p_ö
)

1386 
u8_t
 *
p_out
;

1387 
øi£com_out_t
 *
p_øi£_out
;

1388 
øi£com_hdr_t
 *
p_øi£com
;

1389 
ªt
 = 
NO_ERROR
;

1390 
rc_p‹t_isﬁ©e_t
* 
p_p‹t
;

1392 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1393 
p_ö
 +(
øi£com_hdr_t
);

1395 
p_p‹t
 = (
rc_p‹t_isﬁ©e_t
*)
p_ö
;

1397 if(
RAISECOM_ENABLE
 =
p_p‹t
->
a˘
)

1399 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
p_p‹t
->
p‹t
, 
ENABLE
);

1400 if(
NO_ERROR
 !
ªt
)

1405 if(
RAISECOM_DISABLE
 =
p_p‹t
->
a˘
)

1407 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
p_p‹t
->
p‹t
, 
DISABLE
);

1408 if(
NO_ERROR
 !
ªt
)

1417 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1419 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1421 
p_øi£_out
->
p_code
 = 0x00010014;

1422 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1423 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1424 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1425 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1426 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1427 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1428 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1429 
p_out
 +(
øi£com_out_t
);

1430 
	}
}

1432 
	$øi£com_£t_ù_°ï0
(
u8_t
* 
p_ö
)

1434 
u8_t
 *
p_out
;

1435 
øi£com_out_t
 *
p_øi£_out
;

1436 
øi£com_hdr_t
 *
p_øi£com
;

1437 
ªt
 = 
NO_ERROR
;

1438 
sys_√tw‹k_t
 
öfo
;

1440 
rc_mng_ù_out_t
 *
p_out_mng_ù
;

1441 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1442 
p_ö
 +(
øi£com_hdr_t
);

1444 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1446 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1448 
p_øi£_out
->
p_code
 = 0x0000001c;

1450 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1451 
p_øi£_out
->
ª£rved2
 = 0x000800e0;

1452 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1453 
p_øi£_out
->
Àaf
 = 0x0000102c;

1454 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1455 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1456 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1457 
p_out
 +(
øi£com_out_t
);

1458 
	`ﬂm_ùc_gë_sys_√tw‹kög
(&
öfo
);

1459 
p_out_mng_ù
 = (
rc_mng_ù_out_t
*)
p_out
;

1461 
	`mem˝y
(
p_out
, &
öfo
.
√tif
.
ù
, 4);

1462 
	`mem˝y
(
p_out
+4, &
öfo
.
√tif
.
sub√t
, 4);

1463 
g_usOutD©aIdx
 += 8;

1464 
	}
}

1467 
	$øi£com_uni_°©i°ics
(
u8_t
 *
p_ö
)

1469 
u8_t
 *
p_out
;

1470 
øi£com_out_t
 *
p_øi£_out
;

1471 
øi£com_hdr_t
 *
p_øi£com
;

1472 
ªt
 = 
NO_ERROR
;

1473 
rc_uni_˛ór_t
 *
p_˛ór
;

1475 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1476 
p_ö
 +(
øi£com_hdr_t
);

1477 
p_˛ór
 = (
rc_uni_˛ór_t
*)
p_ö
;

1479 if(
RAISECOM_SET
 =
p_˛ór
->
a˘
)

1481 
ªt
 = 
	`Io˘l_SëMibCou¡Re£t
(
p_˛ór
->
p‹t
);

1482 if(
ªt
 !
DRV_OK
)

1484 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1485 
£nd_r•
;

1489 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1491 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1493 
p_øi£_out
->
p_code
 = 0x0000001c;

1494 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1495 
p_øi£_out
->
ª£rved2
 = 0x000400e0;

1496 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1497 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1498 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1499 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1500 
£nd_r•
:

1501 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1502 
	}
}

1504 
	$øi£com_mu…iˇ°_di•
(
u8_t
 *
p_ö
)

1506 
u8_t
 *
p_out
;

1507 
øi£com_out_t
 *
p_øi£_out
;

1508 
øi£com_hdr_t
 *
p_øi£com
;

1509 
ªt
 = 
NO_ERROR
;

1511 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1512 
p_ö
 +(
øi£com_hdr_t
);

1514 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1515 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1517 
p_øi£_out
->
p_code
 = 0x00010180;

1518 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1519 
p_øi£_out
->
ª£rved2
 = 0x016c00e0;

1520 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1521 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1522 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1523 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1524 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1526 
g_usOutD©aIdx
 = 414;

1527 
	}
}

1529 
	$øi£com_£t_ã ë
(
u8_t
* 
p_ö
)

1531 
u8_t
 *
p_out
;

1532 
øi£com_out_t
 *
p_øi£_out
;

1533 
øi£com_hdr_t
 *
p_øi£com
;

1534 
ªt
 = 
NO_ERROR
;

1535 
pid_t
 
pid
 = 0;

1537 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1538 
p_ö
 +(
øi£com_hdr_t
);

1540 *
p_ö
)

1542 
RAISECOM_ENABLE
:

1544 if(
IPC_STATUS_OK
 !
	`ﬂm_ùc_vtysh_nvøm_£t
("telnet_service_enabled", "enable"))

1546 
ªt
 = 
ERROR
;

1549 
RAISECOM_DISABLE
:

1551 if((
pid
 = 
	`gë_pid_by_«me
("vtysh")) > 0)

1553 if(-1 =
	`kûl
(
pid
, 
SIGUSR2
))

1555 
ªt
 = 
ERROR
;

1560 
ªt
 = 
ERROR
;

1564 
ªt
 = 
ERROR
;

1568 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1569 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1571 
p_øi£_out
->
p_code
 = 0x00000014;

1572 
p_øi£_out
->
ª£rved1
 = 0x20482314;

1573 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1574 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1575 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1576 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1577 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1578 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1580 
	}
}

1582 
	$øi£com_˛ór_mac_èbÀ
(
u8_t
* 
p_ö
)

1584 
u8_t
 *
p_out
;

1585 
øi£com_out_t
 *
p_øi£_out
;

1586 
øi£com_hdr_t
 *
p_øi£com
;

1587 
ªt
 = 
NO_ERROR
;

1588 
u32_t
 *
p_a˘
;

1589 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[2048];

1590 
u32_t
 
mac_cou¡
;

1591 
u32_t
 
ii
;

1592 
rc_mac_böd_t
 
dñ_mac
;

1594 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1595 
p_ö
 +(
øi£com_hdr_t
);

1597 
ªt
 = 
	`ªad_mac_uˇ°_dump
(
ãmpMacTabÀ
, &
mac_cou¡
);

1598 if(
DRV_OK
 !
ªt
)

1600 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1603 
p_a˘
 = (
u32_t
*)
p_ö
;

1604 *
p_a˘
)

1606 
MAC_TYPE_DYNAMIC
:

1607 
ii
=0; ii<
mac_cou¡
; ii++)

1609 if(!(
ãmpMacTabÀ
[
ii
].
Êag
 & 0x04))

1611 
	`mem˝y
(
dñ_mac
.
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1612 
dñ_mac
.
vœn
 = 0;

1613 
dñ_mac
.
p‹t
 = 
ãmpMacTabÀ
[
ii
].
Õ‹t
;

1614 
	`rc_p‹t_°©ic_mac_dñ
(&
dñ_mac
);

1618 
MAC_TYPE_STATIC
:

1619 
ii
=0; ii<
mac_cou¡
; ii++)

1621 if(
ãmpMacTabÀ
[
ii
].
Êag
 & 0x04)

1623 
	`mem˝y
(
dñ_mac
.
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1624 
dñ_mac
.
vœn
 = 0;

1625 
dñ_mac
.
p‹t
 = 
ãmpMacTabÀ
[
ii
].
Õ‹t
;

1626 
	`rc_p‹t_°©ic_mac_dñ
(&
dñ_mac
);

1630 
MAC_TYPE_ALL
:

1631 
ii
=0; ii<
mac_cou¡
; ii++)

1633 
	`mem˝y
(
dñ_mac
.
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1634 
dñ_mac
.
vœn
 = 0;

1635 
dñ_mac
.
p‹t
 = 
ãmpMacTabÀ
[
ii
].
Õ‹t
;

1636 
	`rc_p‹t_°©ic_mac_dñ
(&
dñ_mac
);

1641 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1642 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1644 
p_øi£_out
->
p_code
 = 0x00000014;

1645 
p_øi£_out
->
ª£rved1
 = 0x20482314;

1646 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1647 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1648 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1649 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1650 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1651 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1653 
	}
}

1655 
	$øi£com_dÂ_h™dÀ
(
u8_t
* 
p_ö
)

1657 
u8_t
 *
p_out
;

1658 
øi£com_out_t
 *
p_øi£_out
;

1659 
øi£com_hdr_t
 *
p_øi£com
;

1660 
ªt
 = 
NO_ERROR
;

1661 
u32_t
 *
p_vÆue
;

1663 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1664 
p_ö
 +(
øi£com_hdr_t
);

1665 
p_vÆue
 = (
u32_t
*)
p_ö
;

1667 *
p_vÆue
)

1669 
RAISECOM_ENABLE
:

1671 
RAISECOM_DISABLE
:

1677 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1678 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1680 
p_øi£_out
->
p_code
 = 0x00000014;

1681 
p_øi£_out
->
ª£rved1
 = 0x20482314;

1682 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1683 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1684 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1685 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1686 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1687 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1688 
	}
}

1691 
	$øi£com_u∂ök_h™dÀ
(
u8_t
* 
p_ö
)

1693 
u8_t
 *
p_out
;

1694 
øi£com_out_t
 *
p_øi£_out
;

1695 
øi£com_hdr_t
 *
p_øi£com
;

1696 
ªt
 = 
NO_ERROR
;

1698 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1699 
p_ö
 +(
øi£com_hdr_t
);

1701 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1702 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1704 
p_øi£_out
->
p_code
 = 0x00000014;

1705 
p_øi£_out
->
ª£rved1
 = 0x20582314;

1706 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1707 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1708 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1709 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1710 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1711 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1712 
	}
}

1718 
	$øi£com_£t_bønch1
(
u8_t
* 
p_ö
)

1720 
u8_t
 *
p_out
;

1721 
øi£com_out_t
 *
p_øi£_out
;

1722 
øi£com_hdr_t
 *
p_øi£com
;

1723 
rc_Á°_Àave_t
 *
p_Á°Àave
;

1724 
ªt
 = 
NO_ERROR
;

1726 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1728 
p_øi£com
->
Àaf
)

1730 
RAISECOM_LEAF_SET_PORT_MODE
:

1732 
	`øi£com_£t_p‹t_mode
(
p_ö
);

1734 
RAISECOM_LEAF_SET_MAC_AGING
:

1736 
	`øi£com_£t_mac_agög
(
p_ö
);

1738 
RAISECOM_LEAF_GET_PORT_MODE
:

1740 
	`øi£com_gë_p‹t_°©e
(
p_ö
);

1742 
RAISECOM_LEAF_SET_PORT_ISOLATION
:

1744 
	`øi£com_£t_p‹t_isﬁ©e
(
p_ö
);

1748 
	`øi£com_£t_ù_°ï0
(
p_ö
);

1750 
RAISECOM_LEAF_SET_STATISTICS_CLEAR
:

1752 
	`øi£com_uni_°©i°ics
(
p_ö
);

1754 
RAISECOM_LEAF_GET_MCAST_MAC
:

1756 
	`øi£com_mu…iˇ°_di•
(
p_ö
);

1758 
RAISECOM_LEAF_SET_TELNET
:

1760 
	`øi£com_£t_ã ë
(
p_ö
);

1762 
RAISECOM_LEAF_SET_MAC_CLEAR
:

1764 
	`øi£com_˛ór_mac_èbÀ
(
p_ö
);

1766 
RAISECOM_LEAF_SET_DLF
:

1768 
	`øi£com_dÂ_h™dÀ
(
p_ö
);

1770 
RAISECOM_LEAF_SET_UPLINK_FLOW
:

1772 
	`øi£com_u∂ök_h™dÀ
(
p_ö
);

1776 
	`øi£com_gë_ru¬ög_c⁄fig_3
(
p_ö
);

1779 
	`øi£com_gë_ru¬ög_c⁄fig_4
(
p_ö
);

1782 
	`øi£com_gë_ru¬ög_c⁄fig_6
(
p_ö
);

1785 
	`øi£com_gë_ru¬ög_c⁄fig_7
(
p_ö
);

1788 
RAISECOM_LEAF_SET_FASTLEAVE
:

1790 
p_ö
 +(
øi£com_hdr_t
);

1791 
p_Á°Àave
 = (
rc_Á°_Àave_t
*)
p_ö
;

1792 if(
RAISECOM_ENABLE
 =
p_Á°Àave
->
mode
)

1794 ()
	`odmMu…iˇ°Fa°ÀaveModeSë
(1);

1796 if(
RAISECOM_DISABLE
 =
p_Á°Àave
->
mode
)

1798 ()
	`odmMu…iˇ°Fa°ÀaveModeSë
(0);

1805 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1806 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1808 
p_øi£_out
->
p_code
 = 0x00000014;

1809 
p_øi£_out
->
ª£rved1
 = 0x20582314;

1810 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1811 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1812 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1813 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1814 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1815 
g_usOutD©aIdx
 +(
øi£com_out_t
);

1816 
	}
}

1818 
	$øi£com_£t_fûãr_f‹_vœn
(
u8_t
* 
p_ö
)

1820 
u8_t
 *
p_out
;

1821 
øi£com_out_t
 *
p_øi£_out
;

1822 
øi£com_hdr_t
 *
p_øi£com
;

1823 
ªt
 = 
NO_ERROR
;

1824 
u32_t
 
fûãrEm±yE¡ry
;

1825 
rc_fûãr_∑π3_t
 *
p_fûãr3
;

1826 
u32_t
 
uVÆue_£t
;

1827 
u8_t
 
aVÆue_£t
[6] = {0};

1830 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

1831 
p_ö
 +(
øi£com_hdr_t
);

1834 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

1835 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1839 
p_fûãr3
 = (
rc_fûãr_∑π3_t
*)
p_ö
;

1841 
uVÆue_£t
 = 
p_fûãr3
->
vœn
;

1842 
	`mem˝y
(
aVÆue_£t
, &
uVÆue_£t
, 4);

1843 if((
p_fûãr3
->
vœn
 < 1) || (p_filter3->vlan > 4094))

1845 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1848 if(
RAISECOM_NO
 =
p_fûãr3
->
a˘i⁄
)

1850 
	`fûãr_a˛_dñ_loˇl
(
ACL_TRUST_CTAG_VID
, 
aVÆue_£t
);

1852 if(
RAISECOM_SET
 =
p_fûãr3
->
a˘i⁄
)

1854 
ªt
 = 
	`Io˘l_GëUni⁄Uöt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
fûãrEm±yE¡ry
);

1855 if(
ªt
 !
DRV_OK
)

1857 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1861 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

1862 
ACL_TRUST_CTAG_VID
,

1863 
ACL_DIRECTION_BOTH
,

1864 &
uVÆue_£t
);

1865 if(
ªt
 !
DRV_OK
)

1867 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1870 
	`fûãr_a˛_add_loˇl
(
ACL_TRUST_CTAG_VID
, 
fûãrEm±yE¡ry
, 
aVÆue_£t
);

1873 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

1874 
p_øi£_out
->
p_code
 = 0x00080014;

1875 
p_øi£_out
->
ª£rved1
 = 0x00002314;

1876 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

1877 
p_øi£_out
->
ª£rved3
 = 0x00002000;

1878 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

1879 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

1880 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

1881 
g_usOutD©aIdx
 +=(
øi£com_out_t
);

1884 
	}
}

1887 
	$rc_gë_mac
(
u16_t
 
ty≥
, u16_à
p‹t
, 
u32_t
 *
p_macNum
)

1889 
ªt
 = 
NO_ERROR
;

1890 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[2048];

1891 
u32_t
 
mac_cou¡
;

1892 
u32_t
 
tŸÆ_mac
 = 0;

1893 
rc_p‹t_mac_t
* 
p_lﬂ˛MacTabÀ
 = 
NULL
;

1894 
u32_t
 
ii
;

1896 if(
ty≥
 > 
MAC_TYPE_STATIC
)

1898 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1899  
ERROR
;

1902 if((
p‹t
 > 
MAC_TYPE_PORT_UNI_4
Ë&& (p‹à!
MAC_TYPE_PORT_UPLINK
))

1904 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1905  
ERROR
;

1908 if(
NULL
 =
g_rc_p‹t_mac
)

1910 
ªt
 = 
	`ªad_mac_uˇ°_dump
(
ãmpMacTabÀ
, &
mac_cou¡
);

1912 if(
DRV_OK
 !
ªt
)

1914 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1915  
ERROR
;

1917 
	`RC_DBG
(("MACÜó∫Çum %d\n", 
mac_cou¡
));

1919 if(0 =
mac_cou¡
)

1922  
NO_ERROR
;

1925 
g_rc_p‹t_mac
 = 
	`mÆloc
(
mac_cou¡
*(
rc_p‹t_mac_t
));

1928 if(
NULL
 !
g_rc_p‹t_mac
)

1930 
	`RC_DBG
(("Alloc memory successfully\n"));

1931 
tŸÆ_mac
 = 0;

1932 
p_lﬂ˛MacTabÀ
 = 
g_rc_p‹t_mac
;

1934 
ii
=0; ii<
mac_cou¡
; ii++)

1937 if(
MAC_TYPE_DYNAMIC
 =
ty≥
)

1940 if((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04)

1944 if((
p‹t
 <
MAC_TYPE_PORT_UNI_4
Ë&& (p‹à!
MAC_TYPE_PORT_ALL
))

1948 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 !
p‹t
)

1954 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1955 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

1956 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

1958 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

1959 
p_lﬂ˛MacTabÀ
 += 1;

1960 
tŸÆ_mac
 += 1;

1963 if(
MAC_TYPE_PORT_UPLINK
 =
p‹t
)

1966 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1967 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 != 5)

1969 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1974 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1975 
p_lﬂ˛MacTabÀ
->
p‹t
 = 0x80000000;

1976 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

1978 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

1979 
p_lﬂ˛MacTabÀ
 += 1;

1980 
tŸÆ_mac
 += 1;

1986 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

1987 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

1989 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

1990 if(5 =
ãmpMacTabÀ
[
ii
].
Õ‹t
)

1998 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

2000 
p_lﬂ˛MacTabÀ
 += 1;

2001 
tŸÆ_mac
 += 1;

2006 if(
MAC_TYPE_STATIC
 =
ty≥
)

2009 if(0 =((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04))

2013 if((
p‹t
 <
MAC_TYPE_PORT_UNI_4
Ë&& (p‹à!
MAC_TYPE_PORT_ALL
))

2017 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 !
p‹t
)

2023 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2024 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2026 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2027 if(5 =
ãmpMacTabÀ
[
ii
].
Õ‹t
)

2034 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

2036 
p_lﬂ˛MacTabÀ
 += 1;

2037 
tŸÆ_mac
 += 1;

2040 if(
MAC_TYPE_PORT_UPLINK
 =
p‹t
)

2043 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2044 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 != 5)

2046 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2051 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2052 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2053 
p_lﬂ˛MacTabÀ
->
p‹t
 = 0x80000000;

2054 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2056 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2057 
p_lﬂ˛MacTabÀ
 += 1;

2058 
tŸÆ_mac
 += 1;

2063 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2064 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2066 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2068 if(5 =
ãmpMacTabÀ
[
ii
].
Õ‹t
)

2075 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

2077 
p_lﬂ˛MacTabÀ
 += 1;

2078 
tŸÆ_mac
 += 1;

2084 if((
p‹t
 <
MAC_TYPE_PORT_UNI_4
Ë&& (p‹à!
MAC_TYPE_PORT_ALL
))

2088 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 !
p‹t
)

2094 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2095 if(0 =((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04))

2097 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

2098 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

2102 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2103 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2106 if(5 =
ãmpMacTabÀ
[
ii
].
Õ‹t
)

2113 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

2117 if(
MAC_TYPE_PORT_UPLINK
 =
p‹t
)

2120 if(
ãmpMacTabÀ
[
ii
].
Õ‹t
 != 5)

2122 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2127 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2128 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2129 
p_lﬂ˛MacTabÀ
->
p‹t
 = 0x80000000;

2130 if(0 =((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04))

2132 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

2133 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

2137 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2138 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2145 if(5 =
ãmpMacTabÀ
[
ii
].
Õ‹t
)

2147 
p_lﬂ˛MacTabÀ
->
p‹t
 = 0x80000000;

2152 
p_lﬂ˛MacTabÀ
->
p‹t
 = 1<<(
ãmpMacTabÀ
[
ii
].
Õ‹t
-1);

2155 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2156 if(0 =((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04))

2158 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_DYNAMIC
;

2159 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0x30;

2163 
p_lﬂ˛MacTabÀ
->
ty≥
 = 
MAC_TYPE_STATIC
;

2164 
p_lﬂ˛MacTabÀ
->
agögLe·
 = 0xffff;

2167 
p_lﬂ˛MacTabÀ
 += 1;

2168 
tŸÆ_mac
 += 1;

2171 *
p_macNum
 = 
tŸÆ_mac
;

2175 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2176  
ERROR
;

2179 
	}
}

2181 
	$øi£com_l2addªss_quîy
(
u8_t
* 
p_ö
)

2183 
øi£com_hdr_t
 *
p_øi£com
;

2184 
u8_t
 *
p_out
;

2185 
øi£com_out_t
 *
p_øi£_out
;

2186 
rc_l2mac_ö_t
 *
p_mac_ö
;

2187 
rc_l2mac_t
 *
p_macE¡ry
;

2188 
u16_t
 
ii
;

2189 
ªt
 = 
NO_ERROR
;

2190 
rc_p‹t_mac_t
* 
p_lﬂ˛MacTabÀ
 = 
NULL
;

2191 
u32_t
 
tŸÆMacNum
 = 0;

2192 
u32_t
 
£ndMacNum
 = 0;

2193 
rc_l2mac_fõÀd_t
 *
p_mac_fûed
;

2195 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2196 
p_ö
 +(
øi£com_hdr_t
);

2198 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2200 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2201 
p_øi£_out
->
p_code
 = 0x00010338;

2203 
p_øi£_out
->
ª£rved1
 = 0x00002314;

2204 
p_øi£_out
->
ª£rved2
 = 0x032400e0;

2205 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2206 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2207 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2208 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2209 
g_usOutD©aIdx
 +=(
øi£com_out_t
);

2210 
p_out
 +(
øi£com_out_t
);

2215 
p_mac_ö
 = (
rc_l2mac_ö_t
*)
p_ö
;

2218 i‡(
NULL
 =
g_rc_p‹t_mac
)

2220 
ªt
 = 
	`rc_gë_mac
(
p_mac_ö
->
macTy≥
&0x000000FF, (p_mac_ö->macTy≥&0x0000FF00)>>8, &
tŸÆMacNum
);

2221 if(
ªt
 !
NO_ERROR
)

2223 
£nd_r•
;

2225 if(0 =
tŸÆMacNum
)

2227 
£nd_r•
;

2231 
p_macE¡ry
 = (
rc_l2mac_t
*)
p_out
;

2232 
p_out
 +(
rc_l2mac_t
);

2233 
p_mac_fûed
 = (
rc_l2mac_fõÀd_t
*)
p_out
;

2235 
p_lﬂ˛MacTabÀ
 = 
g_rc_p‹t_mac
+
£ndMacNum
;

2237 if((
tŸÆMacNum
-
£ndMacNum
Ë> 
p_mac_ö
->
maxMac
)

2240 
ii
=0; ii<
p_mac_ö
->
maxMac
-1; ii++)

2242 
	`mem˝y
(
p_mac_fûed
->
mac
, 
p_lﬂ˛MacTabÀ
->mac, 6);

2243 
p_mac_fûed
->
ª£rved
 = 0xffff;

2244 
p_mac_fûed
->
p‹t
 = 
p_lﬂ˛MacTabÀ
->port;

2245 
p_mac_fûed
->
agögLe·
 = 
p_lﬂ˛MacTabÀ
->agingLeft;

2246 
p_mac_fûed
->
ty≥
 = 
p_lﬂ˛MacTabÀ
->type;

2247 
p_mac_fûed
->
ª£rved2
 = 0x01;

2250 
p_mac_fûed
 += 1;

2251 
p_lﬂ˛MacTabÀ
 += 1;

2253 
£ndMacNum
 +(
p_mac_ö
->
maxMac
-1);

2254 
p_macE¡ry
->
macMax
 = 
p_mac_ö
->
maxMac
;

2255 
p_macE¡ry
->
macNum
 = 
p_mac_ö
->
maxMac
-1;

2260 
ii
=0; ii<
tŸÆMacNum
 && ii<—ŸÆMacNum-
£ndMacNum
); ii++)

2262 
	`mem˝y
(
p_mac_fûed
->
mac
, 
p_lﬂ˛MacTabÀ
->mac, 6);

2263 
p_mac_fûed
->
ª£rved
 = 0xffff;

2264 
p_mac_fûed
->
p‹t
 = 
p_lﬂ˛MacTabÀ
->port;

2265 
p_mac_fûed
->
agögLe·
 = 
p_lﬂ˛MacTabÀ
->agingLeft;

2266 
p_mac_fûed
->
ty≥
 = 
p_lﬂ˛MacTabÀ
->type;

2267 
p_mac_fûed
->
ª£rved2
 = 0x01;

2270 
p_mac_fûed
 += 1;

2271 
p_lﬂ˛MacTabÀ
 += 1;

2273 
p_macE¡ry
->
macNum
 = (
tŸÆMacNum
<—ŸÆMacNum-
£ndMacNum
)?totalMacNum:(totalMacNum-sendMacNum));

2275 
£ndMacNum
 = 
tŸÆMacNum
;

2276 
p_macE¡ry
->
macMax
 = 0;

2279 
£nd_r•
:

2281 if(
£ndMacNum
 >
tŸÆMacNum
)

2283 if(
NULL
 !
g_rc_p‹t_mac
)

2285 
	`‰ì
(
g_rc_p‹t_mac
);

2286 
	`RC_DBG
(("free memory successfully\n"));

2287 
g_rc_p‹t_mac
 = 
NULL
;

2289 
£ndMacNum
 = 0;

2290 
tŸÆMacNum
 = 0;

2292 
g_usOutD©aIdx
 = 854;

2293 
	}
}

2295 
	$øi£com_£t_igmp_quîy
(
u8_t
* 
p_ö
)

2297 
øi£com_hdr_t
 *
p_øi£com
;

2298 
u8_t
 *
p_out
;

2299 
øi£com_out_t
 *
p_øi£_out
;

2300 
ªt
 = 
NO_ERROR
;

2301 
rc_igmp_t
* 
p_igmp
;

2302 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2303 
p_ö
 +(
øi£com_hdr_t
);

2305 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2307 
p_igmp
 = (
rc_igmp_t
*)
p_ö
;

2309 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2310 
p_øi£_out
->
p_code
 = 0x00000014;

2311 
p_øi£_out
->
ª£rved1
 = 0x20482314;

2312 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

2313 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2314 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2315 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2316 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2317 
g_usOutD©aIdx
 +=(
øi£com_out_t
);

2318 
p_out
 +(
øi£com_out_t
);

2319 
	}
}

2322 
	$øi£com_£t_mac_limô
(
u8_t
* 
p_ö
)

2324 
øi£com_hdr_t
 *
p_øi£com
;

2325 
u8_t
 *
p_out
;

2326 
øi£com_out_t
 *
p_øi£_out
;

2327 
ªt
 = 
NO_ERROR
;

2328 
rc_uni_mac_limô_t
* 
p_mac_limô
;

2329 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2330 
p_ö
 +(
øi£com_hdr_t
);

2332 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2334 
p_mac_limô
 = (
rc_uni_mac_limô_t
*)
p_ö
;

2335 if(
p_mac_limô
->
mac_limô
 == 0xffffffff)

2338 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
p_mac_limô
->
p‹t
, 0, 
TRUE
);

2342 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
p_mac_limô
->
p‹t
,Ö_mac_limô->
mac_limô
, 
TRUE
);

2344 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2346 if(
ªt
 !
DRV_OK
)

2348 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2349 
p_øi£_out
->
ª£rved1
 = 0x20482314 + 1;

2353 
p_øi£_out
->
ª£rved1
 = 0x20482314;

2355 
p_øi£_out
->
p_code
 = 0x00000014;

2357 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

2358 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2359 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2360 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2361 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2362 
g_usOutD©aIdx
 +=(
øi£com_out_t
);

2363 
p_out
 +(
øi£com_out_t
);

2364 
	}
}

2367 
	$øi£com_£t_c⁄fig
(
u8_t
* 
p_ö
)

2369 
u8_t
 *
p_out
;

2370 
ªt
 = 
NO_ERROR
;

2371 
øi£com_out_t
 *
p_øi£_out
;

2372 
øi£com_hdr_t
 *
p_øi£com
;

2373 
u8_t
 
ãmp_buf2
[] = {

2382 
u8_t
 
ãmp_buf4
[] = {

2392 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2393 #i‚de‡
CONFIG_PRODUCT_5500


2394 
p_øi£com
->
Àaf
)

2396 
RAISECOM_LEAF_SET_FILTER_BY_VLAN
:

2398 
	`øi£com_£t_fûãr_f‹_vœn
(
p_ö
);

2400 
RAISECOM_LEAF_GET_L2ADDRESS
:

2401 
	`øi£com_l2addªss_quîy
(
p_ö
);

2403 
RAISECOM_LEAF_SET_IGMP_INTERVEL
:

2404 
	`øi£com_£t_igmp_quîy
(
p_ö
);

2406 
RAISECOM_LEAF_SET_MAC_LIMIT
:

2407 
	`øi£com_£t_mac_limô
(
p_ö
);

2419 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2420 
	`mem˝y
(
p_out
, 
ãmp_buf4
, (temp_buf4));

2421 
g_usOutD©aIdx
 +(
ãmp_buf4
);

2423 
	}
}

2424 
	$rc_p‹t_°©ic_mac_add
(
rc_mac_böd_t
* 
p_böd_mac
)

2426 
u32_t
 
ªt
;

2427 
mac_uˇ°_t
 
gë_mac_addªss
;

2428 
mac_uˇ°_t
 
£t_mac_addªss
;

2434 
	`mem£t
(&
gë_mac_addªss
, 0, (
mac_uˇ°_t
));

2436 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p_böd_mac
->
p‹t
,Ö_böd_mac->
vœn
, &
vœnMode
, &
vœnExi°
))

2438  
ERROR
;

2442 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

2444 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_böd_mac
->
mac
, &
gë_mac_addªss
);

2446 if(
vœnExi°
)

2448 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_böd_mac
->
vœn
,Ö_böd_mac->
mac
 , &
gë_mac_addªss
);

2452  
ERROR
;

2455 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_böd_mac
->
vœn
,Ö_böd_mac->
mac
 , &
gë_mac_addªss
);

2458 if(
DRV_OK
 =
ªt
)

2460 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2461  
ERROR
;

2464 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
ªt
)

2467 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

2468 
£t_mac_addªss
.
lgcP‹t
 = 
p_böd_mac
->
p‹t
;

2469 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_böd_mac
->
mac
 , (
mac_addªss_t
));

2470 
£t_mac_addªss
.
tdVid
 = 
p_böd_mac
->
vœn
;

2471 
£t_mac_addªss
.
ucSètic
 = 1;

2473 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

2474 if(
ªt
 !
DRV_OK
)

2476 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2477  
ERROR
;

2479  
NO_ERROR
;

2481 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2482  
ERROR
;

2483 
	}
}

2486 
	$rc_p‹t_°©ic_mac_dñ
(
rc_mac_böd_t
 *
p_mac
)

2488 
u32_t
 
ªt
 = 
NO_ERROR
;

2489 
mac_uˇ°_t
 
gë_mac_addªss
;

2495 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p_mac
->
p‹t
,Ö_mac->
vœn
, &
vœnMode
, &
vœnExi°
))

2497  
ERROR
;

2500 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

2502 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_mac
->
mac
, &
gë_mac_addªss
);

2504 if(
vœnExi°
)

2506 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_mac
->
vœn
,Ö_mac->
mac
, &
gë_mac_addªss
);

2510  
ERROR
;

2513 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_mac
->
vœn
,Ö_mac->
mac
, &
gë_mac_addªss
);

2516 if(
DRV_OK
 !
ªt
)

2519  
NO_ERROR
;

2522 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

2523 if(
DRV_OK
 !=
ªt
)

2525 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2526  
ERROR
;

2529  
NO_ERROR
;

2530 
	}
}

2533 
	$rc_mac_°©ic_di•
(
u8_t
* 
p_ö
)

2535 
u8_t
 *
p_out
;

2536 
øi£com_out_t
 *
p_øi£_out
;

2537 
øi£com_hdr_t
 *
p_øi£com
;

2538 
ªt
 = 
NO_ERROR
;

2539 
u32_t
 
mac_cou¡
;

2540 
rc_mac_°©ic_t
* 
p_lﬂ˛MacTabÀ
 = 
NULL
;

2541 
u32_t
 
£nd_mac
 = 0;

2542 
u32_t
 
tŸÆ_mac
 = 0;

2543 
u32_t
 
ii
 = 0;

2544 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[2048];

2545 
rc_mac_out_°©ic_t
 *
p_out_mac
;

2547 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2548 
p_ö
 +(
øi£com_hdr_t
);

2550 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2552 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2553 
p_øi£_out
->
p_code
 = 0x00010588;

2554 
p_øi£_out
->
ª£rved1
 = 0x00002314;

2555 
p_øi£_out
->
ª£rved2
 = 0x057400e0;

2556 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2557 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2558 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2559 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2560 
g_usOutD©aIdx
 +(
øi£com_out_t
);

2561 
p_out
 +(
øi£com_out_t
);

2563 if(
NULL
 =
g°_rc_°©ic_mac
)

2565 
ªt
 = 
	`ªad_mac_uˇ°_dump
(
ãmpMacTabÀ
, &
mac_cou¡
);

2566 if(
DRV_OK
 !
ªt
)

2568 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2569 
£nd_r•
;

2572 if(0 =
mac_cou¡
)

2575 
£nd_r•
;

2578 
g°_rc_°©ic_mac
 = 
	`mÆloc
(
mac_cou¡
*(
rc_mac_°©ic_t
));

2581 if(
NULL
 !
g°_rc_°©ic_mac
)

2583 
	`RC_DBG
(("Alloc successfully\n"));

2584 
tŸÆ_mac
 = 0;

2585 
£nd_mac
 = 0;

2586 
p_lﬂ˛MacTabÀ
 = 
g°_rc_°©ic_mac
;

2588 
ii
=0; ii<
mac_cou¡
; ii++)

2591 if((
ãmpMacTabÀ
[
ii
].
Êag
) & 0x04)

2594 
	`mem˝y
(
p_lﬂ˛MacTabÀ
->
mac
, 
ãmpMacTabÀ
[
ii
].
mac_addr
, 6);

2595 
p_lﬂ˛MacTabÀ
->
p‹t
 = 
ãmpMacTabÀ
[
ii
].
Õ‹t
;

2596 
p_lﬂ˛MacTabÀ
 += 1;

2597 
tŸÆ_mac
 += 1;

2598 
	`RC_DBG
(("P‹à[%d]\t", 
ãmpMacTabÀ
[
ii
].
Õ‹t
));

2599 
	`RC_DBG
(("Macádress: %02x%02x-%02x%02x-%02x%02x\n",

2600 
ãmpMacTabÀ
[
ii
].
mac_addr
[0],tempMacTable[ii].mac_addr[1],

2601 
ãmpMacTabÀ
[
ii
].
mac_addr
[2],tempMacTable[ii].mac_addr[3],

2602 
ãmpMacTabÀ
[
ii
].
mac_addr
[4],tempMacTable[ii].mac_addr[5]

2610 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2611 
£nd_r•
;

2616 if(
£nd_mac
 >
tŸÆ_mac
)

2618 if(
NULL
 !
g°_rc_°©ic_mac
)

2620 
	`‰ì
(
g°_rc_°©ic_mac
);

2621 
g°_rc_°©ic_mac
 = 
NULL
;

2623 
£nd_mac
 = 0;

2624 
tŸÆ_mac
 = 0;

2625 
£nd_r•
;

2629 
p_lﬂ˛MacTabÀ
 = 
g°_rc_°©ic_mac
 + 
£nd_mac
;

2630 
p_out_mac
 = (
rc_mac_out_°©ic_t
*)
p_out
;

2631 
p_out_mac
->
ª£rved
 = 0x0001;

2632 
p_out_mac
->
p‹t
 = 
p_lﬂ˛MacTabÀ
->port;

2633 
	`mem˝y
(
p_out_mac
->
mac
, 
p_lﬂ˛MacTabÀ
->mac, 6);

2634 
£nd_mac
++;

2636 
£nd_r•
:

2638 
g_usOutD©aIdx
 = 1446;

2639 
	}
}

2642 
	$rc_mac_°©ic_¥o˚ss
(
u8_t
* 
p_ö
)

2644 
u8_t
 *
p_out
;

2645 
øi£com_out_t
 *
p_øi£_out
;

2646 
øi£com_hdr_t
 *
p_øi£com
;

2647 
ªt
 = 
NO_ERROR
;

2648 
rc_°©ic_mac_t
* 
p_mac
;

2649 
rc_mac_böd_t
 
böd_mac
;

2651 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2652 
p_mac
 = (
rc_°©ic_mac_t
*)(
p_ö
 + (
øi£com_hdr_t
));

2653 
p_mac
->
a˘
)

2655 
MAC_BIND_SET
:

2656 
	`mem£t
(&
böd_mac
, 0, (
rc_mac_böd_t
));

2657 
	`mem˝y
(
böd_mac
.
mac
, 
p_mac
->mac, 6);

2658 
böd_mac
.
p‹t
 = 
p_mac
->port;

2659 ()
	`rc_p‹t_°©ic_mac_add
(&
böd_mac
);

2661 
MAC_BIND_SET_UNDO
:

2662 
	`mem£t
(&
böd_mac
, 0, (
rc_mac_böd_t
));

2663 
	`mem˝y
(
böd_mac
.
mac
, 
p_mac
->mac, 6);

2664 
böd_mac
.
p‹t
 = 
p_mac
->port;

2665 ()
	`rc_p‹t_°©ic_mac_dñ
(&
böd_mac
);

2667 
MAC_STATIC_DISP
:

2668 
	`rc_mac_°©ic_di•
(
p_ö
);

2674 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2675 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2677 
p_øi£_out
->
p_code
 = 0x00000014;

2678 
p_øi£_out
->
ª£rved1
 = 0x20582314;

2679 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

2680 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2681 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2682 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2683 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2684 
g_usOutD©aIdx
 +(
øi£com_out_t
);

2685 
	}
}

2687 
	$rc_mac_gë_°©ic_mu…iˇ°
(
u8_t
* 
p_ö
)

2689 
u8_t
 *
p_out
;

2690 
øi£com_out_t
 *
p_øi£_out
;

2691 
sys_√tw‹k_t
 
öfo
;

2692 
øi£com_hdr_t
 *
p_øi£com
;

2693 
ªt
 = 
NO_ERROR
;

2695 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2696 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2698 
p_øi£_out
->
p_code
 = 0x00010540;

2699 
p_øi£_out
->
ª£rved1
 = 0x00002314;

2700 
p_øi£_out
->
ª£rved2
 = 0x052c00e0;

2701 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2702 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

2703 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2704 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2705 
g_usOutD©aIdx
 +(
øi£com_out_t
);

2706 
	}
}

2709 
	$øi£com_dow∆ﬂd_c⁄fig_°ï1
(
u8_t
* 
p_ö
)

2711 
u8_t
 *
p_out
;

2712 
øi£com_out_t
 *
p_øi£_out
;

2713 
sys_√tw‹k_t
 
öfo
;

2714 
øi£com_hdr_t
 *
p_øi£com
;

2715 
ªt
 = 
NO_ERROR
;

2716 
rc_mng_vœn_t
 * 
p_mng_vœn
;

2718 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

2719 
p_øi£com
->
Àaf
)

2721 
RAISECOM_LEAF_SET_MNG_VLAN
:

2722 
p_mng_vœn
 = (
rc_mng_vœn_t
*)(
p_ö
 + (
øi£com_hdr_t
));

2723 if((
p_mng_vœn
->
vœn
<1) || (p_mng_vlan->vlan>4094))

2725 
	`RC_DBG
(("MANAGEMENT VLAN PARAMETERS ERROR!\n"));

2729 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_mng_vœn
->
vœn
);

2730 if(
ªt
 !
NO_ERROR
)

2732 
	`RC_DBG
(("MANAGEMENT VLAN SET FAILED!\n"));

2736 
RAISECOM_LEAF_SET_STATIC_MAC
:

2738 
	`rc_mac_°©ic_¥o˚ss
(
p_ö
);

2740 
RAISECOM_LEAF_GET_MULTICAST_MAC
:

2743 
	`rc_mac_gë_°©ic_mu…iˇ°
(
p_ö
);

2749 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

2750 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

2752 
p_øi£_out
->
p_code
 = 0x00000014;

2753 
p_øi£_out
->
ª£rved1
 = 0x20582314;

2754 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

2755 
p_øi£_out
->
ª£rved3
 = 0x00002000;

2756 
p_øi£_out
->
Àaf
 = 0x000073e9;

2757 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

2758 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

2759 
g_usOutD©aIdx
 +(
øi£com_out_t
);

2761 
	}
}

2766 
	$rc_£t_˛ass_ªm¨k_l2
(
rc_˛ass_m¨k_t
* 
p_ªm¨k
, 
rc_˛ass_m¨k_l2_t
* 
p_fûed
)

2768 
u8_t
 
aucZîo
[6] = {0};

2769 
ﬂm_˛asm¨k_ruÀbody_t
 
˛sRuÀ
;

2770 
ﬂm_˛asm¨k_fõldbody_t
 
˛sFõld
;

2772 if((
NULL
==
p_fûed
Ë|| (NULL==
p_ªm¨k
))

2778 
˛sRuÀ
.
ëhPriM¨k
 = (
p_ªm¨k
->
¥i
 & 0x0f);

2779 
˛sRuÀ
.
¥e˚dí˚OfRuÀ
 = 1;

2780 
˛sRuÀ
.
ÀnOfRuÀ
 = 0x0b;

2781 
˛sRuÀ
.
numOfFõld
 = 1;

2782 
˛sRuÀ
.
queueM≠≥d
 = 
p_ªm¨k
->
queue_m≠
;

2783 if(
p_fûed
->
ëh_ty≥
 != 0)

2785 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_ETHER_TYPE
;

2786 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2787 
˛sFõld
.
m©chVÆue
[4] = (
u8_t
)(
p_fûed
->
ëh_ty≥
>>8);

2788 
˛sFõld
.
m©chVÆue
[5] = (
u8_t
)(
p_fûed
->
ëh_ty≥
);

2789 
≠∂y
;

2791 if(
	`memcmp
(
p_fûed
->
smac
, 
aucZîo
, (aucZero)))

2793 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_SA_MAC
;

2794 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2795 
	`mem˝y
(
˛sFõld
.
m©chVÆue
, 
p_fûed
->
smac
, 6);

2796 
≠∂y
;

2799 if(
	`memcmp
(
p_fûed
->
dmac
, 
aucZîo
, (aucZero)))

2801 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_DA_MAC
;

2802 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2803 
	`mem˝y
(
˛sFõld
.
m©chVÆue
, 
p_fûed
->
smac
, 6);

2804 
≠∂y
;

2809 
≠∂y
:

2810 i‡(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPªc
(
p_ªm¨k
->
p‹t_ödex
&0xf, 0, &
˛sRuÀ
, &
˛sFõld
))

2812 
	`¥ötf
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

2815 
	}
}

2817 
	$rc_£t_˛ass_ªm¨k_l3
(
rc_˛ass_m¨k_t
* 
p_ªm¨k
, 
rc_˛ass_m¨k_l3_t
* 
p_fûed
)

2819 
ﬂm_˛asm¨k_ruÀbody_t
 
˛sRuÀ
;

2820 
ﬂm_˛asm¨k_fõldbody_t
 
˛sFõld
;

2822 if((
NULL
==
p_fûed
Ë|| (NULL==
p_ªm¨k
))

2828 
˛sRuÀ
.
ëhPriM¨k
 = (
p_ªm¨k
->
¥i
 & 0x0f) - 0x8;

2829 
˛sRuÀ
.
¥e˚dí˚OfRuÀ
 = 1;

2830 
˛sRuÀ
.
ÀnOfRuÀ
 = 0x0b;

2831 
˛sRuÀ
.
numOfFõld
 = 1;

2832 
˛sRuÀ
.
queueM≠≥d
 = 
p_ªm¨k
->
queue_m≠
;

2833 if(
p_fûed
->
ù_ty≥
 != 0)

2835 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_IP_TYPE
;

2836 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2837 
˛sFõld
.
m©chVÆue
[5] = 
p_fûed
->
ù_ty≥
;

2838 
≠∂y
;

2840 if(
p_fûed
->
sù
!= 0)

2842 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_SRC_IP
;

2843 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2844 
	`mem˝y
(&
˛sFõld
.
m©chVÆue
[2], &(
p_fûed
->
sù
), 4);

2845 
≠∂y
;

2848 if(
p_fûed
->
l4_•‹t
 != 0)

2850 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_L4_SRC_PORT
;

2851 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2852 
˛sFõld
.
m©chVÆue
[4] = (
u8_t
)(
p_fûed
->
l4_•‹t
 >> 8);

2853 
˛sFõld
.
m©chVÆue
[5] = (
u8_t
)(
p_fûed
->
l4_•‹t
);

2854 
≠∂y
;

2857 if(
p_fûed
->
dù
 != 0)

2859 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_DST_IP
;

2860 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2861 
	`mem˝y
(&
˛sFõld
.
m©chVÆue
[2], &(
p_fûed
->
dù
), 4);

2862 
≠∂y
;

2865 if(
p_fûed
->
l4_dp‹t
 != 0)

2867 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_L4_DST_PORT
;

2868 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2869 
˛sFõld
.
m©chVÆue
[4] = (
u8_t
)(
p_fûed
->
l4_dp‹t
 >> 8);

2870 
˛sFõld
.
m©chVÆue
[5] = (
u8_t
)(
p_fûed
->
l4_dp‹t
);

2871 
≠∂y
;

2875 
≠∂y
:

2876 i‡(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPªc
(
p_ªm¨k
->
p‹t_ödex
&0xf, 0, &
˛sRuÀ
, &
˛sFõld
))

2878 
	`¥ötf
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

2881 
	}
}

2883 
	$rc_£t_˛ass_ªm¨k_ds˝
(
rc_˛ass_m¨k_t
* 
p_ªm¨k
)

2885 
ﬂm_˛asm¨k_ruÀbody_t
 
˛sRuÀ
;

2886 
ﬂm_˛asm¨k_fõldbody_t
 
˛sFõld
;

2887 if(
NULL
 =
p_ªm¨k
)

2891 
˛sRuÀ
.
ëhPriM¨k
 = (
p_ªm¨k
->
¥i
&0x0f);

2892 
˛sRuÀ
.
¥e˚dí˚OfRuÀ
 = 1;

2893 
˛sRuÀ
.
ÀnOfRuÀ
 = 0x0b;

2894 
˛sRuÀ
.
numOfFõld
 = 1;

2895 
˛sRuÀ
.
queueM≠≥d
 = 
p_ªm¨k
->
queue_m≠
;

2897 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_IP_DSCP
;

2898 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2899 
˛sFõld
.
m©chVÆue
[5] = 
p_ªm¨k
->
vÆue_ödex
;

2901 i‡(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPªc
(
p_ªm¨k
->
p‹t_ödex
&0xf, 0, &
˛sRuÀ
, &
˛sFõld
))

2903 
	`¥ötf
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

2905 
	}
}

2907 
	$rc_£t_˛ass_ªm¨k_vœn
(
rc_˛ass_m¨k_t
* 
p_ªm¨k
)

2909 
ﬂm_˛asm¨k_ruÀbody_t
 
˛sRuÀ
;

2910 
ﬂm_˛asm¨k_fõldbody_t
 
˛sFõld
;

2911 if(
NULL
 =
p_ªm¨k
)

2915 
˛sRuÀ
.
ëhPriM¨k
 = (
p_ªm¨k
->
¥i
 & 0x0f) - 0x8;

2916 
˛sRuÀ
.
¥e˚dí˚OfRuÀ
 = 1;

2917 
˛sRuÀ
.
ÀnOfRuÀ
 = 0x0b;

2918 
˛sRuÀ
.
numOfFõld
 = 1;

2919 
˛sRuÀ
.
queueM≠≥d
 = 
p_ªm¨k
->
queue_m≠
;

2921 
˛sFõld
.
fõldSñe˘
 = 
OAM_CTC_CLS_FIELD_TYPE_VLAN_ID
;

2922 
˛sFõld
.
›î©‹
 = 
OAM_CLF_EQUAL
;

2923 
˛sFõld
.
m©chVÆue
[4] = (
u8_t
)(
p_ªm¨k
->
vÆue_ödex
 >> 8);

2924 
˛sFõld
.
m©chVÆue
[5] = (
u8_t
)(
p_ªm¨k
->
vÆue_ödex
);

2925 i‡(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPªc
(
p_ªm¨k
->
p‹t_ödex
&0xf, 0, &
˛sRuÀ
, &
˛sFõld
))

2927 
	`¥ötf
("\nfunc:%s,Üöe:%d\n",
__FUNCTION__
, 
__LINE__
);

2929 
	}
}

2940 
	$rc_˛ass_ªm¨k_¥o˚ss
(
u8_t
* 
p_ö
)

2942 
u8_t
 
ii
 = 0;

2943 
u8_t
 
j
 = 0;

2944 
u8_t
 
k
;

2945 
rc_˛ass_m¨k_t
* 
p_˛ass_hód
;

2946 
u8_t
 
ruÀsNum
 = 0;

2947 
u8_t
* 
p_§c
 = 
p_ö
;

2948 
rc_˛ass_m¨k_l2_t
* 
p_fûed
;

2949 
rc_˛ass_m¨k_l3_t
* 
p_l3_fûed
;

2950 
u8_t
 *
p_pos_fûed
;

2951 
rc_˛ass_ödex_t
 
auiCœss
[4];

2953 if(
NULL
 =
p_ö
)

2958 if(
ucFú°DownC⁄fig
 != 0)

2963 
ucFú°DownC⁄fig
 = 1;

2964 
	`mem£t
(&
auiCœss
, 0, (
rc_˛ass_ödex_t
)*4);

2967 
ii
=0; ii<4; ii++)

2969 
p_˛ass_hód
 = (
rc_˛ass_m¨k_t
*)
p_ö
;

2971 if((
p_˛ass_hód
->
p‹t_ödex
&0xfffffff0) != 0x009a24f0)

2975 
auiCœss
[
ii
].
˛ass_ty≥
 = 
p_˛ass_hód
->
¥i
&0xf0;

2976 
auiCœss
[
ii
].
uiIndex
 = 
p_˛ass_hód
->
vÆue_ödex
;

2977 
p_ö
 +(
rc_˛ass_m¨k_t
);

2978 
ruÀsNum
 ++;

2981 
p_˛ass_hód
 = (
rc_˛ass_m¨k_t
*)
p_§c
;

2982 
ii
=0; ii<
ruÀsNum
; ii++)

2984 
p_˛ass_hód
->
¥i
 & 0xf0)

2988 
p_pos_fûed
 = (
p_§c
 + (
rc_˛ass_m¨k_t
)*
ruÀsNum
);

2991 
j
=0; j<
ruÀsNum
; j++)

2993 
p_fûed
 = (
rc_˛ass_m¨k_l2_t
*)
p_pos_fûed
;

2994 if(
p_˛ass_hód
->
vÆue_ödex
 =
p_fûed
->value_index)

2996 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2997 
	`rc_£t_˛ass_ªm¨k_l2
(
p_˛ass_hód
, 
p_fûed
);

3004 
k
=0; k<
ruÀsNum
; k++)

3006 if(
auiCœss
[
k
].
uiIndex
 =
p_fûed
->
vÆue_ödex
)

3011 if(
k
 =
ruÀsNum
)

3013 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3016 if(
auiCœss
[
k
].
˛ass_ty≥
 == 0x10)

3019 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3020 
p_pos_fûed
 +(
rc_˛ass_m¨k_l2_t
);

3022 if(
auiCœss
[
k
].
˛ass_ty≥
 == 0x00)

3025 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3026 
p_pos_fûed
 +(
rc_˛ass_m¨k_l3_t
);

3030 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3038 
p_pos_fûed
 = (
p_§c
 + (
rc_˛ass_m¨k_t
)*
ruÀsNum
);

3039 
j
=0; j<
ruÀsNum
; j++)

3041 
p_l3_fûed
 = (
rc_˛ass_m¨k_l3_t
*)
p_pos_fûed
;

3042 if(
p_˛ass_hód
->
vÆue_ödex
 =
p_l3_fûed
->value_index)

3044 
	`rc_£t_˛ass_ªm¨k_l3
(
p_˛ass_hód
, 
p_l3_fûed
);

3045 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3052 
k
=0; k<
ruÀsNum
; k++)

3054 if(
auiCœss
[
k
].
uiIndex
 =
p_l3_fûed
->
vÆue_ödex
)

3059 
	`RC_DBG
(("[FILE] %†[LINE] %d %d\n", 
__FILE__
, 
__LINE__
, 
p_˛ass_hód
->
vÆue_ödex
));

3060 if(
k
 =
ruÀsNum
)

3062 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3065 if(
auiCœss
[
k
].
˛ass_ty≥
 == 0x10)

3068 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3069 
p_pos_fûed
 +(
rc_˛ass_m¨k_l2_t
);

3071 if(
auiCœss
[
k
].
˛ass_ty≥
 == 0x00)

3074 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3075 
p_pos_fûed
 +(
rc_˛ass_m¨k_l3_t
);

3079 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3086 
	`rc_£t_˛ass_ªm¨k_ds˝
(
p_˛ass_hód
);

3089 
	`rc_£t_˛ass_ªm¨k_vœn
(
p_˛ass_hód
);

3093 
p_˛ass_hód
++;

3095 
	}
}

3099 
	$øi£com_dow∆ﬂd_c⁄fig_°ï2
(
u8_t
* 
p_ö
)

3101 
u8_t
 *
p_out
;

3102 
øi£com_out_t
 *
p_øi£_out
;

3103 
øi£com_hdr_t
 *
p_øi£com
;

3104 
iRë
 = 
NO_ERROR
;

3105 
rc_c⁄fig_down_⁄u_t
* 
p_⁄u
;

3106 
rc_c⁄fig_down_p‹t_t
* 
p_p‹t
;

3107 
u32_t
 
a˘i⁄
 = 0;

3108 
u32_t
 
¥i‹ôy
;

3109 
u32_t
 
deÁu…_vœn
;

3110 
u32_t
 
vœ∆i°
[32];

3111 
u32_t
 
vœnIndex
 = 0;

3112 
u8_t
 *
p_pos_ªm¨k
;

3113 
ii
 = 0;

3114 
j
 = 0;

3115 
Õ‹t
;

3116 
u32_t
 
deÁu…Tag
, 
ﬁdTag
, 
√wTag
;

3117 
u32_t
 
uiVœnPaú
;

3118 
rc_å™¶©i⁄_∑ú_t
 *
p_å™¶©i⁄_∑ú
;

3119 
u8_t
 *
p_§c
;

3120 
u16_t
 
å™¶©i⁄_ruÀ_num
 = 0;

3122 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3123 
p_ö
 +(
øi£com_hdr_t
);

3125 
p_⁄u
 = (
rc_c⁄fig_down_⁄u_t
*)
p_ö
;

3126 
p_ö
 +(
rc_c⁄fig_down_⁄u_t
);

3127 
p_§c
 = 
p_ö
;

3129 
iRë
 = 
	`odmMu…iˇ°SwôchSë
(
p_⁄u
->
mvœn_mode
);

3130 
	`RC_DBG
(("£àmutiˇ° vœ¿modê%s\n", 
p_⁄u
->
mvœn_mode
==0?"snooping":"ctc-ctrl"));

3131 i‡(
NO_ERROR
 !
iRë
)

3133 
	`RC_DBG
(("\nFailedÅo set MULTICAST vlan.\n"));

3137 
p_å™¶©i⁄_∑ú
 = (
rc_å™¶©i⁄_∑ú_t
*)(
p_§c
 + (
rc_c⁄fig_down_p‹t_t
)*4);

3139 
j
=0; j<32; j++)

3142 if(
p_å™¶©i⁄_∑ú
->
ödex
 == 0x009a)

3145 if((
p_å™¶©i⁄_∑ú
->
ﬁdTag
&0xffff0000) != 0)

3150 
å™¶©i⁄_ruÀ_num
++;

3151 
p_å™¶©i⁄_∑ú
++;

3154 
	`RC_DBG
(("å™¶©i⁄É¡ny %d\n", 
å™¶©i⁄_ruÀ_num
));

3155 
Õ‹t
=1;Üport<=4;Üport++)

3157 
p_p‹t
 = (
rc_c⁄fig_down_p‹t_t
*)
p_ö
;

3158 
p_ö
 +(
rc_c⁄fig_down_p‹t_t
);

3160 
	`RC_DBG
(("SëÖ‹à%dÖhy_admö_˘æ %x\n", 
Õ‹t
, 
p_p‹t
->
phy_admö_˘æ
));

3161 
a˘i⁄
 = (
p_p‹t
->
phy_admö_˘æ
 & 
RC_CONFIG_FLOW_CONTROL_MASK
)==0?0:1;

3163 ()
	`DRV_SëP‹tFlowCål
(
Õ‹t
, 
a˘i⁄
);

3165 
	`RC_DBG
(("£àp‹à%d flow c⁄åﬁ %s\n", 
Õ‹t
, 
a˘i⁄
==1?"enable":"disable"));

3167 
a˘i⁄
 = (
p_p‹t
->
phy_admö_˘æ
 & 
RC_CONFIG_PHY_STATE_MASK
)==0?0:1;

3168 ()
	`DRV_SëP‹tLökSèã
 (
Õ‹t
, 
a˘i⁄
);

3169 
	`RC_DBG
(("£àp‹à%dÖhy sèã %s\n", 
Õ‹t
, 
a˘i⁄
==0?"enable":"disable"));

3170 
	`DRV_SëP‹tLöeR©e
(
Õ‹t
, 
DIRECT_IN
, 
p_p‹t
->
pﬁicög_ö_cú
);

3171 
	`DRV_SëP‹tLöeR©e
(
Õ‹t
, 
DIRECT_OUT
, 
p_p‹t
->
pﬁicög_ex_cú
);

3172 (
p_p‹t
->
phy_admö_˘æ
 & 
RC_CONFIG_VLAN_MODE_MASK
) >> 4)

3175 
iRë
 = 
	`CTC_DRV_SëTøn•¨ítVœn
(
Õ‹t
);

3176 
	`RC_DBG
(("£àp‹à%dÅøn•¨íàmode\n", 
Õ‹t
));

3177 i‡(
NO_ERROR
 !
iRë
)

3179 
	`RC_DBG
(("\nFaûedÅÿ£àå™•¨íàvœ¿f‹Ö‹à%d.\n",
Õ‹t
));

3183 
¥i‹ôy
 = 
p_p‹t
->
«tiveVœn
>>13;

3184 
deÁu…_vœn
 = (
p_p‹t
->
«tiveVœn
&0x1fff)>>1;

3186 
iRë
 = 
	`CTC_DRV_SëTagVœn
(
Õ‹t
, 
deÁu…_vœn
, 
¥i‹ôy
);

3187 
	`RC_DBG
(("£àp‹à%dÅaged mode\n", 
Õ‹t
));

3188 i‡(
NO_ERROR
 !
iRë
)

3190 
	`RC_DBG
(("\nFaûedÅÿ£àèg vœ¿f‹Ö‹à%d.\n",
Õ‹t
));

3194 
	`vosMemSë
(
vœ∆i°
, 0, (vlanlist));

3195 
vœnIndex
 = 0;

3196 
ii
=0; ii<8; ii++)

3199 
p_å™¶©i⁄_∑ú
 = (
rc_å™¶©i⁄_∑ú_t
*)(
p_§c
 + (
rc_c⁄fig_down_p‹t_t
)*4);

3200 if(0 =
p_p‹t
->
vœn_å™¶©e_ödex
[
ii
])

3205 
j
=0; j<
å™¶©i⁄_ruÀ_num
; j++)

3209 if(
p_å™¶©i⁄_∑ú
->
ödex
 =
p_p‹t
->
vœn_å™¶©e_ödex
[
ii
])

3211 
ﬁdTag
 = (
p_å™¶©i⁄_∑ú
->oldTag&0x1FFF)>>1;

3212 
√wTag
 = (
p_å™¶©i⁄_∑ú
->newTag&0x1FFF)>>1;

3213 
vœ∆i°
[
vœnIndex
++] = 
ﬁdTag
;

3214 
vœ∆i°
[
vœnIndex
++] = 
√wTag
;

3217 if(
p_å™¶©i⁄_∑ú
->
ödex
 == 0x009a)

3220 if((
p_å™¶©i⁄_∑ú
->
ﬁdTag
&0xffff0000) != 0)

3225 
p_å™¶©i⁄_∑ú
++;

3228 
deÁu…Tag
 = (
p_p‹t
->
«tiveVœn
&0x1fff)>>1;

3229 
iRë
 = 
	`CTC_DRV_SëTøn¶©i⁄Vœn
(
Õ‹t
, 
deÁu…Tag
, 
vœ∆i°
, (
vœnIndex
/2), \

3230 
CTC_VLAN_MODE_TRANSLATION
);

3231 i‡(
NO_ERROR
 !
iRë
)

3233 
	`RC_DBG
(("\nFaûedÅÿ£àå™¶©i⁄ f‹Ö‹à%d.\n",
Õ‹t
));

3240 
a˘i⁄
 = (
p_p‹t
->
phy_admö_˘æ
 & 
RC_CONFIG_ISOLATION_MASK
)==0?0:1;

3241 ()
	`DRV_SëP‹tIsﬁ©i⁄
(
Õ‹t
, 
a˘i⁄
);

3243 
iRë
 = 
	`rc_£t_p‹t_•du∂ex
(
Õ‹t
, 
p_p‹t
->
mode
);

3245 
a˘i⁄
 = (
RC_CONFIG_MVLAN_STRIP_MASK
 & 
p_p‹t
->
mvœn_èg_°rù
)==0 ?0:1;

3246 
iRë
 = 
	`odmMu…iˇ°Tag°rùSë
(
Õ‹t
,
a˘i⁄
);

3247 i‡(
NO_ERROR
 !
iRë
)

3249 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3252 
a˘i⁄
 = (
RC_CONFIG_MVLAN_FASTLEAVE_MASK
 & 
p_p‹t
->
mvœn_èg_°rù
)==0 ?0:1;

3253 ()
	`odmMu…iˇ°Fa°ÀaveModeSë
(
a˘i⁄
);

3254 
	`RC_DBG
(("£àp‹à%d fa°Àavê%s\n", 
Õ‹t
, 
a˘i⁄
==0?"disable":"enable"));

3256 
	`RC_DBG
(("£àp‹à%d max grou∞%d\n", 
Õ‹t
, 
p_p‹t
->
mvœn_ch™√l
));

3257 
iRë
 = 
	`odmMu…iˇ°GroupMaxNumSë
(
Õ‹t
, 
p_p‹t
->
mvœn_ch™√l
);

3258 i‡(
NO_ERROR
 !
iRë
)

3260 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3263 
	`odmMu…iˇ°VœnCÀ¨
(
Õ‹t
);

3265 
BOOL
 
	`CTC_CheckVÆidVidF‹Mcvœn
(
u32_t
 
uiMcVid
);

3266 if(
p_p‹t
->
mvœn
)

3268 i‡(
TRUE
 =
	`CTC_CheckVÆidVidF‹Mcvœn
(
p_p‹t
->
mvœn
))

3270 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3271 
	`odmMu…iˇ°VœnAdd
(
Õ‹t
, 
p_p‹t
->
mvœn
);

3275 
	`¥ötf
("p‹à%d mu…iˇ° vœ¿%d\n", 
Õ‹t
, 
p_p‹t
->
mvœn
);

3276 
	`¥ötf
("p‹à%dÖﬁicög_ex_cú %d\n", 
Õ‹t
, 
p_p‹t
->
pﬁicög_ex_cú
);

3277 
	`¥ötf
("p‹à%dÖﬁicög_ex_pú %d\n", 
Õ‹t
, 
p_p‹t
->
pﬁicög_ex_pú
);

3278 
	`¥ötf
("p‹à%dÖﬁicög_ö_cb†%d\n\n", 
Õ‹t
, 
p_p‹t
->
pﬁicög_ö_cbs
);

3281 
a˘i⁄
 = 
p_p‹t
->
˛ass_m¨k
==0 ? 0:1;

3282 
	`RC_DBG
(("£àp‹à%d cœs†m¨k %s\n", 
Õ‹t
, 
a˘i⁄
==0?"disable":"enable"));

3283 if(
a˘i⁄
)

3285 
	`RC_DBG
(("£àp‹à%d cœs†m¨k %d\n", 
Õ‹t
, 
p_p‹t
->
˛ass_m¨k
));

3291 
p_pos_ªm¨k
 = (
p_§c
 + (
rc_c⁄fig_down_p‹t_t
)*4 + 
å™¶©i⁄_ruÀ_num
*(
rc_å™¶©i⁄_∑ú_t
));

3293 
	`rc_˛ass_ªm¨k_¥o˚ss
(
p_pos_ªm¨k
);

3296 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3297 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3298 
p_øi£_out
->
p_code
 = 0x00000014;

3299 
p_øi£_out
->
ª£rved1
 = 0x20582314;

3300 
p_øi£_out
->
ª£rved2
 = 0x00000100;

3301 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3302 
p_øi£_out
->
Àaf
 = 0x00001005;

3303 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3304 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3305 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3307 
	}
}

3308 
	$øi£com_dow∆ﬂd_c⁄fig_f‹_å™¶©i⁄
(
u8_t
* 
p_ö
)

3310 
u8_t
 *
p_out
;

3311 
øi£com_out_t
 *
p_øi£_out
;

3312 
øi£com_hdr_t
 *
p_øi£com
;

3314 
u8_t
 * 
p_pos
 = 
NULL
;

3315 
u8_t
 
cmp_vÆue
[6] = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff};

3316 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3319 #i‚de‡
CONFIG_PRODUCT_5500


3321 
p_pos
 = 
p_ö
 + (
rc_c⁄fig_down_⁄u_t
Ë+ (
øi£com_hdr_t
)-8;

3322 if(!
	`memcmp
(
p_pos
, 
cmp_vÆue
, 6))

3324 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
);

3325 
£nd_r•
;

3328 
p_pos
 = 
p_ö
 + (
rc_c⁄fig_down_⁄u_t
Ë+ (
øi£com_hdr_t
);

3329 if(!
	`memcmp
(
p_pos
, 
cmp_vÆue
, 6))

3331 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 8);

3332 
£nd_r•
;

3336 
p_pos
 = 
p_ö
 + (
rc_c⁄fig_down_⁄u_t
Ë+ (
øi£com_hdr_t
)+8;

3337 if(!
	`memcmp
(
p_pos
, 
cmp_vÆue
, 6))

3339 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 16);

3340 
£nd_r•
;

3344 
p_pos
 = 
p_ö
 + (
rc_c⁄fig_down_⁄u_t
Ë+ (
øi£com_hdr_t
)+16;

3345 if(!
	`memcmp
(
p_pos
, 
cmp_vÆue
, 6))

3347 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 24);

3348 
£nd_r•
;

3352 
p_pos
 = 
p_ö
 + (
rc_c⁄fig_down_⁄u_t
Ë+ (
øi£com_hdr_t
)+24;

3353 if(!
	`memcmp
(
p_pos
, 
cmp_vÆue
, 6))

3355 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 32);

3356 
£nd_r•
;

3360 
p_øi£com
->
p_code
)

3376 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 16);

3396 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 24);

3405 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 32);

3409 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
 + 8);

3412 
	`øi£com_dow∆ﬂd_c⁄fig_°ï2
(
p_ö
);

3418 
£nd_r•
:

3420 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3421 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3422 
p_øi£_out
->
p_code
 = 0x00000014;

3423 
p_øi£_out
->
ª£rved1
 = 0x20582314;

3424 
p_øi£_out
->
ª£rved2
 = 0x00000100;

3425 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3426 
p_øi£_out
->
Àaf
 = 0x00001005;

3427 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3428 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3429 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3430 
	}
}

3449 
	$øi£com_£t_fûãr
(
u8_t
* 
p_ö
)

3451 
u8_t
 *
p_out
;

3452 
øi£com_out_t
 *
p_øi£_out
;

3453 
øi£com_hdr_t
 *
p_øi£com
;

3454 
rc_fûãr_∑π1_t
 *
p_fûãr1
 = 
NULL
;

3455 
rc_fûãr_∑π2_t
 *
p_fûãr2
 = 
NULL
;

3456 
ªt
 = 
NO_ERROR
;

3457 
u32_t
 
uVÆue_£t
 = 0;

3458 
u8_t
 
aVÆue_£t
[6] = {0};

3459 
u8_t
 
zîos
[6];

3460 
u8_t
 
fûãrTy≥
 = 0;

3461 
u32_t
 
fûãrEm±yE¡ry
;

3462 
u8_t
 
a˘
;

3463 
u8_t
 
p‹t
;

3464 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3465 
p_ö
 +(
øi£com_hdr_t
);

3467 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3469 
p_øi£com
->
Àaf
)

3473 
p_fûãr1
 = (
rc_fûãr_∑π1_t
 *)
p_ö
;

3474 
a˘
 = 
p_fûãr1
->
a˘i⁄
;

3475 
p‹t
 = 
p_fûãr1
->port;

3477 if(0 !
p_fûãr1
->
ù_¥Ÿﬁ
)

3479 
fûãrTy≥
 = 
ACL_TRUST_IPV4_PROTOCOL
;

3480 
uVÆue_£t
 = 
p_fûãr1
->
ù_¥Ÿﬁ
;

3483 if(0 !
p_fûãr1
->
•‹t
)

3485 
fûãrTy≥
 = 
ACL_TRUST_TCP_SPORT
;

3486 
uVÆue_£t
 = 
p_fûãr1
->
•‹t
;

3489 if(0 !
p_fûãr1
->
dp‹t
)

3491 
fûãrTy≥
 = 
ACL_TRUST_TCP_DPORT
;

3492 
uVÆue_£t
 = 
p_fûãr1
->
dp‹t
;

3495 if(0 !
p_fûãr1
->
sù
)

3497 
fûãrTy≥
 = 
ACL_TRUST_IPV4_SIP
;

3498 
uVÆue_£t
 = 
p_fûãr1
->
sù
;

3501 if(0 !
p_fûãr1
->
dù
)

3503 
fûãrTy≥
 = 
ACL_TRUST_IPV4_DIP
;

3504 
uVÆue_£t
 = 
p_fûãr1
->
dù
;

3509 
p_fûãr2
 = (
rc_fûãr_∑π2_t
*)
p_ö
;

3510 
a˘
 = 
p_fûãr2
->
a˘i⁄
;

3511 
p‹t
 = (
u8_t
)(
p_fûãr2
->port);

3513 
	`mem£t
(
zîos
, 0, 6);

3514 if(0 !
p_fûãr2
->
ëh_ty≥
)

3516 
fûãrTy≥
 = 
ACL_TRUST_ETHTYPE
;

3517 
uVÆue_£t
 = 
p_fûãr2
->
ëh_ty≥
;

3520 if(
	`memcmp
(
zîos
, 
p_fûãr2
->
smac
, 6))

3522 
fûãrTy≥
 = 
ACL_TRUST_SMAC
;

3523 
	`mem˝y
(
aVÆue_£t
, 
p_fûãr2
->
smac
, 6);

3526 if(
	`memcmp
(
zîos
, 
p_fûãr2
->
dmac
, 6))

3528 
	`mem˝y
(
aVÆue_£t
, 
p_fûãr2
->
dmac
, 6);

3529 
fûãrTy≥
 = 
ACL_TRUST_DMAC
;

3533 
	`RC_DBG
(("%S UNKOWN BRANTCH [%x]\n", 
__FILE__
, 
p_øi£com
->
Àaf
));

3536 if(0 !
fûãrTy≥
)

3539 if(
RAISECOM_NO
 =
a˘
)

3541 if((
ACL_TRUST_DMAC
!=
fûãrTy≥
Ë&& (
ACL_TRUST_SMAC
!=filterType))

3546 
	`mem˝y
(
aVÆue_£t
, &
uVÆue_£t
, 4);

3550 if((
ACL_TRUST_TCP_DPORT
==
fûãrTy≥
Ë|| (
ACL_TRUST_TCP_SPORT
==filterType))

3552 
	`fûãr_a˛_dñ_loˇl
((
u8_t
)
fûãrTy≥
+2, 
aVÆue_£t
);

3555 
	`fûãr_a˛_dñ_loˇl
((
u8_t
)
fûãrTy≥
, 
aVÆue_£t
);

3557 if(
RAISECOM_SET
 =
a˘
)

3559 
ªt
 = 
	`Io˘l_GëUni⁄Uöt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
fûãrEm±yE¡ry
);

3560 if(
ªt
 !
DRV_OK
)

3562 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3565 if((
ACL_TRUST_DMAC
==
fûãrTy≥
Ë|| (
ACL_TRUST_SMAC
==filterType))

3568 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

3569 
fûãrTy≥
,

3570 
ACL_DIRECTION_BOTH
,

3571 
aVÆue_£t
);

3572 
	`RC_DBG
(("mac : %02x%02x-%02x%02x-%02x%02x\n",

3573 
aVÆue_£t
[0],aValue_set[1],

3574 
aVÆue_£t
[2],aValue_set[3],

3575 
aVÆue_£t
[4],

3576 
aVÆue_£t
[5]

3578 
	`fûãr_a˛_add_loˇl
((
u8_t
)
fûãrTy≥
, 
fûãrEm±yE¡ry
, 
aVÆue_£t
);

3584 
	`mem˝y
(
aVÆue_£t
, &
uVÆue_£t
, 4);

3585 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

3586 
fûãrTy≥
,

3587 
ACL_DIRECTION_BOTH
,

3588 &
uVÆue_£t
);

3590 
ªt
 = 
	`fûãr_a˛_add_loˇl
(
fûãrTy≥
, 
fûãrEm±yE¡ry
, 
aVÆue_£t
);

3591 if(
NO_ERROR
 !
ªt
)

3593 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3598 if((
ACL_TRUST_TCP_DPORT
==
fûãrTy≥
Ë|| (
ACL_TRUST_TCP_SPORT
==filterType))

3600 
ªt
 = 
	`Io˘l_GëUni⁄Uöt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
fûãrEm±yE¡ry
);

3601 if(
ªt
 !
DRV_OK
)

3603 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3606 
ªt
 = 
	`Io˘l_AddA˛Fûãr
(
INVALID_PORT
, 
fûãrEm±yE¡ry
,

3607 
fûãrTy≥
+2,

3608 
ACL_DIRECTION_BOTH
,

3609 &
uVÆue_£t
);

3611 
ªt
 = 
	`fûãr_a˛_add_loˇl
(
fûãrTy≥
+2, 
fûãrEm±yE¡ry
, 
aVÆue_£t
);

3612 if(
NO_ERROR
 !
ªt
)

3614 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3623 
	`RC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3627 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3628 
p_øi£_out
->
p_code
 = 0x00640014;

3629 
p_øi£_out
->
ª£rved1
 = 0x61742314;

3630 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

3631 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3632 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3633 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3634 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3635 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3637 
	}
}

3639 
	$øi£com_£t_múr‹_m⁄ô‹
(
u8_t
* 
p_ö
)

3641 
u8_t
 *
p_out
;

3642 
øi£com_out_t
 *
p_øi£_out
;

3643 
øi£com_hdr_t
 *
p_øi£com
;

3644 
rc_p‹t_múr‹_t
 * 
p_p‹t_múr‹
;

3645 
rc_p‹t_m⁄ô‹_t
 *
p_p‹t_m⁄ô‹
;

3646 
u32_t
 
Õ‹t
;

3647 
u8_t
 
ödex
;

3648 
u8_t
 
múr‹_dúe˘i⁄
;

3649 
ªt
 = 
NO_ERROR
;

3650 
timevÆ
 
œ°TV
;

3651 
timevÆ
 
nowTV
;

3652 
u8_t
 
múr‹_ö_Êag
 = 0;

3653 
múr‹_a˘i⁄
 = 0;

3654 
u8_t
 
m⁄ô‹_p‹t_s
 = 0;

3655 
rc_múr‹_a˘_t
 *
p_múr‹_a˘
;

3658 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3659 
p_ö
 +(
øi£com_hdr_t
);

3667 
p_p‹t_múr‹
 = (
rc_p‹t_múr‹_t
*)
p_ö
;

3668 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3670 
p_p‹t_múr‹
->
mode
)

3676 
p_múr‹_a˘
 = (
rc_múr‹_a˘_t
*)
p_ö
;

3678 if(
p_múr‹_a˘
->
a˘
 == 2)

3680 
ödex
=1; index<5; index++)

3682 if(
m⁄ô‹_p‹t_s
 =
ödex
)

3686 ()
	`DRV_DñMúr‹
(
ödex
+1, 
BOTH_MIRROR
);

3688 ()
	`DRV_SëM⁄ô‹
(
m⁄ô‹_p‹t_s
+1 , 0);

3690 
m⁄ô‹_p‹t_s
 = 0;

3691 
£nd_r•
;

3695 
p_p‹t_m⁄ô‹
 = (
rc_p‹t_m⁄ô‹_t
*)
p_ö
;

3697 if(
m⁄ô‹_p‹t_s
 && (m⁄ô‹_p‹t_†!
p_p‹t_m⁄ô‹
->
p‹t
))

3700 
ªt
 = 
ERROR
;

3701 
£nd_r•
;

3703 
m⁄ô‹_p‹t_s
 = 
p_p‹t_m⁄ô‹
->
p‹t
;

3705 ()
	`DRV_SëM⁄ô‹
(
p_p‹t_m⁄ô‹
->
p‹t
+1, 1);

3706 
£nd_r•
;

3710 if((0!=
p_p‹t_múr‹
->
ögªss_mask_u∂ök
Ë|| !
m⁄ô‹_p‹t_s
)

3712 
ªt
 = 
ERROR
;

3713 
£nd_r•
;

3716 
p_p‹t_múr‹
->
ögªss_mask
)

3719 
Õ‹t
 = 1;

3720 
múr‹_ö_Êag
 = 1;

3721 
múr‹_a˘i⁄
 = 1;

3725 
Õ‹t
 = 2;

3726 
múr‹_ö_Êag
 = 1;

3727 
múr‹_a˘i⁄
 = 1;

3730 
Õ‹t
 = 3;

3731 
múr‹_ö_Êag
 = 1;

3732 
múr‹_a˘i⁄
 = 1;

3735 
Õ‹t
 = 4;

3736 
múr‹_ö_Êag
 = 1;

3737 
múr‹_a˘i⁄
 = 1;

3740 
Õ‹t
 = 0;

3744 
ªt
 = 
ERROR
;

3745 
£nd_r•
;

3749 
	`gëtimeofday
 (&
œ°TV
, 
NULL
);

3750 
múr‹_dúe˘i⁄
 = 
IN_MIRROR
;

3758 if((0!=
p_p‹t_múr‹
->
egªss_mask_u∂ök
Ë|| !
m⁄ô‹_p‹t_s
)

3760 
ªt
 = 
ERROR
;

3761 
£nd_r•
;

3764 
p_p‹t_múr‹
->
egªss_mask
)

3767 
Õ‹t
 = 1;

3768 
múr‹_a˘i⁄
 = 1;

3772 
Õ‹t
 = 2;

3773 
múr‹_a˘i⁄
 = 1;

3776 
Õ‹t
 = 3;

3777 
múr‹_a˘i⁄
 = 1;

3780 
Õ‹t
 = 4;

3781 
múr‹_a˘i⁄
 = 1;

3785 
Õ‹t
 = 0;

3788 
ªt
 = 
ERROR
;

3789 
£nd_r•
;

3792 
	`gëtimeofday
(&
nowTV
, 
NULL
);

3793 if(
múr‹_ö_Êag
)

3795 if(((
nowTV
.
tv_£c
-
œ°TV
.tv_sec)*1000000 +nowTV.tv_sec-lastTV.tv_sec) > 2000000)

3799 
múr‹_dúe˘i⁄
 = 
OUT_MIRROR
;

3803 
múr‹_dúe˘i⁄
 = 
BOTH_MIRROR
;

3808 if(((
nowTV
.
tv_£c
-
œ°TV
.tv_sec)*1000000 +nowTV.tv_sec-lastTV.tv_sec) > 2000000)

3810 
múr‹_dúe˘i⁄
 = 
OUT_MIRROR
;

3814 
múr‹_dúe˘i⁄
 = 
BOTH_MIRROR
;

3818 
múr‹_ö_Êag
 = 0;

3821 
ªt
 = 
ERROR
;

3822 
£nd_r•
;

3826 if(1 =
múr‹_a˘i⁄
)

3829 if(
m⁄ô‹_p‹t_s
 =
Õ‹t
)

3831 
ªt
 = 
ERROR
;

3832 
£nd_r•
;

3836 ()
	`DRV_DñMúr‹
(
Õ‹t
+1, 
BOTH_MIRROR
);

3838 ()
	`DRV_AddMúr‹
(
Õ‹t
+1, 
múr‹_dúe˘i⁄
);

3843 
ödex
=1; index<=4; index++)

3845 if(
m⁄ô‹_p‹t_s
 =
ödex
)

3850 ()
	`DRV_DñMúr‹
(
ödex
+1, 
múr‹_dúe˘i⁄
);

3854 
£nd_r•
:

3855 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3856 
p_øi£_out
->
p_code
 = 0x00000014;

3857 if(
NO_ERROR
 !
ªt
)

3859 
p_øi£_out
->
ª£rved1
 = 0x00002314 +1;

3863 
p_øi£_out
->
ª£rved1
 = 0x00002314;

3865 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

3866 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3867 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3868 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3869 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3870 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3871 
	}
}

3874 
	$øi£com_£t_ho°«me
(
u8_t
* 
p_ö
)

3876 
u8_t
 *
p_out
;

3877 
øi£com_out_t
 *
p_øi£_out
;

3878 
øi£com_hdr_t
 *
p_øi£com
;

3879 
u8_t
 
cHo°Name
[16 + 1]={0};

3880 
ªt
 = 
ERROR
;

3881 
u16_t
 
ho°«me_Àn
 = 0;

3883 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3884 
p_ö
 +(
øi£com_hdr_t
);

3887 if(*(
p_ö
+16) != 0)

3889 
£nd_r•
;

3892 if(!
	`ißÕha
(*
p_ö
))

3894 
£nd_r•
;

3896 
	`mem˝y
(
cHo°Name
, 
p_ö
, 16);

3899 
£nd_r•
:

3900 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3902 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3903 
p_øi£_out
->
p_code
 = 0x00000014;

3904 if(
ªt
 !
NO_ERROR
)

3906 
p_øi£_out
->
ª£rved1
 = 0x00002314 + 1;

3910 
p_øi£_out
->
ª£rved1
 = 0x00002314;

3912 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

3913 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3914 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3915 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3916 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3917 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3918 
	}
}

3920 
	$øi£com_°©i°ic
(
u8_t
* 
p_ö
)

3922 
u8_t
 *
p_out
;

3923 
øi£com_out_t
 *
p_øi£_out
;

3924 
øi£com_hdr_t
 *
p_øi£com
;

3926 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3927 
p_ö
 +(
øi£com_hdr_t
);

3929 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3931 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3932 
p_øi£_out
->
p_code
 = 0x0000012c;

3933 
p_øi£_out
->
ª£rved1
 = 0xfc982314;

3934 
p_øi£_out
->
ª£rved2
 = 0x011800e0;

3935 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3936 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3937 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3938 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3939 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3942 
	}
}

3945 
	$øi£com_£t_•™nög_åì
(
u8_t
* 
p_ö
)

3947 
u8_t
 *
p_out
;

3948 
øi£com_out_t
 *
p_øi£_out
;

3949 
øi£com_hdr_t
 *
p_øi£com
;

3951 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3952 
p_ö
 +(
øi£com_hdr_t
);

3954 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3956 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3957 
p_øi£_out
->
p_code
 = 0x00000014;

3958 
p_øi£_out
->
ª£rved1
 = 0x00002314;

3959 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

3960 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3961 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3962 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3963 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3964 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3967 
	}
}

3969 
	$øi£com_£t_µp€
(
u8_t
* 
p_ö
)

3971 
u8_t
 *
p_out
;

3972 
øi£com_out_t
 *
p_øi£_out
;

3973 
øi£com_hdr_t
 *
p_øi£com
;

3975 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

3976 
p_ö
 +(
øi£com_hdr_t
);

3978 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

3980 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

3981 
p_øi£_out
->
p_code
 = 0x00000014;

3982 
p_øi£_out
->
ª£rved1
 = 0x00002314;

3983 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

3984 
p_øi£_out
->
ª£rved3
 = 0x00002000;

3985 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

3986 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

3987 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

3988 
g_usOutD©aIdx
 +(
øi£com_out_t
);

3990 
	}
}

3993 
	$øi£com_£t_°©ic_mu…ˇ°_mac
(
u8_t
* 
p_ö
)

3995 
u8_t
 *
p_out
;

3996 
øi£com_out_t
 *
p_øi£_out
;

3997 
øi£com_hdr_t
 *
p_øi£com
;

3998 
rc_mac_°©ic_mul_t
* 
p_mac
;

3999 
rc_mac_böd_t
 
böd_mac
;

4000 
u8_t
 
p‹t
 = 0;

4002 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4003 
p_ö
 +(
øi£com_hdr_t
);

4004 
p_mac
 = (
rc_mac_°©ic_mul_t
*)
p_ö
;

4006 
p_mac
->
p‹t_mask
)

4009 
p‹t
 = 1;

4012 
p‹t
 = 2;

4015 
p‹t
 = 3;

4018 
p‹t
 = 4;

4020 
defu…
:

4024 
p_mac
->
a˘
)

4026 
MAC_BIND_SET
:

4027 
	`mem£t
(&
böd_mac
, 0, (
rc_mac_böd_t
));

4028 
	`mem˝y
(
böd_mac
.
mac
, 
p_mac
->mac, 6);

4029 
böd_mac
.
p‹t
 =Öort;

4030 
böd_mac
.
vœn

p_mac
->vlan;

4031 
	`rc_p‹t_°©ic_mac_add
(&
böd_mac
);

4033 
MAC_BIND_SET_UNDO
:

4034 
	`mem£t
(&
böd_mac
, 0, (
rc_mac_böd_t
));

4035 
	`mem˝y
(
böd_mac
.
mac
, 
p_mac
->mac, 6);

4036 
böd_mac
.
vœn

p_mac
->vlan;

4037 
	`rc_p‹t_°©ic_mac_dñ
(&
böd_mac
);

4043 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4045 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4046 
p_øi£_out
->
p_code
 = 0x00010014;

4047 
p_øi£_out
->
ª£rved1
 = 0x00002314;

4048 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4049 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4050 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4051 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4052 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4053 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4055 
	}
}

4058 
	$rc_dh˝_›ti⁄82_¥o˚ss
(
u8_t
* 
p_ö
)

4060 
u8_t
 *
p_out
;

4061 
øi£com_out_t
 *
p_øi£_out
;

4062 
øi£com_hdr_t
 *
p_øi£com
;

4063 
rc_dh˝_t
* 
p_dh˝_›ti⁄82
;

4064 
rc_dh˝_›ti⁄82_fõld_t
 *
p_›ti⁄82_fõld
;

4065 
rc_dh˝_›ti⁄82_mode_t
* 
p_›ti⁄82_mode
;

4067 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4068 
p_ö
 +(
øi£com_hdr_t
);

4070 
p_dh˝_›ti⁄82
 = (
rc_dh˝_t
*)
p_ö
;

4072 
p_dh˝_›ti⁄82
->
bønch
)

4079 
p_›ti⁄82_mode
 = (
rc_dh˝_›ti⁄82_mode_t
*)
p_ö
;

4080 
p_›ti⁄82_mode
->
mode
)

4106 
p_›ti⁄82_fõld
 = (
rc_dh˝_›ti⁄82_fõld_t
*)
p_ö
;

4112 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4114 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4115 
p_øi£_out
->
p_code
 = 0x00000014;

4116 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4117 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4118 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4119 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4120 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4121 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4122 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4123 
	}
}

4126 
	$øi£com_dh˝_öf‹m©i⁄
(
u8_t
* 
p_ö
)

4128 
u8_t
 *
p_out
;

4129 
øi£com_out_t
 *
p_øi£_out
;

4130 
øi£com_hdr_t
 *
p_øi£com
;

4132 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4133 
p_ö
 +(
øi£com_hdr_t
);

4135 
p_øi£com
->
Àaf
)

4139 
	`rc_dh˝_›ti⁄82_¥o˚ss
(
p_ö
);

4145 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4147 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4148 
p_øi£_out
->
p_code
 = 0x00000014;

4149 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4150 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4151 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4152 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4153 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4154 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4155 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4156 
	}
}

4158 
	$rc_dh˝_ªœy
(
u8_t
* 
p_ö
)

4160 
u8_t
 *
p_out
;

4161 
øi£com_out_t
 *
p_øi£_out
;

4162 
øi£com_hdr_t
 *
p_øi£com
;

4163 
rc_dh˝_t
* 
p_dh˝_ªœy
;

4164 
rc_dh˝_a˘_t
* 
p_a˘
;

4166 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4167 
p_ö
 +(
øi£com_hdr_t
);

4169 
p_dh˝_ªœy
 = (
rc_dh˝_t
*)
p_ö
;

4170 
p_dh˝_ªœy
->
bønch
)

4175 
p_a˘
 = (
rc_dh˝_a˘_t
*)
p_ö
;

4176 
p_a˘
->
a˘
)

4178 
RAISECOM_ENABLE
:

4180 
RAISECOM_DISABLE
:

4189 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4191 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4192 
p_øi£_out
->
p_code
 = 0x00000014;

4193 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4194 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4195 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4196 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4197 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4198 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4199 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4200 
	}
}

4204 
	$øi£com_dh˝_ªœy
(
u8_t
* 
p_ö
)

4206 
u8_t
 *
p_out
;

4207 
øi£com_out_t
 *
p_øi£_out
;

4208 
øi£com_hdr_t
 *
p_øi£com
;

4210 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4212 
p_øi£com
->
Àaf
)

4216 
	`rc_dh˝_ªœy
(
p_ö
);

4221 
p_ö
 +(
øi£com_hdr_t
);

4222 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4224 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4225 
p_øi£_out
->
p_code
 = 0x00000014;

4226 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4227 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4228 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4229 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4230 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4231 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4232 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4233 
	}
}

4235 
	$rc_dh˝_¢o›ög
(
u8_t
* 
p_ö
)

4237 
u8_t
 *
p_out
;

4238 
øi£com_out_t
 *
p_øi£_out
;

4239 
øi£com_hdr_t
 *
p_øi£com
;

4240 
rc_dh˝_t
* 
p_dh˝_ªœy
;

4241 
rc_dh˝_a˘_t
* 
p_a˘
;

4242 
rc_dh˝_¢o›ög_t
 *
p_¢o›ög
;

4244 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4245 
p_ö
 +(
øi£com_hdr_t
);

4247 
p_dh˝_ªœy
 = (
rc_dh˝_t
*)
p_ö
;

4249 
p_dh˝_ªœy
->
bønch
)

4253 
p_a˘
 = (
rc_dh˝_a˘_t
*)
p_ö
;

4254 
p_a˘
->
a˘
)

4256 
RAISECOM_ENABLE
:

4258 
RAISECOM_DISABLE
:

4265 
p_¢o›ög
 = (
rc_dh˝_¢o›ög_t
*)
p_ö
;

4266 
p_¢o›ög
->
a˘
)

4268 
RAISECOM_ENABLE
:

4270 
RAISECOM_DISABLE
:

4279 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4281 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4282 
p_øi£_out
->
p_code
 = 0x00000014;

4283 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4284 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4285 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4286 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4287 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4288 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4289 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4290 
	}
}

4294 
	$øi£com_dh˝_¢o›ög
(
u8_t
* 
p_ö
)

4296 
u8_t
 *
p_out
;

4297 
øi£com_out_t
 *
p_øi£_out
;

4298 
øi£com_hdr_t
 *
p_øi£com
;

4300 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4301 
p_ö
 +(
øi£com_hdr_t
);

4303 
p_øi£com
->
Àaf
)

4307 
	`rc_dh˝_¢o›ög
(
p_ö
);

4313 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4315 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4316 
p_øi£_out
->
p_code
 = 0x00000014;

4317 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4318 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4319 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4320 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4321 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4322 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4323 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4324 
	}
}

4327 
	$øi£com_µp€
(
u8_t
* 
p_ö
)

4329 
u8_t
 *
p_out
;

4330 
øi£com_out_t
 *
p_øi£_out
;

4331 
øi£com_hdr_t
 *
p_øi£com
;

4333 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4334 
p_ö
 +(
øi£com_hdr_t
);

4336 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4338 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4339 
p_øi£_out
->
p_code
 = 0x00000014;

4340 
p_øi£_out
->
ª£rved1
 = 0x20482314;

4341 
p_øi£_out
->
ª£rved2
 = 0x000000e0;

4342 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4343 
p_øi£_out
->
Àaf
 = 
p_øi£com
->leaf;

4344 
p_øi£_out
->
£quí˚_l
 = 
p_øi£com
->sequence_l;

4345 
p_øi£_out
->
£quí˚_s
 = 
p_øi£com
->sequence_s;

4346 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4347 
	}
}

4349 
	$øi£com_£nd_unkown_60_1
(
u8_t
* 
p_ö
)

4351 
u8_t
 *
p_out
;

4352 
øi£com_out_t
 *
p_øi£_out
;

4353 
øi£com_hdr_t
 *
p_øi£com
;

4354 
u8_t
 
ãmp_buf
[] =

4360 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4361 
p_ö
 +(
øi£com_hdr_t
);

4363 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4365 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4366 
p_øi£_out
->
p_code
 = 0x00b00060;

4367 
p_øi£_out
->
ª£rved1
 = 0xc0a82014;

4368 
p_øi£_out
->
ª£rved2
 = 0x004c03e0;

4369 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4371 
p_øi£_out
->
Àaf
 = 0x200a;

4372 
p_øi£_out
->
£quí˚_l
 = 0;

4373 
p_øi£_out
->
£quí˚_s
 = 0;

4374 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4375 
p_out
 +(
øi£com_out_t
);

4377 
	`mem˝y
(
p_out
, 
ãmp_buf
, (temp_buf));

4378 
g_usOutD©aIdx
 += 76;

4380 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

4381 
g_usOutD©aIdx
 = 0;

4382 
	}
}

4384 
	$øi£com_£nd_unkown_60_0
(
u8_t
* 
p_ö
)

4386 
u8_t
 *
p_out
;

4387 
øi£com_out_t
 *
p_øi£_out
;

4388 
øi£com_hdr_t
 *
p_øi£com
;

4389 
u8_t
 
ãmp_buf
[] =

4396 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4397 
p_ö
 +(
øi£com_hdr_t
);

4399 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_øi£com
);

4401 
p_øi£_out
 = (
øi£com_out_t
*)
p_out
;

4402 
p_øi£_out
->
p_code
 = 0x00b00060;

4403 
p_øi£_out
->
ª£rved1
 = 0x2014;

4404 
p_øi£_out
->
ª£rved2
 = 0x004c03e0;

4405 
p_øi£_out
->
ª£rved3
 = 0x00002000;

4407 
p_øi£_out
->
Àaf
 = 0x200a;

4408 
p_øi£_out
->
£quí˚_l
 = 0;

4409 
p_øi£_out
->
£quí˚_s
 = 0;

4410 
g_usOutD©aIdx
 +(
øi£com_out_t
);

4411 
p_out
 +(
øi£com_out_t
);

4413 
	`mem˝y
(
p_out
, 
ãmp_buf
, (temp_buf));

4414 
g_usOutD©aIdx
 += 76;

4416 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

4417 
g_usOutD©aIdx
 = 0;

4418 
	}
}

4421 
	$e›l_rc_pdu_ª˚ive
(
u8_t
 *
p_ö
, 
u16_t
 
Àngth
)

4423 
øi£com_hdr_t
 *
p_øi£com
;

4425 *
pucBuf
;

4426 
u8_t
 *
pbuf
;

4427 
u32_t
 
ödex
;

4428 
u8_t
 *
p_out
;

4429 
øi£com_out_t
 *
p_øi£_out
;

4431 
p_øi£com
 = (
øi£com_hdr_t
*)
p_ö
;

4432 #i‚de‡
CONFIG_PRODUCT_5500


4434 if(0x00001002 =
p_øi£com
->
Àaf
)

4437 
	`øi£com_£t_ho°«me
(
p_ö
);

4438 
£nd_r•
;

4441 if(0x00001005 =
p_øi£com
->
Àaf
)

4443 
	`øi£com_dow∆ﬂd_c⁄fig_f‹_å™¶©i⁄
(
p_ö
);

4444 
£nd_r•
;

4446 
p_øi£com
->
p_code
)

4449 
	`øi£com_gë_ªque°
(
p_ö
);

4452 
	`øi£com_£t_c⁄fig
(
p_ö
);

4454 #i‚de‡
CONFIG_PRODUCT_5500


4456 
	`øi£com_£t_mng_ù
(
p_ö
);

4459 
	`øi£com_dow∆ﬂd_c⁄fig_°ï1
(
p_ö
);

4462 
	`øi£com_gë_mng_ù_°ï2
(
p_ö
);

4465 
	`øi£com_£t_bønch1
(
p_ö
);

4469 
	`øi£com_£t_fûãr
(
p_ö
);

4473 
	`øi£com_£t_múr‹_m⁄ô‹
(
p_ö
);

4478 
	`øi£com_£t_µp€
(
p_ö
);

4482 
	`øi£com_£t_°©ic_mu…ˇ°_mac
(
p_ö
);

4485 
	`øi£com_dh˝_öf‹m©i⁄
(
p_ö
);

4488 
	`øi£com_dh˝_ªœy
(
p_ö
);

4491 
	`øi£com_dh˝_¢o›ög
(
p_ö
);

4494 
	`øi£com_µp€
(
p_ö
);

4501 
£nd_r•
:

4502 if(
g_usOutD©aIdx
 < 70)

4504 
	`mem£t
(&
out_d©a
[
g_usOutD©aIdx
], 0, 
OAM_MINIMIZE_PDU_SIZE
 - g_usOutDataIdx);

4505 
g_usOutD©aIdx
 = 70;

4507 
out_d©a
[0] = 
OAM_LOGIG_PON_PORT
;

4508 
	`e›l_ho°_£nd
(
out_d©a
, 
g_usOutD©aIdx
);

4509 
g_usOutD©aIdx
 = 0;

4511 
	}
}

4514 
sock_fûãr
 
	gﬂm_rc_bpf_fûãr
 [] = {

4516 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 12),

4517 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 2),

4518 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 13 ),

4519 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 4, 0),

4521 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 12 + 4),

4522 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 3),

4523 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 13 + 4),

4524 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 1),

4526 
BPF_STMT
(
BPF_RET
+
BPF_K
,0x7fffffff),

4528 
BPF_STMT
(
BPF_RET
+
BPF_K
,0),

4531 
VOID
 
	$rc_£tup_sockë_fûãr
(
INT
 
s
)

4533 
sock_Ârog
 
p
;

4537 
p
.
Àn
 = (
ﬂm_rc_bpf_fûãr
)/ (
sock_fûãr
);

4538 
p
.
fûãr
 = 
ﬂm_rc_bpf_fûãr
;

4540 
	`£tsock›t
–
s
, 
SOL_SOCKET
, 
SO_ATTACH_FILTER
, &
p
, (p));

4543 
	}
}

4545 
	$ﬂm_øi£com_pkt_¥o˚ss
(* 
pkt
, 
UINT16
 
Àn
)

4547 
ho°_öbound_hdr_t
 *
p°InHódî
 = 
NULL
;

4548 
UINT8
 
ucP‹t
;

4549 
UINT32
 
ödex
;

4550 *
pucBuf
;

4552 i‡(
NULL
 =
pkt
 || 0 =
Àn
)

4555 
pucBuf
 = (*)
pkt
;

4557 
	`¥ötf
("\r\nRcv Pkà‰om PON/GE,Üí=%u\r\n",
Àn
);

4559 
ödex
 = 0; index < 
Àn
; index++)

4561 if((
ödex
 != 0) && (index%16 == 0))

4563 
	`¥ötf
("\r\n%02x ",(
UINT8
)
pucBuf
[
ödex
]);

4567 
	`¥ötf
("%02x ",(
UINT8
)
pucBuf
[
ödex
]);

4570 
	`¥ötf
("\r\n");

4572 if(((
UINT8
)
pucBuf
[16 + 4] == 0xfe) && ((UINT8)pucBuf[17 + 4] == 0xfe))

4574 
	`e›l_rc_pdu_ª˚ive
((
UINT8
 *)
pkt
 + 4, 
Àn
 - 4);

4577 
	}
}

4579 
INT16
 
	$ﬂm_ho°_sockë_ªcv
(
sockë_fd
)

4581 
	#CPU_HEAD_LEN
 4

	)

4582 
ho°_öbound_hdr_t
 *
±r_pkt_hdr
;

4583 
ﬂm_rcv_pkt
[2048];

4584 * 
pBuff
 = 
ﬂm_rcv_pkt
;

4585 
ho°_öbound_hdr_t
 *
p°InHódî
 = (ho°_öbound_hdr_à*)
pBuff
;

4587 
INT32
 
usLí
;

4588 
INT32
 
cou¡î
=0;

4590 
msghdr
 
msg
;

4591 
iovec
 
iov
;

4592 
mw_l2_˘l_s
 
l2_˘l
;

4595 
pBuff
[0]=0;

4596 
pBuff
[1]=0;

4597 
pBuff
[2]=0;

4598 
pBuff
[3]=0;

4600 
	`mem£t
(&
msg
, 0, (msg));

4601 
	`mem£t
(&
iov
, 0, (iov));

4602 
	`mem£t
(&
l2_˘l
, 0, (l2_ctl));

4603 
iov
.
iov_ba£
 = (*)&
pBuff
[
CPU_HEAD_LEN
];

4604 
iov
.
iov_Àn
 = 2048-
CPU_HEAD_LEN
;

4605 
msg
.
msg_iov
 = &
iov
;

4606 
msg
.
msg_iovÀn
 = 1;

4607 
msg
.
msg_c⁄åﬁ
 = &
l2_˘l
;

4608 
msg
.
msg_c⁄åﬁÀn
 = (
l2_˘l
);

4610 (
usLí
 = 
	`ªcvmsg
(
sockë_fd
, &
msg
, 0)) > 0)

4612 
usLí
+=
CPU_HEAD_LEN
;

4614 
p°InHódî
->
ù‹t
 = 
l2_˘l
.
¶l_p‹t
;

4615 
p°InHódî
->
ª£rved
 = 0;

4618 
	`ﬂm_øi£com_pkt_¥o˚ss
((*)
pBuff
, 
usLí
);

4620 
±r_pkt_hdr
 = (
ho°_öbound_hdr_t
 *)
pBuff
;

4624 
	`¥ötf
("\r PacketÑeceived from Host interface:\n"

4626 ,
±r_pkt_hdr
->
ù‹t
);

4628 
cou¡î
++;

4629 i‡(
cou¡î
 > 32)

4632 
msg
.
msg_c⁄åﬁ
 = &
l2_˘l
;

4633 
msg
.
msg_c⁄åﬁÀn
 = (
l2_˘l
);

4637 
	}
}

4641 *
	$ï⁄_ﬂm_øi£com_thªad
(*
¨gu
)

4643 
øw_sockë
;

4644 
sockaddr_Œ
 
¶l
;

4645 
i‰eq
 
if°ru˘
;

4647 
øw_sockë
 = 
	`sockë
(
PF_PACKET
, 
SOCK_RAW
, 
	`ht⁄s
(
ETH_P_ALL
));

4648 i‡(0 > 
øw_sockë
){

4649 
	`¥ötf
("raw_socket socket createÉrror!\n");

4653 
	`°r˝y
(
if°ru˘
.
i‰_«me
, "eth0");

4654 
	`io˘l
(
øw_sockë
, 
SIOCGIFINDEX
, &
if°ru˘
);

4656 
	`rc_£tup_sockë_fûãr
(
øw_sockë
);

4658 
	`mem£t
–&
¶l
, 0, (sll) );

4659 
¶l
.
¶l_Ámûy
 = 
AF_PACKET
;

4660 
¶l
.
¶l_ifödex
 = 
if°ru˘
.
i‰_ifödex
;

4661 
¶l
.
¶l_¥Ÿocﬁ
 = 
	`ht⁄s
(
ETH_P_ALL
);

4663 if(
	`böd
(
øw_sockë
, (
sockaddr
 *Ë&
¶l
, (sll)) == -1 ){

4664 
	`¥ötf
("\nraw_socket bind createÉrror!\n");

4669 if(
	`vosHWAddrGë
("ëh0", 
ho°Mac
Ë!
NO_ERROR
) {

4670  
OPL_ERROR
;

4674 
	`ﬂm_ho°_sockë_ªcv
(
øw_sockë
);

4675 
	`vosUSÀï
(1000);

4678 
	`vosThªadExô
(0);

4679 
	}
}

	@src/vendor/yotc.c

1 
	~<°dio.h
>

2 
	~<°rög.h
>

3 
	~<°dlib.h
>

4 
	~<mÆloc.h
>

5 
	~<sys/ty≥s.h
>

6 
	~<sys/°©.h
>

7 
	~<sys/sockë.h
>

8 
	~<√töë/ö.h
>

9 
	~<√t/if.h
>

12 
	~"ï⁄_ﬂm_c⁄fig.h
"

13 
	~"ï⁄_ﬂm_îr.h
"

14 
	~"ï⁄_ﬂm_db.h
"

15 
	~"ï⁄_ﬂm_dbg.h
"

16 
	~"ï⁄_ﬂm_rx.h
"

18 
	~"˘c_ﬂm.h
"

19 
	~"˘c_ﬂm_v¨.h
"

21 
	~"ﬂm.h
"

22 
	~"h3c.h
"

24 
	~"ùc_˛õ¡.h
"

25 
	~"ﬂm_lw.h
"

28 
	~"lw_drv_pub.h
"

29 
	~"lw_drv_ªq.h
"

30 
	~"yŸc.h
"

31 
	~"lw_c⁄fig.h
"

34 
	#MODULE
 
MOD_OAM


	)

36 
	#MAX_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

38 
ùc_fd
;

41 
	#YOTC_DBG
(
°rög
Ë{\

	)

43 
¥ötf
 
	g°rög
;\

47 
	#YOTC_DBG
(
°rög
)

	)

50 
	#EOPL_YOTC_HEADER_PROCESS
(
code
)\

	)

52 
	gp_out
 = &
out_d©a
[0]; \

53 
e›l_ﬂm_pdu_hdr
(
p_out
, 
ﬂms
.
Êags
, 
OAM_CODE_ORG_SPEC
); \

54 
	gp_out
 +(
ﬂmpdu_hdr_t
); \

55 
vosMemCpy
(((
yŸc_hódî_t
*)
p_out
)->
oui
, 
yŸc_oui
, 3); \

56 ((
	gyŸc_hódî_t
*)
	gp_out
)->
	gext_›code
 = 
code
; \

57 
	gp_out
 +(
yŸc_hódî_t
); \

58 
	gg_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
yŸc_hódî_t
); \

67 
INT32
 
	$_CTC_GëP‹tVœnModeCfg
(
UINT32
 
uiLP‹tId
, 
CTC_VLAN_CFG_S
 *
p°CtcVœnMode
)

69 i‡((!
	`IsVÆidLgcP‹t
(
uiLP‹tId
)) ||

70 (
NULL
 =
p°CtcVœnMode
))

72 
	`¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

73  
ERROR
;

76 i‡(
DRV_OK
 !
	`Io˘l_˘c_gë_a˛_ruÀ
(
uiLP‹tId
, 
p°CtcVœnMode
))

78 
	`¥ötf
("func:%s,löe:%d.\n",
__FUNCTION__
,
__LINE__
);

79  
ERROR
;

82  
NO_ERROR
;

83 
	}
}

86 
	$e›l_yŸc_£t_p‹t_°©s_ª£t
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

88 
u32_t
 
ªt
 = 
NO_ERROR
;

89 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

90 
yŸc_°©s_ª£t_t
* 
p_°©s_ª£t
;

91 
u32_t
 
Õ‹t
;

92 
ªt
 = 
NO_ERROR
;

94 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

95 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

96 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_STATS
;

98 
p_°©s_ª£t
(
yŸc_°©s_ª£t_t
*)
p_ö
;

99 
Õ‹t
 = (
u32_t
)(
p_°©s_ª£t
->
p‹t
);

100 
ªt
 = 
	`Io˘l_SëMibCou¡Re£t
(
Õ‹t
);

101 if(
DRV_OK
 !
ªt
)

103 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

107 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

109 *
gíÀn
 = (
yŸc_°©s_ª£t_t
);

111 
	}
}

113 
	$e›l_yŸc_£t_p‹t_mode
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

115 
u32_t
 
ªt
 = 
NO_ERROR
;

116 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

117 
yŸc_p‹t_mode_t
* 
p_p‹t_mode
;

118 
u32_t
 
p‹t_mode_du∂ex
 = 0;

119 
u32_t
 
p‹t_mode_•ìd
 = 0;

120 
ªt
 = 
NO_ERROR
;

122 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

123 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

124 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_PORT_MODE
;

126 
p_p‹t_mode
 = (
yŸc_p‹t_mode_t
*)
p_ö
;

127 
p_p‹t_mode
->
mode
)

129 
YOTC_PORT_MODE_10HALF
:

130 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

131 
p‹t_mode_•ìd
 = 
SPEED_10M
;

133 
YOTC_PORT_MODE_10FULL
:

134 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

135 
p‹t_mode_•ìd
 = 
SPEED_10M
;

137 
YOTC_PORT_MODE_100HALF
:

138 
p‹t_mode_du∂ex
 = 
DUPLEX_HALF
;

139 
p‹t_mode_•ìd
 = 
SPEED_100M
;

141 
YOTC_PORT_MODE_100FULL
:

142 
p‹t_mode_du∂ex
 = 
DUPLEX_FULL
;

143 
p‹t_mode_•ìd
 = 
SPEED_100M
;

145 
YOTC_PORT_MODE_1G
:

146 
p‹t_mode_•ìd
 = 
SPEED_1000M
;

148 
YOTC_PORT_MODE_AUTO
:

149 
p‹t_mode_du∂ex
 = 
DUPLEX_AUTO
;

150 
p‹t_mode_•ìd
 = 
SPEED_AUTO
;

153 
ªt
 = 
ERROR
;

154 
£nd_r•
;

158 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p_p‹t_mode
->
p‹t
, 
p‹t_mode_•ìd
);

159 if(
NO_ERROR
 !
ªt
)

161 
£nd_r•
;

164 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p_p‹t_mode
->
p‹t
, 
p‹t_mode_du∂ex
);

166 
£nd_r•
:

167 if(
NO_ERROR
 !
ªt
)

169 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

173 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

178 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

180 
	}
}

182 
	$e›l_yŸc_£t_⁄u_admöù
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

184 
u32_t
 
ªt
 = 
NO_ERROR
;

185 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

186 
yŸc_admöù_t
* 
p_admöù
;

187 
ul_addr
 ;

188 
ul_mask
 ;

190 
ªt
 = 
NO_ERROR
;

192 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

193 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

194 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_ADMIN_IP
;

196 
p_admöù
 = (
yŸc_admöù_t
*)
p_ö
;

198 if(!
	`vÆid_ù
(
p_admöù
->
ùaddr
Ë|| !
	`vÆid_sub√t_mask
’_admöù->ùaddr,Ö_admöù->
mask
))

200 
ªt
 = 
ERROR
;

201 
£nd_r•
;

203 
ul_addr
 = 
p_admöù
->
ùaddr
.
s_addr
;

204 
ul_mask
 = 
p_admöù
->
mask
.
s_addr
;

207 if(0==(
ul_addr
 & (~
ul_mask
)))

209 
ªt
 = 
ERROR
;

210 
£nd_r•
;

214 if((
ul_addr
 & (~
ul_mask
)) == (0xffffffff & (~ul_mask)))

216 
ªt
 = 
ERROR
;

217 
£nd_r•
;

220 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
p_admöù
->
ùaddr
,Ö_admöù->
mask
,Ö_admöù->
g©eway
);

222 
£nd_r•
:

223 if(
NO_ERROR
 !
ªt
)

225 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

229 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

231 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

233 
	}
}

235 
	$e›l_yŸc_£t_⁄u_admövœn
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

237 
u32_t
 
ªt
 = 
NO_ERROR
;

238 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

239 
yŸc_admövœn_t
* 
p_vœn
;

241 
ªt
 = 
NO_ERROR
;

243 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

244 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

245 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_ADMIN_VLAN
;

247 
p_vœn
 = (
yŸc_admövœn_t
*)
p_ö
;

249 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_vœn
->
vœn
&0x0fff);

251 if(
NO_ERROR
 !
ªt
)

253 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

257 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

259 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

261 
	}
}

263 
	$e›l_yŸc_£t_mac_agög
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

265 
u32_t
 
ªt
 = 
NO_ERROR
;

266 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

267 
yŸc_mac_agög_t
* 
p_agög
;

269 
ªt
 = 
NO_ERROR
;

271 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

272 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

273 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_MAC_AGING
;

275 
p_agög
 = (
yŸc_mac_agög_t
*)
p_ö
;

278 if((
p_agög
->
agögTime
<
MIN_MAC_AGETIME
Ë|| (p_agög->agögTime>
MAX_MAC_AGETIME
))

280 
ªt
 = 
ERROR
;

281 
£nd_r•
;

283 
ªt
 = 
	`Io˘l_SëMacAgeTime
(
p_agög
->
agögTime
*10);

284 
£nd_r•
:

285 if(
ªt
 !
DRV_OK
)

287 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

291 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

293 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

295 
	}
}

297 
	$e›l_yŸc_£t_mac_limô
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

299 
u32_t
 
ªt
 = 
NO_ERROR
;

300 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

301 
yŸc_mac_limô_t
* 
p_limô
;

303 
ªt
 = 
NO_ERROR
;

305 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

306 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

307 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_MAC_LIMIT
;

309 
p_limô
 = (
yŸc_mac_limô_t
*)
p_ö
;

311 if(
p_limô
->
numLimô
 >= 0xfa)

313 
ªt
 = 
ERROR
;

314 
£nd_r•
;

316 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
p_limô
->
p‹t
,Ö_limô->
numLimô
, 
TRUE
);

318 
£nd_r•
:

319 if(
ªt
 !
DRV_OK
)

321 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

322 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

326 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

329 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

331 
	}
}

333 
	$yŸc_whôe_mac_add
(
yŸc_mac_t
* 
p_whôe
)

335 
u32_t
 
ªt
;

336 
mac_uˇ°_t
 
gë_mac_addªss
;

337 
mac_uˇ°_t
 
£t_mac_addªss
;

340 if(
p_whôe
->
mac
[0] & 0x01)

342  
ERROR
;

345 if(!(!
p_whôe
->
mac
[0] || !p_white->mac[1] | !p_white->mac[2] |

346 !
p_whôe
->
mac
[3] || !p_white->mac[4] | !p_white->mac[5]))

348  
ERROR
;

351 
	`mem£t
(&
gë_mac_addªss
, 0, (
mac_uˇ°_t
));

352 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_whôe
->
mac
 , &
gë_mac_addªss
);

353 if(
DRV_OK
 =
ªt
)

355 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

356  
ERROR
;

359 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
ªt
)

362 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

363 
£t_mac_addªss
.
lgcP‹t
 = 
p_whôe
->
p‹t
;

364 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_whôe
->
mac
 , (
mac_addªss_t
));

365 
£t_mac_addªss
.
tdVid
 = 0;

366 
£t_mac_addªss
.
ucSètic
 = 1;

368 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

369 if(
ªt
 !
DRV_OK
)

371 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

372  
ERROR
;

374  
NO_ERROR
;

376 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

377  
ERROR
;

378 
	}
}

380 
	$yŸc_whôe_mac_dñ
(
yŸc_mac_t
* 
p_whôe
)

382 
u32_t
 
ªt
 = 
NO_ERROR
;

383 
mac_uˇ°_t
 
gë_mac_addªss
;

385 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_whôe
->
mac
, &
gë_mac_addªss
);

386 if(
DRV_OK
 !
ªt
)

389  
NO_ERROR
;

392 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

393 if(
DRV_OK
 !=
ªt
)

395 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

396  
ERROR
;

398  
NO_ERROR
;

399 
	}
}

403 
	$e›l_yŸc_£t_whôe_mac
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

405 
u32_t
 
ªt
 = 
NO_ERROR
;

406 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

407 
yŸc_mac_t
* 
p_whôe
;

409 
ªt
 = 
NO_ERROR
;

411 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

412 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

413 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_MAC_WHITE
;

415 
p_whôe
 = (
yŸc_mac_t
*)
p_ö
;

417 
p_whôe
->
a˘i⁄
)

419 
OAM_YOTC_ENABLE
:

420 
ªt
 = 
	`yŸc_whôe_mac_add
(
p_whôe
);

422 
OAM_YOTC_DISABLE
:

423 
ªt
 = 
	`yŸc_whôe_mac_dñ
(
p_whôe
);

426 
ªt
 = 
ERROR
;

430 if(
ªt
 !
NO_ERROR
)

432 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

433 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

437 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

440 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

442 
	}
}

443 
CTC_VLAN_MODE_E
 
˘c_vœn_mode
;

446 
	$e›l_yŸc_£t_p‹t_åunk
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

448 
u32_t
 
ªt
;

449 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

450 
yŸc_p‹t_åunk_t
* 
p_åunk
;

451 
CTC_VLAN_CFG_S
 
°CtcVœnMode
;

452 
i
;

453 
u32_t
 
vœ∆i°
[32] = {0};

454 
u32_t
 
deÁu…Tag
;

455 
u32_t
 
vœnIndex
;

456 
föd
;

458 
ªt
 = 
NO_ERROR
;

459 
föd
 = 0;

461 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

462 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

463 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_VLAN_TRUNK
;

465 
p_åunk
 = (
yŸc_p‹t_åunk_t
*)
p_ö
;

467 
	`mem£t
(&
°CtcVœnMode
, 0, (
CTC_VLAN_CFG_S
));

468 
	`_CTC_GëP‹tVœnModeCfg
(
p_åunk
->
p‹t
, &
°CtcVœnMode
);

470 
i
=0; i<
CTC_VLAN_TRANSL_PAIR_NUM_MAX
; i++)

472 
	`¥ötf
("vœn_li°[%d]=%d\n", 
i
, 
°CtcVœnMode
.
vœn_li°
[i]);

474 
	`¥ötf
("°CtcVœnMode.mode=%d\n", 
°CtcVœnMode
.
mode
);

476 
deÁu…Tag
 = 
°CtcVœnMode
.
deÁu…_vœn
 | (°CtcVœnMode.
uiPri‹ôy
<<13);

477 
	`YOTC_DBG
(("port=%d,Åype=%04x,Öriority=%d, vlanid=%d,áction=%04x\n", \

478 
p_åunk
->
p‹t
,Ö_åunk->
ty≥
,Ö_åunk->
¥i
,Ö_åunk->
vœnid
,Ö_åunk->
a˘i⁄
));

480 
deÁu…Tag
 |((
UINT32
)
p_åunk
->
ty≥
<<16);

481 
vœnIndex
 = 0;

482 
p_åunk
->
a˘i⁄
 & 0xff00)

484 
OAM_YOTC_TRUNK_ADD
:

485 
vœnIndex
 = 0;

486 
i
=0; i<
°CtcVœnMode
.
numbî_of_íåõs
 && (i<8); i++)

488 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

489 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

492 i‡(
vœnIndex
 > 14)

494 
ªt
 = 
ERROR
;

495 
£nd_r•
;

498 
vœ∆i°
[
vœnIndex
++] = (
UINT32
)
p_åunk
->
vœnid
 & 0xfff;

499 
vœ∆i°
[
vœnIndex
++] = (
UINT32
)
p_åunk
->
vœnid
 & 0xfff;

501 
OAM_YOTC_TRUNK_DEL
:

502 
vœnIndex
 = 0;

503 
i
=0; i<
°CtcVœnMode
.
numbî_of_íåõs
 && (i<8); i++)

506 if(
p_åunk
->
vœnid
 =
°CtcVœnMode
.
vœn_li°
[
i
<<1])

508 
föd
 = 1;

511 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

512 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

514 i‡(
vœnIndex
 > 16)

516 
ªt
 = 
ERROR
;

517 
£nd_r•
;

521 if(0 =
föd
)

523 
ªt
 = 
ERROR
;

524 
£nd_r•
;

527 
OAM_YOTC_TRUNK_PVID
:

530 if(
˘c_vœn_mode
 !
CTC_VLAN_MODE_TRUNK
)

532 
deÁu…Tag
 = ((
UINT32
)(
p_åunk
->
ty≥
<<16Ë| (UINT32Ì_åunk->
vœnid
) | \

533 ((
UINT32
)
p_åunk
->
¥i
<<13);

537 
i
=0; i<
°CtcVœnMode
.
numbî_of_íåõs
 && (i<8); i++)

539 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

540 
vœ∆i°
[
vœnIndex
++] = 
°CtcVœnMode
.
vœn_li°
[
i
<<1];

543 i‡(
vœnIndex
 > 16)

545 
ªt
 = 
ERROR
;

546 
£nd_r•
;

549 
deÁu…Tag
 = ((
UINT32
)(
p_åunk
->
ty≥
<<16Ë| (UINT32Ì_åunk->
vœnid
) | \

550 ((
UINT32
)
p_åunk
->
¥i
<<13);

554 
ªt
 = 
ERROR
;

555 
£nd_r•
;

560 
i
=0; i<
CTC_VLAN_TRANSL_PAIR_NUM_MAX
; i++)

562 
	`¥ötf
("vœ∆i°[%d]=%d\n", 
i
, 
vœ∆i°
[i]);

566 
ªt
 = 
	`CTC_DRV_SëTøn¶©i⁄Vœn
(
p_åunk
->
p‹t
, 
deÁu…Tag
, 
vœ∆i°
, (
vœnIndex
/2), 
CTC_VLAN_MODE_TRUNK
);

567 i‡(
NO_ERROR
 !
ªt
)

569 
ªt
 = 
ERROR
;

570 
£nd_r•
;

573 
£nd_r•
:

574 if(
ªt
 !
NO_ERROR
)

576 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

577 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

581 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

584 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

586 
	}
}

589 
	$e›l_yŸc_£t_⁄u_upgøde
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

591 
yŸc_⁄u_upgøde_t
* 
p_upgøde
;

592 
u32_t
 
ªt
 = 
NO_ERROR
;

593 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

595 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

596 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

597 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_UPGRADE
;

599 
p_upgøde
 = (
yŸc_⁄u_upgøde_t
*)
p_ö
;

600 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

602 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

603 
	}
}

606 
	$e›l_yŸc_£t_bœck_mac
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

608 
u32_t
 
ªt
 = 
NO_ERROR
;

609 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

610 
yŸc_mac_t
* 
p_bœck
;

612 
ªt
 = 
NO_ERROR
;

614 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

615 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

616 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_MAC_BLACK
;

618 
p_bœck
 = (
yŸc_mac_t
*)
p_ö
;

620 
p_bœck
->
a˘i⁄
)

622 
OAM_YOTC_ENABLE
:

623 
ªt
 = 
	`yŸc_whôe_mac_add
(
p_bœck
);

625 
OAM_YOTC_DISABLE
:

626 
ªt
 = 
	`yŸc_whôe_mac_dñ
(
p_bœck
);

629 
ªt
 = 
ERROR
;

633 if(
ªt
 !
NO_ERROR
)

635 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

636 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

640 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

643 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

645 
	}
}

648 
	$e›l_yŸc_£t_p‹t_isﬁ©e
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

650 
u32_t
 
ªt
 = 
NO_ERROR
;

651 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

652 
yŸc_p‹t_isﬁ©e_t
* 
p_p‹t_isﬁ©e
;

653 
u32_t
 
ulP‹t
;

655 
ªt
 = 
NO_ERROR
;

657 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

658 
p_r•
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

659 
p_r•
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_ISOLATE
;

661 
p_p‹t_isﬁ©e
 = (
yŸc_p‹t_isﬁ©e_t
*)
p_ö
;

663 
ulP‹t
 = 1; ulP‹à<
MAX_NUM_OF_PORTS
; ulPort++)

665 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
ulP‹t
, 
p_p‹t_isﬁ©e
->
a˘i⁄
);

666 if(
NO_ERROR
 !
ªt
)

672 if(
NO_ERROR
 !
ªt
)

674 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

678 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

681 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

683 
	}
}

687 
	$yŸc_gë_⁄u_›tics
(
u8_t
* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

689 
yŸc_›tics_t
 *
p_›tics
;

690 
u16_t
 
vcc
;

691 
u16_t
 
cuºít
;

692 
u16_t
 
txPowî
;

693 
u16_t
 
rxPowî
;

694 
sVÆue
;

695 
u16_t
 
ãm≥øtuª
;

698 ()
	`Drv_GëO±icsTønsmôPowî
(&
txPowî
);

699 ()
	`Drv_GëO±icsRe˚ivePowî
(&
rxPowî
);

700 ()
	`Drv_GëO±icsTem≥øtuª
(&
sVÆue
, &
vcc
, &
cuºít
);

703 i‡(
sVÆue
 > 0)

705 
ãm≥øtuª
 = 
sVÆue
;

709 
ãm≥øtuª
 = 0;

712 
p_›tics
 = (
yŸc_›tics_t
*)
ª∂ybuf
;

713 
p_›tics
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

714 
p_›tics
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_OPTICS
;

715 
p_›tics
->
width
 = 10;

716 
p_›tics
->
å™˚ivîTemp
 = 
ãm≥øtuª
;

717 
p_›tics
->
suµlyVﬁt
 = 
vcc
;

718 
p_›tics
->
rxPowî
 =ÑxPower;

719 
p_›tics
->
büsCuºít
 = 
cuºít
;

720 
p_›tics
->
txPowî
 =ÅxPower;

722 
£nd_r•
:

723 *
gíÀn
 = (
yŸc_›tics_t
);

724 
	}
}

726 
	$yŸc_gë_⁄u_p‹t_°©s
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

728 
ªt
 = 
NO_ERROR
;

729 
yŸc_p‹t_°©s_t
* 
p_°©s
;

730 
yŸc_p‹t_t
 *
p_p‹t
;

731 
UNI_COUNTER_S
 
mibCou¡îs
;

733 
p_°©s
 = (
yŸc_p‹t_°©s_t
*)
ª∂ybuf
;

734 
p_°©s
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

735 
p_°©s
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_STATS
;

736 
p_°©s
->
width
 = (
yŸc_p‹t_°©s_t
)-4;

738 
p_p‹t
 = (
yŸc_p‹t_t
*)
p_ö
;

740 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
p_p‹t
->
p‹t
, &
mibCou¡îs
);

741 if(
ªt
 !
NO_ERROR
)

743 
	`YOTC_DBG
(("[FILE] %†[LINE] %d\n", 
__FILE__
, 
__LINE__
));

744 
£nd_r•
;

746 
p_°©s
->
ifInO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

747 
p_°©s
->
ifInTŸÆPkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
+mibCou¡îs.
InMu…iˇ°
+mibCou¡îs.
InUniˇ°
;

748 
p_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

749 
p_°©s
->
ifInMˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
;

750 
p_°©s
->
ifInBˇ°Pkts
 = 
mibCou¡îs
.
InBrﬂdˇ°
;

751 
p_°©s
->
ifInRxDisˇrdPkts
 = 0;

753 
p_°©s
->
ifInRu¡sPkts
 = 
mibCou¡îs
.
InUndîÊow
;

754 
p_°©s
->
ifInEº‹Pkts
 = 0;

755 
p_°©s
->
ifInGü¡sPkts
 = 
mibCou¡îs
.
InOvîÊow
;

756 
p_°©s
->
ifInUnknowPkts
 = 0;

757 
p_°©s
->
ifInCRCPkts
 = 
mibCou¡îs
.
InCrcEº‹
;

759 
p_°©s
->
ifOutO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

760 
p_°©s
->
ifOutTŸÆPkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
+mibCou¡îs.
OutMu…iˇ°
+mibCou¡îs.
OutUniˇ°
;

761 
p_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

762 
p_°©s
->
ifOutMˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
;

763 
p_°©s
->
ifOutBˇ°Pkts
 = 
mibCou¡îs
.
OutBrﬂdˇ°
;

765 
£nd_r•
:

766 *
gíÀn
 = (
yŸc_p‹t_°©s_t
);

768 
	}
}

773 
	$yŸc_gë_⁄u_p‹t_r°p
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

775 
ªt
 = 
NO_ERROR
;

776 
yŸc_r°p_t
 *
p_r°p
;

777 
yŸc_p‹t_t
 *
p_p‹t
;

779 
p_p‹t
 = (
yŸc_p‹t_t
*)
p_ö
;

780 
p_r°p
 = (
yŸc_r°p_t
*)
ª∂ybuf
;

781 
p_r°p
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

782 
p_r°p
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_RSTP
;

783 
p_r°p
->
width
 = 0x02;

784 
p_r°p
->
vÆue
 = 0x20;

786 *
gíÀn
 = (
yŸc_r°p_t
);

788 
	}
}

790 
	$yŸc_gë_⁄u_p‹t_°©e
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

792 
ªt
 = 
NO_ERROR
;

793 
yŸc_p‹t_°©e_t
* 
p_°©e
;

794 
yŸc_p‹t_t
 *
p_p‹t
;

795 
u32_t
 
p‹t_du∂ex
 = 0;

796 
u32_t
 
p‹t_•ìd
 = 0;

797 
u32_t
 
lök_°©us
 = 0;

799 
p_p‹t
 = (
yŸc_p‹t_t
*)
p_ö
;

801 
p_°©e
 = (
yŸc_p‹t_°©e_t
*)
ª∂ybuf
;

802 
p_°©e
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

803 
p_°©e
->
Àaf
 = 
OAM_YOTC_EXT_LEAF_ETH_STATE
;

804 
p_°©e
->
width
 = 2;

805 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
p_p‹t
->
p‹t
, &
lök_°©us
);

806 if((
ªt
==
NO_ERROR
Ë&& 
lök_°©us
)

808 ()
	`DRV_GëP‹tDu∂ex
(
p_p‹t
->
p‹t
, &
p‹t_du∂ex
);

809 ()
	`DRV_GëP‹tS≥ed
(
p_p‹t
->
p‹t
, &
p‹t_•ìd
);

810 
p‹t_•ìd
)

812 
SPEED_10M
:

813 
p‹t_du∂ex
)

815 
DUPLEX_HALF
:

816 
p_°©e
->
mode
 = 
YOTC_PORT_MODE_10HALF
;

818 
DUPLEX_FULL
:

819 
p_°©e
->
mode
 = 
YOTC_PORT_MODE_10FULL
;

823 
p_°©e
->
mode
 = 0XFF;

827 
SPEED_100M
:

828 
p‹t_du∂ex
)

830 
DUPLEX_HALF
:

831 
p_°©e
->
mode
 = 
YOTC_PORT_MODE_100HALF
;

833 
DUPLEX_FULL
:

834 
p_°©e
->
mode
 = 
YOTC_PORT_MODE_100FULL
;

837 
p_°©e
->
mode
 = 0XFF;

841 
SPEED_1000M
:

842 
p_°©e
->
mode
 = 
YOTC_PORT_MODE_1G
;

845 
p_°©e
->
mode
 = 0XFF;

852 
p_°©e
->
mode
 = 0xff;

854 *
gíÀn
 = (
yŸc_p‹t_°©e_t
);

856 
	}
}

858 
	$yŸc_gë_⁄u_unknown
(
u8_t
* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

860 
ªt
 = 
NO_ERROR
;

861 
yŸc_r°p_t
 *
p_r°p
;

863 
p_r°p
 = (
yŸc_r°p_t
*)
ª∂ybuf
;

864 
p_r°p
->
bønch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

865 
p_r°p
->
Àaf
 = 0x0071;

866 
p_r°p
->
width
 = 0x87;

867 
p_r°p
->
vÆue
 = 0x00;

869 *
gíÀn
 = (
yŸc_r°p_t
);

871 
	}
}

875 
	$e›l_yŸc_gë_ªq
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
pRïlyLí
)

877 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

878 
u16_t
 
gíÀn
 = 0;

881 *
p_ö
)

883 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
:

884 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

885 
p_v¨_desc
->
Àaf
)

887 
OAM_YOTC_EXT_LEAF_OPTICS
:

888 
	`yŸc_gë_⁄u_›tics
(
ª∂ybuf
, &
gíÀn
);

889 
p_ö
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

890 
ª∂ybuf
 +
gíÀn
;

891 *
pRïlyLí
 +
gíÀn
;

893 
OAM_YOTC_EXT_LEAF_STATS
:

894 
	`yŸc_gë_⁄u_p‹t_°©s
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

895 
p_ö
 +(
yŸc_p‹t_t
);

896 
ª∂ybuf
 +
gíÀn
;

897 *
pRïlyLí
 +
gíÀn
;

899 
OAM_YOTC_EXT_LEAF_RSTP
:

900 
	`yŸc_gë_⁄u_p‹t_r°p
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

901 
p_ö
 +(
yŸc_p‹t_t
);

902 
ª∂ybuf
 +
gíÀn
;

903 *
pRïlyLí
 +
gíÀn
;

905 
OAM_YOTC_EXT_LEAF_ETH_STATE
:

906 
	`yŸc_gë_⁄u_p‹t_°©e
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

907 
p_ö
 +(
yŸc_p‹t_t
);

908 
ª∂ybuf
 +
gíÀn
;

909 *
pRïlyLí
 +
gíÀn
;

912 
	`yŸc_gë_⁄u_unknown
(
ª∂ybuf
, &
gíÀn
);

913 
p_ö
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

914 
ª∂ybuf
 +
gíÀn
;

915 *
pRïlyLí
 +
gíÀn
;

925 
	}
}

927 
	$yŸc_ju°_ª•⁄£
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
gíÀn
)

929 
yŸc_⁄u_upgøde_t
* 
p_upgøde
;

930 
u32_t
 
ªt
 = 
NO_ERROR
;

931 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

933 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
ª∂ybuf
;

934 
p_upgøde
 = (
yŸc_⁄u_upgøde_t
*)
p_ö
;

935 
p_r•
->
bønch
 = 
p_upgøde
->branch;

936 
p_r•
->
Àaf
 = 
p_upgøde
->leaf;

937 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

939 *
gíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

940 
	}
}

941 
	$e›l_yŸc_£t_ªq
(
u8_t
* 
p_ö
, u8_t* 
ª∂ybuf
, 
u16_t
 *
ª∂yÀn
)

943 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

944 
yŸc_⁄u_upgøde_t
* 
p_upgøde
;

945 
u16_t
 
gíÀn
 = 0;

947 #i‚de‡
CONFIG_PRODUCT_5500


950 *
p_ö
)

952 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
:

953 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

954 
p_v¨_desc
->
Àaf
)

956 
OAM_YOTC_EXT_LEAF_STATS
:

957 
	`e›l_yŸc_£t_p‹t_°©s_ª£t
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

958 
p_ö
 +(
yŸc_°©s_ª£t_t
);

959 
ª∂ybuf
 +
gíÀn
;

960 *
ª∂yÀn
 +
gíÀn
;

962 
OAM_YOTC_EXT_LEAF_PORT_MODE
:

963 
	`e›l_yŸc_£t_p‹t_mode
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

964 
p_ö
 +(
yŸc_p‹t_mode_t
);

965 
ª∂ybuf
 +
gíÀn
;

966 *
ª∂yÀn
 +
gíÀn
;

968 
OAM_YOTC_EXT_LEAF_ISOLATE
:

969 
	`e›l_yŸc_£t_p‹t_isﬁ©e
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

970 
p_ö
 +(
yŸc_p‹t_isﬁ©e_t
);

971 
ª∂ybuf
 +
gíÀn
;

972 *
ª∂yÀn
 +
gíÀn
;

974 
OAM_YOTC_EXT_LEAF_ADMIN_IP
:

975 
	`e›l_yŸc_£t_⁄u_admöù
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

976 
p_ö
 +(
yŸc_admöù_t
);

977 
ª∂ybuf
 +
gíÀn
;

978 *
ª∂yÀn
 +
gíÀn
;

980 
OAM_YOTC_EXT_LEAF_ADMIN_VLAN
:

981 
	`e›l_yŸc_£t_⁄u_admövœn
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

982 
p_ö
 +(
yŸc_admövœn_t
);

983 
ª∂ybuf
 +
gíÀn
;

984 *
ª∂yÀn
 +
gíÀn
;

986 
OAM_YOTC_EXT_LEAF_MAC_AGING
:

987 
	`e›l_yŸc_£t_mac_agög
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

988 
p_ö
 +(
yŸc_mac_agög_t
);

989 
ª∂ybuf
 +
gíÀn
;

990 *
ª∂yÀn
 +
gíÀn
;

992 
OAM_YOTC_EXT_LEAF_MAC_LIMIT
:

993 
	`e›l_yŸc_£t_mac_limô
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

994 
p_ö
 +(
yŸc_mac_limô_t
);

995 
ª∂ybuf
 +
gíÀn
;

996 *
ª∂yÀn
 +
gíÀn
;

998 
OAM_YOTC_EXT_LEAF_MAC_BLACK
:

999 
	`e›l_yŸc_£t_bœck_mac
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1000 
p_ö
 +(
yŸc_mac_t
);

1001 
ª∂ybuf
 +
gíÀn
;

1002 *
ª∂yÀn
 +
gíÀn
;

1004 
OAM_YOTC_EXT_LEAF_MAC_WHITE
:

1005 
	`e›l_yŸc_£t_whôe_mac
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1006 
p_ö
 +(
yŸc_mac_t
);

1007 
ª∂ybuf
 +
gíÀn
;

1008 *
ª∂yÀn
 +
gíÀn
;

1011 
OAM_YOTC_EXT_LEAF_VLAN_TRUNK
:

1012 
	`e›l_yŸc_£t_p‹t_åunk
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1013 
p_ö
 +(
yŸc_mac_t
);

1014 
ª∂ybuf
 +
gíÀn
;

1015 *
ª∂yÀn
 +
gíÀn
;

1018 
OAM_YOTC_EXT_LEAF_UPGRADE
:

1019 
p_upgøde
 = (
yŸc_⁄u_upgøde_t
*)
p_ö
;

1020 
	`e›l_yŸc_£t_⁄u_upgøde
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1021 
p_ö
 +(
yŸc_⁄u_upgøde_t
);

1022 
p_ö
 +
p_upgøde
->
width
;

1023 
ª∂ybuf
 +
gíÀn
;

1024 *
ª∂yÀn
 +
gíÀn
;

1027 
	`yŸc_ju°_ª•⁄£
(
p_ö
, 
ª∂ybuf
, &
gíÀn
);

1028 
p_upgøde
 = (
yŸc_⁄u_upgøde_t
*)
p_ö
;

1029 
p_ö
 +(
yŸc_⁄u_upgøde_t
);

1030 
p_ö
 +
p_upgøde
->
width
;

1031 
ª∂ybuf
 +
gíÀn
;

1032 *
ª∂yÀn
 +
gíÀn
;

1043 
	}
}

1046 
	$e›l_yŸc_pdu_¥o˚ss
(

1047 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

1048 *
pFøme
,

1049 
Àngth
,

1050 *
pRïlyBuf
,

1051 
bufLí
,

1052 *
pRïlyLí
)

1054 
ªt
 = 
EPON_OAM_ERR_OK
;

1055 
u8_t
 *
p_byã
 = 
pFøme
;

1057 
yŸc_hódî_t
 *
p_yŸc_hdr
;

1058 
yŸc_hódî_t
 *
p_out_yŸc_hdr
;

1060 if((
Àngth
 < 
YOTC_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < YOTC_ORGSPEC_HDR_LEN))

1063  
EPON_OAM_ERR_PARAM
;

1066 if((
NULL
==
pOamPdu
Ë|| (NULL==
pFøme
Ë|| (NULL==
pRïlyBuf
Ë|| (NULL==
pRïlyLí
))

1068  
EPON_OAM_ERR_PARAM
;

1071 *
pRïlyLí
 = 0;

1073 
p_byã
 = 
pFøme
;

1074 
p_yŸc_hdr
 = (
yŸc_hódî_t
*)
pFøme
;

1075 
p_byã
 +(
yŸc_hódî_t
);

1077 
p_out_yŸc_hdr
 = (
yŸc_hódî_t
*)
pRïlyBuf
;

1078 
	`mem˝y
(
p_out_yŸc_hdr
->
oui
, 
p_yŸc_hdr
->oui, 3);

1080 *
pRïlyLí
 +(
yŸc_hódî_t
);

1081 
pRïlyBuf
 +(
yŸc_hódî_t
);

1083 
p_yŸc_hdr
->
ext_›code
)

1085 
OAM_YOTC_EXT_OPCODE_GET_REQUEST
:

1086 
p_out_yŸc_hdr
->
ext_›code
 = 
OAM_YOTC_EXT_OPCODE_GET_RESPONSE
;

1087 
	`e›l_yŸc_gë_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

1089 
OAM_YOTC_EXT_OPCODE_SET_REQUEST
:

1090 
p_out_yŸc_hdr
->
ext_›code
 = 
OAM_YOTC_EXT_OPCODE_SET_RESPONSE
;

1091 
	`e›l_yŸc_£t_ªq
(
p_byã
, 
pRïlyBuf
, 
pRïlyLí
);

1094 
p_out_yŸc_hdr
 = (
yŸc_hódî_t
*)
pRïlyBuf
;

1095 
	`mem˝y
(
p_out_yŸc_hdr
->
oui
, 
p_yŸc_hdr
->oui, 3);

1096 
p_out_yŸc_hdr
->
ext_›code
 = 
p_yŸc_hdr
->ext_opcode;

1098 *
pRïlyLí
 = (
yŸc_hódî_t
);

1102  
ªt
;

1103 
	}
}

1105 
	$e›l_yŸc_pdu_¥o˚ss2
(
u8_t
* 
p_byã
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

1107 
u8_t
 
ãmp_buf
[] = {0x74, 0x01, 0x63, 0x00, 0x00,0x01, 0x00,

1109 
u8_t
 
sh¨e_oui
[3] = {0x00, 0x0c, 0xd5};

1110 
	`mem˝y
(
pRïlyBuf
, 
sh¨e_oui
, 3);

1111 
pRïlyBuf
 += 3;

1112 
	`mem˝y
(
pRïlyBuf
, 
ãmp_buf
, (temp_buf));

1113 *
pRïlyLí
 +(
ãmp_buf
) + 3;

1115 
	}
}

1118 
	$yŸc_ﬂm_öô
()

1120 
i
, 
ªt
;

1121 
oui
[] = 
YOTC_OAM_OUI
;

1122 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

1125 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_yŸc_pdu_¥o˚ss
;

1126 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

1127 
EPON_OAM_CBTYPE_ORGSPEC
,

1128 
oui
,

1129 (*Ë&
‹gS≥cCb
);

1130 if(
EPON_OAM_ERR_OK
 !
ªt
)

1132 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1134  
EPON_OAM_ERR_UNKNOWN
;

1137  
EPON_OAM_ERR_OK
;

1138 
	}
}

	@src/vendor/zte.c

9 
	~<°dio.h
>

10 
	~<°rög.h
>

11 
	~<°dlib.h
>

12 
	~<mÆloc.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<sys/°©.h
>

15 
	~<sys/sockë.h
>

16 
	~<√töë/ö.h
>

17 
	~<√t/if.h
>

20 
	~"ï⁄_ﬂm_c⁄fig.h
"

21 
	~"ï⁄_ﬂm_îr.h
"

22 
	~"ï⁄_ﬂm_db.h
"

23 
	~"ï⁄_ﬂm_dbg.h
"

24 
	~"ï⁄_ﬂm_rx.h
"

26 
	~"ﬂm.h
"

27 
	~"h3c.h
"

29 
	~"ùc_˛õ¡.h
"

30 
	~"ﬂm_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_ªq.h
"

35 
	~"zã.h
"

37 
	~<f˙é.h
>

38 
	~"h3c.h
"

39 
	~"mc_c⁄åﬁ.h
"

40 
	~"defs.h
"

41 
	~"sy°em.h
"

42 
	~"°©s.h
"

43 
	~"vos_thªad.h
"

44 
	~"›c⁄n_u§_io˘æ.h
"

45 
	~"vos_time.h
"

46 
	~"vos_libc.h
"

47 
	~"vos_Æloc.h
"

48 
	~<sig«l.h
>

49 
	~"lw_c⁄fig.h
"

50 
	~"˘c_ﬂm.h
"

51 
	#OAM_SUPPORT_ZTE_EXT
 1

	)

52 #ifde‡
OAM_SUPPORT_ZTE_EXT


56 
	#UPSTREAM_BUFFER_DEFAULT
 16383

	)

57 
	#DOWNSTREAM_BUFFER_DEFAULT
 16383

	)

59 
	#UPSTREAM_BUFFER_MAX
 16383

	)

60 
	#DOWNSTREAM_BUFFER_MAX
 16383

	)

61 
	#STREAM_BUFFER_MAX
 16383

	)

62 
	#INVALID_16
 0XFFFF

	)

64 
	#CFG_HG_SECTION
 "GíîÆ"

	)

65 
	#CFG_HG_IN_NET_STATE
 "In_√t_°©e"

	)

66 
	#CFG_HG_IN_NET_STATE_DEFAULT
 0

	)

68 
	#CFG_HG_IN_NET_PORT
 "In_√t_p‹t"

	)

69 
	#CFG_HG_IN_NET_PORT_DEFAULT
 0

	)

72 
	#MAX_UMAC_NUM
 2048

	)

73 
	#UINT32
 
u32_t


	)

75 
	#ODM_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

78 
	mZTE_PORT_MODE_AUTO
 = 0x00,

79 
	mZTE_PORT_MODE_10M_HALF
 = 0x01,

80 
	mZTE_PORT_MODE_10M_FULL
 = 0x02,

81 
	mZTE_PORT_MODE_100M_HALF
 = 0x03,

82 
	mZTE_PORT_MODE_100M_FULL
 = 0x04,

83 
	mZTE_PORT_MODE_1000M
 = 0x05,

84 
	mZTE_PORT_MODE_10G
 = 0x06,

85 }
	tZTE_PORT_MODE_t
;

88 
u8_t
 
	m°©i°ics_a˘i⁄
;

89 
UINT32
 
	m°©i°ics_öãrva
;

90 
UINT32
 
	m°©i°ics_duøti⁄_time
;

91 }
	t°©i°ics_p‹t_t
;

93 
°©i°ics_p‹t_t
 
	g°©i°ics_p‹t
[
ODM_NUM_OF_PORTS
]=

102 
UINT64
 
	m°aifInO˘ës
;

103 
UINT64
 
	m°aifInUˇ°Pkts
;

104 
UINT64
 
	m°aifInNUˇ°Pkts
;

105 
UINT64
 
	m°aifInDisˇrds
;

106 
UINT64
 
	m°aifInEº‹s
;

107 
UINT64
 
	m°aifOutO˘ës
;

108 
UINT64
 
	m°aifOutUˇ°Pkts
;

109 
UINT64
 
	m°aifOutNUˇ°Pkts
;

110 
UINT64
 
	m°aifOutDisˇrds
;

111 
UINT64
 
	m°aifOutEº‹s
;

112 }
	t°©i°ics_cou¡î_t
;

114 
°©i°ics_cou¡î_t
 
	g°©i°ics_cou¡î1
[
ODM_NUM_OF_PORTS
];

115 
°©i°ics_cou¡î_t
 
	g°©i°ics_cou¡î2
[
ODM_NUM_OF_PORTS
];

117 
	g°©i°ics_p‹t_num
[
ODM_NUM_OF_PORTS
] = {0};

118 
VOS_THREAD_t
 
	gp‹tSèti°icsThªadId
[
ODM_NUM_OF_PORTS
] = {0};

121 
ﬂm_zã_p‹t_mode_t
 
	g°ub_zã_p‹t_mode
[
ODM_NUM_OF_PORTS
+1];

124 
ﬂm_zã_uni_isﬁ©i⁄_t
 
	g°ub_zã_uni_isﬁ©i⁄
;

128 
ﬂm_zã_pmac_buff_cfg_t
 
	g°ub_zã_pmac_buff_cfg
[2];

131 
ﬂm_zã_pmac_ds_sh≠ög_t
 
	g°ub_zã_pmac_ds_sh≠ög
;

134 
ﬂm_zã_hg_ac˚ss_öfo_t
 
	g°ub_zã_hg_ac˚ss_öfo
[
ODM_NUM_OF_PORTS
+1];

137 #i‡
deföed
(
ONU_4PORT_88E6045
)||deföed(
ONU_4PORT_88E6046
)||deföed(
ONU_4PORT_88E6097
)||deföed(
ONU_4PORT_AR8306
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

138 
OPL_CNT_t
 
g_a°C¡SwhP‹t
[
ODM_NUM_OF_PORTS
][
CNT_SWH_PORT_NUM
];

140 
OPL_CNT_t
 
g_a°C¡Ge
[
DAL_CNT_GE_NUM
];

145 
	#NEED_MATCH
 0x01

	)

146 
	#NO_NEED_MATCH
 0x00

	)

149 
	mOPEN_TX_ACTION
,

150 
	mCLOSE_TX_ACTION
,

151 
	mCLOSE_MODULE_ACTION
,

154 
ﬂm_ö°™˚_év_t_2_0
 
p‹t_ö°™˚_2_0
;

156 
	ggLa£rC⁄figFœg
 = 0;

157 
UINT32
 
	ggTxLa£rClo£Duøti⁄
 = 0;

159 
OPL_CNT_t
 
g_a°C¡Mp˝
[
DAL_CNT_MPCP_NUM
];

160 
OPL_CNT_t
 
g_a°C¡P⁄
[
DAL_CNT_PON_NUM
];

161 
u16_t
 
g_usAœrmOutD©aIdx
;

162 
ﬂm_ßã_t
 
ﬂms
;

163 
u8_t
 
Æ¨m_out_d©a
[
OAM_MAXIMUM_PDU_SIZE
+1];

164 
u8_t
 
ö_d©a
[
OAM_MAXIMUM_PDU_SIZE
+4];

165 
u8_t
 
zã_oui
[3];

167 
	#MAC_ASC_F
 "%02X%02X%02X%02X%02X%02X"

	)

168 
	#MACPRINT
(
mac
Ëmac[5],mac[4],mac[3],mac[2],mac[1],mac[0]

	)

169 
	#CFG_HG_CFG
 "/cfg/hg.c⁄f"

	)

171 
	#EOPL_ZTE_HEADER_PROCESS
(
code
,
ty≥
,
p‹t
Ë\

	)

173 if(0 =
g_usOutD©aIdx
){ \

174 
p_out
 = &
out_d©a
[0]; \

175 
e›l_ﬂm_pdu_hdr
(
p_out
, 
ﬂms
.
Êags
, 
OAM_CODE_ORG_SPEC
); \

176 
	gp_out
 +(
ﬂmpdu_hdr_t
); \

177 
vosMemCpy
(((
zã_hódî_t
*)
p_out
)->
oui
, 
zã_oui
, 3); \

178 ((
	gzã_hódî_t
*)
	gp_out
)->
	gext_›code
 = 
code
; \

179 ((
	gzã_hódî_t
*)
	gp_out
)->
	gty≥
 = 
ty≥
; \

180 ((
	gzã_hódî_t
*)
	gp_out
)->
	gp‹t
 = 
p‹t
; \

181 
	gp_out
 +(
zã_hódî_t
); \

182 
	gg_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
zã_hódî_t
); \

185 
	gp_out
 = &
out_d©a
[
g_usOutD©aIdx
]; \

212 
	$lock_ªg
(
fd
, 
cmd
, 
ty≥
, 
off_t
 
off£t
, 
whí˚
, off_à
Àn
)

214 
Êock
 
lock
;

216 
lock
.
l_ty≥
 = 
ty≥
;

217 
lock
.
l_°¨t
 = 
off£t
;

218 
lock
.
l_whí˚
 = 
whí˚
;

219 
lock
.
l_Àn
 = 
Àn
;

221 (
	`f˙é
(
fd
, 
cmd
, &
lock
) );

222 
	}
}

224 
	#ªad_lock
(
fd
, 
off£t
, 
whí˚
, 
Àn
Ë\

	)

225 
	$lock_ªg
(
fd
, 
F_SETLK
, 
F_RDLCK
, 
off£t
, 
whí˚
, 
Àn
)

226 
	#wrôe_lock
(
fd
, 
off£t
, 
whí˚
, 
Àn
Ë\

	)

227 
	$lock_ªg
(
fd
, 
F_SETLK
, 
F_WRLCK
, 
off£t
, 
whí˚
, 
Àn
)

228 
	#UNLOCK
(
fd
, 
off£t
, 
whí˚
, 
Àn
)\

	)

229 
	$lock_ªg
(
fd
, 
F_SETLK
, 
F_UNLCK
, 
off£t
, 
whí˚
, 
Àn
)

231 
mac_fd
 = -1;

234 
	$zã_˘c_gë_p‹t_ödex
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_p‹tS
, u8_à*
p_p‹tE
)

236 if((
NULL
==
p_ö°™˚
Ë|| (NULL==
p_p‹tS
Ë|| (NULL==
p_p‹tE
))

238  
ERROR
;

240 if(0xf‡=
p_ö°™˚
->
v¨D©a
[0])

242 *
p_p‹tS
 = 1;

243 *
p_p‹tE
 = 
ODM_NUM_OF_PORTS
;

244  
NO_ERROR
;

246 if((
p_ö°™˚
->
v¨D©a
[0] <
ODM_NUM_OF_PORTS
) && (p_instance->varData[0] != 0))

248 *
p_p‹tS
 = 
p_ö°™˚
->
v¨D©a
[0];

249 *
p_p‹tE
 = 
p_ö°™˚
->
v¨D©a
[0];

250  
NO_ERROR
;

252  
ERROR
;

253 
	}
}

272 
	$wrôe_mac_uˇ°_dump
()

275 
mac_cou¡
;

276 
ªt
 = 
NO_ERROR
;

277 
Êock
 
lock
;

279 
	`mem£t
(&
lock
, 0, (
Êock
));

280 
mac_dump_uˇ°_èb_t
 
ãmpMacTabÀ
[
MAX_UMAC_NUM
];

281 
	`mem£t
(
ãmpMacTabÀ
, 0, (tempMacTable));

282 
	`Io˘l_GëMacDumpUˇ°
(
ãmpMacTabÀ
, &
mac_cou¡
);

284 if(
	`f˙é
(
mac_fd
, 
F_GETLK
, &
lock
) < 0)

286  
ERROR
;

288 if(
F_UNLCK
 =
lock
.
l_ty≥
)

290 if(
	`wrôe_lock
(
mac_fd
, 0, 
SEEK_SET
, 0) < 0)

292 
ªt
 = 
ERROR
;

293 
u∆ockfûe
;

295 if(
	`·runˇã
(
mac_fd
, 0) < 0)

297 
ªt
 = 
ERROR
;

298 
u∆ockfûe
;

300 if(
	`l£ek
(
mac_fd
, 0, 
SEEK_SET
) < 0)

302 
ªt
 = 
ERROR
;

303 
u∆ockfûe
;

307 if((
u32_t
Ë!
	`wrôe
(
mac_fd
, &
mac_cou¡
, (u32_t)))

309 
ªt
 = 
ERROR
;

310 
u∆ockfûe
;

313 if(
mac_cou¡
 * (
mac_dump_uˇ°_èb_t
Ë!(
u32_t
)
	`wrôe
(
mac_fd
, 
ãmpMacTabÀ
, (mac_dump_ucast_tab_t)*mac_count))

315 
ªt
 = 
ERROR
;

316 
u∆ockfûe
;

318 
u∆ockfûe
:

319 
	`UNLOCK
(
mac_fd
, 0, 
SEEK_SET
, 0);

322  
ªt
;

324  
NO_ERROR
;

325 
	}
}

344 
	$ªad_mac_uˇ°_dump
(
mac_dump_uˇ°_èb_t
* 
pMacTabÀ
, 
u32_t
* 
pmac_cou¡
 )

347 
mac_cou¡
 = 1;

348 
ªt
 = 
NO_ERROR
;

349 
Êock
 
lock
;

350 
mac_dump_uˇ°_èb_t
* 
pTempMacTabÀ
 = 
pMacTabÀ
;

352 
	`mem£t
(&
lock
, 0, (
Êock
));

353 if((
ªt
 = 
	`f˙é
(
mac_fd
, 
F_GETLK
, &
lock
)) < 0)

355  
ERROR
;

357 if(
F_UNLCK
 =
lock
.
l_ty≥
)

359 if(
	`ªad_lock
(
mac_fd
, 0, 
SEEK_SET
, 0) < 0)

361 
ªt
 = 
ERROR
;

362 
u∆ock_r
;

365 if(
	`l£ek
(
mac_fd
, 0, 
SEEK_SET
) < 0)

367 
ªt
 = 
ERROR
;

368 
u∆ock_r
;

372 if(4 !
	`ªad
(
mac_fd
, &
mac_cou¡
, (
u32_t
)))

374 
ªt
 = 
ERROR
;

375 
u∆ock_r
;

377 if(
mac_cou¡
 > 
MAX_UMAC_NUM
)

379 
ªt
 = 
ERROR
;

380 
u∆ock_r
;

382 *
pmac_cou¡
 = 
mac_cou¡
;

383 if((
mac_dump_uˇ°_èb_t
)*
mac_cou¡
 !(
u32_t
)
	`ªad
(
mac_fd
, 
pTempMacTabÀ
, (mac_dump_ucast_tab_t)*mac_count))

385 
ªt
 = 
ERROR
;

387 
u∆ock_r
:

388 
	`UNLOCK
(
mac_fd
, 0, 
SEEK_SET
, 0);

390  
ªt
;

392 *
pmac_cou¡
 = 0;

393 
	`Io˘l_GëMacDumpUˇ°
(
pMacTabÀ
, 
pmac_cou¡
);

395  
NO_ERROR
;

396 
	}
}

415 
	$˛ór_mac_fûãr
()

417 
u32_t
 
mac_cou¡
;

418 
u32_t
 
ödex
 = 0;

419 
mac_dump_uˇ°_èb_t
 
mac_èbÀ
[2048];

420 
mac_uˇ°_t
 
mac_to_dñ
;

421 
	`mem£t
(
mac_èbÀ
, 0, (
mac_dump_uˇ°_èb_t
)*2048);

423 
	`ªad_mac_uˇ°_dump
(
mac_èbÀ
, &
mac_cou¡
);

424 
	`mem£t
(&
mac_to_dñ
, 0, (
mac_uˇ°_t
));

426 
ödex
=0; index<
mac_cou¡
; index++)

429 if(0 =
mac_èbÀ
[
ödex
].
Õ‹t
)

431 
mac_to_dñ
.
lgcP‹t
 = 0;

432 
	`mem˝y
(
mac_to_dñ
.
mac_addr
, 
mac_èbÀ
[
ödex
].mac_addr, (
mac_addªss_t
));

433 
mac_to_dñ
.
tdVid
 = 
mac_èbÀ
[
ödex
].
vid
;

436 
	}
}

437 
	$˛ór_mac_°©ic
(
u8_t
 
p‹t_id
)

439 
u32_t
 
mac_cou¡
;

440 
u32_t
 
ödex
 = 0;

441 
mac_dump_uˇ°_èb_t
 
mac_èbÀ
[2048];

442 
mac_uˇ°_t
 
mac_to_dñ
;

443 
	`mem£t
(
mac_èbÀ
, 0, (
mac_dump_uˇ°_èb_t
)*2048);

444 
	`ªad_mac_uˇ°_dump
(
mac_èbÀ
, &
mac_cou¡
);

445 
	`mem£t
(&
mac_to_dñ
, 0, (
mac_uˇ°_t
));

446 
ödex
=0; index<
mac_cou¡
; index++)

448 if((
p‹t_id
==
mac_èbÀ
[
ödex
].
Õ‹t
Ë&& (mac_èbÀ[ödex].
Êag
&0x04))

450 
mac_to_dñ
.
lgcP‹t
 = 
p‹t_id
;

451 
	`mem˝y
(
mac_to_dñ
.
mac_addr
, 
mac_èbÀ
[
ödex
].mac_addr, (
mac_addªss_t
));

452 
mac_to_dñ
.
tdVid
 = 
mac_èbÀ
[
ödex
].
vid
;

453 
	`Io˘l_SëMacDñUˇ°Mac
(
mac_to_dñ
);

456 
	}
}

459 
	$°rùzîo°rög
(* 
§c
, * 
d°
,
Àn
)

461 
pos
=0;

462 
i
=0;

463 
§c
[
pos
] =0 &&Öos< 
Àn
)

465 
pos
 ++ ;

467 
i
=0;i<(
Àn
-
pos
);i++)

469 
d°
[
i
]=
§c
[i+
pos
];

471 
	}
}

474 
u32_t
 
	$°ub_zã_gë_⁄u_¢
(
u8_t
 *
p_⁄u_¢
)

478 
	}
}

480 
	$e›l_zã_gë_⁄u_suµ‹t
(
u8_t
 
ty≥
,u8_à
p‹t
, u8_t*
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

482 
ﬂm_zã_⁄u_soup‹t_t
 *
p_⁄u_soup‹t
;

483 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

485 *
pGíÀn
 = 0;

486 
p_⁄u_soup‹t
 = (
ﬂm_zã_⁄u_soup‹t_t
*)
pRïlyBuf
;

487 
p_⁄u_soup‹t
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

488 
p_⁄u_soup‹t
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ONU_SUPPORT
;

489 
p_⁄u_soup‹t
->
is_soup‹t
 = 0x01;

491 
p_⁄u_soup‹t
->
width
 = (
ﬂm_zã_⁄u_soup‹t_t
)-4;

492 *
pGíÀn
 +(
ﬂm_zã_⁄u_soup‹t_t
);

493 
	}
}

495 
	$e›l_zã_gë_⁄u_¢
(
u8_t
 
ty≥
,u8_à
p‹t
, u8_t*
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

497 
ﬂm_zã_⁄u_¢_t
 *
p_⁄u_¢
;

498 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

499 
u8_t
 
ﬂmR•Code
;

500 
u32_t
 
ªt
;

502 *
pGíÀn
 = 0;

503 
p_⁄u_¢
 = (
ﬂm_zã_⁄u_¢_t
*)
pRïlyBuf
;

504 
p_⁄u_¢
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

505 
p_⁄u_¢
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ONU_SN
;

507 
ªt
 = 
	`°ub_zã_gë_⁄u_¢
(
p_⁄u_¢
->
¢
);

508 if(
ªt
!
NO_ERROR
)

510 
p_⁄u_¢
->
width
 = 
OAM_BAD_PARAM_VALUE
;

511 *
pGíÀn
 += 4;

515 
p_⁄u_¢
->
width
 = (
ﬂm_zã_⁄u_¢_t
)-4;

516 *
pGíÀn
 +(
ﬂm_zã_⁄u_¢_t
);

518 
	}
}

521 
	mZTE_CONFIG_MANAGE_INVALID
 = 0x00,

522 
	mZTE_CONFIG_MANAGE_SAVE
 = 0x01,

523 
	mZTE_CONFIG_MANAGE_ERASE
 = 0x02,

524 
	mZTE_CONFIG_MANAGE_RESTOR_FACTORY
 = 0x03,

525 }
	tZTE_CONFIG_MANAGE_TYPE_t
;

527 
ZTE_CONFIG_MANAGE_TYPE_t
 
	ggC⁄figM™ageTy≥
;

529 * 
	$A·îC⁄figP¨amThªad
(*
pszP¨m
)

531 
ªt
 = 0;

532 
	`vosSÀï
(1);

533 if(
gC⁄figM™ageTy≥
 =
ZTE_CONFIG_MANAGE_RESTOR_FACTORY
){

535 
	`vosC⁄figEø£
();

536 
	`vosSÀï
(1);

538 
ªt
 = 
	`odmSysRe£t
();

540 
gC⁄figM™ageTy≥
 = 
ZTE_CONFIG_MANAGE_INVALID
;

542 if(
gC⁄figM™ageTy≥
 =
ZTE_CONFIG_MANAGE_SAVE
){

544 i‡(
	`vosC⁄figSave
(
NULL
) < 0)

549 
gC⁄figM™ageTy≥
 = 
ZTE_CONFIG_MANAGE_INVALID
;

552 
	`vosThªadExô
(0);

553  
NULL
;

554 
	}
}

555 
	$e›l_zã_£t_c⁄fig_∑øm
(
u8_t
 *
p_ö
,u8_à
ty≥
,u8_à
p‹t
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

557 
u32_t
 
ªt
 = 
OK
;

559 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

560 
ﬂm_zã_⁄u_c⁄fig_∑øm_t
 *
p_zã_c⁄fig_∑øm
;

562 *
pGíÀn
 = 0;

564 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

565 
p_r•
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

566 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_CONFIG_PARAM
;

568 
p_zã_c⁄fig_∑øm
 = (
ﬂm_zã_⁄u_c⁄fig_∑øm_t
 *)
p_ö
;

570 
gC⁄figM™ageTy≥
 = 
p_zã_c⁄fig_∑øm
->
a˘i⁄
;

572 if(
gC⁄figM™ageTy≥
 < 1 || gConfigManageType > 3){

573 
p_r•
->
ödiˇti⁄
 = 
OAM_NO_PARAM
;

574 *
pGíÀn
 += 4;

577 i‡(0 =
	`vosThªadCª©e
("tR°Fa˘", 
OP_VOS_THREAD_STKSZ
, 100,

578 
A·îC⁄figP¨amThªad
, 
NULL
))

580 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "Create AfterConfigResetThreadÅhread failed\n");

581 
ªt
 = 
ERROR
;

584 if(!
ªt
)

586 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

590 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

593 *
pGíÀn
 += 4;

596 
	}
}

601 
u8_t
 
	g°ub_zã_ty≥_c_k1
;

602 
u8_t
 
	g°ub_zã_ty≥_c_k2
;

604 
u32_t
 
	$°ub_zã_£t_ty≥_c
(
u8_t
 
k1
, u8_à
k2
)

606 
°ub_zã_ty≥_c_k1
 = 
k1
;

607 
°ub_zã_ty≥_c_k2
 = 
k2
;

609  
NO_ERROR
;

610 
	}
}

612 
u32_t
 
	$°ub_zã_gë_ty≥_c
(
u8_t
 *
p_k1
, u8_à*
p_k2
)

614 *
p_k1
 = 
°ub_zã_ty≥_c_k1
;

615 *
p_k2
 = 
°ub_zã_ty≥_c_k2
;

617  
NO_ERROR
;

618 
	}
}

620 
	$e›l_zã_£t_ty≥_c
(
u8_t
 *
p_ö
,u8_à
ty≥
,u8_à
p‹t
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

622 
u32_t
 
ªt
;

623 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

624 
ﬂm_zã_ty≥_c_t
 *
p_zã_ty≥_c
;

626 *
pGíÀn
 = 0;

627 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

628 
p_r•
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

629 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_TYPE_C_SET
;

631 
p_zã_ty≥_c
 = (
ﬂm_zã_ty≥_c_t
 *)
p_ö
;

633 
ªt
 = 
	`°ub_zã_£t_ty≥_c
(
p_zã_ty≥_c
->
k1
,Ö_zã_ty≥_c->
k2
);

634 if(!
ªt
)

636 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

640 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

643 *
pGíÀn
 += 4;

645 
	}
}

647 
	$e›l_zã_gë_ty≥_c
(
u8_t
 
ty≥
,u8_à
p‹t
, u8_t*
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

649 
ﬂm_zã_ty≥_c_t
 *
p_ty≥_c
;

650 
u32_t
 
ªt
;

652 *
pGíÀn
 = 0;

653 
p_ty≥_c
 = (
ﬂm_zã_ty≥_c_t
 *)
pRïlyBuf
;

654 
p_ty≥_c
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

655 
p_ty≥_c
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_TYPE_C_GET
;

656 
p_ty≥_c
->
width
 = 2;

658 
ªt
 = 
	`°ub_zã_gë_ty≥_c
(&
p_ty≥_c
->
k1
, &p_ty≥_c->
k2
);

660 *
pGíÀn
 +
p_ty≥_c
->
width
 + 4;

661 
	}
}

665 
	$e›l_zã_Æ¨m_ªp‹t
(
u8_t
 
p‹t_id
, 
u16_t
 
Æ¨m_id
)

667 
u8_t
 *
p_out
;

668 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

669 
ﬂm_zã_Æ¨m_öfo_t
 *
p_zã_Æ¨m_öfo
;

670 
u32_t
 
ªt
;

672 if(0 =
g_usAœrmOutD©aIdx
)

674 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_GET_RESPONSE
);

675 
p_out
 = &
Æ¨m_out_d©a
[0];

676 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

677 
g_usAœrmOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

681 
p_out
 = &
Æ¨m_out_d©a
[
g_usAœrmOutD©aIdx
];

684 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_out
;

685 
p_out
 +(
ﬂm_ö°™˚_év_t_2_0
);

686 
g_usOutD©aIdx
 +(
ﬂm_ö°™˚_év_t_2_0
);

688 
p_ö°
->
bønch
 = 0x36;

689 
p_ö°
->
Àaf
 = 0x0001;

690 
p_ö°
->
width
 = 0x01;

691 
p_ö°
->
vÆue
 = 
p‹t_id
;

693 
p_zã_Æ¨m_öfo
 = (
ﬂm_zã_Æ¨m_öfo_t
*)
p_out
;

694 
p_zã_Æ¨m_öfo
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

695 
p_zã_Æ¨m_öfo
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ALARM_INFO
;

696 
p_zã_Æ¨m_öfo
->
width
 = 5;

697 
p_zã_Æ¨m_öfo
->
Æ¨m_id
 =álarm_id;

699 
g_usAœrmOutD©aIdx
 +
p_zã_Æ¨m_öfo
->
width
 + 4;

701  
ªt
;

702 
	}
}

705 
u8_t
 
	g°ub_zã_Æ¨m_cfg
;

707 
u32_t
 
	$°ub_zã_gë_Æ¨m_cfg
(
u8_t
 *
p_Æ¨m_cfg
)

709 *
p_Æ¨m_cfg
 = 
°ub_zã_Æ¨m_cfg
;

711  
NO_ERROR
;

712 
	}
}

714 
u32_t
 
	$°ub_zã_£t_Æ¨m_cfg
(
u8_t
 
Æ¨m_cfg
)

716 if(
Æ¨m_cfg
 !
°ub_zã_Æ¨m_cfg
)

719 if(
Æ¨m_cfg
 == 1)

721 
	`odmAœrmThªadInô
();

725 
	`odmAœrmThªadShutdown
();

730 
°ub_zã_Æ¨m_cfg
 = 
Æ¨m_cfg
;

732  
NO_ERROR
;

733 
	}
}

735 
	$e›l_zã_gë_Æ¨m_cfg
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

737 
ﬂm_zã_Æ¨m_cfg_t
 *
p_zã_Æ¨m_cfg
;

738 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

740 
u8_t
 
ﬂmR•Code
;

741 
u8_t
 
Æ¨m_c⁄fig
;

742 
u32_t
 
ªt
;

745 
ªt
 = 
	`°ub_zã_gë_Æ¨m_cfg
(&
Æ¨m_c⁄fig
);

747 if(
ªt
 !
NO_ERROR
)

749 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

750 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

751 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

752 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

753 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

755 *
pGíÀn
 = 4;

759 
p_zã_Æ¨m_cfg
 = (
ﬂm_zã_Æ¨m_cfg_t
*)
pRïlybuf
;

760 
p_zã_Æ¨m_cfg
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

761 
p_zã_Æ¨m_cfg
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

762 
p_zã_Æ¨m_cfg
->
width
 = 1;

764 
p_zã_Æ¨m_cfg
->
Æ¨m_c⁄fig
 =álarm_config;

766 *
pGíÀn
 = 
p_zã_Æ¨m_cfg
->
width
 + 4;

768 
	}
}

770 
	$e›l_zã_£t_Æ¨m_cfg
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

772 
u8_t
 
ªt
;

773 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

774 
ﬂm_zã_Æ¨m_cfg_t
 *
p_zã_Æ¨m_cfg
;

777 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

778 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

779 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

781 
p_zã_Æ¨m_cfg
 = (
ﬂm_zã_Æ¨m_cfg_t
 *)
p_ö
;

783 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "£àÆ¨m c⁄fig = %d\n", 
p_zã_Æ¨m_cfg
->
Æ¨m_c⁄fig
);

785 
ªt
 = 
	`°ub_zã_£t_Æ¨m_cfg
(
p_zã_Æ¨m_cfg
->
Æ¨m_c⁄fig
);

786 if(
ªt
 =
OPL_OK
)

788 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

792 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

795 *
pGíÀn
 = 4;

798 
	}
}

801 
ﬂm_zã_upgøde_∑ø_t
 
	g°ub_zã_upgøde_∑ø
;

803 
u32_t
 
	$°ub_zã_gë_upgøde_∑ø
(
ﬂm_zã_upgøde_∑ø_t
 *
p_upgøde_∑ø
)

806 
p_upgøde_∑ø
->
ù_addr
 = 
°ub_zã_upgøde_∑ø
.ip_addr;

807 
p_upgøde_∑ø
->
ù_mask
 = 
°ub_zã_upgøde_∑ø
.ip_mask;

808 
p_upgøde_∑ø
->
g©eway
 = 
°ub_zã_upgøde_∑ø
.gateway;

809 
p_upgøde_∑ø
->
vœnid
 = 
°ub_zã_upgøde_∑ø
.vlanid;

810 
	`vosMemCpy
(&
p_upgøde_∑ø
->
u£∫ame
, 
°ub_zã_upgøde_∑ø
.username, 8);

811 
	`vosMemCpy
(&
p_upgøde_∑ø
->
∑ssw‹d
, 
°ub_zã_upgøde_∑ø
.password, 8);

812 
p_upgøde_∑ø
->
a˘i⁄
 = 
°ub_zã_upgøde_∑ø
.action;

813 
p_upgøde_∑ø
->
vî_num
 = 
°ub_zã_upgøde_∑ø
.ver_num;

814 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me1
, 
°ub_zã_upgøde_∑ø
.ver_name1, 16);

815 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me2
, 
°ub_zã_upgøde_∑ø
.ver_name2, 16);

816 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me3
, 
°ub_zã_upgøde_∑ø
.ver_name3, 16);

818  
NO_ERROR
;

819 
	}
}

821 
u32_t
 
	$°ub_zã_£t_upgøde_∑ø
(
ﬂm_zã_upgøde_∑ø_t
 *
p_upgøde_∑ø
)

823 
°ub_zã_upgøde_∑ø
.
ù_addr
 = 
p_upgøde_∑ø
->ip_addr;

824 
°ub_zã_upgøde_∑ø
.
ù_mask
 = 
p_upgøde_∑ø
->ip_mask;

825 
°ub_zã_upgøde_∑ø
.
g©eway
 = 
p_upgøde_∑ø
->gateway;

826 
°ub_zã_upgøde_∑ø
.
vœnid
 = 
p_upgøde_∑ø
->vlanid;

827 
	`vosMemCpy
(&
°ub_zã_upgøde_∑ø
.
u£∫ame
, &
p_upgøde_∑ø
->username, 8);

828 
	`vosMemCpy
(&
°ub_zã_upgøde_∑ø
.
∑ssw‹d
, &
p_upgøde_∑ø
->password, 8);

829 
°ub_zã_upgøde_∑ø
.
a˘i⁄
 = 
p_upgøde_∑ø
->action;

830 
°ub_zã_upgøde_∑ø
.
vî_num
 = 
p_upgøde_∑ø
->ver_num;

831 
	`vosMemCpy
(&
°ub_zã_upgøde_∑ø
.
vî_«me1
, &
p_upgøde_∑ø
->ver_name1, 16);

832 
	`vosMemCpy
(&
°ub_zã_upgøde_∑ø
.
vî_«me2
, &
p_upgøde_∑ø
->ver_name2, 16);

833 
	`vosMemCpy
(&
°ub_zã_upgøde_∑ø
.
vî_«me3
, &
p_upgøde_∑ø
->ver_name3, 16);

835  
NO_ERROR
;

836 
	}
}

838 
	$e›l_zã_gë_upgøde_∑ø
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

840 
ﬂm_zã_upgøde_∑ø_t
 *
p_upgøde_∑ø
;

841 
ﬂm_zã_upgøde_∑ø_t
 
⁄u_upgøde_∑ø
;

842 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

843 
u32_t
 
ªt
;

844 
u8_t
 
ﬂmR•Code
;

847 
ªt
 = 
	`°ub_zã_gë_upgøde_∑ø
(&
⁄u_upgøde_∑ø
);

849 if(
ªt
 !
NO_ERROR
)

851 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

852 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

853 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

854 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

855 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

857 *
pGíÀn
 = 4;

862 
p_upgøde_∑ø
 = (
ﬂm_zã_upgøde_∑ø_t
*)
pRïlybuf
;

863 
p_upgøde_∑ø
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

864 
p_upgøde_∑ø
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

865 
p_upgøde_∑ø
->
width
 = 80;

867 
p_upgøde_∑ø
->
ù_addr
 = 
⁄u_upgøde_∑ø
.ip_addr;

868 
p_upgøde_∑ø
->
ù_mask
 = 
⁄u_upgøde_∑ø
.ip_mask;

869 
p_upgøde_∑ø
->
g©eway
 = 
⁄u_upgøde_∑ø
.gateway;

870 
p_upgøde_∑ø
->
vœnid
 = 
⁄u_upgøde_∑ø
.vlanid;

871 
	`vosMemCpy
(&
p_upgøde_∑ø
->
u£∫ame
, 
⁄u_upgøde_∑ø
.username, 8);

872 
	`vosMemCpy
(&
p_upgøde_∑ø
->
∑ssw‹d
, 
⁄u_upgøde_∑ø
.password, 8);

873 
p_upgøde_∑ø
->
a˘i⁄
 = 
⁄u_upgøde_∑ø
.action;

874 
p_upgøde_∑ø
->
vî_num
 = 
⁄u_upgøde_∑ø
.ver_num;

875 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me1
, 
⁄u_upgøde_∑ø
.ver_name1, 16);

876 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me2
, 
⁄u_upgøde_∑ø
.ver_name2, 16);

877 
	`vosMemCpy
(&
p_upgøde_∑ø
->
vî_«me3
, 
⁄u_upgøde_∑ø
.ver_name3, 16);

878 
p_upgøde_∑ø
->
width
 = 
OAM_SET_BAD_PARAMETERS
;

881 *
pGíÀn
 = 1 + 4;

884 
	}
}

886 
	$e›l_zã_£t_upgøde_∑ø
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

888 
u8_t
 
ªt
;

889 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

890 
ﬂm_zã_upgøde_∑ø_t
 *
p_zã_upgøde_∑ø
;

893 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

894 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

895 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

897 
p_zã_upgøde_∑ø
 = (
ﬂm_zã_upgøde_∑ø_t
 *)
p_ö
;

900 
ªt
 = 
	`°ub_zã_£t_upgøde_∑ø
(
p_zã_upgøde_∑ø
);

901 if(
ªt
 =
OPL_OK
)

903 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

907 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

910 *
pGíÀn
 = 4;

914 
	}
}

917 
u32_t
 
	$°ub_zã_gë_mac_addr_limô
(
u8_t
 
p‹t_id
, 
u16_t
 *
p_limô_num
)

919 
u32_t
 
ªt
;

920 
u32_t
 
mac_limô_num
;

921 
u32_t
 
mac_limô_íabÀ
;

923 
ªt
 = 
	`odmP‹tMacLimôNumE«bÀGë
(
p‹t_id
, &
mac_limô_íabÀ
, &
mac_limô_num
);

925 if(
ªt
 !
NO_ERROR
)

926  
ªt
;

928 *
p_limô_num
 = 
mac_limô_num
;

930  
NO_ERROR
;

931 
	}
}

933 
u32_t
 
	$°ub_zã_£t_mac_addr_limô
(
u8_t
 
p‹t_id
, 
u16_t
 
limô_num
)

935 
u32_t
 
ªt
;

937 if(
limô_num
 == 0xFFFF)

941 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
p‹t_id
, 
MAC_LEARNING_UNLIMIT
, 
TRUE
);

943 if(
ªt
 !
DRV_OK
)

945  
ERROR
;

947  
NO_ERROR
;

951 
ªt
 = 
	`Io˘l_SëMacLó∫Limô
(
p‹t_id
, 
limô_num
, 
TRUE
);

952 if(
ªt
 !
DRV_OK
)

954  
ERROR
;

956 
ªt
 = 
NO_ERROR
;

959  
ªt
;

960 
	}
}

962 
	$e›l_zã_gë_mac_addr_limô
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

964 
u8_t
 
ªt
;

965 
u8_t
 
ucP‹tS
;

966 
u8_t
 
ucP‹tE
;

967 
u8_t
 
ﬂmR•Code
;

968 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

969 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

970 
ﬂm_zã_mac_limô_t
 *
p_zã_mac_limô
;

971 
u16_t
 
íabÀ
;

972 
u16_t
 
limô_num
;

974 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

976 
ucP‹tS
 = 1;

977 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

981 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

982 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

984 *
pGíÀn
 = 0;

985 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

987 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

988 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

989 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

990 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

991 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

993 
ªt
 = 
	`°ub_zã_gë_mac_addr_limô
(
ucP‹tS
, &
limô_num
);

995 if(
ªt
 !
NO_ERROR
)

997 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

998 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

999 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1000 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

1001 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

1003 *
pGíÀn
 += 4;

1007 
p_zã_mac_limô
 = (
ﬂm_zã_mac_limô_t
*)
pRïlybuf
;

1008 
p_zã_mac_limô
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1009 
p_zã_mac_limô
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
;

1010 
p_zã_mac_limô
->
width
 = 2;

1011 
p_zã_mac_limô
->
limô_num
 =Üimit_num;

1013 *
pGíÀn
 +
p_zã_mac_limô
->
width
 + 4;

1017 
	}
}

1019 
	$e›l_zã_£t_mac_addr_limô
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1021 
u8_t
 
ªt
, 
ucP‹tS
, 
ucP‹tE
;

1022 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1023 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

1024 
ﬂm_zã_mac_limô_t
 *
p_zã_mac_limô
;

1026 
ªt
=
OPL_OK
;

1027 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

1028 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1029 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
;

1032 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

1034 
ucP‹tS
 = 1;

1035 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

1039 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1040 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1042 if(
EPON_OAM_ERR_PARAM
 =
ªt
)

1044  
EPON_OAM_ERR_OK
;

1047 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

1049 
ªt
 = 
ERROR
;

1050 
£nd_r•
;

1052 *
pGíÀn
 = 0;

1054 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

1055 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

1056 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

1057 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

1060 
p_zã_mac_limô
 = (
ﬂm_zã_mac_limô_t
 *)
p_ö
;

1061 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1063 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "p‹à%d: së ma¯limôÇum = %d\n", 
ucP‹tS
, 
p_zã_mac_limô
->
limô_num
);

1064 
ªt
 = 
	`°ub_zã_£t_mac_addr_limô
(
ucP‹tS
, 
p_zã_mac_limô
->
limô_num
);

1065 if(
ªt
 !
NO_ERROR
)

1066 
£nd_r•
;

1068 
£nd_r•
:

1069 if(
ªt
 =
OPL_OK
)

1071 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1073 i‡(
ªt
 =
ERR_INVALID_PARAMETERS
){

1074 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_BAD_PARAMETERS
;

1078 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1081 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

1082 
	}
}

1085 
u32_t
 
	$°ub_zã_gë_mac_addr_agög_time
(
u32_t
 *
p_agög_time
)

1087 
u32_t
 
ªt
;

1089 
ªt
 = 
	`odmFdbAgögTimeGë
(
p_agög_time
);

1091  
ªt
;

1092 
	}
}

1094 
u32_t
 
	$°ub_zã_£t_mac_addr_agög_time
(
u32_t
 
agög_time
)

1096 
u32_t
 
ªt
;

1099 if((
agög_time
<
MIN_MAC_AGETIME
Ë|| (agög_time>
MAX_MAC_AGETIME
))

1101  
ERROR
;

1103 
ªt
 = 
	`Io˘l_SëMacAgeTime
(
agög_time
*10);

1105 if(
ªt
 !
DRV_OK
)

1107  
ERROR
;

1110  
ªt
;

1111 
	}
}

1113 
	$e›l_zã_gë_mac_addr_agög
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1115 
u8_t
 
ﬂmR•Code
;

1116 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

1117 
ﬂm_zã_mac_agög_t
 *
p_zã_mac_agög
;

1118 
u32_t
 
ªt
;

1121 
p_zã_mac_agög
 = (
ﬂm_zã_mac_agög_t
 *)
pRïlybuf
;

1122 
p_zã_mac_agög
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1123 
p_zã_mac_agög
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
;

1125 
ªt
 = 
	`°ub_zã_gë_mac_addr_agög_time
(&
p_zã_mac_agög
->
agög_time
);

1127 if(
ªt
 !
NO_ERROR
)

1129 
p_zã_mac_agög
->
width
 = 
OAM_GET_NO_RESOURCE
;

1130 *
pGíÀn
 = 4;

1134 
p_zã_mac_agög
->
width
 = (
ﬂm_zã_mac_agög_t
);

1135 *
pGíÀn
 = 
p_zã_mac_agög
->
width
 + 4;

1138 
	}
}

1140 
	$e›l_zã_£t_mac_addr_agög
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1142 
u8_t
 
ªt
;

1143 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1144 
ﬂm_zã_mac_agög_t
 *
p_zã_mac_agög
;

1147 
p_zã_mac_agög
 = (
ﬂm_zã_mac_agög_t
 *)
p_ö
;

1149 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

1150 
p_r•
->
bønch
 = 
p_zã_mac_agög
->branch;

1151 
p_r•
->
Àaf
 = 
p_zã_mac_agög
->leaf;

1153 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "£àma¯add∏agögÅimê%d\n", 
p_zã_mac_agög
->
agög_time
);

1155 
ªt
 = 
	`°ub_zã_£t_mac_addr_agög_time
(
p_zã_mac_agög
->
agög_time
);

1156 if(
ªt
 =
OPL_OK
)

1158 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1162 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1165 *
pGíÀn
 = 4;

1168 
	}
}

1172 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_íåy_add
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_íåy
)

1174  
NO_ERROR
;

1175 
	}
}

1177 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_íåy_dñ
(
u8_t
 
p‹t_id
, u8_à
íåy_id
)

1180  
NO_ERROR
;

1181 
	}
}

1183 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_íåy_gë
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_íåy
)

1185 
u16_t
 
vœn_id
;

1186 
u8_t
 
mac_addr_°r
[32];

1187 
u32_t
 
ªt
;

1189 
ªt
 = 
	`odmP‹tMacFûãrE¡ryGë
(
p‹t_id
, 
íåy_id
, &
vœn_id
, 
mac_addr_°r
);

1191 if(
ªt
 !
NO_ERROR
)

1192  
ªt
;

1194 
p_íåy
->
vœn_id
 = vlan_id;

1197 
	`vosSåToMac
(
mac_addr_°r
, 
p_íåy
->
mac_addr
);

1200  
NO_ERROR
;

1201 
	}
}

1203 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_add
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_íåy
)

1205 
u8_t
 
num_of_íåõs
;

1206 
u32_t
 
ªt
;

1207 
u16_t
 
vœn_id
;

1208 
u8_t
 
mac_addr_°r
[32];

1213 
mac_uˇ°_t
 
£t_mac_addªss
;

1214 
p‹t_id
 =Öort_id;

1215 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

1217 
£t_mac_addªss
.
lgcP‹t
 = 0;

1218 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_íåy
->mac_addr, (
mac_addªss_t
));

1219 
£t_mac_addªss
.
tdVid
 = 
p_íåy
->
vœn_id
;

1221 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1223  
ERROR
;

1227 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1229 
£t_mac_addªss
.
tdVid
 = 0;

1231 if(!
vœnExi°
)

1233  
ERROR
;

1239 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

1240 if(
ªt
 !
DRV_OK
)

1242  
ERROR
;

1244  
NO_ERROR
;

1245 
	}
}

1247 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_dñ
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_íåy
)

1249 
u32_t
 
ªt
;

1250 
u8_t
 
num_of_íåy
;

1251 
u16_t
 
vœn_id
;

1252 
u8_t
 
mac_addr_°r
[32];

1253 
mac_uˇ°_t
 
mac_addªss_íåy
;

1258 
	`mem£t
(&
mac_addªss_íåy
, 0, (
mac_uˇ°_t
));

1260 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1262  
ERROR
;

1265 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1267 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_íåy
->
mac_addr
, &
mac_addªss_íåy
);

1269 if(
vœnExi°
)

1271 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
mac_addªss_íåy
);

1275  
ERROR
;

1278 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
mac_addªss_íåy
);

1281 if(
DRV_OK
 !
ªt
)

1284  
NO_ERROR
;

1287 if(0 =
mac_addªss_íåy
.
lgcP‹t
)

1289 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
mac_addªss_íåy
);

1290 if(
DRV_OK
 !=
ªt
)

1292  
ERROR
;

1295  
NO_ERROR
;

1296 
	}
}

1298 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_˛ór
(
u8_t
 
p‹t_id
)

1300 
	`˛ór_mac_fûãr
();

1301  
NO_ERROR
;

1302 
	}
}

1304 
u32_t
 
	$°ub_zã_p‹t_mac_fûãr_num_gë
(
u8_t
 
p‹t_id
, u8_à*
p_íåy_num
)

1306 
u32_t
 
ªt
;

1307 
u8_t
 
íåy_num
;

1310 
ªt
 = 
	`odmP‹tMacFûãrNumGë
(
p‹t_id
, &
íåy_num
);

1313 if(
ªt
 !
NO_ERROR
)

1314  
ªt
;

1316 *
p_íåy_num
 = 
íåy_num
;

1318  
NO_ERROR
;

1319 
	}
}

1322 
	$e›l_zã_gë_p‹t_mac_fûãr
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1324 
u8_t
 
ªt
;

1325 
u8_t
 
ucP‹tS
;

1326 
u8_t
 
ucP‹tE
;

1327 
u8_t
 
ﬂmR•Code
;

1328 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

1329 
ﬂm_zã_p‹t_mac_fûãr_t
 *
p_zã_p‹t_mac_fûãr
;

1330 
ﬂm_r•_ödiˇti⁄_t
 * 
p_gë_r•
;

1331 
u8_t
 
num_of_íåõs
;

1332 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_zã_mac_fûãr_íåy
;

1333 
u8_t
 
i
;

1335 
ªt
 = 
NO_ERROR
;

1337 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

1339 
ucP‹tS
 = 1;

1340 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

1344 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1345 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1348 *
pGíÀn
 = 0;

1349 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1351 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

1352 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

1353 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

1354 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

1355 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

1357 
ªt
 = 
	`°ub_zã_p‹t_mac_fûãr_num_gë
(
ucP‹tS
, &
num_of_íåõs
);

1359 if(
ªt
 !
NO_ERROR
)

1361 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

1362 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

1363 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1364 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1365 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

1367 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

1371 
p_zã_p‹t_mac_fûãr
 = (
ﬂm_zã_p‹t_mac_fûãr_t
 *)
pRïlybuf
;

1372 
pRïlybuf
 +(
ﬂm_zã_p‹t_mac_fûãr_íåy_t
);

1374 
p_zã_p‹t_mac_fûãr
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1375 
p_zã_p‹t_mac_fûãr
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1376 
p_zã_p‹t_mac_fûãr
->
a˘i⁄
 = 0x03;

1379 
p_zã_p‹t_mac_fûãr
->
num_of_íåõs
 =Çum_of_entries;

1380 
p_zã_p‹t_mac_fûãr
->
width
 = 2 + 8 * 
num_of_íåõs
;

1383 
i
 = 0; i < 
num_of_íåõs
; i++)

1386 
p_zã_mac_fûãr_íåy
 = (
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *)
pRïlybuf
;

1388 
ªt
 = 
	`°ub_zã_p‹t_mac_fûãr_íåy_gë
(
ucP‹tS
, 
i
, 
p_zã_mac_fûãr_íåy
);

1390 if(
ªt
 !
NO_ERROR
)

1392 
p_zã_p‹t_mac_fûãr
->
width
 = 
OAM_GET_NO_RESOURCE
;

1393 *
pGíÀn
 += 4;

1398 
pRïlybuf
 +(
ﬂm_zã_p‹t_mac_fûãr_íåy_t
);

1402 *
pGíÀn
 +
p_zã_p‹t_mac_fûãr
->
width
 + 4;

1408 
	}
}

1410 
	$e›l_zã_£t_p‹t_mac_fûãr
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1412 
u8_t
 
ucP‹tS
, 
ucP‹tE
, 
curP‹tId
;

1413 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1414 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

1415 
ﬂm_zã_p‹t_mac_fûãr_t
 *
p_zã_p‹t_mac_fûãr
;

1416 
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *
p_zã_mac_fûãr_íåy
;

1417 
u8_t
 
num_of_íåõs
;

1418 
u8_t
 
i
;

1419 
u32_t
 
ªt
;

1421 
ªt
=
OPL_OK
;

1422 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

1423 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1424 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1427 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

1429 
ªt
 = 
ERROR
;

1430 
£nd_r•
;

1433 *
pGíÀn
 = 0;

1435 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

1436 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

1437 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

1441 
p_zã_p‹t_mac_fûãr
 = (
ﬂm_zã_p‹t_mac_fûãr_t
 *)
p_ö
;

1442 
p_ö
 +(
ﬂm_zã_p‹t_mac_fûãr_t
);

1444 
num_of_íåõs
 = 
p_zã_p‹t_mac_fûãr
->num_of_entries;

1446 
p_zã_mac_fûãr_íåy
 = (
ﬂm_zã_p‹t_mac_fûãr_íåy_t
 *)
p_ö
;

1448 if(
p_zã_p‹t_mac_fûãr
->
a˘i⁄
 == 0x00)

1450 
i
 = 0; i < 
num_of_íåõs
; i++)

1452 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

1454 
ªt
 = 
	`°ub_zã_p‹t_mac_fûãr_dñ
(
curP‹tId
, 
p_zã_mac_fûãr_íåy
);

1455 if(
ªt
 !
NO_ERROR
)

1456 
£nd_r•
;

1459 
p_zã_mac_fûãr_íåy
++;

1462 if(
p_zã_p‹t_mac_fûãr
->
a˘i⁄
 == 0x01)

1464 
i
 = 0; i < 
num_of_íåõs
; i++)

1466 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

1468 
ªt
 = 
	`°ub_zã_p‹t_mac_fûãr_add
(
curP‹tId
, 
p_zã_mac_fûãr_íåy
);

1469 if(
ªt
 !
NO_ERROR
)

1470 
£nd_r•
;

1473 
p_zã_mac_fûãr_íåy
++;

1476 if(
p_zã_p‹t_mac_fûãr
->
a˘i⁄
 == 0x02)

1478 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1480 
ªt
 = 
	`°ub_zã_p‹t_mac_fûãr_˛ór
(
ucP‹tS
);

1481 if(
ªt
 !
NO_ERROR
)

1482 
£nd_r•
;

1486 
£nd_r•
:

1487 if(
ªt
 =
OPL_OK
)

1489 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1493 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1496 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_ö°™˚_év_t_2_0
);

1499 
	}
}

1502 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_íåy_add
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_íåy
)

1505  
NO_ERROR
;

1506 
	}
}

1508 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_íåy_dñ
(
u8_t
 
p‹t_id
, u8_à
íåy_id
)

1511  
NO_ERROR
;

1512 
	}
}

1514 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_íåy_gë
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_íåy
)

1516 
u16_t
 
vœn_id
;

1517 
u8_t
 
mac_addr_°r
[32];

1518 
u32_t
 
ªt
;

1520 
ªt
 = 
	`odmP‹tBödMacE¡ryGë
(
p‹t_id
, 
íåy_id
, &
vœn_id
, 
mac_addr_°r
);

1522 if(
ªt
 !
NO_ERROR
)

1523  
ªt
;

1525 
p_íåy
->
vœn_id
 = vlan_id;

1527 
	`vosSåToMac
(
mac_addr_°r
, 
p_íåy
->
mac_addr
);

1529  
NO_ERROR
;

1531 
	}
}

1534 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_add
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_íåy
)

1536 
u32_t
 
ªt
;

1541 
mac_uˇ°_t
 
£t_mac_addªss
;

1542 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

1543 
£t_mac_addªss
.
lgcP‹t
 = 
p‹t_id
;

1544 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_íåy
->mac_addr, (
mac_addªss_t
));

1545 
£t_mac_addªss
.
tdVid
 = 
p_íåy
->
vœn_id
;

1548 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1550  
ERROR
;

1553 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1555 
£t_mac_addªss
.
tdVid
 = 0;

1557 i‡(!
vœnExi°
)

1559  
ERROR
;

1563 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

1564 if(
ªt
 !
DRV_OK
)

1566  
ERROR
;

1568  
NO_ERROR
;

1569 
	}
}

1571 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_dñ
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_íåy
)

1573 
u32_t
 
ªt
;

1575 
mac_uˇ°_t
 
mac_addªss_íåy
;

1577 
UINT8
 
vœnExi°
 = 0;

1578 
UINT8
 
vœnMode
 = 0;

1579 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1581  
ERROR
;

1584 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1586 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_íåy
->
mac_addr
, &
mac_addªss_íåy
);

1588 if(
vœnExi°
)

1590 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
mac_addªss_íåy
);

1594  
ERROR
;

1598 
	`mem£t
(&
mac_addªss_íåy
, 0, (
mac_uˇ°_t
));

1599 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
mac_addªss_íåy
);

1602 if(
DRV_OK
 !
ªt
)

1605  
NO_ERROR
;

1609 if(
mac_addªss_íåy
.
lgcP‹t
 =
p‹t_id
)

1611 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
mac_addªss_íåy
);

1612 if(
DRV_OK
 !=
ªt
)

1614  
ERROR
;

1618  
NO_ERROR
;

1619 
	}
}

1621 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_˛ór
(
u8_t
 
p‹t_id
)

1623 
u32_t
 
ªt
;

1624 
mac_dñëe_t
 
bödög_mac_˛ór
;

1625 
	`mem£t
(&
bödög_mac_˛ór
, 0, (
mac_dñëe_t
));

1627 
bödög_mac_˛ór
.
ÊushByP‹t
 = 
ENABLE
;

1628 
bödög_mac_˛ór
.
ÊushSèticAddr
 = 
DISABLE
;

1629 
bödög_mac_˛ór
.
p‹t
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1631 
ªt
 = 
	`Io˘l_SëMacFlushUˇ°Mac
(
bödög_mac_˛ór
);

1633  
ªt
;

1635 
	}
}

1637 
u32_t
 
	$°ub_zã_p‹t_mac_bödög_num_gë
(
u8_t
 
p‹t_id
, u8_à*
p_íåy_num
)

1639 
u32_t
 
ªt
;

1640 
u8_t
 
íåy_num
;

1643 
ªt
 = 
	`odmP‹tBödMacNumGë
(
p‹t_id
, &
íåy_num
);

1646 if(
ªt
 !
NO_ERROR
)

1647  
ªt
;

1649 *
p_íåy_num
 = 
íåy_num
;

1651  
NO_ERROR
;

1653 
	}
}

1656 
	$e›l_zã_gë_p‹t_mac_bödög
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1658 
u8_t
 
ucP‹tS
;

1659 
u8_t
 
ucP‹tE
;

1660 
u8_t
 
ﬂmR•Code
;

1661 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

1662 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

1663 
ﬂm_zã_p‹t_mac_bödög_t
 *
p_zã_p‹t_mac_bödög
;

1664 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_zã_mac_bödög_íåy
;

1665 
u8_t
 
i
;

1666 
u32_t
 
ªt
;

1667 
u8_t
 
num_of_íåõs
;

1669 
ªt
 = 
NO_ERROR
;

1671 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

1673 
ucP‹tS
 = 1;

1674 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

1678 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1679 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1682 *
pGíÀn
 = 0;

1683 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1685 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

1686 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

1687 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

1688 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

1689 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

1691 
ªt
 = 
	`°ub_zã_p‹t_mac_bödög_num_gë
(
ucP‹tS
, &
num_of_íåõs
);

1693 if(
ªt
 !
NO_ERROR
)

1695 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

1696 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

1697 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1698 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1699 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

1701 *
pGíÀn
 += 4;

1705 
p_zã_p‹t_mac_bödög
 = (
ﬂm_zã_p‹t_mac_bödög_t
*)
pRïlybuf
;

1706 *
pRïlybuf
 +(
ﬂm_zã_p‹t_mac_bödög_t
);

1708 
p_zã_p‹t_mac_bödög
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1709 
p_zã_p‹t_mac_bödög
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1710 
p_zã_p‹t_mac_bödög
->
a˘i⁄
 = 0x03;

1712 
p_zã_p‹t_mac_bödög
->
num_of_íåõs
 =Çum_of_entries;

1713 
p_zã_p‹t_mac_bödög
->
width
 = 2 + 8 * 
num_of_íåõs
;

1715 
i
 = 0; i < 
num_of_íåõs
; i++)

1717 
p_zã_mac_bödög_íåy
 = (
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *)
pRïlybuf
;

1719 
ªt
 = 
	`°ub_zã_p‹t_mac_bödög_íåy_gë
(
ucP‹tS
, 
i
, 
p_zã_mac_bödög_íåy
);

1720 if(
ªt
 !
NO_ERROR
)

1722 
p_zã_p‹t_mac_bödög
->
width
 = 
OAM_GET_NO_RESOURCE
;

1723 *
pGíÀn
 += 4;

1726 
pGíÀn
 +(
ﬂm_zã_p‹t_mac_bödög_íåy_t
);

1730 *
pGíÀn
 +
p_zã_p‹t_mac_bödög
->
width
 + 4;

1734 
	}
}

1736 
	$e›l_zã_£t_p‹t_mac_bödög
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

1738 
u8_t
 
ucP‹tS
, 
ucP‹tE
, 
curP‹tId
;

1739 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

1740 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

1741 
ﬂm_zã_p‹t_mac_bödög_t
 *
p_zã_p‹t_mac_bödög
;

1742 
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *
p_zã_mac_bödög_íåy
;

1743 
u8_t
 
num_of_íåõs
;

1744 
u8_t
 
i
;

1745 
u32_t
 
ªt
;

1747 
ªt
=
OPL_OK
;

1748 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

1749 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1750 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1752 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

1754 
ªt
 = 
ERROR
;

1755 
£nd_r•
;

1758 *
pGíÀn
 = 0;

1760 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

1761 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

1762 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

1763 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

1766 
p_zã_p‹t_mac_bödög
 = (
ﬂm_zã_p‹t_mac_bödög_t
 *)
p_ö
;

1767 
p_ö
 +(
ﬂm_zã_p‹t_mac_bödög_t
);

1769 
num_of_íåõs
 = 
p_zã_p‹t_mac_bödög
->num_of_entries;

1771 
p_zã_mac_bödög_íåy
 = (
ﬂm_zã_p‹t_mac_bödög_íåy_t
 *)
p_ö
;

1773 if(
p_zã_p‹t_mac_bödög
->
a˘i⁄
 == 0x00)

1775 
i
 = 0; i < 
num_of_íåõs
; i++)

1777 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

1779 
ªt
 = 
	`°ub_zã_p‹t_mac_bödög_dñ
(
curP‹tId
, 
p_zã_mac_bödög_íåy
);

1780 if(
ªt
 !
NO_ERROR
)

1781 
£nd_r•
;

1784 
p_zã_mac_bödög_íåy
++;

1787 if(
p_zã_p‹t_mac_bödög
->
a˘i⁄
 == 0x01)

1789 
i
 = 0; i < 
num_of_íåõs
; i++)

1791 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

1793 
ªt
 = 
	`°ub_zã_p‹t_mac_bödög_add
(
curP‹tId
, 
p_zã_mac_bödög_íåy
);

1794 if(
ªt
 !
NO_ERROR
)

1795 
£nd_r•
;

1798 
p_zã_mac_bödög_íåy
++;

1801 if(
p_zã_p‹t_mac_bödög
->
a˘i⁄
 == 0x02)

1803 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

1805 
ªt
 = 
	`°ub_zã_p‹t_mac_bödög_˛ór
(
ucP‹tS
);

1806 if(
ªt
 !
NO_ERROR
)

1807 
£nd_r•
;

1811 
£nd_r•
:

1812 if(
ªt
 =
OPL_OK
)

1814 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

1818 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

1821 *
pGíÀn
 +(
ﬂm_£t_ª•⁄£_t
)+(
ﬂm_ö°™˚_év_t_2_0
);

1824 
	}
}

1828 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_íåy_add
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_íåy
)

1831  
NO_ERROR
;

1832 
	}
}

1834 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_íåy_dñ
(
u8_t
 
p‹t_id
, u8_à
íåy_id
)

1837  
NO_ERROR
;

1838 
	}
}

1840 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_íåy_gë
(
u8_t
 
p‹t_id
, u8_à
íåy_id
, 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_íåy
)

1842 
u16_t
 
vœn_id
;

1843 
u8_t
 
mac_addr_°r
[32];

1844 
u32_t
 
ªt
;

1846 
ªt
 = 
	`odmP‹tSèticMacE¡ryGë
(
p‹t_id
, 
íåy_id
, &
vœn_id
, 
mac_addr_°r
);

1848 if(
ªt
 !
NO_ERROR
)

1849  
ªt
;

1851 
p_íåy
->
vœn_id
 = vlan_id;

1853 
	`vosSåToMac
(
mac_addr_°r
, 
p_íåy
->
mac_addr
);

1855  
NO_ERROR
;

1856 
	}
}

1858 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_num_gë
(
u8_t
 
p‹t_id
, u8_à*
p_íåy_num
)

1860 
u32_t
 
ªt
;

1861 
u8_t
 
íåy_num
;

1864 
ªt
 = 
	`odmP‹tSèticMacNumGë
(
p‹t_id
, &
íåy_num
);

1866 if(
ªt
 !
NO_ERROR
)

1867  
ªt
;

1869 *
p_íåy_num
 = 
íåy_num
;

1871  
NO_ERROR
;

1873 
	}
}

1876 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_add
(
u8_t
 
p‹t_id
, 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_íåy
)

1878 
u32_t
 
ªt
;

1879 
mac_uˇ°_t
 
gë_mac_addªss
;

1880 
mac_uˇ°_t
 
£t_mac_addªss
;

1883 
UINT8
 
vœnMode
= 0;

1884 
UINT8
 
vœnExi°
= 0;

1885 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1887  
ERROR
;

1890 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1892 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_íåy
->
mac_addr
, &
gë_mac_addªss
);

1894 if(
vœnExi°
)

1897 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
gë_mac_addªss
);

1901  
ERROR
;

1904 
	`mem£t
(&
gë_mac_addªss
, 0, (
mac_uˇ°_t
));

1905 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
gë_mac_addªss
);

1908 if(
DRV_OK
 =
ªt
)

1910  
ERROR
;

1912 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
ªt
)

1914 
	`mem£t
(&
£t_mac_addªss
, 0, (
mac_uˇ°_t
));

1915 
£t_mac_addªss
.
lgcP‹t
 = 
p‹t_id
;

1916 
	`mem˝y
(
£t_mac_addªss
.
mac_addr
, 
p_íåy
->mac_addr, (
mac_addªss_t
));

1918 
£t_mac_addªss
.
tdVid
 = 
p_íåy
->
vœn_id
;

1920 
£t_mac_addªss
.
ucSètic
 = 1;

1921 
ªt
 = 
	`Io˘l_SëMacAddUˇ°Mac
(
£t_mac_addªss
);

1922 if(
ªt
 !
DRV_OK
)

1924  
ERROR
;

1926  
NO_ERROR
;

1928  
ERROR
;

1929 
	}
}

1931 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_dñ
(
u8_t
 
p‹t_id
, 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_íåy
)

1933 
u32_t
 
ªt
 = 
NO_ERROR
;

1934 
u8_t
 
num_of_íåy
;

1935 
u16_t
 
vœn_id
;

1936 
u8_t
 
mac_addr_°r
[32];

1937 
mac_uˇ°_t
 
gë_mac_addªss
;

1940 
u8_t
 
vœnMode
 = 0;

1941 
u8_t
 
vœnExi°
 = 0;

1943 if(
	`CTC_CheckVÆidVidF‹LgcP‹t
(
p‹t_id
, 
p_íåy
->
vœn_id
, &
vœnMode
, &
vœnExi°
))

1945  
ERROR
;

1948 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vœnMode
)

1950 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(0, 
p_íåy
->
mac_addr
, &
gë_mac_addªss
);

1957 
ªt
 = 
	`Io˘l_GëMacUˇ°Mac
(
p_íåy
->
vœn_id
,Ö_íåy->
mac_addr
, &
gë_mac_addªss
);

1960 if(
DRV_OK
 !
ªt
)

1963  
NO_ERROR
;

1966 if(
gë_mac_addªss
.
lgcP‹t
 =
p‹t_id
)

1968 
ªt
 = 
	`Io˘l_SëMacDñUˇ°Mac
(
gë_mac_addªss
);

1969 if(
DRV_OK
 !=
ªt
)

1971  
ERROR
;

1974  
NO_ERROR
;

1975 
	}
}

1977 
u32_t
 
	$°ub_zã_p‹t_°©ic_mac_˛ór
(
u8_t
 
p‹t_id
)

1980 
u32_t
 
ªt
;

1981 
mac_dñëe_t
 
°©ic_mac_˛ór
;

1982 
	`mem£t
(&
°©ic_mac_˛ór
, 0, (
mac_dñëe_t
));

1983 
°©ic_mac_˛ór
.
ÊushSèticAddr
 = 
ENABLE
;

1984 
°©ic_mac_˛ór
.
ÊushByP‹t
 = 
ENABLE
;

1985 
°©ic_mac_˛ór
.
p‹t
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

1986 
ªt
 = 
	`Io˘l_SëMacFlushUˇ°Mac
(
°©ic_mac_˛ór
);

1987 if(
DRV_OK
 !
ªt
)

1989  
ERROR
;

1992 
	`˛ór_mac_°©ic
(
p‹t_id
);

1994  
NO_ERROR
;

1995 
	}
}

1998 
	$e›l_zã_gë_°©ic_mac_cfg
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2000 
u8_t
 
ucP‹tS
;

2001 
u8_t
 
ucP‹tE
;

2002 
u8_t
 
ﬂmR•Code
;

2003 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

2004 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2005 
ﬂm_zã_°©ic_mac_cfg_t
 *
p_zã_p‹t_°©ic_mac
;

2006 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_zã_°©ic_mac_íåy
;

2007 
u8_t
 
i
;

2008 
u32_t
 
ªt
;

2009 
u8_t
 
num_of_íåõs
;

2011 
ªt
 = 
NO_ERROR
;

2013 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

2015 
ucP‹tS
 = 1;

2016 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

2020 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

2021 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

2024 *
pGíÀn
 = 0;

2025 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2028 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

2029 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

2030 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

2031 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

2032 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

2034 
ªt
 = 
	`°ub_zã_p‹t_°©ic_mac_num_gë
(
ucP‹tS
, &
num_of_íåõs
);

2036 if(
ªt
 !
NO_ERROR
)

2038 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

2039 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

2040 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2041 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2042 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

2043 *
pGíÀn
 += 4;

2047 
p_zã_p‹t_°©ic_mac
 = (
ﬂm_zã_°©ic_mac_cfg_t
*)
pRïlybuf
;

2048 
pRïlybuf
 +(
ﬂm_zã_°©ic_mac_cfg_t
);

2050 
p_zã_p‹t_°©ic_mac
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2051 
p_zã_p‹t_°©ic_mac
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2052 
p_zã_p‹t_°©ic_mac
->
a˘i⁄
 = 0x03;

2055 
p_zã_p‹t_°©ic_mac
->
num_of_íåõs
 =Çum_of_entries;

2056 
p_zã_p‹t_°©ic_mac
->
width
 = 2 + 8 * 
num_of_íåõs
;

2058 
i
 = 0; i < 
num_of_íåõs
; i++)

2060 
p_zã_°©ic_mac_íåy
 = (
ﬂm_zã_°©ic_mac_íåy_t
 *)
pRïlybuf
;

2062 
ªt
=
	`°ub_zã_p‹t_°©ic_mac_íåy_gë
(
ucP‹tS
, 
i
, 
p_zã_°©ic_mac_íåy
);

2063 if(
ªt
 !
NO_ERROR
)

2065 
p_zã_p‹t_°©ic_mac
->
width
 = 
OAM_GET_NO_RESOURCE
;

2066 *
pGíÀn
 += 4;

2069 
pRïlybuf
 +(
ﬂm_zã_°©ic_mac_íåy_t
);

2073 *
pGíÀn
 +
p_zã_p‹t_°©ic_mac
->
width
 + 4;

2077 
	}
}

2079 
	$e›l_zã_£t_°©ic_mac_cfg
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2081 
u8_t
 
ucP‹tS
, 
ucP‹tE
, 
curP‹tId
;

2082 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

2083 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2084 
ﬂm_zã_°©ic_mac_cfg_t
 *
p_zã_°©ic_mac
;

2085 
ﬂm_zã_°©ic_mac_íåy_t
 *
p_zã_°©ic_mac_íåy
;

2086 
u8_t
 
num_of_íåõs
;

2087 
u8_t
 
i
;

2088 
u32_t
 
ªt
;

2090 
ªt
=
OPL_OK
;

2091 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

2092 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2093 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2095 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

2097 
ªt
 = 
ERROR
;

2098 
£nd_r•
;

2101 *
pGíÀn
 = 0;

2103 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

2104 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

2105 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

2106 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

2109 
p_zã_°©ic_mac
 = (
ﬂm_zã_°©ic_mac_cfg_t
 *)
p_ö
;

2110 
p_ö
 +(
ﬂm_zã_°©ic_mac_cfg_t
);

2112 
num_of_íåõs
 = 
p_zã_°©ic_mac
->num_of_entries;

2114 
p_zã_°©ic_mac_íåy
 = (
ﬂm_zã_°©ic_mac_íåy_t
 *)
p_ö
;

2116 if(
p_zã_°©ic_mac
->
a˘i⁄
 == 0x00)

2118 
i
 = 0; i < 
num_of_íåõs
; i++)

2120 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

2122 
ªt
 = 
	`°ub_zã_p‹t_°©ic_mac_dñ
(
curP‹tId
, 
p_zã_°©ic_mac_íåy
);

2123 if(
ªt
 !
NO_ERROR
)

2124 
£nd_r•
;

2127 
p_zã_°©ic_mac_íåy
++;

2130 if(
p_zã_°©ic_mac
->
a˘i⁄
 == 0x01)

2132 
i
 = 0; i < 
num_of_íåõs
; i++)

2134 
curP‹tId
=
ucP‹tS
; curP‹tId<=
ucP‹tE
; curPortId++)

2136 
ªt
 = 
	`°ub_zã_p‹t_°©ic_mac_add
(
curP‹tId
, 
p_zã_°©ic_mac_íåy
);

2137 if(
ªt
 !
NO_ERROR
)

2138 
£nd_r•
;

2141 
p_zã_°©ic_mac_íåy
++;

2144 if(
p_zã_°©ic_mac
->
a˘i⁄
 == 0x02)

2146 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2148 
ªt
 = 
	`°ub_zã_p‹t_°©ic_mac_˛ór
(
ucP‹tS
);

2149 if(
ªt
 !
NO_ERROR
)

2150 
£nd_r•
;

2154 
£nd_r•
:

2155 if(
ªt
 =
OPL_OK
)

2157 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

2161 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

2164 *
pGíÀn
 +(
ﬂm_£t_ª•⁄£_t
)+(
ﬂm_ö°™˚_év_t_2_0
);

2167 
	}
}

2170 
u32_t
 
	$°ub_zã_gë_uni_isﬁ©i⁄
(
ﬂm_zã_uni_isﬁ©i⁄_t
 *
p_uni_isﬁ©i⁄
)

2172 
u8_t
 
isﬁ©i⁄
;

2173 
u32_t
 
ªt
 = 
ERROR
;

2175 
ªt
 = 
	`odmGëLoˇlSwôch
(
ODM_START_PORT_NUN
, &
isﬁ©i⁄
);

2177 if(
ªt
 !
NO_ERROR
)

2178  
ªt
;

2180 
p_uni_isﬁ©i⁄
->
isﬁ©i⁄
 = isolation?0:1;

2182  
NO_ERROR
;

2183 
	}
}

2185 
u32_t
 
	$°ub_zã_£t_uni_isﬁ©i⁄
(
ﬂm_zã_uni_isﬁ©i⁄_t
 *
p_uni_isﬁ©i⁄
)

2187 
u8_t
 
p‹t_id
;

2188 
u32_t
 
ªt
;

2190 
p‹t_id
 = 
ODM_START_PORT_NUN
;Ö‹t_id <
ODM_NUM_OF_PORTS
;Öort_id++)

2192 
ªt
 = 
	`DRV_SëP‹tIsﬁ©i⁄
(
p‹t_id
, 
p_uni_isﬁ©i⁄
->
isﬁ©i⁄
?1:0);

2193 if(
ªt
 !
NO_ERROR
)

2194  
ªt
;

2197  
NO_ERROR
;

2198 
	}
}

2200 
	$e›l_zã_gë_uni_isﬁ©i⁄
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2202 
u8_t
 
ﬂmR•Code
;

2203 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

2204 
ﬂm_zã_uni_isﬁ©i⁄_t
 *
p_zã_uni_isﬁ©i⁄
;

2205 
ﬂm_zã_uni_isﬁ©i⁄_t
 
uni_isﬁ©i⁄
;

2206 
u32_t
 
ªt
;

2209 
ªt
 = 
	`°ub_zã_gë_uni_isﬁ©i⁄
(&
uni_isﬁ©i⁄
);

2210 *
pGíÀn
 = 0;

2211 if(
ªt
 !
NO_ERROR
)

2213 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

2214 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

2215 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2216 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2217 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

2218 *
pGíÀn
 += 4;

2224 
p_zã_uni_isﬁ©i⁄
 = (
ﬂm_zã_uni_isﬁ©i⁄_t
 *)
pRïlybuf
;

2225 
p_zã_uni_isﬁ©i⁄
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2226 
p_zã_uni_isﬁ©i⁄
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2227 
p_zã_uni_isﬁ©i⁄
->
width
 = 1;

2228 
p_zã_uni_isﬁ©i⁄
->
isﬁ©i⁄
 = 
uni_isﬁ©i⁄
.isolation;

2230 *
pGíÀn
 +
p_zã_uni_isﬁ©i⁄
->
width
 + 4;

2234 
	}
}

2236 
	$e›l_zã_£t_uni_isﬁ©i⁄
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2238 
u8_t
 
ªt
;

2239 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

2240 
ﬂm_zã_uni_isﬁ©i⁄_t
 *
p_zã_uni_isﬁ©i⁄
;

2242 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

2243 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2244 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2246 
p_zã_uni_isﬁ©i⁄
 = (
ﬂm_zã_uni_isﬁ©i⁄_t
 *)
p_ö
;

2248 
ªt
 = 
	`°ub_zã_£t_uni_isﬁ©i⁄
(
p_zã_uni_isﬁ©i⁄
);

2249 if(
ªt
 =
OPL_OK
)

2251 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

2255 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

2258 *
pGíÀn
 = 4;

2261 
	}
}

2263 
u32_t
 
	$°ub_zã_gë_uni_ëh_°©s
(
u8_t
 
p‹t_id
, 
ﬂm_zã_⁄u_ëhî_°©s_t
 *
p_ëh_°©s
)

2265 
UNI_COUNTER_S
 
mibCou¡îs
;

2266 
u32_t
 
ªt
 = 
NO_ERROR
;

2267 
ªt
 = 
	`DRV_GëP‹tMibCou¡î
(
p‹t_id
, &
mibCou¡îs
);

2268 if(
ªt
 !
NO_ERROR
)

2269  
ªt
;

2270 
p_ëh_°©s
->
ifInO˘ës
 = 
mibCou¡îs
.
uiRecO˘ës
;

2271 
p_ëh_°©s
->
ifInUˇ°Pkts
 = 
mibCou¡îs
.
InUniˇ°
;

2272 
p_ëh_°©s
->
ifInNUˇ°Pkts
 = 
mibCou¡îs
.
InMu…iˇ°
 + mibCou¡îs.
InBrﬂdˇ°
;

2273 
p_ëh_°©s
->
ifInDisˇrds
 = 
mibCou¡îs
.
ulInDr›≥d
;

2275 
p_ëh_°©s
->
ifInEº‹s
 = 0;

2276 
p_ëh_°©s
->
ifOutO˘ës
 = 
mibCou¡îs
.
uiTønsO˘ës
;

2277 
p_ëh_°©s
->
ifOutUˇ°Pkts
 = 
mibCou¡îs
.
OutUniˇ°
;

2278 
p_ëh_°©s
->
ifOutNUˇ°Pkts
 = 
mibCou¡îs
.
OutMu…iˇ°
+mibCou¡îs.
OutBrﬂdˇ°
;

2279 
p_ëh_°©s
->
ifOutDisˇrds
 = 0;

2280 
p_ëh_°©s
->
ifOutEº‹s
 = 0;

2282  
NO_ERROR
;

2283 
	}
}

2285 
	$e›l_zã_gë_⁄u_ëhî_°©s
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2287 
u32_t
 
ªt
;

2288 
u8_t
 
ucP‹tS
;

2289 
u8_t
 
ucP‹tE
;

2290 
u8_t
 
ﬂmR•Code
;

2291 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

2292 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2293 
ﬂm_zã_⁄u_ëhî_°©s_t
 *
p_zã_p‹t_ëh_°©s
;

2294 
ﬂm_zã_⁄u_ëhî_°©s_t
 
zã_p‹t_ëh_°©s
;

2296 
ªt
 = 
NO_ERROR
;

2298 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

2300 
ucP‹tS
 = 1;

2301 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

2305 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

2306 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

2309 *
pGíÀn
 = 0;

2310 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

2312 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

2313 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

2314 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

2315 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

2316 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

2318 
ªt
 = 
	`°ub_zã_gë_uni_ëh_°©s
(
ucP‹tS
, &
zã_p‹t_ëh_°©s
);

2320 if(
ªt
 !
NO_ERROR
)

2322 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

2323 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

2324 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2325 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
;

2326 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

2327 *
pGíÀn
 += 4;

2331 
p_zã_p‹t_ëh_°©s
 = (
ﬂm_zã_⁄u_ëhî_°©s_t
 *)
pRïlybuf
;

2332 
p_zã_p‹t_ëh_°©s
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2333 
p_zã_p‹t_ëh_°©s
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
;

2334 
p_zã_p‹t_ëh_°©s
->
width
 = 112;

2336 
p_zã_p‹t_ëh_°©s
->
ifInO˘ës
 = 
zã_p‹t_ëh_°©s
.ifInOctets;

2337 
p_zã_p‹t_ëh_°©s
->
ifInUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.ifInUcastPkts;

2338 
p_zã_p‹t_ëh_°©s
->
ifInNUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.ifInNUcastPkts;

2339 
p_zã_p‹t_ëh_°©s
->
ifInDisˇrds
 = 
zã_p‹t_ëh_°©s
.ifInDiscards;

2340 
p_zã_p‹t_ëh_°©s
->
ifInEº‹s
 = 
zã_p‹t_ëh_°©s
.ifInErrors;

2341 
p_zã_p‹t_ëh_°©s
->
ifOutO˘ës
 = 
zã_p‹t_ëh_°©s
.ifOutOctets;

2342 
p_zã_p‹t_ëh_°©s
->
ifOutUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.ifOutUcastPkts;

2343 
p_zã_p‹t_ëh_°©s
->
ifOutNUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.ifOutNUcastPkts;

2344 
p_zã_p‹t_ëh_°©s
->
ifOutDisˇrds
 = 
zã_p‹t_ëh_°©s
.ifOutDiscards;

2345 
p_zã_p‹t_ëh_°©s
->
ifOutEº‹s
 = 
zã_p‹t_ëh_°©s
.ifOutErrors;

2347 *
pGíÀn
 +
p_zã_p‹t_ëh_°©s
->
width
 + 4;

2351 
	}
}

2354 
u32_t
 
	$°ub_zã_gë_p‹t_mode
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p‹t_mode_t
 *
p_zã_p‹t_mode
)

2356 
u32_t
 
ªt
;

2357 
u32_t
 
du∂ex
;

2358 
u32_t
 
•ìd
;

2359 
u32_t
 
lök_°©us
;

2362 
ªt
 = 
	`DRV_GëP‹tLökSètus
(
p‹t_id
, &
lök_°©us
);

2363 if(
ªt
 !
NO_ERROR
)

2364  
ªt
;

2365 
ªt
 = 
	`DRV_GëP‹tS≥ed
(
p‹t_id
, &
•ìd
);

2366 if(
ªt
 !
NO_ERROR
)

2367  
ªt
;

2369 
ªt
 = 
	`DRV_GëP‹tDu∂ex
(
p‹t_id
, &
du∂ex
);

2370 if(
ªt
 !
NO_ERROR
)

2371  
ªt
;

2373 if(
lök_°©us
 == 0)

2375 
p_zã_p‹t_mode
->
p‹t_mode
 = 0xff;

2377 if(
•ìd
 =
SPEED_10M
)

2379 if(
du∂ex
 =
DUPLEX_HALF
)

2381 
p_zã_p‹t_mode
->
p‹t_mode
 = 
ZTE_PORT_MODE_10M_HALF
;

2385 
p_zã_p‹t_mode
->
p‹t_mode
 = 
ZTE_PORT_MODE_10M_FULL
;

2388 if(
•ìd
 =
SPEED_100M
)

2390 if(
du∂ex
 =
DUPLEX_HALF
)

2392 
p_zã_p‹t_mode
->
p‹t_mode
 = 
ZTE_PORT_MODE_100M_HALF
;

2396 
p_zã_p‹t_mode
->
p‹t_mode
 = 
ZTE_PORT_MODE_100M_FULL
;

2399 if(
•ìd
 =
SPEED_1000M
)

2401 
p_zã_p‹t_mode
->
p‹t_mode
 = 
ZTE_PORT_MODE_1000M
;

2404  
NO_ERROR
;

2405 
	}
}

2407 
u32_t
 
	$°ub_zã_£t_p‹t_mode
(
u8_t
 
p‹t_id
, u8_à
p_zã_p‹t_mode
)

2409 
u8_t
 
p‹t_mode
;

2410 
u32_t
 
ªt
 = 
NO_ERROR
;

2412 
p‹t_mode
 = 
p_zã_p‹t_mode
-1;

2421 
p‹t_mode
)

2423 
ZTE_PORT_MODE_AUTO
:

2424 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_AUTO
);

2425 if(
ªt
 !
NO_ERROR
)

2426  
ªt
 ;

2427 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
DUPLEX_AUTO
);

2430 
ZTE_PORT_MODE_10M_HALF
:

2431 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_10M
);

2432 if(
ªt
 !
NO_ERROR
)

2433  
ªt
;

2435 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_HALF
);

2436 if(
ªt
 !
NO_ERROR
)

2437  
ªt
;

2440 
ZTE_PORT_MODE_10M_FULL
:

2442 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_10M
);

2443 if(
ªt
 !
NO_ERROR
)

2444  
ªt
;

2446 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_FULL
);

2447 if(
ªt
 !
NO_ERROR
)

2448  
ªt
;

2452 
ZTE_PORT_MODE_100M_HALF
:

2454 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_100M
);

2455 if(
ªt
 !
NO_ERROR
)

2456  
ªt
;

2458 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_HALF
);

2459 if(
ªt
 !
NO_ERROR
)

2460  
ªt
;

2464 
ZTE_PORT_MODE_100M_FULL
:

2465 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_100M
);

2466 if(
ªt
 !
NO_ERROR
)

2467  
ªt
;

2469 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_FULL
);

2470 if(
ªt
 !
NO_ERROR
)

2471  
ªt
;

2475 
ZTE_PORT_MODE_1000M
:

2477 
ªt
 = 
	`DRV_SëP‹tS≥ed
(
p‹t_id
, 
SPEED_1000M
);

2478 if(
ªt
 !
NO_ERROR
)

2479  
ªt
;

2481 
ªt
 = 
	`DRV_SëP‹tDu∂ex
(
p‹t_id
, 
DUPLEX_AUTO
);

2482 if(
ªt
 !
NO_ERROR
)

2483  
ªt
;

2486 
ªt
 = 
ERR_INVALID_PARAMETERS
;

2489  
ªt
;

2490 
	}
}

2494 
u8_t
 
	g£t_p‹t_id
 = 0;

2495 
u8_t
 
	g£t_p‹t_mode
 = 0;

2497 *
	$A·îP‹tModeThªad
(* 
pszP¨am
)

2499 
ªt
=0;

2501 
	`vosSÀï
(1);

2502 if(
£t_p‹t_mode
 != 0)

2504 
ªt
 = 
	`°ub_zã_£t_p‹t_mode
(
£t_p‹t_id
 , 
£t_p‹t_mode
);

2505 if(
ªt
 =
NO_ERROR
)

2507 
£t_p‹t_mode
 = 0;

2508 
£t_p‹t_id
 = 0;

2511 
	`vosThªadExô
(0);

2512  
NULL
;

2513 
	}
}

2517 
	$e›l_zã_gë_p‹t_mode
(
u8_t
 
ty≥
,u8_à
p‹t
, u8_t*
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

2519 
u8_t
 
ªt
;

2520 
u8_t
 
ﬂmR•Code
;

2521 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

2522 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2523 
ﬂm_zã_p‹t_mode_t
 *
p_zã_p‹t_mode
;

2524 
ﬂm_zã_p‹t_mode_t
 
p‹t_mode
;

2526 *
pGíÀn
 = 0;

2527 
p_zã_p‹t_mode
 = (
ﬂm_zã_p‹t_mode_t
 *)
pRïlyBuf
;

2528 
p_zã_p‹t_mode
->
bønch
 = 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
;

2529 
p_zã_p‹t_mode
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_GET_PORT_MODE
;

2531 if–
ty≥
!=0x01 || 
p‹t
 > 
ODM_NUM_OF_PORTS
 ||Ö‹à< 
ODM_START_PORT_NUN
)

2533 
p_zã_p‹t_mode
->
width
 = 
OAM_BAD_PARAM_VALUE
;

2534 *
pGíÀn
 += 4;

2538 
ªt
 = 
	`°ub_zã_gë_p‹t_mode
(
p‹t
, 
p_zã_p‹t_mode
);

2540 if(
ªt
 !
NO_ERROR
)

2542 
p_zã_p‹t_mode
->
width
 = 
OAM_BAD_PARAM_VALUE
;

2544 *
pGíÀn
 += 4;

2549 
p_zã_p‹t_mode
->
width
 = 1;

2550 
p_zã_p‹t_mode
->
p‹t_mode
 =Ö_zte_port_mode->port_mode+1;

2552 *
pGíÀn
 +
p_zã_p‹t_mode
->
width
 + 4;

2556 
	}
}

2558 
	$e›l_zã_£t_p‹t_mode
(
u8_t
 *
p_ö
,u8_à
ty≥
,u8_à
p‹t
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

2560 
u32_t
 
ªt
;

2561 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

2562 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2563 
ﬂm_zã_p‹t_mode_t
 *
p_zã_p‹t_mode
;

2565 
ªt
=
OPL_OK
;

2567 *
pGíÀn
 = 0;

2568 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

2569 
p_r•
->
bønch
 = 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
;

2570 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_SET_PORT_MODE
;

2572 if–
ty≥
!=0x01 || 
p‹t
 > 
ODM_NUM_OF_PORTS
 ||Ö‹à< 
ODM_START_PORT_NUN
)

2574 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2575 *
pGíÀn
 += 4;

2579 
p_zã_p‹t_mode
 = (
ﬂm_zã_p‹t_mode_t
 *)
p_ö
;

2583 
£t_p‹t_id
 = 
p‹t
;

2584 
£t_p‹t_mode
 = 
p_zã_p‹t_mode
->
p‹t_mode
;

2586 if–
£t_p‹t_mode
 > 0x06)

2588 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2589 *
pGíÀn
 += 4;

2594 #i‡
	`deföed
(
CONFIG_BOSA
)

2595 if–
£t_p‹t_mode
 > 0x05)

2597 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2598 *
pGíÀn
 += 4;

2602 i‡(
NULL
 =
	`vosThªadCª©e
("tP‹tMode", 
OP_VOS_THREAD_STKSZ
, 110,

2603 (*)
A·îP‹tModeThªad
, 
NULL
))

2605 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
," create AfterPortModeThreadÅhread failed\n");

2606 
ªt
 = 
ERROR
;

2609 if–
p‹t
 > 0x06)

2611 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2612 *
pGíÀn
 += 4;

2617 #i‡
	`deföed
(
CONFIG_BOSA
)

2618 if–
p_zã_p‹t_mode
->
p‹t_mode
 > 0x05)

2620 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2621 *
pGíÀn
 += 4;

2626 
ªt
 = 
	`°ub_zã_£t_p‹t_mode
(
p‹t
 , 
p_zã_p‹t_mode
->
p‹t_mode
);

2630 if(!
ªt
)

2632 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

2636 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

2639 *
pGíÀn
 +(
ﬂm_£t_ª•⁄£_t
);

2642 
	}
}

2645 
	#OAM_MAX_MAC_NUM
 200

	)

2646 
	#MAX_ENTITY
 17

	)

2649 
u16_t
 
	mwidth
;

2650 
u16_t
 
	møndom_vÆue
;

2651 
u16_t
 
	m£quí˚_num
;

2652 
u16_t
 
	mtŸÆ_addr_num
;

2653 }
	t__©åibuã__
((
	t__∑cked__
))
	tmac_èbÀ_hód_t
;

2657 *
	mpMacPoﬁ
;

2658 
	mmacPos
;

2659 
u32_t
 
	mmacCou¡
;

2660 }
	tmac_èbÀ_t
;

2663 
mac_èbÀ_hód_t
 
	mmacHód
;

2664 
mac_èbÀ_t
 
	m°©icUniˇ°TabÀ
;

2665 
mac_èbÀ_t
 
	mdymUniˇ°TabÀ
;

2666 
mac_èbÀ_t
 
	mmu…iˇ°TabÀ
;

2667 }
	tmac_èbÀ_vÆue_t
;

2670 
mac_èbÀ_vÆue_t
 
	ggMacPooVÆue
 = {.
macHód
.
øndom_vÆue
 = 0xffff};

2673 
	#IS_MULTICAST_MACADDR
(
mac
Ë(((mac)[0] & 0x1Ë=1)

	)

2676 
	#IS_BROADCAST_MACADDR
(
mac
Ë(((mac)[0] =0xFFË&& \

	)

2677 ((
	gmac
)[1] =0xFFË&& ((
mac
)[2] == 0xFF) && \

2678 ((
mac
)[3] == 0xFF) && ((mac)[4] == 0xFF) && \

2679 ((
mac
)[5] == 0xFF))

2681 
	$öô_mac_poﬁ
(
u16_t
 
øndomVÆue
)

2683 
gMacPooVÆue
.
macHód
.
øndom_vÆue
 = 
øndomVÆue
;

2684 
gMacPooVÆue
.
macHód
.
£quí˚_num
 = 0;

2685 
gMacPooVÆue
.
macHód
.
tŸÆ_addr_num
 = 0;

2687 
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
macCou¡
 = 0;

2688 
gMacPooVÆue
.
dymUniˇ°TabÀ
.
macCou¡
 = 0;

2689 
gMacPooVÆue
.
mu…iˇ°TabÀ
.
macCou¡
 = 0;

2690 
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
macPos
 = 0;

2691 
gMacPooVÆue
.
dymUniˇ°TabÀ
.
macPos
 = 0;

2692 
gMacPooVÆue
.
mu…iˇ°TabÀ
.
macPos
 = 0;

2695 
gMacPooVÆue
.
macHód
.
tŸÆ_addr_num
 = 0;

2697 if(
gMacPooVÆue
.
mu…iˇ°TabÀ
.
pMacPoﬁ
 =
NULL
)

2699 
gMacPooVÆue
.
mu…iˇ°TabÀ
.
pMacPoﬁ
 = 
	`vosAŒoc
(((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2)*
OAM_MAX_MAC_NUM
);

2702 if(
gMacPooVÆue
.
dymUniˇ°TabÀ
.
pMacPoﬁ
 =
NULL
)

2704 
gMacPooVÆue
.
dymUniˇ°TabÀ
.
pMacPoﬁ
 = 
	`vosAŒoc
(((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2)*
OAM_MAX_MAC_NUM
);

2707 if(
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
pMacPoﬁ
 =
NULL
)

2709 
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
pMacPoﬁ
 = 
	`vosAŒoc
(((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2)*
OAM_MAX_MAC_NUM
);

2711 
	}
}

2714 
	$add_mac_ítôy
(
mac_dump_uˇ°_èb_t
 *
pmacE¡ry
, 
mac_èbÀ_vÆue_t
 *
pMacPoﬁVÆue
)

2716 
pos
 = 0;

2717 
ty≥
;

2718 if(
	`IS_MULTICAST_MACADDR
(
pmacE¡ry
->
mac_addr
))

2720 if(
	`IS_BROADCAST_MACADDR
((
pmacE¡ry
->
mac_addr
)))

2723 if(
pMacPoﬁVÆue
->
mu…iˇ°TabÀ
.
macCou¡
 < 
OAM_MAX_MAC_NUM
)

2725 
pos
 = 
pMacPoﬁVÆue
->
mu…iˇ°TabÀ
.
macCou¡
 * (
ﬂm_zã_uni_mac_quîy_íåy_t
);

2726 
	`mem˝y
(&
pMacPoﬁVÆue
->
mu…iˇ°TabÀ
.
pMacPoﬁ
[
pos
], &
pmacE¡ry
->
mac_addr
[0], (
ﬂm_zã_uni_mac_quîy_íåy_t
));

2727 
pMacPoﬁVÆue
->
mu…iˇ°TabÀ
.
macCou¡
 ++;

2737 
pmacE¡ry
->
Êag
 & 0x04)

2740 if(
pMacPoﬁVÆue
->
dymUniˇ°TabÀ
.
macCou¡
 < 
OAM_MAX_MAC_NUM
)

2742 
pos
 = 
pMacPoﬁVÆue
->
dymUniˇ°TabÀ
.
macCou¡
*8;

2743 
	`mem˝y
(&
pMacPoﬁVÆue
->
dymUniˇ°TabÀ
.
pMacPoﬁ
[
pos
], &
pmacE¡ry
->
mac_addr
[0], (
ﬂm_zã_uni_mac_quîy_íåy_t
));

2744 
	`mem˝y
(&
pMacPoﬁVÆue
->
dymUniˇ°TabÀ
.
pMacPoﬁ
[
pos
+6], &
pmacE¡ry
->
vid
, 2);

2745 
pMacPoﬁVÆue
->
dymUniˇ°TabÀ
.
macCou¡
++;

2755 if(
pMacPoﬁVÆue
->
°©icUniˇ°TabÀ
.
macCou¡
 < 
OAM_MAX_MAC_NUM
)

2757 
pos
 = 
pMacPoﬁVÆue
->
°©icUniˇ°TabÀ
.
macCou¡
 * 8;

2758 
	`mem˝y
(&
pMacPoﬁVÆue
->
°©icUniˇ°TabÀ
.
pMacPoﬁ
[
pos
], &
pmacE¡ry
->
mac_addr
[0], (
ﬂm_zã_uni_mac_quîy_íåy_t
) );

2759 
	`mem˝y
(&
pMacPoﬁVÆue
->
°©icUniˇ°TabÀ
.
pMacPoﬁ
[
pos
+6], &
pmacE¡ry
->
vid
, 2);

2760 
pMacPoﬁVÆue
->
°©icUniˇ°TabÀ
.
macCou¡
 ++;

2773 
	}
}

2775 
	$mac_ªsour˚_‰ì
()

2777 
	`vosFªe
(
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
pMacPoﬁ
);

2778 
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
pMacPoﬁ
 = 
NULL
;

2780 
	`vosFªe
(
gMacPooVÆue
.
dymUniˇ°TabÀ
.
pMacPoﬁ
);

2781 
gMacPooVÆue
.
dymUniˇ°TabÀ
.
pMacPoﬁ
 = 
NULL
;

2783 
	`vosFªe
(
gMacPooVÆue
.
mu…iˇ°TabÀ
.
pMacPoﬁ
);

2784 
gMacPooVÆue
.
mu…iˇ°TabÀ
.
pMacPoﬁ
 = 
NULL
;

2785 
	}
}

2787 
	$add_mac_block_ítôy
(
ﬂm_zã_uni_mac_quîy_block_t
 *
mac_block
, 
mac_èbÀ_t
 *
pMacPoﬁVÆue
, 
have_c›yed_num
)

2790 
˝y_num
 = 0;

2791 
tŸÆ_c›y_num
 = 
have_c›yed_num
;

2792 
u16_t
 
ãmpVid
 = 0;

2793 if((
pMacPoﬁVÆue
->
macCou¡
 -ÖMacPoﬁVÆue->
macPos
/8) > 0)

2795 
	`mem˝y
(
mac_block
->
mac_vÆue
, &
pMacPoﬁVÆue
->
pMacPoﬁ
[pMacPoﬁVÆue->
macPos
], (
ﬂm_zã_uni_mac_quîy_íåy_t
));

2796 
	`mem˝y
(&
ãmpVid
, &
pMacPoﬁVÆue
->
pMacPoﬁ
[pMacPoﬁVÆue->
macPos
 + 6], 2);

2797 
mac_block
->
addr_ty≥
 = (
u32_t
)
ãmpVid
;

2798 
pMacPoﬁVÆue
->
macPos
 += 8;

2802 
	}
}

2805 
u16_t
 
	$gë_mac_ítôy
(
ﬂm_zã_uni_mac_quîy_block_t
 *
mac_block
, 
u16_t
 
øndomVÆue
)

2808 
nRë
;

2809 
˝y_num
 = 0;

2810 
tŸÆ_˝y_num
 = 0;

2811 
ﬂm_zã_uni_mac_quîy_block_t
 *
mac_block_hód
 = 
mac_block
;

2812 
u32_t
 
maxRecy˛eTime
 = 
OAM_MAX_MAC_NUM
 * 3;

2813 
width
 = 8;

2814 
block_hód_size
 = 8;

2815 
OPL_STATUS
 
rv
=0;

2816 
‰ì_Êag
 = 0;

2817 
UINT32
 
ôî©‹
 = 0;

2818 
BOOL
 
bFöd
 = 
FALSE
;

2819 
u32_t
 
mac_cou¡
;

2821 
mac_dump_uˇ°_èb_t
 
mac_èbÀ
[2048];

2823 if(
gMacPooVÆue
.
macHód
.
øndom_vÆue
 !
øndomVÆue
)

2825 
	`öô_mac_poﬁ
(
øndomVÆue
);

2826 
	`mem£t
(
mac_èbÀ
, 0, (mac_table));

2827 
	`ªad_mac_uˇ°_dump
(
mac_èbÀ
, &
mac_cou¡
);

2829 
maxRecy˛eTime
=0; maxRecy˛eTime<
mac_cou¡
; maxRecycleTime++)

2832 if(
mac_èbÀ
[
maxRecy˛eTime
].
Õ‹t
 =
p‹t_ö°™˚_2_0
.
vÆue
)

2834 
nRë
 = 
	`add_mac_ítôy
(&
mac_èbÀ
[
maxRecy˛eTime
], &
gMacPooVÆue
);

2835 if(
nRë
 !
OPL_OK
)

2837 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "add_mac_entity fail.\r\n");

2838 
gMacPooVÆue
.
macHód
.
øndom_vÆue
 = 0xffff;

2839 
	`mac_ªsour˚_‰ì
();

2846 
tŸÆ_˝y_num
 < 
MAX_ENTITY
)

2848 
˝y_num
 = 
	`add_mac_block_ítôy
(
mac_block_hód
,&
gMacPooVÆue
.
dymUniˇ°TabÀ
, 
tŸÆ_˝y_num
);

2849 if(
˝y_num
 != 0)

2851 
mac_block_hód
->
addr_num
 = 1;

2852 
tŸÆ_˝y_num
++;

2853 
mac_block_hód
 =(
ﬂm_zã_uni_mac_quîy_block_t
 *)&mac_block_hód->
mac_vÆue
[1];

2859 
tŸÆ_˝y_num
 < 
MAX_ENTITY
)

2861 
˝y_num
 = 
	`add_mac_block_ítôy
(
mac_block_hód
, &
gMacPooVÆue
.
mu…iˇ°TabÀ
, 
tŸÆ_˝y_num
);

2862 if(
˝y_num
 != 0)

2864 
tŸÆ_˝y_num
++;

2865 
mac_block_hód
->
addr_num
 = 1;

2866 
mac_block_hód
->
addr_ty≥
 |= 0x2000;

2867 
mac_block_hód
 =(
ﬂm_zã_uni_mac_quîy_block_t
 *)&mac_block_hód->
mac_vÆue
[1];

2873 
tŸÆ_˝y_num
 < 
MAX_ENTITY
)

2875 
˝y_num
 = 
	`add_mac_block_ítôy
(
mac_block_hód
, &
gMacPooVÆue
.
°©icUniˇ°TabÀ
, 
tŸÆ_˝y_num
);

2876 if(
˝y_num
 != 0)

2878 
tŸÆ_˝y_num
++;

2879 
mac_block_hód
->
addr_num
 = 1;

2880 
mac_block_hód
->
addr_ty≥
 |= 0x1000;

2881 
mac_block_hód
 =(
ﬂm_zã_uni_mac_quîy_block_t
 *)&mac_block_hód->
mac_vÆue
[1];

2887 
width
+=
tŸÆ_˝y_num
*14;

2889 
gMacPooVÆue
.
macHód
.
£quí˚_num
++;

2891 
gMacPooVÆue
.
macHód
.
tŸÆ_addr_num
 = 
tŸÆ_˝y_num
;

2894 if(
gMacPooVÆue
.
mu…iˇ°TabÀ
.
macCou¡
 != 0 )

2896 if(
gMacPooVÆue
.
mu…iˇ°TabÀ
.
macCou¡
 <gMacPooVÆue.mu…iˇ°TabÀ.
macPos
/((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2))

2897 
‰ì_Êag
 = 1;

2899 if(
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
macCou¡
 != 0 )

2901 if(
gMacPooVÆue
.
°©icUniˇ°TabÀ
.
macCou¡
 <gMacPooVÆue.°©icUniˇ°TabÀ.
macPos
/((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2))

2902 
‰ì_Êag
 = 1;

2904 if(
gMacPooVÆue
.
dymUniˇ°TabÀ
.
macCou¡
 <gMacPooVÆue.dymUniˇ°TabÀ.
macPos
/((
ﬂm_zã_uni_mac_quîy_íåy_t
)+2))

2906 
‰ì_Êag
 = 1;

2909 if(
‰ì_Êag
)

2911 
gMacPooVÆue
.
macHód
.
£quí˚_num
 |= 0x8000;

2912 
	`mac_ªsour˚_‰ì
();

2915  
width
;

2916 
	}
}

2919 
	$e›l_zã_gë_uni_mac_quîy
(
u8_t
* 
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

2921 
u8_t
 
ªt
;

2922 
u8_t
 
ucP‹tS
;

2923 
u8_t
 
ucP‹tE
;

2924 
u16_t
 
øndom_vÆue
;

2925 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

2926 
ﬂm_zã_uni_mac_quîy_t
 *
p_zã_mac_quîy_ö
;

2927 
ﬂm_zã_uni_mac_quîy_t
 *
p_zã_mac_quîy_out
;

2928 
ﬂm_zã_uni_mac_quîy_block_t
 *
p_zã_mac_quîy_block
;

2929 
u16_t
 
width
 = 0;

2931 *
pGíÀn
 = 0;

2934 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

2935 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

2936 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

2937 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

2939 
p_zã_mac_quîy_ö
 = (
ﬂm_zã_uni_mac_quîy_t
 *)
p_ö
;

2940 
øndom_vÆue
 = 
p_zã_mac_quîy_ö
->random_value;

2943 
p_zã_mac_quîy_out
 = (
ﬂm_zã_uni_mac_quîy_t
 *)
pRïlybuf
;

2944 
p_zã_mac_quîy_out
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2945 
p_zã_mac_quîy_out
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_MAC_QUERY
;

2947 
pRïlybuf
 +(
ﬂm_zã_uni_mac_quîy_t
);

2949 
p_zã_mac_quîy_block
 = (
ﬂm_zã_uni_mac_quîy_block_t
 *)
pRïlybuf
;

2951 
width
 = 
	`gë_mac_ítôy
(
p_zã_mac_quîy_block
, 
øndom_vÆue
);

2953 if(
width
 =
INVALID_16
)

2955 
p_zã_mac_quîy_out
->
›_code
 = 
OAM_SET_NO_RESOURCE
;

2956 *
pGíÀn
 += 4;

2959 
p_zã_mac_quîy_out
->
›_code
 = 
OAM_SET_OK
;

2960 
p_zã_mac_quîy_out
->
width
 = width;

2961 
p_zã_mac_quîy_out
->
øndom_vÆue
 =Ñandom_value;

2963 
p_zã_mac_quîy_out
->
£q_no
 = 
gMacPooVÆue
.
macHód
.
£quí˚_num
 - 1;

2964 
p_zã_mac_quîy_out
->
tŸÆ_num
 = 
gMacPooVÆue
.
macHód
.
tŸÆ_addr_num
;

2967 *
pGíÀn
 +
p_zã_mac_quîy_out
->
width
 + 4;

2970 
	}
}

2973 
u32_t
 
	$°ub_zã_gë_pmac_ds_sh≠ög
(
ﬂm_zã_pmac_ds_sh≠ög_t
 *
p_zã_pmac_ds_sh≠ög
)

2975 
UINT32
 
cú
 =0;

2976 
UINT32
 
cbs
 =0;

2978 #i‡
	`deföed
(
ONU_4PORT_88E6045
)||deföed(
ONU_4PORT_88E6046
)||deföed(
ONU_4PORT_88E6097
)||deföed(
ONU_4PORT_AR8306
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

2979 
	`odmP⁄UsSh≠ögGë
(&
p_zã_pmac_ds_sh≠ög
->
ds_øã_›î
,&
cú
,&
cbs
);

2982 
	`vosMemCpy
(&
p_zã_pmac_ds_sh≠ög
->
ds_øã_cú
[0], &
cú
,3);

2983 
	`vosMemCpy
(&
p_zã_pmac_ds_sh≠ög
->
ds_øã_cbs
[0], &
cbs
, 3);

2985  
NO_ERROR
;

2986 
	}
}

2988 
u32_t
 
	$°ub_zã_£t_pmac_ds_sh≠ög
(
ﬂm_zã_pmac_ds_sh≠ög_t
 *
p_zã_pmac_ds_sh≠ög
)

2990 
UINT32
 
cú
 = 0;

2991 
UINT32
 
cbs
 = 0;

2992 #i‡
	`deföed
(
ONU_4PORT_88E6045
)||deföed(
ONU_4PORT_88E6046
)||deföed(
ONU_4PORT_88E6097
)||deföed(
ONU_4PORT_AR8306
)||deföed(
ONU_4PORT_AR8228
)||deföed(
ONU_4PORT_AR8327
)

2994 
	`vosMemCpy
(&
cú
 , &
p_zã_pmac_ds_sh≠ög
->
ds_øã_cú
[0],3);

2995 
	`vosMemCpy
(&
cbs
 , &
p_zã_pmac_ds_sh≠ög
->
ds_øã_cbs
[0],3);

2999 
	`odmP⁄UsSh≠ögSë
(
p_zã_pmac_ds_sh≠ög
->
ds_øã_›î
,
cú
,
cbs
);

3002  
NO_ERROR
;

3003 
	}
}

3005 
	$e›l_zã_gë_pmac_ds_sh≠ög
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3007 
u8_t
 
ªt
;

3008 
u8_t
 
ﬂmR•Code
;

3009 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

3010 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3011 
ﬂm_zã_pmac_ds_sh≠ög_t
 *
p_zã_pmac_ds_sh≠ög
;

3012 
ﬂm_zã_pmac_ds_sh≠ög_t
 
pmac_ds_sh≠ög
;

3014 
ªt
 = 
NO_ERROR
;

3015 *
pGíÀn
= 0;

3016 
ªt
 = 
	`°ub_zã_gë_pmac_ds_sh≠ög
(&
pmac_ds_sh≠ög
);

3018 if(
ªt
 !
NO_ERROR
)

3020 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

3021 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

3022 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3023 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3024 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

3025 *
pGíÀn
 += 4;

3030 
p_zã_pmac_ds_sh≠ög
 = (
ﬂm_zã_pmac_ds_sh≠ög_t
 *)
pRïlybuf
;

3031 
p_zã_pmac_ds_sh≠ög
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3032 
p_zã_pmac_ds_sh≠ög
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3034 if(
pmac_ds_sh≠ög
.
ds_øã_›î
 == 0x00)

3036 
p_zã_pmac_ds_sh≠ög
->
width
 = 1;

3037 
p_zã_pmac_ds_sh≠ög
->
ds_øã_›î
 = 0x00;

3039 if(
pmac_ds_sh≠ög
.
ds_øã_›î
 == 0x01)

3041 
p_zã_pmac_ds_sh≠ög
->
width
 = 7;

3042 
p_zã_pmac_ds_sh≠ög
->
ds_øã_›î
 = 0x01;

3044 
	`vosMemCpy
(&
p_zã_pmac_ds_sh≠ög
->
ds_øã_cú
[0],

3045 &
pmac_ds_sh≠ög
.
ds_øã_cú
[0],

3048 
	`vosMemCpy
(&
p_zã_pmac_ds_sh≠ög
->
ds_øã_cbs
[0],

3049 &
pmac_ds_sh≠ög
.
ds_øã_cbs
[0],

3053 *
pGíÀn
 +
p_zã_pmac_ds_sh≠ög
->
width
 + 4;

3057 
	}
}

3059 
	$e›l_zã_£t_pmac_ds_sh≠ög
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3061 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

3062 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3063 
ﬂm_zã_pmac_ds_sh≠ög_t
 *
p_zã_pmac_ds_sh≠ög
;

3064 
u32_t
 
ªt
;

3066 
ªt
 = 
NO_ERROR
;

3068 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

3069 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3070 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3072 
p_zã_pmac_ds_sh≠ög
 = (
ﬂm_zã_pmac_ds_sh≠ög_t
 *)
p_ö
;

3074 
ªt
 = 
	`°ub_zã_£t_pmac_ds_sh≠ög
(
p_zã_pmac_ds_sh≠ög
);

3076 if(
ªt
 !
NO_ERROR
)

3077 
£nd_r•
;

3079 
£nd_r•
:

3081 if(
ªt
 =
OPL_OK
)

3083 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

3087 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

3090 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

3091 
	}
}

3093 
u32_t
 
	$°ub_zã_gë_pmac_buff_cfg
(
u8_t
 
dúe˘i⁄
, 
ﬂm_zã_pmac_buff_cfg_t
 *
p_zã_pmac_buff_cfg
)

3095 
UINT16
 
bufsize
 = 0;

3096 
UINT32
 
bufsize_byã
 = 0;

3097 
ªt
 = 0;

3101 
bufsize_byã
 = 
bufsize
*60;

3103 
p_zã_pmac_buff_cfg
->
buff_size
[0] = (
bufsize_byã
>>16) & 0xff;

3104 
p_zã_pmac_buff_cfg
->
buff_size
[1] = (
bufsize_byã
>>8) & 0xff;

3105 
p_zã_pmac_buff_cfg
->
buff_size
[2] = 
bufsize_byã
 & 0xff;

3108  
ªt
;

3109 
	}
}

3111 
u32_t
 
	$°ub_zã_£t_pmac_buff_cfg
(
ﬂm_zã_pmac_buff_cfg_t
 *
p_zã_pmac_buff_cfg
)

3113 
u8_t
 
dúe˘i⁄
 =0;

3114 
u8_t
 
ödiˇti⁄
 = 0;

3115 
UINT32
 
bufsize
 = 0;

3116 
ªt
=0;

3117 
dúe˘i⁄
 = 
p_zã_pmac_buff_cfg
->direction;

3118 
ödiˇti⁄
 = 
p_zã_pmac_buff_cfg
->
mgmt_ödiˇti⁄
;

3120 
bufsize
 = (
p_zã_pmac_buff_cfg
->
buff_size
[0] <<16 )+(Ö_zte_pmac_buff_cfg->buff_size[1]<<8)+(p_zte_pmac_buff_cfg->buff_size[2]);

3124 
bufsize
 = bufsize/60;

3125 if(
bufsize
 > 
STREAM_BUFFER_MAX
)

3127  
OPL_ERROR
;

3129 if(
ödiˇti⁄
 ==0x00)

3132 if(
dúe˘i⁄
 =
DOWN_STREAM
)

3134 
ªt

	`odmQueueLimôSë
(
dúe˘i⁄
 , 0, 
DOWNSTREAM_BUFFER_DEFAULT
);

3136 if(
dúe˘i⁄
 =
UP_STREAM
)

3138 
ªt

	`odmQueueLimôSë
(
dúe˘i⁄
 , 0, 
UPSTREAM_BUFFER_DEFAULT
);

3140 if(
dúe˘i⁄
 == 0x02)

3142 
ªt
 = 
	`odmQueueLimôSë
(
DOWN_STREAM
 , 0, 
DOWNSTREAM_BUFFER_DEFAULT
);

3143 if(
ªt
 !
OPL_OK
)

3145 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"löe:%d\n", 
__LINE__
);

3146  
ªt
;

3149 
ªt
 = 
	`odmQueueLimôSë
(
UP_STREAM
 , 0, 
UPSTREAM_BUFFER_DEFAULT
);

3150 if(
ªt
 !
OPL_OK
)

3152 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"löe:%d\n", 
__LINE__
);

3153  
ªt
;

3160 
ªt
 = 
OPL_ERROR
;

3164 if(
ödiˇti⁄
 ==0x01)

3166 if(
dúe˘i⁄
 == 0x02)

3169 
ªt
 = 
	`odmQueueLimôSë
(
DOWN_STREAM
 , 0, 
bufsize
);

3170 if(
ªt
 !
OPL_OK
)

3172 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"löe:%d\n", 
__LINE__
);

3173  
ªt
;

3176 
ªt
 = 
	`odmQueueLimôSë
(
UP_STREAM
 , 0, 
bufsize
);

3177 if(
ªt
 !
OPL_OK
)

3179 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"löe:%d\n", 
__LINE__
);

3180  
ªt
;

3185 if(
dúe˘i⁄
 == 0x00 || direction == 0x01)

3188 
ªt
 = 
	`odmQueueLimôSë
(
dúe˘i⁄
 , 0, 
bufsize
);

3193 
ªt
 = 
OPL_ERROR
;

3197  
ªt
;

3199 
	}
}

3201 
	$e›l_zã_gë_pmac_buff_cfg
(
u8_t
* 
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3203 
u8_t
 
ªt
;

3204 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3205 
ﬂm_zã_pmac_buff_cfg_t
 *
p_zã_pmac_buff_cfg
;

3206 
ﬂm_zã_pmac_buff_cfg_t
 
pmac_buff_cfg
;

3207 
u8_t
 
dúe˘i⁄
 = 0;

3208 
u8_t
 
ödiˇti⁄
 = 0;

3210 
ªt
 = 
NO_ERROR
;

3211 *
pGíÀn
 = 0;

3212 
p_zã_pmac_buff_cfg
 = (
ﬂm_zã_pmac_buff_cfg_t
 *)
p_ö
;

3213 
dúe˘i⁄
 = 
p_zã_pmac_buff_cfg
->direction;

3214 
ödiˇti⁄
 = 
p_zã_pmac_buff_cfg
->
mgmt_ödiˇti⁄
;

3216 
p_zã_pmac_buff_cfg
 = (
ﬂm_zã_pmac_buff_cfg_t
 *)
pRïlybuf
;

3217 
p_zã_pmac_buff_cfg
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3218 
p_zã_pmac_buff_cfg
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
;

3220 
ªt
 = 
	`°ub_zã_gë_pmac_buff_cfg
(
dúe˘i⁄
, &
pmac_buff_cfg
);

3221 if(
ªt
 !
OPL_OK
)

3223 
p_zã_pmac_buff_cfg
->
width
 = 
OAM_GET_NO_RESOURCE
;

3224 *
pGíÀn
 += 4;

3228 
p_zã_pmac_buff_cfg
->
dúe˘i⁄
 = direction;

3231 
p_zã_pmac_buff_cfg
->
mgmt_ödiˇti⁄
 = 
ödiˇti⁄
 ;

3233 
p_zã_pmac_buff_cfg
->
width
 = 5;

3235 
	`vosMemCpy
(&
p_zã_pmac_buff_cfg
->
buff_size
[0],&
pmac_buff_cfg
.buff_size[0], 3);

3237 *
pGíÀn
 +
p_zã_pmac_buff_cfg
->
width
 + 4;

3238 
	}
}

3240 
	$e›l_zã_£t_pmac_buff_cfg
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3242 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

3243 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3244 
ﬂm_zã_pmac_buff_cfg_t
 *
p_zã_pmac_buff_cfg
;

3245 
u32_t
 
ªt
;

3247 
ªt
 = 
NO_ERROR
;

3249 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

3250 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3251 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
;

3253 
p_zã_pmac_buff_cfg
 = (
ﬂm_zã_pmac_buff_cfg_t
 *)
p_ö
;

3255 
ªt
 = 
	`°ub_zã_£t_pmac_buff_cfg
(
p_zã_pmac_buff_cfg
);

3258 if(
ªt
 =
OPL_OK
)

3260 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

3264 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

3267 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

3268 
	}
}

3271 
ﬂm_zã_pmac_buff_cfg_t
 
	g°ub_zã_pmac_buff_quîy
;

3273 
u32_t
 
	$°ub_zã_gë_pmac_buff_quîy
(
ﬂm_zã_pmac_buff_quîy_t
 *
p_zã_pmac_buff_quîy
)

3275 
UINT32
 
ds_bufsize
 = 
DOWNSTREAM_BUFFER_MAX
*60;

3276 
UINT32
 
us_bufsize
 = 
UPSTREAM_BUFFER_MAX
 *60;

3278 
p_zã_pmac_buff_quîy
->
buff_mgmt_ˇ∑bûôy
 =0x01;

3280 
p_zã_pmac_buff_quîy
->
ds_buff_max
[0] = (
ds_bufsize
>>16) & 0xff;

3281 
p_zã_pmac_buff_quîy
->
ds_buff_max
[1] = (
ds_bufsize
>>8) & 0xff;

3282 
p_zã_pmac_buff_quîy
->
ds_buff_max
[2] = 
ds_bufsize
 & 0xff;

3284 
p_zã_pmac_buff_quîy
->
us_buff_max
[0] = (
us_bufsize
>>16) & 0xff;

3285 
p_zã_pmac_buff_quîy
->
us_buff_max
[1] = (
us_bufsize
>>8) & 0xff;

3286 
p_zã_pmac_buff_quîy
->
us_buff_max
[2] = 
us_bufsize
 & 0xff;

3288  
NO_ERROR
;

3289 
	}
}

3291 
	$e›l_zã_gë_pmac_buff_quîy
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3293 
u32_t
 
ªt
;

3294 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3295 
ﬂm_zã_pmac_buff_quîy_t
 *
p_zã_pmac_buff_quîy
;

3296 
ﬂm_zã_pmac_buff_quîy_t
 
pmac_buff_quîy
;

3298 
ªt
 = 
NO_ERROR
;

3299 *
pGíÀn
 = 0;

3300 
	`mem£t
(&
pmac_buff_quîy
,0,(
ﬂm_zã_pmac_buff_quîy_t
));

3302 
p_zã_pmac_buff_quîy
 = (
ﬂm_zã_pmac_buff_quîy_t
 *)
pRïlybuf
;

3303 
p_zã_pmac_buff_quîy
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3304 
p_zã_pmac_buff_quîy
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
;

3305 
p_zã_pmac_buff_quîy
->
width
 = 13;

3307 
ªt
 = 
	`°ub_zã_gë_pmac_buff_quîy
(&
pmac_buff_quîy
);

3308 if(
ªt
 !
NO_ERROR
)

3310 
p_zã_pmac_buff_quîy
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3311 
p_zã_pmac_buff_quîy
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
;

3312 
p_zã_pmac_buff_quîy
->
width
 = 
OAM_GET_NO_RESOURCE
;

3313 *
pGíÀn
 += 4;

3318 
p_zã_pmac_buff_quîy
->
buff_mgmt_ˇ∑bûôy
 = 
pmac_buff_quîy
.buff_mgmt_capability;

3320 
	`vosMemCpy
(&
p_zã_pmac_buff_quîy
->
ds_buff_mö
[0],

3321 &
pmac_buff_quîy
.
ds_buff_mö
[0],

3324 
	`vosMemCpy
(&
p_zã_pmac_buff_quîy
->
ds_buff_max
[0],

3325 &
pmac_buff_quîy
.
ds_buff_max
[0],

3328 
	`vosMemCpy
(&
p_zã_pmac_buff_quîy
->
us_buff_mö
[0],

3329 &
pmac_buff_quîy
.
us_buff_mö
[0],

3332 
	`vosMemCpy
(&
p_zã_pmac_buff_quîy
->
us_buff_max
[0],

3333 &
pmac_buff_quîy
.
us_buff_max
[0],

3336 *
pGíÀn
 +
p_zã_pmac_buff_quîy
->
width
 + 4;

3339 
	}
}

3344 
u32_t
 
	$°ub_zã_gë_uni_°©s_cfg
(
u8_t
 
p‹t_id
, 
ﬂm_zã_uni_°©s_cfg_t
 *
p_zã_uni_°©s_cfg
)

3347 if(
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_duøti⁄_time
==0)

3349 
p_zã_uni_°©s_cfg
->
width
=8;

3351 
p_zã_uni_°©s_cfg
->
a˘i⁄
=0;

3352 
	`mem£t
(&
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[0],0,3);

3353 
p_zã_uni_°©s_cfg
->
°©s_duøti⁄
=0;

3358 
p_zã_uni_°©s_cfg
->
width
=8;

3360 
p_zã_uni_°©s_cfg
->
a˘i⁄
=
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_a˘i⁄
;

3362 
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[0]=
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_öãrva
 >>16 & 0xFF;

3363 
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[1]=
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_öãrva
 >>8 & 0xFF;

3364 
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[2]=
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_öãrva
 & 0xFF;

3366 
p_zã_uni_°©s_cfg
->
°©s_duøti⁄
=
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_duøti⁄_time
;

3370  
NO_ERROR
;

3371 
	}
}

3374 
	$haddÀSèti°icsCou¡
(
u8_t
 
p‹t
 , 
°©i°ics_cou¡î_t
 * 
°©i°ics_cou¡î
)

3376 
ªt
;

3377 
ﬂm_zã_⁄u_ëhî_°©s_t
 
zã_p‹t_ëh_°©s
;

3379 
	`mem£t
(&
zã_p‹t_ëh_°©s
, 0 , (
ﬂm_zã_⁄u_ëhî_°©s_t
));

3381 
ªt
 = 
	`°ub_zã_gë_uni_ëh_°©s
(
p‹t
, &
zã_p‹t_ëh_°©s
);

3383 i‡(
ªt
 !
NO_ERROR
)

3385 
	`OP_DEBUG
–
DEBUG_LEVEL_DEBUGGING
,"OAM ZTE: stub_zte_get_uni_eth_stats failed" );

3386  
ªt
;

3388 
°©i°ics_cou¡î
->
°aifOutO˘ës
 = 
zã_p‹t_ëh_°©s
.
ifOutO˘ës
;

3390 
°©i°ics_cou¡î
->
°aifOutUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.
ifOutUˇ°Pkts
;

3392 
°©i°ics_cou¡î
->
°aifOutNUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.
ifOutNUˇ°Pkts
;

3395 
°©i°ics_cou¡î
->
°aifOutEº‹s
 = 
zã_p‹t_ëh_°©s
.
ifOutEº‹s
;

3397 
°©i°ics_cou¡î
->
°aifInO˘ës

zã_p‹t_ëh_°©s
.
ifInO˘ës
;

3399 
°©i°ics_cou¡î
->
°aifInUˇ°Pkts
 =
zã_p‹t_ëh_°©s
.
ifInUˇ°Pkts
;

3401 
°©i°ics_cou¡î
->
°aifInNUˇ°Pkts
 = 
zã_p‹t_ëh_°©s
.
ifInNUˇ°Pkts
;

3404 
°©i°ics_cou¡î
->
°aifInEº‹s
 = 
zã_p‹t_ëh_°©s
.
ifInEº‹s
;

3406  
OK
;

3408 
	}
}

3411 *
	$haddÀSèti°icsCﬁÀ˘P‹t
(* 
±h∑øm
)

3413 
p‹t
 = *((*)
±h∑øm
);

3414 
u8_t
 
a˘i⁄
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_a˘i⁄
;

3415 
UINT32
 
duπime
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_duøti⁄_time
*1000;

3416 
UINT32
 
öãrvÆ
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_öãrva
;

3417 
°©i°ics_cou¡î_t
 *
pCou¡
[2];

3418 
i
 = 0;

3420 
	`mem£t
(&
°©i°ics_cou¡î1
[
p‹t
],0,(
°©i°ics_cou¡î_t
));

3421 
	`mem£t
(&
°©i°ics_cou¡î2
[
p‹t
],0,(
°©i°ics_cou¡î_t
));

3422 
pCou¡
[0] = &
°©i°ics_cou¡î1
[
p‹t
];

3423 
pCou¡
[1] = &
°©i°ics_cou¡î2
[
p‹t
];

3427 
a˘i⁄
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_a˘i⁄
;

3428 if(
a˘i⁄
==0x01)

3430 
duπime
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_duøti⁄_time
*1000;

3431 
öãrvÆ
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_öãrva
;

3433 
°©i°ics_p‹t
[
p‹t
].
°©i°ics_a˘i⁄
==0x01 && 
duπime
>=
öãrvÆ
)

3435 
	`haddÀSèti°icsCou¡
(
p‹t
, 
pCou¡
[
i
]);

3436 
	`u¶ìp
(
öãrvÆ
*1000);

3438 
duπime
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_duøti⁄_time
*1000;

3439 
öãrvÆ
=
°©i°ics_p‹t
[
p‹t
].
°©i°ics_öãrva
;

3441 
duπime
-=
öãrvÆ
;

3442 if(
°©i°ics_p‹t
[
p‹t
].
°©i°ics_a˘i⁄
==0x01)

3444 
°©i°ics_p‹t
[
p‹t
].
°©i°ics_duøti⁄_time
=
duπime
/1000;

3446 if(
duπime
< 
öãrvÆ
)

3448 
°©i°ics_p‹t
[
p‹t
].
°©i°ics_a˘i⁄
=0;

3449 
°©i°ics_p‹t
[
p‹t
].
°©i°ics_öãrva
=0;

3450 
°©i°ics_p‹t
[
p‹t
].
°©i°ics_duøti⁄_time
=0;

3453 
i
 = (++i)%2;

3457 
	`vosUSÀï
(100*1000);

3459 
	`vosThªadExô
(0);

3460  
NULL
;

3461 
	}
}

3463 
u32_t
 
	$°ub_zã_£t_uni_°©s_cfg
(
u8_t
 
p‹t_id
, 
ﬂm_zã_uni_°©s_cfg_t
 *
p_zã_uni_°©s_cfg
)

3465 
u8_t
 
a˘i⁄
=0;

3466 
ªt
=
NO_ERROR
;

3467 
öãrvÆ
=0;

3468 
UINT32
 
duπime
 = 0;

3470 
a˘i⁄

p_zã_uni_°©s_cfg
->action;

3471 
öãrvÆ
=((
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[0]<<16)|(p_zte_uni_stats_cfg->stats_interval[1]<<8)|(p_zte_uni_stats_cfg->stats_interval[2]));

3472 
duπime
 = 
p_zã_uni_°©s_cfg
->
°©s_duøti⁄
;

3474 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Åhê£àa˘i⁄=0x%x i¡îvÆ = 0x%x duπimê0x%x\n",
a˘i⁄
,
öãrvÆ
,
duπime
);

3476 if(
öãrvÆ
 >= 1000)

3479 if(
a˘i⁄
==0x00)

3481 
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_a˘i⁄
=0;

3483 if(
a˘i⁄
==0x01)

3485 
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_a˘i⁄
=
p_zã_uni_°©s_cfg
->
a˘i⁄
;

3487 
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_öãrva
((
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[0]<<16)|(p_zte_uni_stats_cfg->stats_interval[1]<<8)|(p_zte_uni_stats_cfg->stats_interval[2]));

3489 
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_duøti⁄_time

p_zã_uni_°©s_cfg
->
°©s_duøti⁄
;

3491 if(
p‹tSèti°icsThªadId
[
p‹t_id
]==
NULL
)

3493 
°©i°ics_p‹t_num
[
p‹t_id
] =Öort_id;

3494 
p‹tSèti°icsThªadId
[
p‹t_id
] = 
	`vosThªadCª©e
("tPortStats",

3495 
OP_VOS_THREAD_STKSZ
, 90, (*)
haddÀSèti°icsCﬁÀ˘P‹t
,

3496 (*)&
°©i°ics_p‹t_num
[
p‹t_id
]);

3497 if(
p‹tSèti°icsThªadId
[
p‹t_id
] =
NULL
)

3499 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,

3501 
ªt
 = 
ERROR
;

3509 
ªt
 = 
ERROR
;

3513  
ªt
;

3515 
	}
}

3518 
	$e›l_zã_gë_uni_°©s_cfg
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3520 
u8_t
 
ªt
;

3521 
u8_t
 
ucP‹tS
;

3522 
u8_t
 
ucP‹tE
;

3523 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3524 
ﬂm_zã_uni_°©s_cfg_t
 *
p_zã_uni_°©s_cfg
;

3525 
ﬂm_zã_uni_°©s_cfg_t
 
zã_uni_°©s_cfg
;

3527 
ªt
 = 
NO_ERROR
;

3529 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

3531 
ucP‹tS
 = 1;

3532 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

3536 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3537 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3540 *
pGíÀn
 = 0;

3541 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3543 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

3544 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

3545 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

3546 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

3547 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

3549 
p_zã_uni_°©s_cfg
 = (
ﬂm_zã_uni_°©s_cfg_t
 *)
pRïlybuf
;

3550 
p_zã_uni_°©s_cfg
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3551 
p_zã_uni_°©s_cfg
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
;

3553 
ªt
 = 
	`°ub_zã_gë_uni_°©s_cfg
(
ucP‹tS
-1, &
zã_uni_°©s_cfg
);

3554 if(
ªt
 !
NO_ERROR
)

3558 
p_zã_uni_°©s_cfg
->
width
 = 
zã_uni_°©s_cfg
.width;

3559 
p_zã_uni_°©s_cfg
->
a˘i⁄
 = 
zã_uni_°©s_cfg
.action;

3561 
	`vosMemCpy
(&
p_zã_uni_°©s_cfg
->
°©s_öãrvÆ
[0], &
zã_uni_°©s_cfg
.stats_interval[0],3);

3563 
p_zã_uni_°©s_cfg
->
°©s_duøti⁄
 = 
zã_uni_°©s_cfg
.stats_duration;

3565 *
pGíÀn
 +
p_zã_uni_°©s_cfg
->
width
 + 4;

3569 
	}
}

3572 
	$e›l_zã_£t_uni_°©s_cfg
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3574 
u8_t
 
ªt
, 
ucP‹tS
, 
ucP‹tE
;

3575 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

3576 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3577 
ﬂm_zã_uni_°©s_cfg_t
 *
p_zã_uni_°©s_cfg
;

3579 
ªt
=
OPL_OK
;

3580 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

3581 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3582 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
;

3584 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

3586 
ªt
 = 
ERROR
;

3587 
£nd_r•
;

3590 *
pGíÀn
 = 0;

3592 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

3593 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

3594 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

3595 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

3600 
p_zã_uni_°©s_cfg
 = (
ﬂm_zã_uni_°©s_cfg_t
 *)
p_ö
;

3601 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3603 
ªt
 = 
	`°ub_zã_£t_uni_°©s_cfg
(
ucP‹tS
-1, 
p_zã_uni_°©s_cfg
);

3604 if(
ªt
 !
NO_ERROR
)

3605 
£nd_r•
;

3608 
£nd_r•
:

3610 if(
ªt
 =
OPL_OK
)

3612 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

3616 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

3619 *
pGíÀn
(
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_ö°™˚_év_t_2_0
);

3622 
	}
}

3625 
u32_t
 
	$°ub_zã_£t_uni_°©s_ª£t
(
u8_t
 
p‹t_id
, 
ﬂm_zã_uni_°©s_ª£t_t
 *
p_zã_uni_°©s_cfg
)

3627 
ªt
=
NO_ERROR
;

3628 if(
p_zã_uni_°©s_cfg
->
ª£t
==0x00)

3630 
ªt
 = 
	`Io˘l_SëMibCou¡Re£t
(
p‹t_id
);

3631 if(
ªt
 !
DRV_OK
)

3632  
ERROR
;

3634  
NO_ERROR
;

3635 
	}
}

3637 
	$e›l_zã_£t_uni_°©s_ª£t
(
˘c_v¨In°™t_t
 *
p_ö°™˚
, 
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3639 
u8_t
 
ªt
, 
ucP‹tS
, 
ucP‹tE
;

3640 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

3641 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3642 
ﬂm_zã_uni_°©s_ª£t_t
 *
p_zã_uni_°©s_ª£t
;

3644 
ªt
=
OPL_OK
;

3645 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

3646 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3647 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_RESET
;

3649 if(
	`zã_˘c_gë_p‹t_ödex
(
p_ö°™˚
, &
ucP‹tS
, &
ucP‹tE
Ë!
NO_ERROR
)

3651 
ªt
 = 
ERROR
;

3652 
£nd_r•
;

3655 *
pGíÀn
 = 0;

3657 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

3658 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

3659 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

3660 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

3665 
p_zã_uni_°©s_ª£t
 = (
ﬂm_zã_uni_°©s_ª£t_t
 *)
p_ö
;

3666 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3668 
ªt
 = 
	`°ub_zã_£t_uni_°©s_ª£t
(
ucP‹tS
, 
p_zã_uni_°©s_ª£t
);

3669 if(
ªt
 !
NO_ERROR
)

3670 
£nd_r•
;

3673 
£nd_r•
:

3675 if(
ªt
 =
OPL_OK
)

3677 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

3681 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

3684 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
Ë+ (
ﬂm_ö°™˚_év_t_2_0
);

3687 
	}
}

3690 
u8_t
 
	$°ub_zã_gë_uni_°©s_quîy
(
u8_t
 
p‹t_id
, 
ﬂm_zã_uni_°©s_quîy_t
 *
p_zã_uni_°©s_quîy
)

3693 if(
°©i°ics_p‹t
[
p‹t_id
].
°©i°ics_a˘i⁄
==1 && sèti°ics_p‹t[p‹t_id].
°©i°ics_duøti⁄_time
!=0)

3695 
p_zã_uni_°©s_quîy
->
cﬁÀ˘_ödiˇti⁄
 = 0x01;

3699 
p_zã_uni_°©s_quîy
->
cﬁÀ˘_ödiˇti⁄
 = 0x00;

3702 
p_zã_uni_°©s_quîy
->
ifOutO˘ës
 = 
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifOutO˘ës
 - 
°©i°ics_cou¡î1
[port_id].staifOutOctets);

3704 
p_zã_uni_°©s_quîy
->
ifOutUˇ°Pkts
 =
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifOutUˇ°Pkts
 - 
°©i°ics_cou¡î1
[port_id].staifOutUcastPkts);

3706 
p_zã_uni_°©s_quîy
->
ifOutNUˇ°Pkts
=
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifOutNUˇ°Pkts
 - 
°©i°ics_cou¡î1
[port_id].staifOutNUcastPkts);

3708 
p_zã_uni_°©s_quîy
->
ifOutEº‹s
 =
	`Œabs
–
°©i°ics_cou¡î2
[
p‹t_id
].
°aifOutEº‹s
-
°©i°ics_cou¡î1
[port_id].staifOutErrors);

3710 
p_zã_uni_°©s_quîy
->
ifInO˘ës
 = 
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifInO˘ës
-
°©i°ics_cou¡î1
[port_id].staifInOctets);

3712 
p_zã_uni_°©s_quîy
->
ifInUˇ°Pkts
 = 
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifInUˇ°Pkts
-
°©i°ics_cou¡î1
[port_id].staifInUcastPkts);

3714 
p_zã_uni_°©s_quîy
->
ifInNUˇ°Pkts

	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifInNUˇ°Pkts
-
°©i°ics_cou¡î1
[port_id].staifInNUcastPkts);

3716 
p_zã_uni_°©s_quîy
->
ifInEº‹s
 =
	`Œabs
(
°©i°ics_cou¡î2
[
p‹t_id
].
°aifInEº‹s
-
°©i°ics_cou¡î1
[port_id].staifInErrors);

3719  
NO_ERROR
;

3720 
	}
}

3722 
	$e›l_zã_gë_uni_°©s_quîy
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3724 
u8_t
 
ªt
;

3725 
u8_t
 
ucP‹tS
;

3726 
u8_t
 
ucP‹tE
;

3727 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3728 
ﬂm_zã_uni_°©s_quîy_t
 *
p_zã_uni_°©s_quîy
;

3729 
ﬂm_zã_uni_°©s_quîy_t
 
zã_uni_°©s_quîy
;

3731 
ªt
 = 
NO_ERROR
;

3733 
	`mem£t
(&
zã_uni_°©s_quîy
,0,(
ﬂm_zã_uni_°©s_quîy_t
));

3735 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

3737 
ucP‹tS
 = 1;

3738 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

3742 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3743 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3746 *
pGíÀn
 = 0;

3747 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3750 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

3751 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

3752 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

3753 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

3754 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

3756 
p_zã_uni_°©s_quîy
 = (
ﬂm_zã_uni_°©s_quîy_t
*)
pRïlybuf
;

3757 
p_zã_uni_°©s_quîy
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3758 
p_zã_uni_°©s_quîy
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_QUERY
;

3759 
p_zã_uni_°©s_quîy
->
width
 = 81;

3761 
ªt
 = 
	`°ub_zã_gë_uni_°©s_quîy
(
ucP‹tS
-1, &
zã_uni_°©s_quîy
);

3762 if(
ªt
 !
OPL_OK
)

3766 
p_zã_uni_°©s_quîy
->
cﬁÀ˘_ödiˇti⁄
 = 
zã_uni_°©s_quîy
.collect_indication;

3767 
p_zã_uni_°©s_quîy
->
ifInO˘ës
 = 
zã_uni_°©s_quîy
.ifInOctets;

3768 
p_zã_uni_°©s_quîy
->
ifInUˇ°Pkts
 = 
zã_uni_°©s_quîy
.ifInUcastPkts;

3769 
p_zã_uni_°©s_quîy
->
ifInNUˇ°Pkts
 = 
zã_uni_°©s_quîy
.ifInNUcastPkts;

3770 
p_zã_uni_°©s_quîy
->
ifInDisˇrds
 = 
zã_uni_°©s_quîy
.ifInDiscards;

3771 
p_zã_uni_°©s_quîy
->
ifInEº‹s
 = 
zã_uni_°©s_quîy
.ifInErrors;

3772 
p_zã_uni_°©s_quîy
->
ifOutO˘ës
 = 
zã_uni_°©s_quîy
.ifOutOctets;

3773 
p_zã_uni_°©s_quîy
->
ifOutUˇ°Pkts
 = 
zã_uni_°©s_quîy
.ifOutUcastPkts;

3774 
p_zã_uni_°©s_quîy
->
ifOutNUˇ°Pkts
 = 
zã_uni_°©s_quîy
.ifOutNUcastPkts;

3775 
p_zã_uni_°©s_quîy
->
ifOutDisˇrds
 = 
zã_uni_°©s_quîy
.ifOutDiscards;

3776 
p_zã_uni_°©s_quîy
->
ifOutEº‹s
 = 
zã_uni_°©s_quîy
.ifOutErrors;

3778 *
pGíÀn
 +
p_zã_uni_°©s_quîy
->
width
 + 4;

3782 
	}
}

3786 *
	$thªad_c⁄fig_œ£r_tx
(*
¨g
)

3790 
	`vosUSÀï
(100*1000);

3791 if(
gLa£rC⁄figFœg
 == 0)

3793 
	`vosUSÀï
(100*1000);

3795 if(
gTxLa£rClo£Duøti⁄
 != 0)

3799 
	`vosSÀï
(
gTxLa£rClo£Duøti⁄
);

3801 
	`odmP⁄TxPowîDown
(1);

3805 
gLa£rC⁄figFœg
 = 1;

3808 
	`vosThªadExô
(0);

3809  
NULL
;

3810 
	}
}

3813 
	$°ub_zã_£t_tx_œ£r_c⁄rﬁ
(
ﬂm_zã_tx_œ£r_c⁄åﬁ_t
 *
p_zã_tx_œ£r_c⁄åﬁ
)

3815 
VOS_THREAD_t
 
thªad_id
 = 
NULL
;

3817 
ªt
=
ERROR
;

3818 
UINT8
 
œ£_°©e
 =0 ;

3819 
u8_t
 
mac
[6] = {0};

3820 if(
p_zã_tx_œ£r_c⁄åﬁ
->
m©chmac_í
 =
NEED_MATCH
)

3823 
ªt
 = 
	`odmP⁄MacIdGë
(
mac
);

3825 if(
ªt
 !
OK
)

3827  
ªt
;

3829 if(
	`vosMemCmp
(
mac
,
p_zã_tx_œ£r_c⁄åﬁ
->
p⁄_mac_vÆue
,(mac))!=0)

3831 
ªt
 = 
ERROR
;

3832  
ªt
;

3835 
p_zã_tx_œ£r_c⁄åﬁ
->
a˘i⁄
)

3837 
OPEN_TX_ACTION
:

3838 
œ£_°©e
 = 0;

3840 
CLOSE_TX_ACTION
:

3841 
œ£_°©e
 = 1;

3843 
CLOSE_MODULE_ACTION
:

3844 
ªt
 = -5;

3845  
ªt
;

3850 if(
œ£_°©e
 == 0)

3853 
	`odmP⁄TxPowîDown
(
œ£_°©e
);

3858 
gLa£rC⁄figFœg
 = 0;

3861 if(
p_zã_tx_œ£r_c⁄åﬁ
->
a˘i⁄
!
OPEN_TX_ACTION
)

3863 
gTxLa£rClo£Duøti⁄
 = 
p_zã_tx_œ£r_c⁄åﬁ
->
duπime
;

3865 if(
thªad_id
 =
NULL
)

3867 
thªad_id
 = 
	`vosThªadCª©e
("tLa£rCål", 
OP_VOS_THREAD_STKSZ
, 90,

3868 (*)
thªad_c⁄fig_œ£r_tx
, 
NULL
);

3869 if(
thªad_id
 =
NULL
)

3871 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "CreateÅheÅaskÅhread_config_laser_tx failed");

3872 
ªt
 = 
ERROR
;

3876  
ªt
;

3877 
	}
}

3879 
	$e›l_zã_£t_tx_œ£r_c⁄rﬁ
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3881 
ªt
;

3882 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

3883 
ﬂm_zã_tx_œ£r_c⁄åﬁ_t
 *
p_zã_tx_œ£r_c⁄åﬁ
;

3885 
ªt
=
OPL_OK
;

3887 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

3888 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3889 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
;

3891 
p_zã_tx_œ£r_c⁄åﬁ
 = (
ﬂm_zã_tx_œ£r_c⁄åﬁ_t
 *)
p_ö
;

3893 
ªt
 = 
	`°ub_zã_£t_tx_œ£r_c⁄rﬁ
(
p_zã_tx_œ£r_c⁄åﬁ
);

3896 if(
ªt
 =
NO_ERROR
)

3898 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

3900 if(
ªt
 == -5)

3902 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_BAD_PARAMETERS
;

3906 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

3908 *
pGíÀn
 = (
ﬂm_£t_ª•⁄£_t
);

3911 
	}
}

3913 
	s⁄u_°©s_s
{

3914 
p⁄_°©i°ics_t
 
	mp⁄_°©i°ics
;

3915 
p‹t_°©i°ics_t
 
	mp‹t_°©i°ics
[
ODM_NUM_OF_PORTS
];

3916 }
	t⁄u_°©s_t
;

3918 
OPL_STATUS
 
	$odmOnuRólSèti°icGë
(
⁄u_°©s_t
 * 
°©s
)

3920 
p⁄_°©i°ics_t
 * 
p⁄Sèts
;

3921 
UINT8
 
Index
;

3924 
	`odmP⁄SètsGë
(&
°©s
->
p⁄_°©i°ics
);

3927 
Index
 = 0; Index < 
ODM_NUM_OF_PORTS
; Index++)

3930 
	`odmP⁄SögÀP‹tSètsGë
(
Index
, &
°©s
->
p‹t_°©i°ics
[Index]);

3934  
OK
;

3935 
	}
}

3939 
u32_t
 
	$°ub_zã_gë_p⁄_p‹t_°©s_1
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p⁄_°©s_°©ics_1_t
 *
p_zã_p⁄_°©s_quîy
)

3941 
⁄u_°©s_t
 
°©s
;

3942 
	`vosMemSë
(&
°©s
,0,(
⁄u_°©s_t
));

3944 
	`odmOnuRólSèti°icGë
(&
°©s
);

3946 
p_zã_p⁄_°©s_quîy
->
FømesTønsmôãdOK
 = 
°©s
.
p⁄_°©i°ics
.
FømeTx
;

3947 
p_zã_p⁄_°©s_quîy
 ->
O˘ësTønsmôãdOK
 = 
°©s
.
p⁄_°©i°ics
.
O˘ësTx
;

3948 
p_zã_p⁄_°©s_quîy
->
Mu…iˇ°FømesXmôãdOK

°©s
.
p⁄_°©i°ics
.
O˘ësTxT›R©e
;

3949 
p_zã_p⁄_°©s_quîy
->
Brﬂdˇ°FømesXmôãdOK
 = 
°©s
.
p⁄_°©i°ics
.
O˘ësTxR©e
;

3950 
p_zã_p⁄_°©s_quîy
->
FømesRe˚ivedOK
 = 
°©s
.
p⁄_°©i°ics
.
FømeRx
;

3951 
p_zã_p⁄_°©s_quîy
->
O˘ësRe˚ivedOK
 = 
°©s
.
p⁄_°©i°ics
.
O˘ësRx
;

3952 
p_zã_p⁄_°©s_quîy
->
Mu…iˇ°FømesRe˚ivedOK
 = 
°©s
.
p⁄_°©i°ics
.
O˘ësRxT›R©e
;

3953 
p_zã_p⁄_°©s_quîy
->
Brﬂdˇ°FømesRe˚ivedOK
 = 
°©s
.
p⁄_°©i°ics
.
O˘ësRxR©e
;

3955  
NO_ERROR
;

3956 
	}
}

3958 
	$e›l_zã_gë_p⁄_°©ics_1
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

3960 
u32_t
 
ªt
;

3961 
u8_t
 
ucP‹tS
;

3962 
u8_t
 
ucP‹tE
;

3963 
u8_t
 
ﬂmR•Code
;

3964 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

3965 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

3966 
ﬂm_zã_p⁄_°©s_°©ics_1_t
 *
p_zã_p⁄_ëh_°©s
;

3967 
ﬂm_zã_p⁄_°©s_°©ics_1_t
 
zã_p⁄_ëh_°©s
;

3969 
ªt
 = 
NO_ERROR
;

3971 
	`vosMemSë
(&
zã_p⁄_ëh_°©s
,0,(
ﬂm_zã_p⁄_°©s_°©ics_1_t
));

3972 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

3974 
ucP‹tS
 = 1;

3975 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

3979 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3980 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

3982 *
pGíÀn
 = 0;

3983 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

3986 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

3987 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

3988 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

3989 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

3990 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

3992 
ªt
 = 
	`°ub_zã_gë_p⁄_p‹t_°©s_1
(
ucP‹tS
-1, &
zã_p⁄_ëh_°©s
);

3994 if(
ªt
 !
NO_ERROR
)

3996 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

3997 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

3998 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3999 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
;

4000 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

4001 *
pGíÀn
 += 4;

4005 
p_zã_p⁄_ëh_°©s
 = (
ﬂm_zã_p⁄_°©s_°©ics_1_t
 *)
pRïlybuf
;

4006 
p_zã_p⁄_ëh_°©s
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4007 
p_zã_p⁄_ëh_°©s
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
;

4008 
p_zã_p⁄_ëh_°©s
->
width
 = 112;

4011 
p_zã_p⁄_ëh_°©s
->
FømesTønsmôãdOK
 = 
zã_p⁄_ëh_°©s
.FramesTransmittedOK;

4012 
p_zã_p⁄_ëh_°©s
 ->
O˘ësTønsmôãdOK
 = 
zã_p⁄_ëh_°©s
.OctetsTransmittedOK;

4013 
p_zã_p⁄_ëh_°©s
->
Mu…iˇ°FømesXmôãdOK
=
zã_p⁄_ëh_°©s
.MulticastFramesXmittedOK;

4014 
p_zã_p⁄_ëh_°©s
->
Brﬂdˇ°FømesXmôãdOK
 = 
zã_p⁄_ëh_°©s
.BroadcastFramesXmittedOK;

4015 
p_zã_p⁄_ëh_°©s
->
FømesRe˚ivedOK
 = 
zã_p⁄_ëh_°©s
.FramesReceivedOK;

4016 
p_zã_p⁄_ëh_°©s
->
O˘ësRe˚ivedOK
 =
zã_p⁄_ëh_°©s
.OctetsReceivedOK;

4017 
p_zã_p⁄_ëh_°©s
->
Mu…iˇ°FømesRe˚ivedOK
 =
zã_p⁄_ëh_°©s
.MulticastFramesReceivedOK;

4018 
p_zã_p⁄_ëh_°©s
->
Brﬂdˇ°FømesRe˚ivedOK
 = 
zã_p⁄_ëh_°©s
.BroadcastFramesReceivedOK;

4020 *
pGíÀn
 +
p_zã_p⁄_ëh_°©s
->
width
 + 4;

4024 
	}
}

4028 
u32_t
 
	$°ub_zã_gë_p⁄_p‹t_°©s_2
(
u8_t
 
p‹t_id
, 
ﬂm_zã_p⁄_°©s_°©ics_2_t
 *
p_zã_p⁄_°©s_quîy
)

4030 
u64_t
 
ãmp
=0;

4033 
ãmp
=0;

4035 
ãmp
=0;

4038 
ãmp
=0;

4041 
ãmp
=0;

4046  
NO_ERROR
;

4047 
	}
}

4049 
	$e›l_zã_gë_p⁄_°©ics_2
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

4051 
u32_t
 
ªt
;

4052 
u8_t
 
ucP‹tS
;

4053 
u8_t
 
ucP‹tE
;

4054 
u8_t
 
ﬂmR•Code
;

4055 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

4056 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

4057 
ﬂm_zã_p⁄_°©s_°©ics_2_t
 *
p_zã_p⁄_ëh_°©s
;

4058 
ﬂm_zã_p⁄_°©s_°©ics_2_t
 
zã_p⁄_ëh_°©s
;

4060 
ªt
 = 
NO_ERROR
;

4062 
	`vosMemSë
(&
zã_p⁄_ëh_°©s
,0,(
ﬂm_zã_p⁄_°©s_°©ics_2_t
));

4063 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

4065 
ucP‹tS
 = 1;

4066 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

4070 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4071 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4074 *
pGíÀn
 = 0;

4075 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4078 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

4079 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

4080 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

4081 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

4082 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

4084 
ªt
 = 
	`°ub_zã_gë_p⁄_p‹t_°©s_2
(
ucP‹tS
-1, &
zã_p⁄_ëh_°©s
);

4086 if(
ªt
 !
NO_ERROR
)

4088 
ﬂmR•Code
 = 
OAM_GET_NO_RESOURCE
;

4089 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

4090 
p_gë_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4091 
p_gë_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
;

4092 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

4093 *
pGíÀn
 += 4;

4097 
p_zã_p⁄_ëh_°©s
 = (
ﬂm_zã_p⁄_°©s_°©ics_2_t
 *)
pRïlybuf
;

4098 
p_zã_p⁄_ëh_°©s
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4099 
p_zã_p⁄_ëh_°©s
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
;

4100 
p_zã_p⁄_ëh_°©s
->
width
 = 120;

4103 
p_zã_p⁄_ëh_°©s
->
MPCPRxG©e
 = 
zã_p⁄_ëh_°©s
.MPCPRxGate;

4104 
p_zã_p⁄_ëh_°©s
 ->
MPCPRxRegi°î
 = 
zã_p⁄_ëh_°©s
.MPCPRxRegister;

4106 
p_zã_p⁄_ëh_°©s
->
MPCPTxRegi°î
=
zã_p⁄_ëh_°©s
.MPCPTxRegister;

4108 
p_zã_p⁄_ëh_°©s
->
FECC‹ª˘edBlocks
 =
zã_p⁄_ëh_°©s
.FECCorrectedBlocks;

4110 
p_zã_p⁄_ëh_°©s
->
FECUnc‹ª˘abÀBlocks
=
zã_p⁄_ëh_°©s
.FECUncorrectableBlocks;

4112 *
pGíÀn
 +
p_zã_p⁄_ëh_°©s
->
width
 + 4;

4116 
	}
}

4120 
u32_t
 
	$e›l_zã_hg_ªp‹t
(
u8_t
 
p‹t_id
, 
u16_t
 
msg_id
, u8_à*
msg_öfo
, u8_à
msg_Àn
)

4122 
u8_t
 *
p_out
;

4123 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

4124 
ﬂm_zã_hg_ªp‹t_t
 *
p_zã_msg_öfo
;

4125 
u32_t
 
ªt
;

4127 if(0 =
g_usAœrmOutD©aIdx
)

4129 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_GET_RESPONSE
);

4130 
p_out
 = &
Æ¨m_out_d©a
[0];

4131 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4132 
g_usAœrmOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4136 
p_out
 = &
Æ¨m_out_d©a
[
g_usAœrmOutD©aIdx
];

4139 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_out
;

4140 
p_out
 +(
ﬂm_ö°™˚_év_t_2_0
);

4141 
g_usOutD©aIdx
 +(
ﬂm_ö°™˚_év_t_2_0
);

4143 
p_ö°
->
bønch
 = 0x36;

4144 
p_ö°
->
Àaf
 = 0x0001;

4145 
p_ö°
->
width
 = 0x01;

4146 
p_ö°
->
vÆue
 = 
p‹t_id
;

4148 
p_zã_msg_öfo
 = (
ﬂm_zã_hg_ªp‹t_t
 *)
p_out
;

4149 
p_zã_msg_öfo
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4150 
p_zã_msg_öfo
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_REPORT
;

4151 
p_zã_msg_öfo
->
width
 = 2 + 
msg_Àn
;

4152 
p_zã_msg_öfo
->
msg_id
 = msg_id;

4154 
	`vosMemCpy
(&
p_zã_msg_öfo
->
msg_öfo
[0], msg_öfo, 
msg_Àn
);

4156 
g_usAœrmOutD©aIdx
 +
p_zã_msg_öfo
->
width
 + 4;

4158 
	`OamFømeSíd
(
Æ¨m_out_d©a
, 
g_usAœrmOutD©aIdx
);

4159 
g_usAœrmOutD©aIdx
 = 0;

4161  
ªt
;

4162 
	}
}

4167 
u8_t
 
	g°ub_zã_hg_mac_num
;

4168 
ﬂm_zã_hg_mac_íåy_t
 
	g°ub_zã_hg_mac_öfo
[32];

4170 
u32_t
 
	$°ub_zã_hg_mac_íåy_num_gë
(
u8_t
 *
p_íåy_num
)

4172 *
p_íåy_num
 = 
°ub_zã_hg_mac_num
;

4174  
NO_ERROR
;

4175 
	}
}

4177 
u32_t
 
	$°ub_zã_hg_mac_íåy_gë
(
u8_t
 
íåy_id
, 
ﬂm_zã_hg_mac_íåy_t
 *
p_hg_mac_íåy
)

4179 
	`vosMemCpy
(
p_hg_mac_íåy
, &
°ub_zã_hg_mac_öfo
[
íåy_id
], (
ﬂm_zã_hg_mac_íåy_t
));

4181  
NO_ERROR
;

4182 
	}
}

4184 
u32_t
 
	$°ub_zã_hg_mac_íåy_add
(
u8_t
 
íåy_id
, 
ﬂm_zã_hg_mac_íåy_t
 *
p_hg_mac_íåy
)

4186 
u32_t
 
ªt
;

4188 
	`vosMemCpy
(&
°ub_zã_hg_mac_öfo
[
íåy_id
], 
p_hg_mac_íåy
, (
ﬂm_zã_hg_mac_íåy_t
));

4190 
°ub_zã_hg_mac_num
++;

4192  
NO_ERROR
;

4193 
	}
}

4195 
u32_t
 
	$°ub_zã_hg_mac_íåy_dñ
(
u8_t
 
íåy_id
)

4198 
u8_t
 
i
;

4200 
i
 = 
íåy_id
+1; i < 
°ub_zã_hg_mac_num
; i++)

4203 
	`vosMemCpy
(&
°ub_zã_hg_mac_öfo
[
i
-1],

4204 &
°ub_zã_hg_mac_öfo
[
i
],

4205 (
ﬂm_zã_hg_mac_íåy_t
));

4208 
	`vosMemSë
(&
°ub_zã_hg_mac_öfo
[
i
],

4210 (
ﬂm_zã_hg_mac_íåy_t
));

4213 
°ub_zã_hg_mac_num
--;

4215  
NO_ERROR
;

4216 
	}
}

4218 
u32_t
 
	$°ub_zã_hg_mac_add
(
ﬂm_zã_hg_mac_íåy_t
 *
p_hg_mac_íåy
)

4220 
u32_t
 
ªt
;

4221 
u8_t
 
num_of_íåõs
;

4222 
u8_t
 
√w_íåy_id
;

4223 
u8_t
 
i
 = 0;

4224 
ﬂm_zã_hg_mac_íåy_t
 
hg_mac_íåy
;

4226 
ªt
 = 
	`°ub_zã_hg_mac_íåy_num_gë
(&
num_of_íåõs
);

4227 if(
ªt
 !
NO_ERROR
)

4230 if(
num_of_íåõs
 == 32)

4235 
√w_íåy_id
 = 
num_of_íåõs
;

4237 
i
 = 0; i < 
num_of_íåõs
; i++)

4239 
ªt
 = 
	`°ub_zã_hg_mac_íåy_gë
(
i
, &
hg_mac_íåy
);

4240 if(
ªt
 !
NO_ERROR
)

4243 if(
	`vosMemCmp
(&
hg_mac_íåy
, 
p_hg_mac_íåy
, (
ﬂm_zã_hg_mac_íåy_t
)) == 0)

4247 if(
i
 =
num_of_íåõs
)

4248 
ªt
 = 
	`°ub_zã_hg_mac_íåy_add
(
√w_íåy_id
, 
p_hg_mac_íåy
);

4250  
ªt
;

4251 
	}
}

4253 
u32_t
 
	$°ub_zã_hg_mac_dñ
(
ﬂm_zã_hg_mac_íåy_t
 *
p_hg_mac_íåy
)

4255 
u8_t
 
num_of_íåõs
;

4256 
u8_t
 
hg_mac_id
;

4257 
u32_t
 
ªt
;

4258 
u8_t
 
i
;

4259 
ﬂm_zã_hg_mac_íåy_t
 
hg_mac_íåy
;

4261 
ªt
 = 
	`°ub_zã_hg_mac_íåy_num_gë
(&
num_of_íåõs
);

4262 if(
ªt
 !
NO_ERROR
)

4265 if(
num_of_íåõs
 == 0)

4268 
hg_mac_id
 = 
num_of_íåõs
;

4270 
i
 = 0; i < 
num_of_íåõs
; i++)

4272 
ªt
 = 
	`°ub_zã_hg_mac_íåy_gë
(
i
, &
hg_mac_íåy
);

4274 if(
	`vosMemCmp
(
p_hg_mac_íåy
, &
hg_mac_íåy
, (
ﬂm_zã_hg_mac_íåy_t
)) == 0)

4276 
ªt
 = 
	`°ub_zã_hg_mac_íåy_dñ
(
i
);

4280  
NO_ERROR
;

4281 
	}
}

4283 
u32_t
 
	$°ub_zã_hg_mac_˛ór
()

4285 
u32_t
 
ªt
;

4286 
u8_t
 
i
;

4288 
i
 = 0; i < 32; i++)

4290 
	`vosMemSë
(&
°ub_zã_hg_mac_öfo
[
i
],

4292 (
ﬂm_zã_hg_mac_íåy_t
));

4295  
NO_ERROR
;

4296 
	}
}

4298 
	$e›l_zã_gë_hg_mac_öfo
()

4300 
u32_t
 
ªt
;

4301 
u8_t
 *
p_out
;

4302 
ﬂm_zã_hg_mac_öfo_t
 *
p_zã_hg_mac_öfo
;

4303 
ﬂm_zã_hg_mac_öfo_t
 
zã_hg_mac_öfo
;

4304 
ﬂm_zã_hg_mac_íåy_t
 *
p_zã_hg_mac_íåy
;

4305 
ﬂm_zã_hg_mac_íåy_t
 
zã_hg_mac_íåy
;

4306 
u8_t
 
num_of_íåõs
;

4307 
u8_t
 
i
;

4309 
ªt
 = 
NO_ERROR
;

4311 if(0 =
g_usOutD©aIdx
)

4313 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_GET_RESPONSE
);

4314 
p_out
 = &
out_d©a
[0];

4315 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4316 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4320 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4323 
p_zã_hg_mac_öfo
 = (
ﬂm_zã_hg_mac_öfo_t
 *)
p_out
;

4324 
p_out
 +(
ﬂm_zã_hg_mac_öfo_t
);

4326 
p_zã_hg_mac_öfo
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4327 
p_zã_hg_mac_öfo
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
;

4329 
ªt
 = 
	`°ub_zã_hg_mac_íåy_num_gë
(&
num_of_íåõs
);

4330 if(
ªt
 !
OPL_OK
)

4332 
g_usOutD©aIdx
 = 0;

4336 
p_zã_hg_mac_öfo
->
a˘i⁄
 = 0x03;

4337 
p_zã_hg_mac_öfo
->
num_of_íåõs
 =Çum_of_entries;

4338 
p_zã_hg_mac_öfo
->
width
 = 2 + 6 * 
num_of_íåõs
;

4340 
i
 = 0; i < 
num_of_íåõs
; i++)

4342 
p_zã_hg_mac_íåy
 = (
ﬂm_zã_hg_mac_íåy_t
 *)
p_out
;

4343 
p_out
 +(
ﬂm_zã_hg_mac_íåy_t
);

4345 
	`°ub_zã_hg_mac_íåy_gë
(
i
, 
p_zã_hg_mac_íåy
);

4348 
g_usOutD©aIdx
 +
p_zã_hg_mac_öfo
->
width
 + 4;

4352 
	}
}

4353 
	$e›l_zã_£t_hg_mac_öfo
(
u8_t
 *
p_ö
)

4355 
u8_t
 *
p_out
;

4356 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

4357 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

4358 
ﬂm_zã_hg_mac_öfo_t
 *
p_zã_hg_mac_öfo
;

4359 
ﬂm_zã_hg_mac_íåy_t
 *
p_zã_hg_mac_íåy
;

4360 
u8_t
 
num_of_íåõs
;

4361 
u8_t
 
i
;

4362 
u32_t
 
ªt
;

4364 
ªt
=
OPL_OK
;

4366 if(0 =
g_usOutD©aIdx
)

4368 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_SET_RESPONSE
);

4369 
p_out
 = &
out_d©a
[0];

4370 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4371 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4375 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4378 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
p_out
;

4379 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4380 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
;

4382 
p_zã_hg_mac_öfo
 = (
ﬂm_zã_hg_mac_öfo_t
 *)
p_ö
;

4383 
p_ö
 +(
ﬂm_zã_hg_mac_öfo_t
);

4385 
num_of_íåõs
 = 
p_zã_hg_mac_öfo
->num_of_entries;

4387 
p_zã_hg_mac_íåy
 = (
ﬂm_zã_hg_mac_íåy_t
 *)
p_ö
;

4389 if(
p_zã_hg_mac_öfo
->
a˘i⁄
 == 0x00)

4391 
i
 = 0; i < 
num_of_íåõs
; i++)

4393 
ªt
 = 
	`°ub_zã_hg_mac_dñ
(
p_zã_hg_mac_íåy
);

4394 if(
ªt
 !
NO_ERROR
)

4395 
£nd_r•
;

4397 
p_zã_hg_mac_íåy
++;

4400 if(
p_zã_hg_mac_öfo
->
a˘i⁄
 == 0x01)

4402 
i
 = 0; i < 
num_of_íåõs
; i++)

4404 
ªt
 = 
	`°ub_zã_hg_mac_add
(
p_zã_hg_mac_íåy
);

4405 if(
ªt
 !
NO_ERROR
)

4406 
£nd_r•
;

4408 
p_zã_hg_mac_íåy
++;

4411 if(
p_zã_hg_mac_öfo
->
a˘i⁄
 == 0x02)

4413 
ªt
 = 
	`°ub_zã_hg_mac_˛ór
();

4414 if(
ªt
 !
NO_ERROR
)

4415 
£nd_r•
;

4418 
£nd_r•
:

4419 if(
ªt
 =
OPL_OK
)

4421 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

4425 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

4428 
p_out
 +(
ﬂm_£t_ª•⁄£_t
);

4429 
g_usOutD©aIdx
 +(
ﬂm_£t_ª•⁄£_t
);

4432 
	}
}

4435 
ﬂm_zã_hg_mgmt_vœn_t
 
	g°ub_zã_hg_mgmt_vœn
;

4437 
u32_t
 
	$°ub_zã_gë_hg_mgmt_vœn
(
u16_t
 *
p_mgmt_vœn
)

4439 *
p_mgmt_vœn
 = 
°ub_zã_hg_mgmt_vœn
.
hg_mgmt_vœn
;

4441  
NO_ERROR
;

4442 
	}
}

4444 
u32_t
 
	$°ub_zã_£t_hg_mgmt_vœn
(
u16_t
 
mgmt_vœn
)

4446 
°ub_zã_hg_mgmt_vœn
.
hg_mgmt_vœn
 = 
mgmt_vœn
;

4448  
NO_ERROR
;

4449 
	}
}

4451 
	$e›l_zã_gë_hg_mgmt_vœn
()

4453 
u8_t
 *
p_out
;

4454 
ﬂm_zã_hg_mgmt_vœn_t
 *
p_zã_hg_mgmt_vœn
;

4455 
u32_t
 
ªt
;

4456 
u16_t
 
hg_mgmt_vœn
;

4458 if(0 =
g_usOutD©aIdx
)

4460 
	`e›l_˘c_hódî_2_0
(
OAM_EXT_CODE_GET_RESPONSE
);

4461 
p_out
 = &
out_d©a
[0];

4462 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4463 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4467 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4470 
p_zã_hg_mgmt_vœn
 = (
ﬂm_zã_hg_mgmt_vœn_t
 *)
p_out
;

4471 
p_zã_hg_mgmt_vœn
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

4472 
p_zã_hg_mgmt_vœn
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
;

4473 
p_zã_hg_mgmt_vœn
->
width
 = 2;

4475 
ªt
 = 
	`°ub_zã_gë_hg_mgmt_vœn
(&
hg_mgmt_vœn
);

4477 if(
ªt
 !
NO_ERROR
)

4480 
p_zã_hg_mgmt_vœn
->
hg_mgmt_vœn
 = hg_mgmt_vlan;

4482 
g_usOutD©aIdx
 +
p_zã_hg_mgmt_vœn
->
width
 + 4;

4484 
	}
}

4485 
	$e›l_zã_£t_hg_mgmt_vœn
(
u8_t
 *
p_ö
)

4487 
u32_t
 
ªt
;

4488 
u8_t
 *
p_out
;

4489 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

4490 
ﬂm_zã_hg_mgmt_vœn_t
 *
p_zã_mgmt_vœn
;

4492 if(0 =
g_usOutD©aIdx
)

4494 
	`e›l_˘c_hódî_2_0
(
OAM_EXT_CODE_SET_RESPONSE
);

4495 
p_out
 = &
out_d©a
[0];

4496 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4497 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4501 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4504 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
p_out
;

4505 
p_r•
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

4506 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
;

4508 
p_zã_mgmt_vœn
 = (
ﬂm_zã_hg_mgmt_vœn_t
 *)
p_ö
;

4510 
ªt
 = 
	`°ub_zã_£t_hg_mgmt_vœn
(
p_zã_mgmt_vœn
->
hg_mgmt_vœn
);

4512 if(
ªt
 =
NO_ERROR
)

4514 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

4518 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

4521 
g_usOutD©aIdx
 += 4;

4522 
	}
}

4524 
u32_t
 
	$°ub_zã_gë_hg_ac˚ss_öfo
(
u8_t
 
p‹t_id
, 
ﬂm_zã_hg_ac˚ss_öfo_t
 *
p_öfo
)

4526 
	`vosMemCpy
(&
p_öfo
->
hg_mac
[0], &
°ub_zã_hg_ac˚ss_öfo
[
p‹t_id
].hg_mac[0], 6);

4528 
p_öfo
->
hg_ªp‹t_°©e
 = 
°ub_zã_hg_ac˚ss_öfo
[
p‹t_id
].hg_report_state;

4530  
NO_ERROR
;

4531 
	}
}

4533 
u32_t
 
	$°ub_zã_£t_hg_ac˚ss_öfo
(
u8_t
 
p‹t_id
, 
ﬂm_zã_hg_ac˚ss_öfo_t
 *
p_öfo
)

4536 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Së hgác˚s†p‹à %d, ma¯"
MAC_ASC_F
", state %d\n" ,

4537 
p‹t_id
, 
	`MACPRINT
(
p_öfo
->
hg_mac
),Ö_öfo->
hg_ªp‹t_°©e
);

4539 
	`vosMemCpy
(&
°ub_zã_hg_ac˚ss_öfo
[
p‹t_id
].
hg_mac
[0], &
p_öfo
->hg_mac[0], 6);

4541 
°ub_zã_hg_ac˚ss_öfo
[
p‹t_id
].
hg_ªp‹t_°©e
 = 
p_öfo
->hg_report_state;

4543  
NO_ERROR
;

4544 
	}
}

4546 
	$e›l_zã_gë_hg_ac˚ss_öfo
()

4548 
u32_t
 
ªt
;

4549 
u8_t
 
ucP‹tS
;

4550 
u8_t
 
ucP‹tE
;

4551 
u8_t
 *
p_out
;

4552 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

4553 
ﬂm_zã_hg_ac˚ss_öfo_t
 *
p_zã_hg_ac˚ss_öfo
;

4555 
ªt
 = 
NO_ERROR
;

4557 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

4559 
ucP‹tS
 = 1;

4560 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

4564 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4565 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4568 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4570 if(0 =
g_usOutD©aIdx
)

4572 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_GET_RESPONSE
);

4573 
p_out
 = &
out_d©a
[0];

4574 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4575 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4579 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4582 
p‹t_ö°™˚_2_0
.
vÆue
 = 
ucP‹tS
;

4583 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_out
;

4584 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

4585 
p_out
 +(
ﬂm_ö°™˚_év_t_2_0
);

4586 
g_usOutD©aIdx
 +(
ﬂm_ö°™˚_év_t_2_0
);

4588 
p_zã_hg_ac˚ss_öfo
 = (
ﬂm_zã_hg_ac˚ss_öfo_t
*)
p_out
;

4589 
p_zã_hg_ac˚ss_öfo
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4590 
p_zã_hg_ac˚ss_öfo
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
;

4591 
p_zã_hg_ac˚ss_öfo
->
width
 = 0x07;

4593 
ªt
 = 
	`°ub_zã_gë_hg_ac˚ss_öfo
(
ucP‹tS
, 
p_zã_hg_ac˚ss_öfo
);

4594 if(
ªt
 !
OPL_OK
)

4599 
g_usOutD©aIdx
 +
p_zã_hg_ac˚ss_öfo
->
width
 + 4;

4603 
	}
}

4604 
	$e›l_zã_£t_hg_ac˚ss_öfo
(
u8_t
 *
p_ö
)

4606 
u8_t
 
ucP‹tS
;

4607 
u8_t
 
ucP‹tE
;

4608 
u8_t
 *
p_out
;

4609 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

4610 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

4611 
ﬂm_zã_hg_ac˚ss_öfo_t
 *
p_zã_hg_ac˚ss_öfo
;

4612 
u32_t
 
ªt
;

4614 
ªt
=
OPL_OK
;

4616 if(0xFF =
p‹t_ö°™˚_2_0
.
vÆue
)

4618 
ucP‹tS
 = 1;

4619 
ucP‹tE
 = 
ODM_NUM_OF_PORTS
;

4623 
ucP‹tS
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4624 
ucP‹tE
 = 
p‹t_ö°™˚_2_0
.
vÆue
;

4627 if(0 =
g_usOutD©aIdx
)

4629 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_SET_RESPONSE
);

4630 
p_out
 = &
out_d©a
[0];

4631 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4632 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

4636 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

4639 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_out
;

4640 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

4641 
p_out
 +(
ﬂm_ö°™˚_év_t_2_0
);

4642 
g_usOutD©aIdx
 +(
ﬂm_ö°™˚_év_t_2_0
);

4644 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
p_out
;

4645 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4646 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
;

4648 
p_zã_hg_ac˚ss_öfo
 = (
ﬂm_zã_hg_ac˚ss_öfo_t
 *)
p_ö
;

4649 ; 
ucP‹tS
<=
ucP‹tE
; ucPortS++)

4651 
ªt
 = 
	`°ub_zã_£t_hg_ac˚ss_öfo
(
ucP‹tS
, 
p_zã_hg_ac˚ss_öfo
);

4652 if(
ªt
 !
NO_ERROR
)

4653 
£nd_r•
;

4656 
£nd_r•
:

4658 if(
ªt
 =
OPL_OK
)

4660 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

4664 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

4667 
p_out
 +(
ﬂm_£t_ª•⁄£_t
);

4668 
g_usOutD©aIdx
 +(
ﬂm_£t_ª•⁄£_t
);

4671 
	}
}

4673 *
	$sim∂e_ôﬂ
(
i
)

4681 
loˇl
[22];

4682 *
p
 = &
loˇl
[21];

4683 *
p
-- = '\0';

4685 *
p
-- = '0' + 
i
 % 10;

4686 
i
 /= 10;

4687 } 
i
 > 0);

4688  
p
 + 1;

4689 
	}
}

4691 
u32_t
 
	$°ub_zã_hg_msg_£t
(
u8_t
 *
hgMac
, u8_à
p‹tId
, u8_à*
ªp‹tMsg
)

4693 
tmpBuf
[20];

4694 
u32_t
 
pvid
 = 10;

4695 
ªtVÆ
 = 
ERROR
;

4698 
ªtVÆ
 = 
	`odmP‹tDeÁu…VœnGë
(
p‹tId
, &
pvid
);

4700 if(
NO_ERROR
 !
ªtVÆ
)

4702  
ªtVÆ
;

4705 
	`vosS¥ötf
(
ªp‹tMsg
, 
MAC_ASC_F
, 
	`MACPRINT
(
hgMac
));

4706 
	`vosSåC©
(
ªp‹tMsg
, "@");

4707 
	`vosSåC©
(
ªp‹tMsg
, 
	`sim∂e_ôﬂ
(
pvid
));

4708 
	`vosSåC©
(
ªp‹tMsg
, "@");

4709 
	`vosSåC©
(
ªp‹tMsg
, 
	`sim∂e_ôﬂ
(
pvid
 + 1200));

4710 
	`vosSåC©
(
ªp‹tMsg
, "@");

4711 
	`vosSåC©
(
ªp‹tMsg
, 
	`sim∂e_ôﬂ
(
pvid
+ 2400));

4713 
	}
}

4716 
u32_t
 
	$°ub_zã_hg_c⁄fig_ßve
(
öNëSèã
, 
p‹tId
)

4718 
ªtVÆ
;

4720 
ªtVÆ
 = 
	`vosC⁄figI¡egîSë
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
,
öNëSèã
);

4721 i‡(0 !
ªtVÆ
)

4723  
ERR_CONFIG_SET_FAIL
;

4726 
ªtVÆ
 = 
	`vosC⁄figI¡egîSë
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_PORT
,
p‹tId
);

4727 i‡(0 !
ªtVÆ
)

4729  
ERR_CONFIG_SET_FAIL
;

4732 
ªtVÆ
 = 
	`vosC⁄figFlushByModuÀ
(
CFG_HG_CFG
);

4733 i‡(0 !
ªtVÆ
)

4735  
ERR_CONFIG_SET_FAIL
;

4737 
	}
}

4739 
u32_t
 
	$°ub_zã_hg_c⁄fig_lﬂd
(*
öNëSèã
, *
p‹tId
)

4741 
ªtVÆ
;

4743 *
öNëSèã
 = 
	`vosC⁄figI¡egîGë
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
, 
CFG_HG_IN_NET_STATE_DEFAULT
);

4745 *
p‹tId
 = 
	`vosC⁄figI¡egîGë
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
, 
CFG_HG_IN_NET_PORT_DEFAULT
);

4746 
	}
}

4748 
	#ONE_PORT_HG


	)

4751 
	$e›l_zã_hg_check
()

4753 
u32_t
 
i
,
j
;

4754 
p‹tId
;

4755 
u32_t
 
ªtVÆ
 = 0;

4756 
u8_t
 
íåyNum
 = 0;

4757 
u16_t
 
vœnId
;

4758 
ªp‹tMsg
[32];

4759 
öNëSèã
;

4761 
	`°ub_zã_hg_c⁄fig_lﬂd
(&
öNëSèã
, &
p‹tId
);

4762 if(
p‹tId
 !
CFG_HG_IN_NET_PORT_DEFAULT
)

4763 
°ub_zã_hg_ac˚ss_öfo
[
p‹tId
].
hg_ªp‹t_°©e
 = 
öNëSèã
;

4767 
	`vosSÀï
(1);

4768 #ifde‡
ONE_PORT_HG


4770 
p‹tId
 = 1;Ö‹tId <
ODM_NUM_OF_PORTS
;ÖortId++)

4772 if(
°ub_zã_hg_ac˚ss_öfo
[
p‹tId
].
hg_ªp‹t_°©e
 == 1)

4776 if(
p‹tId
 <
ODM_NUM_OF_PORTS
)

4778 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "HG hasÉntriedÇet\n");

4783 if(
°ub_zã_hg_mgmt_vœn
.
hg_mgmt_vœn
 == 0

4784 ||
°ub_zã_hg_mac_num
 == 0)

4789 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Ha†gŸ m™agêvœ¿%dánd hg mac, checkög begö\n", 
°ub_zã_hg_mgmt_vœn
.
hg_mgmt_vœn
);

4791 
p‹tId
 = 1;Ö‹tId <
ODM_NUM_OF_PORTS
;ÖortId++)

4793 #i‚de‡
ONE_PORT_HG


4794 if(
°ub_zã_hg_ac˚ss_öfo
[
p‹tId
].
hg_ªp‹t_°©e
 == 1)

4796 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "A HG ha†íåõdÇë i¿p‹à%d\n", 
p‹tId
);

4801 
ªtVÆ
 = 
	`odmP‹tMacFûãrNumGë
(
p‹tId
, &
íåyNum
);

4803 
ªtVÆ
 = 0;

4804 if(
ªtVÆ
 !
NO_ERROR
)

4806 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
,"FailÅo odmPortMacFilterNumGet\n");

4810 
i
 = 0; i < 
íåyNum
; i++)

4812 
j
 = 0; j < 
°ub_zã_hg_mac_num
; j++)

4815 
ªtVÆ
 = 
	`odmP‹tMacFûãrE¡ryGë
(
p‹tId
, 
j
, &
vœnId
, &
°ub_zã_hg_mac_öfo
[
i
].
mac_addr
[j]);

4817 if(
ªtVÆ
 !
NO_ERROR
)

4819 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
, "FailÅo odmPortMacFilterEntryGet\n");

4823 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Gë P‹t:%d,É¡ry Num:%d, Vœn:%d\n",
p‹tId
, 
íåyNum
, 
vœnId
);

4825 if(
vœnId
 =
°ub_zã_hg_mgmt_vœn
.
hg_mgmt_vœn
)

4827 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

4828 "HG ha†bì¿found, Ma¯i‡"
MAC_ASC_F
"\n",

4829 
	`MACPRINT
(
°ub_zã_hg_mac_öfo
[
j
].
mac_addr
));

4831 
ªtVÆ
 = 
	`°ub_zã_hg_msg_£t
(&
°ub_zã_hg_mac_öfo
[
i
].
mac_addr
[
j
], 
p‹tId
, 
ªp‹tMsg
);

4832 if(
ªtVÆ
 !
NO_ERROR
)

4834 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
, "FailÅoÉopl_zte_hg_msg_set\n");

4837 
°ub_zã_hg_ac˚ss_öfo
[
p‹tId
].
hg_ªp‹t_°©e
 == 0)

4840 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Rï‹àhg msg %†tÿª•e˘ÅÿíåyÇë. \n", 
ªp‹tMsg
);

4841 
	`e›l_zã_hg_ªp‹t
(
p‹tId
, 0x1006, 
ªp‹tMsg
, (
	`vosSåLí
(reportMsg)+1));

4842 
	`vosSÀï
(10);

4845 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "EntryingÇet is successfull!!! \n");

4851 
	}
}

4854 
ﬂm_zã_gbl_∑ø_t
 
	g°ub_zã_gbl_∑ø
;

4856 
u32_t
 
	$°ub_zã_gë_gbl_∑ø
(
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
)

4858 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

4859 
my_u£∫ame
[32]={0};

4860 
my_∑sswd
[32]={0};

4861 
nLí
=0;

4862 
UINT32
 
ªtVÆ

ERROR
;

4864 
	`mem£t
(&
°IpC⁄fig
,0,(
ODM_SYS_IF_CONFIG_t
));

4866 
°IpC⁄fig
.
ucIf
 = 
INTERFACE_WAN
;

4868 
°IpC⁄fig
.
ucIfMode
 = 
INTERFACE_MODE_SIGNAL
;

4870 
ªtVÆ
 = 
	`odmSysIfC⁄figGë
(&
°IpC⁄fig
);

4872 i‡(
NO_ERROR
 !
ªtVÆ
)

4874 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "failÅo get odmSysIfConfigGet!\n");

4875  
PARAMETER_INPUT_POINTER_NULL
;

4878 
p_zã_gbl_∑ø
->
voi˚_ù_ªÀ©i⁄
 = 
°IpC⁄fig
.
ucIfSh¨eMode
;

4880 
p_zã_gbl_∑ø
->
voi˚_ù_mode
 = 
°IpC⁄fig
.
ucIpMode
;

4882 if(
p_zã_gbl_∑ø
->
voi˚_ù_mode
 == 0)

4884 
p_zã_gbl_∑ø
->
üd_ù_addªss
 = 
°IpC⁄fig
.
ulIpAddr
;

4886 
p_zã_gbl_∑ø
->
üd_√t_mask
 = 
°IpC⁄fig
.
ulIpMask
;

4888 
p_zã_gbl_∑ø
->
üd_deÁu…_gw
 = 
°IpC⁄fig
.
ulGwAddr
;

4890 
p_zã_gbl_∑ø
->
¥im¨y_dns
 = 
°IpC⁄fig
.
ulDnsAddr
;

4892 if(
p_zã_gbl_∑ø
->
voi˚_ù_mode
 == 2)

4894 
p_zã_gbl_∑ø
->
µp€_mode
 = 
°IpC⁄fig
.
ucPPPoEAuthTy≥
;

4897 
nLí
 = 
	`vosSåLí
(
°IpC⁄fig
.
acPPPoEU£r
);

4898 i‡(
nLí
 < 32)

4900 
	`vosMemSë
(&
p_zã_gbl_∑ø
->
µp€_u£∫ame
[0], 0, 32- 
nLí
);

4901 
	`vosMemCpy
(&
p_zã_gbl_∑ø
->
µp€_u£∫ame
[32 - 
nLí
], 
°IpC⁄fig
.
acPPPoEU£r
,ÇLen);

4905 
	`vosMemCpy
(&
p_zã_gbl_∑ø
->
µp€_u£∫ame
[0], 
°IpC⁄fig
.
acPPPoEU£r
, (p_zte_gbl_para->pppoe_username));

4909 
nLí
 = 
	`vosSåLí
(
°IpC⁄fig
.
acPPPoEPass
);

4910 i‡(
nLí
 < 32)

4912 
	`vosMemSë
(&
p_zã_gbl_∑ø
->
µp€_∑ssw‹d
[0], 0, 32- 
nLí
);

4913 
	`vosMemCpy
(&
p_zã_gbl_∑ø
->
µp€_∑ssw‹d
[32 - 
nLí
], 
°IpC⁄fig
.
acPPPoEPass
,ÇLen);

4917 
	`vosMemCpy
(&
p_zã_gbl_∑ø
->
µp€_∑ssw‹d
[0], 
°IpC⁄fig
.
acPPPoEPass
, (p_zte_gbl_para->pppoe_password));

4922 
p_zã_gbl_∑ø
->
ègged_Êag
 = 
°IpC⁄fig
.
ucTagged
;

4924 if(
p_zã_gbl_∑ø
->
ègged_Êag
 == 1 ||Ö_zte_gbl_para->tagged_flag == 2)

4926 
p_zã_gbl_∑ø
->
voi˚_d©a_cvœn
 = 
°IpC⁄fig
.
usCVœn
;

4928 
p_zã_gbl_∑ø
->
voi˚_d©a_¥i
 = 
°IpC⁄fig
.
ucPri‹ôy
;

4931 if(
p_zã_gbl_∑ø
->
ègged_Êag
 == 2)

4932 
p_zã_gbl_∑ø
->
voi˚_d©a_svœn
 = 
°IpC⁄fig
.
usSVLAN
;

4934  
ªtVÆ
;

4935 
	}
}

4937 
ODM_SYS_IF_CONFIG_t
 
	gg_°IpC⁄fig_20
;

4938 * 
	$°ub_⁄u_c⁄fig_öãrÁ˚_thªad_20
(*
pP¨m
)

4940 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

4942 
	`mem˝y
(&
°IpC⁄fig
, &
g_°IpC⁄fig_20
, (stIpConfig));

4944 i‡(
NO_ERROR
 !
	`odmSysIfC⁄figSë
(&
°IpC⁄fig
))

4946 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "OAM config interface failed\n");

4949 
	`vosThªadExô
(0);

4950  
NULL
;

4951 
	}
}

4952 
u32_t
 
	$°ub_zã_£t_gbl_∑ø
(
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
)

4954 
my_u£∫ame
[32]={0};

4955 
my_∑sswd
[32]={0};

4956 
UINT32
 
ªtVÆ
;

4959 
g_°IpC⁄fig_20
.
ucIfSh¨eMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

4962 
g_°IpC⁄fig_20
.
ucIpMode
 = 
p_zã_gbl_∑ø
->
voi˚_ù_mode
;

4967 if(
g_°IpC⁄fig_20
.
ucIpMode
 == 0)

4969 
g_°IpC⁄fig_20
.
ulIpAddr
 = 
p_zã_gbl_∑ø
->
üd_ù_addªss
;

4971 
g_°IpC⁄fig_20
.
ulIpMask
 = 
p_zã_gbl_∑ø
->
üd_√t_mask
;

4973 
g_°IpC⁄fig_20
.
ulGwAddr
 = 
p_zã_gbl_∑ø
->
üd_deÁu…_gw
;

4975 
g_°IpC⁄fig_20
.
ulDnsAddr
 = 
p_zã_gbl_∑ø
->
¥im¨y_dns
;

4977 if(
g_°IpC⁄fig_20
.
ucIpMode
 == 2)

4979 
g_°IpC⁄fig_20
.
ucPPPoEAuthTy≥
 = 
p_zã_gbl_∑ø
->
µp€_mode
;

4981 
	`°rùzîo°rög
(
p_zã_gbl_∑ø
->
µp€_u£∫ame
, 
my_u£∫ame
, (p_zte_gbl_para->pppoe_username));

4982 
	`°rùzîo°rög
(
p_zã_gbl_∑ø
->
µp€_∑ssw‹d
, 
my_∑sswd
, (p_zte_gbl_para->pppoe_password));

4984 
	`vosMemCpy
(&
g_°IpC⁄fig_20
.
acPPPoEU£r
[0], 
my_u£∫ame
, 32);

4987 
	`vosMemCpy
(&
g_°IpC⁄fig_20
.
acPPPoEPass
[0], 
my_∑sswd
, 32);

4989 
g_°IpC⁄fig_20
.
ucTagged
 = 
p_zã_gbl_∑ø
->
ègged_Êag
;

4991 if(
g_°IpC⁄fig_20
.
ucTagged
 == 1 || g_stIpConfig_20.ucTagged == 2)

4993 
g_°IpC⁄fig_20
.
usCVœn
 = 
p_zã_gbl_∑ø
->
voi˚_d©a_cvœn
;

4995 
g_°IpC⁄fig_20
.
ucPri‹ôy
 = 
p_zã_gbl_∑ø
->
voi˚_d©a_¥i
;

4998 if(
g_°IpC⁄fig_20
.
ucTagged
 == 2)

5000 
g_°IpC⁄fig_20
.
usSVLAN
 = 
p_zã_gbl_∑ø
->
voi˚_d©a_svœn
;

5003 
g_°IpC⁄fig_20
.
ucIf
 = 
INTERFACE_WAN
;

5005 
g_°IpC⁄fig_20
.
ucIfMode
 = 
INTERFACE_MODE_SIGNAL
;

5007 i‡(
NULL
 =
	`vosThªadCª©e
("tI¡Cng", 
OP_VOS_THREAD_STKSZ
, 100,

5008 (*)
°ub_⁄u_c⁄fig_öãrÁ˚_thªad_20
, &
g_°IpC⁄fig_20
))

5010 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "Create stub_onu_config_interface_threadÅhread failed\n");

5011  
ERROR
;

5014  
NO_ERROR
;

5015 
	}
}

5018 
	$e›l_zã_gë_gbl_∑ø
(
u8_t
* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

5020 
u8_t
 
ﬂmR•Code
 = 0;

5021 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

5022 
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
;

5023 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

5024 
u32_t
 
ªt
;

5026 *
pGíÀn
 = 0;

5027 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

5028 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

5029 *
pGíÀn
 +(
ﬂm_ö°™˚_év_t_2_0
);

5031 
p_ö°
->
bønch
 = 0x36;

5032 
p_ö°
->
Àaf
 = 0x0001;

5033 
p_ö°
->
width
 = 0x01;

5034 
p_ö°
->
vÆue
 = 1;

5036 
p_zã_gbl_∑ø
 = (
ﬂm_zã_gbl_∑ø_t
 *)
pRïlybuf
;

5037 
p_zã_gbl_∑ø
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5038 
p_zã_gbl_∑ø
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_GBL_PARA
;

5040 
ªt
 = 
	`°ub_zã_gë_gbl_∑ø
(
p_zã_gbl_∑ø
);

5043 if(
ªt
 !
NO_ERROR
)

5045 
p_zã_gbl_∑ø
->
width
 = 
OAM_GET_NO_RESOURCE
;

5046 *
pGíÀn
 += 4;

5050 
p_zã_gbl_∑ø
->
width
 = (
ﬂm_zã_gbl_∑ø_t
)-4;

5051 *
pGíÀn
 +
p_zã_gbl_∑ø
->
width
 + 4;

5054 
	}
}

5066 
	$e›l_zã_£t_mgmt_dh˝
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

5068 
i
 = 0;

5069 
u32_t
 
ªt
 = 
NO_ERROR
;

5070 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

5071 
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
;

5072 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

5073 
ﬂm_zã_mgmt_dh˝_t
 *
p_zã_mgmt_dh˝
;

5075 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

5076 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5077 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP
;

5079 
p_zã_mgmt_dh˝
 = (
ﬂm_zã_mgmt_dh˝_t
 *)
p_ö
;

5081 
p_zã_mgmt_dh˝
->
a˘i⁄
)

5083 
ZTE_DHCP_ENABLE
:

5085 if((
p_zã_mgmt_dh˝
->
vœnid
<1) || (p_zte_mgmt_dhcp->vlanid>4094))

5087 
ªt
 = 
ERROR
;

5088 
£nd_r•
;

5092 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_zã_mgmt_dh˝
->
vœnid
);

5093 if(
NO_ERROR
 !
ªt
)

5095 
£nd_r•
;

5097 
ªt
 = 
	`e›l_dh˝_h™dÀr
();

5098 if(
NO_ERROR
 !
ªt
)

5100 
£nd_r•
;

5104 
ZTE_DHCP_DISABLE
:

5105 
ªt
 = 
	`e›l_h3c_£t_deÁu…_ù
(
p_ö
);

5106 if(
NO_ERROR
 !
ªt
)

5108 
£nd_r•
;

5112 
ªt
 = 
ERROR
;

5113 
£nd_r•
;

5116 
£nd_r•
:

5117 if(
ªt
 =
NO_ERROR
)

5119 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

5123 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

5126 *
pGíÀn
 = 4;

5127 
	}
}

5130 
	$e›l_zã_£t_gbl_∑ø
(
u8_t
 *
p_ö
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

5132 
i
 = 0;

5133 
u32_t
 
ªt
;

5134 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

5135 
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
;

5136 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

5138 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
pRïlybuf
;

5140 
p_ö°
->
bønch
 = 0x36;

5141 
p_ö°
->
Àaf
 = 0x0001;

5142 
p_ö°
->
width
 = 0x01;

5143 
p_ö°
->
vÆue
 = 0x01;

5145 
pRïlybuf
 +(
ﬂm_ö°™˚_év_t_2_0
);

5147 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlybuf
;

5148 
p_r•
->
bønch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5149 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_GBL_PARA
;

5152 
p_zã_gbl_∑ø
 = (
ﬂm_zã_gbl_∑ø_t
 *)
p_ö
;

5154 
ªt
 = 
	`°ub_zã_£t_gbl_∑ø
(
p_zã_gbl_∑ø
);

5156 if(
ªt
 =
NO_ERROR
)

5158 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

5162 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

5165 *
pGíÀn
 = (
ﬂm_ö°™˚_év_t_2_0
Ë+ (
ﬂm_£t_ª•⁄£_t
);

5168 
	}
}

5170 
ODM_SYS_IF_CONFIG_t
 
	gg_°IpMgmgC⁄fig_20
;

5172 
u32_t
 
	$°ub_£t_mgmg_ù_addr_cfg
(
u32_t
 
ù_addr
, u32_à
ù_mask
)

5174 
UINT32
 
ªtVÆ
;

5176 
g_°IpMgmgC⁄fig_20
.
ulIpAddr
 = 
ù_addr
;

5178 
g_°IpMgmgC⁄fig_20
.
ulIpMask
 = 
ù_mask
;

5180  
NO_ERROR
;

5181 
	}
}

5183 
u32_t
 
	$°ub_£t_mgmt_vœn_cfg
(
u8_t
 
vÆid
, u8_à
mgmt_¥i
, 
u16_t
 
mgmt_vœn
)

5185 
UINT32
 
ªtVÆ
;

5187 
g_°IpMgmgC⁄fig_20
.
ucTagged
 = 
vÆid
;

5189 
g_°IpMgmgC⁄fig_20
.
ucPri‹ôy
 = 
mgmt_¥i
;

5190 
g_°IpMgmgC⁄fig_20
.
usCVœn
 = 
mgmt_vœn
;

5192  
NO_ERROR
;

5194 
	}
}

5196 
u8_t
 
	gg_mgmt_°©us_cfg
;

5198 
u32_t
 
	$°ub_£t_mgmt_°©us_cfg
(
u8_t
 
°©us
)

5201 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

5202 
UINT32
 
ªtVÆ
;

5204 
°IpC⁄fig
.
ucIf
 = 
INTERFACE_WAN
;

5206 
°IpC⁄fig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5207 
ªtVÆ
 = 
	`odmSysIfC⁄figGë
(&
°IpC⁄fig
);

5208 i‡(
NO_ERROR
 !
ªtVÆ
)

5210  
OAM_SET_BAD_PARAMETERS
;

5213 
°IpC⁄fig
.
ucIfSh¨eMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

5215 
°IpC⁄fig
.
ucIpMode
 = 
IF_IP_MODE_STATIC
;

5217 
°IpC⁄fig
.
ulIpAddr
 = 0;

5219 
°IpC⁄fig
.
ulIpMask
 = 0;

5221 
°IpC⁄fig
.
ucIf
 = 
INTERFACE_WAN
;

5223 
°IpC⁄fig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5224 
ªtVÆ
 = 
	`odmSysIfC⁄figSë
(&
°IpC⁄fig
);

5225 i‡(
NO_ERROR
 !
ªtVÆ
)

5227  
OAM_SET_BAD_PARAMETERS
;

5230 
g_mgmt_°©us_cfg
 = 
°©us
;

5232  
NO_ERROR
;

5233 
	}
}

5235 
u32_t
 
	$°ub_£t_mgmt_ho°_öfo_cfg
(
u32_t
 
ho°_sub√t
, u32_à
ho°_mask
, u32_à
g©eway
)

5241 
g_°IpMgmgC⁄fig_20
.
ulGwAddr
 = 
g©eway
;

5243  
NO_ERROR
;

5244 
	}
}

5246 * 
	$°ub_⁄u_c⁄fig_admö_öãrÁ˚_thªad_20
(*
pP¨m
)

5248 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

5250 
	`mem˝y
(&
°IpC⁄fig
, &
g_°IpMgmgC⁄fig_20
, (stIpConfig));

5252 i‡(
NO_ERROR
 !
	`odmSysIfC⁄figSë
(&
°IpC⁄fig
))

5254 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "OAM config interface failed\n");

5257 
	`vosThªadExô
(0);

5258  
NULL
;

5259 
	}
}

5261 
	$e›l_zã_£t_mgmt_ù
(
u8_t
 *
p_ö
,u8_à
ty≥
,u8_à
p‹t
, u8_t* 
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

5263 
u32_t
 
ªt
;

5264 
ﬂm_£t_ª•⁄£_t
 *
p_r•
;

5265 
ﬂm_zã_mgmt_ù_cfg_t
 *
p_zã_mgmt_ù
;

5266 
u8_t
 
vœnVÆid
 = 0;

5267 
ö_addr
 
ùaddr
;

5268 
ö_addr
 
mask
;

5269 
ö_addr
 
g©eway
;

5271 *
pGíÀn
 = 0;

5272 
p_r•
 = (
ﬂm_£t_ª•⁄£_t
*)
pRïlyBuf
;

5273 
p_r•
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5274 
p_r•
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5276 
p_zã_mgmt_ù
 = (
ﬂm_zã_mgmt_ù_cfg_t
 *)
p_ö
;

5278 
g_°IpMgmgC⁄fig_20
.
ucIf
 = 
INTERFACE_WAN
;

5280 
g_°IpMgmgC⁄fig_20
.
ucIfSh¨eMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

5281 
g_°IpMgmgC⁄fig_20
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5282 
g_°IpMgmgC⁄fig_20
.
ucIpMode
 = 
IF_IP_MODE_STATIC
;

5284 if((
p_zã_mgmt_ù
->
mgmt_vœn
<1) || (p_zte_mgmt_ip->mgmt_vlan>4094))

5286 
ªt
 = 
ERROR
;

5287 
£nd_r•
;

5290 
ªt
 = 
	`e›l_mgmtvœn_¥o˚ssög
(
p_zã_mgmt_ù
->
mgmt_vœn
);

5291 if(
ªt
 !
NO_ERROR
)

5292 
£nd_r•
;

5293 
	`vosMemCpy
(&
ùaddr
, &(
p_zã_mgmt_ù
->
ù_addr
), 4);

5294 
	`vosMemCpy
(&
mask
, &(
p_zã_mgmt_ù
->
ù_mask
), 4);

5295 
	`vosMemCpy
(&
g©eway
, &(
p_zã_mgmt_ù
->
mgmt_g©eway
), 4);

5296 
ªt
 = 
	`e›l_ù_¥o˚ssög
(
ùaddr
, 
mask
, 
g©eway
);

5297 if(
ªt
 !
NO_ERROR
)

5298 
£nd_r•
;

5299 
£nd_r•
:

5300 if(
ªt
 =
NO_ERROR
)

5302 
p_r•
->
ödiˇti⁄
 = 
OAM_SET_OK
;

5306 
p_r•
->
ödiˇti⁄
 = 
OAM_BAD_PARAM_VALUE
;

5309 *
pGíÀn
 += 4;

5312 
	}
}

5314 
	$e›l_zã_gë_mgmt_ù
(
u8_t
 
ty≥
,u8_à
p‹t
, u8_t*
pRïlyBuf
, 
u16_t
* 
pGíÀn
)

5316 
ﬂm_zã_mgmt_ù_cfg_t
 *
p_⁄u_mgmt_ù
;

5317 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_mgmt_ù
;

5319 
ODM_SYS_IF_CONFIG_t
 
°IpC⁄fig
;

5320 
u8_t
 
ﬂmR•Code
;

5321 
u32_t
 
ªt
 = 
ERROR
;

5323 *
pGíÀn
 = 0;

5324 
°IpC⁄fig
.
ucIf
 = 
INTERFACE_WAN
;

5325 
°IpC⁄fig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5327 if(
ªt
!
NO_ERROR
)

5329 
ﬂmR•Code
 = 
OAM_BAD_PARAM_VALUE
;

5331 
p_gë_mgmt_ù
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlyBuf
;

5332 
p_gë_mgmt_ù
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5333 
p_gë_mgmt_ù
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5334 
p_gë_mgmt_ù
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

5336 *
pGíÀn
 += 4;

5341 
p_⁄u_mgmt_ù
 = (
ﬂm_zã_mgmt_ù_cfg_t
*)
pRïlyBuf
;

5343 
p_⁄u_mgmt_ù
->
bønch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5344 
p_⁄u_mgmt_ù
->
Àaf
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5345 
p_⁄u_mgmt_ù
->
width
 = 24;

5347 
p_⁄u_mgmt_ù
->
ù_addr
 =
°IpC⁄fig
.
ulIpAddr
;

5348 
p_⁄u_mgmt_ù
->
ù_mask
 =
°IpC⁄fig
.
ulIpMask
;

5349 
p_⁄u_mgmt_ù
->
mgmt_¥i
 =
°IpC⁄fig
.
ucPri‹ôy
;

5350 
p_⁄u_mgmt_ù
->
mgmt_vœn
 =
°IpC⁄fig
.
usCVœn
;

5351 
p_⁄u_mgmt_ù
->
mgmt_°©us
 = 
g_mgmt_°©us_cfg
;

5354 
p_⁄u_mgmt_ù
->
mgmt_g©eway
 = 
°IpC⁄fig
.
ulGwAddr
;

5356 *
pGíÀn
 +
p_⁄u_mgmt_ù
->
width
 + 4;

5359 
	}
}

5362 
	$e›l_zã_no_suµ‹t
(
u8_t
 
bønch
 , 
u16_t
 
Àaf
)

5364 
u8_t
 *
p_out
;

5365 
u8_t
 
ﬂmR•Code
;

5366 
ﬂm_r•_ödiˇti⁄_t
 *
p_gë_r•
;

5367 
ﬂm_ö°™˚_év_t_2_0
 *
p_ö°
;

5369 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"unknownÅlv branch %dÜeaf %d",

5370 
bønch
,

5371 
Àaf
);

5373 if(0 =
g_usOutD©aIdx
)

5375 
	`e›l_˘c_hódî
(
OAM_EXT_CODE_GET_RESPONSE
);

5376 
p_out
 = &
out_d©a
[0];

5377 
p_out
 +(
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

5378 
g_usOutD©aIdx
 = (
ﬂmpdu_hdr_t
Ë+ (
˘c_hódî_t
);

5382 
p_out
 = &
out_d©a
[
g_usOutD©aIdx
];

5385 if(
p‹t_ö°™˚_2_0
.
vÆue
 &&Öort_instance_2_0.value!=200)

5387 
p_ö°
 = (
ﬂm_ö°™˚_év_t_2_0
 *)
p_out
;

5388 *
p_ö°
 = 
p‹t_ö°™˚_2_0
;

5389 
p_out
 +(
ﬂm_ö°™˚_év_t_2_0
);

5390 
g_usOutD©aIdx
 +(
ﬂm_ö°™˚_év_t_2_0
);

5393 
ﬂmR•Code
 = 
OAM_GET_BAD_PARA
;

5394 
p_gë_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
p_out
;

5395 
p_gë_r•
->
bønch
 = branch;

5396 
p_gë_r•
->
Àaf
 =Üeaf;

5397 
p_gë_r•
->
v¨_ödiˇti⁄
 = 
ﬂmR•Code
;

5399 
g_usOutD©aIdx
 += 4;

5401 if(
g_usOutD©aIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

5403 
	`ﬂm_pdu_∑ddög
(&
out_d©a
[
g_usOutD©aIdx
], 
OAM_MINIMIZE_PDU_SIZE
 - g_usOutDataIdx);

5404 
g_usOutD©aIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

5407 
	`OamFømeSíd
(
out_d©a
, 
g_usOutD©aIdx
);

5408 
	`mem£t
(&
p‹t_ö°™˚_2_0
, 0, (
ﬂm_ö°™˚_év_t_2_0
));

5409 
g_usOutD©aIdx
 = 0;

5411 
	}
}

5413 
	$e›l_zã_gë_ªq
(
u8_t
 *
p_ö
, u8_à
ty≥
, u8_à
p‹t
,u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

5415 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

5416 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"¥o˚s†zãÉxàgë,Åy≥ = %x,Ö‹à%x\n", 
ty≥
, 
p‹t
);

5417 
u16_t
 
gíLí
 = 0;

5420 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

5421 
p_v¨_desc
->
bønch
)

5423 
OAM_ZTE_EXT_BRANCH_ATTR
:

5424 
p_v¨_desc
->
Àaf
)

5426 
OAM_ZTE_EXT_LEAF_ONU_SUPPORT
:

5427 
	`e›l_zã_gë_⁄u_suµ‹t
(
ty≥
,
p‹t
, 
pRïlyBuf
, &
gíLí
);

5428 
pRïlyBuf
 +
gíLí
;

5429 *
pRïlyLí
 +
gíLí
;

5432 
OAM_ZTE_EXT_LEAF_ONU_SN
:

5433 
	`e›l_zã_gë_⁄u_¢
(
ty≥
,
p‹t
, 
pRïlyBuf
, &
gíLí
);

5434 
pRïlyBuf
 +
gíLí
;

5436 *
pRïlyLí
 = 0;

5439 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
:

5440 
	`e›l_zã_gë_mgmt_ù
(
ty≥
,
p‹t
, 
pRïlyBuf
, &
gíLí
);

5441 
pRïlyBuf
 +
gíLí
;

5442 *
pRïlyLí
 +
gíLí
;

5444 
OAM_ZTE_EXT_LEAF_TYPE_C_GET
:

5445 
	`e›l_zã_gë_ty≥_c
(
ty≥
,
p‹t
, 
pRïlyBuf
, &
gíLí
);

5446 
pRïlyBuf
 +
gíLí
;

5447 *
pRïlyLí
 +
gíLí
;

5452 
p_ö
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

5455 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
:

5456 
p_v¨_desc
->
Àaf
)

5458 
OAM_ZTE_EXT_LEAF_GET_PORT_MODE
:

5459 
	`e›l_zã_gë_p‹t_mode
(
ty≥
,
p‹t
, 
pRïlyBuf
, &
gíLí
);

5460 
pRïlyBuf
 +
gíLí
;

5461 *
pRïlyLí
 +
gíLí
;

5466 
p_ö
 +(
ﬂm_v¨übÀ_des¸ùt‹_t
);

5473 
	}
}

5476 
	$e›l_zã_£t_ªq
(
u8_t
 *
p_ö
, u8_à
ty≥
, u8_à
p‹t
,u8_t* 
pRïlyBuf
, 
u16_t
* 
pRïlyLí
)

5478 
ﬂm_v¨übÀ_des¸ùt‹_t
 *
p_v¨_desc
;

5479 
ﬂm_zã_⁄u_¢_t
 *
p_⁄u_¢
;

5480 
u16_t
 
gíLí
 = 0;

5484 *
p_ö
)

5486 
OAM_ZTE_EXT_BRANCH_ATTR
:

5487 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

5488 
p_v¨_desc
->
Àaf
)

5490 
OAM_ZTE_EXT_LEAF_CONFIG_PARAM
:

5491 
	`e›l_zã_£t_c⁄fig_∑øm
(
p_ö
,
ty≥
,
p‹t
,
pRïlyBuf
 , &
gíLí
);

5492 
p_ö
 +(
ﬂm_zã_⁄u_c⁄fig_∑øm_t
) ;

5493 
pRïlyBuf
 +
gíLí
;

5494 *
pRïlyLí
 +
gíLí
;

5496 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
:

5497 
	`e›l_zã_£t_mgmt_ù
(
p_ö
,
ty≥
,
p‹t
,
pRïlyBuf
 , &
gíLí
);

5498 
p_ö
 +(
ﬂm_zã_mgmt_ù_cfg_t
) ;

5499 
pRïlyBuf
 +
gíLí
;

5500 *
pRïlyLí
 +
gíLí
;

5502 
OAM_ZTE_EXT_LEAF_TYPE_C_SET
:

5503 
	`e›l_zã_£t_ty≥_c
(
p_ö
,
ty≥
,
p‹t
,
pRïlyBuf
 , &
gíLí
);

5504 
p_ö
 +(
ﬂm_zã_ty≥_c_t
) ;

5505 
pRïlyBuf
 +
gíLí
;

5506 *
pRïlyLí
 +
gíLí
;

5511 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"get unknownÜeaf %d",

5512 
p_v¨_desc
->
bønch
,

5513 
p_v¨_desc
->
Àaf
);

5518 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
:

5519 
p_v¨_desc
 = (
ﬂm_v¨übÀ_des¸ùt‹_t
 *)
p_ö
;

5520 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set branch OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR 0x10\n");

5521 
p_v¨_desc
->
Àaf
)

5524 
OAM_ZTE_EXT_LEAF_SET_PORT_MODE
:

5525 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_SET_PORT_MODE\n");

5526 
	`e›l_zã_£t_p‹t_mode
(
p_ö
,
ty≥
,
p‹t
,
pRïlyBuf
 , &
gíLí
);

5527 
p_ö
 +(
ﬂm_zã_p‹t_mode_t
) ;

5528 
pRïlyBuf
 +
gíLí
;

5529 *
pRïlyLí
 +
gíLí
;

5532 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set unknownÜeaf %d",

5533 
p_v¨_desc
->
bønch
,

5534 
p_v¨_desc
->
Àaf
);

5544 
	}
}

5546 
	$e›l_zã_pdu_¥o˚ss
(

5547 
ﬂm_ﬂmPdu_t
 *
pOamPdu
,

5548 *
pFøme
,

5549 
Àngth
,

5550 *
pRïlyBuf
,

5551 
bufLí
,

5552 *
pRïlyLí
)

5554 
zã_hódî_t
 *
p_zã_hdr
;

5555 
zã_hódî_t
 *
p_out_zã_hdr
;

5556 
u8_t
 *
p_byã
;

5557 
u8_t
 
ªt
 = 
EPON_OAM_ERR_OK
;

5560 if((
Àngth
 < 
ZTE_ORGSPEC_HDR_LEN
Ë|| (
bufLí
 < ZTE_ORGSPEC_HDR_LEN))

5563  
EPON_OAM_ERR_PARAM
;

5566 if((
NULL
==
pOamPdu
Ë|| (NULL==
pFøme
Ë|| (NULL==
pRïlyBuf
Ë|| (NULL==
pRïlyLí
))

5568  
EPON_OAM_ERR_PARAM
;

5571 
p_byã
 = 
pFøme
;

5572 *
pRïlyLí
 = 0;

5574 
p_zã_hdr
 = (
zã_hódî_t
*)
pFøme
;

5575 
p_byã
 +(
zã_hódî_t
);

5577 
p_out_zã_hdr
 = (
zã_hódî_t
*)
pRïlyBuf
;

5578 
	`mem˝y
(
p_out_zã_hdr
->
oui
, 
p_zã_hdr
->oui, 3);

5579 
p_out_zã_hdr
->
p‹t
 = 
p_zã_hdr
->port;

5580 
p_out_zã_hdr
->
ty≥
 = 
p_zã_hdr
->type;

5582 *
pRïlyLí
 +(
zã_hódî_t
);

5583 
pRïlyBuf
 +(
zã_hódî_t
);

5585 
p_zã_hdr
->
ext_›code
)

5587 
OAM_ZTE_EXT_OPCODE_GET_REQUEST
:

5588 
p_out_zã_hdr
->
ext_›code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

5589 
	`e›l_zã_gë_ªq
(
p_byã
, 
p_zã_hdr
->
ty≥
,Ö_zã_hdr->
p‹t
, 
pRïlyBuf
, 
pRïlyLí
);

5591 
OAM_ZTE_EXT_OPCODE_SET_REQUEST
:

5592 
p_out_zã_hdr
->
ext_›code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

5593 
	`e›l_zã_£t_ªq
(
p_byã
, 
p_zã_hdr
->
ty≥
,Ö_zã_hdr->
p‹t
, 
pRïlyBuf
, 
pRïlyLí
);

5596 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"Unknow Ext. Opcodê(%d)", 
p_zã_hdr
->
ext_›code
);

5600  
EPON_OAM_ERR_OK
;

5601 
	}
}

5603 
	$zã_ﬂm_öô
()

5605 
i
, 
ªt
;

5606 
oui
[] = 
ZTE_OAM_OUI
;

5607 
ﬂm_‹gS≥cCb_t
 
‹gS≥cCb
;

5610 
‹gS≥cCb
.
¥o˚ss‹
 = 
e›l_zã_pdu_¥o˚ss
;

5611 
ªt
 = 
	`ï⁄_ﬂm_‹gS≥cCb_ªg
(

5612 
EPON_OAM_CBTYPE_ORGSPEC
,

5613 
oui
,

5614 (*Ë&
‹gS≥cCb
);

5615 if(
EPON_OAM_ERR_OK
 !
ªt
)

5617 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

5619  
EPON_OAM_ERR_UNKNOWN
;

5625 
chûd_¥o
;

5626 i‡((
mac_fd
 = 
	`›í
(
MAC_FILE
 , 
O_RDWR
 | 
O_CREAT
 | 
O_TRUNC
 )) < 0)

5628 
	`¥ötf
("File openÉrror\n");

5631 if((
chûd_¥o
 = 
	`f‹k
()) < 0)

5633 
	`¥ötf
("Process createÉrror\n");

5635 if(0 =
chûd_¥o
)

5638 
ôimîvÆ
 
timevÆ
;

5639 
siga˘i⁄
 
°SigA˘i⁄
;

5640 
	`vosMemSë
 (&
°SigA˘i⁄
, 0, (stSigAction));

5641 
°SigA˘i⁄
.
ß_h™dÀr
 = 
wrôe_mac_uˇ°_dump
;

5642 
	`siga˘i⁄
 (
SIGALRM
, &
°SigA˘i⁄
, 0);

5643 
	`vosMemSë
 (&
timevÆ
, 0, (timeval));

5644 
timevÆ
.
ô_vÆue
.
tv_£c
 = 10;

5645 
timevÆ
.
ô_vÆue
.
tv_u£c
 = 0;

5646 
timevÆ
.
ô_öãrvÆ
.
tv_£c
 = 30;

5647 
timevÆ
.
ô_öãrvÆ
.
tv_u£c
 = 0;

5648 
	`£tôimî
 (
ITIMER_REAL
, &
timevÆ
, 0);

5651 
	`¶ìp
(1);

5655  
EPON_OAM_ERR_OK
;

5656 
	}
}

5660 
	$e›l_zã_˘c_gë_ªq
(
u16_t
 
Àaf
, 
u8_t
** 
µ_byã
, u8_t* 
pRïlybuf
, u16_t* 
pGíÀn
)

5662 
u8_t
* 
p_byã
 = *
µ_byã
;

5663 
ﬂm_r•_ödiˇti⁄_t
 *
p_r•
;

5664 
Àaf
)

5666 
OAM_ZTE_EXT_LEAF_ALARM_CFG
:

5667 
	`e›l_zã_gë_Æ¨m_cfg
(
pRïlybuf
, 
pGíÀn
);

5670 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
:

5671 
	`e›l_zã_gë_upgøde_∑ø
(
pRïlybuf
, 
pGíÀn
);

5674 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
:

5675 
	`e›l_zã_gë_mac_addr_limô
(
pRïlybuf
, 
pGíÀn
);

5678 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
:

5679 
	`e›l_zã_gë_mac_addr_agög
(
pRïlybuf
, 
pGíÀn
);

5682 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
:

5683 
	`e›l_zã_gë_p‹t_mac_fûãr
(
pRïlybuf
, 
pGíÀn
);

5686 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
:

5687 
	`e›l_zã_gë_p‹t_mac_bödög
(
pRïlybuf
, 
pGíÀn
);

5690 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
:

5691 
	`e›l_zã_gë_°©ic_mac_cfg
(
pRïlybuf
, 
pGíÀn
);

5694 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
:

5695 
	`e›l_zã_gë_uni_isﬁ©i⁄
(
pRïlybuf
, 
pGíÀn
);

5698 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
:

5699 
	`e›l_zã_gë_⁄u_ëhî_°©s
(
pRïlybuf
, 
pGíÀn
);

5702 
OAM_ZTE_EXT_LEAF_UNI_MAC_QUERY
:

5703 
	`e›l_zã_gë_uni_mac_quîy
(
p_byã
, 
pRïlybuf
, 
pGíÀn
);

5704 *
µ_byã
 = 
p_byã
 + 5;

5706 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
:

5707 
	`e›l_zã_gë_pmac_ds_sh≠ög
(
pRïlybuf
, 
pGíÀn
);

5710 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
:

5711 
	`e›l_zã_gë_pmac_buff_cfg
(
p_byã
, 
pRïlybuf
, 
pGíÀn
);

5712 *
µ_byã
 = 
p_byã
 + 2;

5715 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
:

5716 
	`e›l_zã_gë_pmac_buff_quîy
(
pRïlybuf
, 
pGíÀn
);

5719 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
:

5720 
	`e›l_zã_gë_uni_°©s_cfg
(
pRïlybuf
, 
pGíÀn
);

5723 
OAM_ZTE_EXT_LEAF_UNI_STATS_QUERY
:

5724 
	`e›l_zã_gë_uni_°©s_quîy
(
pRïlybuf
, 
pGíÀn
);

5726 
OAM_ZTE_EXT_LEAF_TX_LASER_ALWAYS_ON
:

5729 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
:

5732 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
:

5733 
	`e›l_zã_gë_p⁄_°©ics_1
(
pRïlybuf
, 
pGíÀn
);

5735 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
:

5736 
	`e›l_zã_gë_p⁄_°©ics_2
(
pRïlybuf
, 
pGíÀn
);

5739 
OAM_ZTE_EXT_LEAF_GBL_PARA
:

5740 
	`e›l_zã_gë_gbl_∑ø
(
pRïlybuf
, 
pGíÀn
);

5744 
p_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

5745 
pRïlybuf
 +(
ﬂm_r•_ödiˇti⁄_t
);

5747 
p_r•
->
bønch
 = (
u8_t
)*
p_byã
;

5748 
p_r•
->
Àaf
 =Üeaf;

5750 
p_r•
->
v¨_ödiˇti⁄
 = 
OAM_GET_NO_RESOURCE
;

5751 *
pGíÀn
 += 4;

5752 *
µ_byã
 = 
p_byã
 + (
ﬂm_r•_ödiˇti⁄_t
);

5755 
	}
}

5758 
	$e›l_zã_˘c_£t_ªq
(
˘c_v¨In°™t_t
 *
pV¨In°™t
,
˘c_v¨Des¸ùt‹_t
 
°V¨Desc
, 
u8_t
** 
µ_byã
, u8_t* 
pRïlybuf
, 
u16_t
* 
pGíÀn
)

5760 
ﬂm_zã_Æ¨m_cfg_t
 *
p_zã_Æ¨m_cfg
;

5761 
ﬂm_zã_upgøde_∑ø_t
 *
p_zã_upgøde_∑ø
;

5762 
ﬂm_zã_mac_limô_t
 *
p_zã_mac_limô
;

5763 
ﬂm_zã_mac_agög_t
 *
p_zã_mac_agög
;

5764 
ﬂm_zã_p‹t_mac_fûãr_t
 *
p_zã_p‹t_mac_fûãr
;

5765 
ﬂm_zã_p‹t_mac_bödög_t
 *
p_zã_p‹t_mac_böd
;

5766 
ﬂm_zã_°©ic_mac_cfg_t
 *
p_zã_°©ic_mac_cfg
;

5767 
ﬂm_zã_uni_isﬁ©i⁄_t
 *
p_zã_uni_isﬁ©i⁄
;

5768 
ﬂm_zã_p‹t_mode_t
 *
p_zã_p‹t_mode
;

5769 
ﬂm_zã_pmac_ds_sh≠ög_t
 *
p_zã_pmac_ds_sh≠ög
;

5770 
ﬂm_zã_pmac_buff_cfg_t
 *
p_zã_pmac_buff_cfg
;

5771 
ﬂm_zã_uni_°©s_cfg_t
 *
p_zã_uni_°©s_cfg
;

5772 
ﬂm_zã_uni_°©s_ª£t_t
 *
p_zã_uni_°©s_ª£t
;

5773 
ﬂm_zã_hg_mac_öfo_t
 *
p_zã_hg_mac_öfo
;

5774 
ﬂm_zã_hg_mgmt_vœn_t
 *
p_zã_hg_mgmt_vœn
;

5775 
ﬂm_zã_hg_ac˚ss_öfo_t
 *
p_zã_hg_ac˚ss_öfo
;

5776 
ﬂm_zã_gbl_∑ø_t
 *
p_zã_gbl_∑ø
;

5777 
ﬂm_zã_tx_œ£r_c⁄åﬁ_t
 *
p_zã_£t_tx_c⁄åﬁ
;

5778 
ﬂm_zã_mgmt_dh˝_t
 *
p_zã_£t_dh˝
;

5779 
u8_t
* 
p_byã
 = *
µ_byã
;

5780 
ﬂm_r•_ödiˇti⁄_t
 *
p_r•
;

5781 *
pGíÀn
 = 0;

5782 
u16_t
 
gíÀn
 = 0;

5783 
u16_t
 
Àaf
 = 
°V¨Desc
.
v¨Lóf
;

5785 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"zãÉxà˘¯£àªqÜó‡%x\n", 
Àaf
);

5786 
Àaf
)

5788 #i‚de‡
CONFIG_PRODUCT_5500


5790 
OAM_ZTE_EXT_LEAF_ALARM_CFG
:

5791 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_ALARM_CFG\n");

5793 
p_zã_Æ¨m_cfg
 = (
ﬂm_zã_Æ¨m_cfg_t
 *)
p_byã
;

5795 
	`e›l_zã_£t_Æ¨m_cfg
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5797 *
µ_byã
 = 
p_byã
 + 
p_zã_Æ¨m_cfg
->
width
 + 4;

5801 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
:

5802 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UPGRADE_PARA\n");

5804 
p_zã_upgøde_∑ø
 = (
ﬂm_zã_upgøde_∑ø_t
 *)
p_byã
;

5806 
	`e›l_zã_£t_upgøde_∑ø
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5808 *
µ_byã
 = 
p_byã
 + 
p_zã_upgøde_∑ø
->
width
 + 4;

5812 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
:

5813 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT\n");

5815 
p_zã_mac_limô
 = (
ﬂm_zã_mac_limô_t
 *)
p_byã
;

5817 
	`e›l_zã_£t_mac_addr_limô
(
pV¨In°™t
, 
p_byã
, 
pRïlybuf
, &
gíÀn
);

5819 *
µ_byã
 = 
p_byã
 + 
p_zã_mac_limô
->
width
 + 4;

5823 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
:

5824 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING2
:

5826 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING\n");

5828 
p_zã_mac_agög
 = (
ﬂm_zã_mac_agög_t
 *)
p_byã
;

5830 
	`e›l_zã_£t_mac_addr_agög
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5832 *
µ_byã
 = 
p_byã
 + 
p_zã_mac_agög
->
width
 + 4;

5836 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
:

5837 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER\n");

5839 
p_zã_p‹t_mac_fûãr
 = (
ﬂm_zã_p‹t_mac_fûãr_t
 *)
p_byã
;

5841 
	`e›l_zã_£t_p‹t_mac_fûãr
(
pV¨In°™t
, 
p_byã
, 
pRïlybuf
, &
gíÀn
);

5843 *
µ_byã
 = 
p_byã
 + 
p_zã_p‹t_mac_fûãr
->
width
 + 4;

5847 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
:

5848 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PORT_MAC_BIND\n");

5850 
p_zã_p‹t_mac_böd
 = (
ﬂm_zã_p‹t_mac_bödög_t
 *)
p_byã
;

5852 
	`e›l_zã_£t_p‹t_mac_bödög
(
pV¨In°™t
,
p_byã
 , 
pRïlybuf
, &
gíÀn
);

5854 *
µ_byã
 = 
p_byã
 + 
p_zã_p‹t_mac_böd
->
width
 + 4;

5858 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
:

5859 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG\n");

5861 
p_zã_°©ic_mac_cfg
 = (
ﬂm_zã_°©ic_mac_cfg_t
 *)
p_byã
;

5863 
	`e›l_zã_£t_°©ic_mac_cfg
(
pV¨In°™t
, 
p_byã
, 
pRïlybuf
, &
gíÀn
);

5865 *
µ_byã
 = 
p_byã
 + 
p_zã_°©ic_mac_cfg
->
width
 + 4;

5869 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
:

5870 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_ISOLATION\n");

5872 
p_zã_uni_isﬁ©i⁄
 = (
ﬂm_zã_uni_isﬁ©i⁄_t
 *)
p_byã
;

5874 
	`e›l_zã_£t_uni_isﬁ©i⁄
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5876 *
µ_byã
 = 
p_byã
 + 
p_zã_uni_isﬁ©i⁄
->
width
 + 4;

5881 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
:

5882 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING\n");

5884 
p_zã_pmac_ds_sh≠ög
 = (
ﬂm_zã_pmac_ds_sh≠ög_t
 *)
p_byã
;

5886 
	`e›l_zã_£t_pmac_ds_sh≠ög
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5888 *
µ_byã
 = 
p_byã
 + 
p_zã_pmac_ds_sh≠ög
->
width
 + 4;

5892 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
:

5893 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG\n");

5895 
p_zã_pmac_buff_cfg
 = (
ﬂm_zã_pmac_buff_cfg_t
 *)
p_byã
;

5897 
	`e›l_zã_£t_pmac_buff_cfg
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5899 *
µ_byã
 = 
p_byã
 + 
p_zã_pmac_buff_cfg
->
width
 + 4;

5903 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
:

5904 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_STATS_CFG\n");

5906 
p_zã_uni_°©s_cfg
 = (
ﬂm_zã_uni_°©s_cfg_t
 *)
p_byã
;

5908 
	`e›l_zã_£t_uni_°©s_cfg
(
pV¨In°™t
, 
p_byã
, 
pRïlybuf
, &
gíÀn
);

5910 *
µ_byã
 = 
p_byã
 + 
p_zã_uni_°©s_cfg
->
width
 + 4;

5914 
OAM_ZTE_EXT_LEAF_UNI_STATS_RESET
:

5915 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_STATS_RESET\n");

5917 
p_zã_uni_°©s_ª£t
 = (
ﬂm_zã_uni_°©s_ª£t_t
 *)
p_byã
;

5919 
	`e›l_zã_£t_uni_°©s_ª£t
(
pV¨In°™t
, 
p_byã
, 
pRïlybuf
, &
gíÀn
);

5921 *
µ_byã
 = 
p_byã
 + 
p_zã_uni_°©s_ª£t
->
width
 + 4;

5927 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
:

5928 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"get OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL\n");

5929 
p_zã_£t_tx_c⁄åﬁ
 = (
ﬂm_zã_tx_œ£r_c⁄åﬁ_t
 *)
p_byã
;

5930 
	`e›l_zã_£t_tx_œ£r_c⁄rﬁ
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5931 *
µ_byã
 = 
p_byã
 + 
p_zã_£t_tx_c⁄åﬁ
->
width
 + 4;

5934 
OAM_ZTE_EXT_LEAF_GBL_PARA
:

5935 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_GBL_PARA\n");

5937 
p_zã_gbl_∑ø
 = (
ﬂm_zã_gbl_∑ø_t
 *)
p_byã
;

5939 
	`e›l_zã_£t_gbl_∑ø
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5941 *
µ_byã
 = 
p_byã
 + 
p_zã_gbl_∑ø
->
width
 + 4;

5944 
OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP
:

5945 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP\n");

5947 
p_zã_£t_dh˝
 = (
ﬂm_zã_mgmt_dh˝_t
*)
p_byã
;

5949 
	`e›l_zã_£t_mgmt_dh˝
(
p_byã
, 
pRïlybuf
, &
gíÀn
);

5951 *
µ_byã
 = 
p_byã
 + 
p_zã_£t_dh˝
->
width
 + 4;

5956 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
:

5957 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_MAC_INFO\n");

5959 
p_zã_hg_mac_öfo
 = (
ﬂm_zã_hg_mac_öfo_t
 *)
p_byã
;

5961 
	`e›l_zã_£t_hg_mac_öfo
(
p_byã
);

5963 
p_byã
 +
p_zã_hg_mac_öfo
->
width
 + 4;

5967 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
:

5968 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN\n");

5970 
p_zã_hg_mgmt_vœn
 = (
ﬂm_zã_hg_mgmt_vœn_t
 *)
p_byã
;

5972 
	`e›l_zã_£t_hg_mgmt_vœn
(
p_byã
);

5974 
p_byã
 +
p_zã_hg_mgmt_vœn
->
width
 + 4;

5978 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
:

5979 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO\n");

5981 
p_zã_hg_ac˚ss_öfo
 = (
ﬂm_zã_hg_ac˚ss_öfo_t
 *)
p_byã
;

5983 
	`e›l_zã_£t_hg_ac˚ss_öfo
(
p_byã
);

5985 
p_byã
 +
p_zã_hg_ac˚ss_öfo
->
width
 + 4;

5991 
p_r•
 = (
ﬂm_r•_ödiˇti⁄_t
 *)
pRïlybuf
;

5992 
pRïlybuf
 +(
ﬂm_r•_ödiˇti⁄_t
);

5994 
p_r•
->
bønch
 = 
°V¨Desc
.
v¨Bønch
;

5995 
p_r•
->
Àaf
 =Üeaf;

5997 
p_r•
->
v¨_ödiˇti⁄
 = 
OAM_SET_NO_RESOURCE
;

5998 
gíÀn
 = 4;

5999 *
µ_byã
 = 
p_byã
 + (
ﬂm_r•_ödiˇti⁄_t
);

6001 *
pGíÀn
 = 
gíÀn
;

6002 
	}
}

	@/usr/include/arpa/inet.h

19 #i‚de‡
_ARPA_INET_H


20 
	#_ARPA_INET_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<√töë/ö.h
>

26 #i‚de‡
__sockÀn_t_deföed


27 
__sockÀn_t
 
	tsockÀn_t
;

28 
	#__sockÀn_t_deföed


	)

31 
__BEGIN_DECLS


35 
ö_addr_t
 
	$öë_addr
 (
__c⁄°
 *
__˝
Ë
__THROW
;

38 
ö_addr_t
 
	$öë_ aof
 (
ö_addr
 
__ö
Ë
__THROW
;

42 
ö_addr
 
	$öë_makóddr
 (
ö_addr_t
 
__√t
, in_addr_à
__ho°
)

43 
__THROW
;

46 
ö_addr_t
 
	$öë_√tof
 (
ö_addr
 
__ö
Ë
__THROW
;

50 
ö_addr_t
 
	$öë_√tw‹k
 (
__c⁄°
 *
__˝
Ë
__THROW
;

54 *
	$öë_¡ﬂ
 (
ö_addr
 
__ö
Ë
__THROW
;

59 
	$öë_±⁄
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

60 *
__ª°ri˘
 
__buf
Ë
__THROW
;

65 
__c⁄°
 *
	$öë_¡›
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

66 *
__ª°ri˘
 
__buf
, 
sockÀn_t
 
__Àn
)

67 
__THROW
;

71 #ifde‡
__USE_MISC


74 
	$öë_©⁄
 (
__c⁄°
 *
__˝
, 
ö_addr
 *
__öp
Ë
__THROW
;

78 *
	$öë_√è
 (
ö_addr_t
 
__√t
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

83 *
	$öë_√t_¡›
 (
__af
, 
__c⁄°
 *
__˝
, 
__bôs
,

84 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

89 
	$öë_√t_±⁄
 (
__af
, 
__c⁄°
 *
__˝
,

90 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

95 
	$öë_nßp_addr
 (
__c⁄°
 *
__˝
,

96 *
__buf
, 
__Àn
Ë
__THROW
;

100 *
	$öë_nßp_¡ﬂ
 (
__Àn
, 
__c⁄°
 *
__˝
,

101 *
__buf
Ë
__THROW
;

104 
__END_DECLS


	@/usr/include/assert.h

24 #ifdef 
_ASSERT_H


26 #unde‡
_ASSERT_H


27 #unde‡
as£π


28 #unde‡
__ASSERT_VOID_CAST


30 #ifdef 
__USE_GNU


31 #unde‡
as£π_≥º‹


36 
	#_ASSERT_H
 1

	)

37 
	~<„©uªs.h
>

39 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

40 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

42 
	#__ASSERT_VOID_CAST
 ()

	)

50 #ifdef 
NDEBUG


52 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

60 #ifdef 
__USE_GNU


61 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

66 #i‚de‡
_ASSERT_H_DECLS


67 
	#_ASSERT_H_DECLS


	)

68 
__BEGIN_DECLS


71 
	$__as£π_Áû
 (
__c⁄°
 *
__as£πi⁄
, __c⁄° *
__fûe
,

72 
__löe
, 
__c⁄°
 *
__fun˘i⁄
)

73 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

76 
	$__as£π_≥º‹_Áû
 (
__î∫um
, 
__c⁄°
 *
__fûe
,

77 
__löe
,

78 
__c⁄°
 *
__fun˘i⁄
)

79 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

84 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

85 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

88 
__END_DECLS


91 
	#as£π
(
ex¥
) \

92 ((
ex¥
) \

93 ? 
	`__ASSERT_VOID_CAST
 (0) \

94 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #ifdef 
__USE_GNU


97 
	#as£π_≥º‹
(
î∫um
) \

98 (!(
î∫um
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

108 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

109 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

111 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

112 
	#__ASSERT_FUNCTION
 
__func__


	)

114 
	#__ASSERT_FUNCTION
 ((
__c⁄°
 *Ë0)

	)

	@/usr/include/ctype.h

24 #i‚def 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<„©uªs.h
>

28 
	~<bôs/ty≥s.h
>

30 
	g__BEGIN_DECLS


32 #i‚de‡
_ISbô


41 
	~<ídün.h
>

42 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

45 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

50 
	m_ISuµî
 = 
_ISbô
 (0),

51 
	m_ISlowî
 = 
_ISbô
 (1),

52 
	m_ISÆpha
 = 
_ISbô
 (2),

53 
	m_ISdigô
 = 
_ISbô
 (3),

54 
	m_ISxdigô
 = 
_ISbô
 (4),

55 
	m_IS•a˚
 = 
_ISbô
 (5),

56 
	m_IS¥öt
 = 
_ISbô
 (6),

57 
	m_ISgøph
 = 
_ISbô
 (7),

58 
	m_ISbœnk
 = 
_ISbô
 (8),

59 
	m_IS˙ål
 = 
_ISbô
 (9),

60 
	m_ISpun˘
 = 
_ISbô
 (10),

61 
	m_ISÆnum
 = 
_ISbô
 (11)

81 
__c⁄°
 **
	$__˘y≥_b_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

83 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

85 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

86 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

89 #i‚de‡
__˝lu•lus


90 
	#__is˘y≥
(
c
, 
ty≥
) \

91 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

92 #ñi‡
deföed
 
__USE_EXTERN_INLINES


93 
	#__is˘y≥_f
(
ty≥
) \

94 
__exã∫_ölöe
 \

95 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

97  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

98 
	}

	)
}

101 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

102 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

104 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

106 
__BEGIN_NAMESPACE_STD


112 
__ex˘y≥
 (
iß um
);

113 
__ex˘y≥
 (
ißÕha
);

114 
__ex˘y≥
 (
is˙ål
);

115 
__ex˘y≥
 (
isdigô
);

116 
__ex˘y≥
 (
i¶owî
);

117 
__ex˘y≥
 (
isgøph
);

118 
__ex˘y≥
 (
i•röt
);

119 
__ex˘y≥
 (
i•un˘
);

120 
__ex˘y≥
 (
is•a˚
);

121 
__ex˘y≥
 (
isuµî
);

122 
__ex˘y≥
 (
isxdigô
);

126 
	$tﬁowî
 (
__c
Ë
__THROW
;

129 
	$touµî
 (
__c
Ë
__THROW
;

131 
__END_NAMESPACE_STD


135 #ifdef 
__USE_ISOC99


136 
__BEGIN_NAMESPACE_C99


138 
	`__ex˘y≥
 (
isbœnk
);

140 
__END_NAMESPACE_C99


143 #ifde‡
__USE_GNU


145 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

148 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


152 
	$ißscii
 (
__c
Ë
__THROW
;

156 
	$tﬂscii
 (
__c
Ë
__THROW
;

160 
	`__ex˘y≥
 (
_touµî
);

161 
	`__ex˘y≥
 (
_tﬁowî
);

165 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

166 (
__exãnsi⁄__
 \

167 ({ 
__ªs
; \

168 i‡( (
c
) > 1) \

170 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

172 
__c
 = (
c
); \

173 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

176 
__ªs
 = 
f
 
¨gs
; \

179 
__ªs
 = (
a
)[(Ë(
c
)]; \

180 
__ªs
; 
	}
}))

	)

182 #i‡!
deföed
 
__NO_CTYPE


183 #ifde‡
__is˘y≥_f


184 
	$__is˘y≥_f
 (
Ænum
)

185 
	$__is˘y≥_f
 (
Æpha
)

186 
	$__is˘y≥_f
 (
˙ål
)

187 
	$__is˘y≥_f
 (
digô
)

188 
	$__is˘y≥_f
 (
lowî
)

189 
	$__is˘y≥_f
 (
gøph
)

190 
	$__is˘y≥_f
 (
¥öt
)

191 
	$__is˘y≥_f
 (
pun˘
)

192 
	$__is˘y≥_f
 (
•a˚
)

193 
	$__is˘y≥_f
 (
uµî
)

194 
	$__is˘y≥_f
 (
xdigô
)

195 #ifde‡
__USE_ISOC99


196 
	$__is˘y≥_f
 (
bœnk
)

198 #ñi‡
deföed
 
__is˘y≥


199 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

200 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

201 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

202 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

203 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

204 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

205 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

206 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

207 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

208 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

209 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

210 #ifde‡
__USE_ISOC99


211 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

215 #ifde‡
__USE_EXTERN_INLINES


216 
__exã∫_ölöe
 

217 
	`__NTH
 (
	$tﬁowî
 (
__c
))

219  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

220 
	}
}

222 
__exã∫_ölöe
 

223 
__NTH
 (
	$touµî
 (
__c
))

225  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

226 
	}
}

229 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


230 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

231 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

234 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


235 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

236 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

238 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

239 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

245 #ifde‡
__USE_XOPEN2K8


259 
	~<xloˇÀ.h
>

263 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

264 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

266 
	#__ex˘y≥_l
(
«me
) \

267 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

273 
__ex˘y≥_l
 (
iß um_l
);

274 
__ex˘y≥_l
 (
ißÕha_l
);

275 
__ex˘y≥_l
 (
is˙ål_l
);

276 
__ex˘y≥_l
 (
isdigô_l
);

277 
__ex˘y≥_l
 (
i¶owî_l
);

278 
__ex˘y≥_l
 (
isgøph_l
);

279 
__ex˘y≥_l
 (
i•röt_l
);

280 
__ex˘y≥_l
 (
i•un˘_l
);

281 
__ex˘y≥_l
 (
is•a˚_l
);

282 
__ex˘y≥_l
 (
isuµî_l
);

283 
__ex˘y≥_l
 (
isxdigô_l
);

285 
__ex˘y≥_l
 (
isbœnk_l
);

289 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

290 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

293 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

294 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

296 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


297 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

298 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

299 
	#__touµî_l
(
c
, 
loˇÀ
) \

300 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

301 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

302 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

306 #i‚de‡
__NO_CTYPE


307 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

308 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

309 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

310 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

311 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

312 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

313 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

314 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

315 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

316 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

317 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

319 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

321 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


322 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

323 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

326 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

327 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

328 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

329 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

330 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

331 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

332 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

333 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

334 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

335 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

336 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

338 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

340 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


341 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

342 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

349 
__END_DECLS


	@/usr/include/dirent.h

24 #i‚def 
_DIRENT_H


25 
	#_DIRENT_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

33 #ifde‡
__USE_XOPEN


34 #i‚de‡
__öo_t_deföed


35 #i‚de‡
__USE_FILE_OFFSET64


36 
__öo_t
 
	töo_t
;

38 
__öo64_t
 
	töo_t
;

40 
	#__öo_t_deföed


	)

42 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


43 
__öo64_t
 
	töo64_t
;

44 
	#__öo64_t_deföed


	)

63 
	~<bôs/dúít.h
>

65 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
Ë&& !deföed 
d_fûío


66 
	#d_öo
 
d_fûío


	)

83 #ifde‡
_DIRENT_HAVE_D_NAMLEN


84 
	#_D_EXACT_NAMLEN
(
d
Ë((d)->
d_«mÀn
)

	)

85 
	#_D_ALLOC_NAMLEN
(
d
Ë(
	`_D_EXACT_NAMLEN
 (dË+ 1)

	)

87 
	#_D_EXACT_NAMLEN
(
d
Ë(
	`°æí
 ((d)->
d_«me
))

	)

88 #ifde‡
_DIRENT_HAVE_D_RECLEN


89 
	#_D_ALLOC_NAMLEN
(
d
Ë(((*Ë(dË+ (d)->
d_ª˛í
Ë- &(d)->
d_«me
[0])

	)

91 
	#_D_ALLOC_NAMLEN
(
d
Ë( (d)->
d_«me
 > 1 ?  (d)->d_name : \

92 
	`_D_EXACT_NAMLEN
 (
d
Ë+ 1)

	)

97 #ifde‡
__USE_BSD


101 
	mDT_UNKNOWN
 = 0,

102 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

103 
	mDT_FIFO
 = 1,

104 
	#DT_FIFO
 
DT_FIFO


	)

105 
	mDT_CHR
 = 2,

106 
	#DT_CHR
 
DT_CHR


	)

107 
	mDT_DIR
 = 4,

108 
	#DT_DIR
 
DT_DIR


	)

109 
	mDT_BLK
 = 6,

110 
	#DT_BLK
 
DT_BLK


	)

111 
	mDT_REG
 = 8,

112 
	#DT_REG
 
DT_REG


	)

113 
	mDT_LNK
 = 10,

114 
	#DT_LNK
 
DT_LNK


	)

115 
	mDT_SOCK
 = 12,

116 
	#DT_SOCK
 
DT_SOCK


	)

117 
	mDT_WHT
 = 14

118 
	#DT_WHT
 
DT_WHT


	)

122 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

123 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

129 
__dú°ªam
 
	tDIR
;

136 
DIR
 *
	$›ídú
 (
__c⁄°
 *
__«me
Ë
	`__n⁄nuŒ
 ((1));

138 #ifde‡
__USE_XOPEN2K8


143 
DIR
 *
	`fd›ídú
 (
__fd
);

151 
	$˛o£dú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

163 #i‚de‡
__USE_FILE_OFFSET64


164 
dúít
 *
	$ªaddú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

166 #ifde‡
__REDIRECT


167 
dúít
 *
	`__REDIRECT
 (
ªaddú
, (
DIR
 *
__dúp
), 
ªaddú64
)

168 
	`__n⁄nuŒ
 ((1));

170 
	#ªaddú
 
ªaddú64


	)

174 #ifde‡
__USE_LARGEFILE64


175 
dúít64
 *
	$ªaddú64
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

178 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


184 #i‚de‡
__USE_FILE_OFFSET64


185 
	$ªaddú_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

186 
dúít
 *
__ª°ri˘
 
__íåy
,

187 
dúít
 **
__ª°ri˘
 
__ªsu…
)

188 
	`__n⁄nuŒ
 ((1, 2, 3));

190 #ifde‡
__REDIRECT


191 
	`__REDIRECT
 (
ªaddú_r
,

192 (
DIR
 *
__ª°ri˘
 
__dúp
,

193 
dúít
 *
__ª°ri˘
 
__íåy
,

194 
dúít
 **
__ª°ri˘
 
__ªsu…
),

195 
ªaddú64_r
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

197 
	#ªaddú_r
 
ªaddú64_r


	)

201 #ifde‡
__USE_LARGEFILE64


202 
	$ªaddú64_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

203 
dúít64
 *
__ª°ri˘
 
__íåy
,

204 
dúít64
 **
__ª°ri˘
 
__ªsu…
)

205 
	`__n⁄nuŒ
 ((1, 2, 3));

210 
	$ªwöddú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

212 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


213 
	~<bôs/ty≥s.h
>

216 
	$£ekdú
 (
DIR
 *
__dúp
, 
__pos
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

219 
	$ãŒdú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

222 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


225 
	$dúfd
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

227 #i‡
deföed
 
__OPTIMIZE__
 && deföed 
_DIR_dúfd


228 
	#dúfd
(
dúp
Ë
	`_DIR_dúfd
 (dúp)

	)

231 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


232 #i‚de‡
MAXNAMLEN


234 
	~<bôs/posix1_lim.h
>

237 #ifde‡
NAME_MAX


238 
	#MAXNAMLEN
 
NAME_MAX


	)

240 
	#MAXNAMLEN
 255

	)

245 
	#__√ed_size_t


	)

246 
	~<°ddef.h
>

255 #i‚de‡
__USE_FILE_OFFSET64


256 
	`sˇndú
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

257 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

258 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

259 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

260 
__c⁄°
 
dúít
 **))

261 
	`__n⁄nuŒ
 ((1, 2));

263 #ifde‡
__REDIRECT


264 
	`__REDIRECT
 (
sˇndú
,

265 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

266 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

267 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

268 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

269 
__c⁄°
 
dúít
 **)),

270 
sˇndú64
Ë
	`__n⁄nuŒ
 ((1, 2));

272 
	#sˇndú
 
sˇndú64


	)

276 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


279 
	`sˇndú64
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

280 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

281 (*
__£À˘‹
Ë(
__c⁄°
 
dúít64
 *),

282 (*
__cmp
Ë(
__c⁄°
 
dúít64
 **,

283 
__c⁄°
 
dúít64
 **))

284 
	`__n⁄nuŒ
 ((1, 2));

287 #ifde‡
__USE_GNU


293 #i‚de‡
__USE_FILE_OFFSET64


294 
	`sˇndú©
 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

295 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

296 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

297 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

298 
__c⁄°
 
dúít
 **))

299 
	`__n⁄nuŒ
 ((2, 3));

301 #ifde‡
__REDIRECT


302 
	`__REDIRECT
 (
sˇndú©
,

303 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

304 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

305 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

306 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

307 
__c⁄°
 
dúít
 **)),

308 
sˇndú©64
Ë
	`__n⁄nuŒ
 ((2, 3));

310 
	#sˇndú©
 
sˇndú©64


	)

316 
	`sˇndú©64
 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

317 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

318 (*
__£À˘‹
Ë(
__c⁄°
 
dúít64
 *),

319 (*
__cmp
Ë(
__c⁄°
 
dúít64
 **,

320 
__c⁄°
 
dúít64
 **))

321 
	`__n⁄nuŒ
 ((2, 3));

325 #i‚de‡
__USE_FILE_OFFSET64


326 
	$Æphas‹t
 (
__c⁄°
 
dúít
 **
__e1
,

327 
__c⁄°
 
dúít
 **
__e2
)

328 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

330 #ifde‡
__REDIRECT


331 
	`__REDIRECT_NTH
 (
Æphas‹t
,

332 (
__c⁄°
 
dúít
 **
__e1
,

333 
__c⁄°
 
dúít
 **
__e2
),

334 
Æphas‹t64
Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

336 
	#Æphas‹t
 
Æphas‹t64


	)

340 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


341 
	$Æphas‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

342 
__c⁄°
 
dúít64
 **
__e2
)

343 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

348 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


353 #i‚de‡
__USE_FILE_OFFSET64


354 
__ssize_t
 
	$gëdúíåõs
 (
__fd
, *
__ª°ri˘
 
__buf
,

355 
size_t
 
__nbyãs
,

356 
__off_t
 *
__ª°ri˘
 
__ba£p
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

359 #ifde‡
__REDIRECT


360 
__ssize_t
 
	`__REDIRECT_NTH
 (
gëdúíåõs
,

361 (
__fd
, *
__ª°ri˘
 
__buf
,

362 
size_t
 
__nbyãs
,

363 
__off64_t
 *
__ª°ri˘
 
__ba£p
),

364 
gëdúíåõs64
Ë
	`__n⁄nuŒ
 ((2, 4));

366 
	#gëdúíåõs
 
gëdúíåõs64


	)

370 #ifde‡
__USE_LARGEFILE64


371 
__ssize_t
 
	$gëdúíåõs64
 (
__fd
, *
__ª°ri˘
 
__buf
,

372 
size_t
 
__nbyãs
,

373 
__off64_t
 *
__ª°ri˘
 
__ba£p
)

374 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

378 #ifde‡
__USE_GNU


380 #i‚de‡
__USE_FILE_OFFSET64


381 
	$vîsi⁄s‹t
 (
__c⁄°
 
dúít
 **
__e1
,

382 
__c⁄°
 
dúít
 **
__e2
)

383 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

385 #ifde‡
__REDIRECT


386 
	`__REDIRECT_NTH
 (
vîsi⁄s‹t
,

387 (
__c⁄°
 
dúít
 **
__e1
,

388 
__c⁄°
 
dúít
 **
__e2
),

389 
vîsi⁄s‹t64
)

390 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

392 
	#vîsi⁄s‹t
 
vîsi⁄s‹t64


	)

396 #ifde‡
__USE_LARGEFILE64


397 
	$vîsi⁄s‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

398 
__c⁄°
 
dúít64
 **
__e2
)

399 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

403 
__END_DECLS


	@/usr/include/errno.h

23 #i‚def 
_ERRNO_H


27 #i‚def 
__√ed_Em©h


28 
	#_ERRNO_H
 1

	)

29 
	~<„©uªs.h
>

32 
	g__BEGIN_DECLS


36 
	~<bôs/î∫o.h
>

37 #unde‡
__√ed_Em©h


39 #ifdef 
_ERRNO_H


46 #i‚def 
î∫o


47 
î∫o
;

50 #ifde‡
__USE_GNU


55 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

59 
	g__END_DECLS


67 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


68 #i‚de‡
__îr‹_t_deföed


69 
	tîr‹_t
;

70 
	#__îr‹_t_deföed
 1

	)

72 #unde‡
__√ed_îr‹_t


	@/usr/include/fcntl.h

24 #i‚def 
_FCNTL_H


25 
	#_FCNTL_H
 1

	)

27 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 
	~<bôs/f˙é.h
>

37 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


38 
	~<bôs/ty≥s.h
>

39 
	#__√ed_time•ec


	)

40 
	~<time.h
>

41 
	~<bôs/°©.h
>

43 
	#S_IFMT
 
__S_IFMT


	)

44 
	#S_IFDIR
 
__S_IFDIR


	)

45 
	#S_IFCHR
 
__S_IFCHR


	)

46 
	#S_IFBLK
 
__S_IFBLK


	)

47 
	#S_IFREG
 
__S_IFREG


	)

48 #ifde‡
__S_IFIFO


49 
	#S_IFIFO
 
__S_IFIFO


	)

51 #ifde‡
__S_IFLNK


52 
	#S_IFLNK
 
__S_IFLNK


	)

54 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
Ë&& deföed 
__S_IFSOCK


55 
	#S_IFSOCK
 
__S_IFSOCK


	)

60 
	#S_ISUID
 
__S_ISUID


	)

61 
	#S_ISGID
 
__S_ISGID


	)

63 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


65 
	#S_ISVTX
 
__S_ISVTX


	)

68 
	#S_IRUSR
 
__S_IREAD


	)

69 
	#S_IWUSR
 
__S_IWRITE


	)

70 
	#S_IXUSR
 
__S_IEXEC


	)

72 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

74 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

75 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

76 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

78 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

80 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

81 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

82 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

84 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

87 #ifdef 
__USE_MISC


88 #i‚de‡
R_OK


91 
	#R_OK
 4

	)

92 
	#W_OK
 2

	)

93 
	#X_OK
 1

	)

94 
	#F_OK
 0

	)

99 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


100 
	#SEEK_SET
 0

	)

101 
	#SEEK_CUR
 1

	)

102 
	#SEEK_END
 2

	)

110 
f˙é
 (
__fd
, 
__cmd
, ...);

118 #i‚de‡
__USE_FILE_OFFSET64


119 
	$›í
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

121 #ifde‡
__REDIRECT


122 
	`__REDIRECT
 (
›í
, (
__c⁄°
 *
__fûe
, 
__oÊag
, ...), 
›í64
)

123 
	`__n⁄nuŒ
 ((1));

125 
	#›í
 
›í64


	)

128 #ifde‡
__USE_LARGEFILE64


129 
	$›í64
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

132 #ifde‡
__USE_ATFILE


142 #i‚de‡
__USE_FILE_OFFSET64


143 
	$›í©
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

144 
	`__n⁄nuŒ
 ((2));

146 #ifde‡
__REDIRECT


147 
	`__REDIRECT
 (
›í©
, (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
,

148 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

150 
	#›í©
 
›í©64


	)

153 #ifde‡
__USE_LARGEFILE64


154 
	$›í©64
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

155 
	`__n⁄nuŒ
 ((2));

164 #i‚de‡
__USE_FILE_OFFSET64


165 
	$¸ót
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

167 #ifde‡
__REDIRECT


168 
	`__REDIRECT
 (
¸ót
, (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
),

169 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

171 
	#¸ót
 
¸ót64


	)

174 #ifde‡
__USE_LARGEFILE64


175 
	$¸ót64
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

178 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

179 && !
deföed
 
__USE_POSIX
))

188 
	#F_ULOCK
 0

	)

189 
	#F_LOCK
 1

	)

190 
	#F_TLOCK
 2

	)

191 
	#F_TEST
 3

	)

193 #i‚de‡
__USE_FILE_OFFSET64


194 
	`lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
);

196 #ifde‡
__REDIRECT


197 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

199 
	#lockf
 
lockf64


	)

202 #ifde‡
__USE_LARGEFILE64


203 
	`lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
);

207 #ifde‡
__USE_XOPEN2K


210 #i‚de‡
__USE_FILE_OFFSET64


211 
	$posix_Ádvi£
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
,

212 
__advi£
Ë
__THROW
;

214 #ifde‡
__REDIRECT_NTH


215 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

216 
__off64_t
 
__Àn
, 
__advi£
),

217 
posix_Ádvi£64
);

219 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

222 #ifde‡
__USE_LARGEFILE64


223 
	$posix_Ádvi£64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
,

224 
__advi£
Ë
__THROW
;

232 #i‚de‡
__USE_FILE_OFFSET64


233 
	`posix_ÁŒoˇã
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
);

235 #ifde‡
__REDIRECT


236 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

237 
__off64_t
 
__Àn
),

238 
posix_ÁŒoˇã64
);

240 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

243 #ifde‡
__USE_LARGEFILE64


244 
	`posix_ÁŒoˇã64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
);

250 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe
 \

251 && 
deföed
 
__va_¨g_∑ck_Àn


252 
	~<bôs/f˙é2.h
>

255 
__END_DECLS


	@/usr/include/linux/filter.h

5 #i‚de‡
__LINUX_FILTER_H__


6 
	#__LINUX_FILTER_H__


	)

9 
	~<löux/ty≥s.h
>

15 
	#BPF_MAJOR_VERSION
 1

	)

16 
	#BPF_MINOR_VERSION
 1

	)

23 
	ssock_fûãr
 {

24 
__u16
 
	mcode
;

25 
__u8
 
	mjt
;

26 
__u8
 
	mjf
;

27 
__u32
 
	mk
;

30 
	ssock_Ârog
 {

31 
	mÀn
;

32 
sock_fûãr
 *
	mfûãr
;

39 
	#BPF_CLASS
(
code
Ë((codeË& 0x07)

	)

40 
	#BPF_LD
 0x00

	)

41 
	#BPF_LDX
 0x01

	)

42 
	#BPF_ST
 0x02

	)

43 
	#BPF_STX
 0x03

	)

44 
	#BPF_ALU
 0x04

	)

45 
	#BPF_JMP
 0x05

	)

46 
	#BPF_RET
 0x06

	)

47 
	#BPF_MISC
 0x07

	)

50 
	#BPF_SIZE
(
code
Ë((codeË& 0x18)

	)

51 
	#BPF_W
 0x00

	)

52 
	#BPF_H
 0x08

	)

53 
	#BPF_B
 0x10

	)

54 
	#BPF_MODE
(
code
Ë((codeË& 0xe0)

	)

55 
	#BPF_IMM
 0x00

	)

56 
	#BPF_ABS
 0x20

	)

57 
	#BPF_IND
 0x40

	)

58 
	#BPF_MEM
 0x60

	)

59 
	#BPF_LEN
 0x80

	)

60 
	#BPF_MSH
 0xa0

	)

63 
	#BPF_OP
(
code
Ë((codeË& 0xf0)

	)

64 
	#BPF_ADD
 0x00

	)

65 
	#BPF_SUB
 0x10

	)

66 
	#BPF_MUL
 0x20

	)

67 
	#BPF_DIV
 0x30

	)

68 
	#BPF_OR
 0x40

	)

69 
	#BPF_AND
 0x50

	)

70 
	#BPF_LSH
 0x60

	)

71 
	#BPF_RSH
 0x70

	)

72 
	#BPF_NEG
 0x80

	)

73 
	#BPF_JA
 0x00

	)

74 
	#BPF_JEQ
 0x10

	)

75 
	#BPF_JGT
 0x20

	)

76 
	#BPF_JGE
 0x30

	)

77 
	#BPF_JSET
 0x40

	)

78 
	#BPF_SRC
(
code
Ë((codeË& 0x08)

	)

79 
	#BPF_K
 0x00

	)

80 
	#BPF_X
 0x08

	)

83 
	#BPF_RVAL
(
code
Ë((codeË& 0x18)

	)

84 
	#BPF_A
 0x10

	)

87 
	#BPF_MISCOP
(
code
Ë((codeË& 0xf8)

	)

88 
	#BPF_TAX
 0x00

	)

89 
	#BPF_TXA
 0x80

	)

91 #i‚de‡
BPF_MAXINSNS


92 
	#BPF_MAXINSNS
 4096

	)

98 #i‚de‡
BPF_STMT


99 
	#BPF_STMT
(
code
, 
k
Ë{ ()(code), 0, 0, k }

	)

101 #i‚de‡
BPF_JUMP


102 
	#BPF_JUMP
(
code
, 
k
, 
jt
, 
jf
Ë{ ()(code), jt, jf, k }

	)

108 
	#BPF_MEMWORDS
 16

	)

115 
	#SKF_AD_OFF
 (-0x1000)

	)

116 
	#SKF_AD_PROTOCOL
 0

	)

117 
	#SKF_AD_PKTTYPE
 4

	)

118 
	#SKF_AD_IFINDEX
 8

	)

119 
	#SKF_AD_NLATTR
 12

	)

120 
	#SKF_AD_NLATTR_NEST
 16

	)

121 
	#SKF_AD_MARK
 20

	)

122 
	#SKF_AD_QUEUE
 24

	)

123 
	#SKF_AD_HATYPE
 28

	)

124 
	#SKF_AD_RXHASH
 32

	)

125 
	#SKF_AD_CPU
 36

	)

126 
	#SKF_AD_MAX
 40

	)

127 
	#SKF_NET_OFF
 (-0x100000)

	)

128 
	#SKF_LL_OFF
 (-0x200000)

	)

	@/usr/include/linux/if_ether.h

21 #i‚de‡
_LINUX_IF_ETHER_H


22 
	#_LINUX_IF_ETHER_H


	)

24 
	~<löux/ty≥s.h
>

31 
	#ETH_ALEN
 6

	)

32 
	#ETH_HLEN
 14

	)

33 
	#ETH_ZLEN
 60

	)

34 
	#ETH_DATA_LEN
 1500

	)

35 
	#ETH_FRAME_LEN
 1514

	)

36 
	#ETH_FCS_LEN
 4

	)

42 
	#ETH_P_LOOP
 0x0060

	)

43 
	#ETH_P_PUP
 0x0200

	)

44 
	#ETH_P_PUPAT
 0x0201

	)

45 
	#ETH_P_IP
 0x0800

	)

46 
	#ETH_P_X25
 0x0805

	)

47 
	#ETH_P_ARP
 0x0806

	)

48 
	#ETH_P_BPQ
 0x08FF

	)

49 
	#ETH_P_IEEEPUP
 0x0a00

	)

50 
	#ETH_P_IEEEPUPAT
 0x0a01

	)

51 
	#ETH_P_DEC
 0x6000

	)

52 
	#ETH_P_DNA_DL
 0x6001

	)

53 
	#ETH_P_DNA_RC
 0x6002

	)

54 
	#ETH_P_DNA_RT
 0x6003

	)

55 
	#ETH_P_LAT
 0x6004

	)

56 
	#ETH_P_DIAG
 0x6005

	)

57 
	#ETH_P_CUST
 0x6006

	)

58 
	#ETH_P_SCA
 0x6007

	)

59 
	#ETH_P_TEB
 0x6558

	)

60 
	#ETH_P_RARP
 0x8035

	)

61 
	#ETH_P_ATALK
 0x809B

	)

62 
	#ETH_P_AARP
 0x80F3

	)

63 
	#ETH_P_8021Q
 0x8100

	)

64 
	#ETH_P_IPX
 0x8137

	)

65 
	#ETH_P_IPV6
 0x86DD

	)

66 
	#ETH_P_PAUSE
 0x8808

	)

67 
	#ETH_P_SLOW
 0x8809

	)

68 
	#ETH_P_WCCP
 0x883E

	)

70 
	#ETH_P_PPP_DISC
 0x8863

	)

71 
	#ETH_P_PPP_SES
 0x8864

	)

72 
	#ETH_P_MPLS_UC
 0x8847

	)

73 
	#ETH_P_MPLS_MC
 0x8848

	)

74 
	#ETH_P_ATMMPOA
 0x884¯

	)

75 
	#ETH_P_LINK_CTL
 0x886¯

	)

76 
	#ETH_P_ATMFATE
 0x8884

	)

79 
	#ETH_P_PAE
 0x888E

	)

80 
	#ETH_P_AOE
 0x88A2

	)

81 
	#ETH_P_8021AD
 0x88A8

	)

82 
	#ETH_P_TIPC
 0x88CA

	)

83 
	#ETH_P_8021AH
 0x88E7

	)

84 
	#ETH_P_1588
 0x88F7

	)

85 
	#ETH_P_FCOE
 0x8906

	)

86 
	#ETH_P_TDLS
 0x890D

	)

87 
	#ETH_P_FIP
 0x8914

	)

88 
	#ETH_P_QINQ1
 0x9100

	)

89 
	#ETH_P_QINQ2
 0x9200

	)

90 
	#ETH_P_QINQ3
 0x9300

	)

91 
	#ETH_P_EDSA
 0xDADA

	)

92 
	#ETH_P_AF_IUCV
 0xFBFB

	)

98 
	#ETH_P_802_3
 0x0001

	)

99 
	#ETH_P_AX25
 0x0002

	)

100 
	#ETH_P_ALL
 0x0003

	)

101 
	#ETH_P_802_2
 0x0004

	)

102 
	#ETH_P_SNAP
 0x0005

	)

103 
	#ETH_P_DDCMP
 0x0006

	)

104 
	#ETH_P_WAN_PPP
 0x0007

	)

105 
	#ETH_P_PPP_MP
 0x0008

	)

106 
	#ETH_P_LOCALTALK
 0x0009

	)

107 
	#ETH_P_CAN
 0x000C

	)

108 
	#ETH_P_PPPTALK
 0x0010

	)

109 
	#ETH_P_TR_802_2
 0x0011

	)

110 
	#ETH_P_MOBITEX
 0x0015

	)

111 
	#ETH_P_CONTROL
 0x0016

	)

112 
	#ETH_P_IRDA
 0x0017

	)

113 
	#ETH_P_ECONET
 0x0018

	)

114 
	#ETH_P_HDLC
 0x0019

	)

115 
	#ETH_P_ARCNET
 0x001A

	)

116 
	#ETH_P_DSA
 0x001B

	)

117 
	#ETH_P_TRAILER
 0x001C

	)

118 
	#ETH_P_PHONET
 0x00F5

	)

119 
	#ETH_P_IEEE802154
 0x00F6

	)

120 
	#ETH_P_CAIF
 0x00F7

	)

126 
	sëhhdr
 {

127 
	mh_de°
[
ETH_ALEN
];

128 
	mh_sour˚
[
ETH_ALEN
];

129 
__be16
 
	mh_¥Ÿo
;

130 } 
__©åibuã__
((
∑cked
));

	@/usr/include/linux/if_packet.h

1 #i‚de‡
__LINUX_IF_PACKET_H


2 
	#__LINUX_IF_PACKET_H


	)

4 
	~<löux/ty≥s.h
>

6 
	ssockaddr_pkt
 {

7 
	m•kt_Ámûy
;

8 
	m•kt_devi˚
[14];

9 
__be16
 
	m•kt_¥Ÿocﬁ
;

12 
	ssockaddr_Œ
 {

13 
	m¶l_Ámûy
;

14 
__be16
 
	m¶l_¥Ÿocﬁ
;

15 
	m¶l_ifödex
;

16 
	m¶l_h©y≥
;

17 
	m¶l_pkây≥
;

18 
	m¶l_hÆí
;

19 
	m¶l_addr
[8];

24 
	#PACKET_HOST
 0

	)

25 
	#PACKET_BROADCAST
 1

	)

26 
	#PACKET_MULTICAST
 2

	)

27 
	#PACKET_OTHERHOST
 3

	)

28 
	#PACKET_OUTGOING
 4

	)

30 
	#PACKET_LOOPBACK
 5

	)

31 
	#PACKET_FASTROUTE
 6

	)

35 
	#PACKET_ADD_MEMBERSHIP
 1

	)

36 
	#PACKET_DROP_MEMBERSHIP
 2

	)

37 
	#PACKET_RECV_OUTPUT
 3

	)

39 
	#PACKET_RX_RING
 5

	)

40 
	#PACKET_STATISTICS
 6

	)

41 
	#PACKET_COPY_THRESH
 7

	)

42 
	#PACKET_AUXDATA
 8

	)

43 
	#PACKET_ORIGDEV
 9

	)

44 
	#PACKET_VERSION
 10

	)

45 
	#PACKET_HDRLEN
 11

	)

46 
	#PACKET_RESERVE
 12

	)

47 
	#PACKET_TX_RING
 13

	)

48 
	#PACKET_LOSS
 14

	)

49 
	#PACKET_VNET_HDR
 15

	)

50 
	#PACKET_TX_TIMESTAMP
 16

	)

51 
	#PACKET_TIMESTAMP
 17

	)

52 
	#PACKET_FANOUT
 18

	)

54 
	#PACKET_FANOUT_HASH
 0

	)

55 
	#PACKET_FANOUT_LB
 1

	)

56 
	#PACKET_FANOUT_CPU
 2

	)

57 
	#PACKET_FANOUT_FLAG_DEFRAG
 0x8000

	)

59 
	sçackë_°©s
 {

60 
	mç_∑ckës
;

61 
	mç_dr›s
;

64 
	sçackë_°©s_v3
 {

65 
	mç_∑ckës
;

66 
	mç_dr›s
;

67 
	mç_‰ìze_q_˙t
;

70 
	uçackë_°©s_u
 {

71 
çackë_°©s
 
	m°©s1
;

72 
çackë_°©s_v3
 
	m°©s3
;

75 
	sçackë_auxd©a
 {

76 
__u32
 
	mç_°©us
;

77 
__u32
 
	mç_Àn
;

78 
__u32
 
	mç_¢≠Àn
;

79 
__u16
 
	mç_mac
;

80 
__u16
 
	mç_√t
;

81 
__u16
 
	mç_vœn_tci
;

82 
__u16
 
	mç_∑ddög
;

86 
	#TP_STATUS_KERNEL
 0x0

	)

87 
	#TP_STATUS_USER
 0x1

	)

88 
	#TP_STATUS_COPY
 0x2

	)

89 
	#TP_STATUS_LOSING
 0x4

	)

90 
	#TP_STATUS_CSUMNOTREADY
 0x8

	)

91 
	#TP_STATUS_VLAN_VALID
 0x10

	)

92 
	#TP_STATUS_BLK_TMO
 0x20

	)

95 
	#TP_STATUS_AVAILABLE
 0x0

	)

96 
	#TP_STATUS_SEND_REQUEST
 0x1

	)

97 
	#TP_STATUS_SENDING
 0x2

	)

98 
	#TP_STATUS_WRONG_FORMAT
 0x4

	)

101 
	#TP_FT_REQ_FILL_RXHASH
 0x1

	)

103 
	sçackë_hdr
 {

104 
	mç_°©us
;

105 
	mç_Àn
;

106 
	mç_¢≠Àn
;

107 
	mç_mac
;

108 
	mç_√t
;

109 
	mç_£c
;

110 
	mç_u£c
;

113 
	#TPACKET_ALIGNMENT
 16

	)

114 
	#TPACKET_ALIGN
(
x
Ë(((x)+
TPACKET_ALIGNMENT
-1)&~(TPACKET_ALIGNMENT-1))

	)

115 
	#TPACKET_HDRLEN
 (
	`TPACKET_ALIGN
((
çackë_hdr
)Ë+ (
sockaddr_Œ
))

	)

117 
	sçackë2_hdr
 {

118 
__u32
 
	mç_°©us
;

119 
__u32
 
	mç_Àn
;

120 
__u32
 
	mç_¢≠Àn
;

121 
__u16
 
	mç_mac
;

122 
__u16
 
	mç_√t
;

123 
__u32
 
	mç_£c
;

124 
__u32
 
	mç_n£c
;

125 
__u16
 
	mç_vœn_tci
;

126 
__u16
 
	mç_∑ddög
;

129 
	sçackë_hdr_v¨ü¡1
 {

130 
__u32
 
	mç_rxhash
;

131 
__u32
 
	mç_vœn_tci
;

134 
	sçackë3_hdr
 {

135 
__u32
 
	mç_√xt_off£t
;

136 
__u32
 
	mç_£c
;

137 
__u32
 
	mç_n£c
;

138 
__u32
 
	mç_¢≠Àn
;

139 
__u32
 
	mç_Àn
;

140 
__u32
 
	mç_°©us
;

141 
__u16
 
	mç_mac
;

142 
__u16
 
	mç_√t
;

145 
çackë_hdr_v¨ü¡1
 
	mhv1
;

149 
	sçackë_bd_ts
 {

150 
	mts_£c
;

152 
	mts_u£c
;

153 
	mts_n£c
;

157 
	sçackë_hdr_v1
 {

158 
__u32
 
	mblock_°©us
;

159 
__u32
 
	mnum_pkts
;

160 
__u32
 
	moff£t_to_fú°_pkt
;

165 
__u32
 
	mblk_Àn
;

176 
__Æig√d_u64
 
	m£q_num
;

203 
çackë_bd_ts
 
	mts_fú°_pkt
, 
	mts_œ°_pkt
;

206 
	uçackë_bd_hódî_u
 {

207 
çackë_hdr_v1
 
	mbh1
;

210 
	sçackë_block_desc
 {

211 
__u32
 
	mvîsi⁄
;

212 
__u32
 
	moff£t_to_¥iv
;

213 
çackë_bd_hódî_u
 
	mhdr
;

216 
	#TPACKET2_HDRLEN
 (
	`TPACKET_ALIGN
((
çackë2_hdr
)Ë+ (
sockaddr_Œ
))

	)

217 
	#TPACKET3_HDRLEN
 (
	`TPACKET_ALIGN
((
çackë3_hdr
)Ë+ (
sockaddr_Œ
))

	)

219 
	eçackë_vîsi⁄s
 {

220 
	mTPACKET_V1
,

221 
	mTPACKET_V2
,

222 
	mTPACKET_V3


238 
	sçackë_ªq
 {

239 
	mç_block_size
;

240 
	mç_block_ƒ
;

241 
	mç_‰ame_size
;

242 
	mç_‰ame_ƒ
;

245 
	sçackë_ªq3
 {

246 
	mç_block_size
;

247 
	mç_block_ƒ
;

248 
	mç_‰ame_size
;

249 
	mç_‰ame_ƒ
;

250 
	mç_ªtúe_blk_tov
;

251 
	mç_sizeof_¥iv
;

252 
	mç_„©uª_ªq_w‹d
;

255 
	uçackë_ªq_u
 {

256 
çackë_ªq
 
	mªq
;

257 
çackë_ªq3
 
	mªq3
;

260 
	s∑ckë_mªq
 {

261 
	mmr_ifödex
;

262 
	mmr_ty≥
;

263 
	mmr_Æí
;

264 
	mmr_addªss
[8];

267 
	#PACKET_MR_MULTICAST
 0

	)

268 
	#PACKET_MR_PROMISC
 1

	)

269 
	#PACKET_MR_ALLMULTI
 2

	)

270 
	#PACKET_MR_UNICAST
 3

	)

	@/usr/include/linux/netlink.h

1 #i‚de‡
__LINUX_NETLINK_H


2 
	#__LINUX_NETLINK_H


	)

4 
	~<löux/sockë.h
>

5 
	~<löux/ty≥s.h
>

7 
	#NETLINK_ROUTE
 0

	)

8 
	#NETLINK_UNUSED
 1

	)

9 
	#NETLINK_USERSOCK
 2

	)

10 
	#NETLINK_FIREWALL
 3

	)

11 
	#NETLINK_INET_DIAG
 4

	)

12 
	#NETLINK_NFLOG
 5

	)

13 
	#NETLINK_XFRM
 6

	)

14 
	#NETLINK_SELINUX
 7

	)

15 
	#NETLINK_ISCSI
 8

	)

16 
	#NETLINK_AUDIT
 9

	)

17 
	#NETLINK_FIB_LOOKUP
 10

	)

18 
	#NETLINK_CONNECTOR
 11

	)

19 
	#NETLINK_NETFILTER
 12

	)

20 
	#NETLINK_IP6_FW
 13

	)

21 
	#NETLINK_DNRTMSG
 14

	)

22 
	#NETLINK_KOBJECT_UEVENT
 15

	)

23 
	#NETLINK_GENERIC
 16

	)

25 
	#NETLINK_SCSITRANSPORT
 18

	)

26 
	#NETLINK_ECRYPTFS
 19

	)

27 
	#NETLINK_RDMA
 20

	)

28 
	#NETLINK_CRYPTO
 21

	)

30 
	#MAX_LINKS
 32

	)

32 
	ssockaddr_∆
 {

33 
__kî√l_ß_Ámûy_t
 
	m∆_Ámûy
;

34 
	m∆_∑d
;

35 
__u32
 
	m∆_pid
;

36 
__u32
 
	m∆_groups
;

39 
	s∆msghdr
 {

40 
__u32
 
	m∆msg_Àn
;

41 
__u16
 
	m∆msg_ty≥
;

42 
__u16
 
	m∆msg_Êags
;

43 
__u32
 
	m∆msg_£q
;

44 
__u32
 
	m∆msg_pid
;

49 
	#NLM_F_REQUEST
 1

	)

50 
	#NLM_F_MULTI
 2

	)

51 
	#NLM_F_ACK
 4

	)

52 
	#NLM_F_ECHO
 8

	)

53 
	#NLM_F_DUMP_INTR
 16

	)

56 
	#NLM_F_ROOT
 0x100

	)

57 
	#NLM_F_MATCH
 0x200

	)

58 
	#NLM_F_ATOMIC
 0x400

	)

59 
	#NLM_F_DUMP
 (
NLM_F_ROOT
|
NLM_F_MATCH
)

	)

62 
	#NLM_F_REPLACE
 0x100

	)

63 
	#NLM_F_EXCL
 0x200

	)

64 
	#NLM_F_CREATE
 0x400

	)

65 
	#NLM_F_APPEND
 0x800

	)

76 
	#NLMSG_ALIGNTO
 4U

	)

77 
	#NLMSG_ALIGN
(
Àn
Ë–(÷í)+
NLMSG_ALIGNTO
-1Ë& ~(NLMSG_ALIGNTO-1Ë)

	)

78 
	#NLMSG_HDRLEN
 ((Ë
	`NLMSG_ALIGN
((
∆msghdr
)))

	)

79 
	#NLMSG_LENGTH
(
Àn
Ë(÷í)+
	`NLMSG_ALIGN
(
NLMSG_HDRLEN
))

	)

80 
	#NLMSG_SPACE
(
Àn
Ë
	`NLMSG_ALIGN
(
	`NLMSG_LENGTH
÷í))

	)

81 
	#NLMSG_DATA
(
∆h
Ë((*)(((*ÍlhË+ 
	`NLMSG_LENGTH
(0)))

	)

82 
	#NLMSG_NEXT
(
∆h
,
Àn
Ë(÷íË-
	`NLMSG_ALIGN
(“lh)->
∆msg_Àn
), \

83 (
∆msghdr
*)(((*)(
∆h
)Ë+ 
	`NLMSG_ALIGN
(“lh)->
∆msg_Àn
)))

	)

84 
	#NLMSG_OK
(
∆h
,
Àn
Ë(÷íË>()(
∆msghdr
) && \

85 (
∆h
)->
∆msg_Àn
 >(
∆msghdr
) && \

86 (
∆h
)->
∆msg_Àn
 <(
Àn
))

	)

87 
	#NLMSG_PAYLOAD
(
∆h
,
Àn
Ë(“lh)->
∆msg_Àn
 - 
	`NLMSG_SPACE
(÷í)))

	)

89 
	#NLMSG_NOOP
 0x1

	)

90 
	#NLMSG_ERROR
 0x2

	)

91 
	#NLMSG_DONE
 0x3

	)

92 
	#NLMSG_OVERRUN
 0x4

	)

94 
	#NLMSG_MIN_TYPE
 0x10

	)

96 
	s∆msgîr
 {

97 
	mîr‹
;

98 
∆msghdr
 
	mmsg
;

101 
	#NETLINK_ADD_MEMBERSHIP
 1

	)

102 
	#NETLINK_DROP_MEMBERSHIP
 2

	)

103 
	#NETLINK_PKTINFO
 3

	)

104 
	#NETLINK_BROADCAST_ERROR
 4

	)

105 
	#NETLINK_NO_ENOBUFS
 5

	)

107 
	s∆_pktöfo
 {

108 
__u32
 
	mgroup
;

111 
	#NET_MAJOR
 36

	)

114 
	mNETLINK_UNCONNECTED
 = 0,

115 
	mNETLINK_CONNECTED
,

127 
	s∆©å
 {

128 
__u16
 
	m∆a_Àn
;

129 
__u16
 
	m∆a_ty≥
;

142 
	#NLA_F_NESTED
 (1 << 15)

	)

143 
	#NLA_F_NET_BYTEORDER
 (1 << 14)

	)

144 
	#NLA_TYPE_MASK
 ~(
NLA_F_NESTED
 | 
NLA_F_NET_BYTEORDER
)

	)

146 
	#NLA_ALIGNTO
 4

	)

147 
	#NLA_ALIGN
(
Àn
Ë((÷íË+ 
NLA_ALIGNTO
 - 1Ë& ~(NLA_ALIGNTO - 1))

	)

148 
	#NLA_HDRLEN
 ((Ë
	`NLA_ALIGN
((
∆©å
)))

	)

	@/usr/include/linux/reboot.h

1 #i‚de‡
_LINUX_REBOOT_H


2 
	#_LINUX_REBOOT_H


	)

8 
	#LINUX_REBOOT_MAGIC1
 0x„e1dód

	)

9 
	#LINUX_REBOOT_MAGIC2
 672274793

	)

10 
	#LINUX_REBOOT_MAGIC2A
 85072278

	)

11 
	#LINUX_REBOOT_MAGIC2B
 369367448

	)

12 
	#LINUX_REBOOT_MAGIC2C
 537993216

	)

28 
	#LINUX_REBOOT_CMD_RESTART
 0x01234567

	)

29 
	#LINUX_REBOOT_CMD_HALT
 0xCDEF0123

	)

30 
	#LINUX_REBOOT_CMD_CAD_ON
 0x89ABCDEF

	)

31 
	#LINUX_REBOOT_CMD_CAD_OFF
 0x00000000

	)

32 
	#LINUX_REBOOT_CMD_POWER_OFF
 0x4321FEDC

	)

33 
	#LINUX_REBOOT_CMD_RESTART2
 0xA1B2C3D4

	)

34 
	#LINUX_REBOOT_CMD_SW_SUSPEND
 0xD000FCE2

	)

35 
	#LINUX_REBOOT_CMD_KEXEC
 0x45584543

	)

	@/usr/include/malloc.h

21 #i‚de‡
_MALLOC_H


22 
	#_MALLOC_H
 1

	)

24 
	~<„©uªs.h
>

25 
	~<°ddef.h
>

26 
	~<°dio.h
>

27 
	#__mÆloc_±r_t
 *

	)

30 
	#__mÆloc_size_t
 
size_t


	)

31 
	#__mÆloc_±rdiff_t
 
±rdiff_t


	)

33 #ifde‡
__GNUC__


35 
	#__MALLOC_P
(
¨gs
Ë¨g†
__THROW


	)

38 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

40 #ifde‡
_LIBC


41 
	#__MALLOC_HOOK_VOLATILE


	)

42 
	#__MALLOC_DEPRECATED


	)

44 
	#__MALLOC_HOOK_VOLATILE
 
__vﬁ©ûe


	)

45 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

50 
	#__MALLOC_P
(
¨gs
Ë
	)
args

51 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

52 
	#__MALLOC_HOOK_VOLATILE


	)

53 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

58 
__BEGIN_DECLS


61 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

64 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

65 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

72 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

73 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

76 
	$‰ì
 (*
__±r
Ë
__THROW
;

79 
	$c‰ì
 (*
__±r
Ë
__THROW
;

82 *
	$memÆign
 (
size_t
 
__Æignmít
, size_à
__size
)

83 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

86 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

90 * 
	$pvÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

94 *(*
__m‹ec‹e
Ë(
±rdiff_t
 
__size
);

97 *
	$__deÁu…_m‹ec‹e
 (
±rdiff_t
 
__size
)

98 
__THROW
 
__©åibuã_mÆloc__
;

102 
	smÆlöfo


104 
¨ía
;

105 
‹dblks
;

106 
smblks
;

107 
hblks
;

108 
hblkhd
;

109 
usmblks
;

110 
fsmblks
;

111 
u‹dblks
;

112 
f‹dblks
;

113 
kìpco°
;

117 
mÆlöfo
 
	$mÆlöfo
 (Ë
__THROW
;

120 #i‚de‡
M_MXFAST


121 
	#M_MXFAST
 1

	)

123 #i‚de‡
M_NLBLKS


124 
	#M_NLBLKS
 2

	)

126 #i‚de‡
M_GRAIN


127 
	#M_GRAIN
 3

	)

129 #i‚de‡
M_KEEP


130 
	#M_KEEP
 4

	)

134 
	#M_TRIM_THRESHOLD
 -1

	)

135 
	#M_TOP_PAD
 -2

	)

136 
	#M_MMAP_THRESHOLD
 -3

	)

137 
	#M_MMAP_MAX
 -4

	)

138 
	#M_CHECK_ACTION
 -5

	)

139 
	#M_PERTURB
 -6

	)

140 
	#M_ARENA_TEST
 -7

	)

141 
	#M_ARENA_MAX
 -8

	)

144 
	$mÆl›t
 (
__∑øm
, 
__vÆ
Ë
__THROW
;

148 
	$mÆloc_åim
 (
size_t
 
__∑d
Ë
__THROW
;

152 
size_t
 
	$mÆloc_ußbÀ_size
 (*
__±r
Ë
__THROW
;

155 
	$mÆloc_°©s
 (Ë
__THROW
;

158 
	$mÆloc_öfo
 (
__›ti⁄s
, 
FILE
 *
__Â
Ë
__THROW
;

161 *
	$mÆloc_gë_°©e
 (Ë
__THROW
;

165 
	$mÆloc_£t_°©e
 (*
__±r
Ë
__THROW
;

170 (*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_öôülize_hook
) ()

171 
__MALLOC_DEPRECATED
;

173 (*
__MALLOC_HOOK_VOLATILE
 
__‰ì_hook
Ë(*
__±r
,

174 
__c⁄°
 
__mÆloc_±r_t
)

175 
__MALLOC_DEPRECATED
;

176 *(*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_hook
Ë(
size_t
 
__size
,

177 
__c⁄°
 
__mÆloc_±r_t
)

178 
__MALLOC_DEPRECATED
;

179 *(*
__MALLOC_HOOK_VOLATILE
 
__ªÆloc_hook
Ë(*
__±r
,

180 
size_t
 
__size
,

181 
__c⁄°
 
__mÆloc_±r_t
)

182 
__MALLOC_DEPRECATED
;

183 *(*
__MALLOC_HOOK_VOLATILE
 
__memÆign_hook
Ë(
size_t
 
__Æignmít
,

184 
size_t
 
__size
,

185 
__c⁄°
 
__mÆloc_±r_t
)

186 
__MALLOC_DEPRECATED
;

187 (*
__MALLOC_HOOK_VOLATILE
 
__a·î_m‹ec‹e_hook
) ();

190 
	$__mÆloc_check_öô
 (Ë
__THROW
 
__MALLOC_DEPRECATED
;

193 
__END_DECLS


	@/usr/include/net/if.h

20 #i‚de‡
_NET_IF_H


21 
	#_NET_IF_H
 1

	)

23 
	~<„©uªs.h
>

25 #ifde‡
__USE_MISC


26 
	~<sys/ty≥s.h
>

27 
	~<sys/sockë.h
>

32 
	#IF_NAMESIZE
 16

	)

34 
	sif_«meödex


36 
	mif_ödex
;

37 *
	mif_«me
;

41 #ifde‡
__USE_MISC


45 
	mIFF_UP
 = 0x1,

46 
	#IFF_UP
 
IFF_UP


	)

47 
	mIFF_BROADCAST
 = 0x2,

48 
	#IFF_BROADCAST
 
IFF_BROADCAST


	)

49 
	mIFF_DEBUG
 = 0x4,

50 
	#IFF_DEBUG
 
IFF_DEBUG


	)

51 
	mIFF_LOOPBACK
 = 0x8,

52 
	#IFF_LOOPBACK
 
IFF_LOOPBACK


	)

53 
	mIFF_POINTOPOINT
 = 0x10,

54 
	#IFF_POINTOPOINT
 
IFF_POINTOPOINT


	)

55 
	mIFF_NOTRAILERS
 = 0x20,

56 
	#IFF_NOTRAILERS
 
IFF_NOTRAILERS


	)

57 
	mIFF_RUNNING
 = 0x40,

58 
	#IFF_RUNNING
 
IFF_RUNNING


	)

59 
	mIFF_NOARP
 = 0x80,

60 
	#IFF_NOARP
 
IFF_NOARP


	)

61 
	mIFF_PROMISC
 = 0x100,

62 
	#IFF_PROMISC
 
IFF_PROMISC


	)

65 
	mIFF_ALLMULTI
 = 0x200,

66 
	#IFF_ALLMULTI
 
IFF_ALLMULTI


	)

68 
	mIFF_MASTER
 = 0x400,

69 
	#IFF_MASTER
 
IFF_MASTER


	)

70 
	mIFF_SLAVE
 = 0x800,

71 
	#IFF_SLAVE
 
IFF_SLAVE


	)

73 
	mIFF_MULTICAST
 = 0x1000,

74 
	#IFF_MULTICAST
 
IFF_MULTICAST


	)

76 
	mIFF_PORTSEL
 = 0x2000,

77 
	#IFF_PORTSEL
 
IFF_PORTSEL


	)

78 
	mIFF_AUTOMEDIA
 = 0x4000,

79 
	#IFF_AUTOMEDIA
 
IFF_AUTOMEDIA


	)

80 
	mIFF_DYNAMIC
 = 0x8000

81 
	#IFF_DYNAMIC
 
IFF_DYNAMIC


	)

89 
	siÁddr


91 
sockaddr
 
	miÁ_addr
;

94 
sockaddr
 
	mifu_brﬂdaddr
;

95 
sockaddr
 
	mifu_d°addr
;

96 } 
	miÁ_ifu
;

97 
iÁ˚
 *
	miÁ_iÂ
;

98 
iÁddr
 *
	miÁ_√xt
;

101 
	#iÁ_brﬂdaddr
 
iÁ_ifu
.
ifu_brﬂdaddr


	)

102 
	#iÁ_d°addr
 
iÁ_ifu
.
ifu_d°addr


	)

112 
	sifm≠


114 
	mmem_°¨t
;

115 
	mmem_íd
;

116 
	mba£_addr
;

117 
	múq
;

118 
	mdma
;

119 
	mp‹t
;

127 
	si‰eq


129 
	#IFHWADDRLEN
 6

	)

130 
	#IFNAMSIZ
 
IF_NAMESIZE


	)

133 
	mi‰n_«me
[
IFNAMSIZ
];

134 } 
	mi‰_i‰n
;

138 
sockaddr
 
	mi‰u_addr
;

139 
sockaddr
 
	mi‰u_d°addr
;

140 
sockaddr
 
	mi‰u_brﬂdaddr
;

141 
sockaddr
 
	mi‰u_√tmask
;

142 
sockaddr
 
	mi‰u_hwaddr
;

143 
	mi‰u_Êags
;

144 
	mi‰u_ivÆue
;

145 
	mi‰u_mtu
;

146 
ifm≠
 
	mi‰u_m≠
;

147 
	mi‰u_¶ave
[
IFNAMSIZ
];

148 
	mi‰u_√w«me
[
IFNAMSIZ
];

149 
__ˇddr_t
 
	mi‰u_d©a
;

150 } 
	mi‰_i‰u
;

152 
	#i‰_«me
 
i‰_i‰n
.
i‰n_«me


	)

153 
	#i‰_hwaddr
 
i‰_i‰u
.
i‰u_hwaddr


	)

154 
	#i‰_addr
 
i‰_i‰u
.
i‰u_addr


	)

155 
	#i‰_d°addr
 
i‰_i‰u
.
i‰u_d°addr


	)

156 
	#i‰_brﬂdaddr
 
i‰_i‰u
.
i‰u_brﬂdaddr


	)

157 
	#i‰_√tmask
 
i‰_i‰u
.
i‰u_√tmask


	)

158 
	#i‰_Êags
 
i‰_i‰u
.
i‰u_Êags


	)

159 
	#i‰_mëric
 
i‰_i‰u
.
i‰u_ivÆue


	)

160 
	#i‰_mtu
 
i‰_i‰u
.
i‰u_mtu


	)

161 
	#i‰_m≠
 
i‰_i‰u
.
i‰u_m≠


	)

162 
	#i‰_¶ave
 
i‰_i‰u
.
i‰u_¶ave


	)

163 
	#i‰_d©a
 
i‰_i‰u
.
i‰u_d©a


	)

164 
	#i‰_ifödex
 
i‰_i‰u
.
i‰u_ivÆue


	)

165 
	#i‰_b™dwidth
 
i‰_i‰u
.
i‰u_ivÆue


	)

166 
	#i‰_qÀn
 
i‰_i‰u
.
i‰u_ivÆue


	)

167 
	#i‰_√w«me
 
i‰_i‰u
.
i‰u_√w«me


	)

168 
	#_IOT_i‰eq
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),16,0,0)

	)

169 
	#_IOT_i‰eq_sh‹t
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

170 
	#_IOT_i‰eq_öt
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

177 
	sifc⁄f


179 
	mifc_Àn
;

182 
__ˇddr_t
 
	mifcu_buf
;

183 
i‰eq
 *
	mifcu_ªq
;

184 } 
	mifc_ifcu
;

186 
	#ifc_buf
 
ifc_ifcu
.
ifcu_buf


	)

187 
	#ifc_ªq
 
ifc_ifcu
.
ifcu_ªq


	)

188 
	#_IOT_ifc⁄f
 
	`_IOT
(
	`_IOTS
(
ifc⁄f
),1,0,0,0,0Ë

	)

191 
__BEGIN_DECLS


194 
	$if_«mëoödex
 (
__c⁄°
 *
__i‚ame
Ë
__THROW
;

195 *
	$if_ödext⁄ame
 (
__ifödex
, *
__i‚ame
Ë
__THROW
;

198 
if_«meödex
 *
	$if_«meödex
 (Ë
__THROW
;

201 
	$if_‰ì«meödex
 (
if_«meödex
 *
__±r
Ë
__THROW
;

203 
__END_DECLS


	@/usr/include/netinet/in.h

20 #i‚def 
_NETINET_IN_H


21 
	#_NETINET_IN_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<°döt.h
>

25 
	~<sys/sockë.h
>

26 
	~<bôs/ty≥s.h
>

29 
__BEGIN_DECLS


34 
	mIPPROTO_IP
 = 0,

35 
	#IPPROTO_IP
 
IPPROTO_IP


	)

36 
	mIPPROTO_HOPOPTS
 = 0,

37 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

38 
	mIPPROTO_ICMP
 = 1,

39 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

40 
	mIPPROTO_IGMP
 = 2,

41 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

42 
	mIPPROTO_IPIP
 = 4,

43 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

44 
	mIPPROTO_TCP
 = 6,

45 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

46 
	mIPPROTO_EGP
 = 8,

47 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

48 
	mIPPROTO_PUP
 = 12,

49 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

50 
	mIPPROTO_UDP
 = 17,

51 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

52 
	mIPPROTO_IDP
 = 22,

53 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

54 
	mIPPROTO_TP
 = 29,

55 
	#IPPROTO_TP
 
IPPROTO_TP


	)

56 
	mIPPROTO_DCCP
 = 33,

57 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

58 
	mIPPROTO_IPV6
 = 41,

59 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

60 
	mIPPROTO_ROUTING
 = 43,

61 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

62 
	mIPPROTO_FRAGMENT
 = 44,

63 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

64 
	mIPPROTO_RSVP
 = 46,

65 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

66 
	mIPPROTO_GRE
 = 47,

67 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

68 
	mIPPROTO_ESP
 = 50,

69 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

70 
	mIPPROTO_AH
 = 51,

71 
	#IPPROTO_AH
 
IPPROTO_AH


	)

72 
	mIPPROTO_ICMPV6
 = 58,

73 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

74 
	mIPPROTO_NONE
 = 59,

75 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

76 
	mIPPROTO_DSTOPTS
 = 60,

77 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

78 
	mIPPROTO_MTP
 = 92,

79 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

80 
	mIPPROTO_ENCAP
 = 98,

81 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

82 
	mIPPROTO_PIM
 = 103,

83 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

84 
	mIPPROTO_COMP
 = 108,

85 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

86 
	mIPPROTO_SCTP
 = 132,

87 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

88 
	mIPPROTO_UDPLITE
 = 136,

89 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


97 
uöt16_t
 
	tö_p‹t_t
;

102 
	mIPPORT_ECHO
 = 7,

103 
	mIPPORT_DISCARD
 = 9,

104 
	mIPPORT_SYSTAT
 = 11,

105 
	mIPPORT_DAYTIME
 = 13,

106 
	mIPPORT_NETSTAT
 = 15,

107 
	mIPPORT_FTP
 = 21,

108 
	mIPPORT_TELNET
 = 23,

109 
	mIPPORT_SMTP
 = 25,

110 
	mIPPORT_TIMESERVER
 = 37,

111 
	mIPPORT_NAMESERVER
 = 42,

112 
	mIPPORT_WHOIS
 = 43,

113 
	mIPPORT_MTP
 = 57,

115 
	mIPPORT_TFTP
 = 69,

116 
	mIPPORT_RJE
 = 77,

117 
	mIPPORT_FINGER
 = 79,

118 
	mIPPORT_TTYLINK
 = 87,

119 
	mIPPORT_SUPDUP
 = 95,

122 
	mIPPORT_EXECSERVER
 = 512,

123 
	mIPPORT_LOGINSERVER
 = 513,

124 
	mIPPORT_CMDSERVER
 = 514,

125 
	mIPPORT_EFSSERVER
 = 520,

128 
	mIPPORT_BIFFUDP
 = 512,

129 
	mIPPORT_WHOSERVER
 = 513,

130 
	mIPPORT_ROUTESERVER
 = 520,

133 
	mIPPORT_RESERVED
 = 1024,

136 
	mIPPORT_USERRESERVED
 = 5000

141 
uöt32_t
 
	tö_addr_t
;

142 
	sö_addr


144 
ö_addr_t
 
	ms_addr
;

153 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

154 
	#IN_CLASSA_NET
 0xff000000

	)

155 
	#IN_CLASSA_NSHIFT
 24

	)

156 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

157 
	#IN_CLASSA_MAX
 128

	)

159 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

160 
	#IN_CLASSB_NET
 0xffff0000

	)

161 
	#IN_CLASSB_NSHIFT
 16

	)

162 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

163 
	#IN_CLASSB_MAX
 65536

	)

165 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

166 
	#IN_CLASSC_NET
 0xffffff00

	)

167 
	#IN_CLASSC_NSHIFT
 8

	)

168 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

170 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

171 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

173 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

174 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

177 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

179 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

181 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

184 
	#IN_LOOPBACKNET
 127

	)

186 #i‚de‡
INADDR_LOOPBACK


187 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

191 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

192 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

193 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

194 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

198 
	sö6_addr


202 
uöt8_t
 
	m__u6_addr8
[16];

203 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


204 
uöt16_t
 
	m__u6_addr16
[8];

205 
uöt32_t
 
	m__u6_addr32
[4];

207 } 
	m__ö6_u
;

208 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

209 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


210 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

211 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

215 c⁄° 
ö6_addr
 
ö6addr_™y
;

216 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

217 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

218 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

220 
	#INET_ADDRSTRLEN
 16

	)

221 
	#INET6_ADDRSTRLEN
 46

	)

225 
	ssockaddr_ö


227 
__SOCKADDR_COMMON
 (
sö_
);

228 
ö_p‹t_t
 
	msö_p‹t
;

229 
ö_addr
 
	msö_addr
;

232 
	msö_zîo
[ (
sockaddr
) -

233 
__SOCKADDR_COMMON_SIZE
 -

234  (
ö_p‹t_t
) -

235  (
ö_addr
)];

239 
	ssockaddr_ö6


241 
__SOCKADDR_COMMON
 (
sö6_
);

242 
ö_p‹t_t
 
	msö6_p‹t
;

243 
uöt32_t
 
	msö6_Êowöfo
;

244 
ö6_addr
 
	msö6_addr
;

245 
uöt32_t
 
	msö6_sc›e_id
;

249 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


251 
	sù_mªq


254 
ö_addr
 
	mimr_mu…üddr
;

257 
ö_addr
 
	mimr_öãrÁ˚
;

260 
	sù_mªq_sour˚


263 
ö_addr
 
	mimr_mu…üddr
;

266 
ö_addr
 
	mimr_öãrÁ˚
;

269 
ö_addr
 
	mimr_sour˚addr
;

275 
	sùv6_mªq


278 
ö6_addr
 
	mùv6mr_mu…üddr
;

281 
	mùv6mr_öãrÁ˚
;

285 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


287 
	sgroup_ªq


290 
uöt32_t
 
	mgr_öãrÁ˚
;

293 
sockaddr_°‹age
 
	mgr_group
;

296 
	sgroup_sour˚_ªq


299 
uöt32_t
 
	mg§_öãrÁ˚
;

302 
sockaddr_°‹age
 
	mg§_group
;

305 
sockaddr_°‹age
 
	mg§_sour˚
;

310 
	sù_msfûãr


313 
ö_addr
 
	mimsf_mu…üddr
;

316 
ö_addr
 
	mimsf_öãrÁ˚
;

319 
uöt32_t
 
	mimsf_fmode
;

322 
uöt32_t
 
	mimsf_num§c
;

324 
ö_addr
 
	mimsf_¶i°
[1];

327 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

328 -  (
ö_addr
) \

329 + (
num§c
Ë*  (
ö_addr
))

	)

331 
	sgroup_fûãr


334 
uöt32_t
 
	mgf_öãrÁ˚
;

337 
sockaddr_°‹age
 
	mgf_group
;

340 
uöt32_t
 
	mgf_fmode
;

343 
uöt32_t
 
	mgf_num§c
;

345 
sockaddr_°‹age
 
	mgf_¶i°
[1];

348 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

349 -  (
sockaddr_°‹age
) \

350 + ((
num§c
) \

351 *  (
sockaddr_°‹age
)))

	)

356 
	~<bôs/ö.h
>

365 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

366 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

367 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

368 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

369 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

370 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

371 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

373 
	~<ídün.h
>

376 
	~<bôs/byãsw≠.h
>

378 #ifde‡
__OPTIMIZE__


382 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


385 
	#¡ohl
(
x
Ë(x)

	)

386 
	#¡ohs
(
x
Ë(x)

	)

387 
	#ht⁄l
(
x
Ë(x)

	)

388 
	#ht⁄s
(
x
Ë(x)

	)

390 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


391 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

392 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

393 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

394 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

399 #ifde‡
__GNUC__


400 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

401 (
__exãnsi⁄__
 \

402 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

403 
__a
->
s6_addr32
[0] == 0 \

404 && 
__a
->
s6_addr32
[1] == 0 \

405 && 
__a
->
s6_addr32
[2] == 0 \

406 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

408 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

409 (
__exãnsi⁄__
 \

410 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

411 
__a
->
s6_addr32
[0] == 0 \

412 && 
__a
->
s6_addr32
[1] == 0 \

413 && 
__a
->
s6_addr32
[2] == 0 \

414 && 
__a
->
s6_addr32
[3] =
	`ht⁄l
 (1); }))

	)

416 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

417 (
__exãnsi⁄__
 \

418 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

419 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„800000); }))

	)

421 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

422 (
__exãnsi⁄__
 \

423 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

424 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„c00000); }))

	)

426 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

427 (
__exãnsi⁄__
 \

428 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

429 
__a
->
s6_addr32
[0] == 0 \

430 && 
__a
->
s6_addr32
[1] == 0 \

431 && 
__a
->
s6_addr32
[2] =
	`ht⁄l
 (0xffff); }))

	)

433 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

434 (
__exãnsi⁄__
 \

435 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

436 
__a
->
s6_addr32
[0] == 0 \

437 && 
__a
->
s6_addr32
[1] == 0 \

438 && 
__a
->
s6_addr32
[2] == 0 \

439 && 
	`¡ohl
 (
__a
->
s6_addr32
[3]Ë> 1; }))

	)

441 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

442 (
__exãnsi⁄__
 \

443 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

444 
__c⁄°
 
ö6_addr
 *
__b
 = (__c⁄° ö6_add∏*Ë(
b
); \

445 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

446 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

447 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

448 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

450 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

451 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

452 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

453 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

454 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =0)

	)

456 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

457 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

458 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

459 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

460 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

462 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

463 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

464 =
	`ht⁄l
 (0x„800000))

	)

466 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

467 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

468 =
	`ht⁄l
 (0x„c00000))

	)

470 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

471 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

472 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

473 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

475 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

476 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

477 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

478 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0) \

479 && (
	`¡ohl
 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

481 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

482 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] =((__c⁄° uöt32_à*Ë(
b
))[0]) \

483 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] =((__c⁄° uöt32_à*Ë(
b
))[1]) \

484 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =((__c⁄° uöt32_à*Ë(
b
))[2]) \

485 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =((__c⁄° uöt32_à*Ë(
b
))[3]))

	)

488 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((
__c⁄°
 
uöt8_t
 *Ë◊))[0] =0xff)

	)

490 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


492 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

495 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

496 
__THROW
;

500 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

501 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

502 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

504 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

505 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

506 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

508 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

509 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

510 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

512 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

513 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

514 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

516 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

517 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

518 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

521 #ifde‡
__USE_GNU


523 
	sö6_pktöfo


525 
ö6_addr
 
ùi6_addr
;

526 
ùi6_ifödex
;

530 
	sù6_mtuöfo


532 
sockaddr_ö6
 
ù6m_addr
;

533 
uöt32_t
 
ù6m_mtu
;

538 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

539 
__THROW
 
__©åibuã_dïªˇãd__
;

540 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

541 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

542 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

543 
__c⁄°
 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

544 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

545 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

546 
__mu…x
, 
__∂usy
)

547 
__THROW
 
__©åibuã_dïªˇãd__
;

548 
	$öë6_›ti⁄_√xt
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

549 
uöt8_t
 **
__çåp
)

550 
__THROW
 
__©åibuã_dïªˇãd__
;

551 
	$öë6_›ti⁄_föd
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

552 
uöt8_t
 **
__çåp
, 
__ty≥
)

553 
__THROW
 
__©åibuã_dïªˇãd__
;

557 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

558 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

559 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

560 **
__d©abuÂ
Ë
__THROW
;

561 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

562 
__THROW
;

563 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

564 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

565 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

566 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

567 **
__d©abuÂ
Ë
__THROW
;

568 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

569 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

570 **
__d©abuÂ
Ë
__THROW
;

571 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

572 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

576 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

577 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

578 
__£gmíts
Ë
__THROW
;

579 
	$öë6_πh_add
 (*
__bp
, 
__c⁄°
 
ö6_addr
 *
__addr
Ë
__THROW
;

580 
	$öë6_πh_ªvî£
 (
__c⁄°
 *
__ö
, *
__out
Ë
__THROW
;

581 
	$öë6_πh_£gmíts
 (
__c⁄°
 *
__bp
Ë
__THROW
;

582 
ö6_addr
 *
	$öë6_πh_gëaddr
 (
__c⁄°
 *
__bp
, 
__ödex
)

583 
__THROW
;

589 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

590 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

591 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

592 
__THROW
;

595 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

596 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

597 
uöt32_t
 
__num§c
,

598 
__c⁄°
 
ö_addr
 *
__¶i°
)

599 
__THROW
;

603 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

604 
__c⁄°
 
sockaddr
 *
__group
,

605 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

606 
uöt32_t
 *
__num§c
,

607 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

610 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

611 
__c⁄°
 
sockaddr
 *
__group
,

612 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

613 
uöt32_t
 
__num§c
,

614 
__c⁄°
 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

617 
__END_DECLS


	@/usr/include/pthread.h

20 #i‚de‡
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<ídün.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	~<bôs/±hªadty≥s.h
>

29 
	~<bôs/£tjmp.h
>

30 
	~<bôs/w‹dsize.h
>

36 
	mPTHREAD_CREATE_JOINABLE
,

37 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

38 
	mPTHREAD_CREATE_DETACHED


39 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

46 
	mPTHREAD_MUTEX_TIMED_NP
,

47 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

48 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

49 
	mPTHREAD_MUTEX_ADAPTIVE_NP


50 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


52 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

53 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

54 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

55 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


57 #ifde‡
__USE_GNU


59 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


64 #ifde‡
__USE_XOPEN2K


68 
	mPTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

70 
	mPTHREAD_MUTEX_ROBUST
,

71 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


76 #ifde‡
__USE_UNIX98


80 
	mPTHREAD_PRIO_NONE
,

81 
	mPTHREAD_PRIO_INHERIT
,

82 
	mPTHREAD_PRIO_PROTECT


88 #i‡
__WORDSIZE
 == 64

89 
	#PTHREAD_MUTEX_INITIALIZER
 \

90 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

91 #ifde‡
__USE_GNU


92 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 0 } } }

	)

102 #ifde‡
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

114 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 
	#PTHREAD_RWLOCK_INITIALIZER
 \

125 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

126 #ifde‡
__USE_GNU


127 #i‡
__WORDSIZE
 == 64

128 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

130 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

132 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


133 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

134 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

135 0, 0, 0, 0 } }

	)

137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

139 0 } }

	)

149 
	mPTHREAD_INHERIT_SCHED
,

150 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

151 
	mPTHREAD_EXPLICIT_SCHED


152 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

159 
	mPTHREAD_SCOPE_SYSTEM
,

160 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

161 
	mPTHREAD_SCOPE_PROCESS


162 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

169 
	mPTHREAD_PROCESS_PRIVATE
,

170 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

171 
	mPTHREAD_PROCESS_SHARED


172 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

178 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

182 
	s_±hªad_˛ónup_buf„r


184 (*
	m__routöe
) (*);

185 *
	m__¨g
;

186 
	m__ˇn˚…y≥
;

187 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

193 
	mPTHREAD_CANCEL_ENABLE
,

194 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

195 
	mPTHREAD_CANCEL_DISABLE


196 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

200 
	mPTHREAD_CANCEL_DEFERRED
,

201 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

202 
	mPTHREAD_CANCEL_ASYNCHRONOUS


203 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

205 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

209 
	#PTHREAD_ONCE_INIT
 0

	)

212 #ifde‡
__USE_XOPEN2K


216 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

220 
__BEGIN_DECLS


225 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

226 
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

227 *(*
__°¨t_routöe
) (*),

228 *
__ª°ri˘
 
__¨g
Ë
__THROWNL
 
__n⁄nuŒ
 ((1, 3));

234 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

242 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

244 #ifde‡
__USE_GNU


247 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

255 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

256 
__c⁄°
 
time•ec
 *
__ab°ime
);

263 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

267 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

270 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
Ë
__THROW
;

278 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

281 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

282 
__THROW
 
	`__n⁄nuŒ
 ((1));

285 
	$±hªad_©å_gëdëach°©e
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

286 *
__dëach°©e
)

287 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

290 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

291 
__dëach°©e
)

292 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 
	$±hªad_©å_gëgu¨dsize
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

297 
size_t
 *
__gu¨dsize
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

301 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

302 
size_t
 
__gu¨dsize
)

303 
__THROW
 
	`__n⁄nuŒ
 ((1));

307 
	$±hªad_©å_gësched∑øm
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


308 
__©å
,

309 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

310 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

313 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

314 
__c⁄°
 
sched_∑øm
 *
__ª°ri˘


315 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

318 
	$±hªad_©å_gëschedpﬁicy
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


319 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

320 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

323 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

324 
__THROW
 
	`__n⁄nuŒ
 ((1));

327 
	$±hªad_©å_gëöhîôsched
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


328 
__©å
, *
__ª°ri˘
 
__öhîô
)

329 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

332 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

333 
__öhîô
)

334 
__THROW
 
	`__n⁄nuŒ
 ((1));

338 
	$±hªad_©å_gësc›e
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

339 *
__ª°ri˘
 
__sc›e
)

340 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

343 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

344 
__THROW
 
	`__n⁄nuŒ
 ((1));

347 
	$±hªad_©å_gë°ackaddr
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


348 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

349 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

355 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

356 *
__°ackaddr
)

357 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

360 
	$±hªad_©å_gë°acksize
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


361 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

362 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

367 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

368 
size_t
 
__°acksize
)

369 
__THROW
 
	`__n⁄nuŒ
 ((1));

371 #ifde‡
__USE_XOPEN2K


373 
	$±hªad_©å_gë°ack
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

374 **
__ª°ri˘
 
__°ackaddr
,

375 
size_t
 *
__ª°ri˘
 
__°acksize
)

376 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

381 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

382 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

385 #ifde‡
__USE_GNU


388 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

389 
size_t
 
__˝u£tsize
,

390 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

391 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

395 
	$±hªad_©å_gëafföôy_≈
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

396 
size_t
 
__˝u£tsize
,

397 
˝u_£t_t
 *
__˝u£t
)

398 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

404 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

405 
__THROW
 
	`__n⁄nuŒ
 ((2));

413 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

414 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

415 
__THROW
 
	`__n⁄nuŒ
 ((3));

418 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

419 *
__ª°ri˘
 
__pﬁicy
,

420 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

421 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

424 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

425 
__THROW
;

428 #ifde‡
__USE_GNU


430 
	$±hªad_gë«me_≈
 (
±hªad_t
 
__èrgë_thªad
, *
__buf
,

431 
size_t
 
__buÊí
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

435 
	$±hªad_£äame_≈
 (
±hªad_t
 
__èrgë_thªad
, 
__c⁄°
 *
__«me
)

436 
__THROW
 
	`__n⁄nuŒ
 ((2));

440 #ifde‡
__USE_UNIX98


442 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

445 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

448 #ifde‡
__USE_GNU


453 
	$±hªad_yõld
 (Ë
__THROW
;

458 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

459 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

460 
__THROW
 
	`__n⁄nuŒ
 ((3));

463 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

464 
˝u_£t_t
 *
__˝u£t
)

465 
__THROW
 
	`__n⁄nuŒ
 ((3));

478 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

479 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

490 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

494 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

497 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

502 
	`±hªad_ã°ˇn˚l
 ();

511 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

512 
__mask_was_ßved
;

513 } 
__ˇn˚l_jmp_buf
[1];

514 *
__∑d
[4];

515 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

518 #i‚de‡
__˛ónup_f˘_©åibuã


519 
	#__˛ónup_f˘_©åibuã


	)

524 
	s__±hªad_˛ónup_‰ame


526 (*
__ˇn˚l_routöe
) (*);

527 *
__ˇn˚l_¨g
;

528 
__do_ô
;

529 
__ˇn˚l_ty≥
;

532 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


533 #ifde‡
__˝lu•lus


535 ˛as†
	c__±hªad_˛ónup_˛ass


537 (*
__ˇn˚l_routöe
) (*);

538 *
__ˇn˚l_¨g
;

539 
__do_ô
;

540 
__ˇn˚l_ty≥
;

542 
public
:

543 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

544 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

545 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

546 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

547 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

548 &
__ˇn˚l_ty≥
); 
	}
}

549 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

559 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

561 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

565 
	#±hªad_˛ónup_p›
(
execuã
) \

566 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

567 } 0)

	)

569 #ifde‡
__USE_GNU


573 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

575 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

576 
__˛‰ame
.
	`__de„r
 ()

	)

581 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

582 
__˛‰ame
.
	`__ª°‹e
 (); \

583 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

584 } 0)

	)

591 
__exã∫_ölöe
 

592 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

594 i‡(
__‰ame
->
__do_ô
)

595 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

596 
	}
}

605 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

607 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

608 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

609 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

610 .
__do_ô
 = 1 };

	)

614 
	#±hªad_˛ónup_p›
(
execuã
) \

615 
__˛‰ame
.
__do_ô
 = (
execuã
); \

616 } 0)

	)

618 #ifde‡
__USE_GNU


622 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

624 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

625 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

626 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

627 .
__do_ô
 = 1 }; \

628 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

629 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

634 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

635 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

636 
__˛‰ame
.
__do_ô
 = (
execuã
); \

637 } 0)

	)

648 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

650 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

651 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

652 *
__ˇn˚l_¨g
 = (
¨g
); \

653 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

654 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

655 i‡(
	`__buûtö_ex≥˘
 (
__nŸ_fú°_ˇŒ
, 0)) \

657 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

658 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

662 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

663 dÿ{

	)

664 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

665 
__˛ónup_f˘_©åibuã
;

669 
	#±hªad_˛ónup_p›
(
execuã
) \

672 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

673 i‡(
execuã
) \

674 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

675 } 0)

	)

676 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

677 
__˛ónup_f˘_©åibuã
;

679 #ifde‡
__USE_GNU


683 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

685 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

686 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

687 *
__ˇn˚l_¨g
 = (
¨g
); \

688 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

689 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

690 i‡(
	`__buûtö_ex≥˘
 (
__nŸ_fú°_ˇŒ
, 0)) \

692 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

693 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

697 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

698 dÿ{

	)

699 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

700 
__˛ónup_f˘_©åibuã
;

705 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

708 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

709 i‡(
execuã
) \

710 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

711 
	}
} 0)

	)

712 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

713 
__˛ónup_f˘_©åibuã
;

717 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

718 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

719 #i‚de‡
SHARED


720 
	`__©åibuã__
 ((
__wók__
))

726 
__jmp_buf_èg
;

727 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROW
;

733 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

734 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx©å
)

735 
__THROW
 
	`__n⁄nuŒ
 ((1));

738 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

739 
__THROW
 
	`__n⁄nuŒ
 ((1));

742 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

743 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

746 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

747 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

749 #ifde‡
__USE_XOPEN2K


751 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

752 
__c⁄°
 
time•ec
 *
__ª°ri˘


753 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

757 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

758 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

762 
	$±hªad_muãx_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx_t
 *

763 
__ª°ri˘
 
__muãx
,

764 *
__ª°ri˘
 
__¥io˚ûög
)

765 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

769 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

770 
__¥io˚ûög
,

771 *
__ª°ri˘
 
__ﬁd_˚ûög
)

772 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

775 #ifde‡
__USE_XOPEN2K8


777 
	$±hªad_muãx_c⁄si°ít
 (
±hªad_muãx_t
 *
__muãx
)

778 
__THROW
 
	`__n⁄nuŒ
 ((1));

779 #ifde‡
__USE_GNU


780 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

781 
__THROW
 
	`__n⁄nuŒ
 ((1));

790 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

791 
__THROW
 
	`__n⁄nuŒ
 ((1));

794 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

795 
__THROW
 
	`__n⁄nuŒ
 ((1));

798 
	$±hªad_muãx©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_muãx©å_t
 *

799 
__ª°ri˘
 
__©å
,

800 *
__ª°ri˘
 
__psh¨ed
)

801 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

804 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

805 
__psh¨ed
)

806 
__THROW
 
	`__n⁄nuŒ
 ((1));

808 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


810 
	$±hªad_muãx©å_gëty≥
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__ª°ri˘


811 
__©å
, *
__ª°ri˘
 
__köd
)

812 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

817 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

818 
__THROW
 
	`__n⁄nuŒ
 ((1));

822 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (
__c⁄°
 
±hªad_muãx©å_t
 *

823 
__ª°ri˘
 
__©å
,

824 *
__ª°ri˘
 
__¥Ÿocﬁ
)

825 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

829 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

830 
__¥Ÿocﬁ
)

831 
__THROW
 
	`__n⁄nuŒ
 ((1));

834 
	$±hªad_muãx©å_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx©å_t
 *

835 
__ª°ri˘
 
__©å
,

836 *
__ª°ri˘
 
__¥io˚ûög
)

837 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

840 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

841 
__¥io˚ûög
)

842 
__THROW
 
	`__n⁄nuŒ
 ((1));

844 #ifde‡
__USE_XOPEN2K


846 
	$±hªad_muãx©å_gërobu°
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

847 *
__robu°√ss
)

848 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

849 #ifde‡
__USE_GNU


850 
	$±hªad_muãx©å_gërobu°_≈
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

851 *
__robu°√ss
)

852 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

856 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

857 
__robu°√ss
)

858 
__THROW
 
	`__n⁄nuŒ
 ((1));

859 #ifde‡
__USE_GNU


860 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

861 
__robu°√ss
)

862 
__THROW
 
	`__n⁄nuŒ
 ((1));

867 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


872 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

873 
__c⁄°
 
±hªad_rwlock©å_t
 *
__ª°ri˘


874 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

877 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__n⁄nuŒ
 ((1));

881 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

882 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

885 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

886 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

888 #ifde‡
__USE_XOPEN2K


890 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

891 
__c⁄°
 
time•ec
 *
__ª°ri˘


892 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

896 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

897 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

900 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

901 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

903 #ifde‡
__USE_XOPEN2K


905 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

906 
__c⁄°
 
time•ec
 *
__ª°ri˘


907 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

911 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

912 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

918 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

919 
__THROW
 
	`__n⁄nuŒ
 ((1));

922 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

923 
__THROW
 
	`__n⁄nuŒ
 ((1));

926 
	$±hªad_rwlock©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

927 
__ª°ri˘
 
__©å
,

928 *
__ª°ri˘
 
__psh¨ed
)

929 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

932 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

933 
__psh¨ed
)

934 
__THROW
 
	`__n⁄nuŒ
 ((1));

937 
	$±hªad_rwlock©å_gëköd_≈
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

938 
__ª°ri˘
 
__©å
,

939 *
__ª°ri˘
 
__¥ef
)

940 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

943 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

944 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

952 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

953 
__c⁄°
 
±hªad_c⁄d©å_t
 *
__ª°ri˘


954 
__c⁄d_©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

957 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

958 
__THROW
 
	`__n⁄nuŒ
 ((1));

961 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

962 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

965 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

966 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

973 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

974 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

975 
	`__n⁄nuŒ
 ((1, 2));

984 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

985 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

986 
__c⁄°
 
time•ec
 *
__ª°ri˘


987 
__ab°ime
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

992 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

993 
__THROW
 
	`__n⁄nuŒ
 ((1));

996 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

997 
__THROW
 
	`__n⁄nuŒ
 ((1));

1000 
	$±hªad_c⁄d©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

1001 
__ª°ri˘
 
__©å
,

1002 *
__ª°ri˘
 
__psh¨ed
)

1003 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1006 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

1007 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1009 #ifde‡
__USE_XOPEN2K


1011 
	$±hªad_c⁄d©å_gë˛ock
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

1012 
__ª°ri˘
 
__©å
,

1013 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1014 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1017 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1018 
__˛ockid_t
 
__˛ock_id
)

1019 
__THROW
 
	`__n⁄nuŒ
 ((1));

1023 #ifde‡
__USE_XOPEN2K


1028 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1029 
__THROW
 
	`__n⁄nuŒ
 ((1));

1032 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1033 
__THROW
 
	`__n⁄nuŒ
 ((1));

1036 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1037 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1040 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1041 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1044 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1045 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1052 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1053 
__c⁄°
 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1054 
__©å
, 
__cou¡
)

1055 
__THROW
 
	`__n⁄nuŒ
 ((1));

1058 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1059 
__THROW
 
	`__n⁄nuŒ
 ((1));

1062 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1063 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1067 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1068 
__THROW
 
	`__n⁄nuŒ
 ((1));

1071 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1072 
__THROW
 
	`__n⁄nuŒ
 ((1));

1075 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (
__c⁄°
 
±hªad_b¨rõøâr_t
 *

1076 
__ª°ri˘
 
__©å
,

1077 *
__ª°ri˘
 
__psh¨ed
)

1078 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1081 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1082 
__psh¨ed
)

1083 
__THROW
 
	`__n⁄nuŒ
 ((1));

1095 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1096 (*
__de°r_fun˘i⁄
) (*))

1097 
__THROW
 
	`__n⁄nuŒ
 ((1));

1100 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1103 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1106 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1107 
__c⁄°
 *
__poöãr
Ë
__THROW
 ;

1110 #ifde‡
__USE_XOPEN2K


1112 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1113 
__˛ockid_t
 *
__˛ock_id
)

1114 
__THROW
 
	`__n⁄nuŒ
 ((2));

1129 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1130 (*
__∑ª¡
) (),

1131 (*
__chûd
Ë()Ë
__THROW
;

1134 #ifde‡
__USE_EXTERN_INLINES


1136 
__exã∫_ölöe
 

1137 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1139  
__thªad1
 =
__thªad2
;

1140 
	}
}

1143 
	g__END_DECLS


	@/usr/include/sched.h

21 #i‚def 
_SCHED_H


22 
	#_SCHED_H
 1

	)

24 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 
	#__√ed_size_t


	)

30 
	~<°ddef.h
>

32 
	#__√ed_time_t


	)

33 
	#__√ed_time•ec


	)

34 
	~<time.h
>

36 #i‚de‡
__pid_t_deföed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_deföed


	)

43 
	~<bôs/sched.h
>

45 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

48 
__BEGIN_DECLS


51 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

52 
__THROW
;

55 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

58 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

59 
__c⁄°
 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

62 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

65 
	$sched_yõld
 (Ë
__THROW
;

68 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

71 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

74 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

77 #ifde‡
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

81 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

82 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

83 
˝u£ç
)

	)

84 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

85 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

87 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

88 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

89 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

90 
˝u£ç
)

	)

91 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

92 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

94 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

95 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

96 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

97 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

99 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

100 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

101 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

102 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

103 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

104 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

105 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

107 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

109 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

110 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

113 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

114 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

118 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

119 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

122 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

123 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

126 
__END_DECLS


	@/usr/include/semaphore.h

19 #i‚de‡
_SEMAPHORE_H


20 
	#_SEMAPHORE_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<sys/ty≥s.h
>

24 #ifde‡
__USE_XOPEN2K


25 
	#__√ed_time•ec


	)

26 
	~<time.h
>

30 
	~<bôs/£m≠h‹e.h
>

33 
__BEGIN_DECLS


37 
	$£m_öô
 (
£m_t
 *
__£m
, 
__psh¨ed
, 
__vÆue
)

38 
__THROW
;

40 
	$£m_de°roy
 (
£m_t
 *
__£m
Ë
__THROW
;

43 
£m_t
 *
	$£m_›í
 (
__c⁄°
 *
__«me
, 
__oÊag
, ...Ë
__THROW
;

46 
	$£m_˛o£
 (
£m_t
 *
__£m
Ë
__THROW
;

49 
	$£m_u∆ök
 (
__c⁄°
 *
__«me
Ë
__THROW
;

55 
	`£m_waô
 (
£m_t
 *
__£m
);

57 #ifde‡
__USE_XOPEN2K


62 
	`£m_timedwaô
 (
£m_t
 *
__ª°ri˘
 
__£m
,

63 
__c⁄°
 
time•ec
 *
__ª°ri˘
 
__ab°ime
);

67 
	$£m_åywaô
 (
£m_t
 *
__£m
Ë
__THROWNL
;

70 
	$£m_po°
 (
£m_t
 *
__£m
Ë
__THROWNL
;

73 
	$£m_gëvÆue
 (
£m_t
 *
__ª°ri˘
 
__£m
, *__ª°ri˘ 
__svÆ
)

74 
__THROW
;

77 
__END_DECLS


	@/usr/include/signal.h

23 #i‚def 
_SIGNAL_H


25 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


26 
	#_SIGNAL_H


	)

29 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


33 
	~<bôs/sig£t.h
>

37 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


38 #i‚de‡
__sig_©omic_t_deföed


39 
	#__sig_©omic_t_deföed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_©omic_t
 
	tsig_©omic_t
;

42 
	g__END_NAMESPACE_STD


44 #unde‡
__√ed_sig_©omic_t


47 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

48 #i‚de‡
__sig£t_t_deföed


49 
	#__sig£t_t_deföed


	)

50 
__sig£t_t
 
	tsig£t_t
;

52 #unde‡
__√ed_sig£t_t


55 #ifde‡
_SIGNAL_H


57 
	~<bôs/ty≥s.h
>

58 
	~<bôs/signum.h
>

60 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


61 #i‚de‡
__pid_t_deföed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_deföed


	)

65 #ifde‡
__USE_XOPEN


67 #i‚de‡
__uid_t_deföed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_deföed


	)

73 #ifde‡
__USE_POSIX199309


75 
	#__√ed_time•ec


	)

76 
	~<time.h
>

79 
	~<bôs/sigöfo.h
>

84 (*
	t__sigh™dÀr_t
) ();

89 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

90 
__THROW
;

91 #ifde‡
__USE_GNU


92 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifde‡
__USE_BSD


101 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

102 
__THROW
;

105 #ifde‡
__REDIRECT_NTH


106 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

107 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

108 
__sysv_sig«l
);

110 
	#sig«l
 
__sysv_sig«l


	)

113 
__END_NAMESPACE_STD


115 #ifde‡
__USE_XOPEN


118 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

119 
__THROW
;

125 #ifde‡
__USE_POSIX


126 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

129 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


133 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$øi£
 (
__sig
Ë
__THROW
;

139 
__END_NAMESPACE_STD


141 #ifde‡
__USE_SVID


143 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

144 
__THROW
;

145 
	$gsig«l
 (
__sig
Ë
__THROW
;

148 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K


150 
	`psig«l
 (
__sig
, 
__c⁄°
 *
__s
);

153 #ifde‡
__USE_XOPEN2K


155 
	`psigöfo
 (
__c⁄°
 
sigöfo_t
 *
__pöfo
, __c⁄° *
__s
);

168 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

170 #ifde‡
__FAVOR_BSD


173 
	$sig∑u£
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

175 #ifde‡
__USE_XOPEN


176 #ifde‡
__GNUC__


177 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

180 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

186 #ifde‡
__USE_BSD


193 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

199 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

202 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

206 #ifde‡
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifde‡
__USE_GNU


211 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

215 #ifde‡
__USE_BSD


216 
__sigh™dÀr_t
 
	tsig_t
;

219 #ifde‡
__USE_POSIX


222 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

225 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

228 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

231 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

234 
	$sigismembî
 (
__c⁄°
 
sig£t_t
 *
__£t
, 
__signo
)

235 
__THROW
 
	`__n⁄nuŒ
 ((1));

237 #ifde‡
__USE_GNU


239 
	$sigi£m±y£t
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

242 
	$sig™d£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

243 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

246 
	$sig‹£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

247 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

252 
	~<bôs/siga˘i⁄.h
>

255 
	$sig¥ocmask
 (
__how
, 
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

256 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

263 
	$sigsu•íd
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

266 
	$siga˘i⁄
 (
__sig
, 
__c⁄°
 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

267 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

270 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

277 
	$sigwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

278 
	`__n⁄nuŒ
 ((1, 2));

280 #ifde‡
__USE_POSIX199309


285 
	$sigwaôöfo
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

286 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

293 
	$sigtimedwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

294 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

295 
__c⁄°
 
time•ec
 *
__ª°ri˘
 
__timeout
)

296 
	`__n⁄nuŒ
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__c⁄°
 
sigvÆ
 
__vÆ
)

301 
__THROW
;

306 #ifde‡
__USE_BSD


310 
__c⁄°
 *__c⁄° 
_sys_sigli°
[
_NSIG
];

311 
__c⁄°
 *__c⁄° 
sys_sigli°
[
_NSIG
];

314 
	ssigvec


316 
__sigh™dÀr_t
 
sv_h™dÀr
;

317 
sv_mask
;

319 
sv_Êags
;

320 
	#sv_⁄°ack
 
sv_Êags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__c⁄°
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec
Ë
__THROW
;

339 
	~<bôs/sigc⁄ãxt.h
>

342 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

347 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


348 
	#__√ed_size_t


	)

349 
	~<°ddef.h
>

354 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

356 
	~<bôs/sig°ack.h
>

357 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


359 
	~<sys/uc⁄ãxt.h
>

365 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

366 
__THROW
 
__©åibuã_dïªˇãd__
;

370 
	$sigÆt°ack
 (
__c⁄°
 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

371 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

375 #ifde‡
__USE_XOPEN_EXTENDED


379 
	$sighﬁd
 (
__sig
Ë
__THROW
;

382 
	$sigªl£
 (
__sig
Ë
__THROW
;

385 
	$sigign‹e
 (
__sig
Ë
__THROW
;

388 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

391 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


394 
	~<bôs/±hªadty≥s.h
>

395 
	~<bôs/sigthªad.h
>

402 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

404 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

408 
__END_DECLS


	@/usr/include/stdio.h

24 #i‚de‡
_STDIO_H


26 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	#__√ed_size_t


	)

33 
	#__√ed_NULL


	)

34 
	~<°ddef.h
>

36 
	~<bôs/ty≥s.h
>

37 
	#__√ed_FILE


	)

38 
	#__√ed___FILE


	)

42 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

52 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

53 || 
deföed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_deföed
 1

	)

59 #unde‡
__√ed_FILE


62 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_deföed
 1

	)

69 #unde‡
__√ed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


78 #ifde‡
__GNUC__


79 #i‚de‡
_VA_LIST_DEFINED


80 
_G_va_li°
 
	tva_li°
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<°d¨g.h
>

88 #ifde‡
__USE_XOPEN2K8


89 #i‚de‡
__off_t_deföed


90 #i‚de‡
__USE_FILE_OFFSET64


91 
__off_t
 
	toff_t
;

93 
__off64_t
 
	toff_t
;

95 
	#__off_t_deföed


	)

97 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


98 
__off64_t
 
	toff64_t
;

99 
	#__off64_t_deföed


	)

102 #i‚de‡
__ssize_t_deföed


103 
__ssize_t
 
	tssize_t
;

104 
	#__ssize_t_deföed


	)

109 
__BEGIN_NAMESPACE_STD


110 #i‚de‡
__USE_FILE_OFFSET64


111 
_G_Âos_t
 
	tÂos_t
;

113 
_G_Âos64_t
 
	tÂos_t
;

115 
__END_NAMESPACE_STD


116 #ifde‡
__USE_LARGEFILE64


117 
_G_Âos64_t
 
	tÂos64_t
;

121 
	#_IOFBF
 0

	)

122 
	#_IOLBF
 1

	)

123 
	#_IONBF
 2

	)

127 #i‚de‡
BUFSIZ


128 
	#BUFSIZ
 
_IO_BUFSIZ


	)

134 #i‚de‡
EOF


135 
	#EOF
 (-1)

	)

141 
	#SEEK_SET
 0

	)

142 
	#SEEK_CUR
 1

	)

143 
	#SEEK_END
 2

	)

144 #ifde‡
__USE_GNU


145 
	#SEEK_DATA
 3

	)

146 
	#SEEK_HOLE
 4

	)

150 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


152 
	#P_tmpdú
 "/tmp"

	)

165 
	~<bôs/°dio_lim.h
>

169 
_IO_FILE
 *
°dö
;

170 
_IO_FILE
 *
°dout
;

171 
_IO_FILE
 *
°dîr
;

173 
	#°dö
 
°dö


	)

174 
	#°dout
 
°dout


	)

175 
	#°dîr
 
°dîr


	)

177 
__BEGIN_NAMESPACE_STD


179 
	$ªmove
 (
__c⁄°
 *
__fûíame
Ë
__THROW
;

181 
	$ª«me
 (
__c⁄°
 *
__ﬁd
, __c⁄° *
__√w
Ë
__THROW
;

182 
__END_NAMESPACE_STD


184 #ifde‡
__USE_ATFILE


186 
	$ª«mót
 (
__ﬁdfd
, 
__c⁄°
 *
__ﬁd
, 
__√wfd
,

187 
__c⁄°
 *
__√w
Ë
__THROW
;

190 
__BEGIN_NAMESPACE_STD


195 #i‚de‡
__USE_FILE_OFFSET64


196 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

198 #ifde‡
__REDIRECT


199 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

201 
	#tmpfûe
 
tmpfûe64


	)

205 #ifde‡
__USE_LARGEFILE64


206 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

210 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

211 
__END_NAMESPACE_STD


213 #ifde‡
__USE_MISC


216 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

220 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


228 *
	$ãm≤am
 (
__c⁄°
 *
__dú
, __c⁄° *
__pfx
)

229 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

233 
__BEGIN_NAMESPACE_STD


238 
	`f˛o£
 (
FILE
 *
__°ªam
);

243 
	`fÊush
 (
FILE
 *
__°ªam
);

244 
__END_NAMESPACE_STD


246 #ifde‡
__USE_MISC


253 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

256 #ifde‡
__USE_GNU


263 
	`f˛o£Æl
 ();

267 
__BEGIN_NAMESPACE_STD


268 #i‚de‡
__USE_FILE_OFFSET64


273 
FILE
 *
	$f›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

274 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

279 
FILE
 *
	$‰e›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

280 
__c⁄°
 *
__ª°ri˘
 
__modes
,

281 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

283 #ifde‡
__REDIRECT


284 
FILE
 *
	`__REDIRECT
 (
f›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

285 
__c⁄°
 *
__ª°ri˘
 
__modes
), 
f›í64
)

286 
__wur
;

287 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

288 
__c⁄°
 *
__ª°ri˘
 
__modes
,

289 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

290 
__wur
;

292 
	#f›í
 
f›í64


	)

293 
	#‰e›í
 
‰e›í64


	)

296 
__END_NAMESPACE_STD


297 #ifde‡
__USE_LARGEFILE64


298 
FILE
 *
	$f›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

299 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

300 
FILE
 *
	$‰e›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

301 
__c⁄°
 *
__ª°ri˘
 
__modes
,

302 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

305 #ifdef 
__USE_POSIX


307 
FILE
 *
	$fd›í
 (
__fd
, 
__c⁄°
 *
__modes
Ë
__THROW
 
__wur
;

310 #ifdef 
__USE_GNU


313 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

314 
__c⁄°
 *
__ª°ri˘
 
__modes
,

315 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

318 #ifde‡
__USE_XOPEN2K8


320 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, 
__c⁄°
 *
__modes
)

321 
__THROW
 
__wur
;

326 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

330 
__BEGIN_NAMESPACE_STD


333 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

337 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

338 
__modes
, 
size_t
 
__n
Ë
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdef 
__USE_BSD


344 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

345 
size_t
 
__size
Ë
__THROW
;

348 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

352 
__BEGIN_NAMESPACE_STD


357 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

358 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

363 
	`¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

365 
	$•rötf
 (*
__ª°ri˘
 
__s
,

366 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

372 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

373 
_G_va_li°
 
__¨g
);

378 
	`v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

380 
	$v•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

381 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

382 
__END_NAMESPACE_STD


384 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


385 
__BEGIN_NAMESPACE_C99


387 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

388 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

389 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

391 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

392 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

393 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

394 
__END_NAMESPACE_C99


397 #ifde‡
__USE_GNU


400 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__f
,

401 
_G_va_li°
 
__¨g
)

402 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

403 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

404 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

405 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

406 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

407 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

408 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

411 #ifde‡
__USE_XOPEN2K8


418 
	$vd¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
,

419 
_G_va_li°
 
__¨g
)

420 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

421 
	$d¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

422 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

426 
__BEGIN_NAMESPACE_STD


431 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

432 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

437 
	$sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

439 
	$ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

440 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

442 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

443 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

444 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

445 #ifde‡
__REDIRECT


449 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

450 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

451 
__isoc99_fsˇnf
Ë
__wur
;

452 
	`__REDIRECT
 (
sˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

453 
__isoc99_sˇnf
Ë
__wur
;

454 
	`__REDIRECT_NTH
 (
ssˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__s
,

455 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

456 
__isoc99_ssˇnf
);

458 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

459 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

460 
	$__isoc99_sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

461 
	$__isoc99_ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

462 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

463 
	#fsˇnf
 
__isoc99_fsˇnf


	)

464 
	#sˇnf
 
__isoc99_sˇnf


	)

465 
	#ssˇnf
 
__isoc99_ssˇnf


	)

469 
__END_NAMESPACE_STD


471 #ifdef 
__USE_ISOC99


472 
__BEGIN_NAMESPACE_C99


477 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

478 
_G_va_li°
 
__¨g
)

479 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

485 
	$vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

486 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

489 
	$vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

490 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

491 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

493 #i‡!
deföed
 
__USE_GNU
 \

494 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

495 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

496 #ifde‡
__REDIRECT


500 
	`__REDIRECT
 (
vfsˇnf
,

501 (
FILE
 *
__ª°ri˘
 
__s
,

502 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

503 
__isoc99_vfsˇnf
)

504 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

505 
	`__REDIRECT
 (
vsˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

506 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

507 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

508 
	`__REDIRECT_NTH
 (
vssˇnf
,

509 (
__c⁄°
 *
__ª°ri˘
 
__s
,

510 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

511 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

512 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

514 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

515 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

516 
_G_va_li°
 
__¨g
Ë
__wur
;

517 
	$__isoc99_vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

518 
_G_va_li°
 
__¨g
Ë
__wur
;

519 
	$__isoc99_vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

520 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

521 
_G_va_li°
 
__¨g
Ë
__THROW
;

522 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

523 
	#vsˇnf
 
__isoc99_vsˇnf


	)

524 
	#vssˇnf
 
__isoc99_vssˇnf


	)

528 
__END_NAMESPACE_C99


532 
__BEGIN_NAMESPACE_STD


537 
	`fgëc
 (
FILE
 *
__°ªam
);

538 
	`gëc
 (
FILE
 *
__°ªam
);

544 
	`gëch¨
 ();

545 
__END_NAMESPACE_STD


549 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

551 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


556 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

557 
	`gëch¨_u∆ocked
 ();

560 #ifde‡
__USE_MISC


567 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

571 
__BEGIN_NAMESPACE_STD


579 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

586 
	`putch¨
 (
__c
);

587 
__END_NAMESPACE_STD


591 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

593 #ifde‡
__USE_MISC


600 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


608 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

609 
	`putch¨_u∆ocked
 (
__c
);

613 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

614 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

616 
	`gëw
 (
FILE
 *
__°ªam
);

619 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

623 
__BEGIN_NAMESPACE_STD


628 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

629 
__wur
;

636 *
	$gës
 (*
__s
Ë
__wur
;

637 
__END_NAMESPACE_STD


639 #ifde‡
__USE_GNU


646 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

647 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

651 #ifdef 
__USE_XOPEN2K8


662 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

663 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

664 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

665 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

675 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

676 
size_t
 *
__ª°ri˘
 
__n
,

677 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

681 
__BEGIN_NAMESPACE_STD


686 
	`Âuts
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

692 
	`puts
 (
__c⁄°
 *
__s
);

699 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

706 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

707 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

712 
size_t
 
	`fwrôe
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

713 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

714 
__END_NAMESPACE_STD


716 #ifde‡
__USE_GNU


723 
	`Âuts_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

724 
FILE
 *
__ª°ri˘
 
__°ªam
);

727 #ifde‡
__USE_MISC


734 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

735 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

736 
size_t
 
	`fwrôe_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

737 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

741 
__BEGIN_NAMESPACE_STD


746 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

751 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

756 
	`ªwöd
 (
FILE
 *
__°ªam
);

757 
__END_NAMESPACE_STD


764 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


765 #i‚de‡
__USE_FILE_OFFSET64


770 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

775 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

777 #ifde‡
__REDIRECT


778 
	`__REDIRECT
 (
f£eko
,

779 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

780 
f£eko64
);

781 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

783 
	#f£eko
 
f£eko64


	)

784 
	#·ñlo
 
·ñlo64


	)

789 
__BEGIN_NAMESPACE_STD


790 #i‚de‡
__USE_FILE_OFFSET64


795 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

800 
	`f£ços
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
);

802 #ifde‡
__REDIRECT


803 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

804 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

805 
	`__REDIRECT
 (
f£ços
,

806 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
), 
f£ços64
);

808 
	#fgëpos
 
fgëpos64


	)

809 
	#f£ços
 
f£ços64


	)

812 
__END_NAMESPACE_STD


814 #ifde‡
__USE_LARGEFILE64


815 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

816 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

817 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

818 
	`f£ços64
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos64_t
 *
__pos
);

821 
__BEGIN_NAMESPACE_STD


823 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

825 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

827 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

828 
__END_NAMESPACE_STD


830 #ifde‡
__USE_MISC


832 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

833 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

834 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

838 
__BEGIN_NAMESPACE_STD


843 
	`≥º‹
 (
__c⁄°
 *
__s
);

844 
__END_NAMESPACE_STD


850 
	~<bôs/sys_îæi°.h
>

853 #ifdef 
__USE_POSIX


855 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

858 #ifde‡
__USE_MISC


860 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

864 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

865 
deföed
 
__USE_MISC
)

870 
FILE
 *
	$p›í
 (
__c⁄°
 *
__comm™d
, __c⁄° *
__modes
Ë
__wur
;

876 
	`p˛o£
 (
FILE
 *
__°ªam
);

880 #ifdef 
__USE_POSIX


882 *
	$˘îmid
 (*
__s
Ë
__THROW
;

886 #ifde‡
__USE_XOPEN


888 *
	`cu£rid
 (*
__s
);

892 #ifdef 
__USE_GNU


893 
ob°ack
;

896 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

897 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

898 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

899 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

900 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

901 
_G_va_li°
 
__¨gs
)

902 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

906 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


910 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

914 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

917 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

920 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


924 
	#__√ed_gë›t


	)

925 
	~<gë›t.h
>

930 #ifde‡
__USE_EXTERN_INLINES


931 
	~<bôs/°dio.h
>

933 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


934 
	~<bôs/°dio2.h
>

936 #ifde‡
__LDBL_COMPAT


937 
	~<bôs/°dio-ldbl.h
>

940 
__END_DECLS


	@/usr/include/stdlib.h

23 #i‚def 
_STDLIB_H


25 
	~<„©uªs.h
>

28 
	#__√ed_size_t


	)

29 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


30 
	#__√ed_wch¨_t


	)

31 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	g__BEGIN_DECLS


37 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


38 
	#_STDLIB_H
 1

	)

40 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


42 
	~<bôs/waôÊags.h
>

43 
	~<bôs/waô°©us.h
>

45 #ifde‡
__USE_BSD


50 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


51 
	#__WAIT_INT
(
°©us
) \

52 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

53 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

55 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

63 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
waô
 *
	m__u±r
;

71 *
	m__ùå
;

72 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

90 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

91 #ifde‡
__WIFCONTINUED


92 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mquŸ
;

101 
	mªm
;

102 } 
	tdiv_t
;

105 #i‚de‡
__ldiv_t_deföed


108 
	mquŸ
;

109 
	mªm
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_deföed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


116 
__BEGIN_NAMESPACE_C99


118 
__exãnsi⁄__
 struct

120 
	mquŸ
;

121 
	mªm
;

122 } 
	tŒdiv_t
;

123 
	#__Œdiv_t_deföed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

140 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$©of
 (
__c⁄°
 *
__≈å
)

146 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

148 
	$©oi
 (
__c⁄°
 *
__≈å
)

149 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

151 
	$©ﬁ
 (
__c⁄°
 *
__≈å
)

152 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

153 
__END_NAMESPACE_STD


155 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__exãnsi⁄__
 
	$©ﬁl
 (
__c⁄°
 *
__≈å
)

159 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$°πod
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

166 **
__ª°ri˘
 
__íd±r
)

167 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$°πof
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

174 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

176 
	$°πﬁd
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

177 **
__ª°ri˘
 
__íd±r
)

178 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$°πﬁ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

185 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

186 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

188 
	$°πoul
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

189 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

190 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

191 
__END_NAMESPACE_STD


193 #i‡
deföed
 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_BSD


195 
__exãnsi⁄__


196 
	$°πoq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

197 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

198 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

200 
__exãnsi⁄__


201 
	$°πouq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

202 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

203 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

206 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__exãnsi⁄__


210 
	$°πﬁl
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

211 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

212 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

214 
__exãnsi⁄__


215 
	$°πouŒ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

216 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

217 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

218 
__END_NAMESPACE_C99


222 #ifde‡
__USE_GNU


236 
	~<xloˇÀ.h
>

240 
	$°πﬁ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

241 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

242 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

244 
	$°πoul_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

245 **
__ª°ri˘
 
__íd±r
,

246 
__ba£
, 
__loˇÀ_t
 
__loc
)

247 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

249 
__exãnsi⁄__


250 
	$°πﬁl_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

251 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

252 
__loˇÀ_t
 
__loc
)

253 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

255 
__exãnsi⁄__


256 
	$°πouŒ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

257 **
__ª°ri˘
 
__íd±r
,

258 
__ba£
, 
__loˇÀ_t
 
__loc
)

259 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

261 
	$°πod_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

262 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

263 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

265 
	$°πof_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

266 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

267 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

269 
	$°πﬁd_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

270 **
__ª°ri˘
 
__íd±r
,

271 
__loˇÀ_t
 
__loc
)

272 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

276 #ifde‡
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__exã∫_ölöe
 

279 
	`__NTH
 (
	$©of
 (
__c⁄°
 *
__≈å
))

281  
	`°πod
 (
__≈å
, (**Ë
NULL
);

282 
	}
}

283 
__exã∫_ölöe
 

284 
__NTH
 (
	$©oi
 (
__c⁄°
 *
__≈å
))

286  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

287 
	}
}

288 
__exã∫_ölöe
 

289 
__NTH
 (
	$©ﬁ
 (
__c⁄°
 *
__≈å
))

291  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__exãnsi⁄__
 
__exã∫_ölöe
 

298 
__NTH
 (
	$©ﬁl
 (
__c⁄°
 *
__≈å
))

300  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

314 
	$a64l
 (
__c⁄°
 *
__s
)

315 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

319 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


320 
	~<sys/ty≥s.h
>

327 
	$øndom
 (Ë
__THROW
;

330 
	$§™dom
 (
__£ed
Ë
__THROW
;

336 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

337 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

341 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

344 #ifde‡
__USE_MISC


349 
	søndom_d©a


351 
öt32_t
 *
Âå
;

352 
öt32_t
 *
Ωå
;

353 
öt32_t
 *
°©e
;

354 
ønd_ty≥
;

355 
ønd_deg
;

356 
ønd_£p
;

357 
öt32_t
 *
íd_±r
;

360 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

361 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

363 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

364 
__THROW
 
	`__n⁄nuŒ
 ((2));

366 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

367 
size_t
 
__°©ñí
,

368 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

369 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

371 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

372 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

373 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$ønd
 (Ë
__THROW
;

382 
	$§™d
 (
__£ed
Ë
__THROW
;

383 
__END_NAMESPACE_STD


385 #ifde‡
__USE_POSIX


387 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

391 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


395 
	$dønd48
 (Ë
__THROW
;

396 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

399 
	$Ã™d48
 (Ë
__THROW
;

400 
	$ƒ™d48
 (
__xsubi
[3])

401 
__THROW
 
	`__n⁄nuŒ
 ((1));

404 
	$mønd48
 (Ë
__THROW
;

405 
	$jønd48
 (
__xsubi
[3])

406 
__THROW
 
	`__n⁄nuŒ
 ((1));

409 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

410 *
	$£ed48
 (
__£ed16v
[3])

411 
__THROW
 
	`__n⁄nuŒ
 ((1));

412 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

414 #ifde‡
__USE_MISC


418 
	sdønd48_d©a


420 
__x
[3];

421 
__ﬁd_x
[3];

422 
__c
;

423 
__öô
;

424 
__a
;

428 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

429 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

430 
	$î™d48_r
 (
__xsubi
[3],

431 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

432 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

435 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

436 *
__ª°ri˘
 
__ªsu…
)

437 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

438 
	$ƒ™d48_r
 (
__xsubi
[3],

439 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

440 *
__ª°ri˘
 
__ªsu…
)

441 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

444 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

445 *
__ª°ri˘
 
__ªsu…
)

446 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

447 
	$jønd48_r
 (
__xsubi
[3],

448 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

449 *
__ª°ri˘
 
__ªsu…
)

450 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

453 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

454 
__THROW
 
	`__n⁄nuŒ
 ((2));

456 
	$£ed48_r
 (
__£ed16v
[3],

457 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$lc⁄g48_r
 (
__∑øm
[7],

460 
dønd48_d©a
 *
__buf„r
)

461 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

467 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


468 
	#__mÆloc_™d_ˇŒoc_deföed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

473 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

474 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


479 
__BEGIN_NAMESPACE_STD


485 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

486 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

488 
	$‰ì
 (*
__±r
Ë
__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$c‰ì
 (*
__±r
Ë
__THROW
;

496 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


497 
	~<Æloˇ.h
>

500 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

501 || 
deföed
 
__USE_BSD


503 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

506 #ifde‡
__USE_XOPEN2K


508 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

509 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

512 
__BEGIN_NAMESPACE_STD


514 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

518 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

520 #ifde‡
__USE_GNU


524 #ifde‡
__˝lu•lus


525 "C++" 
	`©_quick_exô
 ((*
__func
) ())

526 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

528 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

531 
__END_NAMESPACE_STD


533 #ifdef 
__USE_MISC


536 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

537 
__THROW
 
	`__n⁄nuŒ
 ((1));

540 
__BEGIN_NAMESPACE_STD


544 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

546 #ifde‡
__USE_GNU


552 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

554 
__END_NAMESPACE_STD


556 #ifde‡
__USE_ISOC99


557 
__BEGIN_NAMESPACE_C99


560 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

561 
__END_NAMESPACE_C99


565 
__BEGIN_NAMESPACE_STD


567 *
	$gëív
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

568 
__END_NAMESPACE_STD


572 *
	$__£cuª_gëív
 (
__c⁄°
 *
__«me
)

573 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

575 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


579 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

582 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


585 
	$£ãnv
 (
__c⁄°
 *
__«me
, __c⁄° *
__vÆue
, 
__ª∂a˚
)

586 
__THROW
 
	`__n⁄nuŒ
 ((2));

589 
	$un£ãnv
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

592 #ifdef 
__USE_MISC


596 
	$˛óªnv
 (Ë
__THROW
;

600 #i‡
deföed
 
__USE_MISC
 \

601 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
)

606 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

609 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 \

610 || 
deföed
 
__USE_XOPEN2K8


619 #i‚de‡
__USE_FILE_OFFSET64


620 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

622 #ifde‡
__REDIRECT


623 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

624 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

626 
	#mk°emp
 
mk°emp64


	)

629 #ifde‡
__USE_LARGEFILE64


630 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

634 #ifde‡
__USE_MISC


641 #i‚de‡
__USE_FILE_OFFSET64


642 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

644 #ifde‡
__REDIRECT


645 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

646 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

648 
	#mk°emps
 
mk°emps64


	)

651 #ifde‡
__USE_LARGEFILE64


652 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

653 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

657 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


663 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

666 #ifde‡
__USE_GNU


673 #i‚de‡
__USE_FILE_OFFSET64


674 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

676 #ifde‡
__REDIRECT


677 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

678 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

680 
	#mko°emp
 
mko°emp64


	)

683 #ifde‡
__USE_LARGEFILE64


684 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

693 #i‚de‡
__USE_FILE_OFFSET64


694 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

695 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

697 #ifde‡
__REDIRECT


698 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

699 
__Êags
), 
mko°emps64
)

700 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

702 
	#mko°emps
 
mko°emps64


	)

705 #ifde‡
__USE_LARGEFILE64


706 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

707 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy°em
 (
__c⁄°
 *
__comm™d
Ë
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ˇn⁄iˇlize_fûe_«me
 (
__c⁄°
 *
__«me
)

725 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

728 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


734 *
	$ªÆ∑th
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

735 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

740 #i‚de‡
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com∑r_‚_t
Ë(
	t__c⁄°
 *, __const *);

744 #ifdef 
__USE_GNU


745 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

748 #ifde‡
__USE_GNU


749 (*
	t__com∑r_d_‚_t
Ë(
	t__c⁄°
 *, __const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¨ch
 (
__c⁄°
 *
__key
, __c⁄° *
__ba£
,

756 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

757 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

761 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

762 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

763 #ifde‡
__USE_GNU


764 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

765 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

766 
	`__n⁄nuŒ
 ((1, 4));

771 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

772 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

773 
__END_NAMESPACE_STD


775 #ifde‡
__USE_ISOC99


776 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

777 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

781 
__BEGIN_NAMESPACE_STD


785 
div_t
 
	$div
 (
__numî
, 
__díom
)

786 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

787 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

788 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

789 
__END_NAMESPACE_STD


791 #ifde‡
__USE_ISOC99


792 
__BEGIN_NAMESPACE_C99


793 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

794 
__díom
)

795 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

796 
__END_NAMESPACE_C99


800 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

801 || 
deföed
 
__USE_SVID


808 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

809 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

814 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

815 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

820 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

821 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

824 #ifde‡
__USE_MISC


826 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

827 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

828 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

829 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

830 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

831 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

832 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

833 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

838 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

839 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

840 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

841 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

842 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

843 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

845 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

846 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

847 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

848 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

849 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

850 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

851 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

852 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

857 
__BEGIN_NAMESPACE_STD


860 
	$mbÀn
 (
__c⁄°
 *
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

863 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

864 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

867 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
 
__wur
;

871 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

872 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

874 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

875 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

876 
__THROW
;

877 
__END_NAMESPACE_STD


880 #ifde‡
__USE_SVID


885 
	$Ωm©ch
 (
__c⁄°
 *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

889 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


896 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

897 *
__c⁄°
 *
__ª°ri˘
 
__tokís
,

898 **
__ª°ri˘
 
__vÆuï
)

899 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

903 #ifde‡
__USE_XOPEN


905 
	$£tkey
 (
__c⁄°
 *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

911 #ifde‡
__USE_XOPEN2KXSI


913 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

916 #ifde‡
__USE_XOPEN


921 
	$gø¡±
 (
__fd
Ë
__THROW
;

925 
	$u∆ock±
 (
__fd
Ë
__THROW
;

930 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

933 #ifde‡
__USE_GNU


937 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

938 
__THROW
 
	`__n⁄nuŒ
 ((2));

941 
	`gë±
 ();

944 #ifde‡
__USE_BSD


948 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

949 
__THROW
 
	`__n⁄nuŒ
 ((1));

954 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


955 
	~<bôs/°dlib.h
>

957 #ifde‡
__LDBL_COMPAT


958 
	~<bôs/°dlib-ldbl.h
>

962 #unde‡
__√ed_mÆloc_™d_ˇŒoc


964 
__END_DECLS


	@/usr/include/string.h

24 #i‚def 
_STRING_H


25 
	#_STRING_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


32 
	#__√ed_size_t


	)

33 
	#__√ed_NULL


	)

34 
	~<°ddef.h
>

37 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

38 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 
__BEGIN_NAMESPACE_STD


44 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
,

45 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

46 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

49 *
	$memmove
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
)

50 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

51 
__END_NAMESPACE_STD


56 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


57 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

58 
__c
, 
size_t
 
__n
)

59 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

63 
__BEGIN_NAMESPACE_STD


65 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

68 
	$memcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

69 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

72 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


75 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

76 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 
__c⁄°
 *
	`memchr
 (__c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

78 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

80 #ifde‡
__OPTIMIZE__


81 
__exã∫_Æways_ölöe
 *

82 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


84  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

87 
__exã∫_Æways_ölöe
 
__c⁄°
 *

88 
	`memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


90  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

93 
	}
}

95 *
	$memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

96 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

98 
__END_NAMESPACE_STD


100 #ifde‡
__USE_GNU


103 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


104 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

105 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 "C++" 
__c⁄°
 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

107 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

109 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

110 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


115 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

116 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 "C++" 
__c⁄°
 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

120 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

121 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

126 
__BEGIN_NAMESPACE_STD


128 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

129 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

131 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

132 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

133 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

137 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

139 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

140 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°rcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

146 
	$°∫cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

147 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
	$°rcﬁl
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

151 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

153 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

154 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

155 
__THROW
 
	`__n⁄nuŒ
 ((2));

156 
__END_NAMESPACE_STD


158 #ifde‡
__USE_XOPEN2K8


162 
	~<xloˇÀ.h
>

165 
	$°rcﬁl_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

166 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

168 
size_t
 
	$°rx‰m_l
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
,

169 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

172 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

173 || 
deföed
 
__USE_XOPEN2K8


175 *
	$°rdup
 (
__c⁄°
 *
__s
)

176 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

182 #i‡
deföed
 
__USE_XOPEN2K8


183 *
	$°∫dup
 (
__c⁄°
 *
__°rög
, 
size_t
 
__n
)

184 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

187 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


189 
	#°rdu∑
(
s
) \

190 (
__exãnsi⁄__
 \

192 
__c⁄°
 *
__ﬁd
 = (
s
); \

193 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

194 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

195 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

196 
	}
}))

	)

199 
	#°∫du∑
(
s
, 
n
) \

200 (
__exãnsi⁄__
 \

202 
__c⁄°
 *
__ﬁd
 = (
s
); \

203 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

204 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

205 
__√w
[
__Àn
] = '\0'; \

206 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

207 }))

	)

210 
	g__BEGIN_NAMESPACE_STD


212 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


215 *
°rchr
 (*
__s
, 
__c
)

216 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

217 
__c⁄°
 *
°rchr
 (__c⁄° *
__s
, 
__c
)

218 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

220 #ifde‡
__OPTIMIZE__


221 
__exã∫_Æways_ölöe
 *

222 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


224  
__buûtö_°rchr
 (
__s
, 
__c
);

227 
__exã∫_Æways_ölöe
 
__c⁄°
 *

228 
°rchr
 (
__c⁄°
 *
__s
, 
__c
Ë
	g__THROW


230  
__buûtö_°rchr
 (
__s
, 
__c
);

235 *
	$°rchr
 (
__c⁄°
 *
__s
, 
__c
)

236 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

239 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


242 *
	`°ºchr
 (*
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

244 
__c⁄°
 *
	`°ºchr
 (__c⁄° *
__s
, 
__c
)

245 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

247 #ifde‡
__OPTIMIZE__


248 
__exã∫_Æways_ölöe
 *

249 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


251  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

254 
__exã∫_Æways_ölöe
 
__c⁄°
 *

255 
	`°ºchr
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


257  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

260 
	}
}

262 *
	$°ºchr
 (
__c⁄°
 *
__s
, 
__c
)

263 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

265 
__END_NAMESPACE_STD


267 #ifde‡
__USE_GNU


270 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


271 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

273 "C++" 
__c⁄°
 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

274 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

276 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

277 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

281 
__BEGIN_NAMESPACE_STD


284 
size_t
 
	$°rc•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ªje˘
)

285 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

288 
size_t
 
	$°r•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

289 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

291 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


294 *
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
)

295 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

296 
__c⁄°
 *
	`°Ωbrk
 (__c⁄° *
__s
, __c⁄° *
__ac˚±
)

297 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

299 #ifde‡
__OPTIMIZE__


300 
__exã∫_Æways_ölöe
 *

301 
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
Ë
__THROW


303  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

306 
__exã∫_Æways_ölöe
 
__c⁄°
 *

307 
	`°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
Ë
__THROW


309  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

312 
	}
}

314 *
	$°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

315 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

318 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


321 *
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

322 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

323 
__c⁄°
 *
	`°r°r
 (__c⁄° *
__hay°ack
,

324 
__c⁄°
 *
__√edÀ
)

325 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

327 #ifde‡
__OPTIMIZE__


328 
__exã∫_Æways_ölöe
 *

329 
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
Ë
__THROW


331  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

334 
__exã∫_Æways_ölöe
 
__c⁄°
 *

335 
	`°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
Ë
__THROW


337  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

340 
	}
}

342 *
	$°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

343 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

348 *
	$°πok
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
)

349 
__THROW
 
	`__n⁄nuŒ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

355 
__c⁄°
 *
__ª°ri˘
 
__dñim
,

356 **
__ª°ri˘
 
__ßve_±r
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

358 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


359 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
,

360 **
__ª°ri˘
 
__ßve_±r
)

361 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

364 #ifde‡
__USE_GNU


366 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

368 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

369 "C++" 
__c⁄°
 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
,

370 
__c⁄°
 *
__√edÀ
)

371 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

374 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

378 #ifde‡
__USE_GNU


382 *
	$memmem
 (
__c⁄°
 *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

383 
__c⁄°
 *
__√edÀ
, 
size_t
 
__√edÀÀn
)

384 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

388 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

389 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

390 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

391 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

392 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

393 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$°æí
 (
__c⁄°
 *
__s
)

400 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$°∫Àn
 (
__c⁄°
 *
__°rög
, 
size_t
 
__maxÀn
)

407 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

414 
__END_NAMESPACE_STD


415 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


423 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


426 #ifde‡
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

428 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

429 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

431 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

433 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

438 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

439 
__THROW
 
	`__n⁄nuŒ
 ((2));

443 #ifde‡
__USE_XOPEN2K8


445 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

451 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

453 #ifde‡
__USE_BSD


455 
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__n
)

456 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

462 
	$bcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

466 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`ödex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

471 
__c⁄°
 *
	`ödex
 (__c⁄° *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

474 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__exã∫_Æways_ölöe
 *

476 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


478  
	`__buûtö_ödex
 (
__s
, 
__c
);

481 
__exã∫_Æways_ölöe
 
__c⁄°
 *

482 
	`ödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


484  
	`__buûtö_ödex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$ödex
 (
__c⁄°
 *
__s
, 
__c
)

490 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`rödex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

499 
__c⁄°
 *
	`rödex
 (__c⁄° *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

502 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__exã∫_Æways_ölöe
 *

504 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


506  
	`__buûtö_rödex
 (
__s
, 
__c
);

509 
__exã∫_Æways_ölöe
 
__c⁄°
 *

510 
	`rödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


512  
	`__buûtö_rödex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$rödex
 (
__c⁄°
 *
__s
, 
__c
)

518 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

523 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

527 #ifdef 
__USE_GNU


528 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 #ifde‡
__GNUC__


530 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

531 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

536 
	$°rˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

537 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

540 
	$°∫ˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

541 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

544 #ifdef 
__USE_GNU


547 
	$°rˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

548 
__loˇÀ_t
 
__loc
)

549 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

551 
	$°∫ˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

552 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

553 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

556 #ifdef 
__USE_BSD


559 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

560 
__c⁄°
 *
__ª°ri˘
 
__dñim
)

561 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

564 #ifdef 
__USE_XOPEN2K8


566 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

569 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

571 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

572 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

576 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

577 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

578 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

579 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

580 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

581 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

584 #ifdef 
__USE_GNU


586 
	$°rvîscmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

587 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

590 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

593 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

595 #i‚de‡
ba£«me


600 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


601 "C++" *
	$ba£«me
 (*
__fûíame
)

602 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

603 "C++" 
__c⁄°
 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
)

604 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

606 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

612 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

613 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

614 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


634 
	~<bôs/°rög.h
>

637 
	~<bôs/°rög2.h
>

640 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


642 
	~<bôs/°rög3.h
>

646 
__END_DECLS


	@/usr/include/sys/file.h

19 #i‚def 
_SYS_FILE_H


20 
	#_SYS_FILE_H
 1

	)

22 
	~<„©uªs.h
>

24 #i‚def 
_FCNTL_H


25 
	~<f˙é.h
>

28 
	g__BEGIN_DECLS


33 #i‚de‡
L_SET


34 
	#L_SET
 0

	)

35 
	#L_INCR
 1

	)

36 
	#L_XTND
 2

	)

41 
	#LOCK_SH
 1

	)

42 
	#LOCK_EX
 2

	)

43 
	#LOCK_UN
 8

	)

46 
	#LOCK_NB
 4

	)

51 
	$Êock
 (
__fd
, 
__›î©i⁄
Ë
__THROW
;

54 
__END_DECLS


	@/usr/include/sys/ioctl.h

19 #i‚def 
_SYS_IOCTL_H


20 
	#_SYS_IOCTL_H
 1

	)

22 
	~<„©uªs.h
>

24 
	g__BEGIN_DECLS


27 
	~<bôs/io˘ls.h
>

30 
	~<bôs/io˘l-ty≥s.h
>

37 
	~<sys/âydeÁu…s.h
>

42 
	$io˘l
 (
__fd
, 
__ªque°
, ...Ë
__THROW
;

44 
__END_DECLS


	@/usr/include/sys/ipc.h

19 #i‚de‡
_SYS_IPC_H


20 
	#_SYS_IPC_H
 1

	)

22 
	~<„©uªs.h
>

24 #i‡!
deföed
 
__USE_SVID
 && !deföed 
__USE_XOPEN
 && 
__GNUC__
 >= 2

29 
	~<bôs/ù˘y≥s.h
>

30 
	~<bôs/ùc.h
>

32 #i‚de‡
__uid_t_deföed


33 
__uid_t
 
	tuid_t
;

34 
	#__uid_t_deföed


	)

37 #i‚de‡
__gid_t_deföed


38 
__gid_t
 
	tgid_t
;

39 
	#__gid_t_deföed


	)

42 #i‚de‡
__mode_t_deföed


43 
__mode_t
 
	tmode_t
;

44 
	#__mode_t_deföed


	)

47 #i‚de‡
__key_t_deföed


48 
__key_t
 
	tkey_t
;

49 
	#__key_t_deföed


	)

52 
__BEGIN_DECLS


55 
key_t
 
	$·ok
 (
__c⁄°
 *
__∑th«me
, 
__¥oj_id
Ë
__THROW
;

57 
__END_DECLS


	@/usr/include/sys/msg.h

20 #i‚de‡
_SYS_MSG_H


21 
	#_SYS_MSG_H


	)

23 
	~<„©uªs.h
>

25 
	#__√ed_size_t


	)

26 
	~<°ddef.h
>

29 
	~<sys/ùc.h
>

32 
	~<bôs/msq.h
>

35 
	#__√ed_time_t


	)

36 
	~<time.h
>

38 #i‚de‡
__pid_t_deföed


39 
__pid_t
 
	tpid_t
;

40 
	#__pid_t_deföed


	)

43 #i‚de‡
__ssize_t_deföed


44 
__ssize_t
 
	tssize_t
;

45 
	#__ssize_t_deföed


	)

51 #ifde‡
__USE_GNU


53 
	smsgbuf


55 
	mmty≥
;

56 
	mmãxt
[1];

61 
__BEGIN_DECLS


64 
	$msg˘l
 (
__msqid
, 
__cmd
, 
msqid_ds
 *
__buf
Ë
__THROW
;

67 
	$msggë
 (
key_t
 
__key
, 
__msgÊg
Ë
__THROW
;

73 
ssize_t
 
	`msgrcv
 (
__msqid
, *
__msgp
, 
size_t
 
__msgsz
,

74 
__msgtyp
, 
__msgÊg
);

80 
	`msg¢d
 (
__msqid
, 
__c⁄°
 *
__msgp
, 
size_t
 
__msgsz
,

81 
__msgÊg
);

83 
__END_DECLS


	@/usr/include/sys/param.h

20 #i‚de‡
_SYS_PARAM_H


21 
	#_SYS_PARAM_H
 1

	)

23 #i‚de‡
ARG_MAX


24 
	#__undef_ARG_MAX


	)

27 
	~<limôs.h
>

28 
	~<löux/limôs.h
>

29 
	~<löux/∑øm.h
>

32 #ifde‡
__undef_ARG_MAX


33 #unde‡
ARG_MAX


34 #unde‡
__undef_ARG_MAX


39 
	#NBBY
 
CHAR_BIT


	)

40 #i‚def 
NGROUPS


41 
	#NGROUPS
 
NGROUPS_MAX


	)

43 
	#MAXSYMLINKS
 20

	)

44 
	#CANBSIZ
 
MAX_CANON


	)

45 
	#MAXPATHLEN
 
PATH_MAX


	)

49 
	#NOFILE
 256

	)

50 
	#NCARGS
 131072

	)

53 
	~<sys/ty≥s.h
>

56 
	#£tbô
(
a
,
i
Ë(◊)[(i)/
NBBY
] |1<<((i)%NBBY))

	)

57 
	#˛rbô
(
a
,
i
Ë(◊)[(i)/
NBBY
] &~(1<<((i)%NBBY)))

	)

58 
	#is£t
(
a
,
i
Ë(◊)[(i)/
NBBY
] & (1<<((i)%NBBY)))

	)

59 
	#is˛r
(
a
,
i
Ë((◊)[(i)/
NBBY
] & (1<<((i)%NBBY))Ë=0)

	)

62 #i‚de‡
howm™y


63 
	#howm™y
(
x
, 
y
Ë(((xË+ ((yË- 1)Ë/ (y))

	)

65 #ifde‡
__GNUC__


66 
	#roundup
(
x
, 
y
Ë(
	`__buûtö_c⁄°™t_p
 (yË&& 
	`powîof2
 (y) \

67 ? (((
x
Ë+ (
y
) - 1) & ~((y) - 1)) \

68 : ((((
x
Ë+ ((
y
Ë- 1)Ë/ (y)Ë* (y)))

	)

70 
	#roundup
(
x
, 
y
Ë((((xË+ ((yË- 1)Ë/ (y)Ë* (y))

	)

72 
	#powîof2
(
x
Ë((((xË- 1Ë& (x)Ë=0)

	)

75 
	#MIN
(
a
,
b
Ë((◊)<(b))?◊):(b))

	)

76 
	#MAX
(
a
,
b
Ë((◊)>(b))?◊):(b))

	)

80 
	#DEV_BSIZE
 512

	)

	@/usr/include/sys/shm.h

19 #i‚de‡
_SYS_SHM_H


20 
	#_SYS_SHM_H
 1

	)

22 
	~<„©uªs.h
>

24 
	#__√ed_size_t


	)

25 
	~<°ddef.h
>

28 
	~<sys/ùc.h
>

31 
	~<bôs/shm.h
>

34 
	#__√ed_time_t


	)

35 
	~<time.h
>

37 #ifde‡
__USE_XOPEN


38 #i‚de‡
__pid_t_deföed


39 
__pid_t
 
	tpid_t
;

40 
	#__pid_t_deföed


	)

45 
__BEGIN_DECLS


51 
	$shm˘l
 (
__shmid
, 
__cmd
, 
shmid_ds
 *
__buf
Ë
__THROW
;

54 
	$shmgë
 (
key_t
 
__key
, 
size_t
 
__size
, 
__shmÊg
Ë
__THROW
;

57 *
	$shm©
 (
__shmid
, 
__c⁄°
 *
__shmaddr
, 
__shmÊg
)

58 
__THROW
;

61 
	$shmdt
 (
__c⁄°
 *
__shmaddr
Ë
__THROW
;

63 
__END_DECLS


	@/usr/include/sys/socket.h

21 #i‚def 
_SYS_SOCKET_H


22 
	#_SYS_SOCKET_H
 1

	)

24 
	~<„©uªs.h
>

26 
	g__BEGIN_DECLS


28 
	~<sys/uio.h
>

29 
	#__√ed_size_t


	)

30 
	~<°ddef.h
>

31 #ifde‡
__USE_GNU


33 
	~<bôs/sig£t.h
>

40 
	~<bôs/sockë.h
>

42 #ifde‡
__USE_BSD


45 
	sosockaddr


47 
	mß_Ámûy
;

48 
	mß_d©a
[14];

56 
	mSHUT_RD
 = 0,

57 
	#SHUT_RD
 
SHUT_RD


	)

58 
	mSHUT_WR
,

59 
	#SHUT_WR
 
SHUT_WR


	)

60 
	mSHUT_RDWR


61 
	#SHUT_RDWR
 
SHUT_RDWR


	)

70 #i‡
deföed
 
__˝lu•lus
 || !
__GNUC_PREREQ
 (2, 7Ë|| !deföed 
__USE_GNU


71 
	#__SOCKADDR_ARG
 
sockaddr
 *
__ª°ri˘


	)

72 
	#__CONST_SOCKADDR_ARG
 
__c⁄°
 
sockaddr
 *

	)

76 
	#__SOCKADDR_ALLTYPES
 \

77 
	`__SOCKADDR_ONETYPE
 (
sockaddr
) \

78 
	`__SOCKADDR_ONETYPE
 (
sockaddr_©
) \

79 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ax25
) \

80 
	`__SOCKADDR_ONETYPE
 (
sockaddr_dl
) \

81 
	`__SOCKADDR_ONETYPE
 (
sockaddr_e⁄
) \

82 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö
) \

83 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö6
) \

84 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ö¨p
) \

85 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ùx
) \

86 
	`__SOCKADDR_ONETYPE
 (
sockaddr_iso
) \

87 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ns
) \

88 
	`__SOCKADDR_ONETYPE
 (
sockaddr_un
) \

89 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x25
)

	)

91 
	#__SOCKADDR_ONETYPE
(
ty≥
Ëty≥ *
__ª°ri˘
 
__
##ty≥##__;

	)

92 uni⁄ { 
	m__SOCKADDR_ALLTYPES


93 } 
	t__SOCKADDR_ARG
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

94 #unde‡
__SOCKADDR_ONETYPE


95 
	#__SOCKADDR_ONETYPE
(
ty≥
Ë
__c⁄°
 ty≥ *
__ª°ri˘
 
__
##ty≥##__;

	)

96 uni⁄ { 
	m__SOCKADDR_ALLTYPES


97 } 
	t__CONST_SOCKADDR_ARG
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

98 #unde‡
__SOCKADDR_ONETYPE


105 
	$sockë
 (
__domaö
, 
__ty≥
, 
__¥Ÿocﬁ
Ë
__THROW
;

111 
	$sockë∑ú
 (
__domaö
, 
__ty≥
, 
__¥Ÿocﬁ
,

112 
__fds
[2]Ë
__THROW
;

115 
	$böd
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 
__Àn
)

116 
__THROW
;

119 
	$gësock«me
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

120 
sockÀn_t
 *
__ª°ri˘
 
__Àn
Ë
__THROW
;

129 
	`c⁄√˘
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 
__Àn
);

133 
	$gë≥î«me
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

134 
sockÀn_t
 *
__ª°ri˘
 
__Àn
Ë
__THROW
;

141 
ssize_t
 
	`£nd
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
, 
__Êags
);

148 
ssize_t
 
	`ªcv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__Êags
);

155 
ssize_t
 
	`£ndto
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

156 
__Êags
, 
__CONST_SOCKADDR_ARG
 
__addr
,

157 
sockÀn_t
 
__addr_Àn
);

166 
ssize_t
 
	`ªcv‰om
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

167 
__Êags
, 
__SOCKADDR_ARG
 
__addr
,

168 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

176 
ssize_t
 
	`£ndmsg
 (
__fd
, 
__c⁄°
 
msghdr
 *
__mesßge
,

177 
__Êags
);

184 
ssize_t
 
	`ªcvmsg
 (
__fd
, 
msghdr
 *
__mesßge
, 
__Êags
);

190 
	$gësock›t
 (
__fd
, 
__Àvñ
, 
__›äame
,

191 *
__ª°ri˘
 
__›tvÆ
,

192 
sockÀn_t
 *
__ª°ri˘
 
__›éí
Ë
__THROW
;

197 
	$£tsock›t
 (
__fd
, 
__Àvñ
, 
__›äame
,

198 
__c⁄°
 *
__›tvÆ
, 
sockÀn_t
 
__›éí
Ë
__THROW
;

204 
	$li°í
 (
__fd
, 
__n
Ë
__THROW
;

214 
	`ac˚±
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

215 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

217 #ifde‡
__USE_GNU


222 
	`ac˚±4
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

223 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
, 
__Êags
);

232 
	$shutdown
 (
__fd
, 
__how
Ë
__THROW
;

235 #ifde‡
__USE_XOPEN2K


237 
	$sock©m¨k
 (
__fd
Ë
__THROW
;

241 #ifde‡
__USE_MISC


245 
	$isfdty≥
 (
__fd
, 
__fdty≥
Ë
__THROW
;

250 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


251 
	~<bôs/sockë2.h
>

254 
__END_DECLS


	@/usr/include/sys/stat.h

24 #i‚def 
_SYS_STAT_H


25 
	#_SYS_STAT_H
 1

	)

27 
	~<„©uªs.h
>

29 
	~<bôs/ty≥s.h
>

31 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K
 || deföed 
__USE_MISC
 \

32 || 
deföed
 
	g__USE_ATFILE


33 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_time_t


	)

36 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ATFILE


37 
	#__√ed_time•ec


	)

39 
	~<time.h
>

42 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


45 #i‚de‡
__dev_t_deföed


46 
__dev_t
 
	tdev_t
;

47 
	#__dev_t_deföed


	)

50 #i‚de‡
__gid_t_deföed


51 
__gid_t
 
	tgid_t
;

52 
	#__gid_t_deföed


	)

55 #i‚de‡
__öo_t_deföed


56 #i‚de‡
__USE_FILE_OFFSET64


57 
__öo_t
 
	töo_t
;

59 
__öo64_t
 
	töo_t
;

61 
	#__öo_t_deföed


	)

64 #i‚de‡
__mode_t_deföed


65 
__mode_t
 
	tmode_t
;

66 
	#__mode_t_deföed


	)

69 #i‚de‡
__∆ök_t_deföed


70 
__∆ök_t
 
	t∆ök_t
;

71 
	#__∆ök_t_deföed


	)

74 #i‚de‡
__off_t_deföed


75 #i‚de‡
__USE_FILE_OFFSET64


76 
__off_t
 
	toff_t
;

78 
__off64_t
 
	toff_t
;

80 
	#__off_t_deföed


	)

83 #i‚de‡
__uid_t_deföed


84 
__uid_t
 
	tuid_t
;

85 
	#__uid_t_deföed


	)

89 #ifde‡
__USE_UNIX98


90 #i‚de‡
__blk˙t_t_deföed


91 #i‚de‡
__USE_FILE_OFFSET64


92 
__blk˙t_t
 
	tblk˙t_t
;

94 
__blk˙t64_t
 
	tblk˙t_t
;

96 
	#__blk˙t_t_deföed


	)

99 #i‚de‡
__blksize_t_deföed


100 
__blksize_t
 
	tblksize_t
;

101 
	#__blksize_t_deföed


	)

105 
	g__BEGIN_DECLS


107 
	~<bôs/°©.h
>

109 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


110 
	#S_IFMT
 
__S_IFMT


	)

111 
	#S_IFDIR
 
__S_IFDIR


	)

112 
	#S_IFCHR
 
__S_IFCHR


	)

113 
	#S_IFBLK
 
__S_IFBLK


	)

114 
	#S_IFREG
 
__S_IFREG


	)

115 #ifde‡
__S_IFIFO


116 
	#S_IFIFO
 
__S_IFIFO


	)

118 #ifde‡
__S_IFLNK


119 
	#S_IFLNK
 
__S_IFLNK


	)

121 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_UNIX98
) \

122 && 
deföed
 
	g__S_IFSOCK


123 
	#S_IFSOCK
 
__S_IFSOCK


	)

129 
	#__S_ISTYPE
(
mode
, 
mask
Ë(((modeË& 
__S_IFMT
Ë=(mask))

	)

131 
	#S_ISDIR
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFDIR
)

	)

132 
	#S_ISCHR
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFCHR
)

	)

133 
	#S_ISBLK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFBLK
)

	)

134 
	#S_ISREG
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFREG
)

	)

135 #ifde‡
__S_IFIFO


136 
	#S_ISFIFO
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFIFO
)

	)

138 #ifde‡
__S_IFLNK


139 
	#S_ISLNK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFLNK
)

	)

142 #i‡
deföed
 
__USE_BSD
 && !deföed 
__S_IFLNK


143 
	#S_ISLNK
(
mode
Ë0

	)

146 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K
) \

147 && 
deföed
 
	g__S_IFSOCK


148 
	#S_ISSOCK
(
mode
Ë
	`__S_ISTYPE
((mode), 
__S_IFSOCK
)

	)

149 #ñi‡
deföed
 
__USE_XOPEN2K


150 
	#S_ISSOCK
(
mode
Ë0

	)

157 #ifdef 
__USE_POSIX199309


158 
	#S_TYPEISMQ
(
buf
Ë
	`__S_TYPEISMQ
(buf)

	)

159 
	#S_TYPEISSEM
(
buf
Ë
	`__S_TYPEISSEM
(buf)

	)

160 
	#S_TYPEISSHM
(
buf
Ë
	`__S_TYPEISSHM
(buf)

	)

166 
	#S_ISUID
 
__S_ISUID


	)

167 
	#S_ISGID
 
__S_ISGID


	)

169 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


171 
	#S_ISVTX
 
__S_ISVTX


	)

174 
	#S_IRUSR
 
__S_IREAD


	)

175 
	#S_IWUSR
 
__S_IWRITE


	)

176 
	#S_IXUSR
 
__S_IEXEC


	)

178 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

180 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_BSD


181 
	#S_IREAD
 
S_IRUSR


	)

182 
	#S_IWRITE
 
S_IWUSR


	)

183 
	#S_IEXEC
 
S_IXUSR


	)

186 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

187 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

188 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

190 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

192 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

193 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

194 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

196 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

199 #ifdef 
__USE_BSD


201 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO
Ë

	)

202 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISVTX
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

203 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

205 
	#S_BLKSIZE
 512

	)

209 #i‚de‡
__USE_FILE_OFFSET64


211 
	$°©
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

212 
°©
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

216 
	$f°©
 (
__fd
, 
°©
 *
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

218 #ifde‡
__REDIRECT_NTH


219 
	`__REDIRECT_NTH
 (
°©
, (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

220 
°©
 *
__ª°ri˘
 
__buf
), 
°©64
)

221 
	`__n⁄nuŒ
 ((1, 2));

222 
	`__REDIRECT_NTH
 (
f°©
, (
__fd
, 
°©
 *
__buf
), 
f°©64
)

223 
	`__n⁄nuŒ
 ((2));

225 
	#°©
 
°©64


	)

226 
	#f°©
 
f°©64


	)

229 #ifde‡
__USE_LARGEFILE64


230 
	$°©64
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

231 
°©64
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

232 
	$f°©64
 (
__fd
, 
°©64
 *
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

235 #ifde‡
__USE_ATFILE


239 #i‚de‡
__USE_FILE_OFFSET64


240 
	$f°©©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

241 
°©
 *
__ª°ri˘
 
__buf
, 
__Êag
)

242 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

244 #ifde‡
__REDIRECT_NTH


245 
	`__REDIRECT_NTH
 (
f°©©
, (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

246 
°©
 *
__ª°ri˘
 
__buf
,

247 
__Êag
),

248 
f°©©64
Ë
	`__n⁄nuŒ
 ((2, 3));

250 
	#f°©©
 
f°©©64


	)

254 #ifde‡
__USE_LARGEFILE64


255 
	$f°©©64
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fûe
,

256 
°©64
 *
__ª°ri˘
 
__buf
, 
__Êag
)

257 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

261 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


262 #i‚de‡
__USE_FILE_OFFSET64


265 
	$l°©
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

266 
°©
 *
__ª°ri˘
 
__buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

268 #ifde‡
__REDIRECT_NTH


269 
	`__REDIRECT_NTH
 (
l°©
,

270 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

271 
°©
 *
__ª°ri˘
 
__buf
), 
l°©64
)

272 
	`__n⁄nuŒ
 ((1, 2));

274 
	#l°©
 
l°©64


	)

277 #ifde‡
__USE_LARGEFILE64


278 
	$l°©64
 (
__c⁄°
 *
__ª°ri˘
 
__fûe
,

279 
°©64
 *
__ª°ri˘
 
__buf
)

280 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

286 
	$chmod
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
)

287 
__THROW
 
	`__n⁄nuŒ
 ((1));

289 #ifde‡
__USE_BSD


293 
	$lchmod
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
)

294 
__THROW
 
	`__n⁄nuŒ
 ((1));

298 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


299 
	$fchmod
 (
__fd
, 
__mode_t
 
__mode
Ë
__THROW
;

302 #ifde‡
__USE_ATFILE


305 
	$fchmod©
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
,

306 
__Êag
)

307 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

314 
__mode_t
 
	$umask
 (
__mode_t
 
__mask
Ë
__THROW
;

316 #ifdef 
__USE_GNU


319 
__mode_t
 
	$gëumask
 (Ë
__THROW
;

323 
	$mkdú
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

324 
__THROW
 
	`__n⁄nuŒ
 ((1));

326 #ifde‡
__USE_ATFILE


330 
	$mkdú©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

331 
__THROW
 
	`__n⁄nuŒ
 ((2));

337 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


338 
	$mknod
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
)

339 
__THROW
 
	`__n⁄nuŒ
 ((1));

341 #ifde‡
__USE_ATFILE


345 
	$mknod©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

346 
__dev_t
 
__dev
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

352 
	$mkfifo
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

353 
__THROW
 
	`__n⁄nuŒ
 ((1));

355 #ifde‡
__USE_ATFILE


359 
	$mkfifﬂt
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
)

360 
__THROW
 
	`__n⁄nuŒ
 ((2));

363 #ifde‡
__USE_ATFILE


366 
	$utimíßt
 (
__fd
, 
__c⁄°
 *
__∑th
,

367 
__c⁄°
 
time•ec
 
__times
[2],

368 
__Êags
)

369 
__THROW
 
	`__n⁄nuŒ
 ((2));

372 #ifde‡
__USE_XOPEN2K8


374 
	$futimís
 (
__fd
, 
__c⁄°
 
time•ec
 
__times
[2]Ë
__THROW
;

392 #i‚de‡
_STAT_VER


393 
	#_STAT_VER
 0

	)

395 #i‚de‡
_MKNOD_VER


396 
	#_MKNOD_VER
 0

	)

400 #i‚de‡
__USE_FILE_OFFSET64


401 
	$__fx°©
 (
__vî
, 
__fûdes
, 
°©
 *
__°©_buf
)

402 
__THROW
 
	`__n⁄nuŒ
 ((3));

403 
	$__x°©
 (
__vî
, 
__c⁄°
 *
__fûíame
,

404 
°©
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

405 
	$__lx°©
 (
__vî
, 
__c⁄°
 *
__fûíame
,

406 
°©
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

407 
	$__fx°©©
 (
__vî
, 
__fûdes
, 
__c⁄°
 *
__fûíame
,

408 
°©
 *
__°©_buf
, 
__Êag
)

409 
__THROW
 
	`__n⁄nuŒ
 ((3, 4));

411 #ifde‡
__REDIRECT_NTH


412 
	`__REDIRECT_NTH
 (
__fx°©
, (
__vî
, 
__fûdes
,

413 
°©
 *
__°©_buf
), 
__fx°©64
)

414 
	`__n⁄nuŒ
 ((3));

415 
	`__REDIRECT_NTH
 (
__x°©
, (
__vî
, 
__c⁄°
 *
__fûíame
,

416 
°©
 *
__°©_buf
), 
__x°©64
)

417 
	`__n⁄nuŒ
 ((2, 3));

418 
	`__REDIRECT_NTH
 (
__lx°©
, (
__vî
, 
__c⁄°
 *
__fûíame
,

419 
°©
 *
__°©_buf
), 
__lx°©64
)

420 
	`__n⁄nuŒ
 ((2, 3));

421 
	`__REDIRECT_NTH
 (
__fx°©©
, (
__vî
, 
__fûdes
,

422 
__c⁄°
 *
__fûíame
,

423 
°©
 *
__°©_buf
, 
__Êag
),

424 
__fx°©©64
Ë
	`__n⁄nuŒ
 ((3, 4));

427 
	#__fx°©
 
__fx°©64


	)

428 
	#__x°©
 
__x°©64


	)

429 
	#__lx°©
 
__lx°©64


	)

433 #ifde‡
__USE_LARGEFILE64


434 
	$__fx°©64
 (
__vî
, 
__fûdes
, 
°©64
 *
__°©_buf
)

435 
__THROW
 
	`__n⁄nuŒ
 ((3));

436 
	$__x°©64
 (
__vî
, 
__c⁄°
 *
__fûíame
,

437 
°©64
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

438 
	$__lx°©64
 (
__vî
, 
__c⁄°
 *
__fûíame
,

439 
°©64
 *
__°©_buf
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

440 
	$__fx°©©64
 (
__vî
, 
__fûdes
, 
__c⁄°
 *
__fûíame
,

441 
°©64
 *
__°©_buf
, 
__Êag
)

442 
__THROW
 
	`__n⁄nuŒ
 ((3, 4));

444 
	$__xmknod
 (
__vî
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

445 
__dev_t
 *
__dev
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

447 
	$__xmknod©
 (
__vî
, 
__fd
, 
__c⁄°
 *
__∑th
,

448 
__mode_t
 
__mode
, 
__dev_t
 *
__dev
)

449 
__THROW
 
	`__n⁄nuŒ
 ((3, 5));

451 #i‡
deföed
 
__GNUC__
 && __GNUC__ >2 && deföed 
__USE_EXTERN_INLINES_IN_LIBC


454 
__exã∫_ölöe
 

455 
	`__NTH
 (
	$°©
 (
__c⁄°
 *
__∑th
, 
°©
 *
__°©buf
))

457  
	`__x°©
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

458 
	}
}

460 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


461 
__exã∫_ölöe
 

462 
__NTH
 (
	$l°©
 (
__c⁄°
 *
__∑th
, 
°©
 *
__°©buf
))

464  
	`__lx°©
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

465 
	}
}

468 
__exã∫_ölöe
 

469 
__NTH
 (
	$f°©
 (
__fd
, 
°©
 *
__°©buf
))

471  
	`__fx°©
 (
_STAT_VER
, 
__fd
, 
__°©buf
);

472 
	}
}

474 #ifde‡
__USE_ATFILE


475 
__exã∫_ölöe
 

476 
__NTH
 (
	$f°©©
 (
__fd
, 
__c⁄°
 *
__fûíame
, 
°©
 *
__°©buf
,

477 
__Êag
))

479  
	`__fx°©©
 (
_STAT_VER
, 
__fd
, 
__fûíame
, 
__°©buf
, 
__Êag
);

480 
	}
}

483 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_BSD


484 
__exã∫_ölöe
 

485 
__NTH
 (
	$mknod
 (
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
))

487  
	`__xmknod
 (
_MKNOD_VER
, 
__∑th
, 
__mode
, &
__dev
);

488 
	}
}

491 #ifde‡
__USE_ATFILE


492 
__exã∫_ölöe
 

493 
__NTH
 (
	$mknod©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__mode_t
 
__mode
,

494 
__dev_t
 
__dev
))

496  
	`__xmknod©
 (
_MKNOD_VER
, 
__fd
, 
__∑th
, 
__mode
, &
__dev
);

497 
	}
}

500 #i‡
deföed
 
__USE_LARGEFILE64
 \

501 && (! 
deföed
 
	g__USE_FILE_OFFSET64
 \

502 || (
deföed
 
	g__REDIRECT_NTH
 && deföed 
	g__OPTIMIZE__
))

503 
__exã∫_ölöe
 

504 
__NTH
 (
	$°©64
 (
__c⁄°
 *
__∑th
, 
°©64
 *
__°©buf
))

506  
	`__x°©64
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

507 
	}
}

509 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


510 
__exã∫_ölöe
 

511 
__NTH
 (
	$l°©64
 (
__c⁄°
 *
__∑th
, 
°©64
 *
__°©buf
))

513  
	`__lx°©64
 (
_STAT_VER
, 
__∑th
, 
__°©buf
);

514 
	}
}

517 
__exã∫_ölöe
 

518 
__NTH
 (
	$f°©64
 (
__fd
, 
°©64
 *
__°©buf
))

520  
	`__fx°©64
 (
_STAT_VER
, 
__fd
, 
__°©buf
);

521 
	}
}

523 #ifde‡
__USE_ATFILE


524 
__exã∫_ölöe
 

525 
__NTH
 (
	$f°©©64
 (
__fd
, 
__c⁄°
 *
__fûíame
, 
°©64
 *
__°©buf
,

526 
__Êag
))

528  
	`__fx°©©64
 (
_STAT_VER
, 
__fd
, 
__fûíame
, 
__°©buf
, 
__Êag
);

529 
	}
}

536 
	g__END_DECLS


	@/usr/include/sys/time.h

20 #i‚de‡
_SYS_TIME_H


21 
	#_SYS_TIME_H
 1

	)

23 
	~<„©uªs.h
>

25 
	~<bôs/ty≥s.h
>

26 
	#__√ed_time_t


	)

27 
	~<time.h
>

28 
	#__√ed_timevÆ


	)

29 
	~<bôs/time.h
>

31 
	~<sys/£À˘.h
>

33 #i‚de‡
__su£c⁄ds_t_deföed


34 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

35 
	#__su£c⁄ds_t_deföed


	)

39 
	g__BEGIN_DECLS


41 #ifde‡
__USE_GNU


43 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) { \

44 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

45 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

46 }

	)

47 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

48 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

49 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

50 }

	)

54 #ifde‡
__USE_BSD


57 
	stimez⁄e


59 
	mtz_möuãswe°
;

60 
	mtz_d°time
;

63 
timez⁄e
 *
	t__ª°ri˘
 
	t__timez⁄e_±r_t
;

65 *
	t__ª°ri˘
 
	t__timez⁄e_±r_t
;

73 
	$gëtimeofday
 (
timevÆ
 *
__ª°ri˘
 
__tv
,

74 
__timez⁄e_±r_t
 
__tz
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

76 #ifde‡
__USE_BSD


79 
	$£âimeofday
 (
__c⁄°
 
timevÆ
 *
__tv
,

80 
__c⁄°
 
timez⁄e
 *
__tz
)

81 
__THROW
 
	`__n⁄nuŒ
 ((1));

87 
	$adjtime
 (
__c⁄°
 
timevÆ
 *
__dñè
,

88 
timevÆ
 *
__ﬁddñè
Ë
__THROW
;

93 
	e__ôimî_which


96 
ITIMER_REAL
 = 0,

97 
	#ITIMER_REAL
 
ITIMER_REAL


	)

99 
ITIMER_VIRTUAL
 = 1,

100 
	#ITIMER_VIRTUAL
 
ITIMER_VIRTUAL


	)

103 
ITIMER_PROF
 = 2

104 
	#ITIMER_PROF
 
ITIMER_PROF


	)

109 
	sôimîvÆ


112 
timevÆ
 
ô_öãrvÆ
;

114 
timevÆ
 
ô_vÆue
;

117 #i‡
deföed
 
__USE_GNU
 && !deföed 
__˝lu•lus


120 
__ôimî_which
 
	t__ôimî_which_t
;

122 
	t__ôimî_which_t
;

127 
	$gëôimî
 (
__ôimî_which_t
 
__which
,

128 
ôimîvÆ
 *
__vÆue
Ë
__THROW
;

133 
	$£tôimî
 (
__ôimî_which_t
 
__which
,

134 
__c⁄°
 
ôimîvÆ
 *
__ª°ri˘
 
__√w
,

135 
ôimîvÆ
 *
__ª°ri˘
 
__ﬁd
Ë
__THROW
;

140 
	$utimes
 (
__c⁄°
 *
__fûe
, __c⁄° 
timevÆ
 
__tvp
[2])

141 
__THROW
 
	`__n⁄nuŒ
 ((1));

143 #ifde‡
__USE_BSD


145 
	$lutimes
 (
__c⁄°
 *
__fûe
, __c⁄° 
timevÆ
 
__tvp
[2])

146 
__THROW
 
	`__n⁄nuŒ
 ((1));

149 
	$futimes
 (
__fd
, 
__c⁄°
 
timevÆ
 
__tvp
[2]Ë
__THROW
;

152 #ifde‡
__USE_GNU


156 
	$futimeßt
 (
__fd
, 
__c⁄°
 *
__fûe
,

157 
__c⁄°
 
timevÆ
 
__tvp
[2]Ë
__THROW
;

161 #ifde‡
__USE_BSD


164 
	#timîis£t
(
tvp
Ë(—vp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

165 
	#timî˛ór
(
tvp
Ë(—vp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

166 
	#timîcmp
(
a
, 
b
, 
CMP
) \

167 (((
a
)->
tv_£c
 =(
b
)->tv_sec) ? \

168 ((
a
)->
tv_u£c
 
	`CMP
 (
b
)->tv_usec) : \

169 ((
a
)->
tv_£c
 
	`CMP
 (
b
)->tv_£c))

	)

170 
	#timîadd
(
a
, 
b
, 
ªsu…
) \

172 (
ªsu…
)->
tv_£c
 = (
a
)->tv_£¯+ (
b
)->tv_sec; \

173 (
ªsu…
)->
tv_u£c
 = (
a
)->tv_u£¯+ (
b
)->tv_usec; \

174 i‡((
ªsu…
)->
tv_u£c
 >= 1000000) \

176 ++(
ªsu…
)->
tv_£c
; \

177 (
ªsu…
)->
tv_u£c
 -= 1000000; \

179 
	}
} 0)

	)

180 
	#timîsub
(
a
, 
b
, 
ªsu…
) \

182 (
ªsu…
)->
tv_£c
 = (
a
)->tv_£¯- (
b
)->tv_sec; \

183 (
ªsu…
)->
tv_u£c
 = (
a
)->tv_u£¯- (
b
)->tv_usec; \

184 i‡((
ªsu…
)->
tv_u£c
 < 0) { \

185 --(
ªsu…
)->
tv_£c
; \

186 (
ªsu…
)->
tv_u£c
 += 1000000; \

188 } 0)

	)

191 
	g__END_DECLS


	@/usr/include/sys/types.h

23 #i‚def 
_SYS_TYPES_H


24 
	#_SYS_TYPES_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/ty≥s.h
>

32 #ifdef 
__USE_BSD


33 #i‚de‡
__u_ch¨_deföed


34 
__u_ch¨
 
	tu_ch¨
;

35 
__u_sh‹t
 
	tu_sh‹t
;

36 
__u_öt
 
	tu_öt
;

37 
__u_l⁄g
 
	tu_l⁄g
;

38 
__quad_t
 
	tquad_t
;

39 
__u_quad_t
 
	tu_quad_t
;

40 
__fsid_t
 
	tfsid_t
;

41 
	#__u_ch¨_deföed


	)

45 
__loff_t
 
	tloff_t
;

47 #i‚de‡
__öo_t_deföed


48 #i‚de‡
__USE_FILE_OFFSET64


49 
__öo_t
 
	töo_t
;

51 
__öo64_t
 
	töo_t
;

53 
	#__öo_t_deföed


	)

55 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


56 
__öo64_t
 
	töo64_t
;

57 
	#__öo64_t_deföed


	)

60 #i‚de‡
__dev_t_deföed


61 
__dev_t
 
	tdev_t
;

62 
	#__dev_t_deföed


	)

65 #i‚de‡
__gid_t_deföed


66 
__gid_t
 
	tgid_t
;

67 
	#__gid_t_deföed


	)

70 #i‚de‡
__mode_t_deföed


71 
__mode_t
 
	tmode_t
;

72 
	#__mode_t_deföed


	)

75 #i‚de‡
__∆ök_t_deföed


76 
__∆ök_t
 
	t∆ök_t
;

77 
	#__∆ök_t_deföed


	)

80 #i‚de‡
__uid_t_deföed


81 
__uid_t
 
	tuid_t
;

82 
	#__uid_t_deföed


	)

85 #i‚de‡
__off_t_deföed


86 #i‚de‡
__USE_FILE_OFFSET64


87 
__off_t
 
	toff_t
;

89 
__off64_t
 
	toff_t
;

91 
	#__off_t_deföed


	)

93 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


94 
__off64_t
 
	toff64_t
;

95 
	#__off64_t_deföed


	)

98 #i‚de‡
__pid_t_deföed


99 
__pid_t
 
	tpid_t
;

100 
	#__pid_t_deföed


	)

103 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
) \

104 && !
deföed
 
__id_t_deföed


105 
__id_t
 
	tid_t
;

106 
	#__id_t_deföed


	)

109 #i‚de‡
__ssize_t_deföed


110 
__ssize_t
 
	tssize_t
;

111 
	#__ssize_t_deföed


	)

114 #ifdef 
__USE_BSD


115 #i‚de‡
__daddr_t_deföed


116 
__daddr_t
 
	tdaddr_t
;

117 
__ˇddr_t
 
	tˇddr_t
;

118 
	#__daddr_t_deföed


	)

122 #i‡(
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
Ë&& !deföed 
__key_t_deföed


123 
__key_t
 
	tkey_t
;

124 
	#__key_t_deföed


	)

127 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


128 
	#__√ed_˛ock_t


	)

130 
	#__√ed_time_t


	)

131 
	#__√ed_timî_t


	)

132 
	#__√ed_˛ockid_t


	)

133 
	~<time.h
>

135 #ifde‡
__USE_XOPEN


136 #i‚de‡
__u£c⁄ds_t_deföed


137 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

138 
	#__u£c⁄ds_t_deföed


	)

140 #i‚de‡
__su£c⁄ds_t_deföed


141 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

142 
	#__su£c⁄ds_t_deföed


	)

146 
	#__√ed_size_t


	)

147 
	~<°ddef.h
>

149 #ifde‡
__USE_MISC


151 
	tul⁄g
;

152 
	tush‹t
;

153 
	tuöt
;

158 #i‡!
__GNUC_PREREQ
 (2, 7)

161 #i‚de‡
__öt8_t_deföed


162 
	#__öt8_t_deföed


	)

163 
	töt8_t
;

164 
	töt16_t
;

165 
	töt32_t
;

166 #i‡
__WORDSIZE
 == 64

167 
	töt64_t
;

168 #ñi‡
__GLIBC_HAVE_LONG_LONG


169 
__exãnsi⁄__
 
	töt64_t
;

174 
	tu_öt8_t
;

175 
	tu_öt16_t
;

176 
	tu_öt32_t
;

177 #i‡
__WORDSIZE
 == 64

178 
	tu_öt64_t
;

179 #ñi‡
__GLIBC_HAVE_LONG_LONG


180 
__exãnsi⁄__
 
	tu_öt64_t
;

183 
	tªgi°î_t
;

188 
	#__ötN_t
(
N
, 
MODE
) \

189 ##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

190 
	t__u_ötN_t
(
	tN
, 
	tMODE
) \

191 
	tu_öt
##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

193 #i‚de‡
	t__öt8_t_deföed


194 
	t__öt8_t_deföed


	)

195 
	t__ötN_t
 (8, 
	t__QI__
);

196 
__ötN_t
 (16, 
__HI__
);

197 
__ötN_t
 (32, 
__SI__
);

198 
__ötN_t
 (64, 
__DI__
);

201 
__u_ötN_t
 (8, 
__QI__
);

202 
__u_ötN_t
 (16, 
__HI__
);

203 
__u_ötN_t
 (32, 
__SI__
);

204 
__u_ötN_t
 (64, 
__DI__
);

206 
	tªgi°î_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__w‹d__
)));

212 
	#__BIT_TYPES_DEFINED__
 1

	)

215 #ifdef 
__USE_BSD


217 
	~<ídün.h
>

220 
	~<sys/£À˘.h
>

223 
	~<sys/sysma¸os.h
>

227 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
) \

228 && !
deföed
 
__blksize_t_deföed


229 
__blksize_t
 
	tblksize_t
;

230 
	#__blksize_t_deföed


	)

234 #i‚de‡
__USE_FILE_OFFSET64


235 #i‚de‡
__blk˙t_t_deföed


236 
__blk˙t_t
 
	tblk˙t_t
;

237 
	#__blk˙t_t_deföed


	)

239 #i‚de‡
__fsblk˙t_t_deföed


240 
__fsblk˙t_t
 
	tfsblk˙t_t
;

241 
	#__fsblk˙t_t_deföed


	)

243 #i‚de‡
__fsfû˙t_t_deföed


244 
__fsfû˙t_t
 
	tfsfû˙t_t
;

245 
	#__fsfû˙t_t_deföed


	)

248 #i‚de‡
__blk˙t_t_deföed


249 
__blk˙t64_t
 
	tblk˙t_t
;

250 
	#__blk˙t_t_deföed


	)

252 #i‚de‡
__fsblk˙t_t_deföed


253 
__fsblk˙t64_t
 
	tfsblk˙t_t
;

254 
	#__fsblk˙t_t_deföed


	)

256 #i‚de‡
__fsfû˙t_t_deföed


257 
__fsfû˙t64_t
 
	tfsfû˙t_t
;

258 
	#__fsfû˙t_t_deföed


	)

262 #ifde‡
__USE_LARGEFILE64


263 
__blk˙t64_t
 
	tblk˙t64_t
;

264 
__fsblk˙t64_t
 
	tfsblk˙t64_t
;

265 
__fsfû˙t64_t
 
	tfsfû˙t64_t
;

270 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


271 
	~<bôs/±hªadty≥s.h
>

274 
	g__END_DECLS


	@/usr/include/sys/wait.h

24 #i‚def 
_SYS_WAIT_H


25 
	#_SYS_WAIT_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	~<sig«l.h
>

32 
	~<sys/ªsour˚.h
>

35 #i‡!
deföed
 
_STDLIB_H
 || (!deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K8
)

38 
	~<bôs/waôÊags.h
>

40 #ifdef 
__USE_BSD


45 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


46 
	#__WAIT_INT
(
°©us
) \

47 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

48 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

50 
	#__WAIT_INT
(
°©us
Ë(*(
__c⁄°
 *Ë&(°©us))

	)

58 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


59 
	#__WAIT_STATUS
 *

	)

60 
	#__WAIT_STATUS_DEFN
 *

	)

65 
waô
 *
	m__u±r
;

66 *
	m__ùå
;

67 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

68 
	#__WAIT_STATUS_DEFN
 *

	)

73 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

74 
	#__WAIT_STATUS
 *

	)

75 
	#__WAIT_STATUS_DEFN
 *

	)

80 
	~<bôs/waô°©us.h
>

82 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

83 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

84 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

85 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

88 #ifde‡
__WIFCONTINUED


89 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

93 #ifdef 
__USE_BSD


94 
	#WCOREFLAG
 
__WCOREFLAG


	)

95 
	#WCOREDUMP
(
°©us
Ë
	`__WCOREDUMP
 (
	`__WAIT_INT
 (°©us))

	)

96 
	#W_EXITCODE
(
ªt
, 
sig
Ë
	`__W_EXITCODE
 (ªt, sig)

	)

97 
	#W_STOPCODE
(
sig
Ë
	`__W_STOPCODE
 (sig)

	)

101 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


104 
	mP_ALL
,

105 
	mP_PID
,

106 
	mP_PGID


107 } 
	tidty≥_t
;

116 
__pid_t
 
waô
 (
__WAIT_STATUS
 
__°©_loc
);

118 #ifdef 
__USE_BSD


120 
	#WAIT_ANY
 (-1Ë

	)

121 
	#WAIT_MYPGRP
 0

	)

139 
__pid_t
 
waôpid
 (__pid_à
__pid
, *
__°©_loc
, 
__›ti⁄s
);

141 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


142 
	#__√ed_sigöfo_t


	)

143 
	~<bôs/sigöfo.h
>

155 
waôid
 (
idty≥_t
 
__idty≥
, 
__id_t
 
__id
, 
sigöfo_t
 *
__öf›
,

156 
__›ti⁄s
);

159 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


162 
	grußge
;

169 
__pid_t
 
	$waô3
 (
__WAIT_STATUS
 
__°©_loc
, 
__›ti⁄s
,

170 
rußge
 * 
__ußge
Ë
__THROWNL
;

173 #ifde‡
__USE_BSD


175 
__pid_t
 
	$waô4
 (
__pid_t
 
__pid
, 
__WAIT_STATUS
 
__°©_loc
, 
__›ti⁄s
,

176 
rußge
 *
__ußge
Ë
__THROWNL
;

180 
__END_DECLS


	@/usr/include/time.h

23 #i‚def 
_TIME_H


25 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

26 ! 
deföed
 
	g__√ed_time•ec
)

27 
	#_TIME_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__√ed_size_t


	)

37 
	#__√ed_NULL


	)

38 
	~<°ddef.h
>

42 
	~<bôs/time.h
>

45 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


46 #i‚de‡
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

54 
	#__˛ock_t_deföed
 1

	)

56 
	~<bôs/ty≥s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__˛ock_t
 
	t˛ock_t
;

61 
	g__END_NAMESPACE_STD


62 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

67 #unde‡
__√ed_˛ock_t


69 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

70 
	#__time_t_deföed
 1

	)

72 
	~<bôs/ty≥s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #unde‡
__√ed_time_t


85 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

86 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

87 
	#__˛ockid_t_deföed
 1

	)

89 
	~<bôs/ty≥s.h
>

92 
__˛ockid_t
 
	t˛ockid_t
;

95 #unde‡
__˛ockid_time_t


97 #i‡!
deföed
 
__timî_t_deföed
 && \

98 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

99 
	#__timî_t_deföed
 1

	)

101 
	~<bôs/ty≥s.h
>

104 
__timî_t
 
	ttimî_t
;

107 #unde‡
__√ed_timî_t


110 #i‡!
deföed
 
__time•ec_deföed
 && \

111 ((
deföed
 
_TIME_H
 && \

112 (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
)) || \

113 
deföed
 
__√ed_time•ec
)

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__c⁄°
 *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 
__c⁄°
 *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 
__BEGIN_NAMESPACE_STD


183 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

189 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

190 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

193 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

199 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

200 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

201 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifde‡
__USE_XOPEN


207 *
	$°Ωtime
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

208 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

209 
__THROW
;

212 #ifde‡
__USE_XOPEN2K8


215 
	~<xloˇÀ.h
>

217 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

218 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

219 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

220 
__loˇÀ_t
 
__loc
Ë
__THROW
;

223 #ifde‡
__USE_GNU


224 *
	$°Ωtime_l
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

225 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

237 
tm
 *
	$loˇ…ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

238 
__END_NAMESPACE_STD


240 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

244 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

248 
tm
 *
	$loˇ…ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

249 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$as˘ime
 (
__c⁄°
 
tm
 *
__ç
Ë
__THROW
;

258 *
	$˘ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

259 
__END_NAMESPACE_STD


261 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


266 *
	$as˘ime_r
 (
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

267 *
__ª°ri˘
 
__buf
Ë
__THROW
;

270 *
	$˘ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

271 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
__tz«me
[2];

277 
__daylight
;

278 
__timez⁄e
;

281 #ifdef 
__USE_POSIX


283 *
tz«me
[2];

287 
	$tz£t
 (Ë
__THROW
;

290 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


291 
daylight
;

292 
timez⁄e
;

295 #ifde‡
__USE_SVID


298 
	$°ime
 (
__c⁄°
 
time_t
 *
__whí
Ë
__THROW
;

304 
	#__i¶óp
(
yór
) \

305 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

308 #ifde‡
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

316 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

319 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

323 #ifde‡
__USE_POSIX199309


328 
	`«no¶ìp
 (
__c⁄°
 
time•ec
 *
__ªque°ed_time
,

329 
time•ec
 *
__ªmaöög
);

333 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

336 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

339 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, 
__c⁄°
 
time•ec
 *
__ç
)

340 
__THROW
;

342 #ifde‡
__USE_XOPEN2K


347 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

348 
__c⁄°
 
time•ec
 *
__ªq
,

349 
time•ec
 *
__ªm
);

352 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

357 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

358 
sigevít
 *
__ª°ri˘
 
__evp
,

359 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

362 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

365 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

366 
__c⁄°
 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

367 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

370 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

371 
__THROW
;

374 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

378 #ifde‡
__USE_XOPEN_EXTENDED


390 
gëd©e_îr
;

399 
tm
 *
	`gëd©e
 (
__c⁄°
 *
__°rög
);

402 #ifde‡
__USE_GNU


413 
	`gëd©e_r
 (
__c⁄°
 *
__ª°ri˘
 
__°rög
,

414 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

417 
__END_DECLS


	@/usr/include/unistd.h

23 #i‚def 
_UNISTD_H


24 
	#_UNISTD_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


33 #ifde‡
__USE_XOPEN2K8


35 
	#_POSIX_VERSION
 200809L

	)

36 #ñi‡
deföed
 
__USE_XOPEN2K


38 
	#_POSIX_VERSION
 200112L

	)

39 #ñi‡
deföed
 
__USE_POSIX199506


41 
	#_POSIX_VERSION
 199506L

	)

42 #ñi‡
deföed
 
__USE_POSIX199309


44 
	#_POSIX_VERSION
 199309L

	)

47 
	#_POSIX_VERSION
 199009L

	)

53 #ifde‡
__USE_XOPEN2K8


54 
	#__POSIX2_THIS_VERSION
 200809L

	)

56 #ñi‡
deföed
 
__USE_XOPEN2K


58 
	#__POSIX2_THIS_VERSION
 200112L

	)

59 #ñi‡
deföed
 
__USE_POSIX199506


61 
	#__POSIX2_THIS_VERSION
 199506L

	)

64 
	#__POSIX2_THIS_VERSION
 199209L

	)

68 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

72 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

76 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

80 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

84 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

87 #ifde‡
__USE_XOPEN2K8


88 
	#_XOPEN_VERSION
 700

	)

89 #ñi‡
deföed
 
__USE_XOPEN2K


90 
	#_XOPEN_VERSION
 600

	)

91 #ñi‡
deföed
 
__USE_UNIX98


92 
	#_XOPEN_VERSION
 500

	)

94 
	#_XOPEN_VERSION
 4

	)

98 
	#_XOPEN_XCU_VERSION
 4

	)

101 
	#_XOPEN_XPG2
 1

	)

102 
	#_XOPEN_XPG3
 1

	)

103 
	#_XOPEN_XPG4
 1

	)

106 
	#_XOPEN_UNIX
 1

	)

109 
	#_XOPEN_CRYPT
 1

	)

113 
	#_XOPEN_ENH_I18N
 1

	)

116 
	#_XOPEN_LEGACY
 1

	)

203 
	~<bôs/posix_›t.h
>

206 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


207 
	~<bôs/ívú⁄míts.h
>

211 
	#STDIN_FILENO
 0

	)

212 
	#STDOUT_FILENO
 1

	)

213 
	#STDERR_FILENO
 2

	)

218 
	~<bôs/ty≥s.h
>

220 #i‚def 
__ssize_t_deföed


221 
__ssize_t
 
	tssize_t
;

222 
	#__ssize_t_deföed


	)

225 
	#__√ed_size_t


	)

226 
	#__√ed_NULL


	)

227 
	~<°ddef.h
>

229 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


232 #i‚de‡
__gid_t_deföed


233 
__gid_t
 
	tgid_t
;

234 
	#__gid_t_deföed


	)

237 #i‚de‡
__uid_t_deföed


238 
__uid_t
 
	tuid_t
;

239 
	#__uid_t_deföed


	)

242 #i‚de‡
__off_t_deföed


243 #i‚de‡
__USE_FILE_OFFSET64


244 
__off_t
 
	toff_t
;

246 
__off64_t
 
	toff_t
;

248 
	#__off_t_deföed


	)

250 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


251 
__off64_t
 
	toff64_t
;

252 
	#__off64_t_deföed


	)

255 #i‚de‡
__u£c⁄ds_t_deföed


256 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

257 
	#__u£c⁄ds_t_deföed


	)

260 #i‚de‡
__pid_t_deföed


261 
__pid_t
 
	tpid_t
;

262 
	#__pid_t_deföed


	)

266 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


267 #i‚de‡
__öçå_t_deföed


268 
__öçå_t
 
	töçå_t
;

269 
	#__öçå_t_deföed


	)

273 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


274 #i‚de‡
__sockÀn_t_deföed


275 
__sockÀn_t
 
	tsockÀn_t
;

276 
	#__sockÀn_t_deföed


	)

282 
	#R_OK
 4

	)

283 
	#W_OK
 2

	)

284 
	#X_OK
 1

	)

285 
	#F_OK
 0

	)

288 
	$ac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

290 #ifde‡
__USE_GNU


293 
	$euidac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

294 
__THROW
 
	`__n⁄nuŒ
 ((1));

297 
	$óc˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1));

301 #ifde‡
__USE_ATFILE


305 
	$Ác˚sßt
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__ty≥
, 
__Êag
)

306 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

311 #i‚def 
_STDIO_H


312 
	#SEEK_SET
 0

	)

313 
	#SEEK_CUR
 1

	)

314 
	#SEEK_END
 2

	)

315 #ifde‡
__USE_GNU


316 
	#SEEK_DATA
 3

	)

317 
	#SEEK_HOLE
 4

	)

321 #i‡
deföed
 
__USE_BSD
 && !deföed 
L_SET


323 
	#L_SET
 
SEEK_SET


	)

324 
	#L_INCR
 
SEEK_CUR


	)

325 
	#L_XTND
 
SEEK_END


	)

334 #i‚de‡
__USE_FILE_OFFSET64


335 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

337 #ifde‡
__REDIRECT_NTH


338 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

339 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

340 
l£ek64
);

342 
	#l£ek
 
l£ek64


	)

345 #ifde‡
__USE_LARGEFILE64


346 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

347 
__THROW
;

354 
	`˛o£
 (
__fd
);

361 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

367 
ssize_t
 
	$wrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
Ë
__wur
;

369 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


370 #i‚de‡
__USE_FILE_OFFSET64


377 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

378 
__off_t
 
__off£t
Ë
__wur
;

385 
ssize_t
 
	$pwrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

386 
__off_t
 
__off£t
Ë
__wur
;

388 #ifde‡
__REDIRECT


389 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

390 
__off64_t
 
__off£t
),

391 
¥ód64
Ë
__wur
;

392 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, 
__c⁄°
 *
__buf
,

393 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

394 
pwrôe64
Ë
__wur
;

396 
	#¥ód
 
¥ód64


	)

397 
	#pwrôe
 
pwrôe64


	)

401 #ifde‡
__USE_LARGEFILE64


405 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

406 
__off64_t
 
__off£t
Ë
__wur
;

409 
ssize_t
 
	$pwrôe64
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

410 
__off64_t
 
__off£t
Ë
__wur
;

418 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

420 #ifde‡
__USE_GNU


423 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

433 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

445 
	`¶ìp
 (
__£c⁄ds
);

447 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

448 || 
deföed
 
__USE_BSD


453 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

454 
__THROW
;

461 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

470 
	`∑u£
 ();

474 
	$chown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

475 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

477 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


479 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

484 
	$lchown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

485 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

489 #ifde‡
__USE_ATFILE


492 
	$fchow«t
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
,

493 
__gid_t
 
__group
, 
__Êag
)

494 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

498 
	$chdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

500 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


502 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

512 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

514 #ifdef 
__USE_GNU


518 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

521 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

522 || 
deföed
 
__USE_BSD


526 *
	$gëwd
 (*
__buf
)

527 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

532 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

535 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

537 #ifde‡
__USE_GNU


540 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

544 **
__ívú⁄
;

545 #ifde‡
__USE_GNU


546 **
ívú⁄
;

552 
	$execve
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[],

553 *
__c⁄°
 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

555 #ifde‡
__USE_XOPEN2K8


558 
	$„xecve
 (
__fd
, *
__c⁄°
 
__¨gv
[], *__c⁄° 
__ívp
[])

559 
__THROW
 
	`__n⁄nuŒ
 ((2));

564 
	$execv
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[])

565 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 
	$exe˛e
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

574 
	$exe˛
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

575 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

579 
	$execvp
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[])

580 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

585 
	$exe˛p
 (
__c⁄°
 *
__fûe
, __c⁄° *
__¨g
, ...)

586 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

588 #ifde‡
__USE_GNU


591 
	$execv≥
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[],

592 *
__c⁄°
 
__ívp
[])

593 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

597 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


599 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

604 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

610 
	~<bôs/c⁄‚ame.h
>

613 
	$∑thc⁄f
 (
__c⁄°
 *
__∑th
, 
__«me
)

614 
__THROW
 
	`__n⁄nuŒ
 ((1));

617 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

620 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

622 #ifdef 
__USE_POSIX2


624 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

629 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

632 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

636 #i‚de‡
__FAVOR_BSD


637 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

639 #ifde‡
__REDIRECT_NTH


640 
__pid_t
 
	`__REDIRECT_NTH
 (
gëpgΩ
, (__pid_à
__pid
), 
__gëpgid
);

642 
	#gëpgΩ
 
__gëpgid


	)

647 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

648 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


649 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

656 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

658 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


669 #i‚de‡
__FAVOR_BSD


673 
	$£çgΩ
 (Ë
__THROW
;

678 #ifde‡
__REDIRECT_NTH


679 
	`__REDIRECT_NTH
 (
£çgΩ
, (
__pid_t
 
__pid
, __pid_à
__pgΩ
), 
£çgid
);

681 
	#£çgΩ
 
£çgid


	)

690 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

692 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


694 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

698 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

701 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

704 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

707 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

712 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

714 #ifdef 
__USE_GNU


716 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

723 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
;

725 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


728 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
;

731 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


733 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
;

740 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
;

742 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


745 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
;

748 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


750 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
;

753 #ifde‡
__USE_GNU


756 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

757 
__THROW
;

761 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

762 
__THROW
;

766 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

767 
__THROW
;

771 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

772 
__THROW
;

779 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

781 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

782 || 
deföed
 
__USE_BSD


787 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

793 *
	$ây«me
 (
__fd
Ë
__THROW
;

797 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

798 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

802 
	$ißây
 (
__fd
Ë
__THROW
;

804 #i‡
deföed
 
__USE_BSD
 \

805 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_UNIX98
)

808 
	$ây¶Ÿ
 (Ë
__THROW
;

813 
	$lök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

814 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

816 #ifde‡
__USE_ATFILE


819 
	$lök©
 (
__‰omfd
, 
__c⁄°
 *
__‰om
, 
__tofd
,

820 
__c⁄°
 *
__to
, 
__Êags
)

821 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

824 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


826 
	$symlök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

827 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

832 
ssize_t
 
	$ªadlök
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

833 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

834 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

837 #ifde‡
__USE_ATFILE


839 
	$symlök©
 (
__c⁄°
 *
__‰om
, 
__tofd
,

840 
__c⁄°
 *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

843 
ssize_t
 
	$ªadlök©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

844 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

845 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

849 
	$u∆ök
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

851 #ifde‡
__USE_ATFILE


853 
	$u∆ök©
 (
__fd
, 
__c⁄°
 *
__«me
, 
__Êag
)

854 
__THROW
 
	`__n⁄nuŒ
 ((2));

858 
	$rmdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

862 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

865 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

872 *
	`gëlogö
 ();

873 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


880 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

883 #ifdef 
__USE_BSD


885 
	$£éogö
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

889 #ifdef 
__USE_POSIX2


893 
	#__√ed_gë›t


	)

894 
	~<gë›t.h
>

898 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


902 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

906 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

909 
	$£tho°«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

910 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

914 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

920 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

921 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

922 
	$£tdomaö«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

923 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

929 
	$vh™gup
 (Ë
__THROW
;

932 
	$ªvoke
 (
__c⁄°
 *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

940 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

941 
size_t
 
__off£t
, 
__sˇÀ
)

942 
__THROW
 
	`__n⁄nuŒ
 ((1));

948 
	$ac˘
 (
__c⁄°
 *
__«me
Ë
__THROW
;

952 *
	$gëu£rshñl
 (Ë
__THROW
;

953 
	$ídu£rshñl
 (Ë
__THROW
;

954 
	$£tu£rshñl
 (Ë
__THROW
;

960 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

964 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

967 
	$chroŸ
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

971 *
	$gë∑ss
 (
__c⁄°
 *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

975 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


980 
	`fsync
 (
__fd
);

984 #ifde‡
__USE_GNU


987 
	$syncfs
 (
__fd
Ë
__THROW
;

991 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


994 
	`gëho°id
 ();

997 
	$sync
 (Ë
__THROW
;

1000 #i‡
deföed
 
__USE_BSD
 || !deföed 
__USE_XOPEN2K


1003 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

1008 
	$gëdèbÀsize
 (Ë
__THROW
;

1014 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


1017 #i‚de‡
__USE_FILE_OFFSET64


1018 
	$åunˇã
 (
__c⁄°
 *
__fûe
, 
__off_t
 
__Àngth
)

1019 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1021 #ifde‡
__REDIRECT_NTH


1022 
	`__REDIRECT_NTH
 (
åunˇã
,

1023 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
),

1024 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1026 
	#åunˇã
 
åunˇã64


	)

1029 #ifde‡
__USE_LARGEFILE64


1030 
	$åunˇã64
 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
)

1031 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1036 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1039 #i‚de‡
__USE_FILE_OFFSET64


1040 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1042 #ifde‡
__REDIRECT_NTH


1043 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1044 
·runˇã64
Ë
__wur
;

1046 
	#·runˇã
 
·runˇã64


	)

1049 #ifde‡
__USE_LARGEFILE64


1050 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1056 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1057 || 
deföed
 
__USE_MISC


1061 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1067 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1071 #ifde‡
__USE_MISC


1082 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1087 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1099 
	#F_ULOCK
 0

	)

1100 
	#F_LOCK
 1

	)

1101 
	#F_TLOCK
 2

	)

1102 
	#F_TEST
 3

	)

1104 #i‚de‡
__USE_FILE_OFFSET64


1105 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1107 #ifde‡
__REDIRECT


1108 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1109 
lockf64
Ë
__wur
;

1111 
	#lockf
 
lockf64


	)

1114 #ifde‡
__USE_LARGEFILE64


1115 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1120 #ifde‡
__USE_GNU


1125 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1126 (
__exãnsi⁄__
 \

1127 ({ 
__ªsu…
; \

1128 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1129 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1130 
__ªsu…
; 
	}
}))

	)

1133 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1136 
fd©async
 (
__fûdes
);

1142 #ifdef 
__USE_XOPEN


1144 *
	$¸y±
 (
__c⁄°
 *
__key
, __c⁄° *
__ß…
)

1145 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1149 
	$í¸y±
 (*
__libc_block
, 
__edÊag
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1156 
	$swab
 (
__c⁄°
 *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1157 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1163 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


1165 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1170 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


1171 
	~<bôs/uni°d.h
>

1174 
__END_DECLS


	@/usr/include/alloca.h

19 #i‚def 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<„©uªs.h
>

24 
	#__√ed_size_t


	)

25 
	~<°ddef.h
>

27 
	g__BEGIN_DECLS


30 #unde‡
Æloˇ


33 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

35 #ifdef 
__GNUC__


36 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

39 
__END_DECLS


	@/usr/include/bits/byteswap.h

21 #i‡!
deföed
 
_BYTESWAP_H
 && !deföed 
_NETINET_IN_H
 && !deföed 
_ENDIAN_H


25 #i‚de‡
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<bôs/w‹dsize.h
>

31 
	#__bsw≠_c⁄°™t_16
(
x
) \

32 ((Ë((((
x
Ë>> 8Ë& 0xffË| (((xË& 0xffË<< 8)))

	)

34 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw≠_16
(
x
) \

36 (
__exãnsi⁄__
 \

37 ({ 
__v
, 
__x
 = (Ë(
x
); \

38 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

39 
__v
 = 
	`__bsw≠_c⁄°™t_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "Ù" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw≠_16
(
x
) \

49 (
__exãnsi⁄__
 \

50 ({ 
__x
 = (Ë(
x
); \

51 
	`__bsw≠_c⁄°™t_16
 (
__x
); }))

	)

56 
	#__bsw≠_c⁄°™t_32
(
x
) \

57 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

58 (((
x
Ë& 0x0000ff00Ë<< 8Ë| (((xË& 0x000000ffË<< 24))

	)

60 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

61 #i‡
__WORDSIZE
 =64 || (
deföed
 
__i486__
 || deföed 
__≥¡ium__
 \

62 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

63 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

64 || 
deföed
 
	g__k6__
 || deföed 
	g__noc⁄a__
 \

65 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__geode__
 \

66 || 
deföed
 
	g__amdÁm10__
)

69 
	#__bsw≠_32
(
x
) \

70 (
__exãnsi⁄__
 \

71 ({ 
__v
, 
__x
 = (
x
); \

72 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

73 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

75 
	`__asm__
 ("bsw≠ %0" : "Ù" (
__v
Ë: "0" (
__x
)); \

76 
__v
; }))

	)

78 
	#__bsw≠_32
(
x
) \

79 (
__exãnsi⁄__
 \

80 ({ 
__v
, 
__x
 = (
x
); \

81 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

82 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

84 
	`__asm__
 ("rorw $8, %w0;" \

87 : "Ù" (
__v
) \

88 : "0" (
__x
) \

90 
__v
; }))

	)

93 
	#__bsw≠_32
(
x
) \

94 (
__exãnsi⁄__
 \

95 ({ 
__x
 = (
x
); 
	`__bsw≠_c⁄°™t_32
 (__x); }))

	)

99 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

101 
	#__bsw≠_c⁄°™t_64
(
x
) \

102 (
	`__exãnsi⁄__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

103 | (((
x
) & 0x00ff000000000000ull) >> 40) \

104 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

105 | (((
x
) & 0x000000ff00000000ull) >> 8) \

106 | (((
x
) & 0x00000000ff000000ull) << 8) \

107 | (((
x
) & 0x0000000000ff0000ull) << 24) \

108 | (((
x
) & 0x000000000000ff00ull) << 40) \

109 | (((
x
Ë& 0x00000000000000ffuŒË<< 56)))

	)

111 #i‡
__WORDSIZE
 == 64

112 
	#__bsw≠_64
(
x
) \

113 (
__exãnsi⁄__
 \

114 ({ 
__v
, 
__x
 = (
x
); \

115 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

116 
__v
 = 
	`__bsw≠_c⁄°™t_64
 (
__x
); \

118 
	`__asm__
 ("bsw≠ %q0" : "Ù" (
__v
Ë: "0" (
__x
)); \

119 
__v
; }))

	)

121 
	#__bsw≠_64
(
x
) \

122 (
__exãnsi⁄__
 \

123 ({ uni⁄ { 
__exãnsi⁄__
 
__Œ
; \

124 
__l
[2]; } 
__w
, 
__r
; \

125 i‡(
	`__buûtö_c⁄°™t_p
 (
x
)) \

126 
__r
.
__Œ
 = 
	`__bsw≠_c⁄°™t_64
 (
x
); \

129 
__w
.
__Œ
 = (
x
); \

130 
__r
.
__l
[0] = 
	`__bsw≠_32
 (
__w
.__l[1]); \

131 
__r
.
__l
[1] = 
	`__bsw≠_32
 (
__w
.__l[0]); \

133 
__r
.
__Œ
; }))

	)

	@/usr/include/bits/confname.h

21 #i‚de‡
_UNISTD_H


28 
	m_PC_LINK_MAX
,

29 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

30 
	m_PC_MAX_CANON
,

31 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

32 
	m_PC_MAX_INPUT
,

33 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

34 
	m_PC_NAME_MAX
,

35 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

36 
	m_PC_PATH_MAX
,

37 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

38 
	m_PC_PIPE_BUF
,

39 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

40 
	m_PC_CHOWN_RESTRICTED
,

41 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

42 
	m_PC_NO_TRUNC
,

43 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

44 
	m_PC_VDISABLE
,

45 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

46 
	m_PC_SYNC_IO
,

47 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

48 
	m_PC_ASYNC_IO
,

49 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

50 
	m_PC_PRIO_IO
,

51 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

52 
	m_PC_SOCK_MAXBUF
,

53 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

54 
	m_PC_FILESIZEBITS
,

55 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

56 
	m_PC_REC_INCR_XFER_SIZE
,

57 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

58 
	m_PC_REC_MAX_XFER_SIZE
,

59 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

60 
	m_PC_REC_MIN_XFER_SIZE
,

61 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

62 
	m_PC_REC_XFER_ALIGN
,

63 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

64 
	m_PC_ALLOC_SIZE_MIN
,

65 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

66 
	m_PC_SYMLINK_MAX
,

67 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

68 
	m_PC_2_SYMLINKS


69 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

75 
	m_SC_ARG_MAX
,

76 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

77 
	m_SC_CHILD_MAX
,

78 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

79 
	m_SC_CLK_TCK
,

80 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

81 
	m_SC_NGROUPS_MAX
,

82 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

83 
	m_SC_OPEN_MAX
,

84 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

85 
	m_SC_STREAM_MAX
,

86 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

87 
	m_SC_TZNAME_MAX
,

88 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

89 
	m_SC_JOB_CONTROL
,

90 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

91 
	m_SC_SAVED_IDS
,

92 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

93 
	m_SC_REALTIME_SIGNALS
,

94 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

95 
	m_SC_PRIORITY_SCHEDULING
,

96 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

97 
	m_SC_TIMERS
,

98 
	#_SC_TIMERS
 
_SC_TIMERS


	)

99 
	m_SC_ASYNCHRONOUS_IO
,

100 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

101 
	m_SC_PRIORITIZED_IO
,

102 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

103 
	m_SC_SYNCHRONIZED_IO
,

104 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

105 
	m_SC_FSYNC
,

106 
	#_SC_FSYNC
 
_SC_FSYNC


	)

107 
	m_SC_MAPPED_FILES
,

108 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

109 
	m_SC_MEMLOCK
,

110 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

111 
	m_SC_MEMLOCK_RANGE
,

112 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

113 
	m_SC_MEMORY_PROTECTION
,

114 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

115 
	m_SC_MESSAGE_PASSING
,

116 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

117 
	m_SC_SEMAPHORES
,

118 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

119 
	m_SC_SHARED_MEMORY_OBJECTS
,

120 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

121 
	m_SC_AIO_LISTIO_MAX
,

122 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

123 
	m_SC_AIO_MAX
,

124 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

125 
	m_SC_AIO_PRIO_DELTA_MAX
,

126 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

127 
	m_SC_DELAYTIMER_MAX
,

128 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

129 
	m_SC_MQ_OPEN_MAX
,

130 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

131 
	m_SC_MQ_PRIO_MAX
,

132 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

133 
	m_SC_VERSION
,

134 
	#_SC_VERSION
 
_SC_VERSION


	)

135 
	m_SC_PAGESIZE
,

136 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

137 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

138 
	m_SC_RTSIG_MAX
,

139 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

140 
	m_SC_SEM_NSEMS_MAX
,

141 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

142 
	m_SC_SEM_VALUE_MAX
,

143 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

144 
	m_SC_SIGQUEUE_MAX
,

145 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

146 
	m_SC_TIMER_MAX
,

147 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

151 
	m_SC_BC_BASE_MAX
,

152 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

153 
	m_SC_BC_DIM_MAX
,

154 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

155 
	m_SC_BC_SCALE_MAX
,

156 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

157 
	m_SC_BC_STRING_MAX
,

158 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

159 
	m_SC_COLL_WEIGHTS_MAX
,

160 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

161 
	m_SC_EQUIV_CLASS_MAX
,

162 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

163 
	m_SC_EXPR_NEST_MAX
,

164 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

165 
	m_SC_LINE_MAX
,

166 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

167 
	m_SC_RE_DUP_MAX
,

168 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

169 
	m_SC_CHARCLASS_NAME_MAX
,

170 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

172 
	m_SC_2_VERSION
,

173 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

174 
	m_SC_2_C_BIND
,

175 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

176 
	m_SC_2_C_DEV
,

177 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

178 
	m_SC_2_FORT_DEV
,

179 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

180 
	m_SC_2_FORT_RUN
,

181 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

182 
	m_SC_2_SW_DEV
,

183 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

184 
	m_SC_2_LOCALEDEF
,

185 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

187 
	m_SC_PII
,

188 
	#_SC_PII
 
_SC_PII


	)

189 
	m_SC_PII_XTI
,

190 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

191 
	m_SC_PII_SOCKET
,

192 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

193 
	m_SC_PII_INTERNET
,

194 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

195 
	m_SC_PII_OSI
,

196 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

197 
	m_SC_POLL
,

198 
	#_SC_POLL
 
_SC_POLL


	)

199 
	m_SC_SELECT
,

200 
	#_SC_SELECT
 
_SC_SELECT


	)

201 
	m_SC_UIO_MAXIOV
,

202 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

203 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

204 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

205 
	m_SC_PII_INTERNET_STREAM
,

206 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

207 
	m_SC_PII_INTERNET_DGRAM
,

208 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

209 
	m_SC_PII_OSI_COTS
,

210 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

211 
	m_SC_PII_OSI_CLTS
,

212 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

213 
	m_SC_PII_OSI_M
,

214 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

215 
	m_SC_T_IOV_MAX
,

216 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

219 
	m_SC_THREADS
,

220 
	#_SC_THREADS
 
_SC_THREADS


	)

221 
	m_SC_THREAD_SAFE_FUNCTIONS
,

222 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

223 
	m_SC_GETGR_R_SIZE_MAX
,

224 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

225 
	m_SC_GETPW_R_SIZE_MAX
,

226 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

227 
	m_SC_LOGIN_NAME_MAX
,

228 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

229 
	m_SC_TTY_NAME_MAX
,

230 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

231 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

232 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

233 
	m_SC_THREAD_KEYS_MAX
,

234 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

235 
	m_SC_THREAD_STACK_MIN
,

236 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

237 
	m_SC_THREAD_THREADS_MAX
,

238 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

239 
	m_SC_THREAD_ATTR_STACKADDR
,

240 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

241 
	m_SC_THREAD_ATTR_STACKSIZE
,

242 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

243 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

244 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

245 
	m_SC_THREAD_PRIO_INHERIT
,

246 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

247 
	m_SC_THREAD_PRIO_PROTECT
,

248 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

249 
	m_SC_THREAD_PROCESS_SHARED
,

250 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

252 
	m_SC_NPROCESSORS_CONF
,

253 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

254 
	m_SC_NPROCESSORS_ONLN
,

255 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

256 
	m_SC_PHYS_PAGES
,

257 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

258 
	m_SC_AVPHYS_PAGES
,

259 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

260 
	m_SC_ATEXIT_MAX
,

261 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

262 
	m_SC_PASS_MAX
,

263 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

265 
	m_SC_XOPEN_VERSION
,

266 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

267 
	m_SC_XOPEN_XCU_VERSION
,

268 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

269 
	m_SC_XOPEN_UNIX
,

270 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

271 
	m_SC_XOPEN_CRYPT
,

272 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

273 
	m_SC_XOPEN_ENH_I18N
,

274 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

275 
	m_SC_XOPEN_SHM
,

276 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

278 
	m_SC_2_CHAR_TERM
,

279 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

280 
	m_SC_2_C_VERSION
,

281 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

282 
	m_SC_2_UPE
,

283 
	#_SC_2_UPE
 
_SC_2_UPE


	)

285 
	m_SC_XOPEN_XPG2
,

286 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

287 
	m_SC_XOPEN_XPG3
,

288 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

289 
	m_SC_XOPEN_XPG4
,

290 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

292 
	m_SC_CHAR_BIT
,

293 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

294 
	m_SC_CHAR_MAX
,

295 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

296 
	m_SC_CHAR_MIN
,

297 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

298 
	m_SC_INT_MAX
,

299 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

300 
	m_SC_INT_MIN
,

301 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

302 
	m_SC_LONG_BIT
,

303 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

304 
	m_SC_WORD_BIT
,

305 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

306 
	m_SC_MB_LEN_MAX
,

307 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

308 
	m_SC_NZERO
,

309 
	#_SC_NZERO
 
_SC_NZERO


	)

310 
	m_SC_SSIZE_MAX
,

311 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

312 
	m_SC_SCHAR_MAX
,

313 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

314 
	m_SC_SCHAR_MIN
,

315 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

316 
	m_SC_SHRT_MAX
,

317 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

318 
	m_SC_SHRT_MIN
,

319 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

320 
	m_SC_UCHAR_MAX
,

321 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

322 
	m_SC_UINT_MAX
,

323 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

324 
	m_SC_ULONG_MAX
,

325 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

326 
	m_SC_USHRT_MAX
,

327 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

329 
	m_SC_NL_ARGMAX
,

330 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

331 
	m_SC_NL_LANGMAX
,

332 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

333 
	m_SC_NL_MSGMAX
,

334 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

335 
	m_SC_NL_NMAX
,

336 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

337 
	m_SC_NL_SETMAX
,

338 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

339 
	m_SC_NL_TEXTMAX
,

340 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

342 
	m_SC_XBS5_ILP32_OFF32
,

343 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

344 
	m_SC_XBS5_ILP32_OFFBIG
,

345 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

346 
	m_SC_XBS5_LP64_OFF64
,

347 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

348 
	m_SC_XBS5_LPBIG_OFFBIG
,

349 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

351 
	m_SC_XOPEN_LEGACY
,

352 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

353 
	m_SC_XOPEN_REALTIME
,

354 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

355 
	m_SC_XOPEN_REALTIME_THREADS
,

356 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

358 
	m_SC_ADVISORY_INFO
,

359 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

360 
	m_SC_BARRIERS
,

361 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

362 
	m_SC_BASE
,

363 
	#_SC_BASE
 
_SC_BASE


	)

364 
	m_SC_C_LANG_SUPPORT
,

365 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

366 
	m_SC_C_LANG_SUPPORT_R
,

367 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

368 
	m_SC_CLOCK_SELECTION
,

369 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

370 
	m_SC_CPUTIME
,

371 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

372 
	m_SC_THREAD_CPUTIME
,

373 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

374 
	m_SC_DEVICE_IO
,

375 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

376 
	m_SC_DEVICE_SPECIFIC
,

377 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

378 
	m_SC_DEVICE_SPECIFIC_R
,

379 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

380 
	m_SC_FD_MGMT
,

381 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

382 
	m_SC_FIFO
,

383 
	#_SC_FIFO
 
_SC_FIFO


	)

384 
	m_SC_PIPE
,

385 
	#_SC_PIPE
 
_SC_PIPE


	)

386 
	m_SC_FILE_ATTRIBUTES
,

387 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

388 
	m_SC_FILE_LOCKING
,

389 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

390 
	m_SC_FILE_SYSTEM
,

391 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

392 
	m_SC_MONOTONIC_CLOCK
,

393 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

394 
	m_SC_MULTI_PROCESS
,

395 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

396 
	m_SC_SINGLE_PROCESS
,

397 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

398 
	m_SC_NETWORKING
,

399 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

400 
	m_SC_READER_WRITER_LOCKS
,

401 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

402 
	m_SC_SPIN_LOCKS
,

403 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

404 
	m_SC_REGEXP
,

405 
	#_SC_REGEXP
 
_SC_REGEXP


	)

406 
	m_SC_REGEX_VERSION
,

407 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

408 
	m_SC_SHELL
,

409 
	#_SC_SHELL
 
_SC_SHELL


	)

410 
	m_SC_SIGNALS
,

411 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

412 
	m_SC_SPAWN
,

413 
	#_SC_SPAWN
 
_SC_SPAWN


	)

414 
	m_SC_SPORADIC_SERVER
,

415 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

416 
	m_SC_THREAD_SPORADIC_SERVER
,

417 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

418 
	m_SC_SYSTEM_DATABASE
,

419 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

420 
	m_SC_SYSTEM_DATABASE_R
,

421 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

422 
	m_SC_TIMEOUTS
,

423 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

424 
	m_SC_TYPED_MEMORY_OBJECTS
,

425 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

426 
	m_SC_USER_GROUPS
,

427 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

428 
	m_SC_USER_GROUPS_R
,

429 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

430 
	m_SC_2_PBS
,

431 
	#_SC_2_PBS
 
_SC_2_PBS


	)

432 
	m_SC_2_PBS_ACCOUNTING
,

433 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

434 
	m_SC_2_PBS_LOCATE
,

435 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

436 
	m_SC_2_PBS_MESSAGE
,

437 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

438 
	m_SC_2_PBS_TRACK
,

439 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

440 
	m_SC_SYMLOOP_MAX
,

441 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

442 
	m_SC_STREAMS
,

443 
	#_SC_STREAMS
 
_SC_STREAMS


	)

444 
	m_SC_2_PBS_CHECKPOINT
,

445 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

447 
	m_SC_V6_ILP32_OFF32
,

448 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

449 
	m_SC_V6_ILP32_OFFBIG
,

450 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

451 
	m_SC_V6_LP64_OFF64
,

452 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

453 
	m_SC_V6_LPBIG_OFFBIG
,

454 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

456 
	m_SC_HOST_NAME_MAX
,

457 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

458 
	m_SC_TRACE
,

459 
	#_SC_TRACE
 
_SC_TRACE


	)

460 
	m_SC_TRACE_EVENT_FILTER
,

461 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

462 
	m_SC_TRACE_INHERIT
,

463 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

464 
	m_SC_TRACE_LOG
,

465 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

467 
	m_SC_LEVEL1_ICACHE_SIZE
,

468 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

469 
	m_SC_LEVEL1_ICACHE_ASSOC
,

470 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

471 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

472 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

473 
	m_SC_LEVEL1_DCACHE_SIZE
,

474 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

475 
	m_SC_LEVEL1_DCACHE_ASSOC
,

476 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

477 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

478 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

479 
	m_SC_LEVEL2_CACHE_SIZE
,

480 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

481 
	m_SC_LEVEL2_CACHE_ASSOC
,

482 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

483 
	m_SC_LEVEL2_CACHE_LINESIZE
,

484 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

485 
	m_SC_LEVEL3_CACHE_SIZE
,

486 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

487 
	m_SC_LEVEL3_CACHE_ASSOC
,

488 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

489 
	m_SC_LEVEL3_CACHE_LINESIZE
,

490 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

491 
	m_SC_LEVEL4_CACHE_SIZE
,

492 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

493 
	m_SC_LEVEL4_CACHE_ASSOC
,

494 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

495 
	m_SC_LEVEL4_CACHE_LINESIZE
,

496 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

499 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

500 
	#_SC_IPV6
 
_SC_IPV6


	)

501 
	m_SC_RAW_SOCKETS
,

502 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

504 
	m_SC_V7_ILP32_OFF32
,

505 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

506 
	m_SC_V7_ILP32_OFFBIG
,

507 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

508 
	m_SC_V7_LP64_OFF64
,

509 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

510 
	m_SC_V7_LPBIG_OFFBIG
,

511 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

513 
	m_SC_SS_REPL_MAX
,

514 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

516 
	m_SC_TRACE_EVENT_NAME_MAX
,

517 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

518 
	m_SC_TRACE_NAME_MAX
,

519 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

520 
	m_SC_TRACE_SYS_MAX
,

521 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

522 
	m_SC_TRACE_USER_EVENT_MAX
,

523 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

525 
	m_SC_XOPEN_STREAMS
,

526 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

528 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

529 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

530 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


531 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

537 
	m_CS_PATH
,

538 
	#_CS_PATH
 
_CS_PATH


	)

540 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

541 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

544 
	m_CS_GNU_LIBC_VERSION
,

545 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

546 
	m_CS_GNU_LIBPTHREAD_VERSION
,

547 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

549 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

550 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

553 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

554 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

557 
	m_CS_LFS_CFLAGS
 = 1000,

558 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

559 
	m_CS_LFS_LDFLAGS
,

560 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

561 
	m_CS_LFS_LIBS
,

562 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

563 
	m_CS_LFS_LINTFLAGS
,

564 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

565 
	m_CS_LFS64_CFLAGS
,

566 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

567 
	m_CS_LFS64_LDFLAGS
,

568 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

569 
	m_CS_LFS64_LIBS
,

570 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

571 
	m_CS_LFS64_LINTFLAGS
,

572 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

575 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

577 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

579 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

580 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

581 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

588 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

589 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

593 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

594 
	m_CS_XBS5_LP64_OFF64_LIBS
,

595 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

596 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

597 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

604 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

605 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

613 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

621 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

622 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

629 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

630 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

637 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

638 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

646 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

654 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

655 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

662 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

663 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

670 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

671 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

673 
	m_CS_V6_ENV
,

674 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

675 
	m_CS_V7_ENV


676 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/dirent.h

19 #i‚de‡
_DIRENT_H


23 
	sdúít


25 #i‚de‡
__USE_FILE_OFFSET64


26 
__öo_t
 
	md_öo
;

27 
__off_t
 
	md_off
;

29 
__öo64_t
 
	md_öo
;

30 
__off64_t
 
	md_off
;

32 
	md_ª˛í
;

33 
	md_ty≥
;

34 
	md_«me
[256];

37 #ifde‡
__USE_LARGEFILE64


38 
	sdúít64


40 
__öo64_t
 
	md_öo
;

41 
__off64_t
 
	md_off
;

42 
	md_ª˛í
;

43 
	md_ty≥
;

44 
	md_«me
[256];

48 
	#d_fûío
 
d_öo


	)

50 #unde‡
_DIRENT_HAVE_D_NAMLEN


51 
	#_DIRENT_HAVE_D_RECLEN


	)

52 
	#_DIRENT_HAVE_D_OFF


	)

53 
	#_DIRENT_HAVE_D_TYPE


	)

	@/usr/include/bits/environments.h

19 #i‚de‡
_UNISTD_H


23 
	~<bôs/w‹dsize.h
>

43 #i‡
__WORDSIZE
 == 64

57 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

58 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

59 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

62 
	#_POSIX_V7_LP64_OFF64
 1

	)

63 
	#_POSIX_V6_LP64_OFF64
 1

	)

64 
	#_XBS5_LP64_OFF64
 1

	)

70 
	#_POSIX_V7_ILP32_OFF32
 1

	)

71 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

72 
	#_POSIX_V6_ILP32_OFF32
 1

	)

73 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

74 
	#_XBS5_ILP32_OFF32
 1

	)

75 
	#_XBS5_ILP32_OFFBIG
 1

	)

92 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

93 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

94 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

95 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

96 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

97 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

20 #ifde‡
_ERRNO_H


22 #unde‡
EDOM


23 #unde‡
EILSEQ


24 #unde‡
ERANGE


25 
	~<löux/î∫o.h
>

28 
	#ENOTSUP
 
EOPNOTSUPP


	)

31 #i‚de‡
ECANCELED


32 
	#ECANCELED
 125

	)

36 #i‚de‡
EOWNERDEAD


37 
	#EOWNERDEAD
 130

	)

38 
	#ENOTRECOVERABLE
 131

	)

41 #i‚de‡
ERFKILL


42 
	#ERFKILL
 132

	)

45 #i‚de‡
__ASSEMBLER__


47 *
	$__î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

49 #i‡!
deföed
 
_LIBC
 || deföed 
_LIBC_REENTRANT


51 
	#î∫o
 (*
	`__î∫o_loˇti⁄
 ())

	)

56 #i‡!
deföed
 
_ERRNO_H
 && deföed 
__√ed_Em©h


60 
	#EDOM
 33

	)

61 
	#EILSEQ
 84

	)

62 
	#ERANGE
 34

	)

	@/usr/include/bits/fcntl.h

21 #i‚def 
_FCNTL_H


25 
	~<sys/ty≥s.h
>

26 
	~<bôs/w‹dsize.h
>

27 #ifde‡
__USE_GNU


28 
	~<bôs/uio.h
>

34 
	#O_ACCMODE
 0003

	)

35 
	#O_RDONLY
 00

	)

36 
	#O_WRONLY
 01

	)

37 
	#O_RDWR
 02

	)

38 
	#O_CREAT
 0100

	)

39 
	#O_EXCL
 0200

	)

40 
	#O_NOCTTY
 0400

	)

41 
	#O_TRUNC
 01000

	)

42 
	#O_APPEND
 02000

	)

43 
	#O_NONBLOCK
 04000

	)

44 
	#O_NDELAY
 
O_NONBLOCK


	)

45 
	#O_SYNC
 04010000

	)

46 
	#O_FSYNC
 
O_SYNC


	)

47 
	#O_ASYNC
 020000

	)

49 #ifde‡
__USE_XOPEN2K8


50 
	#O_DIRECTORY
 0200000

	)

51 
	#O_NOFOLLOW
 0400000

	)

52 
	#O_CLOEXEC
 02000000

	)

54 #ifde‡
__USE_GNU


55 
	#O_DIRECT
 040000

	)

56 
	#O_NOATIME
 01000000

	)

57 
	#O_PATH
 010000000

	)

63 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


64 
	#O_DSYNC
 010000

	)

65 
	#O_RSYNC
 
O_SYNC


	)

68 #ifde‡
__USE_LARGEFILE64


69 #i‡
__WORDSIZE
 == 64

70 
	#O_LARGEFILE
 0

	)

72 
	#O_LARGEFILE
 0100000

	)

77 
	#F_DUPFD
 0

	)

78 
	#F_GETFD
 1

	)

79 
	#F_SETFD
 2

	)

80 
	#F_GETFL
 3

	)

81 
	#F_SETFL
 4

	)

82 #i‡
__WORDSIZE
 == 64

83 
	#F_GETLK
 5

	)

84 
	#F_SETLK
 6

	)

85 
	#F_SETLKW
 7

	)

87 
	#F_GETLK64
 5

	)

88 
	#F_SETLK64
 6

	)

89 
	#F_SETLKW64
 7

	)

91 #i‚de‡
__USE_FILE_OFFSET64


92 
	#F_GETLK
 5

	)

93 
	#F_SETLK
 6

	)

94 
	#F_SETLKW
 7

	)

96 
	#F_GETLK
 
F_GETLK64


	)

97 
	#F_SETLK
 
F_SETLK64


	)

98 
	#F_SETLKW
 
F_SETLKW64


	)

100 
	#F_GETLK64
 12

	)

101 
	#F_SETLK64
 13

	)

102 
	#F_SETLKW64
 14

	)

105 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


106 
	#F_SETOWN
 8

	)

107 
	#F_GETOWN
 9

	)

110 #ifde‡
__USE_GNU


111 
	#F_SETSIG
 10

	)

112 
	#F_GETSIG
 11

	)

113 
	#F_SETOWN_EX
 15

	)

114 
	#F_GETOWN_EX
 16

	)

117 #ifde‡
__USE_GNU


118 
	#F_SETLEASE
 1024

	)

119 
	#F_GETLEASE
 1025

	)

120 
	#F_NOTIFY
 1026

	)

121 
	#F_SETPIPE_SZ
 1031

	)

122 
	#F_GETPIPE_SZ
 1032

	)

124 #ifde‡
__USE_XOPEN2K8


125 
	#F_DUPFD_CLOEXEC
 1030

	)

130 
	#FD_CLOEXEC
 1

	)

133 
	#F_RDLCK
 0

	)

134 
	#F_WRLCK
 1

	)

135 
	#F_UNLCK
 2

	)

138 
	#F_EXLCK
 4

	)

139 
	#F_SHLCK
 8

	)

141 #ifde‡
__USE_BSD


143 
	#LOCK_SH
 1

	)

144 
	#LOCK_EX
 2

	)

145 
	#LOCK_NB
 4

	)

147 
	#LOCK_UN
 8

	)

150 #ifde‡
__USE_GNU


151 
	#LOCK_MAND
 32

	)

152 
	#LOCK_READ
 64

	)

153 
	#LOCK_WRITE
 128

	)

154 
	#LOCK_RW
 192

	)

157 #ifde‡
__USE_GNU


159 
	#DN_ACCESS
 0x00000001

	)

160 
	#DN_MODIFY
 0x00000002

	)

161 
	#DN_CREATE
 0x00000004

	)

162 
	#DN_DELETE
 0x00000008

	)

163 
	#DN_RENAME
 0x00000010

	)

164 
	#DN_ATTRIB
 0x00000020

	)

165 
	#DN_MULTISHOT
 0x80000000

	)

168 
	sÊock


170 
	ml_ty≥
;

171 
	ml_whí˚
;

172 #i‚de‡
__USE_FILE_OFFSET64


173 
__off_t
 
	ml_°¨t
;

174 
__off_t
 
	ml_Àn
;

176 
__off64_t
 
	ml_°¨t
;

177 
__off64_t
 
	ml_Àn
;

179 
__pid_t
 
	ml_pid
;

182 #ifde‡
__USE_LARGEFILE64


183 
	sÊock64


185 
	ml_ty≥
;

186 
	ml_whí˚
;

187 
__off64_t
 
	ml_°¨t
;

188 
__off64_t
 
	ml_Àn
;

189 
__pid_t
 
	ml_pid
;

193 #ifde‡
__USE_GNU


195 
	e__pid_ty≥


197 
	mF_OWNER_TID
 = 0,

198 
	mF_OWNER_PID
,

199 
	mF_OWNER_PGRP
,

200 
	mF_OWNER_GID
 = 
F_OWNER_PGRP


204 
	sf_ow√r_ex


206 
__pid_ty≥
 
	mty≥
;

207 
__pid_t
 
	mpid
;

213 #ifdef 
__USE_BSD


214 
	#FAPPEND
 
O_APPEND


	)

215 
	#FFSYNC
 
O_FSYNC


	)

216 
	#FASYNC
 
O_ASYNC


	)

217 
	#FNONBLOCK
 
O_NONBLOCK


	)

218 
	#FNDELAY
 
O_NDELAY


	)

222 #ifde‡
__USE_XOPEN2K


223 
	#POSIX_FADV_NORMAL
 0

	)

224 
	#POSIX_FADV_RANDOM
 1

	)

225 
	#POSIX_FADV_SEQUENTIAL
 2

	)

226 
	#POSIX_FADV_WILLNEED
 3

	)

227 
	#POSIX_FADV_DONTNEED
 4

	)

228 
	#POSIX_FADV_NOREUSE
 5

	)

232 #ifde‡
__USE_GNU


234 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

237 
	#SYNC_FILE_RANGE_WRITE
 2

	)

240 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

245 
	#SPLICE_F_MOVE
 1

	)

246 
	#SPLICE_F_NONBLOCK
 2

	)

249 
	#SPLICE_F_MORE
 4

	)

250 
	#SPLICE_F_GIFT
 8

	)

254 
	sfûe_h™dÀ


256 
	mh™dÀ_byãs
;

257 
	mh™dÀ_ty≥
;

259 
	mf_h™dÀ
[0];

263 
	#MAX_HANDLE_SZ
 128

	)

267 #ifde‡
__USE_ATFILE


268 
	#AT_FDCWD
 -100

	)

271 
	#AT_SYMLINK_NOFOLLOW
 0x100

	)

272 
	#AT_REMOVEDIR
 0x200

	)

274 
	#AT_SYMLINK_FOLLOW
 0x400

	)

275 
	#AT_NO_AUTOMOUNT
 0x800

	)

277 
	#AT_EMPTY_PATH
 0x1000

	)

278 
	#AT_EACCESS
 0x200

	)

282 
	g__BEGIN_DECLS


284 #ifde‡
__USE_GNU


287 
ssize_t
 
	$ªadahód
 (
__fd
, 
__off64_t
 
__off£t
, 
size_t
 
__cou¡
)

288 
__THROW
;

295 
	`sync_fûe_ønge
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__cou¡
,

296 
__Êags
);

303 
ssize_t
 
	`vm•li˚
 (
__fdout
, c⁄° 
iovec
 *
__iov
,

304 
size_t
 
__cou¡
, 
__Êags
);

310 
ssize_t
 
	`•li˚
 (
__fdö
, 
__off64_t
 *
__offö
, 
__fdout
,

311 
__off64_t
 *
__offout
, 
size_t
 
__Àn
,

312 
__Êags
);

318 
ssize_t
 
	`ãe
 (
__fdö
, 
__fdout
, 
size_t
 
__Àn
,

319 
__Êags
);

325 #i‚de‡
__USE_FILE_OFFSET64


326 
	`ÁŒoˇã
 (
__fd
, 
__mode
, 
__off_t
 
__off£t
, __off_à
__Àn
);

328 #ifde‡
__REDIRECT


329 
	`__REDIRECT
 (
ÁŒoˇã
, (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

330 
__off64_t
 
__Àn
),

331 
ÁŒoˇã64
);

333 
	#ÁŒoˇã
 
ÁŒoˇã64


	)

336 #ifde‡
__USE_LARGEFILE64


337 
	`ÁŒoˇã64
 (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

338 
__off64_t
 
__Àn
);

343 
	$«me_to_h™dÀ_©
 (
__dfd
, c⁄° *
__«me
,

344 
fûe_h™dÀ
 *
__h™dÀ
, *
__m¡_id
,

345 
__Êags
Ë
__THROW
;

351 
	`›í_by_h™dÀ_©
 (
__mou¡dúfd
, 
fûe_h™dÀ
 *
__h™dÀ
,

352 
__Êags
);

356 
__END_DECLS


	@/usr/include/bits/fcntl2.h

20 #i‚def 
_FCNTL_H


26 #i‚de‡
__USE_FILE_OFFSET64


27 
	$__›í_2
 (
__c⁄°
 *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

28 
	`__REDIRECT
 (
__›í_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
, ...),

29 
›í
Ë
	`__n⁄nuŒ
 ((1));

31 
	`__REDIRECT
 (
__›í_2
, (
__c⁄°
 *
__∑th
, 
__oÊag
),

32 
__›í64_2
Ë
	`__n⁄nuŒ
 ((1));

33 
	`__REDIRECT
 (
__›í_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
, ...),

34 
›í64
Ë
	`__n⁄nuŒ
 ((1));

36 
	`__îr‹de˛
 (
__›í_too_m™y_¨gs
,

38 
	`__îr‹de˛
 (
__›í_missög_mode
,

41 
__exã∫_Æways_ölöe
 

42 
	$›í
 (
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

44 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

45 
	`__›í_too_m™y_¨gs
 ();

47 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

49 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

51 
	`__›í_missög_mode
 ();

52  
	`__›í_2
 (
__∑th
, 
__oÊag
);

54  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

57 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

58  
	`__›í_2
 (
__∑th
, 
__oÊag
);

60  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

61 
	}
}

64 #ifde‡
__USE_LARGEFILE64


65 
	$__›í64_2
 (
__c⁄°
 *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

66 
	`__REDIRECT
 (
__›í64_Æüs
, (
__c⁄°
 *
__∑th
, 
__oÊag
,

67 ...), 
›í64
Ë
	`__n⁄nuŒ
 ((1));

68 
	`__îr‹de˛
 (
__›í64_too_m™y_¨gs
,

70 
	`__îr‹de˛
 (
__›í64_missög_mode
,

73 
__exã∫_Æways_ölöe
 

74 
	$›í64
 (
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

76 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

77 
	`__›í64_too_m™y_¨gs
 ();

79 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

81 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

83 
	`__›í64_missög_mode
 ();

84  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

86  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

89 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

90  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

92  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

93 
	}
}

97 #ifde‡
__USE_ATFILE


98 #i‚de‡
__USE_FILE_OFFSET64


99 
	$__›í©_2
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
)

100 
	`__n⁄nuŒ
 ((2));

101 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

102 
__oÊag
, ...), 
›í©
)

103 
	`__n⁄nuŒ
 ((2));

105 
	`__REDIRECT
 (
__›í©_2
, (
__fd
, 
__c⁄°
 *
__∑th
,

106 
__oÊag
), 
__›í©64_2
)

107 
	`__n⁄nuŒ
 ((2));

108 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

109 
__oÊag
, ...), 
›í©64
)

110 
	`__n⁄nuŒ
 ((2));

112 
	`__îr‹de˛
 (
__›í©_too_m™y_¨gs
,

114 
	`__îr‹de˛
 (
__›í©_missög_mode
,

117 
__exã∫_Æways_ölöe
 

118 
	$›í©
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

120 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

121 
	`__›í©_too_m™y_¨gs
 ();

123 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

125 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

127 
	`__›í©_missög_mode
 ();

128  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

130  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

133 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

134  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

136  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

137 
	}
}

140 #ifde‡
__USE_LARGEFILE64


141 
	$__›í©64_2
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
)

142 
	`__n⁄nuŒ
 ((2));

143 
	`__REDIRECT
 (
__›í©64_Æüs
, (
__fd
, 
__c⁄°
 *
__∑th
,

144 
__oÊag
, ...), 
›í©64
)

145 
	`__n⁄nuŒ
 ((2));

146 
	`__îr‹de˛
 (
__›í©64_too_m™y_¨gs
,

148 
	`__îr‹de˛
 (
__›í©64_missög_mode
,

151 
__exã∫_Æways_ölöe
 

152 
	$›í©64
 (
__fd
, 
__c⁄°
 *
__∑th
, 
__oÊag
, ...)

154 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

155 
	`__›í©64_too_m™y_¨gs
 ();

157 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

159 i‡((
__oÊag
 & 
O_CREAT
Ë!0 && 
	`__va_¨g_∑ck_Àn
 () < 1)

161 
	`__›í©64_missög_mode
 ();

162  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

164  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

167 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

168  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

170  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

171 
	}
}

	@/usr/include/bits/in.h

21 #i‚de‡
_NETINET_IN_H


28 
	#IP_OPTIONS
 4

	)

29 
	#IP_HDRINCL
 3

	)

30 
	#IP_TOS
 1

	)

31 
	#IP_TTL
 2

	)

32 
	#IP_RECVOPTS
 6

	)

34 
	#IP_RECVRETOPTS
 
IP_RETOPTS


	)

35 
	#IP_RETOPTS
 7

	)

36 
	#IP_MULTICAST_IF
 32

	)

37 
	#IP_MULTICAST_TTL
 33

	)

38 
	#IP_MULTICAST_LOOP
 34

	)

39 
	#IP_ADD_MEMBERSHIP
 35

	)

40 
	#IP_DROP_MEMBERSHIP
 36

	)

41 
	#IP_UNBLOCK_SOURCE
 37

	)

42 
	#IP_BLOCK_SOURCE
 38

	)

43 
	#IP_ADD_SOURCE_MEMBERSHIP
 39

	)

44 
	#IP_DROP_SOURCE_MEMBERSHIP
 40

	)

45 
	#IP_MSFILTER
 41

	)

46 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


47 
	#MCAST_JOIN_GROUP
 42

	)

48 
	#MCAST_BLOCK_SOURCE
 43

	)

49 
	#MCAST_UNBLOCK_SOURCE
 44

	)

50 
	#MCAST_LEAVE_GROUP
 45

	)

51 
	#MCAST_JOIN_SOURCE_GROUP
 46

	)

52 
	#MCAST_LEAVE_SOURCE_GROUP
 47

	)

53 
	#MCAST_MSFILTER
 48

	)

55 
	#MCAST_EXCLUDE
 0

	)

56 
	#MCAST_INCLUDE
 1

	)

59 
	#IP_ROUTER_ALERT
 5

	)

60 
	#IP_PKTINFO
 8

	)

61 
	#IP_PKTOPTIONS
 9

	)

62 
	#IP_PMTUDISC
 10

	)

63 
	#IP_MTU_DISCOVER
 10

	)

64 
	#IP_RECVERR
 11

	)

65 
	#IP_RECVTTL
 12

	)

66 
	#IP_RECVTOS
 13

	)

67 
	#IP_MTU
 14

	)

68 
	#IP_FREEBIND
 15

	)

69 
	#IP_IPSEC_POLICY
 16

	)

70 
	#IP_XFRM_POLICY
 17

	)

71 
	#IP_PASSSEC
 18

	)

72 
	#IP_TRANSPARENT
 19

	)

73 
	#IP_MULTICAST_ALL
 49

	)

76 
	#IP_ORIGDSTADDR
 20

	)

77 
	#IP_RECVORIGDSTADDR
 
IP_ORIGDSTADDR


	)

79 
	#IP_MINTTL
 21

	)

83 
	#IP_PMTUDISC_DONT
 0

	)

84 
	#IP_PMTUDISC_WANT
 1

	)

85 
	#IP_PMTUDISC_DO
 2

	)

86 
	#IP_PMTUDISC_PROBE
 3

	)

89 
	#SOL_IP
 0

	)

91 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

92 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

93 
	#IP_MAX_MEMBERSHIPS
 20

	)

95 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


99 
	sù_›ts


101 
ö_addr
 
	mù_d°
;

102 
	mù_›ts
[40];

106 
	sù_mªqn


108 
ö_addr
 
	mimr_mu…üddr
;

109 
ö_addr
 
	mimr_addªss
;

110 
	mimr_ifödex
;

114 
	sö_pktöfo


116 
	mùi_ifödex
;

117 
ö_addr
 
	mùi_•ec_d°
;

118 
ö_addr
 
	mùi_addr
;

125 
	#IPV6_ADDRFORM
 1

	)

126 
	#IPV6_2292PKTINFO
 2

	)

127 
	#IPV6_2292HOPOPTS
 3

	)

128 
	#IPV6_2292DSTOPTS
 4

	)

129 
	#IPV6_2292RTHDR
 5

	)

130 
	#IPV6_2292PKTOPTIONS
 6

	)

131 
	#IPV6_CHECKSUM
 7

	)

132 
	#IPV6_2292HOPLIMIT
 8

	)

134 
	#SCM_SRCRT
 
IPV6_RXSRCRT


	)

136 
	#IPV6_NEXTHOP
 9

	)

137 
	#IPV6_AUTHHDR
 10

	)

138 
	#IPV6_UNICAST_HOPS
 16

	)

139 
	#IPV6_MULTICAST_IF
 17

	)

140 
	#IPV6_MULTICAST_HOPS
 18

	)

141 
	#IPV6_MULTICAST_LOOP
 19

	)

142 
	#IPV6_JOIN_GROUP
 20

	)

143 
	#IPV6_LEAVE_GROUP
 21

	)

144 
	#IPV6_ROUTER_ALERT
 22

	)

145 
	#IPV6_MTU_DISCOVER
 23

	)

146 
	#IPV6_MTU
 24

	)

147 
	#IPV6_RECVERR
 25

	)

148 
	#IPV6_V6ONLY
 26

	)

149 
	#IPV6_JOIN_ANYCAST
 27

	)

150 
	#IPV6_LEAVE_ANYCAST
 28

	)

151 
	#IPV6_IPSEC_POLICY
 34

	)

152 
	#IPV6_XFRM_POLICY
 35

	)

154 
	#IPV6_RECVPKTINFO
 49

	)

155 
	#IPV6_PKTINFO
 50

	)

156 
	#IPV6_RECVHOPLIMIT
 51

	)

157 
	#IPV6_HOPLIMIT
 52

	)

158 
	#IPV6_RECVHOPOPTS
 53

	)

159 
	#IPV6_HOPOPTS
 54

	)

160 
	#IPV6_RTHDRDSTOPTS
 55

	)

161 
	#IPV6_RECVRTHDR
 56

	)

162 
	#IPV6_RTHDR
 57

	)

163 
	#IPV6_RECVDSTOPTS
 58

	)

164 
	#IPV6_DSTOPTS
 59

	)

166 
	#IPV6_RECVTCLASS
 66

	)

167 
	#IPV6_TCLASS
 67

	)

170 
	#IPV6_ADD_MEMBERSHIP
 
IPV6_JOIN_GROUP


	)

171 
	#IPV6_DROP_MEMBERSHIP
 
IPV6_LEAVE_GROUP


	)

172 
	#IPV6_RXHOPOPTS
 
IPV6_HOPOPTS


	)

173 
	#IPV6_RXDSTOPTS
 
IPV6_DSTOPTS


	)

176 
	#IPV6_PMTUDISC_DONT
 0

	)

177 
	#IPV6_PMTUDISC_WANT
 1

	)

178 
	#IPV6_PMTUDISC_DO
 2

	)

179 
	#IPV6_PMTUDISC_PROBE
 3

	)

182 
	#SOL_IPV6
 41

	)

183 
	#SOL_ICMPV6
 58

	)

186 
	#IPV6_RTHDR_LOOSE
 0

	)

187 
	#IPV6_RTHDR_STRICT
 1

	)

189 
	#IPV6_RTHDR_TYPE_0
 0

	)

	@/usr/include/bits/ioctl-types.h

20 #i‚de‡
_SYS_IOCTL_H


25 
	~<asm/io˘ls.h
>

28 
	swösize


30 
	mws_row
;

31 
	mws_cﬁ
;

32 
	mws_xpixñ
;

33 
	mws_ypixñ
;

36 
	#NCC
 8

	)

37 
	sãrmio


39 
	mc_iÊag
;

40 
	mc_oÊag
;

41 
	mc_cÊag
;

42 
	mc_lÊag
;

43 
	mc_löe
;

44 
	mc_cc
[
NCC
];

48 
	#TIOCM_LE
 0x001

	)

49 
	#TIOCM_DTR
 0x002

	)

50 
	#TIOCM_RTS
 0x004

	)

51 
	#TIOCM_ST
 0x008

	)

52 
	#TIOCM_SR
 0x010

	)

53 
	#TIOCM_CTS
 0x020

	)

54 
	#TIOCM_CAR
 0x040

	)

55 
	#TIOCM_RNG
 0x080

	)

56 
	#TIOCM_DSR
 0x100

	)

57 
	#TIOCM_CD
 
TIOCM_CAR


	)

58 
	#TIOCM_RI
 
TIOCM_RNG


	)

63 
	#N_TTY
 0

	)

64 
	#N_SLIP
 1

	)

65 
	#N_MOUSE
 2

	)

66 
	#N_PPP
 3

	)

67 
	#N_STRIP
 4

	)

68 
	#N_AX25
 5

	)

69 
	#N_X25
 6

	)

70 
	#N_6PACK
 7

	)

71 
	#N_MASC
 8

	)

72 
	#N_R3964
 9

	)

73 
	#N_PROFIBUS_FDL
 10

	)

74 
	#N_IRDA
 11

	)

75 
	#N_SMSBLOCK
 12

	)

76 
	#N_HDLC
 13

	)

77 
	#N_SYNC_PPP
 14

	)

78 
	#N_HCI
 15

	)

	@/usr/include/bits/ioctls.h

19 #i‚de‡
_SYS_IOCTL_H


24 
	~<asm/io˘ls.h
>

27 
	#SIOCADDRT
 0x890B

	)

28 
	#SIOCDELRT
 0x890C

	)

29 
	#SIOCRTMSG
 0x890D

	)

32 
	#SIOCGIFNAME
 0x8910

	)

33 
	#SIOCSIFLINK
 0x8911

	)

34 
	#SIOCGIFCONF
 0x8912

	)

35 
	#SIOCGIFFLAGS
 0x8913

	)

36 
	#SIOCSIFFLAGS
 0x8914

	)

37 
	#SIOCGIFADDR
 0x8915

	)

38 
	#SIOCSIFADDR
 0x8916

	)

39 
	#SIOCGIFDSTADDR
 0x8917

	)

40 
	#SIOCSIFDSTADDR
 0x8918

	)

41 
	#SIOCGIFBRDADDR
 0x8919

	)

42 
	#SIOCSIFBRDADDR
 0x891®

	)

43 
	#SIOCGIFNETMASK
 0x891b

	)

44 
	#SIOCSIFNETMASK
 0x891¯

	)

45 
	#SIOCGIFMETRIC
 0x891d

	)

46 
	#SIOCSIFMETRIC
 0x891ê

	)

47 
	#SIOCGIFMEM
 0x891‡

	)

48 
	#SIOCSIFMEM
 0x8920

	)

49 
	#SIOCGIFMTU
 0x8921

	)

50 
	#SIOCSIFMTU
 0x8922

	)

51 
	#SIOCSIFNAME
 0x8923

	)

52 
	#SIOCSIFHWADDR
 0x8924

	)

53 
	#SIOCGIFENCAP
 0x8925

	)

54 
	#SIOCSIFENCAP
 0x8926

	)

55 
	#SIOCGIFHWADDR
 0x8927

	)

56 
	#SIOCGIFSLAVE
 0x8929

	)

57 
	#SIOCSIFSLAVE
 0x8930

	)

58 
	#SIOCADDMULTI
 0x8931

	)

59 
	#SIOCDELMULTI
 0x8932

	)

60 
	#SIOCGIFINDEX
 0x8933

	)

61 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

62 
	#SIOCSIFPFLAGS
 0x8934

	)

63 
	#SIOCGIFPFLAGS
 0x8935

	)

64 
	#SIOCDIFADDR
 0x8936

	)

65 
	#SIOCSIFHWBROADCAST
 0x8937

	)

66 
	#SIOCGIFCOUNT
 0x8938

	)

68 
	#SIOCGIFBR
 0x8940

	)

69 
	#SIOCSIFBR
 0x8941

	)

71 
	#SIOCGIFTXQLEN
 0x8942

	)

72 
	#SIOCSIFTXQLEN
 0x8943

	)

77 
	#SIOCDARP
 0x8953

	)

78 
	#SIOCGARP
 0x8954

	)

79 
	#SIOCSARP
 0x8955

	)

82 
	#SIOCDRARP
 0x8960

	)

83 
	#SIOCGRARP
 0x8961

	)

84 
	#SIOCSRARP
 0x8962

	)

88 
	#SIOCGIFMAP
 0x8970

	)

89 
	#SIOCSIFMAP
 0x8971

	)

93 
	#SIOCADDDLCI
 0x8980

	)

94 
	#SIOCDELDLCI
 0x8981

	)

103 
	#SIOCDEVPRIVATE
 0x89F0

	)

109 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/bits/ipc.h

19 #i‚de‡
_SYS_IPC_H


23 
	~<bôs/ty≥s.h
>

26 
	#IPC_CREAT
 01000

	)

27 
	#IPC_EXCL
 02000

	)

28 
	#IPC_NOWAIT
 04000

	)

31 
	#IPC_RMID
 0

	)

32 
	#IPC_SET
 1

	)

33 
	#IPC_STAT
 2

	)

34 #ifde‡
__USE_GNU


35 
	#IPC_INFO
 3

	)

39 
	#IPC_PRIVATE
 ((
__key_t
Ë0Ë

	)

43 
	sùc_≥rm


45 
__key_t
 
	m__key
;

46 
__uid_t
 
	muid
;

47 
__gid_t
 
	mgid
;

48 
__uid_t
 
	mcuid
;

49 
__gid_t
 
	mcgid
;

50 
	mmode
;

51 
	m__∑d1
;

52 
	m__£q
;

53 
	m__∑d2
;

54 
	m__unu£d1
;

55 
	m__unu£d2
;

	@/usr/include/bits/ipctypes.h

24 #i‚de‡
_BITS_IPCTYPES_H


25 
	#_BITS_IPCTYPES_H
 1

	)

27 
	~<bôs/ty≥s.h
>

30 #i‡
__WORDSIZE
 == 32

31 
	t__ùc_pid_t
;

33 
	t__ùc_pid_t
;

	@/usr/include/bits/msq.h

19 #i‚de‡
_SYS_MSG_H


23 
	~<bôs/ty≥s.h
>

24 
	~<bôs/w‹dsize.h
>

27 
	#MSG_NOERROR
 010000

	)

28 #ifde‡
__USE_GNU


29 
	#MSG_EXCEPT
 020000

	)

33 
	tmsgqnum_t
;

34 
	tmsgÀn_t
;

38 
	smsqid_ds


40 
ùc_≥rm
 
	mmsg_≥rm
;

41 
__time_t
 
	mmsg_°ime
;

42 #i‡
__WORDSIZE
 == 32

43 
	m__unu£d1
;

45 
__time_t
 
	mmsg_πime
;

46 #i‡
__WORDSIZE
 == 32

47 
	m__unu£d2
;

49 
__time_t
 
	mmsg_˘ime
;

50 #i‡
__WORDSIZE
 == 32

51 
	m__unu£d3
;

53 
	m__msg_cbyãs
;

54 
msgqnum_t
 
	mmsg_qnum
;

55 
msgÀn_t
 
	mmsg_qbyãs
;

56 
__pid_t
 
	mmsg_l•id
;

57 
__pid_t
 
	mmsg_Ãpid
;

58 
	m__unu£d4
;

59 
	m__unu£d5
;

62 #ifde‡
__USE_MISC


64 
	#msg_cbyãs
 
__msg_cbyãs


	)

67 
	#MSG_STAT
 11

	)

68 
	#MSG_INFO
 12

	)

71 
	smsgöfo


73 
	mmsgpoﬁ
;

74 
	mmsgm≠
;

75 
	mmsgmax
;

76 
	mmsgmnb
;

77 
	mmsgmni
;

78 
	mmsgssz
;

79 
	mmsgtql
;

80 
	mmsg£g
;

	@/usr/include/bits/posix1_lim.h

25 #i‚def 
_BITS_POSIX1_LIM_H


26 
	#_BITS_POSIX1_LIM_H
 1

	)

32 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

35 
	#_POSIX_AIO_MAX
 1

	)

38 
	#_POSIX_ARG_MAX
 4096

	)

41 #ifde‡
__USE_XOPEN2K


42 
	#_POSIX_CHILD_MAX
 25

	)

44 
	#_POSIX_CHILD_MAX
 6

	)

48 
	#_POSIX_DELAYTIMER_MAX
 32

	)

52 
	#_POSIX_HOST_NAME_MAX
 255

	)

55 
	#_POSIX_LINK_MAX
 8

	)

58 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

61 
	#_POSIX_MAX_CANON
 255

	)

65 
	#_POSIX_MAX_INPUT
 255

	)

68 
	#_POSIX_MQ_OPEN_MAX
 8

	)

71 
	#_POSIX_MQ_PRIO_MAX
 32

	)

74 
	#_POSIX_NAME_MAX
 14

	)

77 #ifde‡
__USE_XOPEN2K


78 
	#_POSIX_NGROUPS_MAX
 8

	)

80 
	#_POSIX_NGROUPS_MAX
 0

	)

84 #ifde‡
__USE_XOPEN2K


85 
	#_POSIX_OPEN_MAX
 20

	)

87 
	#_POSIX_OPEN_MAX
 16

	)

90 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


93 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

97 
	#_POSIX_PATH_MAX
 256

	)

100 
	#_POSIX_PIPE_BUF
 512

	)

104 
	#_POSIX_RE_DUP_MAX
 255

	)

107 
	#_POSIX_RTSIG_MAX
 8

	)

110 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

113 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

116 
	#_POSIX_SIGQUEUE_MAX
 32

	)

119 
	#_POSIX_SSIZE_MAX
 32767

	)

122 
	#_POSIX_STREAM_MAX
 8

	)

125 
	#_POSIX_SYMLINK_MAX
 255

	)

129 
	#_POSIX_SYMLOOP_MAX
 8

	)

132 
	#_POSIX_TIMER_MAX
 32

	)

135 
	#_POSIX_TTY_NAME_MAX
 9

	)

138 
	#_POSIX_TZNAME_MAX
 6

	)

140 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


142 
	#_POSIX_QLIMIT
 1

	)

146 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

149 
	#_POSIX_UIO_MAXIOV
 16

	)

153 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

157 
	~<bôs/loˇl_lim.h
>

160 #i‚def 
SSIZE_MAX


161 
	#SSIZE_MAX
 
LONG_MAX


	)

168 #i‚def 
NGROUPS_MAX


169 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix_opt.h

20 #i‚def 
_BITS_POSIX_OPT_H


21 
	#_BITS_POSIX_OPT_H
 1

	)

24 
	#_POSIX_JOB_CONTROL
 1

	)

27 
	#_POSIX_SAVED_IDS
 1

	)

30 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

33 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

36 
	#_POSIX_FSYNC
 200809L

	)

39 
	#_POSIX_MAPPED_FILES
 200809L

	)

42 
	#_POSIX_MEMLOCK
 200809L

	)

45 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

48 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

51 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

55 
	#_POSIX_VDISABLE
 '\0'

	)

58 
	#_POSIX_NO_TRUNC
 1

	)

61 
	#_XOPEN_REALTIME
 1

	)

64 
	#_XOPEN_REALTIME_THREADS
 1

	)

67 
	#_XOPEN_SHM
 1

	)

70 
	#_POSIX_THREADS
 200809L

	)

73 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

74 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

77 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

80 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

83 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

86 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

90 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

92 #ifde‡
__USE_XOPEN2K8


94 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

97 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

101 
	#_POSIX_SEMAPHORES
 200809L

	)

104 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

107 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

108 
	#_POSIX_ASYNC_IO
 1

	)

110 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

112 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

115 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

118 
	#_LFS_LARGEFILE
 1

	)

119 
	#_LFS64_LARGEFILE
 1

	)

120 
	#_LFS64_STDIO
 1

	)

123 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

126 
	#_POSIX_CPUTIME
 0

	)

129 
	#_POSIX_THREAD_CPUTIME
 0

	)

132 
	#_POSIX_REGEXP
 1

	)

135 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

138 
	#_POSIX_SHELL
 1

	)

141 
	#_POSIX_TIMEOUTS
 200809L

	)

144 
	#_POSIX_SPIN_LOCKS
 200809L

	)

147 
	#_POSIX_SPAWN
 200809L

	)

150 
	#_POSIX_TIMERS
 200809L

	)

153 
	#_POSIX_BARRIERS
 200809L

	)

156 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

159 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

162 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

165 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

168 
	#_POSIX_ADVISORY_INFO
 200809L

	)

171 
	#_POSIX_IPV6
 200809L

	)

174 
	#_POSIX_RAW_SOCKETS
 200809L

	)

177 
	#_POSIX2_CHAR_TERM
 200809L

	)

180 
	#_POSIX_SPORADIC_SERVER
 -1

	)

181 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

184 
	#_POSIX_TRACE
 -1

	)

185 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

186 
	#_POSIX_TRACE_INHERIT
 -1

	)

187 
	#_POSIX_TRACE_LOG
 -1

	)

190 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

20 #i‚de‡
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<bôs/w‹dsize.h
>

25 #i‡
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±hªad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__Æign
;

57 } 
	t±hªad_©å_t
;

60 #i‡
__WORDSIZE
 == 64

61 
	s__±hªad_öã∫Æ_li°


63 
__±hªad_öã∫Æ_li°
 *
	m__¥ev
;

64 
__±hªad_öã∫Æ_li°
 *
	m__√xt
;

65 } 
	t__±hªad_li°_t
;

67 
	s__±hªad_öã∫Æ_¶i°


69 
__±hªad_öã∫Æ_¶i°
 *
	m__√xt
;

70 } 
	t__±hªad_¶i°_t
;

78 
	s__±hªad_muãx_s


80 
	m__lock
;

81 
	m__cou¡
;

82 
	m__ow√r
;

83 #i‡
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__köd
;

89 #i‡
__WORDSIZE
 == 64

90 
	m__•ös
;

91 
__±hªad_li°_t
 
	m__li°
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__exãnsi⁄__
 union

97 
	m__•ös
;

98 
__±hªad_¶i°_t
 
	m__li°
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__Æign
;

104 } 
	t±hªad_muãx_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__Æign
;

110 } 
	t±hªad_muãx©å_t
;

119 
	m__lock
;

120 
	m__fuãx
;

121 
__exãnsi⁄__
 
	m__tŸÆ_£q
;

122 
__exãnsi⁄__
 
	m__wakeup_£q
;

123 
__exãnsi⁄__
 
	m__wokí_£q
;

124 *
	m__muãx
;

125 
	m__nwaôîs
;

126 
	m__brﬂdˇ°_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__exãnsi⁄__
 
	m__Æign
;

130 } 
	t±hªad_c⁄d_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__Æign
;

136 } 
	t±hªad_c⁄d©å_t
;

140 
	t±hªad_key_t
;

144 
	t±hªad_⁄˚_t
;

147 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


152 #i‡
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__ƒ_ªadîs
;

157 
	m__ªadîs_wakeup
;

158 
	m__wrôî_wakeup
;

159 
	m__ƒ_ªadîs_queued
;

160 
	m__ƒ_wrôîs_queued
;

161 
	m__wrôî
;

162 
	m__sh¨ed
;

163 
	m__∑d1
;

164 
	m__∑d2
;

167 
	m__Êags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__ƒ_ªadîs
;

174 
	m__ªadîs_wakeup
;

175 
	m__wrôî_wakeup
;

176 
	m__ƒ_ªadîs_queued
;

177 
	m__ƒ_wrôîs_queued
;

180 
	m__Êags
;

181 
	m__sh¨ed
;

182 
	m__∑d1
;

183 
	m__∑d2
;

184 
	m__wrôî
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__Æign
;

189 } 
	t±hªad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__Æign
;

195 } 
	t±hªad_rwlock©å_t
;

199 #ifde‡
__USE_XOPEN2K


201 vﬁ©ûê
	t±hªad_•ölock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__Æign
;

210 } 
	t±hªad_b¨rõr_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__Æign
;

216 } 
	t±hªad_b¨rõøâr_t
;

220 #i‡
__WORDSIZE
 == 32

222 
	#__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
	`__ªg∑rm__
 (1)))

	)

	@/usr/include/bits/sched.h

22 #i‚de‡
__√ed_sched∑øm


24 #i‚de‡
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifde‡
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

35 
	#SCHED_IDLE
 5

	)

37 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

40 #ifde‡
__USE_GNU


42 
	#CSIGNAL
 0x000000f‡

	)

43 
	#CLONE_VM
 0x00000100

	)

44 
	#CLONE_FS
 0x00000200

	)

45 
	#CLONE_FILES
 0x00000400

	)

46 
	#CLONE_SIGHAND
 0x00000800

	)

47 
	#CLONE_PTRACE
 0x00002000

	)

48 
	#CLONE_VFORK
 0x00004000

	)

50 
	#CLONE_PARENT
 0x00008000

	)

52 
	#CLONE_THREAD
 0x00010000

	)

53 
	#CLONE_NEWNS
 0x00020000

	)

54 
	#CLONE_SYSVSEM
 0x00040000

	)

55 
	#CLONE_SETTLS
 0x00080000

	)

56 
	#CLONE_PARENT_SETTID
 0x00100000

	)

58 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

60 
	#CLONE_DETACHED
 0x00400000

	)

61 
	#CLONE_UNTRACED
 0x00800000

	)

63 
	#CLONE_CHILD_SETTID
 0x01000000

	)

65 
	#CLONE_NEWUTS
 0x04000000

	)

66 
	#CLONE_NEWIPC
 0x08000000

	)

67 
	#CLONE_NEWUSER
 0x10000000

	)

68 
	#CLONE_NEWPID
 0x20000000

	)

69 
	#CLONE_NEWNET
 0x40000000

	)

70 
	#CLONE_IO
 0x80000000

	)

74 
	ssched_∑øm


76 
	m__sched_¥i‹ôy
;

79 
	g__BEGIN_DECLS


81 #ifde‡
__USE_GNU


83 
˛⁄e
 ((*
__‚
Ë(*
__¨g
), *
__chûd_°ack
,

84 
__Êags
, *
__¨g
, ...Ë
__THROW
;

87 
	$unsh¨e
 (
__Êags
Ë
__THROW
;

90 
	$sched_gë˝u
 (Ë
__THROW
;

93 
	$£äs
 (
__fd
, 
__n°y≥
Ë
__THROW
;

97 
__END_DECLS


101 #i‡!
deföed
 
__deföed_sched∑øm
 \

102 && (
deföed
 
__√ed_sched∑øm
 || deföed 
_SCHED_H
)

103 
	#__deföed_sched∑øm
 1

	)

105 
	s__sched_∑øm


107 
__sched_¥i‹ôy
;

109 #unde‡
__√ed_sched∑øm


113 #i‡
deföed
 
_SCHED_H
 && !deföed 
__˝u_£t_t_deföed


114 
	#__˝u_£t_t_deföed


	)

116 
	#__CPU_SETSIZE
 1024

	)

117 
	#__NCPUBITS
 (8 *  (
__˝u_mask
))

	)

120 
	t__˝u_mask
;

123 
	#__CPUELT
(
˝u
Ë((˝uË/ 
__NCPUBITS
)

	)

124 
	#__CPUMASK
(
˝u
Ë((
__˝u_mask
Ë1 << ((˝uË% 
__NCPUBITS
))

	)

129 
__˝u_mask
 
__bôs
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

130 } 
	t˝u_£t_t
;

133 #i‡
	`__GNUC_PREREQ
 (2, 91)

134 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

135 dÿ
	`__buûtö_mem£t
 (
˝u£ç
, '\0', 
£tsize
); 0)

	)

137 
	#__CPU_ZERO_S
(
£tsize
, 
˝u£ç
) \

139 
size_t
 
__i
; \

140 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

141 
__˝u_mask
 *
__bôs
 = (
˝u£ç
)->__bits; \

142 
__i
 = 0; __ò< 
__imax
; ++__i) \

143 
__bôs
[
__i
] = 0; \

144 
	}
} 0)

	)

146 
	#__CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

147 (
__exãnsi⁄__
 \

148 ({ 
size_t
 
__˝u
 = (
˝u
); \

149 
__˝u
 < 8 * (
£tsize
) \

150 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

151 |
	`__CPUMASK
 (
__˝u
)) \

152 : 0; }))

	)

153 
	#__CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

154 (
__exãnsi⁄__
 \

155 ({ 
size_t
 
__˝u
 = (
˝u
); \

156 
__˝u
 < 8 * (
£tsize
) \

157 ? (((
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

158 &~
	`__CPUMASK
 (
__˝u
)) \

159 : 0; }))

	)

160 
	#__CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
) \

161 (
__exãnsi⁄__
 \

162 ({ 
size_t
 
__˝u
 = (
˝u
); \

163 
__˝u
 < 8 * (
£tsize
) \

164 ? ((((
__c⁄°
 
__˝u_mask
 *Ë((
˝u£ç
)->
__bôs
))[
	`__CPUELT
 (
__˝u
)] \

165 & 
	`__CPUMASK
 (
__˝u
))) != 0 \

166 : 0; }))

	)

168 
	#__CPU_COUNT_S
(
£tsize
, 
˝u£ç
) \

169 
	`__sched_˝ucou¡
 (
£tsize
, 
˝u£ç
)

	)

171 #i‡
__GNUC_PREREQ
 (2, 91)

172 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

173 (
	`__buûtö_memcmp
 (
˝u£ç1
, 
˝u£ç2
, 
£tsize
Ë=0)

	)

175 
	#__CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

176 (
__exãnsi⁄__
 \

177 ({ 
__c⁄°
 
__˝u_mask
 *
__¨r1
 = (
˝u£ç1
)->
__bôs
; \

178 
__c⁄°
 
__˝u_mask
 *
__¨r2
 = (
˝u£ç2
)->
__bôs
; \

179 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

180 
size_t
 
__i
; \

181 
__i
 = 0; __ò< 
__imax
; ++__i) \

182 i‡(
__¨r1
[
__i
] !
__¨r2
[__i]) \

184 
__i
 =
__imax
; }))

	)

187 
	#__CPU_OP_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, 
›
) \

188 (
__exãnsi⁄__
 \

189 ({ 
˝u_£t_t
 *
__de°
 = (
de°£t
); \

190 
__c⁄°
 
__˝u_mask
 *
__¨r1
 = (
§c£t1
)->
__bôs
; \

191 
__c⁄°
 
__˝u_mask
 *
__¨r2
 = (
§c£t2
)->
__bôs
; \

192 
size_t
 
__imax
 = (
£tsize
Ë/  (
__˝u_mask
); \

193 
size_t
 
__i
; \

194 
__i
 = 0; __ò< 
__imax
; ++__i) \

195 ((
__˝u_mask
 *Ë
__de°
->
__bôs
)[
__i
] = 
__¨r1
[__i] 
›
 
__¨r2
[__i]; \

196 
__de°
; }))

	)

198 
	#__CPU_ALLOC_SIZE
(
cou¡
) \

199 ((((
cou¡
Ë+ 
__NCPUBITS
 - 1Ë/ __NCPUBITSË*  (
__˝u_mask
))

	)

200 
	#__CPU_ALLOC
(
cou¡
Ë
	`__sched_˝uÆloc
 (cou¡)

	)

201 
	#__CPU_FREE
(
˝u£t
Ë
	`__sched_˝u‰ì
 (˝u£t)

	)

203 
__BEGIN_DECLS


205 
	$__sched_˝ucou¡
 (
size_t
 
__£tsize
, c⁄° 
˝u_£t_t
 *
__£ç
)

206 
__THROW
;

207 
˝u_£t_t
 *
	$__sched_˝uÆloc
 (
size_t
 
__cou¡
Ë
__THROW
 
__wur
;

208 
	$__sched_˝u‰ì
 (
˝u_£t_t
 *
__£t
Ë
__THROW
;

210 
__END_DECLS


	@/usr/include/bits/semaphore.h

20 #i‚de‡
_SEMAPHORE_H


24 
	~<bôs/w‹dsize.h
>

26 #i‡
__WORDSIZE
 == 64

27 
	#__SIZEOF_SEM_T
 32

	)

29 
	#__SIZEOF_SEM_T
 16

	)

34 
	#SEM_FAILED
 ((
£m_t
 *Ë0)

	)

39 
	m__size
[
__SIZEOF_SEM_T
];

40 
	m__Æign
;

41 } 
	t£m_t
;

	@/usr/include/bits/setjmp.h

20 #i‚de‡
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #i‡!
deföed
 
_SETJMP_H
 && !deföed 
_PTHREAD_H


27 
	~<bôs/w‹dsize.h
>

29 #i‚de‡
_ASM


31 #i‡
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/bits/shm.h

20 #i‚de‡
_SYS_SHM_H


24 
	~<bôs/ty≥s.h
>

27 
	#SHM_R
 0400

	)

28 
	#SHM_W
 0200

	)

31 
	#SHM_RDONLY
 010000

	)

32 
	#SHM_RND
 020000

	)

33 
	#SHM_REMAP
 040000

	)

34 
	#SHM_EXEC
 0100000

	)

37 
	#SHM_LOCK
 11

	)

38 
	#SHM_UNLOCK
 12

	)

40 
	g__BEGIN_DECLS


43 
	#SHMLBA
 (
	`__gë∑gesize
 ())

	)

44 
	$__gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

48 
	tshm©t_t
;

51 
	sshmid_ds


53 
ùc_≥rm
 
shm_≥rm
;

54 
size_t
 
shm_£gsz
;

55 
__time_t
 
shm_©ime
;

56 #i‡
__WORDSIZE
 == 32

57 
__unu£d1
;

59 
__time_t
 
shm_dtime
;

60 #i‡
__WORDSIZE
 == 32

61 
__unu£d2
;

63 
__time_t
 
shm_˘ime
;

64 #i‡
__WORDSIZE
 == 32

65 
__unu£d3
;

67 
__pid_t
 
shm_˝id
;

68 
__pid_t
 
shm_Õid
;

69 
shm©t_t
 
shm_«âch
;

70 
__unu£d4
;

71 
__unu£d5
;

74 #ifde‡
__USE_MISC


77 
	#SHM_STAT
 13

	)

78 
	#SHM_INFO
 14

	)

81 
	#SHM_DEST
 01000

	)

82 
	#SHM_LOCKED
 02000

	)

83 
	#SHM_HUGETLB
 04000

	)

84 
	#SHM_NORESERVE
 010000

	)

86 
	sshmöfo


88 
shmmax
;

89 
shmmö
;

90 
shmmni
;

91 
shm£g
;

92 
shmÆl
;

93 
__unu£d1
;

94 
__unu£d2
;

95 
__unu£d3
;

96 
__unu£d4
;

99 
	sshm_öfo


101 
u£d_ids
;

102 
shm_tŸ
;

103 
shm_rss
;

104 
shm_swp
;

105 
sw≠_©ãm±s
;

106 
sw≠_suc˚s£s
;

111 
__END_DECLS


	@/usr/include/bits/sigaction.h

20 #i‚de‡
_SIGNAL_H


25 
	ssiga˘i⁄


28 #ifde‡
__USE_POSIX199309


32 
__sigh™dÀr_t
 
	mß_h™dÀr
;

34 (*
	mß_siga˘i⁄
Ë(, 
	msigöfo_t
 *, *);

36 
	m__siga˘i⁄_h™dÀr
;

37 
	#ß_h™dÀr
 
__siga˘i⁄_h™dÀr
.
ß_h™dÀr


	)

38 
	#ß_siga˘i⁄
 
__siga˘i⁄_h™dÀr
.
ß_siga˘i⁄


	)

40 
__sigh™dÀr_t
 
	mß_h™dÀr
;

44 
__sig£t_t
 
	mß_mask
;

47 
	mß_Êags
;

50 (*
	mß_ª°‹î
) ();

54 
	#SA_NOCLDSTOP
 1

	)

55 
	#SA_NOCLDWAIT
 2

	)

56 
	#SA_SIGINFO
 4

	)

58 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_MISC


59 
	#SA_ONSTACK
 0x08000000

	)

61 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


62 
	#SA_RESTART
 0x10000000

	)

63 
	#SA_NODEFER
 0x40000000

	)

65 
	#SA_RESETHAND
 0x80000000

	)

67 #ifde‡
__USE_MISC


68 
	#SA_INTERRUPT
 0x20000000

	)

71 
	#SA_NOMASK
 
SA_NODEFER


	)

72 
	#SA_ONESHOT
 
SA_RESETHAND


	)

73 
	#SA_STACK
 
SA_ONSTACK


	)

77 
	#SIG_BLOCK
 0

	)

78 
	#SIG_UNBLOCK
 1

	)

79 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

19 #i‚de‡
_BITS_SIGCONTEXT_H


20 
	#_BITS_SIGCONTEXT_H
 1

	)

22 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_SYS_UCONTEXT_H


26 
	~<bôs/w‹dsize.h
>

28 
	s_Âªg


30 
	msignifiˇnd
[4];

31 
	mexp⁄ít
;

34 
	s_Âxªg


36 
	msignifiˇnd
[4];

37 
	mexp⁄ít
;

38 
	m∑ddög
[3];

41 
	s_xmmªg


43 
__uöt32_t
 
	mñemít
[4];

48 #i‡
__WORDSIZE
 == 32

50 
	s_Â°©e


53 
__uöt32_t
 
	mcw
;

54 
__uöt32_t
 
	msw
;

55 
__uöt32_t
 
	mèg
;

56 
__uöt32_t
 
	mùoff
;

57 
__uöt32_t
 
	mcs£l
;

58 
__uöt32_t
 
	md©aoff
;

59 
__uöt32_t
 
	md©a£l
;

60 
_Âªg
 
	m_°
[8];

61 
	m°©us
;

62 
	mmagic
;

65 
__uöt32_t
 
	m_fx§_ív
[6];

66 
__uöt32_t
 
	mmxc§
;

67 
__uöt32_t
 
	mª£rved
;

68 
_Âxªg
 
	m_fx§_°
[8];

69 
_xmmªg
 
	m_xmm
[8];

70 
__uöt32_t
 
	m∑ddög
[56];

73 #i‚de‡
sigc⁄ãxt_°ru˘


78 
	#sigc⁄ãxt_°ru˘
 
sigc⁄ãxt


	)

81 
	ssigc⁄ãxt


83 
	mgs
, 
	m__gsh
;

84 
	mfs
, 
	m__fsh
;

85 
	mes
, 
	m__esh
;

86 
	mds
, 
	m__dsh
;

87 
	medi
;

88 
	mesi
;

89 
	mebp
;

90 
	me•
;

91 
	mebx
;

92 
	medx
;

93 
	mecx
;

94 
	móx
;

95 
	må≠no
;

96 
	mîr
;

97 
	meù
;

98 
	mcs
, 
	m__csh
;

99 
	meÊags
;

100 
	me•_©_sig«l
;

101 
	mss
, 
	m__ssh
;

102 
_Â°©e
 * 
	mÂ°©e
;

103 
	mﬁdmask
;

104 
	m¸2
;

109 
	s_Â°©e


112 
__uöt16_t
 
	mcwd
;

113 
__uöt16_t
 
	mswd
;

114 
__uöt16_t
 
	m·w
;

115 
__uöt16_t
 
	mf›
;

116 
__uöt64_t
 
	mrù
;

117 
__uöt64_t
 
	mrdp
;

118 
__uöt32_t
 
	mmxc§
;

119 
__uöt32_t
 
	mmx¸_mask
;

120 
_Âxªg
 
	m_°
[8];

121 
_xmmªg
 
	m_xmm
[16];

122 
__uöt32_t
 
	m∑ddög
[24];

125 
	ssigc⁄ãxt


127 
	mr8
;

128 
	mr9
;

129 
	mr10
;

130 
	mr11
;

131 
	mr12
;

132 
	mr13
;

133 
	mr14
;

134 
	mr15
;

135 
	mrdi
;

136 
	mrsi
;

137 
	mrbp
;

138 
	mrbx
;

139 
	mrdx
;

140 
	møx
;

141 
	mrcx
;

142 
	mr•
;

143 
	mrù
;

144 
	meÊags
;

145 
	mcs
;

146 
	mgs
;

147 
	mfs
;

148 
	m__∑d0
;

149 
	mîr
;

150 
	må≠no
;

151 
	mﬁdmask
;

152 
	m¸2
;

153 
_Â°©e
 * 
	mÂ°©e
;

154 
	m__ª£rved1
 [8];

	@/usr/include/bits/siginfo.h

20 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
__√ed_sigöfo_t
 \

21 && !
deföed
 
	g__√ed_sigevít_t


25 
	~<bôs/w‹dsize.h
>

27 #i‡(!
deföed
 
__have_sigvÆ_t
 \

28 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
 \

29 || 
deföed
 
	g__√ed_sigevít_t
))

30 
	#__have_sigvÆ_t
 1

	)

33 
	usigvÆ


35 
	msivÆ_öt
;

36 *
	msivÆ_±r
;

37 } 
	tsigvÆ_t
;

40 #i‡(!
deföed
 
__have_sigöfo_t
 \

41 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
))

42 
	#__have_sigöfo_t
 1

	)

44 
	#__SI_MAX_SIZE
 128

	)

45 #i‡
__WORDSIZE
 == 64

46 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 4)

	)

48 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 3)

	)

51 
	ssigöfo


53 
	msi_signo
;

54 
	msi_î∫o
;

56 
	msi_code
;

60 
	m_∑d
[
__SI_PAD_SIZE
];

65 
__pid_t
 
	msi_pid
;

66 
__uid_t
 
	msi_uid
;

67 } 
	m_kûl
;

72 
	msi_tid
;

73 
	msi_ovîrun
;

74 
sigvÆ_t
 
	msi_sigvÆ
;

75 } 
	m_timî
;

80 
__pid_t
 
	msi_pid
;

81 
__uid_t
 
	msi_uid
;

82 
sigvÆ_t
 
	msi_sigvÆ
;

83 } 
	m_π
;

88 
__pid_t
 
	msi_pid
;

89 
__uid_t
 
	msi_uid
;

90 
	msi_°©us
;

91 
__˛ock_t
 
	msi_utime
;

92 
__˛ock_t
 
	msi_°ime
;

93 } 
	m_sigchld
;

98 *
	msi_addr
;

99 } 
	m_sigÁu…
;

104 
	msi_b™d
;

105 
	msi_fd
;

106 } 
	m_sigpﬁl
;

107 } 
	m_sifõlds
;

108 } 
	tsigöfo_t
;

112 
	#si_pid
 
_sifõlds
.
_kûl
.
si_pid


	)

113 
	#si_uid
 
_sifõlds
.
_kûl
.
si_uid


	)

114 
	#si_timîid
 
_sifõlds
.
_timî
.
si_tid


	)

115 
	#si_ovîrun
 
_sifõlds
.
_timî
.
si_ovîrun


	)

116 
	#si_°©us
 
_sifõlds
.
_sigchld
.
si_°©us


	)

117 
	#si_utime
 
_sifõlds
.
_sigchld
.
si_utime


	)

118 
	#si_°ime
 
_sifõlds
.
_sigchld
.
si_°ime


	)

119 
	#si_vÆue
 
_sifõlds
.
_π
.
si_sigvÆ


	)

120 
	#si_öt
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_öt


	)

121 
	#si_±r
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_±r


	)

122 
	#si_addr
 
_sifõlds
.
_sigÁu…
.
si_addr


	)

123 
	#si_b™d
 
_sifõlds
.
_sigpﬁl
.
si_b™d


	)

124 
	#si_fd
 
_sifõlds
.
_sigpﬁl
.
si_fd


	)

131 
	mSI_ASYNCNL
 = -60,

132 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

133 
	mSI_TKILL
 = -6,

134 
	#SI_TKILL
 
SI_TKILL


	)

135 
	mSI_SIGIO
,

136 
	#SI_SIGIO
 
SI_SIGIO


	)

137 
	mSI_ASYNCIO
,

138 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

139 
	mSI_MESGQ
,

140 
	#SI_MESGQ
 
SI_MESGQ


	)

141 
	mSI_TIMER
,

142 
	#SI_TIMER
 
SI_TIMER


	)

143 
	mSI_QUEUE
,

144 
	#SI_QUEUE
 
SI_QUEUE


	)

145 
	mSI_USER
,

146 
	#SI_USER
 
SI_USER


	)

147 
	mSI_KERNEL
 = 0x80

148 
	#SI_KERNEL
 
SI_KERNEL


	)

155 
	mILL_ILLOPC
 = 1,

156 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

157 
	mILL_ILLOPN
,

158 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

159 
	mILL_ILLADR
,

160 
	#ILL_ILLADR
 
ILL_ILLADR


	)

161 
	mILL_ILLTRP
,

162 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

163 
	mILL_PRVOPC
,

164 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

165 
	mILL_PRVREG
,

166 
	#ILL_PRVREG
 
ILL_PRVREG


	)

167 
	mILL_COPROC
,

168 
	#ILL_COPROC
 
ILL_COPROC


	)

169 
	mILL_BADSTK


170 
	#ILL_BADSTK
 
ILL_BADSTK


	)

176 
	mFPE_INTDIV
 = 1,

177 
	#FPE_INTDIV
 
FPE_INTDIV


	)

178 
	mFPE_INTOVF
,

179 
	#FPE_INTOVF
 
FPE_INTOVF


	)

180 
	mFPE_FLTDIV
,

181 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

182 
	mFPE_FLTOVF
,

183 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

184 
	mFPE_FLTUND
,

185 
	#FPE_FLTUND
 
FPE_FLTUND


	)

186 
	mFPE_FLTRES
,

187 
	#FPE_FLTRES
 
FPE_FLTRES


	)

188 
	mFPE_FLTINV
,

189 
	#FPE_FLTINV
 
FPE_FLTINV


	)

190 
	mFPE_FLTSUB


191 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

197 
	mSEGV_MAPERR
 = 1,

198 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

199 
	mSEGV_ACCERR


200 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

206 
	mBUS_ADRALN
 = 1,

207 
	#BUS_ADRALN
 
BUS_ADRALN


	)

208 
	mBUS_ADRERR
,

209 
	#BUS_ADRERR
 
BUS_ADRERR


	)

210 
	mBUS_OBJERR


211 
	#BUS_OBJERR
 
BUS_OBJERR


	)

217 
	mTRAP_BRKPT
 = 1,

218 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

219 
	mTRAP_TRACE


220 
	#TRAP_TRACE
 
TRAP_TRACE


	)

226 
	mCLD_EXITED
 = 1,

227 
	#CLD_EXITED
 
CLD_EXITED


	)

228 
	mCLD_KILLED
,

229 
	#CLD_KILLED
 
CLD_KILLED


	)

230 
	mCLD_DUMPED
,

231 
	#CLD_DUMPED
 
CLD_DUMPED


	)

232 
	mCLD_TRAPPED
,

233 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

234 
	mCLD_STOPPED
,

235 
	#CLD_STOPPED
 
CLD_STOPPED


	)

236 
	mCLD_CONTINUED


237 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

243 
	mPOLL_IN
 = 1,

244 
	#POLL_IN
 
POLL_IN


	)

245 
	mPOLL_OUT
,

246 
	#POLL_OUT
 
POLL_OUT


	)

247 
	mPOLL_MSG
,

248 
	#POLL_MSG
 
POLL_MSG


	)

249 
	mPOLL_ERR
,

250 
	#POLL_ERR
 
POLL_ERR


	)

251 
	mPOLL_PRI
,

252 
	#POLL_PRI
 
POLL_PRI


	)

253 
	mPOLL_HUP


254 
	#POLL_HUP
 
POLL_HUP


	)

257 #unde‡
__√ed_sigöfo_t


261 #i‡(
deföed
 
_SIGNAL_H
 || deföed 
__√ed_sigevít_t
) \

262 && !
deföed
 
	g__have_sigevít_t


263 
	#__have_sigevít_t
 1

	)

266 
	#__SIGEV_MAX_SIZE
 64

	)

267 #i‡
__WORDSIZE
 == 64

268 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 4)

	)

270 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 3)

	)

273 
	ssigevít


275 
sigvÆ_t
 
	msigev_vÆue
;

276 
	msigev_signo
;

277 
	msigev_nŸify
;

281 
	m_∑d
[
__SIGEV_PAD_SIZE
];

285 
__pid_t
 
	m_tid
;

289 (*
	m_fun˘i⁄
Ë(
	msigvÆ_t
);

290 *
	m_©åibuã
;

291 } 
	m_sigev_thªad
;

292 } 
	m_sigev_un
;

293 } 
	tsigevít_t
;

296 
	#sigev_nŸify_fun˘i⁄
 
_sigev_un
.
_sigev_thªad
.
_fun˘i⁄


	)

297 
	#sigev_nŸify_©åibuãs
 
_sigev_un
.
_sigev_thªad
.
_©åibuã


	)

302 
	mSIGEV_SIGNAL
 = 0,

303 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

304 
	mSIGEV_NONE
,

305 
	#SIGEV_NONE
 
SIGEV_NONE


	)

306 
	mSIGEV_THREAD
,

307 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

309 
	mSIGEV_THREAD_ID
 = 4

310 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

20 #ifdef 
_SIGNAL_H


23 
	#SIG_ERR
 ((
__sigh™dÀr_t
Ë-1Ë

	)

24 
	#SIG_DFL
 ((
__sigh™dÀr_t
Ë0Ë

	)

25 
	#SIG_IGN
 ((
__sigh™dÀr_t
Ë1Ë

	)

27 #ifde‡
__USE_UNIX98


28 
	#SIG_HOLD
 ((
__sigh™dÀr_t
Ë2Ë

	)

33 
	#SIGHUP
 1

	)

34 
	#SIGINT
 2

	)

35 
	#SIGQUIT
 3

	)

36 
	#SIGILL
 4

	)

37 
	#SIGTRAP
 5

	)

38 
	#SIGABRT
 6

	)

39 
	#SIGIOT
 6

	)

40 
	#SIGBUS
 7

	)

41 
	#SIGFPE
 8

	)

42 
	#SIGKILL
 9

	)

43 
	#SIGUSR1
 10

	)

44 
	#SIGSEGV
 11

	)

45 
	#SIGUSR2
 12

	)

46 
	#SIGPIPE
 13

	)

47 
	#SIGALRM
 14

	)

48 
	#SIGTERM
 15

	)

49 
	#SIGSTKFLT
 16

	)

50 
	#SIGCLD
 
SIGCHLD


	)

51 
	#SIGCHLD
 17

	)

52 
	#SIGCONT
 18

	)

53 
	#SIGSTOP
 19

	)

54 
	#SIGTSTP
 20

	)

55 
	#SIGTTIN
 21

	)

56 
	#SIGTTOU
 22

	)

57 
	#SIGURG
 23

	)

58 
	#SIGXCPU
 24

	)

59 
	#SIGXFSZ
 25

	)

60 
	#SIGVTALRM
 26

	)

61 
	#SIGPROF
 27

	)

62 
	#SIGWINCH
 28

	)

63 
	#SIGPOLL
 
SIGIO


	)

64 
	#SIGIO
 29

	)

65 
	#SIGPWR
 30

	)

66 
	#SIGSYS
 31

	)

67 
	#SIGUNUSED
 31

	)

69 
	#_NSIG
 65

	)

72 
	#SIGRTMIN
 (
	`__libc_cuºít_sigπmö
 ())

	)

73 
	#SIGRTMAX
 (
	`__libc_cuºít_sigπmax
 ())

	)

77 
	#__SIGRTMIN
 32

	)

78 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

21 #i‚def 
_SIGSET_H_ty≥s


22 
	#_SIGSET_H_ty≥s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__vÆ
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #i‡!
deföed
 
_SIGSET_H_‚s
 && deföed 
_SIGNAL_H


44 
	#_SIGSET_H_‚s
 1

	)

46 #i‚de‡
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

51 
	#__sigmask
(
sig
) \

52 (((Ë1Ë<< (((
sig
Ë- 1Ë% (8 *  ())))

	)

55 
	#__sigw‹d
(
sig
Ë(((sigË- 1Ë/ (8 *  ()))

	)

57 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfûl£t
(
£t
) \

64 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifde‡
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

75 c⁄° 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__ªt
 = 
__£t
->
__vÆ
[--
__˙t
]; \

77 !
__ªt
 && --
__˙t
 >= 0) \

78 
__ªt
 = 
__£t
->
__vÆ
[
__˙t
]; \

79 
__ªt
 =0; }))

	)

80 
	#__sig™d£t
(
de°
, 
À·
, 
right
) \

81 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de°
 = (
de°
); \

83 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

84 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

85 --
__˙t
 >= 0) \

86 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

87 & 
__right
->
__vÆ
[
__˙t
]); \

88 0; }))

	)

89 
	#__sig‹£t
(
de°
, 
À·
, 
right
) \

90 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de°
 = (
de°
); \

92 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

93 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

94 --
__˙t
 >= 0) \

95 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

96 | 
__right
->
__vÆ
[
__˙t
]); \

97 0; }))

	)

104 
__sigismembî
 (
__c⁄°
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigdñ£t
 (
__sig£t_t
 *, );

108 #ifde‡
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__w‹d
 = 
	`__sigw‹d
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismembî
, (
__£t
->
__vÆ
[
__w‹d
] & 
__mask
Ë? 1 : 0, 
__c⁄°
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__vÆ
[
__w‹d
] |
__mask
), 0), )

120 
__SIGSETFN
 (
__sigdñ£t
, ((
__£t
->
__vÆ
[
__w‹d
] &~
__mask
), 0), )

122 #unde‡
__SIGSETFN


	@/usr/include/bits/sigstack.h

20 #i‚de‡
_SIGNAL_H


26 
	ssig°ack


28 *
	mss_•
;

29 
	mss_⁄°ack
;

36 
	mSS_ONSTACK
 = 1,

37 
	#SS_ONSTACK
 
SS_ONSTACK


	)

38 
	mSS_DISABLE


39 
	#SS_DISABLE
 
SS_DISABLE


	)

43 
	#MINSIGSTKSZ
 2048

	)

46 
	#SIGSTKSZ
 8192

	)

50 
	ssigÆt°ack


52 *
	mss_•
;

53 
	mss_Êags
;

54 
size_t
 
	mss_size
;

55 } 
	t°ack_t
;

	@/usr/include/bits/sigthread.h

20 #i‚de‡
_BITS_SIGTHREAD_H


21 
	#_BITS_SIGTHREAD_H
 1

	)

23 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_PTHREAD_H


31 
	$±hªad_sigmask
 (
__how
,

32 
__c⁄°
 
__sig£t_t
 *
__ª°ri˘
 
__√wmask
,

33 
__sig£t_t
 *
__ª°ri˘
 
__ﬁdmask
)
__THROW
;

36 
	$±hªad_kûl
 (
±hªad_t
 
__thªadid
, 
__signo
Ë
__THROW
;

38 #ifde‡
__USE_GNU


40 
	$±hªad_sigqueue
 (
±hªad_t
 
__thªadid
, 
__signo
,

41 c⁄° 
sigvÆ
 
__vÆue
Ë
__THROW
;

	@/usr/include/bits/socket.h

21 #i‚de‡
__BITS_SOCKET_H


22 
	#__BITS_SOCKET_H


	)

24 #i‚de‡
_SYS_SOCKET_H


28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

31 
	~<sys/ty≥s.h
>

34 #i‚de‡
__sockÀn_t_deföed


35 
__sockÀn_t
 
	tsockÀn_t
;

36 
	#__sockÀn_t_deföed


	)

40 
	e__sockë_ty≥


42 
	mSOCK_STREAM
 = 1,

44 
	#SOCK_STREAM
 
SOCK_STREAM


	)

45 
	mSOCK_DGRAM
 = 2,

47 
	#SOCK_DGRAM
 
SOCK_DGRAM


	)

48 
	mSOCK_RAW
 = 3,

49 
	#SOCK_RAW
 
SOCK_RAW


	)

50 
	mSOCK_RDM
 = 4,

51 
	#SOCK_RDM
 
SOCK_RDM


	)

52 
	mSOCK_SEQPACKET
 = 5,

54 
	#SOCK_SEQPACKET
 
SOCK_SEQPACKET


	)

55 
	mSOCK_DCCP
 = 6,

56 
	#SOCK_DCCP
 
SOCK_DCCP


	)

57 
	mSOCK_PACKET
 = 10,

60 
	#SOCK_PACKET
 
SOCK_PACKET


	)

65 
	mSOCK_CLOEXEC
 = 02000000,

67 
	#SOCK_CLOEXEC
 
SOCK_CLOEXEC


	)

68 
	mSOCK_NONBLOCK
 = 04000

70 
	#SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

74 
	#PF_UNSPEC
 0

	)

75 
	#PF_LOCAL
 1

	)

76 
	#PF_UNIX
 
PF_LOCAL


	)

77 
	#PF_FILE
 
PF_LOCAL


	)

78 
	#PF_INET
 2

	)

79 
	#PF_AX25
 3

	)

80 
	#PF_IPX
 4

	)

81 
	#PF_APPLETALK
 5

	)

82 
	#PF_NETROM
 6

	)

83 
	#PF_BRIDGE
 7

	)

84 
	#PF_ATMPVC
 8

	)

85 
	#PF_X25
 9

	)

86 
	#PF_INET6
 10

	)

87 
	#PF_ROSE
 11

	)

88 
	#PF_DEC√t
 12

	)

89 
	#PF_NETBEUI
 13

	)

90 
	#PF_SECURITY
 14

	)

91 
	#PF_KEY
 15

	)

92 
	#PF_NETLINK
 16

	)

93 
	#PF_ROUTE
 
PF_NETLINK


	)

94 
	#PF_PACKET
 17

	)

95 
	#PF_ASH
 18

	)

96 
	#PF_ECONET
 19

	)

97 
	#PF_ATMSVC
 20

	)

98 
	#PF_RDS
 21

	)

99 
	#PF_SNA
 22

	)

100 
	#PF_IRDA
 23

	)

101 
	#PF_PPPOX
 24

	)

102 
	#PF_WANPIPE
 25

	)

103 
	#PF_LLC
 26

	)

104 
	#PF_CAN
 29

	)

105 
	#PF_TIPC
 30

	)

106 
	#PF_BLUETOOTH
 31

	)

107 
	#PF_IUCV
 32

	)

108 
	#PF_RXRPC
 33

	)

109 
	#PF_ISDN
 34

	)

110 
	#PF_PHONET
 35

	)

111 
	#PF_IEEE802154
 36

	)

112 
	#PF_CAIF
 37

	)

113 
	#PF_ALG
 38

	)

114 
	#PF_NFC
 39

	)

115 
	#PF_MAX
 40

	)

118 
	#AF_UNSPEC
 
PF_UNSPEC


	)

119 
	#AF_LOCAL
 
PF_LOCAL


	)

120 
	#AF_UNIX
 
PF_UNIX


	)

121 
	#AF_FILE
 
PF_FILE


	)

122 
	#AF_INET
 
PF_INET


	)

123 
	#AF_AX25
 
PF_AX25


	)

124 
	#AF_IPX
 
PF_IPX


	)

125 
	#AF_APPLETALK
 
PF_APPLETALK


	)

126 
	#AF_NETROM
 
PF_NETROM


	)

127 
	#AF_BRIDGE
 
PF_BRIDGE


	)

128 
	#AF_ATMPVC
 
PF_ATMPVC


	)

129 
	#AF_X25
 
PF_X25


	)

130 
	#AF_INET6
 
PF_INET6


	)

131 
	#AF_ROSE
 
PF_ROSE


	)

132 
	#AF_DEC√t
 
PF_DEC√t


	)

133 
	#AF_NETBEUI
 
PF_NETBEUI


	)

134 
	#AF_SECURITY
 
PF_SECURITY


	)

135 
	#AF_KEY
 
PF_KEY


	)

136 
	#AF_NETLINK
 
PF_NETLINK


	)

137 
	#AF_ROUTE
 
PF_ROUTE


	)

138 
	#AF_PACKET
 
PF_PACKET


	)

139 
	#AF_ASH
 
PF_ASH


	)

140 
	#AF_ECONET
 
PF_ECONET


	)

141 
	#AF_ATMSVC
 
PF_ATMSVC


	)

142 
	#AF_RDS
 
PF_RDS


	)

143 
	#AF_SNA
 
PF_SNA


	)

144 
	#AF_IRDA
 
PF_IRDA


	)

145 
	#AF_PPPOX
 
PF_PPPOX


	)

146 
	#AF_WANPIPE
 
PF_WANPIPE


	)

147 
	#AF_LLC
 
PF_LLC


	)

148 
	#AF_CAN
 
PF_CAN


	)

149 
	#AF_TIPC
 
PF_TIPC


	)

150 
	#AF_BLUETOOTH
 
PF_BLUETOOTH


	)

151 
	#AF_IUCV
 
PF_IUCV


	)

152 
	#AF_RXRPC
 
PF_RXRPC


	)

153 
	#AF_ISDN
 
PF_ISDN


	)

154 
	#AF_PHONET
 
PF_PHONET


	)

155 
	#AF_IEEE802154
 
PF_IEEE802154


	)

156 
	#AF_CAIF
 
PF_CAIF


	)

157 
	#AF_ALG
 
PF_ALG


	)

158 
	#AF_NFC
 
PF_NFC


	)

159 
	#AF_MAX
 
PF_MAX


	)

165 
	#SOL_RAW
 255

	)

166 
	#SOL_DECNET
 261

	)

167 
	#SOL_X25
 262

	)

168 
	#SOL_PACKET
 263

	)

169 
	#SOL_ATM
 264

	)

170 
	#SOL_AAL
 265

	)

171 
	#SOL_IRDA
 266

	)

174 
	#SOMAXCONN
 128

	)

177 
	~<bôs/sockaddr.h
>

180 
	ssockaddr


182 
__SOCKADDR_COMMON
 (
ß_
);

183 
	mß_d©a
[14];

189 
	#__ss_Æig¡y≥
 

	)

190 
	#_SS_SIZE
 128

	)

191 
	#_SS_PADSIZE
 (
_SS_SIZE
 - (2 *  (
__ss_Æig¡y≥
)))

	)

193 
	ssockaddr_°‹age


195 
__SOCKADDR_COMMON
 (
ss_
);

196 
__ss_Æig¡y≥
 
	m__ss_Æign
;

197 
	m__ss_∑ddög
[
_SS_PADSIZE
];

204 
	mMSG_OOB
 = 0x01,

205 
	#MSG_OOB
 
MSG_OOB


	)

206 
	mMSG_PEEK
 = 0x02,

207 
	#MSG_PEEK
 
MSG_PEEK


	)

208 
	mMSG_DONTROUTE
 = 0x04,

209 
	#MSG_DONTROUTE
 
MSG_DONTROUTE


	)

210 #ifde‡
__USE_GNU


212 
	mMSG_TRYHARD
 = 
MSG_DONTROUTE
,

213 
	#MSG_TRYHARD
 
MSG_DONTROUTE


	)

215 
	mMSG_CTRUNC
 = 0x08,

216 
	#MSG_CTRUNC
 
MSG_CTRUNC


	)

217 
	mMSG_PROXY
 = 0x10,

218 
	#MSG_PROXY
 
MSG_PROXY


	)

219 
	mMSG_TRUNC
 = 0x20,

220 
	#MSG_TRUNC
 
MSG_TRUNC


	)

221 
	mMSG_DONTWAIT
 = 0x40,

222 
	#MSG_DONTWAIT
 
MSG_DONTWAIT


	)

223 
	mMSG_EOR
 = 0x80,

224 
	#MSG_EOR
 
MSG_EOR


	)

225 
	mMSG_WAITALL
 = 0x100,

226 
	#MSG_WAITALL
 
MSG_WAITALL


	)

227 
	mMSG_FIN
 = 0x200,

228 
	#MSG_FIN
 
MSG_FIN


	)

229 
	mMSG_SYN
 = 0x400,

230 
	#MSG_SYN
 
MSG_SYN


	)

231 
	mMSG_CONFIRM
 = 0x800,

232 
	#MSG_CONFIRM
 
MSG_CONFIRM


	)

233 
	mMSG_RST
 = 0x1000,

234 
	#MSG_RST
 
MSG_RST


	)

235 
	mMSG_ERRQUEUE
 = 0x2000,

236 
	#MSG_ERRQUEUE
 
MSG_ERRQUEUE


	)

237 
	mMSG_NOSIGNAL
 = 0x4000,

238 
	#MSG_NOSIGNAL
 
MSG_NOSIGNAL


	)

239 
	mMSG_MORE
 = 0x8000,

240 
	#MSG_MORE
 
MSG_MORE


	)

241 
	mMSG_WAITFORONE
 = 0x10000,

242 
	#MSG_WAITFORONE
 
MSG_WAITFORONE


	)

244 
	mMSG_CMSG_CLOEXEC
 = 0x40000000

247 
	#MSG_CMSG_CLOEXEC
 
MSG_CMSG_CLOEXEC


	)

253 
	smsghdr


255 *
	mmsg_«me
;

256 
sockÀn_t
 
	mmsg_«mñí
;

258 
iovec
 *
	mmsg_iov
;

259 
size_t
 
	mmsg_iovÀn
;

261 *
	mmsg_c⁄åﬁ
;

262 
size_t
 
	mmsg_c⁄åﬁÀn
;

267 
	mmsg_Êags
;

270 #ifde‡
__USE_GNU


272 
	smmsghdr


274 
msghdr
 
	mmsg_hdr
;

275 
	mmsg_Àn
;

280 
	scmsghdr


282 
size_t
 
	mcmsg_Àn
;

287 
	mcmsg_Àvñ
;

288 
	mcmsg_ty≥
;

289 #i‡(!
deföed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2Ë|| 
__STDC_VERSION__
 >= 199901L

290 
__exãnsi⁄__
 
__cmsg_d©a
 
	m__Êex¨r
;

295 #i‡(!
deföed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2Ë|| 
__STDC_VERSION__
 >= 199901L

296 
	#CMSG_DATA
(
cmsg
Ë((cmsg)->
__cmsg_d©a
)

	)

298 
	#CMSG_DATA
(
cmsg
Ë((*Ë((
cmsghdr
 *Ë(cmsgË+ 1))

	)

300 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg
Ë
	`__cmsg_nxthdr
 (mhdr, cmsg)

	)

301 
	#CMSG_FIRSTHDR
(
mhdr
) \

302 ((
size_t
Ë(
mhdr
)->
msg_c⁄åﬁÀn
 > (
cmsghdr
) \

303 ? (
cmsghdr
 *Ë(
mhdr
)->
msg_c⁄åﬁ
 : (cmsghd∏*Ë0)

	)

304 
	#CMSG_ALIGN
(
Àn
Ë((÷íË+  (
size_t
) - 1) \

305 & (
size_t
Ë~( (size_tË- 1))

	)

306 
	#CMSG_SPACE
(
Àn
Ë(
	`CMSG_ALIGN
 (len) \

307 + 
	`CMSG_ALIGN
 ( (
cmsghdr
)))

	)

308 
	#CMSG_LEN
(
Àn
Ë(
	`CMSG_ALIGN
 ( (
cmsghdr
)Ë+ (Àn))

	)

310 
cmsghdr
 *
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
,

311 
cmsghdr
 *
__cmsg
Ë
__THROW
;

312 #ifde‡
__USE_EXTERN_INLINES


313 #i‚de‡
_EXTERN_INLINE


314 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

316 
_EXTERN_INLINE
 
cmsghdr
 *

317 
	`__NTH
 (
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
, 
cmsghdr
 *
__cmsg
))

319 i‡((
size_t
Ë
__cmsg
->
cmsg_Àn
 <  (
cmsghdr
))

321  (
cmsghdr
 *) 0;

323 
__cmsg
 = (
cmsghdr
 *) ((*) __cmsg

324 + 
	`CMSG_ALIGN
 (
__cmsg
->
cmsg_Àn
));

325 i‡((*Ë(
__cmsg
 + 1Ë> ((*Ë
__mhdr
->
msg_c⁄åﬁ


326 + 
__mhdr
->
msg_c⁄åﬁÀn
)

327 || ((*Ë
__cmsg
 + 
	`CMSG_ALIGN
 (__cmsg->
cmsg_Àn
)

328 > ((*Ë
__mhdr
->
msg_c⁄åﬁ
 + __mhdr->
msg_c⁄åﬁÀn
)))

330  (
cmsghdr
 *) 0;

331  
__cmsg
;

332 
	}
}

339 
	mSCM_RIGHTS
 = 0x01

340 
	#SCM_RIGHTS
 
SCM_RIGHTS


	)

341 #ifde‡
__USE_GNU


342 , 
	mSCM_CREDENTIALS
 = 0x02

343 
	#SCM_CREDENTIALS
 
SCM_CREDENTIALS


	)

347 #ifde‡
__USE_GNU


349 
	su¸ed


351 
pid_t
 
	mpid
;

352 
uid_t
 
	muid
;

353 
gid_t
 
	mgid
;

358 #i‡!
deföed
 
__USE_MISC
 && !deföed 
__USE_GNU


359 #i‚de‡
FIOGETOWN


360 
	#__SYS_SOCKET_H_undef_FIOGETOWN


	)

362 #i‚de‡
FIOSETOWN


363 
	#__SYS_SOCKET_H_undef_FIOSETOWN


	)

365 #i‚de‡
SIOCATMARK


366 
	#__SYS_SOCKET_H_undef_SIOCATMARK


	)

368 #i‚de‡
SIOCGPGRP


369 
	#__SYS_SOCKET_H_undef_SIOCGPGRP


	)

371 #i‚de‡
SIOCGSTAMP


372 
	#__SYS_SOCKET_H_undef_SIOCGSTAMP


	)

374 #i‚de‡
SIOCGSTAMPNS


375 
	#__SYS_SOCKET_H_undef_SIOCGSTAMPNS


	)

377 #i‚de‡
SIOCSPGRP


378 
	#__SYS_SOCKET_H_undef_SIOCSPGRP


	)

383 
	~<asm/sockë.h
>

385 #i‡!
deföed
 
__USE_MISC
 && !deföed 
__USE_GNU


386 #ifde‡
__SYS_SOCKET_H_undef_FIOGETOWN


387 #unde‡
__SYS_SOCKET_H_undef_FIOGETOWN


388 #unde‡
FIOGETOWN


390 #ifde‡
__SYS_SOCKET_H_undef_FIOSETOWN


391 #unde‡
__SYS_SOCKET_H_undef_FIOSETOWN


392 #unde‡
FIOSETOWN


394 #ifde‡
__SYS_SOCKET_H_undef_SIOCATMARK


395 #unde‡
__SYS_SOCKET_H_undef_SIOCATMARK


396 #unde‡
SIOCATMARK


398 #ifde‡
__SYS_SOCKET_H_undef_SIOCGPGRP


399 #unde‡
__SYS_SOCKET_H_undef_SIOCGPGRP


400 #unde‡
SIOCGPGRP


402 #ifde‡
__SYS_SOCKET_H_undef_SIOCGSTAMP


403 #unde‡
__SYS_SOCKET_H_undef_SIOCGSTAMP


404 #unde‡
SIOCGSTAMP


406 #ifde‡
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


407 #unde‡
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


408 #unde‡
SIOCGSTAMPNS


410 #ifde‡
__SYS_SOCKET_H_undef_SIOCSPGRP


411 #unde‡
__SYS_SOCKET_H_undef_SIOCSPGRP


412 #unde‡
SIOCSPGRP


417 
	slögî


419 
	ml_⁄off
;

420 
	ml_lögî
;

424 
__BEGIN_DECLS


431 
ªcvmmsg
 (
__fd
, 
mmsghdr
 *
__vmesßges
,

432 
__vÀn
, 
__Êags
,

433 
__c⁄°
 
time•ec
 *
__tmo
);

439 
£ndmmsg
 (
__fd
, 
mmsghdr
 *
__vmesßges
,

440 
__vÀn
, 
__Êags
);

442 
	g__END_DECLS


	@/usr/include/bits/socket2.h

20 #i‚de‡
_SYS_SOCKET_H


24 
ssize_t
 
__ªcv_chk
 (
__fd
, *
__buf
, 
size_t
 
__n
, size_à
__buÊí
,

25 
__Êags
);

26 
ssize_t
 
__REDIRECT
 (
__ªcv_Æüs
, (
__fd
, *
__buf
, 
size_t
 
__n
,

27 
__Êags
), 
ªcv
);

28 
ssize_t
 
__REDIRECT
 (
__ªcv_chk_w¨n
,

29 (
__fd
, *
__buf
, 
size_t
 
__n
, size_à
__buÊí
,

30 
__Êags
), 
__ªcv_chk
)

31 
__w¨«âr
 ("recv called with biggerÜengthÅhan size of destination "

34 
__exã∫_Æways_ölöe
 
ssize_t


35 
	$ªcv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__Êags
)

37 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

39 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

40  
	`__ªcv_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
);

42 i‡(
__n
 > 
	`__bos0
 (
__buf
))

43  
	`__ªcv_chk_w¨n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
);

45  
	`__ªcv_Æüs
 (
__fd
, 
__buf
, 
__n
, 
__Êags
);

46 
	}
}

48 
ssize_t
 
__ªcv‰om_chk
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

49 
size_t
 
__buÊí
, 
__Êags
,

50 
__SOCKADDR_ARG
 
__addr
,

51 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
);

52 
ssize_t
 
__REDIRECT
 (
__ªcv‰om_Æüs
,

53 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

54 
__Êags
, 
__SOCKADDR_ARG
 
__addr
,

55 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
), 
ªcv‰om
);

56 
ssize_t
 
__REDIRECT
 (
__ªcv‰om_chk_w¨n
,

57 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
,

58 
size_t
 
__buÊí
, 
__Êags
,

59 
__SOCKADDR_ARG
 
__addr
,

60 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
), 
__ªcv‰om_chk
)

61 
__w¨«âr
 ("recvfrom called with biggerÜengthÅhan size of "

64 
__exã∫_Æways_ölöe
 
ssize_t


65 
	$ªcv‰om
 (
__fd
, *
__ª°ri˘
 
__buf
, 
size_t
 
__n
, 
__Êags
,

66 
__SOCKADDR_ARG
 
__addr
, 
sockÀn_t
 *
__ª°ri˘
 
__addr_Àn
)

68 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

70 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

71  
	`__ªcv‰om_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
,

72 
__addr
, 
__addr_Àn
);

73 i‡(
__n
 > 
	`__bos0
 (
__buf
))

74  
	`__ªcv‰om_chk_w¨n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__Êags
,

75 
__addr
, 
__addr_Àn
);

77  
	`__ªcv‰om_Æüs
 (
__fd
, 
__buf
, 
__n
, 
__Êags
, 
__addr
, 
__addr_Àn
);

78 
	}
}

	@/usr/include/bits/stat.h

19 #i‡!
deföed
 
_SYS_STAT_H
 && !deföed 
_FCNTL_H


23 #i‚de‡
_BITS_STAT_H


24 
	#_BITS_STAT_H
 1

	)

27 
	#_STAT_VER_KERNEL
 0

	)

29 #i‡
__WORDSIZE
 == 32

30 
	#_STAT_VER_SVR4
 2

	)

31 
	#_STAT_VER_LINUX
 3

	)

34 
	#_MKNOD_VER_LINUX
 1

	)

35 
	#_MKNOD_VER_SVR4
 2

	)

36 
	#_MKNOD_VER
 
_MKNOD_VER_LINUX


	)

38 
	#_STAT_VER_LINUX
 1

	)

41 
	#_MKNOD_VER_LINUX
 0

	)

44 
	#_STAT_VER
 
_STAT_VER_LINUX


	)

46 
	s°©


48 
__dev_t
 
	m°_dev
;

49 #i‡
__WORDSIZE
 == 32

50 
	m__∑d1
;

52 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


53 
__öo_t
 
	m°_öo
;

55 
__öo_t
 
	m__°_öo
;

57 #i‡
__WORDSIZE
 == 32

58 
__mode_t
 
	m°_mode
;

59 
__∆ök_t
 
	m°_∆ök
;

61 
__∆ök_t
 
	m°_∆ök
;

62 
__mode_t
 
	m°_mode
;

64 
__uid_t
 
	m°_uid
;

65 
__gid_t
 
	m°_gid
;

66 #i‡
__WORDSIZE
 == 64

67 
	m__∑d0
;

69 
__dev_t
 
	m°_rdev
;

70 #i‡
__WORDSIZE
 == 32

71 
	m__∑d2
;

73 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


74 
__off_t
 
	m°_size
;

76 
__off64_t
 
	m°_size
;

78 
__blksize_t
 
	m°_blksize
;

79 #i‡
__WORDSIZE
 =64 || !
deföed
 
__USE_FILE_OFFSET64


80 
__blk˙t_t
 
	m°_blocks
;

82 
__blk˙t64_t
 
	m°_blocks
;

84 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


91 
time•ec
 
	m°_©im
;

92 
time•ec
 
	m°_mtim
;

93 
time•ec
 
	m°_˘im
;

94 
	#°_©ime
 
°_©im
.
tv_£c


	)

95 
	#°_mtime
 
°_mtim
.
tv_£c


	)

96 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

98 
__time_t
 
	m°_©ime
;

99 
	m°_©imí£c
;

100 
__time_t
 
	m°_mtime
;

101 
	m°_mtimí£c
;

102 
__time_t
 
	m°_˘ime
;

103 
	m°_˘imí£c
;

105 #i‡
__WORDSIZE
 == 64

106 
	m__unu£d
[3];

108 #i‚de‡
__USE_FILE_OFFSET64


109 
	m__unu£d4
;

110 
	m__unu£d5
;

112 
__öo64_t
 
	m°_öo
;

117 #ifde‡
__USE_LARGEFILE64


119 
	s°©64


121 
__dev_t
 
	m°_dev
;

122 #i‡
__WORDSIZE
 == 64

123 
__öo64_t
 
	m°_öo
;

124 
__∆ök_t
 
	m°_∆ök
;

125 
__mode_t
 
	m°_mode
;

127 
	m__∑d1
;

128 
__öo_t
 
	m__°_öo
;

129 
__mode_t
 
	m°_mode
;

130 
__∆ök_t
 
	m°_∆ök
;

132 
__uid_t
 
	m°_uid
;

133 
__gid_t
 
	m°_gid
;

134 #i‡
__WORDSIZE
 == 64

135 
	m__∑d0
;

136 
__dev_t
 
	m°_rdev
;

137 
__off_t
 
	m°_size
;

139 
__dev_t
 
	m°_rdev
;

140 
	m__∑d2
;

141 
__off64_t
 
	m°_size
;

143 
__blksize_t
 
	m°_blksize
;

144 
__blk˙t64_t
 
	m°_blocks
;

145 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


152 
time•ec
 
	m°_©im
;

153 
time•ec
 
	m°_mtim
;

154 
time•ec
 
	m°_˘im
;

155 
	#°_©ime
 
°_©im
.
tv_£c


	)

156 
	#°_mtime
 
°_mtim
.
tv_£c


	)

157 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

159 
__time_t
 
	m°_©ime
;

160 
	m°_©imí£c
;

161 
__time_t
 
	m°_mtime
;

162 
	m°_mtimí£c
;

163 
__time_t
 
	m°_˘ime
;

164 
	m°_˘imí£c
;

166 #i‡
__WORDSIZE
 == 64

167 
	m__unu£d
[3];

169 
__öo64_t
 
	m°_öo
;

175 
	#_STATBUF_ST_BLKSIZE


	)

176 
	#_STATBUF_ST_RDEV


	)

178 
	#_STATBUF_ST_NSEC


	)

182 
	#__S_IFMT
 0170000

	)

185 
	#__S_IFDIR
 0040000

	)

186 
	#__S_IFCHR
 0020000

	)

187 
	#__S_IFBLK
 0060000

	)

188 
	#__S_IFREG
 0100000

	)

189 
	#__S_IFIFO
 0010000

	)

190 
	#__S_IFLNK
 0120000

	)

191 
	#__S_IFSOCK
 0140000

	)

195 
	#__S_TYPEISMQ
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

196 
	#__S_TYPEISSEM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

197 
	#__S_TYPEISSHM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

201 
	#__S_ISUID
 04000

	)

202 
	#__S_ISGID
 02000

	)

203 
	#__S_ISVTX
 01000

	)

204 
	#__S_IREAD
 0400

	)

205 
	#__S_IWRITE
 0200

	)

206 
	#__S_IEXEC
 0100

	)

208 #ifde‡
__USE_ATFILE


209 
	#UTIME_NOW
 ((1»<< 30Ë- 1l)

	)

210 
	#UTIME_OMIT
 ((1»<< 30Ë- 2l)

	)

	@/usr/include/bits/stdio-ldbl.h

20 #i‚de‡
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
Ârötf
)

26 
	$__LDBL_REDIR_DECL
 (
¥ötf
)

27 
	$__LDBL_REDIR_DECL
 (
•rötf
)

28 
	$__LDBL_REDIR_DECL
 (
vÂrötf
)

29 
	$__LDBL_REDIR_DECL
 (
v¥ötf
)

30 
	$__LDBL_REDIR_DECL
 (
v•rötf
)

31 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

32 && !
deföed
 
__REDIRECT
 \

33 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsˇnf
, 
__∆dbl___isoc99_fsˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
sˇnf
, 
__∆dbl___isoc99_sˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssˇnf
, 
__∆dbl___isoc99_ssˇnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsˇnf
)

39 
	$__LDBL_REDIR_DECL
 (
sˇnf
)

40 
	$__LDBL_REDIR_DECL
 (
ssˇnf
)

42 
__END_NAMESPACE_STD


44 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
¢¥ötf
)

47 
	$__LDBL_REDIR_DECL
 (
v¢¥ötf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

54 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsˇnf
, 
__∆dbl___isoc99_vfsˇnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsˇnf
, 
__∆dbl___isoc99_vsˇnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssˇnf
, 
__∆dbl___isoc99_vssˇnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsˇnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssˇnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsˇnf
)

63 
__END_NAMESPACE_C99


66 #ifde‡
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vd¥ötf
)

68 
	$__LDBL_REDIR_DECL
 (
d¥ötf
)

69 
	$__LDBL_REDIR_DECL
 (
va•rötf
)

70 
	$__LDBL_REDIR_DECL
 (
__a•rötf
)

71 
	$__LDBL_REDIR_DECL
 (
a•rötf
)

72 
	$__LDBL_REDIR_DECL
 (
ob°ack_¥ötf
)

73 
	$__LDBL_REDIR_DECL
 (
ob°ack_v¥ötf
)

76 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


77 
	$__LDBL_REDIR_DECL
 (
__•rötf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__v•rötf_chk
)

79 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__¢¥ötf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__v¢¥ötf_chk
)

83 #i‡
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__Ârötf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__¥ötf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vÂrötf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__v¥ötf_chk
)

88 #ifde‡
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__a•rötf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__va•rötf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__d¥ötf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd¥ötf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__ob°ack_¥ötf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__ob°ack_v¥ötf_chk
)

	@/usr/include/bits/stdio.h

20 #i‚de‡
_STDIO_H


24 #i‚de‡
__exã∫_ölöe


25 
	#__STDIO_INLINE
 
ölöe


	)

27 
	#__STDIO_INLINE
 
__exã∫_ölöe


	)

31 #ifde‡
__USE_EXTERN_INLINES


34 #i‡!(
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe
)

36 
__STDIO_INLINE
 

37 
	$v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

39  
	`vÂrötf
 (
°dout
, 
__fmt
, 
__¨g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$gëch¨
 ()

47  
	`_IO_gëc
 (
°dö
);

48 
	}
}

51 #ifde‡
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fgëc_u∆ocked
 (
FILE
 *
__Â
)

56  
	`_IO_gëc_u∆ocked
 (
__Â
);

57 
	}
}

61 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$gëc_u∆ocked
 (
FILE
 *
__Â
)

66  
	`_IO_gëc_u∆ocked
 (
__Â
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$gëch¨_u∆ocked
 ()

73  
	`_IO_gëc_u∆ocked
 (
°dö
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch¨
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
°dout
);

83 
	}
}

86 #ifde‡
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

91  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

92 
	}
}

96 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

101  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch¨_u∆ocked
 (
__c
)

108  
	`_IO_putc_u∆ocked
 (
__c
, 
°dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$gëlöe
 (**
__löïå
, 
size_t
 *
__n
, 
FILE
 *
__°ªam
)

118  
	`__gëdñim
 (
__löïå
, 
__n
, '\n', 
__°ªam
);

119 
	}
}

123 #ifde‡
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$„of_u∆ocked
 (
FILE
 *
__°ªam
))

128  
	`_IO_„of_u∆ocked
 (
__°ªam
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
))

135  
	`_IO_„º‹_u∆ocked
 (
__°ªam
);

136 
	}
}

142 #i‡
deföed
 
__USE_MISC
 && deföed 
__GNUC__
 && deföed 
__OPTIMIZE__
 \

143 && !
deföed
 
	g__˝lu•lus


145 
	#‰ód_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

146 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

147 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

148 && (
size_t
Ë(
size
) != 0) \

149 ? ({ *
__±r
 = (*Ë(
±r
); \

150 
FILE
 *
__°ªam
 = (
°ªam
); \

151 
size_t
 
__˙t
; \

152 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

153 
__˙t
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
); \

156 i‡(
__c
 =
EOF
) \

158 *
__±r
++ = 
__c
; \

160 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

161 / (
size_t
Ë(
size
); }) \

162 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

163 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

165 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

166 (Ë(
n
), (
size_t
) 0) \

167 : 
	`‰ód_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

169 
	#fwrôe_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

170 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

171 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

172 && (
size_t
Ë(
size
) != 0) \

173 ? ({ c⁄° *
__±r
 = (c⁄° *Ë(
±r
); \

174 
FILE
 *
__°ªam
 = (
°ªam
); \

175 
size_t
 
__˙t
; \

176 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

177 
__˙t
 > 0; --__cnt) \

178 i‡(
	`_IO_putc_u∆ocked
 (*
__±r
++, 
__°ªam
Ë=
EOF
) \

180 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

181 / (
size_t
Ë(
size
); }) \

182 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

183 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

185 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

186 (Ë(
n
), (
size_t
) 0) \

187 : 
	`fwrôe_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

191 #unde‡
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #i‚de‡
_STDIO_H


24 
	$__•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

25 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

26 
	$__v•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

27 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

28 
_G_va_li°
 
__≠
Ë
__THROW
;

30 #ifde‡
__va_¨g_∑ck


31 
__exã∫_Æways_ölöe
 

32 
	`__NTH
 (
	$•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...))

34  
	`__buûtö___•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

36 
	}
}

37 #ñi‡!
deföed
 
__˝lu•lus


38 
	#•rötf
(
°r
, ...) \

39 
	`__buûtö___•rötf_chk
 (
°r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__exã∫_Æways_ölöe
 

44 
__NTH
 (
	$v•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

45 
_G_va_li°
 
__≠
))

47  
	`__buûtö___v•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

49 
	}
}

51 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


53 
	$__¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

54 
size_t
 
__¶í
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

55 ...Ë
__THROW
;

56 
	$__v¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

57 
size_t
 
__¶í
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

58 
_G_va_li°
 
__≠
Ë
__THROW
;

60 #ifde‡
__va_¨g_∑ck


61 
__exã∫_Æways_ölöe
 

62 
	`__NTH
 (
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

63 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...))

65  
	`__buûtö___¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

67 
	}
}

68 #ñi‡!
deföed
 
__˝lu•lus


69 
	#¢¥ötf
(
°r
, 
Àn
, ...) \

70 
	`__buûtö___¢¥ötf_chk
 (
°r
, 
Àn
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__exã∫_Æways_ölöe
 

75 
__NTH
 (
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

76 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

78  
	`__buûtö___v¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

80 
	}
}

84 #i‡
__USE_FORTIFY_LEVEL
 > 1

86 
__Ârötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

87 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

88 
__¥ötf_chk
 (
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

89 
__vÂrötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

90 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__≠
);

91 
__v¥ötf_chk
 (
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

92 
_G_va_li°
 
__≠
);

94 #ifde‡
__va_¨g_∑ck


95 
__exã∫_Æways_ölöe
 

96 
	$Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...)

98  
	`__Ârötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_¨g_∑ck
 ());

100 
	}
}

102 
__exã∫_Æways_ölöe
 

103 
	$¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

105  
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

106 
	}
}

107 #ñi‡!
deföed
 
__˝lu•lus


108 
	#¥ötf
(...) \

109 
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#Ârötf
(
°ªam
, ...) \

111 
	`__Ârötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__exã∫_Æways_ölöe
 

115 
	$v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

117 #ifde‡
__USE_EXTERN_INLINES


118  
	`__vÂrötf_chk
 (
°dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

120  
	`__v¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

122 
	}
}

124 
__exã∫_Æways_ölöe
 

125 
	$vÂrötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

126 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

128  
	`__vÂrötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

129 
	}
}

131 #ifde‡
__USE_GNU


133 
	$__a•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

134 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

135 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 4))Ë
__wur
;

136 
	$__va•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

137 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

138 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 0))Ë
__wur
;

139 
	$__d¥ötf_chk
 (
__fd
, 
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
,

140 ...Ë
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

141 
	$__vd¥ötf_chk
 (
__fd
, 
__Êag
,

142 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

143 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

144 
	$__ob°ack_¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

145 
__Êag
, 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

147 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

148 
	$__ob°ack_v¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

149 
__Êag
,

150 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

151 
_G_va_li°
 
__¨gs
)

152 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

154 #ifde‡
__va_¨g_∑ck


155 
__exã∫_Æways_ölöe
 

156 
	`__NTH
 (
	$a•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
, ...))

158  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_¨g_∑ck
 ());

160 
	}
}

162 
__exã∫_Æways_ölöe
 

163 
__NTH
 (
	$__a•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

166  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_¨g_∑ck
 ());

168 
	}
}

170 
__exã∫_Æways_ölöe
 

171 
	$d¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

173  
	`__d¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_¨g_∑ck
 ());

175 
	}
}

177 
__exã∫_Æways_ölöe
 

178 
__NTH
 (
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

179 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...))

181  
	`__ob°ack_¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_¨g_∑ck
 ());

183 
	}
}

184 #ñi‡!
deföed
 
__˝lu•lus


185 
	#a•rötf
(
±r
, ...) \

186 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__a•rötf
(
±r
, ...) \

188 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#d¥ötf
(
fd
, ...) \

190 
	`__d¥ötf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#ob°ack_¥ötf
(
ob°ack
, ...) \

192 
	`__ob°ack_¥ötf_chk
 (
ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__exã∫_Æways_ölöe
 

196 
__NTH
 (
	$va•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__fmt
,

197 
_G_va_li°
 
__≠
))

199  
	`__va•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

200 
	}
}

202 
__exã∫_Æways_ölöe
 

203 
	$vd¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

205  
	`__vd¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

206 
	}
}

208 
__exã∫_Æways_ölöe
 

209 
__NTH
 (
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

210 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

212  
	`__ob°ack_v¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__≠
);

214 
	}
}

220 *
	$__gës_chk
 (*
__°r
, 
size_t
Ë
__wur
;

221 *
	`__REDIRECT
 (
__gës_w¨n
, (*
__°r
), 
gës
)

222 
__wur
 
	`__w¨«âr
 ("please use fgets or getline instead, gets can't "

225 
__exã∫_Æways_ölöe
 
__wur
 *

226 
	$gës
 (*
__°r
)

228 i‡(
	`__bos
 (
__°r
Ë!(
size_t
) -1)

229  
	`__gës_chk
 (
__°r
, 
	`__bos
 (__str));

230  
	`__gës_w¨n
 (
__°r
);

231 
	}
}

233 *
	$__fgës_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

235 *
	`__REDIRECT
 (
__fgës_Æüs
,

236 (*
__ª°ri˘
 
__s
, 
__n
,

237 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës
Ë
__wur
;

238 *
	`__REDIRECT
 (
__fgës_chk_w¨n
,

239 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_chk
)

241 
__wur
 
	`__w¨«âr
 ("fgets called with bigger sizeÅhanÜength "

244 
__exã∫_Æways_ölöe
 
__wur
 *

245 
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

247 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

249 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

250  
	`__fgës_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

252 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

253  
	`__fgës_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

255  
	`__fgës_Æüs
 (
__s
, 
__n
, 
__°ªam
);

256 
	}
}

258 
size_t
 
	$__‰ód_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

259 
size_t
 
__size
, size_à
__n
,

260 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

261 
size_t
 
	`__REDIRECT
 (
__‰ód_Æüs
,

262 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

264 
‰ód
Ë
__wur
;

265 
size_t
 
	`__REDIRECT
 (
__‰ód_chk_w¨n
,

266 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

267 
size_t
 
__size
, size_à
__n
,

268 
FILE
 *
__ª°ri˘
 
__°ªam
),

269 
__‰ód_chk
)

270 
__wur
 
	`__w¨«âr
 ("fread called with bigger size *ÇmembÅhanÜength "

273 
__exã∫_Æways_ölöe
 
__wur
 
size_t


274 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

275 
FILE
 *
__ª°ri˘
 
__°ªam
)

277 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

279 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

280 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

281 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__‰ód_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

284 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

285  
	`__‰ód_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

287  
	`__‰ód_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

288 
	}
}

290 #ifde‡
__USE_GNU


291 *
	$__fgës_u∆ocked_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

293 *
	`__REDIRECT
 (
__fgës_u∆ocked_Æüs
,

294 (*
__ª°ri˘
 
__s
, 
__n
,

295 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës_u∆ocked
Ë
__wur
;

296 *
	`__REDIRECT
 (
__fgës_u∆ocked_chk_w¨n
,

297 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_u∆ocked_chk
)

299 
__wur
 
	`__w¨«âr
 ("fgets_unlocked called with bigger sizeÅhanÜength "

302 
__exã∫_Æways_ölöe
 
__wur
 *

303 
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

305 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

307 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

308  
	`__fgës_u∆ocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

310 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

311  
	`__fgës_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

313  
	`__fgës_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

314 
	}
}

317 #ifde‡
__USE_MISC


318 #unde‡
‰ód_u∆ocked


319 
size_t
 
	$__‰ód_u∆ocked_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

320 
size_t
 
__size
, size_à
__n
,

321 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

322 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_Æüs
,

323 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

325 
‰ód_u∆ocked
Ë
__wur
;

326 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_chk_w¨n
,

327 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

328 
size_t
 
__size
, size_à
__n
,

329 
FILE
 *
__ª°ri˘
 
__°ªam
),

330 
__‰ód_u∆ocked_chk
)

331 
__wur
 
	`__w¨«âr
 ("fread_unlocked called with bigger size *ÇmembÅhan "

334 
__exã∫_Æways_ölöe
 
__wur
 
size_t


335 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

336 
FILE
 *
__ª°ri˘
 
__°ªam
)

338 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

340 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

341 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

342 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__‰ód_u∆ocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

344 
__°ªam
);

346 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

347  
	`__‰ód_u∆ocked_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

348 
__°ªam
);

351 #ifde‡
__USE_EXTERN_INLINES


352 i‡(
	`__buûtö_c⁄°™t_p
 (
__size
)

353 && 
	`__buûtö_c⁄°™t_p
 (
__n
)

354 && (
__size
 | 
__n
Ë< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__˙t
 = 
__size
 * 
__n
;

358 *
__˝å
 = (*Ë
__±r
;

359 i‡(
__˙t
 == 0)

362 ; 
__˙t
 > 0; --__cnt)

364 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
);

365 i‡(
__c
 =
EOF
)

367 *
__˝å
++ = 
__c
;

369  (
__˝å
 - (*Ë
__±r
Ë/ 
__size
;

372  
	`__‰ód_u∆ocked_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #i‡!
deföed
 
_STDIO_H
 && !deföed 
__√ed_FOPEN_MAX
 && !deföed 
__√ed_IOV_MAX


23 #ifde‡
_STDIO_H


24 
	#L_tm≤am
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifde‡
__USE_POSIX


29 
	#L_˘îmid
 9

	)

30 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


31 
	#L_cu£rid
 9

	)

36 #i‡
deföed
 
__√ed_FOPEN_MAX
 || deföed 
_STDIO_H


37 #unde‡
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #i‡
deföed
 
__√ed_IOV_MAX
 && !deföed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-ldbl.h

20 #i‚de‡
_STDLIB_H


24 #ifdef 
__USE_ISOC99


25 
__BEGIN_NAMESPACE_C99


26 
	$__LDBL_REDIR1_DECL
 (
°πﬁd
, 
°πod
)

27 
__END_NAMESPACE_C99


30 #ifde‡
__USE_GNU


31 
	$__LDBL_REDIR1_DECL
 (
°πﬁd_l
, 
°πod_l
)

34 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


35 #ifde‡
__USE_MISC


36 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

39 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

40 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

20 #i‚de‡
_STDLIB_H


24 *
	$__ªÆ∑th_chk
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

25 *
__ª°ri˘
 
__ªsﬁved
,

26 
size_t
 
__ªsﬁvedÀn
Ë
__THROW
 
__wur
;

27 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_Æüs
,

28 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

29 *
__ª°ri˘
 
__ªsﬁved
), 
ªÆ∑th
Ë
__wur
;

30 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_chk_w¨n
,

31 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

32 *
__ª°ri˘
 
__ªsﬁved
,

33 
size_t
 
__ªsﬁvedÀn
), 
__ªÆ∑th_chk
Ë
__wur


34 
	`__w¨«âr
 ("secondárgument ofÑealpath must beÉither NULL orát "

37 
__exã∫_Æways_ölöe
 
__wur
 *

38 
	`__NTH
 (
	$ªÆ∑th
 (
__c⁄°
 *
__ª°ri˘
 
__«me
, *__ª°ri˘ 
__ªsﬁved
))

40 i‡(
	`__bos
 (
__ªsﬁved
Ë!(
size_t
) -1)

42 #i‡
deföed
 
_LIBC_LIMITS_H_
 && deföed 
PATH_MAX


43 i‡(
	`__bos
 (
__ªsﬁved
Ë< 
PATH_MAX
)

44  
	`__ªÆ∑th_chk_w¨n
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

46  
	`__ªÆ∑th_chk
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

49  
	`__ªÆ∑th_Æüs
 (
__«me
, 
__ªsﬁved
);

50 
	}
}

53 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

54 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

55 
	`__REDIRECT_NTH
 (
__±¢ame_r_Æüs
, (
__fd
, *
__buf
,

56 
size_t
 
__buÊí
), 
±¢ame_r
)

57 
	`__n⁄nuŒ
 ((2));

58 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¨n
,

59 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

60 
size_t
 
__ƒól
), 
__±¢ame_r_chk
)

61 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ptsname_r called with buflen biggerÅhan "

64 
__exã∫_Æways_ölöe
 

65 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

67 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

69 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

70  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

71 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

72  
	`__±¢ame_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

74  
	`__±¢ame_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

75 
	}
}

78 
	$__w˘omb_chk
 (*
__s
, 
wch¨_t
 
__wch¨
, 
size_t
 
__buÊí
)

79 
__THROW
 
__wur
;

80 
	`__REDIRECT_NTH
 (
__w˘omb_Æüs
, (*
__s
, 
wch¨_t
 
__wch¨
),

81 
w˘omb
Ë
__wur
;

83 
__exã∫_Æways_ölöe
 
__wur
 

84 
	`__NTH
 (
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
))

89 
	#__STDLIB_MB_LEN_MAX
 16

	)

90 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__STDLIB_MB_LEN_MAX


93 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

94  
	`__w˘omb_chk
 (
__s
, 
__wch¨
, 
	`__bos
 (__s));

95  
	`__w˘omb_Æüs
 (
__s
, 
__wch¨
);

96 
	}
}

99 
size_t
 
	$__mb°owcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

100 
__c⁄°
 *
__ª°ri˘
 
__§c
,

101 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

102 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_Æüs
,

103 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

104 
__c⁄°
 *
__ª°ri˘
 
__§c
,

105 
size_t
 
__Àn
), 
mb°owcs
);

106 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_chk_w¨n
,

107 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

108 
__c⁄°
 *
__ª°ri˘
 
__§c
,

109 
size_t
 
__Àn
, size_à
__d°Àn
), 
__mb°owcs_chk
)

110 
	`__w¨«âr
 ("mbstowcs called with dst buffer smallerÅhanÜen "

113 
__exã∫_Æways_ölöe
 
size_t


114 
	`__NTH
 (
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

115 
size_t
 
__Àn
))

117 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

119 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

120  
	`__mb°owcs_chk
 (
__d°
, 
__§c
, 
__Àn
,

121 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

123 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

124  
	`__mb°owcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
,

125 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

127  
	`__mb°owcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

128 
	}
}

131 
size_t
 
	$__wc°ombs_chk
 (*
__ª°ri˘
 
__d°
,

132 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

133 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

134 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_Æüs
,

135 (*
__ª°ri˘
 
__d°
,

136 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

137 
size_t
 
__Àn
), 
wc°ombs
);

138 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_chk_w¨n
,

139 (*
__ª°ri˘
 
__d°
,

140 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

141 
size_t
 
__Àn
, size_à
__d°Àn
), 
__wc°ombs_chk
)

142 
	`__w¨«âr
 ("wcstombs called with dst buffer smallerÅhanÜen");

144 
__exã∫_Æways_ölöe
 
size_t


145 
	`__NTH
 (
	$wc°ombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 *__ª°ri˘ 
__§c
,

146 
size_t
 
__Àn
))

148 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

150 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

151  
	`__wc°ombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

152 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

153  
	`__wc°ombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

155  
	`__wc°ombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

156 
	}
}

	@/usr/include/bits/string.h

20 #i‚de‡
_STRING_H


26 
	#_STRING_ARCH_u«lig√d
 1

	)

	@/usr/include/bits/string2.h

21 #i‚de‡
_STRING_H


25 #i‡!
deföed
 
__NO_STRING_INLINES
 && !deföed 
__BOUNDED_POINTERS__


42 #i‚de‡
__STRING_INLINE


43 #ifde‡
__˝lu•lus


44 
	#__STRING_INLINE
 
ölöe


	)

46 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

50 #i‡
_STRING_ARCH_u«lig√d


52 
	~<ídün.h
>

53 
	~<bôs/ty≥s.h
>

55 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


56 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

57 (((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1] << 8 \

58 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
])

	)

59 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

60 (((((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 3] << 8 \

61 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

62 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

63 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
])

	)

65 
	#__STRING2_SMALL_GET16
(
§c
, 
idx
) \

66 (((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
] << 8 \

67 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1])

	)

68 
	#__STRING2_SMALL_GET32
(
§c
, 
idx
) \

69 (((((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
] << 8 \

70 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

71 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

72 | ((
__c⁄°
 *Ë(__c⁄° *Ë(
§c
))[
idx
 + 3])

	)

77 
	#__STRING2_COPY_TYPE
(
N
) \

78 °ru˘ { 
__¨r
[
N
]; } \

79 
	t__©åibuã__
 ((
	t__∑cked__
)Ë
	t__STRING2_COPY_ARR
##
	tN


	)

80 
	t__STRING2_COPY_TYPE
 (2);

81 
__STRING2_COPY_TYPE
 (3);

82 
__STRING2_COPY_TYPE
 (4);

83 
__STRING2_COPY_TYPE
 (5);

84 
__STRING2_COPY_TYPE
 (6);

85 
__STRING2_COPY_TYPE
 (7);

86 
__STRING2_COPY_TYPE
 (8);

87 #unde‡
__STRING2_COPY_TYPE


93 
	#__°rög2_1b±r_p
(
__x
) \

94 ((
size_t
)(c⁄° *)((
__x
Ë+ 1Ë- (size_t)(c⁄° *)(__xË=1)

	)

97 #i‡!
deföed
 
_HAVE_STRING_ARCH_mem£t


98 #i‡!
__GNUC_PREREQ
 (3, 0)

99 #i‡
_STRING_ARCH_u«lig√d


100 
	#mem£t
(
s
, 
c
, 
n
) \

101 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) && (n) <= 16 \

102 ? ((
n
) == 1 \

103 ? 
	`__mem£t_1
 (
s
, 
c
) \

104 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

105 : (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

106 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

107 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

109 
	#__mem£t_1
(
s
, 
c
Ë({ *
__s
 = (s); \

110 *((
__uöt8_t
 *Ë
__s
Ë(__uöt8_tË
c
; __s; })

	)

112 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

113 ({ *
__s
 = (
s
); \

115 
__ui
; \

116 
__usi
; \

117 
__uc
; \

118 } *
__u
 = 
__s
; \

119 
__uöt8_t
 
__c
 = (__uöt8_tË(
c
); \

122 (Ë(
n
)) \

125 
__u
->
__ui
 = 
__c
 * 0x01010101; \

126 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

128 
__u
->
__ui
 = 
__c
 * 0x01010101; \

129 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

131 
__u
->
__ui
 = 
__c
 * 0x01010101; \

132 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

134 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

135 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

136 
__u
->
__uc
 = (Ë
__c
; \

140 
__u
->
__ui
 = 
__c
 * 0x01010101; \

141 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

143 
__u
->
__ui
 = 
__c
 * 0x01010101; \

144 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

146 
__u
->
__ui
 = 
__c
 * 0x01010101; \

147 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

149 
__u
->
__usi
 = (Ë
__c
 * 0x0101; \

153 
__u
->
__ui
 = 
__c
 * 0x01010101; \

154 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

156 
__u
->
__ui
 = 
__c
 * 0x01010101; \

157 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

159 
__u
->
__ui
 = 
__c
 * 0x01010101; \

160 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

162 
__u
->
__uc
 = (Ë
__c
; \

166 
__u
->
__ui
 = 
__c
 * 0x01010101; \

167 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

169 
__u
->
__ui
 = 
__c
 * 0x01010101; \

170 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

172 
__u
->
__ui
 = 
__c
 * 0x01010101; \

173 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

175 
__u
->
__ui
 = 
__c
 * 0x01010101; \

180 
__s
; })

	)

182 
	#mem£t
(
s
, 
c
, 
n
) \

183 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

184 ? ({ *
__s
 = (
s
); 
	`__bzîo
 (__s, 
n
); __s; }) \

185 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

194 #i‡
__GNUC_PREREQ
 (2, 91)

195 
	#__bzîo
(
s
, 
n
Ë
	`__buûtö_mem£t
 (s, '\0',Ç)

	)

203 #ifde‡
__USE_GNU


204 #i‡!
deföed
 
_HAVE_STRING_ARCH_memp˝y
 || deföed 
_FORCE_INLINES


205 #i‚de‡
_HAVE_STRING_ARCH_memp˝y


206 #i‡
__GNUC_PREREQ
 (3, 4)

207 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_memp˝y
 (de°, src,Ç)

	)

208 #ñi‡
__GNUC_PREREQ
 (3, 0)

209 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

210 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

211 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

212 ? 
	`__buûtö_mem˝y
 (
de°
, 
§c
, 
n
) + (n) \

213 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

215 
	#__memp˝y
(
de°
, 
§c
, 
n
) \

216 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

217 && 
	`__°rög2_1b±r_p
 (
§c
Ë&& 
n
 <= 8 \

218 ? 
	`__memp˝y_smÆl
 (
de°
, 
	`__memp˝y_¨gs
 (
§c
), 
n
) \

219 : 
	`__memp˝y
 (
de°
, 
§c
, 
n
)))

	)

223 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y
 (de°, src,Ç)

	)

226 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


227 #i‡
_STRING_ARCH_u«lig√d


228 #i‚de‡
_FORCE_INLINES


229 
	#__memp˝y_¨gs
(
§c
) \

230 ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[2], \

231 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[6], \

232 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

233 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

234 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

235 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

237 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , , , ,

238 
__uöt16_t
, __uöt16_t, 
__uöt32_t
,

239 
__uöt32_t
, 
size_t
);

240 
__STRING_INLINE
 *

241 
	$__memp˝y_smÆl
 (*
__de°1
,

242 
__§c0_1
, 
__§c2_1
, 
__§c4_1
, 
__§c6_1
,

243 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

244 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

245 
size_t
 
__§˛í
)

248 
__uöt32_t
 
__ui
;

249 
__uöt16_t
 
__usi
;

250 
__uc
;

251 
__c
;

252 } *
__u
 = 
__de°1
;

253 (Ë
__§˛í
)

256 
__u
->
__c
 = 
__§c0_1
;

257 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

260 
__u
->
__usi
 = 
__§c0_2
;

261 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

264 
__u
->
__usi
 = 
__§c0_2
;

265 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

266 
__u
->
__c
 = 
__§c2_1
;

267 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

270 
__u
->
__ui
 = 
__§c0_4
;

271 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

274 
__u
->
__ui
 = 
__§c0_4
;

275 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

276 
__u
->
__c
 = 
__§c4_1
;

277 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

280 
__u
->
__ui
 = 
__§c0_4
;

281 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

282 
__u
->
__usi
 = 
__§c4_2
;

283 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

286 
__u
->
__ui
 = 
__§c0_4
;

287 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

288 
__u
->
__usi
 = 
__§c4_2
;

289 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

290 
__u
->
__c
 = 
__§c6_1
;

291 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

294 
__u
->
__ui
 = 
__§c0_4
;

295 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

296 
__u
->
__ui
 = 
__§c4_4
;

297 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

300  (*Ë
__u
;

301 
	}
}

303 #i‚de‡
_FORCE_INLINES


304 
	#__memp˝y_¨gs
(
§c
) \

305 ((
__c⁄°
 *Ë(
§c
))[0], \

306 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

307 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1] } }), \

308 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

309 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

310 ((
__c⁄°
 *Ë(
§c
))[2] } }), \

311 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

312 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

313 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3] } }), \

314 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

315 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

316 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

317 ((
__c⁄°
 *Ë(
§c
))[4] } }), \

318 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

319 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

320 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

321 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5] } }), \

322 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

323 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

324 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

325 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

326 ((
__c⁄°
 *Ë(
§c
))[6] } }), \

327 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

328 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

329 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

330 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

331 ((
__c⁄°
 *Ë(
§c
))[6], ((__c⁄° *Ë(§c))[7] } })

	)

333 
__STRING_INLINE
 *
__memp˝y_smÆl
 (*, , 
__STRING2_COPY_ARR2
,

334 
__STRING2_COPY_ARR3
,

335 
__STRING2_COPY_ARR4
,

336 
__STRING2_COPY_ARR5
,

337 
__STRING2_COPY_ARR6
,

338 
__STRING2_COPY_ARR7
,

339 
__STRING2_COPY_ARR8
, 
size_t
);

340 
__STRING_INLINE
 *

341 
	$__memp˝y_smÆl
 (*
__de°
, 
__§c1
,

342 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

343 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

344 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

345 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

348 
__c
;

349 
__STRING2_COPY_ARR2
 
__sˇ2
;

350 
__STRING2_COPY_ARR3
 
__sˇ3
;

351 
__STRING2_COPY_ARR4
 
__sˇ4
;

352 
__STRING2_COPY_ARR5
 
__sˇ5
;

353 
__STRING2_COPY_ARR6
 
__sˇ6
;

354 
__STRING2_COPY_ARR7
 
__sˇ7
;

355 
__STRING2_COPY_ARR8
 
__sˇ8
;

356 } *
__u
 = 
__de°
;

357 (Ë
__§˛í
)

360 
__u
->
__c
 = 
__§c1
;

363 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

366 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

369 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

372 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

375 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

378 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

381 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

384  
	`__exãnsi⁄__
 ((*Ë
__u
 + 
__§˛í
);

385 
	}
}

393 #i‚de‡
_HAVE_STRING_ARCH_°rchr


394 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

395 #i‡
__GNUC_PREREQ
 (3, 2)

396 
	#°rchr
(
s
, 
c
) \

397 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
Ë&& !__buûtö_c⁄°™t_∞(
s
) \

398 && (
c
) == '\0' \

399 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

400 : 
	`__buûtö_°rchr
 (
s
, 
c
)))

	)

402 
	#°rchr
(
s
, 
c
) \

403 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) && (c) == '\0' \

404 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

405 : 
	`°rchr
 (
s
, 
c
)))

	)

411 #i‡(!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)) \

412 || 
deföed
 
	g_FORCE_INLINES


413 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r˝y
 && !
__GNUC_PREREQ
 (3, 0)

414 
	#°r˝y
(
de°
, 
§c
) \

415 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

416 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

417 ? 
	`__°r˝y_smÆl
 (
de°
, 
	`__°r˝y_¨gs
 (
§c
), \

418 
	`°æí
 (
§c
) + 1) \

419 : (*Ë
	`mem˝y
 (
de°
, 
§c
, 
	`°æí
 (src) + 1)) \

420 : 
	`°r˝y
 (
de°
, 
§c
)))

	)

423 #i‡
_STRING_ARCH_u«lig√d


424 #i‚de‡
_FORCE_INLINES


425 
	#__°r˝y_¨gs
(
§c
) \

426 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

427 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

428 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

429 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

431 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

432 
__uöt32_t
, __uöt32_t, 
size_t
);

433 
__STRING_INLINE
 *

434 
	$__°r˝y_smÆl
 (*
__de°
,

435 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

436 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

437 
size_t
 
__§˛í
)

440 
__uöt32_t
 
__ui
;

441 
__uöt16_t
 
__usi
;

442 
__uc
;

443 } *
__u
 = (*Ë
__de°
;

444 (Ë
__§˛í
)

447 
__u
->
__uc
 = '\0';

450 
__u
->
__usi
 = 
__§c0_2
;

453 
__u
->
__usi
 = 
__§c0_2
;

454 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

455 
__u
->
__uc
 = '\0';

458 
__u
->
__ui
 = 
__§c0_4
;

461 
__u
->
__ui
 = 
__§c0_4
;

462 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

463 
__u
->
__uc
 = '\0';

466 
__u
->
__ui
 = 
__§c0_4
;

467 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

468 
__u
->
__usi
 = 
__§c4_2
;

471 
__u
->
__ui
 = 
__§c0_4
;

472 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

473 
__u
->
__usi
 = 
__§c4_2
;

474 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

475 
__u
->
__uc
 = '\0';

478 
__u
->
__ui
 = 
__§c0_4
;

479 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

480 
__u
->
__ui
 = 
__§c4_4
;

483  
__de°
;

484 
	}
}

486 #i‚de‡
_FORCE_INLINES


487 
	#__°r˝y_¨gs
(
§c
) \

488 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

489 { { ((
__c⁄°
 *Ë(
§c
))[0], '\0' } }), \

490 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

491 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

493 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

494 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

495 ((
__c⁄°
 *Ë(
§c
))[2], '\0' } }), \

496 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

497 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

498 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

500 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

501 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

502 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

503 ((
__c⁄°
 *Ë(
§c
))[4], '\0' } }), \

504 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

505 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

506 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

507 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

509 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

510 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

511 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

512 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

513 ((
__c⁄°
 *Ë(
§c
))[6], '\0' } })

	)

515 
__STRING_INLINE
 *
__°r˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

516 
__STRING2_COPY_ARR3
,

517 
__STRING2_COPY_ARR4
,

518 
__STRING2_COPY_ARR5
,

519 
__STRING2_COPY_ARR6
,

520 
__STRING2_COPY_ARR7
,

521 
__STRING2_COPY_ARR8
, 
size_t
);

522 
__STRING_INLINE
 *

523 
	$__°r˝y_smÆl
 (*
__de°
,

524 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

525 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

526 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

527 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

530 
__c
;

531 
__STRING2_COPY_ARR2
 
__sˇ2
;

532 
__STRING2_COPY_ARR3
 
__sˇ3
;

533 
__STRING2_COPY_ARR4
 
__sˇ4
;

534 
__STRING2_COPY_ARR5
 
__sˇ5
;

535 
__STRING2_COPY_ARR6
 
__sˇ6
;

536 
__STRING2_COPY_ARR7
 
__sˇ7
;

537 
__STRING2_COPY_ARR8
 
__sˇ8
;

538 } *
__u
 = (*Ë
__de°
;

539 (Ë
__§˛í
)

542 
__u
->
__c
 = '\0';

545 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

548 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

551 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

554 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

557 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

560 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

563 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

566  
__de°
;

567 
	}
}

573 #ifde‡
__USE_GNU


574 #i‡!
deföed
 
_HAVE_STRING_ARCH_°p˝y
 || deföed 
_FORCE_INLINES


575 #i‚de‡
_HAVE_STRING_ARCH_°p˝y


576 #i‡
__GNUC_PREREQ
 (3, 4)

577 
	#__°p˝y
(
de°
, 
§c
Ë
	`__buûtö_°p˝y
 (de°, src)

	)

578 #ñi‡
__GNUC_PREREQ
 (3, 0)

579 
	#__°p˝y
(
de°
, 
§c
) \

580 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

581 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

582 ? 
	`__buûtö_°r˝y
 (
de°
, 
§c
Ë+ 
	`°æí
 (src) \

583 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

585 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

587 
	#__°p˝y
(
de°
, 
§c
) \

588 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

589 ? (
	`__°rög2_1b±r_p
 (
§c
Ë&& 
	`°æí
 (src) + 1 <= 8 \

590 ? 
	`__°p˝y_smÆl
 (
de°
, 
	`__°p˝y_¨gs
 (
§c
), \

591 
	`°æí
 (
§c
) + 1) \

592 : ((*Ë(
__memp˝y
Ë(
de°
, 
§c
, 
	`°æí
 (src) + 1) \

594 : 
	`__°p˝y
 (
de°
, 
§c
)))

	)

598 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 (de°, src)

	)

601 #i‡!
__GNUC_PREREQ
 (3, 0Ë|| 
deföed
 
_FORCE_INLINES


602 #i‡
_STRING_ARCH_u«lig√d


603 #i‚de‡
_FORCE_INLINES


604 
	#__°p˝y_¨gs
(
§c
) \

605 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 0), \

606 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET16
 (
§c
, 4), \

607 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 0), \

608 
__exãnsi⁄__
 
	`__STRING2_SMALL_GET32
 (
§c
, 4)

	)

610 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__uöt16_t
, __uint16_t,

611 
__uöt32_t
, __uöt32_t, 
size_t
);

612 
__STRING_INLINE
 *

613 
	$__°p˝y_smÆl
 (*
__de°
,

614 
__uöt16_t
 
__§c0_2
, __uöt16_à
__§c4_2
,

615 
__uöt32_t
 
__§c0_4
, __uöt32_à
__§c4_4
,

616 
size_t
 
__§˛í
)

619 
__ui
;

620 
__usi
;

621 
__uc
;

622 
__c
;

623 } *
__u
 = (*Ë
__de°
;

624 (Ë
__§˛í
)

627 
__u
->
__uc
 = '\0';

630 
__u
->
__usi
 = 
__§c0_2
;

631 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

634 
__u
->
__usi
 = 
__§c0_2
;

635 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

636 
__u
->
__uc
 = '\0';

639 
__u
->
__ui
 = 
__§c0_4
;

640 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

643 
__u
->
__ui
 = 
__§c0_4
;

644 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

645 
__u
->
__uc
 = '\0';

648 
__u
->
__ui
 = 
__§c0_4
;

649 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

650 
__u
->
__usi
 = 
__§c4_2
;

651 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1);

654 
__u
->
__ui
 = 
__§c0_4
;

655 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

656 
__u
->
__usi
 = 
__§c4_2
;

657 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2);

658 
__u
->
__uc
 = '\0';

661 
__u
->
__ui
 = 
__§c0_4
;

662 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4);

663 
__u
->
__ui
 = 
__§c4_4
;

664 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3);

667  &
__u
->
__c
;

668 
	}
}

670 #i‚de‡
_FORCE_INLINES


671 
	#__°p˝y_¨gs
(
§c
) \

672 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR2
) \

673 { { ((
__c⁄°
 *Ë(
§c
))[0], '\0' } }), \

674 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR3
) \

675 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

677 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR4
) \

678 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

679 ((
__c⁄°
 *Ë(
§c
))[2], '\0' } }), \

680 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR5
) \

681 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

682 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

684 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR6
) \

685 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

686 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

687 ((
__c⁄°
 *Ë(
§c
))[4], '\0' } }), \

688 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR7
) \

689 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

690 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

691 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

693 
	`__exãnsi⁄__
 ((
__STRING2_COPY_ARR8
) \

694 { { ((
__c⁄°
 *Ë(
§c
))[0], ((__const *) (src))[1], \

695 ((
__c⁄°
 *Ë(
§c
))[2], ((__const *) (src))[3], \

696 ((
__c⁄°
 *Ë(
§c
))[4], ((__const *) (src))[5], \

697 ((
__c⁄°
 *Ë(
§c
))[6], '\0' } })

	)

699 
__STRING_INLINE
 *
__°p˝y_smÆl
 (*, 
__STRING2_COPY_ARR2
,

700 
__STRING2_COPY_ARR3
,

701 
__STRING2_COPY_ARR4
,

702 
__STRING2_COPY_ARR5
,

703 
__STRING2_COPY_ARR6
,

704 
__STRING2_COPY_ARR7
,

705 
__STRING2_COPY_ARR8
, 
size_t
);

706 
__STRING_INLINE
 *

707 
	$__°p˝y_smÆl
 (*
__de°
,

708 
__STRING2_COPY_ARR2
 
__§c2
, 
__STRING2_COPY_ARR3
 
__§c3
,

709 
__STRING2_COPY_ARR4
 
__§c4
, 
__STRING2_COPY_ARR5
 
__§c5
,

710 
__STRING2_COPY_ARR6
 
__§c6
, 
__STRING2_COPY_ARR7
 
__§c7
,

711 
__STRING2_COPY_ARR8
 
__§c8
, 
size_t
 
__§˛í
)

714 
__c
;

715 
__STRING2_COPY_ARR2
 
__sˇ2
;

716 
__STRING2_COPY_ARR3
 
__sˇ3
;

717 
__STRING2_COPY_ARR4
 
__sˇ4
;

718 
__STRING2_COPY_ARR5
 
__sˇ5
;

719 
__STRING2_COPY_ARR6
 
__sˇ6
;

720 
__STRING2_COPY_ARR7
 
__sˇ7
;

721 
__STRING2_COPY_ARR8
 
__sˇ8
;

722 } *
__u
 = (*Ë
__de°
;

723 (Ë
__§˛í
)

726 
__u
->
__c
 = '\0';

729 
__exãnsi⁄__
 
__u
->
__sˇ2
 = 
__§c2
;

732 
__exãnsi⁄__
 
__u
->
__sˇ3
 = 
__§c3
;

735 
__exãnsi⁄__
 
__u
->
__sˇ4
 = 
__§c4
;

738 
__exãnsi⁄__
 
__u
->
__sˇ5
 = 
__§c5
;

741 
__exãnsi⁄__
 
__u
->
__sˇ6
 = 
__§c6
;

744 
__exãnsi⁄__
 
__u
->
__sˇ7
 = 
__§c7
;

747 
__exãnsi⁄__
 
__u
->
__sˇ8
 = 
__§c8
;

750  
__de°
 + 
__§˛í
 - 1;

751 
	}
}

759 #i‚de‡
_HAVE_STRING_ARCH_°∫˝y


760 #i‡
__GNUC_PREREQ
 (3, 2)

761 
	#°∫˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫˝y
 (de°, src,Ç)

	)

763 
	#°∫˝y
(
de°
, 
§c
, 
n
) \

764 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

765 ? (
	`°æí
 (
§c
Ë+ 1 >((
size_t
Ë(
n
)) \

766 ? (*Ë
	`mem˝y
 (
de°
, 
§c
, 
n
) \

767 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)) \

768 : 
	`°∫˝y
 (
de°
, 
§c
, 
n
)))

	)

774 #i‚de‡
_HAVE_STRING_ARCH_°∫ˇt


775 #ifde‡
_USE_STRING_ARCH_°rchr


776 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

777 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

778 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

779 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

780 ? 
	`°rˇt
 (
__de°
, 
§c
) \

781 : (*((*Ë
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

782 
§c
, 
n
)Ë'\0', 
__de°
)) \

783 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
); }))

	)

784 #ñi‡
__GNUC_PREREQ
 (3, 2)

785 
	#°∫ˇt
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫ˇt
 (de°, src,Ç)

	)

787 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

788 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

789 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

790 ? 
	`°rˇt
 (
de°
, 
§c
) \

791 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)) \

792 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
)))

	)

798 #i‚de‡
_HAVE_STRING_ARCH_°rcmp


799 #i‡
__GNUC_PREREQ
 (3, 2)

800 
	#°rcmp
(
s1
, 
s2
) \

801 
__exãnsi⁄__
 \

802 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

803 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

804 && (
__s1_Àn
 = 
	`__buûtö_°æí
 (
s1
), 
__s2_Àn
 = __buûtö_°æí (
s2
), \

805 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

806 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

807 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

808 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

809 && (
__s1_Àn
 = 
	`__buûtö_°æí
 (
s1
), __s1_len < 4) \

810 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

811 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

812 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

813 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

814 && (
__s2_Àn
 = 
	`__buûtö_°æí
 (
s2
), __s2_len < 4) \

815 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

816 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

817 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

818 : 
	`__buûtö_°rcmp
 (
s1
, 
s2
)))); })

	)

820 
	#°rcmp
(
s1
, 
s2
) \

821 
__exãnsi⁄__
 \

822 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

823 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

824 && (
__s1_Àn
 = 
	`°æí
 (
s1
), 
__s2_Àn
 = såÀ¿(
s2
), \

825 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

826 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

827 ? 
	`memcmp
 ((
__c⁄°
 *Ë(
s1
), (__c⁄° *Ë(
s2
), \

828 (
__s1_Àn
 < 
__s2_Àn
 ? __s1_len : __s2_len) + 1) \

829 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

830 && (
__s1_Àn
 = 
	`°æí
 (
s1
), __s1_len < 4) \

831 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

832 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s1_Àn
) \

833 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

834 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

835 && (
__s2_Àn
 = 
	`°æí
 (
s2
), __s2_len < 4) \

836 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

837 ? 
	`__°rcmp_cc
 (
s1
, 
s2
, 
__s2_Àn
) \

838 : 
	`__°rcmp_gc
 (
s1
, 
s2
, 
__s2_Àn
)) \

839 : 
	`°rcmp
 (
s1
, 
s2
)))); })

	)

842 
	#__°rcmp_cc
(
s1
, 
s2
, 
l
) \

843 (
	`__exãnsi⁄__
 ({ 
__ªsu…
 = \

844 (((
__c⁄°
 *Ë(__c⁄° *Ë(
s1
))[0] \

845 - ((
__c⁄°
 *Ë(__c⁄° *)(
s2
))[0]);\

846 i‡(
l
 > 0 && 
__ªsu…
 == 0) \

848 
__ªsu…
 = (((
__c⁄°
 *) \

849 (
__c⁄°
 *Ë(
s1
))[1] \

850 - ((
__c⁄°
 *) \

851 (
__c⁄°
 *Ë(
s2
))[1]); \

852 i‡(
l
 > 1 && 
__ªsu…
 == 0) \

854 
__ªsu…
 = \

855 (((
__c⁄°
 *) \

856 (
__c⁄°
 *Ë(
s1
))[2] \

857 - ((
__c⁄°
 *) \

858 (
__c⁄°
 *Ë(
s2
))[2]); \

859 i‡(
l
 > 2 && 
__ªsu…
 == 0) \

860 
__ªsu…
 = \

861 (((
__c⁄°
 *) \

862 (
__c⁄°
 *Ë(
s1
))[3] \

863 - ((
__c⁄°
 *) \

864 (
__c⁄°
 *Ë(
s2
))[3]); \

867 
__ªsu…
; }))

	)

869 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

870 (
	`__exãnsi⁄__
 ({ 
__c⁄°
 *
__s2
 = \

871 (
__c⁄°
 *Ë(__c⁄° *Ë(
s2
); \

872 
__ªsu…
 = \

873 (((
__c⁄°
 *Ë(__c⁄° *Ë(
s1
))[0] \

874 - 
__s2
[0]); \

875 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

877 
__ªsu…
 = (((
__c⁄°
 *) \

878 (
__c⁄°
 *Ë(
s1
))[1] - 
__s2
[1]); \

879 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

881 
__ªsu…
 = (((
__c⁄°
 *) \

882 (
__c⁄°
 *Ë(
s1
))[2] - 
__s2
[2]);\

883 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

884 
__ªsu…
 = (((
__c⁄°
 *) \

885 (
__c⁄°
 *Ë(
s1
))[3] \

886 - 
__s2
[3]); \

889 
__ªsu…
; }))

	)

891 
	#__°rcmp_gc
(
s1
, 
s2
, 
l2
) \

892 (
	`__exãnsi⁄__
 ({ 
__c⁄°
 *
__s1
 = \

893 (
__c⁄°
 *Ë(__c⁄° *Ë(
s1
); \

894 
__ªsu…
 = \

895 
__s1
[0] - ((
__c⁄°
 *) \

896 (
__c⁄°
 *Ë(
s2
))[0]; \

897 i‡(
l2
 > 0 && 
__ªsu…
 == 0) \

899 
__ªsu…
 = (
__s1
[1] \

900 - ((
__c⁄°
 *) \

901 (
__c⁄°
 *Ë(
s2
))[1]); \

902 i‡(
l2
 > 1 && 
__ªsu…
 == 0) \

904 
__ªsu…
 = \

905 (
__s1
[2] - ((
__c⁄°
 *) \

906 (
__c⁄°
 *Ë(
s2
))[2]); \

907 i‡(
l2
 > 2 && 
__ªsu…
 == 0) \

908 
__ªsu…
 = \

909 (
__s1
[3] \

910 - ((
__c⁄°
 *) \

911 (
__c⁄°
 *Ë(
s2
))[3]); \

914 
__ªsu…
; }))

	)

919 #i‚de‡
_HAVE_STRING_ARCH_°∫cmp


920 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

921 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

922 && ((
	`__buûtö_c⁄°™t_p
 (
s1
) \

923 && 
	`°æí
 (
s1
Ë< ((
size_t
Ë(
n
))) \

924 || (
	`__buûtö_c⁄°™t_p
 (
s2
) \

925 && 
	`°æí
 (
s2
Ë< ((
size_t
Ë(
n
)))) \

926 ? 
	`°rcmp
 (
s1
, 
s2
Ë: 
	`°∫cmp
 (s1, s2, 
n
)))

	)

932 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rc•n
 || deföed 
_FORCE_INLINES


933 #i‚de‡
_HAVE_STRING_ARCH_°rc•n


934 #i‡
__GNUC_PREREQ
 (3, 2)

935 
	#°rc•n
(
s
, 
ªje˘
) \

936 
__exãnsi⁄__
 \

937 ({ 
__r0
, 
__r1
, 
__r2
; \

938 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

939 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

940 ? 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
) \

941 : ((
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], __r0 == '\0') \

942 ? 
	`°æí
 (
s
) \

943 : ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], __r1 == '\0') \

944 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

945 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

946 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

947 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

948 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

949 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)))))) \

950 : 
	`__buûtö_°rc•n
 (
s
, 
ªje˘
)); })

	)

952 
	#°rc•n
(
s
, 
ªje˘
) \

953 
__exãnsi⁄__
 \

954 ({ 
__r0
, 
__r1
, 
__r2
; \

955 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

956 ? ((
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], __r0 == '\0') \

957 ? 
	`°æí
 (
s
) \

958 : ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], __r1 == '\0') \

959 ? 
	`__°rc•n_c1
 (
s
, 
__r0
) \

960 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

961 ? 
	`__°rc•n_c2
 (
s
, 
__r0
, 
__r1
) \

962 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

963 ? 
	`__°rc•n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

964 : 
	`°rc•n
 (
s
, 
ªje˘
))))) \

965 : 
	`°rc•n
 (
s
, 
ªje˘
)); })

	)

969 
__STRING_INLINE
 
size_t
 
__°rc•n_c1
 (
__c⁄°
 *
__s
, 
__ªje˘
);

970 
__STRING_INLINE
 
size_t


971 
	$__°rc•n_c1
 (
__c⁄°
 *
__s
, 
__ªje˘
)

973 
size_t
 
__ªsu…
 = 0;

974 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘
)

975 ++
__ªsu…
;

976  
__ªsu…
;

977 
	}
}

979 
__STRING_INLINE
 
size_t
 
__°rc•n_c2
 (
__c⁄°
 *
__s
, 
__ªje˘1
,

980 
__ªje˘2
);

981 
__STRING_INLINE
 
size_t


982 
	$__°rc•n_c2
 (
__c⁄°
 *
__s
, 
__ªje˘1
, 
__ªje˘2
)

984 
size_t
 
__ªsu…
 = 0;

985 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


986 && 
__s
[
__ªsu…
] !
__ªje˘2
)

987 ++
__ªsu…
;

988  
__ªsu…
;

989 
	}
}

991 
__STRING_INLINE
 
size_t
 
__°rc•n_c3
 (
__c⁄°
 *
__s
, 
__ªje˘1
,

992 
__ªje˘2
, 
__ªje˘3
);

993 
__STRING_INLINE
 
size_t


994 
	$__°rc•n_c3
 (
__c⁄°
 *
__s
, 
__ªje˘1
, 
__ªje˘2
,

995 
__ªje˘3
)

997 
size_t
 
__ªsu…
 = 0;

998 
__s
[
__ªsu…
] !'\0' && __s[__ªsu…] !
__ªje˘1


999 && 
__s
[
__ªsu…
] !
__ªje˘2
 && __s[__ªsu…] !
__ªje˘3
)

1000 ++
__ªsu…
;

1001  
__ªsu…
;

1002 
	}
}

1008 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r•n
 || deföed 
_FORCE_INLINES


1009 #i‚de‡
_HAVE_STRING_ARCH_°r•n


1010 #i‡
__GNUC_PREREQ
 (3, 2)

1011 
	#°r•n
(
s
, 
ac˚±
) \

1012 
__exãnsi⁄__
 \

1013 ({ 
__a0
, 
__a1
, 
__a2
; \

1014 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1015 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1016 ? 
	`__buûtö_°r•n
 (
s
, 
ac˚±
) \

1017 : ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1018 ? ((Ë(
s
), 0) \

1019 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1020 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1021 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1022 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1023 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1024 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1025 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)))))) \

1026 : 
	`__buûtö_°r•n
 (
s
, 
ac˚±
)); })

	)

1028 
	#°r•n
(
s
, 
ac˚±
) \

1029 
__exãnsi⁄__
 \

1030 ({ 
__a0
, 
__a1
, 
__a2
; \

1031 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1032 ? ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1033 ? ((Ë(
s
), 0) \

1034 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1035 ? 
	`__°r•n_c1
 (
s
, 
__a0
) \

1036 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1037 ? 
	`__°r•n_c2
 (
s
, 
__a0
, 
__a1
) \

1038 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1039 ? 
	`__°r•n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1040 : 
	`°r•n
 (
s
, 
ac˚±
))))) \

1041 : 
	`°r•n
 (
s
, 
ac˚±
)); })

	)

1045 
__STRING_INLINE
 
size_t
 
__°r•n_c1
 (
__c⁄°
 *
__s
, 
__ac˚±
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__°r•n_c1
 (
__c⁄°
 *
__s
, 
__ac˚±
)

1049 
size_t
 
__ªsu…
 = 0;

1051 
__s
[
__ªsu…
] =
__ac˚±
)

1052 ++
__ªsu…
;

1053  
__ªsu…
;

1054 
	}
}

1056 
__STRING_INLINE
 
size_t
 
__°r•n_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1057 
__ac˚±2
);

1058 
__STRING_INLINE
 
size_t


1059 
	$__°r•n_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1061 
size_t
 
__ªsu…
 = 0;

1063 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2
)

1064 ++
__ªsu…
;

1065  
__ªsu…
;

1066 
	}
}

1068 
__STRING_INLINE
 
size_t
 
__°r•n_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1069 
__ac˚±2
, 
__ac˚±3
);

1070 
__STRING_INLINE
 
size_t


1071 
	$__°r•n_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
, 
__ac˚±3
)

1073 
size_t
 
__ªsu…
 = 0;

1075 
__s
[
__ªsu…
] =
__ac˚±1
 || __s[__ªsu…] =
__ac˚±2


1076 || 
__s
[
__ªsu…
] =
__ac˚±3
)

1077 ++
__ªsu…
;

1078  
__ªsu…
;

1079 
	}
}

1084 #i‡!
deföed
 
_HAVE_STRING_ARCH_°Ωbrk
 || deföed 
_FORCE_INLINES


1085 #i‚de‡
_HAVE_STRING_ARCH_°Ωbrk


1086 #i‡
__GNUC_PREREQ
 (3, 2)

1087 
	#°Ωbrk
(
s
, 
ac˚±
) \

1088 
__exãnsi⁄__
 \

1089 ({ 
__a0
, 
__a1
, 
__a2
; \

1090 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1091 ? ((
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s)) \

1092 ? 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
) \

1093 : ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1094 ? ((Ë(
s
), (*Ë
NULL
) \

1095 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1096 ? 
	`__buûtö_°rchr
 (
s
, 
__a0
) \

1097 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1098 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1099 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1100 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1101 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)))))) \

1102 : 
	`__buûtö_°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1104 
	#°Ωbrk
(
s
, 
ac˚±
) \

1105 
__exãnsi⁄__
 \

1106 ({ 
__a0
, 
__a1
, 
__a2
; \

1107 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
Ë&& 
	`__°rög2_1b±r_p
 (accept) \

1108 ? ((
__a0
 = ((
__c⁄°
 *Ë(
ac˚±
))[0], __a0 == '\0') \

1109 ? ((Ë(
s
), (*Ë
NULL
) \

1110 : ((
__a1
 = ((
__c⁄°
 *Ë(
ac˚±
))[1], __a1 == '\0') \

1111 ? 
	`°rchr
 (
s
, 
__a0
) \

1112 : ((
__a2
 = ((
__c⁄°
 *Ë(
ac˚±
))[2], __a2 == '\0') \

1113 ? 
	`__°Ωbrk_c2
 (
s
, 
__a0
, 
__a1
) \

1114 : (((
__c⁄°
 *Ë(
ac˚±
))[3] == '\0' \

1115 ? 
	`__°Ωbrk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1116 : 
	`°Ωbrk
 (
s
, 
ac˚±
))))) \

1117 : 
	`°Ωbrk
 (
s
, 
ac˚±
)); })

	)

1121 
__STRING_INLINE
 *
__°Ωbrk_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1122 
__ac˚±2
);

1123 
__STRING_INLINE
 *

1124 
	$__°Ωbrk_c2
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
)

1127 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2
)

1128 ++
__s
;

1129  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1130 
	}
}

1132 
__STRING_INLINE
 *
__°Ωbrk_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
,

1133 
__ac˚±2
, 
__ac˚±3
);

1134 
__STRING_INLINE
 *

1135 
	$__°Ωbrk_c3
 (
__c⁄°
 *
__s
, 
__ac˚±1
, 
__ac˚±2
,

1136 
__ac˚±3
)

1139 *
__s
 !'\0' && *__†!
__ac˚±1
 && *__†!
__ac˚±2


1140 && *
__s
 !
__ac˚±3
)

1141 ++
__s
;

1142  *
__s
 ='\0' ? 
NULL
 : (*Ë(
size_t
) __s;

1143 
	}
}

1149 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r°r
 && !
__GNUC_PREREQ
 (2, 97)

1150 
	#°r°r
(
hay°ack
, 
√edÀ
) \

1151 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
√edÀ
Ë&& 
	`__°rög2_1b±r_p
 (needle) \

1152 ? (((
__c⁄°
 *Ë(
√edÀ
))[0] == '\0' \

1153 ? (*Ë(
size_t
Ë(
hay°ack
) \

1154 : (((
__c⁄°
 *Ë(
√edÀ
))[1] == '\0' \

1155 ? 
	`°rchr
 (
hay°ack
, \

1156 ((
__c⁄°
 *Ë(
√edÀ
))[0]) \

1157 : 
	`°r°r
 (
hay°ack
, 
√edÀ
))) \

1158 : 
	`°r°r
 (
hay°ack
, 
√edÀ
)))

	)

1162 #i‡!
deföed
 
_HAVE_STRING_ARCH_°πok_r
 || deföed 
_FORCE_INLINES


1163 #i‚de‡
_HAVE_STRING_ARCH_°πok_r


1164 
	#__°πok_r
(
s
, 
£p
, 
√xç
) \

1165 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
£p
Ë&& 
	`__°rög2_1b±r_p
 (sep) \

1166 && ((
__c⁄°
 *Ë(
£p
))[0] != '\0' \

1167 && ((
__c⁄°
 *Ë(
£p
))[1] == '\0' \

1168 ? 
	`__°πok_r_1c
 (
s
, ((
__c⁄°
 *Ë(
£p
))[0], 
√xç
) \

1169 : 
	`__°πok_r
 (
s
, 
£p
, 
√xç
)))

	)

1172 
__STRING_INLINE
 *
__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
);

1173 
__STRING_INLINE
 *

1174 
	$__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
)

1176 *
__ªsu…
;

1177 i‡(
__s
 =
NULL
)

1178 
__s
 = *
__√xç
;

1179 *
__s
 =
__£p
)

1180 ++
__s
;

1181 
__ªsu…
 = 
NULL
;

1182 i‡(*
__s
 != '\0')

1184 
__ªsu…
 = 
__s
++;

1185 *
__s
 != '\0')

1186 i‡(*
__s
++ =
__£p
)

1188 
__s
[-1] = '\0';

1192 *
__√xç
 = 
__s
;

1193  
__ªsu…
;

1194 
	}
}

1195 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


1196 
	#°πok_r
(
s
, 
£p
, 
√xç
Ë
	`__°πok_r
 (s, sï,Çexç)

	)

1201 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r£p
 || deföed 
_FORCE_INLINES


1202 #i‚de‡
_HAVE_STRING_ARCH_°r£p


1204 *
__°r£p_g
 (**
__°rögp
, 
__c⁄°
 *
__dñim
);

1205 
	#__°r£p
(
s
, 
ªje˘
) \

1206 
__exãnsi⁄__
 \

1207 ({ 
__r0
, 
__r1
, 
__r2
; \

1208 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

1209 && (
__r0
 = ((
__c⁄°
 *Ë(
ªje˘
))[0], \

1210 ((
__c⁄°
 *Ë(
ªje˘
))[0] != '\0') \

1211 ? ((
__r1
 = ((
__c⁄°
 *Ë(
ªje˘
))[1], \

1212 ((
__c⁄°
 *Ë(
ªje˘
))[1] == '\0') \

1213 ? 
	`__°r£p_1c
 (
s
, 
__r0
) \

1214 : ((
__r2
 = ((
__c⁄°
 *Ë(
ªje˘
))[2], __r2 == '\0') \

1215 ? 
	`__°r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1216 : (((
__c⁄°
 *Ë(
ªje˘
))[3] == '\0' \

1217 ? 
	`__°r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1218 : 
	`__°r£p_g
 (
s
, 
ªje˘
)))) \

1219 : 
	`__°r£p_g
 (
s
, 
ªje˘
)); })

	)

1222 
__STRING_INLINE
 *
__°r£p_1c
 (**
__s
, 
__ªje˘
);

1223 
__STRING_INLINE
 *

1224 
	$__°r£p_1c
 (**
__s
, 
__ªje˘
)

1226 *
__ªtvÆ
 = *
__s
;

1227 i‡(
__ªtvÆ
 !
NULL
 && (*
__s
 = 
	`°rchr
 (__ªtvÆ, 
__ªje˘
)) != NULL)

1228 *(*
__s
)++ = '\0';

1229  
__ªtvÆ
;

1230 
	}
}

1232 
__STRING_INLINE
 *
__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
);

1233 
__STRING_INLINE
 *

1234 
	$__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
)

1236 *
__ªtvÆ
 = *
__s
;

1237 i‡(
__ªtvÆ
 !
NULL
)

1239 *
__˝
 = 
__ªtvÆ
;

1242 i‡(*
__˝
 == '\0')

1244 
__˝
 = 
NULL
;

1247 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
)

1249 *
__˝
++ = '\0';

1252 ++
__˝
;

1254 *
__s
 = 
__˝
;

1256  
__ªtvÆ
;

1257 
	}
}

1259 
__STRING_INLINE
 *
__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
,

1260 
__ªje˘3
);

1261 
__STRING_INLINE
 *

1262 
	$__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
, 
__ªje˘3
)

1264 *
__ªtvÆ
 = *
__s
;

1265 i‡(
__ªtvÆ
 !
NULL
)

1267 *
__˝
 = 
__ªtvÆ
;

1270 i‡(*
__˝
 == '\0')

1272 
__˝
 = 
NULL
;

1275 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
 || *__˝ =
__ªje˘3
)

1277 *
__˝
++ = '\0';

1280 ++
__˝
;

1282 *
__s
 = 
__˝
;

1284  
__ªtvÆ
;

1285 
	}
}

1286 #ifde‡
__USE_BSD


1287 
	#°r£p
(
s
, 
ªje˘
Ë
	`__°r£p
 (s,Ñeje˘)

	)

1294 #ifde‡
__USE_MISC


1296 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rdup
 || !deföed 
_HAVE_STRING_ARCH_°∫dup


1297 
	#__√ed_mÆloc_™d_ˇŒoc


	)

1298 
	~<°dlib.h
>

1301 #i‚de‡
_HAVE_STRING_ARCH_°rdup


1303 *
	$__°rdup
 (
__c⁄°
 *
__°rög
Ë
__THROW
 
__©åibuã_mÆloc__
;

1304 
	#__°rdup
(
s
) \

1305 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1306 ? (((
__c⁄°
 *Ë(
s
))[0] == '\0' \

1307 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1308 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1309 *
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1310 i‡(
__ªtvÆ
 !
NULL
) \

1311 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, 
__Àn
); \

1312 
__ªtvÆ
; 
	}
})) \

1313 : 
	`__°rdup
 (
s
)))

	)

1315 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


1316 
	#°rdup
(
s
Ë
	`__°rdup
 (s)

	)

1320 #i‚de‡
_HAVE_STRING_ARCH_°∫dup


1322 *
	$__°∫dup
 (
__c⁄°
 *
__°rög
, 
size_t
 
__n
)

1323 
__THROW
 
__©åibuã_mÆloc__
;

1324 
	#__°∫dup
(
s
, 
n
) \

1325 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

1326 ? (((
__c⁄°
 *Ë(
s
))[0] == '\0' \

1327 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

1328 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

1329 
size_t
 
__n
 = (
n
); \

1330 *
__ªtvÆ
; \

1331 i‡(
__n
 < 
__Àn
) \

1332 
__Àn
 = 
__n
 + 1; \

1333 
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

1334 i‡(
__ªtvÆ
 !
NULL
) \

1336 
__ªtvÆ
[
__Àn
 - 1] = '\0'; \

1337 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, \

1338 
__Àn
 - 1); \

1340 
__ªtvÆ
; 
	}
})) \

1341 : 
	`__°∫dup
 (
s
, 
n
)))

	)

1343 #ifde‡
__USE_GNU


1344 
	#°∫dup
(
s
, 
n
Ë
	`__°∫dup
 (s,Ç)

	)

1350 #i‚de‡
_FORCE_INLINES


1351 #unde‡
__STRING_INLINE


	@/usr/include/bits/string3.h

19 #i‚de‡
_STRING_H


23 
__w¨nde˛
 (
__w¨n_mem£t_zîo_Àn
,

26 #i‚de‡
__˝lu•lus


30 #unde‡
mem˝y


31 #unde‡
memmove


32 #unde‡
mem£t


33 #unde‡
°rˇt


34 #unde‡
°r˝y


35 #unde‡
°∫ˇt


36 #unde‡
°∫˝y


37 #ifde‡
__USE_GNU


38 #unde‡
memp˝y


39 #unde‡
°p˝y


41 #ifde‡
__USE_BSD


42 #unde‡
bc›y


43 #unde‡
bzîo


48 
__exã∫_Æways_ölöe
 *

49 
__NTH
 (
	$mem˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

50 
size_t
 
__Àn
))

52  
	`__buûtö___mem˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

53 
	}
}

55 
__exã∫_Æways_ölöe
 *

56 
__NTH
 (
	$memmove
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__Àn
))

58  
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

59 
	}
}

61 #ifde‡
__USE_GNU


62 
__exã∫_Æways_ölöe
 *

63 
__NTH
 (
	$memp˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

64 
size_t
 
__Àn
))

66  
	`__buûtö___memp˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

67 
	}
}

76 
__exã∫_Æways_ölöe
 *

77 
__NTH
 (
	$mem£t
 (*
__de°
, 
__ch
, 
size_t
 
__Àn
))

79 i‡(
	`__buûtö_c⁄°™t_p
 (
__Àn
) && __len == 0

80 && (!
	`__buûtö_c⁄°™t_p
 (
__ch
) || __ch != 0))

82 
	`__w¨n_mem£t_zîo_Àn
 ();

83  
__de°
;

85  
	`__buûtö___mem£t_chk
 (
__de°
, 
__ch
, 
__Àn
, 
	`__bos0
 (__dest));

86 
	}
}

88 #ifde‡
__USE_BSD


89 
__exã∫_Æways_ölöe
 

90 
__NTH
 (
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__Àn
))

92 (Ë
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

93 
	}
}

95 
__exã∫_Æways_ölöe
 

96 
__NTH
 (
	$bzîo
 (*
__de°
, 
size_t
 
__Àn
))

98 (Ë
	`__buûtö___mem£t_chk
 (
__de°
, '\0', 
__Àn
, 
	`__bos0
 (__dest));

99 
	}
}

102 
__exã∫_Æways_ölöe
 *

103 
__NTH
 (
	$°r˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

105  
	`__buûtö___°r˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

106 
	}
}

108 #ifde‡
__USE_GNU


109 
__exã∫_Æways_ölöe
 *

110 
__NTH
 (
	$°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

112  
	`__buûtö___°p˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

113 
	}
}

117 
__exã∫_Æways_ölöe
 *

118 
__NTH
 (
	$°∫˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

119 
size_t
 
__Àn
))

121  
	`__buûtö___°∫˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

122 
	}
}

125 *
	$__°≤˝y_chk
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
,

126 
size_t
 
__de°Àn
Ë
__THROW
;

127 *
	`__REDIRECT_NTH
 (
__°≤˝y_Æüs
, (*
__de°
,

128 
__c⁄°
 *
__§c
,

129 
size_t
 
__n
), 
°≤˝y
);

131 
__exã∫_Æways_ölöe
 *

132 
	`__NTH
 (
	$°≤˝y
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
))

134 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1

135 && (!
	`__buûtö_c⁄°™t_p
 (
__n
Ë|| __¿<
	`__bos
 (
__de°
)))

136  
	`__°≤˝y_chk
 (
__de°
, 
__§c
, 
__n
, 
	`__bos
 (__dest));

137  
	`__°≤˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

138 
	}
}

141 
__exã∫_Æways_ölöe
 *

142 
__NTH
 (
	$°rˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
))

144  
	`__buûtö___°rˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

145 
	}
}

148 
__exã∫_Æways_ölöe
 *

149 
__NTH
 (
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

150 
size_t
 
__Àn
))

152  
	`__buûtö___°∫ˇt_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

153 
	}
}

	@/usr/include/bits/sys_errlist.h

20 #i‚de‡
_STDIO_H


26 #ifde‡ 
__USE_BSD


27 
sys_√º
;

28 
__c⁄°
 *__c⁄° 
sys_îæi°
[];

30 #ifde‡ 
__USE_GNU


31 
_sys_√º
;

32 
__c⁄°
 *__c⁄° 
_sys_îæi°
[];

	@/usr/include/bits/time.h

24 #i‡
deföed
 
__√ed_timevÆ
 || deföed 
__USE_GNU


25 #i‚de‡
_STRUCT_TIMEVAL


26 
	#_STRUCT_TIMEVAL
 1

	)

27 
	~<bôs/ty≥s.h
>

31 
	stimevÆ


33 
__time_t
 
	mtv_£c
;

34 
__su£c⁄ds_t
 
	mtv_u£c
;

39 #i‚de‡
__√ed_timevÆ


40 #i‚de‡
_BITS_TIME_H


41 
	#_BITS_TIME_H
 1

	)

49 
	#CLOCKS_PER_SEC
 1000000l

	)

51 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


54 
	~<bôs/ty≥s.h
>

55 
__sysc⁄f
 ();

56 
	#CLK_TCK
 ((
__˛ock_t
Ë
	`__sysc⁄f
 (2)Ë

	)

59 #ifde‡
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

82 
	#TIMER_ABSTIME
 1

	)

85 #ifde‡
__USE_GNU


86 
	~<bôs/timex.h
>

88 
__BEGIN_DECLS


91 
	$˛ock_adjtime
 (
__˛ockid_t
 
__˛ock_id
, 
timex
 *
__utx
Ë
__THROW
;

93 
__END_DECLS


99 #unde‡
__√ed_timevÆ


	@/usr/include/bits/types.h

24 #i‚def 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<„©uªs.h
>

28 
	~<bôs/w‹dsize.h
>

31 
	t__u_ch¨
;

32 
	t__u_sh‹t
;

33 
	t__u_öt
;

34 
	t__u_l⁄g
;

37 sig√d 
	t__öt8_t
;

38 
	t__uöt8_t
;

39 sig√d 
	t__öt16_t
;

40 
	t__uöt16_t
;

41 sig√d 
	t__öt32_t
;

42 
	t__uöt32_t
;

43 #i‡
__WORDSIZE
 == 64

44 sig√d 
	t__öt64_t
;

45 
	t__uöt64_t
;

46 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


47 
__exãnsi⁄__
 sig√d 
	t__öt64_t
;

48 
__exãnsi⁄__
 
	t__uöt64_t
;

52 #i‡
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #ñi‡
deföed
 
__GLIBC_HAVE_LONG_LONG


56 
__exãnsi⁄__
 
	t__quad_t
;

57 
__exãnsi⁄__
 
	t__u_quad_t
;

61 
	m__vÆ
[2];

62 } 
	t__quad_t
;

65 
__u_l⁄g
 
	m__vÆ
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #i‡
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__exãnsi⁄__
 

	)

117 #ñi‡
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<bôs/ty≥sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__öo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__öo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__∆ök_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__˛ock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__æim_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__æim64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£c⁄ds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£c⁄ds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__˛ockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__timî_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blk˙t_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blk˙t64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblk˙t_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblk˙t64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfû˙t_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfû˙t64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ˇddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__öçå_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockÀn_t
;

195 #unde‡
__STD_TYPE


	@/usr/include/bits/unistd.h

20 #i‚de‡
_UNISTD_H


24 
ssize_t
 
	$__ªad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

25 
size_t
 
__buÊí
Ë
__wur
;

26 
ssize_t
 
	`__REDIRECT
 (
__ªad_Æüs
, (
__fd
, *
__buf
,

27 
size_t
 
__nbyãs
), 
ªad
Ë
__wur
;

28 
ssize_t
 
	`__REDIRECT
 (
__ªad_chk_w¨n
,

29 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

30 
size_t
 
__buÊí
), 
__ªad_chk
)

31 
__wur
 
	`__w¨«âr
 ("read called with biggerÜengthÅhan size of "

34 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


35 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
)

37 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

39 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

40  
	`__ªad_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

42 i‡(
__nbyãs
 > 
	`__bos0
 (
__buf
))

43  
	`__ªad_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

45  
	`__ªad_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
);

46 
	}
}

48 #ifde‡
__USE_UNIX98


49 
ssize_t
 
	$__¥ód_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

50 
__off_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

51 
ssize_t
 
	$__¥ód64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

52 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

53 
ssize_t
 
	`__REDIRECT
 (
__¥ód_Æüs
,

54 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

55 
__off_t
 
__off£t
), 
¥ód
Ë
__wur
;

56 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_Æüs
,

57 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

58 
__off64_t
 
__off£t
), 
¥ód64
Ë
__wur
;

59 
ssize_t
 
	`__REDIRECT
 (
__¥ód_chk_w¨n
,

60 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

61 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__¥ód_chk
)

62 
__wur
 
	`__w¨«âr
 ("pread called with biggerÜengthÅhan size of "

64 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_chk_w¨n
,

65 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

66 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

67 
__¥ód64_chk
)

68 
__wur
 
	`__w¨«âr
 ("pread64 called with biggerÜengthÅhan size of "

71 #i‚de‡
__USE_FILE_OFFSET64


72 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


73 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off_t
 
__off£t
)

75 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

77 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

78  
	`__¥ód_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

80 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

81  
	`__¥ód_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

82 
	`__bos0
 (
__buf
));

84  
	`__¥ód_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

85 
	}
}

87 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


88 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

90 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

92 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

93  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

95 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

96  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

97 
	`__bos0
 (
__buf
));

100  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

101 
	}
}

104 #ifde‡
__USE_LARGEFILE64


105 
__exã∫_Æways_ölöe
 
__wur
 
ssize_t


106 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

108 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

110 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

111  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

113 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

114  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

115 
	`__bos0
 (
__buf
));

118  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

119 
	}
}

123 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


124 
ssize_t
 
	$__ªadlök_chk
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

125 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

126 
size_t
 
__buÊí
)

127 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

128 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_Æüs
,

129 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

130 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
), 
ªadlök
)

131 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

132 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_chk_w¨n
,

133 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

134 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

135 
size_t
 
__buÊí
), 
__ªadlök_chk
)

136 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
	`__w¨«âr
 ("readlink called with biggerÜength "

139 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
ssize_t


140 
	`__NTH
 (
	$ªadlök
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
, *__ª°ri˘ 
__buf
,

141 
size_t
 
__Àn
))

143 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

145 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

146  
	`__ªadlök_chk
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

148 i‡–
__Àn
 > 
	`__bos
 (
__buf
))

149  
	`__ªadlök_chk_w¨n
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

151  
	`__ªadlök_Æüs
 (
__∑th
, 
__buf
, 
__Àn
);

152 
	}
}

155 #ifde‡
__USE_ATFILE


156 
ssize_t
 
	$__ªadlök©_chk
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

157 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

158 
size_t
 
__buÊí
)

159 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

160 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_Æüs
,

161 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

162 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
),

163 
ªadlök©
)

164 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

165 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_chk_w¨n
,

166 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

167 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

168 
size_t
 
__buÊí
), 
__ªadlök©_chk
)

169 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
	`__w¨«âr
 ("readlinkat called with bigger "

173 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
ssize_t


174 
	`__NTH
 (
	$ªadlök©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

175 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
))

177 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

179 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

180  
	`__ªadlök©_chk
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

182 i‡(
__Àn
 > 
	`__bos
 (
__buf
))

183  
	`__ªadlök©_chk_w¨n
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
,

184 
	`__bos
 (
__buf
));

186  
	`__ªadlök©_Æüs
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
);

187 
	}
}

190 *
	$__gëcwd_chk
 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
)

191 
__THROW
 
__wur
;

192 *
	`__REDIRECT_NTH
 (
__gëcwd_Æüs
,

193 (*
__buf
, 
size_t
 
__size
), 
gëcwd
Ë
__wur
;

194 *
	`__REDIRECT_NTH
 (
__gëcwd_chk_w¨n
,

195 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
),

196 
__gëcwd_chk
)

197 
__wur
 
	`__w¨«âr
 ("getcwd caller with biggerÜengthÅhan size of "

200 
__exã∫_Æways_ölöe
 
__wur
 *

201 
	`__NTH
 (
	$gëcwd
 (*
__buf
, 
size_t
 
__size
))

203 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

205 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
))

206  
	`__gëcwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

208 i‡(
__size
 > 
	`__bos
 (
__buf
))

209  
	`__gëcwd_chk_w¨n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

211  
	`__gëcwd_Æüs
 (
__buf
, 
__size
);

212 
	}
}

214 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


215 *
	$__gëwd_chk
 (*
__buf
, 
size_t
 
buÊí
)

216 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

217 *
	`__REDIRECT_NTH
 (
__gëwd_w¨n
, (*
__buf
), 
gëwd
)

218 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("please use getcwd instead,ás getwd "

221 
__exã∫_Æways_ölöe
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
 *

222 
	`__NTH
 (
	$gëwd
 (*
__buf
))

224 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

225  
	`__gëwd_chk
 (
__buf
, 
	`__bos
 (__buf));

226  
	`__gëwd_w¨n
 (
__buf
);

227 
	}
}

230 
size_t
 
	$__c⁄f°r_chk
 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

231 
size_t
 
__buÊí
Ë
__THROW
;

232 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_Æüs
, (
__«me
, *
__buf
,

233 
size_t
 
__Àn
), 
c⁄f°r
);

234 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_chk_w¨n
,

235 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

236 
size_t
 
__buÊí
), 
__c⁄f°r_chk
)

237 
	`__w¨«âr
 ("confstr called with biggerÜengthÅhan size of destination "

240 
__exã∫_Æways_ölöe
 
size_t


241 
	`__NTH
 (
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
))

243 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

245 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

246  
	`__c⁄f°r_chk
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

248 i‡(
	`__bos
 (
__buf
Ë< 
__Àn
)

249  
	`__c⁄f°r_chk_w¨n
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

251  
	`__c⁄f°r_Æüs
 (
__«me
, 
__buf
, 
__Àn
);

252 
	}
}

255 
	$__gëgroups_chk
 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
)

256 
__THROW
 
__wur
;

257 
	`__REDIRECT_NTH
 (
__gëgroups_Æüs
, (
__size
, 
__gid_t
 
__li°
[]),

258 
gëgroups
Ë
__wur
;

259 
	`__REDIRECT_NTH
 (
__gëgroups_chk_w¨n
,

260 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
),

261 
__gëgroups_chk
)

262 
__wur
 
	`__w¨«âr
 ("getgroups called with bigger group countÅhan what "

265 
__exã∫_Æways_ölöe
 

266 
	`__NTH
 (
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]))

268 i‡(
	`__bos
 (
__li°
Ë!(
size_t
) -1)

270 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
) || __size < 0)

271  
	`__gëgroups_chk
 (
__size
, 
__li°
, 
	`__bos
 (__list));

273 i‡(
__size
 *  (
__gid_t
Ë> 
	`__bos
 (
__li°
))

274  
	`__gëgroups_chk_w¨n
 (
__size
, 
__li°
, 
	`__bos
 (__list));

276  
	`__gëgroups_Æüs
 (
__size
, 
__li°
);

277 
	}
}

280 
	$__ây«me_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

281 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

282 
	`__REDIRECT_NTH
 (
__ây«me_r_Æüs
, (
__fd
, *
__buf
,

283 
size_t
 
__buÊí
), 
ây«me_r
)

284 
	`__n⁄nuŒ
 ((2));

285 
	`__REDIRECT_NTH
 (
__ây«me_r_chk_w¨n
,

286 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

287 
size_t
 
__ƒól
), 
__ây«me_r_chk
)

288 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ttyname_r called with bigger buflenÅhan "

291 
__exã∫_Æways_ölöe
 

292 
	`__NTH
 (
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

294 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

296 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

297  
	`__ây«me_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

299 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

300  
	`__ây«me_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

302  
	`__ây«me_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

303 
	}
}

306 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


307 
	$__gëlogö_r_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

308 
	`__n⁄nuŒ
 ((1));

309 
	`__REDIRECT
 (
__gëlogö_r_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

310 
gëlogö_r
Ë
	`__n⁄nuŒ
 ((1));

311 
	`__REDIRECT
 (
__gëlogö_r_chk_w¨n
,

312 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

313 
__gëlogö_r_chk
)

314 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("getlogin_r called with bigger buflenÅhan "

317 
__exã∫_Æways_ölöe
 

318 
	$gëlogö_r
 (*
__buf
, 
size_t
 
__buÊí
)

320 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

322 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

323  
	`__gëlogö_r_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

325 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

326  
	`__gëlogö_r_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

328  
	`__gëlogö_r_Æüs
 (
__buf
, 
__buÊí
);

329 
	}
}

333 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98


334 
	$__gëho°«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

335 
__THROW
 
	`__n⁄nuŒ
 ((1));

336 
	`__REDIRECT_NTH
 (
__gëho°«me_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

337 
gëho°«me
Ë
	`__n⁄nuŒ
 ((1));

338 
	`__REDIRECT_NTH
 (
__gëho°«me_chk_w¨n
,

339 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

340 
__gëho°«me_chk
)

341 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("gethostname called with bigger buflenÅhan "

344 
__exã∫_Æways_ölöe
 

345 
	`__NTH
 (
	$gëho°«me
 (*
__buf
, 
size_t
 
__buÊí
))

347 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

349 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

350  
	`__gëho°«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

352 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

353  
	`__gëho°«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

355  
	`__gëho°«me_Æüs
 (
__buf
, 
__buÊí
);

356 
	}
}

360 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

361 
	$__gëdomaö«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

362 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

363 
	`__REDIRECT_NTH
 (
__gëdomaö«me_Æüs
, (*
__buf
,

364 
size_t
 
__buÊí
),

365 
gëdomaö«me
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

366 
	`__REDIRECT_NTH
 (
__gëdomaö«me_chk_w¨n
,

367 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

368 
__gëdomaö«me_chk
)

369 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("getdomainname called with bigger "

373 
__exã∫_Æways_ölöe
 

374 
	`__NTH
 (
	$gëdomaö«me
 (*
__buf
, 
size_t
 
__buÊí
))

376 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

378 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

379  
	`__gëdomaö«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

381 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

382  
	`__gëdomaö«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

384  
	`__gëdomaö«me_Æüs
 (
__buf
, 
__buÊí
);

385 
	}
}

	@/usr/include/bits/waitflags.h

20 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


26 
	#WNOHANG
 1

	)

27 
	#WUNTRACED
 2

	)

30 
	#WSTOPPED
 2

	)

31 
	#WEXITED
 4

	)

32 
	#WCONTINUED
 8

	)

33 
	#WNOWAIT
 0x01000000

	)

35 
	#__WNOTHREAD
 0x20000000

	)

37 
	#__WALL
 0x40000000

	)

38 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

20 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


29 
	#__WEXITSTATUS
(
°©us
Ë(((°©usË& 0xff00Ë>> 8)

	)

32 
	#__WTERMSIG
(
°©us
Ë((°©usË& 0x7f)

	)

35 
	#__WSTOPSIG
(
°©us
Ë
	`__WEXITSTATUS
(°©us)

	)

38 
	#__WIFEXITED
(
°©us
Ë(
	`__WTERMSIG
(°©usË=0)

	)

41 
	#__WIFSIGNALED
(
°©us
) \

42 (((sig√d Ë(((
°©us
Ë& 0x7fË+ 1Ë>> 1Ë> 0)

	)

45 
	#__WIFSTOPPED
(
°©us
Ë(((°©usË& 0xffË=0x7f)

	)

49 #ifde‡
WCONTINUED


50 
	#__WIFCONTINUED
(
°©us
Ë((°©usË=
__W_CONTINUED
)

	)

54 
	#__WCOREDUMP
(
°©us
Ë((°©usË& 
__WCOREFLAG
)

	)

57 
	#__W_EXITCODE
(
ªt
, 
sig
Ë(‘ëË<< 8 | (sig))

	)

58 
	#__W_STOPCODE
(
sig
Ë((sigË<< 8 | 0x7f)

	)

59 
	#__W_CONTINUED
 0xffff

	)

60 
	#__WCOREFLAG
 0x80

	)

63 #ifdef 
__USE_BSD


65 
	~<ídün.h
>

67 
	uwaô


69 
	mw_°©us
;

72 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


73 
	m__w_ãrmsig
:7;

74 
	m__w_c‹edump
:1;

75 
	m__w_ªtcode
:8;

78 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


80 
	m__w_ªtcode
:8;

81 
	m__w_c‹edump
:1;

82 
	m__w_ãrmsig
:7;

84 } 
	m__waô_ãrmö©ed
;

87 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


88 
	m__w_°›vÆ
:8;

89 
	m__w_°›sig
:8;

92 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


94 
	m__w_°›sig
:8;

95 
	m__w_°›vÆ
:8;

97 } 
	m__waô_°›≥d
;

100 
	#w_ãrmsig
 
__waô_ãrmö©ed
.
__w_ãrmsig


	)

101 
	#w_c‹edump
 
__waô_ãrmö©ed
.
__w_c‹edump


	)

102 
	#w_ªtcode
 
__waô_ãrmö©ed
.
__w_ªtcode


	)

103 
	#w_°›sig
 
__waô_°›≥d
.
__w_°›sig


	)

104 
	#w_°›vÆ
 
__waô_°›≥d
.
__w_°›vÆ


	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/endian.h

19 #i‚def 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<„©uªs.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<bôs/ídün.h
>

41 #i‚de‡
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

54 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

59 #ifde‡
__USE_BSD


61 
	~<bôs/byãsw≠.h
>

63 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


64 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

65 
	#htﬁe16
(
x
Ë(x)

	)

66 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

67 
	#À16toh
(
x
Ë(x)

	)

69 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

70 
	#htﬁe32
(
x
Ë(x)

	)

71 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

72 
	#À32toh
(
x
Ë(x)

	)

74 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

75 
	#htﬁe64
(
x
Ë(x)

	)

76 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

77 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

20 #i‚def 
_FEATURES_H


21 
	#_FEATURES_H
 1

	)

98 #unde‡
__USE_ISOC99


99 #unde‡
__USE_ISOC95


100 #unde‡
__USE_POSIX


101 #unde‡
__USE_POSIX2


102 #unde‡
__USE_POSIX199309


103 #unde‡
__USE_POSIX199506


104 #unde‡
__USE_XOPEN


105 #unde‡
__USE_XOPEN_EXTENDED


106 #unde‡
__USE_UNIX98


107 #unde‡
__USE_XOPEN2K


108 #unde‡
__USE_XOPEN2KXSI


109 #unde‡
__USE_XOPEN2K8


110 #unde‡
__USE_XOPEN2K8XSI


111 #unde‡
__USE_LARGEFILE


112 #unde‡
__USE_LARGEFILE64


113 #unde‡
__USE_FILE_OFFSET64


114 #unde‡
__USE_BSD


115 #unde‡
__USE_SVID


116 #unde‡
__USE_MISC


117 #unde‡
__USE_ATFILE


118 #unde‡
__USE_GNU


119 #unde‡
__USE_REENTRANT


120 #unde‡
__USE_FORTIFY_LEVEL


121 #unde‡
__FAVOR_BSD


122 #unde‡
__KERNEL_STRICT_NAMES


126 #i‚de‡
_LOOSE_KERNEL_NAMES


127 
	#__KERNEL_STRICT_NAMES


	)

131 
	#__USE_ANSI
 1

	)

140 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


141 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

142 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

144 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

149 #i‡
deföed
 
_BSD_SOURCE
 && \

150 !(
deföed
 
	g_POSIX_SOURCE
 || deföed 
	g_POSIX_C_SOURCE
 || \

151 
deföed
 
	g_XOPEN_SOURCE
 || deföed 
	g_GNU_SOURCE
 || deföed 
	g_SVID_SOURCE
)

152 
	#__FAVOR_BSD
 1

	)

156 #ifde‡
_GNU_SOURCE


157 #unde‡
_ISOC95_SOURCE


158 
	#_ISOC95_SOURCE
 1

	)

159 #unde‡
_ISOC99_SOURCE


160 
	#_ISOC99_SOURCE
 1

	)

161 #unde‡
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #unde‡
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #unde‡
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #unde‡
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #unde‡
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #unde‡
_BSD_SOURCE


172 
	#_BSD_SOURCE
 1

	)

173 #unde‡
_SVID_SOURCE


174 
	#_SVID_SOURCE
 1

	)

175 #unde‡
_ATFILE_SOURCE


176 
	#_ATFILE_SOURCE
 1

	)

181 #i‡(!
deföed
 
__STRICT_ANSI__
 && !deföed 
_ISOC99_SOURCE
 && \

182 !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 && \

183 !
deföed
 
	g_XOPEN_SOURCE
 && !deföed 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
)

184 
	#_BSD_SOURCE
 1

	)

185 
	#_SVID_SOURCE
 1

	)

192 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

193 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

194 
	#__USE_ISOC99
 1

	)

198 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

199 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

200 
	#__USE_ISOC95
 1

	)

205 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

206 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

207 
	#_POSIX_SOURCE
 1

	)

208 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

209 
	#_POSIX_C_SOURCE
 2

	)

210 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

211 
	#_POSIX_C_SOURCE
 199506L

	)

212 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

213 
	#_POSIX_C_SOURCE
 200112L

	)

215 
	#_POSIX_C_SOURCE
 200809L

	)

217 
	#__USE_POSIX_IMPLICITLY
 1

	)

220 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


221 
	#__USE_POSIX
 1

	)

224 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


225 
	#__USE_POSIX2
 1

	)

228 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

229 
	#__USE_POSIX199309
 1

	)

232 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

233 
	#__USE_POSIX199506
 1

	)

236 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

237 
	#__USE_XOPEN2K
 1

	)

238 #unde‡
__USE_ISOC95


239 
	#__USE_ISOC95
 1

	)

240 #unde‡
__USE_ISOC99


241 
	#__USE_ISOC99
 1

	)

244 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

245 
	#__USE_XOPEN2K8
 1

	)

246 #unde‡
_ATFILE_SOURCE


247 
	#_ATFILE_SOURCE
 1

	)

250 #ifdef 
_XOPEN_SOURCE


251 
	#__USE_XOPEN
 1

	)

252 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

253 
	#__USE_XOPEN_EXTENDED
 1

	)

254 
	#__USE_UNIX98
 1

	)

255 #unde‡
_LARGEFILE_SOURCE


256 
	#_LARGEFILE_SOURCE
 1

	)

257 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

258 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

259 
	#__USE_XOPEN2K8
 1

	)

260 
	#__USE_XOPEN2K8XSI
 1

	)

262 
	#__USE_XOPEN2K
 1

	)

263 
	#__USE_XOPEN2KXSI
 1

	)

264 #unde‡
__USE_ISOC95


265 
	#__USE_ISOC95
 1

	)

266 #unde‡
__USE_ISOC99


267 
	#__USE_ISOC99
 1

	)

270 #ifde‡
_XOPEN_SOURCE_EXTENDED


271 
	#__USE_XOPEN_EXTENDED
 1

	)

276 #ifde‡
_LARGEFILE_SOURCE


277 
	#__USE_LARGEFILE
 1

	)

280 #ifde‡
_LARGEFILE64_SOURCE


281 
	#__USE_LARGEFILE64
 1

	)

284 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

285 
	#__USE_FILE_OFFSET64
 1

	)

288 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


289 
	#__USE_MISC
 1

	)

292 #ifdef 
_BSD_SOURCE


293 
	#__USE_BSD
 1

	)

296 #ifdef 
_SVID_SOURCE


297 
	#__USE_SVID
 1

	)

300 #ifdef 
_ATFILE_SOURCE


301 
	#__USE_ATFILE
 1

	)

304 #ifdef 
_GNU_SOURCE


305 
	#__USE_GNU
 1

	)

308 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


309 
	#__USE_REENTRANT
 1

	)

312 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

313 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

314 #i‡
_FORTIFY_SOURCE
 > 1

315 
	#__USE_FORTIFY_LEVEL
 2

	)

317 
	#__USE_FORTIFY_LEVEL
 1

	)

320 
	#__USE_FORTIFY_LEVEL
 0

	)

324 
	~<bôs/¥edefs.h
>

327 
	#__STDC_ISO_10646__
 200009L

	)

335 #unde‡
__GNU_LIBRARY__


336 
	#__GNU_LIBRARY__
 6

	)

340 
	#__GLIBC__
 2

	)

341 
	#__GLIBC_MINOR__
 15

	)

343 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

344 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

347 #i‡
deföed
 
__GNUC__
 \

348 || (
deföed
 
	g__PGI
 && deföed 
	g__i386__
 ) \

349 || (
deföed
 
	g__INTEL_COMPILER
 && (deföed 
	g__i386__
 || deföed 
	g__ü64__
)) \

350 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

351 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

355 #i‚de‡
__ASSEMBLER__


356 #i‚de‡
_SYS_CDEFS_H


357 
	~<sys/cdefs.h
>

362 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


363 
	#__USE_LARGEFILE
 1

	)

364 
	#__USE_LARGEFILE64
 1

	)

370 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

371 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

372 && 
deföed
 
	g__exã∫_ölöe


373 
	#__USE_EXTERN_INLINES
 1

	)

378 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

379 && (
deföed
 
	g_LIBC
 || !deföed 
	g__OPTIMIZE_SIZE__
Ë&& !deföed 
	g__NO_INLINE__
 \

380 && 
deföed
 
	g__exã∫_ölöe


381 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

389 
	~<gnu/°ubs.h
>

	@/usr/include/getopt.h

21 #i‚de‡
_GETOPT_H


23 #i‚de‡
__√ed_gë›t


24 
	#_GETOPT_H
 1

	)

34 #i‡!
deföed
 
__GNU_LIBRARY__


35 
	~<˘y≥.h
>

38 #i‚de‡
__THROW


39 #i‚de‡
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

42 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__˝lu•lus


59 *
›èrg
;

73 
›töd
;

78 
›ãº
;

82 
›t›t
;

84 #i‚de‡
__√ed_gë›t


106 
	s›ti⁄


108 c⁄° *
	g«me
;

111 
	ghas_¨g
;

112 *
	gÊag
;

113 
	gvÆ
;

118 
	#no_¨gumít
 0

	)

119 
	#ªquúed_¨gumít
 1

	)

120 
	#›ti⁄Æ_¨gumít
 2

	)

148 #ifde‡
__GNU_LIBRARY__


152 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

153 
__THROW
;

155 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

156 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


160 #ifde‡
__REDIRECT


161 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

162 c⁄° *
__sh‹t›ts
),

163 
__posix_gë›t
);

165 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

166 c⁄° *
__sh‹t›ts
Ë
__THROW
;

167 
	#gë›t
 
__posix_gë›t


	)

171 
gë›t
 ();

174 #i‚de‡
__√ed_gë›t


175 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

176 c⁄° *
__sh‹t›ts
,

177 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

178 
__THROW
;

179 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

180 c⁄° *
__sh‹t›ts
,

181 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

182 
__THROW
;

186 #ifdef 
__˝lu•lus


191 #unde‡
__√ed_gë›t


	@/usr/include/libio.h

29 #i‚de‡
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_c⁄fig.h
>

34 
	#_IO_pos_t
 
_G_Âos_t


	)

35 
	#_IO_Âos_t
 
_G_Âos_t


	)

36 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li°
 
_G_va_li°


	)

48 
	#_IO_wöt_t
 
_G_wöt_t


	)

50 #ifde‡
_G_NEED_STDARG_H


52 
	#__√ed___va_li°


	)

53 
	~<°d¨g.h
>

54 #ifde‡
__GNUC_VA_LIST


55 #unde‡
_IO_va_li°


56 
	#_IO_va_li°
 
__gnuc_va_li°


	)

60 #i‚de‡
__P


61 #i‡
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifde‡
__STDC__


65 
	#__P
(
p
Ë
	)
p

66 
	#__PMT
(
p
Ë
	)
p

68 
	#__P
(
p
Ë()

	)

69 
	#__PMT
(
p
Ë()

	)

75 #i‚de‡
_PARAMS


76 
	#_PARAMS
(
¥Ÿos
Ë
	`__P
’rŸos)

	)

79 #i‚de‡
__STDC__


81 c⁄°

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #i‚de‡
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #i‚de‡
EOF


90 
	#EOF
 (-1)

	)

92 #i‚de‡
NULL


93 #i‡
deföed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuŒ
)

	)

97 #i‡!
deföed
(
__˝lu•lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifde‡
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifde‡
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

148 
	#_IO_FLAGS2_NOCLOSE
 32

	)

149 
	#_IO_FLAGS2_CLOEXEC
 64

	)

153 
	#_IO_SKIPWS
 01

	)

154 
	#_IO_LEFT
 02

	)

155 
	#_IO_RIGHT
 04

	)

156 
	#_IO_INTERNAL
 010

	)

157 
	#_IO_DEC
 020

	)

158 
	#_IO_OCT
 040

	)

159 
	#_IO_HEX
 0100

	)

160 
	#_IO_SHOWBASE
 0200

	)

161 
	#_IO_SHOWPOINT
 0400

	)

162 
	#_IO_UPPERCASE
 01000

	)

163 
	#_IO_SHOWPOS
 02000

	)

164 
	#_IO_SCIENTIFIC
 04000

	)

165 
	#_IO_FIXED
 010000

	)

166 
	#_IO_UNITBUF
 020000

	)

167 
	#_IO_STDIO
 040000

	)

168 
	#_IO_DONT_CLOSE
 0100000

	)

169 
	#_IO_BOOLALPHA
 0200000

	)

172 
_IO_jump_t
; 
	g_IO_FILE
;

175 #ifde‡
_IO_MTSAFE_IO


176 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

177 
	~<bôs/°dio-lock.h
>

182 
	t_IO_lock_t
;

188 
	s_IO_m¨kî
 {

189 
_IO_m¨kî
 *
	m_√xt
;

190 
_IO_FILE
 *
	m_sbuf
;

194 
	m_pos
;

196 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

197 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

198 
	mpublic
:

199 
°ªamm¨kî
(
°ªambuf
 *
sb
);

200 ~
°ªamm¨kî
();

201 
ßvög
(Ë{  
	m_•os
 == -2; }

202 
dñè
(
°ªamm¨kî
&);

203 
dñè
();

208 
	e__codecvt_ªsu…


210 
	m__codecvt_ok
,

211 
	m__codecvt_∑πül
,

212 
	m__codecvt_îr‹
,

213 
	m__codecvt_noc⁄v


216 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


219 
	s_IO_codecvt


221 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

222 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

223 
	m__mb°©e_t
 *,

224 c⁄° 
	mwch¨_t
 *,

225 c⁄° 
	mwch¨_t
 *,

226 c⁄° 
	mwch¨_t
 **, *,

228 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

229 
	m__mb°©e_t
 *, *,

231 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

232 
	m__mb°©e_t
 *,

234 c⁄° **, 
	mwch¨_t
 *,

235 
	mwch¨_t
 *, wchar_t **);

236 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

237 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

238 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

239 c⁄° *, c⁄° *, 
	m_IO_size_t
);

240 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

242 
_IO_ic⁄v_t
 
	m__cd_ö
;

243 
_IO_ic⁄v_t
 
	m__cd_out
;

247 
	s_IO_wide_d©a


249 
wch¨_t
 *
	m_IO_ªad_±r
;

250 
wch¨_t
 *
	m_IO_ªad_íd
;

251 
wch¨_t
 *
	m_IO_ªad_ba£
;

252 
wch¨_t
 *
	m_IO_wrôe_ba£
;

253 
wch¨_t
 *
	m_IO_wrôe_±r
;

254 
wch¨_t
 *
	m_IO_wrôe_íd
;

255 
wch¨_t
 *
	m_IO_buf_ba£
;

256 
wch¨_t
 *
	m_IO_buf_íd
;

258 
wch¨_t
 *
	m_IO_ßve_ba£
;

259 
wch¨_t
 *
	m_IO_backup_ba£
;

261 
wch¨_t
 *
	m_IO_ßve_íd
;

263 
__mb°©e_t
 
	m_IO_°©e
;

264 
__mb°©e_t
 
	m_IO_œ°_°©e
;

265 
_IO_codecvt
 
	m_codecvt
;

267 
wch¨_t
 
	m_sh‹tbuf
[1];

269 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

273 
	s_IO_FILE
 {

274 
	m_Êags
;

275 
	#_IO_fûe_Êags
 
_Êags


	)

279 * 
	m_IO_ªad_±r
;

280 * 
	m_IO_ªad_íd
;

281 * 
	m_IO_ªad_ba£
;

282 * 
	m_IO_wrôe_ba£
;

283 * 
	m_IO_wrôe_±r
;

284 * 
	m_IO_wrôe_íd
;

285 * 
	m_IO_buf_ba£
;

286 * 
	m_IO_buf_íd
;

288 *
	m_IO_ßve_ba£
;

289 *
	m_IO_backup_ba£
;

290 *
	m_IO_ßve_íd
;

292 
_IO_m¨kî
 *
	m_m¨kîs
;

294 
_IO_FILE
 *
	m_chaö
;

296 
	m_fûío
;

298 
	m_blksize
;

300 
	m_Êags2
;

302 
_IO_off_t
 
	m_ﬁd_off£t
;

304 
	#__HAVE_COLUMN


	)

306 
	m_cur_cﬁumn
;

307 sig√d 
	m_vèbÀ_off£t
;

308 
	m_sh‹tbuf
[1];

312 
_IO_lock_t
 *
	m_lock
;

313 #ifde‡
_IO_USE_OLD_IO_FILE


316 
	s_IO_FILE_com∂ëe


318 
_IO_FILE
 
	m_fûe
;

320 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

321 
_IO_off64_t
 
	m_off£t
;

322 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


324 
_IO_codecvt
 *
	m_codecvt
;

325 
_IO_wide_d©a
 *
	m_wide_d©a
;

326 
_IO_FILE
 *
	m_‰ìªs_li°
;

327 *
	m_‰ìªs_buf
;

328 
size_t
 
	m_‰ìªs_size
;

330 *
	m__∑d1
;

331 *
	m__∑d2
;

332 *
	m__∑d3
;

333 *
	m__∑d4
;

334 
size_t
 
	m__∑d5
;

336 
	m_mode
;

338 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

342 #i‚de‡
__˝lu•lus


343 
_IO_FILE
 
	t_IO_FILE
;

346 
	g_IO_FILE_∂us
;

348 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

349 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

350 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

351 #i‚de‡
_LIBC


352 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

353 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

354 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

356 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

357 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

358 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

366 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

374 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, 
	t__c⁄°
 *
	t__buf
,

375 
	tsize_t
 
	t__n
);

383 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

386 
	t__io_˛o£_‚
 (*
	t__cookõ
);

389 #ifde‡
_GNU_SOURCE


391 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

392 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

393 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

394 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

399 
__io_ªad_‚
 *
	mªad
;

400 
__io_wrôe_‚
 *
	mwrôe
;

401 
__io_£ek_‚
 *
	m£ek
;

402 
__io_˛o£_‚
 *
	m˛o£
;

403 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

404 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

406 
	g_IO_cookõ_fûe
;

409 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

410 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

414 #ifde‡
__˝lu•lus


418 
__undîÊow
 (
_IO_FILE
 *);

419 
__uÊow
 (
_IO_FILE
 *);

420 
__ovîÊow
 (
_IO_FILE
 *, );

421 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


422 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

423 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

424 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

427 #i‡ 
__GNUC__
 >= 3

428 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

430 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

433 
	#_IO_gëc_u∆ocked
(
_Â
) \

434 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

435 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

436 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

437 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

438 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

439 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

440 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

441 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

442 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

443 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

445 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


446 
	#_IO_gëwc_u∆ocked
(
_Â
) \

447 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

448 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

449 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

450 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

451 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

452 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

453 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

454 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

455 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

456 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

459 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

460 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

462 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

463 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

464 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

465 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

467 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

470 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

471 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

473 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

474 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

475 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

477 #ifde‡
_IO_MTSAFE_IO


478 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

479 
	#_IO_Êockfûe
(
_Â
) \

480 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

481 
	#_IO_fu∆ockfûe
(
_Â
) \

482 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

484 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

485 
	#_IO_Êockfûe
(
_Â
Ë

	)

486 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

487 
	#_IO_·rylockfûe
(
_Â
Ë

	)

488 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

489 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

492 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

493 
_IO_va_li°
, *
__ª°ri˘
);

494 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

495 
_IO_va_li°
);

496 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

497 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

499 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

500 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

502 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

504 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


505 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

506 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

507 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

508 #i‡
__GNUC__
 >= 2

511 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


512 
	~<shlib-com∑t.h
>

513 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

514 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

515 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

516 c⁄° 
_IO_°dö_u£d
;

517 
wók_exã∫
 (
_IO_°dö_u£d
);

520 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


521 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

525 
	#_IO_fwide
(
__Â
, 
__mode
) \

526 ({ 
__ªsu…
 = (
__mode
); \

527 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

529 i‡((
__Â
)->
_mode
 == 0) \

531 (
__Â
)->
_mode
 = -1; \

532 
__ªsu…
 = (
__Â
)->
_mode
; \

534 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

535 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

537 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

538 
__ªsu…
; })

	)

541 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

542 
_IO_va_li°
, *
__ª°ri˘
);

543 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

544 
_IO_va_li°
);

545 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

546 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

549 #ifde‡
__LDBL_COMPAT


550 
	~<bôs/libio-ldbl.h
>

553 #ifde‡
__˝lu•lus


	@/usr/include/limits.h

24 #i‚de‡
_LIBC_LIMITS_H_


25 
	#_LIBC_LIMITS_H_
 1

	)

27 
	~<„©uªs.h
>

33 
	#MB_LEN_MAX
 16

	)

38 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

43 #i‚de‡
_LIMITS_H


44 
	#_LIMITS_H
 1

	)

46 
	~<bôs/w‹dsize.h
>

55 
	#CHAR_BIT
 8

	)

58 
	#SCHAR_MIN
 (-128)

	)

59 
	#SCHAR_MAX
 127

	)

62 
	#UCHAR_MAX
 255

	)

65 #ifde‡
__CHAR_UNSIGNED__


66 
	#CHAR_MIN
 0

	)

67 
	#CHAR_MAX
 
UCHAR_MAX


	)

69 
	#CHAR_MIN
 
SCHAR_MIN


	)

70 
	#CHAR_MAX
 
SCHAR_MAX


	)

74 
	#SHRT_MIN
 (-32768)

	)

75 
	#SHRT_MAX
 32767

	)

78 
	#USHRT_MAX
 65535

	)

81 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

82 
	#INT_MAX
 2147483647

	)

85 
	#UINT_MAX
 4294967295U

	)

88 #i‡
__WORDSIZE
 == 64

89 
	#LONG_MAX
 9223372036854775807L

	)

91 
	#LONG_MAX
 2147483647L

	)

93 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

96 #i‡
__WORDSIZE
 == 64

97 
	#ULONG_MAX
 18446744073709551615UL

	)

99 
	#ULONG_MAX
 4294967295UL

	)

102 #ifde‡
__USE_ISOC99


105 
	#LLONG_MAX
 9223372036854775807LL

	)

106 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

109 
	#ULLONG_MAX
 18446744073709551615ULL

	)

123 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


125 #ö˛ude_√xà<
limôs
.
h
>

131 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


132 #i‚de‡
LLONG_MIN


133 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

135 #i‚de‡
LLONG_MAX


136 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

138 #i‚de‡
ULLONG_MAX


139 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

143 #ifdef 
__USE_POSIX


145 
	~<bôs/posix1_lim.h
>

148 #ifdef 
__USE_POSIX2


149 
	~<bôs/posix2_lim.h
>

152 #ifdef 
__USE_XOPEN


153 
	~<bôs/x›í_lim.h
>

	@/usr/include/linux/limits.h

1 #i‚de‡
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/linux/param.h

1 #i‚de‡
_LINUX_PARAM_H


2 
	#_LINUX_PARAM_H


	)

4 
	~<asm/∑øm.h
>

	@/usr/include/linux/socket.h

1 #i‚de‡
_LINUX_SOCKET_H


2 
	#_LINUX_SOCKET_H


	)

7 
	#_K_SS_MAXSIZE
 128

	)

8 
	#_K_SS_ALIGNSIZE
 (
	`__Æignof__
 (
sockaddr
 *))

	)

11 
	t__kî√l_ß_Ámûy_t
;

13 
	s__kî√l_sockaddr_°‹age
 {

14 
__kî√l_ß_Ámûy_t
 
	mss_Ámûy
;

16 
	m__d©a
[
_K_SS_MAXSIZE
 - ()];

19 } 
__©åibuã__
 ((
Æig√d
(
_K_SS_ALIGNSIZE
)));

	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

46 
	#__Æig√d_u64
 
__u64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

47 
	#__Æig√d_be64
 
__be64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

48 
	#__Æig√d_À64
 
__À64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

	@/usr/include/stdint.h

23 #i‚de‡
_STDINT_H


24 
	#_STDINT_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/wch¨.h
>

28 
	~<bôs/w‹dsize.h
>

35 #i‚de‡
__öt8_t_deföed


36 
	#__öt8_t_deföed


	)

37 sig√d 
	töt8_t
;

38 
	töt16_t
;

39 
	töt32_t
;

40 #i‡
__WORDSIZE
 == 64

41 
	töt64_t
;

43 
__exãnsi⁄__


44 
	töt64_t
;

49 
	tuöt8_t
;

50 
	tuöt16_t
;

51 #i‚de‡
__uöt32_t_deföed


52 
	tuöt32_t
;

53 
	#__uöt32_t_deföed


	)

55 #i‡
__WORDSIZE
 == 64

56 
	tuöt64_t
;

58 
__exãnsi⁄__


59 
	tuöt64_t
;

66 sig√d 
	töt_Àa°8_t
;

67 
	töt_Àa°16_t
;

68 
	töt_Àa°32_t
;

69 #i‡
__WORDSIZE
 == 64

70 
	töt_Àa°64_t
;

72 
__exãnsi⁄__


73 
	töt_Àa°64_t
;

77 
	tuöt_Àa°8_t
;

78 
	tuöt_Àa°16_t
;

79 
	tuöt_Àa°32_t
;

80 #i‡
__WORDSIZE
 == 64

81 
	tuöt_Àa°64_t
;

83 
__exãnsi⁄__


84 
	tuöt_Àa°64_t
;

91 sig√d 
	töt_Á°8_t
;

92 #i‡
__WORDSIZE
 == 64

93 
	töt_Á°16_t
;

94 
	töt_Á°32_t
;

95 
	töt_Á°64_t
;

97 
	töt_Á°16_t
;

98 
	töt_Á°32_t
;

99 
__exãnsi⁄__


100 
	töt_Á°64_t
;

104 
	tuöt_Á°8_t
;

105 #i‡
__WORDSIZE
 == 64

106 
	tuöt_Á°16_t
;

107 
	tuöt_Á°32_t
;

108 
	tuöt_Á°64_t
;

110 
	tuöt_Á°16_t
;

111 
	tuöt_Á°32_t
;

112 
__exãnsi⁄__


113 
	tuöt_Á°64_t
;

118 #i‡
__WORDSIZE
 == 64

119 #i‚de‡
__öçå_t_deföed


120 
	töçå_t
;

121 
	#__öçå_t_deföed


	)

123 
	tuöçå_t
;

125 #i‚de‡
__öçå_t_deföed


126 
	töçå_t
;

127 
	#__öçå_t_deföed


	)

129 
	tuöçå_t
;

134 #i‡
__WORDSIZE
 == 64

135 
	tötmax_t
;

136 
	tuötmax_t
;

138 
__exãnsi⁄__


139 
	tötmax_t
;

140 
__exãnsi⁄__


141 
	tuötmax_t
;

147 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


149 #i‡
__WORDSIZE
 == 64

150 
	#__INT64_C
(
c
Ë¯## 
L


	)

151 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

153 
	#__INT64_C
(
c
Ë¯## 
LL


	)

154 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

160 
	#INT8_MIN
 (-128)

	)

161 
	#INT16_MIN
 (-32767-1)

	)

162 
	#INT32_MIN
 (-2147483647-1)

	)

163 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

165 
	#INT8_MAX
 (127)

	)

166 
	#INT16_MAX
 (32767)

	)

167 
	#INT32_MAX
 (2147483647)

	)

168 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

171 
	#UINT8_MAX
 (255)

	)

172 
	#UINT16_MAX
 (65535)

	)

173 
	#UINT32_MAX
 (4294967295U)

	)

174 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

178 
	#INT_LEAST8_MIN
 (-128)

	)

179 
	#INT_LEAST16_MIN
 (-32767-1)

	)

180 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

181 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

183 
	#INT_LEAST8_MAX
 (127)

	)

184 
	#INT_LEAST16_MAX
 (32767)

	)

185 
	#INT_LEAST32_MAX
 (2147483647)

	)

186 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

189 
	#UINT_LEAST8_MAX
 (255)

	)

190 
	#UINT_LEAST16_MAX
 (65535)

	)

191 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

192 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

196 
	#INT_FAST8_MIN
 (-128)

	)

197 #i‡
__WORDSIZE
 == 64

198 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

199 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

201 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

202 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

204 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

206 
	#INT_FAST8_MAX
 (127)

	)

207 #i‡
__WORDSIZE
 == 64

208 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

209 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

211 
	#INT_FAST16_MAX
 (2147483647)

	)

212 
	#INT_FAST32_MAX
 (2147483647)

	)

214 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

217 
	#UINT_FAST8_MAX
 (255)

	)

218 #i‡
__WORDSIZE
 == 64

219 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

220 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

222 
	#UINT_FAST16_MAX
 (4294967295U)

	)

223 
	#UINT_FAST32_MAX
 (4294967295U)

	)

225 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

229 #i‡
__WORDSIZE
 == 64

230 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

231 
	#INTPTR_MAX
 (9223372036854775807L)

	)

232 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

234 
	#INTPTR_MIN
 (-2147483647-1)

	)

235 
	#INTPTR_MAX
 (2147483647)

	)

236 
	#UINTPTR_MAX
 (4294967295U)

	)

241 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

243 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

246 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

252 #i‡
__WORDSIZE
 == 64

253 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

254 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

256 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

257 
	#PTRDIFF_MAX
 (2147483647)

	)

261 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

262 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

265 #i‡
__WORDSIZE
 == 64

266 
	#SIZE_MAX
 (18446744073709551615UL)

	)

268 
	#SIZE_MAX
 (4294967295U)

	)

272 #i‚de‡
WCHAR_MIN


274 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

275 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

279 
	#WINT_MIN
 (0u)

	)

280 
	#WINT_MAX
 (4294967295u)

	)

287 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


290 
	#INT8_C
(
c
Ë
	)
c

291 
	#INT16_C
(
c
Ë
	)
c

292 
	#INT32_C
(
c
Ë
	)
c

293 #i‡
__WORDSIZE
 == 64

294 
	#INT64_C
(
c
Ë¯## 
L


	)

296 
	#INT64_C
(
c
Ë¯## 
LL


	)

300 
	#UINT8_C
(
c
Ë
	)
c

301 
	#UINT16_C
(
c
Ë
	)
c

302 
	#UINT32_C
(
c
Ë¯## 
U


	)

303 #i‡
__WORDSIZE
 == 64

304 
	#UINT64_C
(
c
Ë¯## 
UL


	)

306 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

310 #i‡
__WORDSIZE
 == 64

311 
	#INTMAX_C
(
c
Ë¯## 
L


	)

312 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

314 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

315 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/sys/resource.h

19 #i‚def 
_SYS_RESOURCE_H


20 
	#_SYS_RESOURCE_H
 1

	)

22 
	~<„©uªs.h
>

25 
	~<bôs/ªsour˚.h
>

27 #i‚de‡
__id_t_deföed


28 
__id_t
 
	tid_t
;

29 
	#__id_t_deföed


	)

32 
	g__BEGIN_DECLS


38 #i‡
deföed
 
__USE_GNU
 && !deföed 
__˝lu•lus


39 
__æimô_ªsour˚
 
	t__æimô_ªsour˚_t
;

40 
__rußge_who
 
	t__rußge_who_t
;

41 
__¥i‹ôy_which
 
	t__¥i‹ôy_which_t
;

43 
	t__æimô_ªsour˚_t
;

44 
	t__rußge_who_t
;

45 
	t__¥i‹ôy_which_t
;

50 #i‚de‡
__USE_FILE_OFFSET64


51 
	$gëæimô
 (
__æimô_ªsour˚_t
 
__ªsour˚
,

52 
æimô
 *
__æimôs
Ë
__THROW
;

54 #ifde‡
__REDIRECT_NTH


55 
	`__REDIRECT_NTH
 (
gëæimô
, (
__æimô_ªsour˚_t
 
__ªsour˚
,

56 
æimô
 *
__æimôs
), 
gëæimô64
);

58 
	#gëæimô
 
gëæimô64


	)

61 #ifde‡
__USE_LARGEFILE64


62 
	$gëæimô64
 (
__æimô_ªsour˚_t
 
__ªsour˚
,

63 
æimô64
 *
__æimôs
Ë
__THROW
;

69 #i‚de‡
__USE_FILE_OFFSET64


70 
	$£ålimô
 (
__æimô_ªsour˚_t
 
__ªsour˚
,

71 
__c⁄°
 
æimô
 *
__æimôs
Ë
__THROW
;

73 #ifde‡
__REDIRECT_NTH


74 
	`__REDIRECT_NTH
 (
£ålimô
, (
__æimô_ªsour˚_t
 
__ªsour˚
,

75 
__c⁄°
 
æimô
 *
__æimôs
),

76 
£ålimô64
);

78 
	#£ålimô
 
£ålimô64


	)

81 #ifde‡
__USE_LARGEFILE64


82 
	$£ålimô64
 (
__æimô_ªsour˚_t
 
__ªsour˚
,

83 
__c⁄°
 
æimô64
 *
__æimôs
Ë
__THROW
;

88 
	$gërußge
 (
__rußge_who_t
 
__who
, 
rußge
 *
__ußge
Ë
__THROW
;

94 
	$gë¥i‹ôy
 (
__¥i‹ôy_which_t
 
__which
, 
id_t
 
__who
Ë
__THROW
;

98 
	$£çri‹ôy
 (
__¥i‹ôy_which_t
 
__which
, 
id_t
 
__who
, 
__¥io
)

99 
__THROW
;

101 
__END_DECLS


	@/usr/include/sys/select.h

22 #i‚de‡
_SYS_SELECT_H


23 
	#_SYS_SELECT_H
 1

	)

25 
	~<„©uªs.h
>

28 
	~<bôs/ty≥s.h
>

31 
	~<bôs/£À˘.h
>

34 
	~<bôs/sig£t.h
>

36 #i‚de‡
__sig£t_t_deföed


37 
	#__sig£t_t_deföed


	)

38 
__sig£t_t
 
	tsig£t_t
;

42 
	#__√ed_time_t


	)

43 
	#__√ed_time•ec


	)

44 
	~<time.h
>

45 
	#__√ed_timevÆ


	)

46 
	~<bôs/time.h
>

48 #i‚de‡
__su£c⁄ds_t_deföed


49 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

50 
	#__su£c⁄ds_t_deföed


	)

55 
	t__fd_mask
;

58 #unde‡
__NFDBITS


60 
	#__NFDBITS
 (8 * (Ë (
__fd_mask
))

	)

61 
	#__FD_ELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

62 
	#__FD_MASK
(
d
Ë((
__fd_mask
Ë1 << ((dË% 
__NFDBITS
))

	)

69 #ifde‡
__USE_XOPEN


70 
__fd_mask
 
	mfds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

71 
	#__FDS_BITS
(
£t
Ë((£t)->
fds_bôs
)

	)

73 
__fd_mask
 
	m__fds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

74 
	#__FDS_BITS
(
£t
Ë((£t)->
__fds_bôs
)

	)

76 } 
	tfd_£t
;

79 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

81 #ifde‡
__USE_MISC


83 
__fd_mask
 
	tfd_mask
;

86 
	#NFDBITS
 
__NFDBITS


	)

91 
	#FD_SET
(
fd
, 
fd£ç
Ë
	`__FD_SET
 (fd, fd£ç)

	)

92 
	#FD_CLR
(
fd
, 
fd£ç
Ë
	`__FD_CLR
 (fd, fd£ç)

	)

93 
	#FD_ISSET
(
fd
, 
fd£ç
Ë
	`__FD_ISSET
 (fd, fd£ç)

	)

94 
	#FD_ZERO
(
fd£ç
Ë
	`__FD_ZERO
 (fd£ç)

	)

97 
__BEGIN_DECLS


107 
£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

108 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

109 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

110 
timevÆ
 *
__ª°ri˘
 
__timeout
);

112 #ifde‡
__USE_XOPEN2K


119 
p£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

120 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

121 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

122 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
,

123 c⁄° 
__sig£t_t
 *
__ª°ri˘
 
__sigmask
);

128 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__GNUC__


129 
	~<bôs/£À˘2.h
>

132 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

21 #i‚de‡
_SYS_SYSMACROS_H


22 
	#_SYS_SYSMACROS_H
 1

	)

24 
	~<„©uªs.h
>

29 #ifde‡
__GLIBC_HAVE_LONG_LONG


30 
__BEGIN_DECLS


32 
__exãnsi⁄__


33 
	$gnu_dev_maj‹
 (
__dev
)

34 
__THROW
 
__©åibuã_c⁄°__
;

35 
__exãnsi⁄__


36 
	$gnu_dev_mö‹
 (
__dev
)

37 
__THROW
 
__©åibuã_c⁄°__
;

38 
__exãnsi⁄__


39 
	$gnu_dev_makedev
 (
__maj‹
,

40 
__mö‹
)

41 
__THROW
 
__©åibuã_c⁄°__
;

43 #i‡
deföed
 
__GNUC__
 && __GNUC__ >2 && deföed 
__USE_EXTERN_INLINES


44 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

45 
	`__NTH
 (
	$gnu_dev_maj‹
 (
__dev
))

47  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

48 
	}
}

50 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

51 
__NTH
 (
	$gnu_dev_mö‹
 (
__dev
))

53  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

54 
	}
}

56 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

57 
__NTH
 (
	$gnu_dev_makedev
 (
__maj‹
, 
__mö‹
))

59  ((
__mö‹
 & 0xffË| ((
__maj‹
 & 0xfff) << 8)

60 | (((Ë(
__mö‹
 & ~0xff)) << 12)

61 | (((Ë(
__maj‹
 & ~0xfff)) << 32));

62 
	}
}

64 
	g__END_DECLS


67 
	#maj‹
(
dev
Ë
	`gnu_dev_maj‹
 (dev)

	)

68 
	#mö‹
(
dev
Ë
	`gnu_dev_mö‹
 (dev)

	)

69 
	#makedev
(
maj
, 
mö
Ë
	`gnu_dev_makedev
 (maj, mö)

	)

	@/usr/include/sys/ttydefaults.h

40 #i‚de‡
_SYS_TTYDEFAULTS_H_


41 
	#_SYS_TTYDEFAULTS_H_


	)

46 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ISTRIP
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

47 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
 | 
XTABS
)

	)

48 
	#TTYDEF_LFLAG
 (
ECHO
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
 | 
ECHOE
|
ECHOKE
|
ECHOCTL
)

	)

49 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS7
 | 
PARENB
 | 
HUPCL
)

	)

50 
	#TTYDEF_SPEED
 (
B9600
)

	)

55 
	#CTRL
(
x
Ë(x&037)

	)

56 
	#CEOF
 
	`CTRL
('d')

	)

57 #ifde‡
_POSIX_VDISABLE


58 
	#CEOL
 
_POSIX_VDISABLE


	)

60 
	#CEOL
 '\0'

	)

62 
	#CERASE
 0177

	)

63 
	#CINTR
 
	`CTRL
('c')

	)

64 #ifde‡
_POSIX_VDISABLE


65 
	#CSTATUS
 
_POSIX_VDISABLE


	)

67 
	#CSTATUS
 '\0'

	)

69 
	#CKILL
 
	`CTRL
('u')

	)

70 
	#CMIN
 1

	)

71 
	#CQUIT
 034

	)

72 
	#CSUSP
 
	`CTRL
('z')

	)

73 
	#CTIME
 0

	)

74 
	#CDSUSP
 
	`CTRL
('y')

	)

75 
	#CSTART
 
	`CTRL
('q')

	)

76 
	#CSTOP
 
	`CTRL
('s')

	)

77 
	#CLNEXT
 
	`CTRL
('v')

	)

78 
	#CDISCARD
 
	`CTRL
('o')

	)

79 
	#CWERASE
 
	`CTRL
('w')

	)

80 
	#CREPRINT
 
	`CTRL
('r')

	)

81 
	#CEOT
 
CEOF


	)

83 
	#CBRK
 
CEOL


	)

84 
	#CRPRNT
 
CREPRINT


	)

85 
	#CFLUSH
 
CDISCARD


	)

93 #ifde‡
TTYDEFCHARS


94 
cc_t
 
	gâydefch¨s
[
NCCS
] = {

95 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

96 
_POSIX_VDISABLE
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

97 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


99 #unde‡
TTYDEFCHARS


	@/usr/include/sys/ucontext.h

19 #i‚de‡
_SYS_UCONTEXT_H


20 
	#_SYS_UCONTEXT_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<sig«l.h
>

24 
	~<bôs/w‹dsize.h
>

28 
	~<bôs/sigc⁄ãxt.h
>

30 #i‡
__WORDSIZE
 == 64

33 
	tgªg_t
;

36 
	#NGREG
 23

	)

39 
gªg_t
 
	tgªg£t_t
[
NGREG
];

41 #ifde‡
__USE_GNU


45 
	mREG_R8
 = 0,

46 
	#REG_R8
 
REG_R8


	)

47 
	mREG_R9
,

48 
	#REG_R9
 
REG_R9


	)

49 
	mREG_R10
,

50 
	#REG_R10
 
REG_R10


	)

51 
	mREG_R11
,

52 
	#REG_R11
 
REG_R11


	)

53 
	mREG_R12
,

54 
	#REG_R12
 
REG_R12


	)

55 
	mREG_R13
,

56 
	#REG_R13
 
REG_R13


	)

57 
	mREG_R14
,

58 
	#REG_R14
 
REG_R14


	)

59 
	mREG_R15
,

60 
	#REG_R15
 
REG_R15


	)

61 
	mREG_RDI
,

62 
	#REG_RDI
 
REG_RDI


	)

63 
	mREG_RSI
,

64 
	#REG_RSI
 
REG_RSI


	)

65 
	mREG_RBP
,

66 
	#REG_RBP
 
REG_RBP


	)

67 
	mREG_RBX
,

68 
	#REG_RBX
 
REG_RBX


	)

69 
	mREG_RDX
,

70 
	#REG_RDX
 
REG_RDX


	)

71 
	mREG_RAX
,

72 
	#REG_RAX
 
REG_RAX


	)

73 
	mREG_RCX
,

74 
	#REG_RCX
 
REG_RCX


	)

75 
	mREG_RSP
,

76 
	#REG_RSP
 
REG_RSP


	)

77 
	mREG_RIP
,

78 
	#REG_RIP
 
REG_RIP


	)

79 
	mREG_EFL
,

80 
	#REG_EFL
 
REG_EFL


	)

81 
	mREG_CSGSFS
,

82 
	#REG_CSGSFS
 
REG_CSGSFS


	)

83 
	mREG_ERR
,

84 
	#REG_ERR
 
REG_ERR


	)

85 
	mREG_TRAPNO
,

86 
	#REG_TRAPNO
 
REG_TRAPNO


	)

87 
	mREG_OLDMASK
,

88 
	#REG_OLDMASK
 
REG_OLDMASK


	)

89 
	mREG_CR2


90 
	#REG_CR2
 
REG_CR2


	)

94 
	s_libc_Âxªg


96 
	msignifiˇnd
[4];

97 
	mexp⁄ít
;

98 
	m∑ddög
[3];

101 
	s_libc_xmmªg


103 
__uöt32_t
 
	mñemít
[4];

106 
	s_libc_Â°©e


109 
__uöt16_t
 
	mcwd
;

110 
__uöt16_t
 
	mswd
;

111 
__uöt16_t
 
	m·w
;

112 
__uöt16_t
 
	mf›
;

113 
__uöt64_t
 
	mrù
;

114 
__uöt64_t
 
	mrdp
;

115 
__uöt32_t
 
	mmxc§
;

116 
__uöt32_t
 
	mmx¸_mask
;

117 
_libc_Âxªg
 
	m_°
[8];

118 
_libc_xmmªg
 
	m_xmm
[16];

119 
__uöt32_t
 
	m∑ddög
[24];

123 
_libc_Â°©e
 *
	tÂªg£t_t
;

128 
gªg£t_t
 
	mgªgs
;

130 
Âªg£t_t
 
	mÂªgs
;

131 
	m__ª£rved1
 [8];

132 } 
	tmc⁄ãxt_t
;

135 
	suc⁄ãxt


137 
	muc_Êags
;

138 
uc⁄ãxt
 *
	muc_lök
;

139 
°ack_t
 
	muc_°ack
;

140 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

141 
__sig£t_t
 
	muc_sigmask
;

142 
_libc_Â°©e
 
	m__Âªgs_mem
;

143 } 
	tuc⁄ãxt_t
;

148 
	tgªg_t
;

151 
	#NGREG
 19

	)

154 
gªg_t
 
	tgªg£t_t
[
NGREG
];

156 #ifde‡
__USE_GNU


160 
	mREG_GS
 = 0,

161 
	#REG_GS
 
REG_GS


	)

162 
	mREG_FS
,

163 
	#REG_FS
 
REG_FS


	)

164 
	mREG_ES
,

165 
	#REG_ES
 
REG_ES


	)

166 
	mREG_DS
,

167 
	#REG_DS
 
REG_DS


	)

168 
	mREG_EDI
,

169 
	#REG_EDI
 
REG_EDI


	)

170 
	mREG_ESI
,

171 
	#REG_ESI
 
REG_ESI


	)

172 
	mREG_EBP
,

173 
	#REG_EBP
 
REG_EBP


	)

174 
	mREG_ESP
,

175 
	#REG_ESP
 
REG_ESP


	)

176 
	mREG_EBX
,

177 
	#REG_EBX
 
REG_EBX


	)

178 
	mREG_EDX
,

179 
	#REG_EDX
 
REG_EDX


	)

180 
	mREG_ECX
,

181 
	#REG_ECX
 
REG_ECX


	)

182 
	mREG_EAX
,

183 
	#REG_EAX
 
REG_EAX


	)

184 
	mREG_TRAPNO
,

185 
	#REG_TRAPNO
 
REG_TRAPNO


	)

186 
	mREG_ERR
,

187 
	#REG_ERR
 
REG_ERR


	)

188 
	mREG_EIP
,

189 
	#REG_EIP
 
REG_EIP


	)

190 
	mREG_CS
,

191 
	#REG_CS
 
REG_CS


	)

192 
	mREG_EFL
,

193 
	#REG_EFL
 
REG_EFL


	)

194 
	mREG_UESP
,

195 
	#REG_UESP
 
REG_UESP


	)

196 
	mREG_SS


197 
	#REG_SS
 
REG_SS


	)

202 
	s_libc_Âªg


204 
	msignifiˇnd
[4];

205 
	mexp⁄ít
;

208 
	s_libc_Â°©e


210 
	mcw
;

211 
	msw
;

212 
	mèg
;

213 
	mùoff
;

214 
	mcs£l
;

215 
	md©aoff
;

216 
	md©a£l
;

217 
_libc_Âªg
 
	m_°
[8];

218 
	m°©us
;

222 
_libc_Â°©e
 *
	tÂªg£t_t
;

227 
gªg£t_t
 
	mgªgs
;

230 
Âªg£t_t
 
	mÂªgs
;

231 
	mﬁdmask
;

232 
	m¸2
;

233 } 
	tmc⁄ãxt_t
;

236 
	suc⁄ãxt


238 
	muc_Êags
;

239 
uc⁄ãxt
 *
	muc_lök
;

240 
°ack_t
 
	muc_°ack
;

241 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

242 
__sig£t_t
 
	muc_sigmask
;

243 
_libc_Â°©e
 
	m__Âªgs_mem
;

244 } 
	tuc⁄ãxt_t
;

	@/usr/include/sys/uio.h

19 #i‚de‡
_SYS_UIO_H


20 
	#_SYS_UIO_H
 1

	)

22 
	~<„©uªs.h
>

24 
	~<sys/ty≥s.h
>

26 
	g__BEGIN_DECLS


29 
	~<bôs/uio.h
>

40 
ssize_t
 
	$ªadv
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
)

41 
__wur
;

51 
ssize_t
 
	$wrôev
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
)

52 
__wur
;

55 #ifde‡
__USE_BSD


56 #i‚de‡
__USE_FILE_OFFSET64


66 
ssize_t
 
	$¥ódv
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

67 
__off_t
 
__off£t
Ë
__wur
;

78 
ssize_t
 
	$pwrôev
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

79 
__off_t
 
__off£t
Ë
__wur
;

81 #ifde‡
__REDIRECT


82 
ssize_t
 
	`__REDIRECT
 (
¥ódv
, (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
,

83 
__cou¡
, 
__off64_t
 
__off£t
),

84 
¥ódv64
Ë
__wur
;

85 
ssize_t
 
	`__REDIRECT
 (
pwrôev
, (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
,

86 
__cou¡
, 
__off64_t
 
__off£t
),

87 
pwrôev64
Ë
__wur
;

89 
	#¥ódv
 
¥ódv64


	)

90 
	#pwrôev
 
pwrôev64


	)

94 #ifde‡
__USE_LARGEFILE64


104 
ssize_t
 
	$¥ódv64
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

105 
__off64_t
 
__off£t
Ë
__wur
;

116 
ssize_t
 
	$pwrôev64
 (
__fd
, 
__c⁄°
 
iovec
 *
__iovec
, 
__cou¡
,

117 
__off64_t
 
__off£t
Ë
__wur
;

121 
__END_DECLS


	@/usr/include/xlocale.h

21 #i‚de‡
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loˇÀ_°ru˘


31 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

34 c⁄° *
	m__˘y≥_b
;

35 c⁄° *
	m__˘y≥_tﬁowî
;

36 c⁄° *
	m__˘y≥_touµî
;

39 c⁄° *
	m__«mes
[13];

40 } *
	t__loˇÀ_t
;

43 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb°©e_t
 
	m__°©e
;

26 } 
	t_G_Âos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb°©e_t
 
	m__°©e
;

31 } 
	t_G_Âos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¨_t
 
wch¨_t


	)

38 
	#_G_wöt_t
 
wöt_t


	)

39 
	#_G_°©64
 
°©64


	)

40 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gc⁄v.h
>

44 
__gc⁄v_öfo
 
	m__cd
;

47 
__gc⁄v_öfo
 
	m__cd
;

48 
__gc⁄v_°ï_d©a
 
	m__d©a
;

49 } 
	m__comböed
;

50 } 
	t_G_ic⁄v_t
;

53 
	t_G_öt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_öt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_uöt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_uöt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li°
 
__gnuc_va_li°


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__›í64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm≠64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
Ë
	`__fx°©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #i‡
deföed
 
__˝lu•lus
 || deföed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
Ë
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
Ë()

	)

	@/usr/include/asm/ioctls.h

1 
	~<asm-gíîic/io˘ls.h
>

	@/usr/include/asm/param.h

1 
	~<asm-gíîic/∑øm.h
>

	@/usr/include/asm/socket.h

1 
	~<asm-gíîic/sockë.h
>

	@/usr/include/asm/types.h

1 #i‚de‡
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	~<asm-gíîic/ty≥s.h
>

	@/usr/include/bits/endian.h

3 #i‚de‡
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/libio-ldbl.h

20 #i‚de‡
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsˇnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vÂrötf
)

	@/usr/include/bits/local_lim.h

25 #i‚de‡
NR_OPEN


26 
	#__undef_NR_OPEN


	)

28 #i‚de‡
LINK_MAX


29 
	#__undef_LINK_MAX


	)

31 #i‚de‡
OPEN_MAX


32 
	#__undef_OPEN_MAX


	)

34 #i‚de‡
ARG_MAX


35 
	#__undef_ARG_MAX


	)

39 
	~<löux/limôs.h
>

42 #ifde‡
__undef_NR_OPEN


43 #unde‡
NR_OPEN


44 #unde‡
__undef_NR_OPEN


47 #ifde‡
__undef_LINK_MAX


48 #unde‡
LINK_MAX


49 #unde‡
__undef_LINK_MAX


52 #ifde‡
__undef_OPEN_MAX


53 #unde‡
OPEN_MAX


54 #unde‡
__undef_OPEN_MAX


57 #ifde‡
__undef_ARG_MAX


58 #unde‡
ARG_MAX


59 #unde‡
__undef_ARG_MAX


63 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

65 
	#PTHREAD_KEYS_MAX
 1024

	)

68 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

70 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

73 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

75 #unde‡
PTHREAD_THREADS_MAX


79 
	#AIO_PRIO_DELTA_MAX
 20

	)

82 
	#PTHREAD_STACK_MIN
 16384

	)

85 
	#DELAYTIMER_MAX
 2147483647

	)

88 
	#TTY_NAME_MAX
 32

	)

91 
	#LOGIN_NAME_MAX
 256

	)

94 
	#HOST_NAME_MAX
 64

	)

97 
	#MQ_PRIO_MAX
 32768

	)

100 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/posix2_lim.h

23 #i‚def 
_BITS_POSIX2_LIM_H


24 
	#_BITS_POSIX2_LIM_H
 1

	)

28 
	#_POSIX2_BC_BASE_MAX
 99

	)

31 
	#_POSIX2_BC_DIM_MAX
 2048

	)

34 
	#_POSIX2_BC_SCALE_MAX
 99

	)

37 
	#_POSIX2_BC_STRING_MAX
 1000

	)

41 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

45 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

48 
	#_POSIX2_LINE_MAX
 2048

	)

52 
	#_POSIX2_RE_DUP_MAX
 255

	)

56 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

63 #i‚def 
BC_BASE_MAX


64 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

66 #i‚def 
BC_DIM_MAX


67 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

69 #i‚def 
BC_SCALE_MAX


70 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

72 #i‚def 
BC_STRING_MAX


73 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

75 #i‚def 
COLL_WEIGHTS_MAX


76 
	#COLL_WEIGHTS_MAX
 255

	)

78 #i‚def 
EXPR_NEST_MAX


79 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

81 #i‚def 
LINE_MAX


82 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

84 #i‚def 
CHARCLASS_NAME_MAX


85 
	#CHARCLASS_NAME_MAX
 2048

	)

89 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/predefs.h

19 #i‚de‡
_FEATURES_H


23 #i‚de‡
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/resource.h

21 #i‚de‡
_SYS_RESOURCE_H


25 
	~<bôs/ty≥s.h
>

33 
	e__æimô_ªsour˚


36 
	mRLIMIT_CPU
 = 0,

37 
	#RLIMIT_CPU
 
RLIMIT_CPU


	)

40 
	mRLIMIT_FSIZE
 = 1,

41 
	#RLIMIT_FSIZE
 
RLIMIT_FSIZE


	)

44 
	mRLIMIT_DATA
 = 2,

45 
	#RLIMIT_DATA
 
RLIMIT_DATA


	)

48 
	mRLIMIT_STACK
 = 3,

49 
	#RLIMIT_STACK
 
RLIMIT_STACK


	)

52 
	mRLIMIT_CORE
 = 4,

53 
	#RLIMIT_CORE
 
RLIMIT_CORE


	)

59 
	m__RLIMIT_RSS
 = 5,

60 
	#RLIMIT_RSS
 
__RLIMIT_RSS


	)

63 
	mRLIMIT_NOFILE
 = 7,

64 
	m__RLIMIT_OFILE
 = 
RLIMIT_NOFILE
,

65 
	#RLIMIT_NOFILE
 
RLIMIT_NOFILE


	)

66 
	#RLIMIT_OFILE
 
__RLIMIT_OFILE


	)

69 
	mRLIMIT_AS
 = 9,

70 
	#RLIMIT_AS
 
RLIMIT_AS


	)

73 
	m__RLIMIT_NPROC
 = 6,

74 
	#RLIMIT_NPROC
 
__RLIMIT_NPROC


	)

77 
	m__RLIMIT_MEMLOCK
 = 8,

78 
	#RLIMIT_MEMLOCK
 
__RLIMIT_MEMLOCK


	)

81 
	m__RLIMIT_LOCKS
 = 10,

82 
	#RLIMIT_LOCKS
 
__RLIMIT_LOCKS


	)

85 
	m__RLIMIT_SIGPENDING
 = 11,

86 
	#RLIMIT_SIGPENDING
 
__RLIMIT_SIGPENDING


	)

89 
	m__RLIMIT_MSGQUEUE
 = 12,

90 
	#RLIMIT_MSGQUEUE
 
__RLIMIT_MSGQUEUE


	)

95 
	m__RLIMIT_NICE
 = 13,

96 
	#RLIMIT_NICE
 
__RLIMIT_NICE


	)

100 
	m__RLIMIT_RTPRIO
 = 14,

101 
	#RLIMIT_RTPRIO
 
__RLIMIT_RTPRIO


	)

106 
	m__RLIMIT_RTTIME
 = 15,

107 
	#RLIMIT_RTTIME
 
__RLIMIT_RTTIME


	)

109 
	m__RLIMIT_NLIMITS
 = 16,

110 
	m__RLIM_NLIMITS
 = 
__RLIMIT_NLIMITS


111 
	#RLIMIT_NLIMITS
 
__RLIMIT_NLIMITS


	)

112 
	#RLIM_NLIMITS
 
__RLIM_NLIMITS


	)

116 #i‚de‡
__USE_FILE_OFFSET64


117 
	#RLIM_INFINITY
 (()(~0UL))

	)

119 
	#RLIM_INFINITY
 0xffffffffffffffffuLL

	)

122 #ifde‡
__USE_LARGEFILE64


123 
	#RLIM64_INFINITY
 0xffffffffffffffffuLL

	)

127 
	#RLIM_SAVED_MAX
 
RLIM_INFINITY


	)

128 
	#RLIM_SAVED_CUR
 
RLIM_INFINITY


	)

132 #i‚de‡
__USE_FILE_OFFSET64


133 
__æim_t
 
	tæim_t
;

135 
__æim64_t
 
	tæim_t
;

137 #ifde‡
__USE_LARGEFILE64


138 
__æim64_t
 
	tæim64_t
;

141 
	sæimô


144 
æim_t
 
	mæim_cur
;

146 
æim_t
 
	mæim_max
;

149 #ifde‡
__USE_LARGEFILE64


150 
	sæimô64


153 
æim64_t
 
	mæim_cur
;

155 
æim64_t
 
	mæim_max
;

160 
	e__rußge_who


163 
	mRUSAGE_SELF
 = 0,

164 
	#RUSAGE_SELF
 
RUSAGE_SELF


	)

167 
	mRUSAGE_CHILDREN
 = -1

168 
	#RUSAGE_CHILDREN
 
RUSAGE_CHILDREN


	)

170 #ifde‡
__USE_GNU


173 
	mRUSAGE_THREAD
 = 1

174 
	#RUSAGE_THREAD
 
RUSAGE_THREAD


	)

176 
	#RUSAGE_LWP
 
RUSAGE_THREAD


	)

180 
	#__√ed_timevÆ


	)

181 
	~<bôs/time.h
>

184 
	srußge


187 
timevÆ
 
	mru_utime
;

189 
timevÆ
 
	mru_°ime
;

191 
	mru_maxrss
;

194 
	mru_ixrss
;

196 
	mru_idrss
;

198 
	mru_i§ss
;

201 
	mru_möÊt
;

203 
	mru_majÊt
;

205 
	mru_nsw≠
;

208 
	mru_öblock
;

210 
	mru_oublock
;

212 
	mru_msg¢d
;

214 
	mru_msgrcv
;

216 
	mru_nsig«ls
;

220 
	mru_nvcsw
;

223 
	mru_nivcsw
;

227 
	#PRIO_MIN
 -20

	)

228 
	#PRIO_MAX
 20

	)

232 
	e__¥i‹ôy_which


234 
	mPRIO_PROCESS
 = 0,

235 
	#PRIO_PROCESS
 
PRIO_PROCESS


	)

236 
	mPRIO_PGRP
 = 1,

237 
	#PRIO_PGRP
 
PRIO_PGRP


	)

238 
	mPRIO_USER
 = 2

239 
	#PRIO_USER
 
PRIO_USER


	)

243 
	g__BEGIN_DECLS


245 #ifde‡
__USE_GNU


247 #i‚de‡
__USE_FILE_OFFSET64


248 
	$¥limô
 (
__pid_t
 
__pid
, 
__æimô_ªsour˚
 
__ªsour˚
,

249 
__c⁄°
 
æimô
 *
__√w_limô
,

250 
æimô
 *
__ﬁd_limô
Ë
__THROW
;

252 #ifde‡
__REDIRECT_NTH


253 
	`__REDIRECT_NTH
 (
¥limô
, (
__pid_t
 
__pid
,

254 
__æimô_ªsour˚
 
__ªsour˚
,

255 
__c⁄°
 
æimô
 *
__√w_limô
,

256 
æimô
 *
__ﬁd_limô
), 
¥limô64
);

258 
	#¥limô
 
¥limô64


	)

261 #ifde‡
__USE_LARGEFILE64


262 
	$¥limô64
 (
__pid_t
 
__pid
, 
__æimô_ªsour˚
 
__ªsour˚
,

263 
__c⁄°
 
æimô64
 *
__√w_limô
,

264 
æimô64
 *
__ﬁd_limô
Ë
__THROW
;

268 
__END_DECLS


	@/usr/include/bits/select.h

19 #i‚de‡
_SYS_SELECT_H


23 
	~<bôs/w‹dsize.h
>

26 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

28 #i‡
__WORDSIZE
 == 64

29 
	#__FD_ZERO_STOS
 "°osq"

	)

31 
	#__FD_ZERO_STOS
 "°o¶"

	)

34 
	#__FD_ZERO
(
fd•
) \

36 
__d0
, 
__d1
; \

37 
__asm__
 
	`__vﬁ©ûe__
 ("˛d;Ñï; " 
__FD_ZERO_STOS
 \

38 : "=c" (
__d0
), "=D" (
__d1
) \

39 : "a" (0), "0" ( (
fd_£t
) \

40 /  (
__fd_mask
)), \

41 "1" (&
	`__FDS_BITS
 (
fd•
)[0]) \

43 } 0)

	)

49 
	#__FD_ZERO
(
£t
) \

51 
__i
; \

52 
fd_£t
 *
__¨r
 = (
£t
); \

53 
__i
 = 0; __ò<  (
fd_£t
Ë/  (
__fd_mask
); ++__i) \

54 
	`__FDS_BITS
 (
__¨r
)[
__i
] = 0; \

55 } 0)

	)

59 
	#__FD_SET
(
d
, 
£t
) \

60 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |
	`__FD_MASK
 (d)))

	)

61 
	#__FD_CLR
(
d
, 
£t
) \

62 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &~
	`__FD_MASK
 (d)))

	)

63 
	#__FD_ISSET
(
d
, 
£t
) \

64 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)Ë!0)

	)

	@/usr/include/bits/select2.h

20 #i‚de‡
_SYS_SELECT_H


25 
__fdñt_chk
 (
__d
);

26 
	$__fdñt_w¨n
 (
__d
)

27 
	`__w¨«âr
 ("bit outside of fd_set selected");

28 #unde‡
__FD_ELT


29 
	#__FD_ELT
(
d
) \

30 
__exãnsi⁄__
 \

31 ({ 
__d
 = (
d
); \

32 (
	`__buûtö_c⁄°™t_p
 (
__d
) \

33 ? (
__d
 >
__FD_SETSIZE
 \

34 ? 
	`__fdñt_w¨n
 (
__d
Ë: (__d / 
__NFDBITS
)) \

35 : 
	`__fdñt_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/sockaddr.h

24 #i‚de‡
_BITS_SOCKADDR_H


25 
	#_BITS_SOCKADDR_H
 1

	)

29 
	tß_Ámûy_t
;

35 
	#__SOCKADDR_COMMON
(
ß_¥efix
) \

36 
ß_Ámûy_t
 
ß_¥efix
##
Ámûy


	)

38 
	#__SOCKADDR_COMMON_SIZE
 ( ())

	)

	@/usr/include/bits/stdio-lock.h

20 #i‚de‡
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<bôs/libc-lock.h
>

24 
	~<lowÀvñlock.h
>

28 
	#_IO_lock_öex≥nsive
 1

	)

30 °ru˘ { 
	mlock
; 
	m˙t
; *
	mow√r
; } 
	t_IO_lock_t
;

32 
	#_IO_lock_öôülizî
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

34 
	#_IO_lock_öô
(
_«me
) \

35 ((
_«me
Ë(
_IO_lock_t
Ë
_IO_lock_öôülizî
 , 0)

	)

37 
	#_IO_lock_föi
(
_«me
) \

38 ((Ë0)

	)

40 
	#_IO_lock_lock
(
_«me
) \

42 *
__£lf
 = 
THREAD_SELF
; \

43 i‡((
_«me
).
ow√r
 !
__£lf
) \

45 
	`Œl_lock
 ((
_«me
).
lock
, 
LLL_PRIVATE
); \

46 (
_«me
).
ow√r
 = 
__£lf
; \

48 ++(
_«me
).
˙t
; \

49 } 0)

	)

51 
	#_IO_lock_åylock
(
_«me
) \

53 
__ªsu…
 = 0; \

54 *
__£lf
 = 
THREAD_SELF
; \

55 i‡((
_«me
).
ow√r
 !
__£lf
) \

57 i‡(
	`Œl_åylock
 ((
_«me
).
lock
) == 0) \

59 (
_«me
).
ow√r
 = 
__£lf
; \

60 (
_«me
).
˙t
 = 1; \

63 
__ªsu…
 = 
EBUSY
; \

66 ++(
_«me
).
˙t
; \

67 
__ªsu…
; \

68 })

	)

70 
	#_IO_lock_u∆ock
(
_«me
) \

72 i‡(--(
_«me
).
˙t
 == 0) \

74 (
_«me
).
ow√r
 = 
NULL
; \

75 
	`Œl_u∆ock
 ((
_«me
).
lock
, 
LLL_PRIVATE
); \

77 } 0)

	)

81 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
) \

82 
	`__libc_˛ónup_ªgi⁄_°¨t
 (((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0, 
_f˘
, _Â)

	)

83 
	#_IO_˛ónup_ªgi⁄_°¨t_nﬂrg
(
_f˘
) \

84 
	`__libc_˛ónup_ªgi⁄_°¨t
 (1, 
_f˘
, 
NULL
)

	)

85 
	#_IO_˛ónup_ªgi⁄_íd
(
_doô
) \

86 
	`__libc_˛ónup_ªgi⁄_íd
 (
_doô
)

	)

88 #i‡
deföed
 
_LIBC
 && !deföed 
NOT_IN_libc


90 #ifde‡
__EXCEPTIONS


91 
	#_IO_acquúe_lock
(
_Â
) \

93 
_IO_FILE
 *
_IO_acquúe_lock_fûe
 \

94 
	`__©åibuã__
((
	`˛ónup
 (
_IO_acquúe_lock_f˘
))) \

95 (
_Â
); \

96 
	`_IO_Êockfûe
 (
_IO_acquúe_lock_fûe
);

	)

97 
	#_IO_acquúe_lock_˛ór_Êags2
(
_Â
) \

99 
_IO_FILE
 *
_IO_acquúe_lock_fûe
 \

100 
	`__©åibuã__
((
	`˛ónup
 (
_IO_acquúe_lock_˛ór_Êags2_f˘
))) \

101 (
_Â
); \

102 
	`_IO_Êockfûe
 (
_IO_acquúe_lock_fûe
);

	)

104 
	#_IO_acquúe_lock
(
_Â
Ë
_IO_acquúe_lock_√eds_ex˚±i⁄s_íabÀd


	)

105 
	#_IO_acquúe_lock_˛ór_Êags2
(
_Â
Ë
	`_IO_acquúe_lock
 (_Â)

	)

107 
	#_IO_ªÀa£_lock
(
_Â
Ë; } 0)

	)

	@/usr/include/bits/timex.h

19 #i‚def 
_BITS_TIMEX_H


20 
	#_BITS_TIMEX_H
 1

	)

24 
	stimex


26 
	mmodes
;

27 
	moff£t
;

28 
	m‰eq
;

29 
	mmaxîr‹
;

30 
	me°îr‹
;

31 
	m°©us
;

32 
	mc⁄°™t
;

33 
	m¥ecisi⁄
;

34 
	mtﬁî™˚
;

35 
timevÆ
 
	mtime
;

36 
	mtick
;

38 
	mµs‰eq
;

39 
	mjôãr
;

40 
	mshi·
;

41 
	m°abû
;

42 
	mjô˙t
;

43 
	mˇl˙t
;

44 
	mîr˙t
;

45 
	m°b˙t
;

47 
	mèi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/typesizes.h

20 #i‚de‡
_BITS_TYPES_H


24 #i‚def 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 såu˘ { 
__vÆ
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/uio.h

19 #i‡!
deföed
 
_SYS_UIO_H
 && !deföed 
_FCNTL_H


23 #i‚de‡
_BITS_UIO_H


24 
	#_BITS_UIO_H
 1

	)

26 
	~<sys/ty≥s.h
>

40 
	#UIO_MAXIOV
 1024

	)

44 
	siovec


46 *
	miov_ba£
;

47 
size_t
 
	miov_Àn
;

52 #i‡
deföed
 
_SYS_UIO_H
 && !deföed 
_BITS_UIO_H_FOR_SYS_UIO_H


53 
	#_BITS_UIO_H_FOR_SYS_UIO_H
 1

	)

55 
__BEGIN_DECLS


58 
ssize_t
 
	$¥o˚ss_vm_ªadv
 (
pid_t
 
__pid
, 
__c⁄°
 
iovec
 *
__lvec
,

59 
__liov˙t
,

60 
__c⁄°
 
iovec
 *
__rvec
,

61 
__riov˙t
,

62 
__Êags
)

63 
__THROW
;

66 
ssize_t
 
	$¥o˚ss_vm_wrôev
 (
pid_t
 
__pid
, 
__c⁄°
 
iovec
 *
__lvec
,

67 
__liov˙t
,

68 
__c⁄°
 
iovec
 *
__rvec
,

69 
__riov˙t
,

70 
__Êags
)

71 
__THROW
;

73 
__END_DECLS


	@/usr/include/bits/wchar.h

20 #i‚de‡
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

24 #ifde‡
__WCHAR_MAX__


25 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

27 
	#__WCHAR_MAX
 (2147483647)

	)

32 #ifde‡
__WCHAR_UNSIGNED__


33 
	#__WCHAR_MIN
 
L
'\0'

	)

37 #ñi‡
L
'\0' - 1 > 0

38 
	#__WCHAR_MIN
 
L
'\0'

	)

40 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/xopen_lim.h

30 #i‚de‡
_XOPEN_LIM_H


31 
	#_XOPEN_LIM_H
 1

	)

33 
	#__√ed_IOV_MAX


	)

34 
	~<bôs/°dio_lim.h
>

66 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

71 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

74 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

77 
	#NL_MSGMAX
 
INT_MAX


	)

81 
	#NL_NMAX
 
INT_MAX


	)

84 
	#NL_SETMAX
 
INT_MAX


	)

87 
	#NL_TEXTMAX
 
INT_MAX


	)

90 
	#NZERO
 20

	)

94 #ifde‡
INT_MAX


95 #i‡
INT_MAX
 == 32767

96 
	#WORD_BIT
 16

	)

98 #i‡
INT_MAX
 == 2147483647

99 
	#WORD_BIT
 32

	)

102 
	#WORD_BIT
 64

	)

105 #ñi‡
deföed
 
__INT_MAX__


106 #i‡
__INT_MAX__
 == 32767

107 
	#WORD_BIT
 16

	)

109 #i‡
__INT_MAX__
 == 2147483647

110 
	#WORD_BIT
 32

	)

113 
	#WORD_BIT
 64

	)

117 
	#WORD_BIT
 32

	)

121 #ifde‡
LONG_MAX


122 #i‡
LONG_MAX
 == 2147483647

123 
	#LONG_BIT
 32

	)

126 
	#LONG_BIT
 64

	)

128 #ñi‡
deföed
 
__LONG_MAX__


129 #i‡
__LONG_MAX__
 == 2147483647

130 
	#LONG_BIT
 32

	)

133 
	#LONG_BIT
 64

	)

136 
	~<bôs/w‹dsize.h
>

137 #i‡
__WORDSIZE
 == 64

138 
	#LONG_BIT
 64

	)

140 
	#LONG_BIT
 32

	)

	@/usr/include/gnu/stubs.h

4 
	~<bôs/w‹dsize.h
>

6 #i‡
__WORDSIZE
 == 32

7 
	~<gnu/°ubs-32.h
>

8 #ñi‡
__WORDSIZE
 == 64

9 
	~<gnu/°ubs-64.h
>

	@/usr/include/linux/errno.h

1 #i‚de‡
_LINUX_ERRNO_H


2 
	#_LINUX_ERRNO_H


	)

4 
	~<asm/î∫o.h
>

	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde‡
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde‡
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde‡
__FDELT


31 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

33 #unde‡
__FDMASK


34 
	#__FDMASK
(
d
Ë(1UL << ((dË% 
__NFDBITS
))

	)

37 
	mfds_bôs
 [
__FDSET_LONGS
];

38 } 
	t__kî√l_fd_£t
;

41 (*
	t__kî√l_sigh™dÀr_t
)();

44 
	t__kî√l_key_t
;

45 
	t__kî√l_mqd_t
;

47 
	~<asm/posix_ty≥s.h
>

	@/usr/include/sys/cdefs.h

20 #i‚def 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #i‚de‡
_FEATURES_H


25 
	~<„©uªs.h
>

31 #i‡
deföed
 
__GNUC__
 && !deföed 
__STDC__


36 #unde‡
__P


37 #unde‡
__PMT


39 #ifde‡
__GNUC__


43 #i‡
__GNUC_PREREQ
 (4, 6Ë&& !
deföed
 
_LIBC


44 
	#__LEAF
 , 
__Àaf__


	)

45 
	#__LEAF_ATTR
 
	`__©åibuã__
 ((
__Àaf__
))

	)

47 
	#__LEAF


	)

48 
	#__LEAF_ATTR


	)

56 #i‡!
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (3, 3)

57 
	#__THROW
 
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
))

	)

58 
	#__THROWNL
 
	`__©åibuã__
 ((
__nŸhrow__
))

	)

59 
	#__NTH
(
f˘
Ë
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
)Ë
	)
fct

61 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

62 
	#__THROW
 
	`throw
 ()

	)

63 
	#__THROWNL
 
	`throw
 ()

	)

64 
	#__NTH
(
f˘
Ë
__LEAF_ATTR
 f˘ 
	`throw
 ()

	)

66 
	#__THROW


	)

67 
	#__THROWNL


	)

68 
	#__NTH
(
f˘
Ë
	)
fct

74 
	#__ölöe


	)

76 
	#__THROW


	)

77 
	#__THROWNL


	)

78 
	#__NTH
(
f˘
Ë
	)
fct

80 
	#__c⁄°
 c⁄°

	)

81 
	#__sig√d
 sig√d

	)

82 
	#__vﬁ©ûe
 vﬁ©ûe

	)

88 
	#__P
(
¨gs
Ë
	)
args

89 
	#__PMT
(
¨gs
Ë
	)
args

94 
	#__CONCAT
(
x
,
y
Ëx ## 
	)
y

95 
	#__STRING
(
x
Ë#x

	)

98 
	#__±r_t
 *

	)

99 
	#__l⁄g_doubÀ_t
 

	)

103 #ifdef 
__˝lu•lus


104 
	#__BEGIN_DECLS
 "C" {

	)

105 
	#__END_DECLS
 }

	)

107 
	#__BEGIN_DECLS


	)

108 
	#__END_DECLS


	)

117 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES


118 
	#__BEGIN_NAMESPACE_STD
 
«me•a˚
 
°d
 {

	)

119 
	#__END_NAMESPACE_STD
 }

	)

120 
	#__USING_NAMESPACE_STD
(
«me
Ë
usög
 
°d
::«me;

	)

121 
	#__BEGIN_NAMESPACE_C99
 
«me•a˚
 
__c99
 {

	)

122 
	#__END_NAMESPACE_C99
 }

	)

123 
	#__USING_NAMESPACE_C99
(
«me
Ë
usög
 
__c99
::«me;

	)

128 
	#__BEGIN_NAMESPACE_STD


	)

129 
	#__END_NAMESPACE_STD


	)

130 
	#__USING_NAMESPACE_STD
(
«me
)

	)

131 
	#__BEGIN_NAMESPACE_C99


	)

132 
	#__END_NAMESPACE_C99


	)

133 
	#__USING_NAMESPACE_C99
(
«me
)

	)

138 #i‚de‡
__BOUNDED_POINTERS__


139 
	#__bounded


	)

140 
	#__unbounded


	)

141 
	#__±rvÆue


	)

146 
	#__bos
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

147 
	#__bos0
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 0)

	)

149 #i‡
__GNUC_PREREQ
 (4,3)

150 
	#__w¨nde˛
(
«me
, 
msg
) \

151 
	`«me
 (Ë
	`__©åibuã__
((
	`__w¨nög__
 (
msg
)))

	)

152 
	#__w¨«âr
(
msg
Ë
	`__©åibuã__
((
	`__w¨nög__
 (msg)))

	)

153 
	#__îr‹de˛
(
«me
, 
msg
) \

154 
	`«me
 (Ë
	`__©åibuã__
((
	`__îr‹__
 (
msg
)))

	)

156 
	#__w¨nde˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

157 
	#__w¨«âr
(
msg
)

	)

158 
	#__îr‹de˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

162 #i‡
__GNUC_PREREQ
 (2,97)

164 
	#__Êex¨r
 []

	)

166 #ifde‡
__GNUC__


167 
	#__Êex¨r
 [0]

	)

169 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

170 
	#__Êex¨r
 []

	)

173 
	#__Êex¨r
 [1]

	)

189 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

191 
	#__REDIRECT
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

192 #ifde‡
__˝lu•lus


193 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

194 
«me
 
¥Ÿo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

195 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

196 
«me
 
¥Ÿo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

198 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

199 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROW


	)

200 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

201 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROWNL


	)

203 
	#__ASMNAME
(
˙ame
Ë
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, c«me)

	)

204 
	#__ASMNAME2
(
¥efix
, 
˙ame
Ë
	`__STRING
 (¥efixË
	)
cname

217 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

218 
	#__©åibuã__
(
xyz
Ë

	)

224 #i‡
__GNUC_PREREQ
 (2,96)

225 
	#__©åibuã_mÆloc__
 
	`__©åibuã__
 ((
__mÆloc__
))

	)

227 
	#__©åibuã_mÆloc__


	)

233 #i‡
__GNUC_PREREQ
 (2,96)

234 
	#__©åibuã_puª__
 
	`__©åibuã__
 ((
__puª__
))

	)

236 
	#__©åibuã_puª__


	)

240 #i‡
__GNUC_PREREQ
 (2,5)

241 
	#__©åibuã_c⁄°__
 
	`__©åibuã__
 ((
__c⁄°__
))

	)

243 
	#__©åibuã_c⁄°__


	)

249 #i‡
__GNUC_PREREQ
 (3,1)

250 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__u£d__
))

	)

251 
	#__©åibuã_noölöe__
 
	`__©åibuã__
 ((
__noölöe__
))

	)

253 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__unu£d__
))

	)

254 
	#__©åibuã_noölöe__


	)

258 #i‡
__GNUC_PREREQ
 (3,2)

259 
	#__©åibuã_dïªˇãd__
 
	`__©åibuã__
 ((
__dïªˇãd__
))

	)

261 
	#__©åibuã_dïªˇãd__


	)

270 #i‡
__GNUC_PREREQ
 (2,8)

271 
	#__©åibuã_f‹m©_¨g__
(
x
Ë
	`__©åibuã__
 ((
	`__f‹m©_¨g__
 (x)))

	)

273 
	#__©åibuã_f‹m©_¨g__
(
x
Ë

	)

280 #i‡
__GNUC_PREREQ
 (2,97)

281 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
) \

282 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__°rfm⁄__
, 
a
, 
b
)))

	)

284 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
Ë

	)

289 #i‡
__GNUC_PREREQ
 (3,3)

290 
	#__n⁄nuŒ
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

292 
	#__n⁄nuŒ
(
∑øms
)

	)

297 #i‡
__GNUC_PREREQ
 (3,4)

298 
	#__©åibuã_w¨n_unu£d_ªsu…__
 \

299 
	`__©åibuã__
 ((
__w¨n_unu£d_ªsu…__
))

	)

300 #i‡
__USE_FORTIFY_LEVEL
 > 0

301 
	#__wur
 
__©åibuã_w¨n_unu£d_ªsu…__


	)

304 
	#__©åibuã_w¨n_unu£d_ªsu…__


	)

306 #i‚de‡
__wur


307 
	#__wur


	)

311 #i‡
__GNUC_PREREQ
 (3,2)

312 
	#__Æways_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__Æways_ölöe__
))

	)

314 
	#__Æways_ölöe
 
__ölöe


	)

319 #i‡!
deföed
 
__˝lu•lus
 || 
__GNUC_PREREQ
 (4,3)

320 #i‡
deföed
 
__GNUC_STDC_INLINE__
 || deföed 
__˝lu•lus


321 
	#__exã∫_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

322 #i‡
__GNUC_PREREQ
 (4,3)

323 
	#__exã∫_Æways_ölöe
 \

324 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
, 
__¨tificül__
))

	)

326 
	#__exã∫_Æways_ölöe
 \

327 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

330 
	#__exã∫_ölöe
 
__ölöe


	)

331 #i‡
__GNUC_PREREQ
 (4,3)

332 
	#__exã∫_Æways_ölöe
 \

333 
__Æways_ölöe
 
	`__©åibuã__
 ((
__¨tificül__
))

	)

335 
	#__exã∫_Æways_ölöe
 
__Æways_ölöe


	)

342 #i‡
__GNUC_PREREQ
 (4,3)

343 
	#__va_¨g_∑ck
(Ë
	`__buûtö_va_¨g_∑ck
 ()

	)

344 
	#__va_¨g_∑ck_Àn
(Ë
	`__buûtö_va_¨g_∑ck_Àn
 ()

	)

351 #i‡!
__GNUC_PREREQ
 (2,8)

352 
	#__exãnsi⁄__


	)

356 #i‡!
__GNUC_PREREQ
 (2,92)

357 
	#__ª°ri˘


	)

363 #i‡
__GNUC_PREREQ
 (3,1Ë&& !
deföed
 
__GNUG__


364 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

366 #ifde‡
__GNUC__


367 
	#__ª°ri˘_¨r


	)

369 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

370 
	#__ª°ri˘_¨r
 
ª°ri˘


	)

373 
	#__ª°ri˘_¨r


	)

378 
	~<bôs/w‹dsize.h
>

380 #i‡
deföed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && deföed 
__NO_LONG_DOUBLE_MATH


381 
	#__LDBL_COMPAT
 1

	)

382 #ifde‡
__REDIRECT


383 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

384 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
) \

385 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

386 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT_NTH
 («me,ÖrŸo,álüs)

	)

387 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
) \

388 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

389 
	#__LDBL_REDIR1_DECL
(
«me
, 
Æüs
) \

390 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 (#Æüs));

	)

391 
	#__LDBL_REDIR_DECL
(
«me
) \

392 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 ("__∆dbl_" #«me));

	)

393 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

394 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

395 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

396 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

399 #i‡!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT


400 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê
	)
proto

401 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
Ë«mê
	)
proto

402 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
__THROW


	)

403 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
Ë«mê¥Ÿÿ
__THROW


	)

404 
	#__LDBL_REDIR_DECL
(
«me
)

	)

405 #ifde‡
__REDIRECT


406 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

407 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

408 
	`__REDIRECT_NTH
 (
«me
, 
¥Ÿo
, 
Æüs
)

	)

	@/usr/include/asm-generic/ioctls.h

1 #i‚de‡
__ASM_GENERIC_IOCTLS_H


2 
	#__ASM_GENERIC_IOCTLS_H


	)

4 
	~<löux/io˘l.h
>

19 
	#TCGETS
 0x5401

	)

20 
	#TCSETS
 0x5402

	)

21 
	#TCSETSW
 0x5403

	)

22 
	#TCSETSF
 0x5404

	)

23 
	#TCGETA
 0x5405

	)

24 
	#TCSETA
 0x5406

	)

25 
	#TCSETAW
 0x5407

	)

26 
	#TCSETAF
 0x5408

	)

27 
	#TCSBRK
 0x5409

	)

28 
	#TCXONC
 0x540A

	)

29 
	#TCFLSH
 0x540B

	)

30 
	#TIOCEXCL
 0x540C

	)

31 
	#TIOCNXCL
 0x540D

	)

32 
	#TIOCSCTTY
 0x540E

	)

33 
	#TIOCGPGRP
 0x540F

	)

34 
	#TIOCSPGRP
 0x5410

	)

35 
	#TIOCOUTQ
 0x5411

	)

36 
	#TIOCSTI
 0x5412

	)

37 
	#TIOCGWINSZ
 0x5413

	)

38 
	#TIOCSWINSZ
 0x5414

	)

39 
	#TIOCMGET
 0x5415

	)

40 
	#TIOCMBIS
 0x5416

	)

41 
	#TIOCMBIC
 0x5417

	)

42 
	#TIOCMSET
 0x5418

	)

43 
	#TIOCGSOFTCAR
 0x5419

	)

44 
	#TIOCSSOFTCAR
 0x541A

	)

45 
	#FIONREAD
 0x541B

	)

46 
	#TIOCINQ
 
FIONREAD


	)

47 
	#TIOCLINUX
 0x541C

	)

48 
	#TIOCCONS
 0x541D

	)

49 
	#TIOCGSERIAL
 0x541E

	)

50 
	#TIOCSSERIAL
 0x541F

	)

51 
	#TIOCPKT
 0x5420

	)

52 
	#FIONBIO
 0x5421

	)

53 
	#TIOCNOTTY
 0x5422

	)

54 
	#TIOCSETD
 0x5423

	)

55 
	#TIOCGETD
 0x5424

	)

56 
	#TCSBRKP
 0x5425

	)

57 
	#TIOCSBRK
 0x5427

	)

58 
	#TIOCCBRK
 0x5428

	)

59 
	#TIOCGSID
 0x5429

	)

60 
	#TCGETS2
 
	`_IOR
('T', 0x2A, 
ãrmios2
)

	)

61 
	#TCSETS2
 
	`_IOW
('T', 0x2B, 
ãrmios2
)

	)

62 
	#TCSETSW2
 
	`_IOW
('T', 0x2C, 
ãrmios2
)

	)

63 
	#TCSETSF2
 
	`_IOW
('T', 0x2D, 
ãrmios2
)

	)

64 
	#TIOCGRS485
 0x542E

	)

65 #i‚de‡
TIOCSRS485


66 
	#TIOCSRS485
 0x542F

	)

68 
	#TIOCGPTN
 
	`_IOR
('T', 0x30, Ë

	)

69 
	#TIOCSPTLCK
 
	`_IOW
('T', 0x31, Ë

	)

70 
	#TIOCGDEV
 
	`_IOR
('T', 0x32, Ë

	)

71 
	#TCGETX
 0x5432

	)

72 
	#TCSETX
 0x5433

	)

73 
	#TCSETXF
 0x5434

	)

74 
	#TCSETXW
 0x5435

	)

75 
	#TIOCSIG
 
	`_IOW
('T', 0x36, Ë

	)

76 
	#TIOCVHANGUP
 0x5437

	)

78 
	#FIONCLEX
 0x5450

	)

79 
	#FIOCLEX
 0x5451

	)

80 
	#FIOASYNC
 0x5452

	)

81 
	#TIOCSERCONFIG
 0x5453

	)

82 
	#TIOCSERGWILD
 0x5454

	)

83 
	#TIOCSERSWILD
 0x5455

	)

84 
	#TIOCGLCKTRMIOS
 0x5456

	)

85 
	#TIOCSLCKTRMIOS
 0x5457

	)

86 
	#TIOCSERGSTRUCT
 0x5458

	)

87 
	#TIOCSERGETLSR
 0x5459

	)

88 
	#TIOCSERGETMULTI
 0x545A

	)

89 
	#TIOCSERSETMULTI
 0x545B

	)

91 
	#TIOCMIWAIT
 0x545C

	)

92 
	#TIOCGICOUNT
 0x545D

	)

98 #i‚de‡
FIOQSIZE


99 
	#FIOQSIZE
 0x5460

	)

103 
	#TIOCPKT_DATA
 0

	)

104 
	#TIOCPKT_FLUSHREAD
 1

	)

105 
	#TIOCPKT_FLUSHWRITE
 2

	)

106 
	#TIOCPKT_STOP
 4

	)

107 
	#TIOCPKT_START
 8

	)

108 
	#TIOCPKT_NOSTOP
 16

	)

109 
	#TIOCPKT_DOSTOP
 32

	)

110 
	#TIOCPKT_IOCTL
 64

	)

112 
	#TIOCSER_TEMT
 0x01

	)

	@/usr/include/asm-generic/param.h

1 #i‚de‡
__ASM_GENERIC_PARAM_H


2 
	#__ASM_GENERIC_PARAM_H


	)

5 #i‚de‡
HZ


6 
	#HZ
 100

	)

9 #i‚de‡
EXEC_PAGESIZE


10 
	#EXEC_PAGESIZE
 4096

	)

13 #i‚de‡
NOGROUP


14 
	#NOGROUP
 (-1)

	)

17 
	#MAXHOSTNAMELEN
 64

	)

	@/usr/include/asm-generic/socket.h

1 #i‚de‡
__ASM_GENERIC_SOCKET_H


2 
	#__ASM_GENERIC_SOCKET_H


	)

4 
	~<asm/sockios.h
>

7 
	#SOL_SOCKET
 1

	)

9 
	#SO_DEBUG
 1

	)

10 
	#SO_REUSEADDR
 2

	)

11 
	#SO_TYPE
 3

	)

12 
	#SO_ERROR
 4

	)

13 
	#SO_DONTROUTE
 5

	)

14 
	#SO_BROADCAST
 6

	)

15 
	#SO_SNDBUF
 7

	)

16 
	#SO_RCVBUF
 8

	)

17 
	#SO_SNDBUFFORCE
 32

	)

18 
	#SO_RCVBUFFORCE
 33

	)

19 
	#SO_KEEPALIVE
 9

	)

20 
	#SO_OOBINLINE
 10

	)

21 
	#SO_NO_CHECK
 11

	)

22 
	#SO_PRIORITY
 12

	)

23 
	#SO_LINGER
 13

	)

24 
	#SO_BSDCOMPAT
 14

	)

27 #i‚de‡
SO_PASSCRED


28 
	#SO_PASSCRED
 16

	)

29 
	#SO_PEERCRED
 17

	)

30 
	#SO_RCVLOWAT
 18

	)

31 
	#SO_SNDLOWAT
 19

	)

32 
	#SO_RCVTIMEO
 20

	)

33 
	#SO_SNDTIMEO
 21

	)

37 
	#SO_SECURITY_AUTHENTICATION
 22

	)

38 
	#SO_SECURITY_ENCRYPTION_TRANSPORT
 23

	)

39 
	#SO_SECURITY_ENCRYPTION_NETWORK
 24

	)

41 
	#SO_BINDTODEVICE
 25

	)

44 
	#SO_ATTACH_FILTER
 26

	)

45 
	#SO_DETACH_FILTER
 27

	)

47 
	#SO_PEERNAME
 28

	)

48 
	#SO_TIMESTAMP
 29

	)

49 
	#SCM_TIMESTAMP
 
SO_TIMESTAMP


	)

51 
	#SO_ACCEPTCONN
 30

	)

53 
	#SO_PEERSEC
 31

	)

54 
	#SO_PASSSEC
 34

	)

55 
	#SO_TIMESTAMPNS
 35

	)

56 
	#SCM_TIMESTAMPNS
 
SO_TIMESTAMPNS


	)

58 
	#SO_MARK
 36

	)

60 
	#SO_TIMESTAMPING
 37

	)

61 
	#SCM_TIMESTAMPING
 
SO_TIMESTAMPING


	)

63 
	#SO_PROTOCOL
 38

	)

64 
	#SO_DOMAIN
 39

	)

66 
	#SO_RXQ_OVFL
 40

	)

	@/usr/include/asm-generic/types.h

1 #i‚de‡
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-gíîic/öt-Œ64.h
>

9 #i‚de‡
__ASSEMBLY__


11 
	tumode_t
;

	@/usr/include/asm/errno.h

1 
	~<asm-gíîic/î∫o.h
>

	@/usr/include/asm/posix_types.h

1 #ifde‡
__i386__


2 
	~<asm/posix_ty≥s_32.h
>

4 
	~<asm/posix_ty≥s_64.h
>

	@/usr/include/bits/libc-lock.h

20 #i‚de‡
_BITS_LIBC_LOCK_H


21 
	#_BITS_LIBC_LOCK_H
 1

	)

23 
	~<±hªad.h
>

24 
	#__√ed_NULL


	)

25 
	~<°ddef.h
>

34 #ifde‡
_LIBC


35 
	~<lowÀvñlock.h
>

36 
	~<és.h
>

37 
	~<±hªad-fun˘i⁄s.h
>

38 
	~<î∫o.h
>

39 
	~<gnu/›ti⁄-groups.h
>

43 #i‡
deföed
 
_LIBC
 || deföed 
_IO_MTSAFE_IO


44 #i‡(
deföed
 
NOT_IN_libc
 && !deföed 
IS_IN_lib±hªad
Ë|| !deföed 
_LIBC


45 
±hªad_muãx_t
 
	t__libc_lock_t
;

46 °ru˘ { 
±hªad_muãx_t
 
	mmuãx
; } 
	t__libc_lock_ªcursive_t
;

48 
	t__libc_lock_t
;

49 °ru˘ { 
	mlock
; 
	m˙t
; *
	mow√r
; } 
	t__libc_lock_ªcursive_t
;

51 °ru˘ { 
±hªad_muãx_t
 
	mmuãx
; } 
	t__πld_lock_ªcursive_t
;

52 #ifde‡
__USE_UNIX98


53 
±hªad_rwlock_t
 
	t__libc_rwlock_t
;

55 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

58 
__libc_lock_›aque__
 
	t__libc_lock_t
;

59 
__libc_lock_ªcursive_›aque__
 
	t__libc_lock_ªcursive_t
;

60 
__libc_rwlock_›aque__
 
	t__libc_rwlock_t
;

64 
±hªad_key_t
 
	t__libc_key_t
;

73 
	#__libc_lock_deföe
(
CLASS
,
NAME
) \

74 
CLASS
 
__libc_lock_t
 
NAME
;

	)

75 
	#__libc_rwlock_deföe
(
CLASS
,
NAME
) \

76 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

77 
	#__libc_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

78 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
;

	)

79 
	#__πld_lock_deföe_ªcursive
(
CLASS
,
NAME
) \

80 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
;

	)

91 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

92 #i‡
LLL_LOCK_INITIALIZER
 == 0

93 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

94 
CLASS
 
__libc_lock_t
 
NAME
;

	)

96 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

97 
CLASS
 
__libc_lock_t
 
NAME
 = 
LLL_LOCK_INITIALIZER
;

	)

100 #i‡
__LT_SPINLOCK_INIT
 == 0

101 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

102 
CLASS
 
__libc_lock_t
 
NAME
;

	)

104 
	#__libc_lock_deföe_öôülized
(
CLASS
,
NAME
) \

105 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

109 
	#__libc_rwlock_deföe_öôülized
(
CLASS
,
NAME
) \

110 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

114 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

115 #i‡
LLL_LOCK_INITIALIZER
 == 0

116 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

117 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
;

	)

119 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

120 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

122 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

123 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

125 
	#__libc_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

126 
CLASS
 
__libc_lock_ªcursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

127 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

128 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

131 
	#__πld_lock_deföe_öôülized_ªcursive
(
CLASS
,
NAME
) \

132 
CLASS
 
__πld_lock_ªcursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

133 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

134 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

136 
	#__πld_lock_öôülize
(
NAME
) \

137 (Ë((
NAME
Ë(
__πld_lock_ªcursive_t
Ë
_RTLD_LOCK_RECURSIVE_INITIALIZER
)

	)

144 #ifde‡
__PIC__


145 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

146 (
	`__exãnsi⁄__
 ({ 
	`__ty≥of
 (
FUNC
Ë*
_‚
 = (FUNC); \

147 
_‚
 !
NULL
 ? (*_‚Ë
ARGS
 : 
ELSE
; }))

	)

149 
	#__libc_maybe_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

150 (
FUNC
 !
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

154 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


155 
	#PTFAVAIL
(
NAME
Ë
__libc_±hªad_fun˘i⁄s_öô


	)

156 
	#__libc_±f_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

157 (
__libc_±hªad_fun˘i⁄s_öô
 ? 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
Ë: 
ELSE
)

	)

158 
	#__libc_±f_ˇŒ_Æways
(
FUNC
, 
ARGS
) \

159 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
)

	)

161 
	#PTFAVAIL
(
NAME
Ë(NAME !
NULL
)

	)

162 
	#__libc_±f_ˇŒ
(
FUNC
, 
ARGS
, 
ELSE
) \

163 
	`__libc_maybe_ˇŒ
 (
FUNC
, 
ARGS
, 
ELSE
)

	)

164 
	#__libc_±f_ˇŒ_Æways
(
FUNC
, 
ARGS
) \

165 
FUNC
 
ARGS


	)

171 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

172 
	#__libc_lock_öô
(
NAME
Ë((NAMEË
LLL_LOCK_INITIALIZER
, 0)

	)

174 
	#__libc_lock_öô
(
NAME
) \

175 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_öô
, (&(
NAME
), 
NULL
), 0)

	)

177 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


180 
	#__libc_rwlock_öô
(
NAME
) \

181 (
	`__buûtö_mem£t
 (&(
NAME
), '\0',  (NAME)), 0)

	)

183 
	#__libc_rwlock_öô
(
NAME
) \

184 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_öô
, (&(
NAME
), 
NULL
), 0)

	)

188 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

189 
	#__libc_lock_öô_ªcursive
(
NAME
) \

190 ((
NAME
Ë(
__libc_lock_ªcursive_t
Ë
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

192 
	#__libc_lock_öô_ªcursive
(
NAME
) \

194 i‡(
__±hªad_muãx_öô
 !
NULL
) \

196 
±hªad_muãx©å_t
 
__©å
; \

197 
	`__±hªad_muãx©å_öô
 (&
__©å
); \

198 
	`__±hªad_muãx©å_£ây≥
 (&
__©å
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

199 
	`__±hªad_muãx_öô
 (&(
NAME
).
muãx
, &
__©å
); \

200 
	`__±hªad_muãx©å_de°roy
 (&
__©å
); \

202 } 0)

	)

205 
	#__πld_lock_öô_ªcursive
(
NAME
) \

207 i‡(
__±hªad_muãx_öô
 !
NULL
) \

209 
±hªad_muãx©å_t
 
__©å
; \

210 
	`__±hªad_muãx©å_öô
 (&
__©å
); \

211 
	`__±hªad_muãx©å_£ây≥
 (&
__©å
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

212 
	`__±hªad_muãx_öô
 (&(
NAME
).
muãx
, &
__©å
); \

213 
	`__±hªad_muãx©å_de°roy
 (&
__©å
); \

215 } 0)

	)

220 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

221 
	#__libc_lock_föi
(
NAME
Ë((Ë0)

	)

223 
	#__libc_lock_föi
(
NAME
) \

224 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_de°roy
, (&(
NAME
)), 0)

	)

226 #i‡
deföed
 
SHARED
 && !deföed 
NOT_IN_libc


227 
	#__libc_rwlock_föi
(
NAME
Ë((Ë0)

	)

229 
	#__libc_rwlock_föi
(
NAME
) \

230 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_de°roy
, (&(
NAME
)), 0)

	)

234 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

235 
	#__libc_lock_föi_ªcursive
(
NAME
Ë((Ë0)

	)

237 
	#__libc_lock_föi_ªcursive
(
NAME
) \

238 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_de°roy
, (&(
NAME
)), 0)

	)

242 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

243 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

247 
__libc_lock_lock_‚
 (
__libc_lock_t
 *);

248 
libc_hiddí_¥Ÿo
 (
__libc_lock_lock_‚
);

250 #i‡
__OPTION_EGLIBC_BIG_MACROS


251 
	#__libc_lock_lock
(
NAME
) \

252 ({ 
	`Œl_lock
 (
NAME
, 
LLL_PRIVATE
); 0; })

	)

254 
	#__libc_lock_lock
(
NAME
) \

255 
	`__libc_lock_lock_‚
 (&(
NAME
))

	)

258 
	#__libc_lock_lock
(
NAME
) \

259 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
)), 0)

	)

261 
	#__libc_rwlock_rdlock
(
NAME
) \

262 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_rdlock
, (&(
NAME
)), 0)

	)

263 
	#__libc_rwlock_wæock
(
NAME
) \

264 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_wæock
, (&(
NAME
)), 0)

	)

267 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

268 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

272 
__libc_lock_lock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

273 
libc_hiddí_¥Ÿo
 (
__libc_lock_lock_ªcursive_‚
);

275 #i‡
__OPTION_EGLIBC_BIG_MACROS


276 
	#__libc_lock_lock_ªcursive
(
NAME
) \

278 *
£lf
 = 
THREAD_SELF
; \

279 i‡((
NAME
).
ow√r
 !
£lf
) \

281 
	`Œl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

282 (
NAME
).
ow√r
 = 
£lf
; \

284 ++(
NAME
).
˙t
; \

285 } 0)

	)

287 
	#__libc_lock_lock_ªcursive
(
NAME
) \

288 
	`__libc_lock_lock_ªcursive_‚
 (&(
NAME
))

	)

291 
	#__libc_lock_lock_ªcursive
(
NAME
) \

292 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
).
muãx
), 0)

	)

296 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

297 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

301 
__libc_lock_åylock_‚
 (
__libc_lock_t
 *);

302 
libc_hiddí_¥Ÿo
 (
__libc_lock_åylock_‚
);

304 #i‡
__OPTION_EGLIBC_BIG_MACROS


305 
	#__libc_lock_åylock
(
NAME
) \

306 
	`Œl_åylock
 (
NAME
)

	)

308 
	#__libc_lock_åylock
(
NAME
) \

309 
	`__libc_lock_åylock_‚
 (&(
NAME
))

	)

312 
	#__libc_lock_åylock
(
NAME
) \

313 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
)), 0)

	)

315 
	#__libc_rwlock_åyrdlock
(
NAME
) \

316 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åyrdlock
, (&(
NAME
)), 0)

	)

317 
	#__libc_rwlock_åywæock
(
NAME
) \

318 
	`__libc_maybe_ˇŒ
 (
__±hªad_rwlock_åywæock
, (&(
NAME
)), 0)

	)

321 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

322 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

326 
__libc_lock_åylock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

327 
libc_hiddí_¥Ÿo
 (
__libc_lock_åylock_ªcursive_‚
);

329 #i‡
__OPTION_EGLIBC_BIG_MACROS


330 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

332 
ªsu…
 = 0; \

333 *
£lf
 = 
THREAD_SELF
; \

334 i‡((
NAME
).
ow√r
 !
£lf
) \

336 i‡(
	`Œl_åylock
 ((
NAME
).
lock
) == 0) \

338 (
NAME
).
ow√r
 = 
£lf
; \

339 (
NAME
).
˙t
 = 1; \

342 
ªsu…
 = 
EBUSY
; \

345 ++(
NAME
).
˙t
; \

346 
ªsu…
; \

347 })

	)

349 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

350 
	`__libc_lock_åylock_ªcursive_‚
 (&(
NAME
))

	)

353 
	#__libc_lock_åylock_ªcursive
(
NAME
) \

354 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
)), 0)

	)

357 
	#__πld_lock_åylock_ªcursive
(
NAME
) \

358 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_åylock
, (&(
NAME
).
muãx
), 0)

	)

361 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

362 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

366 
__libc_lock_u∆ock_‚
 (
__libc_lock_t
 *);

367 
libc_hiddí_¥Ÿo
 (
__libc_lock_u∆ock_‚
);

369 #i‡
__OPTION_EGLIBC_BIG_MACROS


370 
	#__libc_lock_u∆ock
(
NAME
) \

371 
	`Œl_u∆ock
 (
NAME
, 
LLL_PRIVATE
)

	)

373 
	#__libc_lock_u∆ock
(
NAME
) \

374 
	`__libc_lock_u∆ock_‚
 (&(
NAME
))

	)

377 
	#__libc_lock_u∆ock
(
NAME
) \

378 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
)), 0)

	)

380 
	#__libc_rwlock_u∆ock
(
NAME
) \

381 
	`__libc_±f_ˇŒ
 (
__±hªad_rwlock_u∆ock
, (&(
NAME
)), 0)

	)

384 #i‡
deföed
 
_LIBC
 && (!deföed 
NOT_IN_libc
 || deföed 
IS_IN_lib±hªad
)

385 #i‡
__OPTION_EGLIBC_BIG_MACROS
 != 1

389 
__libc_lock_u∆ock_ªcursive_‚
 (
__libc_lock_ªcursive_t
 *);

390 
libc_hiddí_¥Ÿo
 (
__libc_lock_u∆ock_ªcursive_‚
);

392 #i‡
__OPTION_EGLIBC_BIG_MACROS


394 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

396 i‡(--(
NAME
).
˙t
 == 0) \

398 (
NAME
).
ow√r
 = 
NULL
; \

399 
	`Œl_u∆ock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

401 } 0)

	)

403 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

404 
	`__libc_lock_u∆ock_ªcursive_‚
 (&(
NAME
))

	)

407 
	#__libc_lock_u∆ock_ªcursive
(
NAME
) \

408 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
)), 0)

	)

411 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


412 
	#__πld_lock_deÁu…_lock_ªcursive
(
lock
) \

413 ++((
±hªad_muãx_t
 *)(
lock
))->
__d©a
.
__cou¡
;

	)

415 
	#__πld_lock_deÁu…_u∆ock_ªcursive
(
lock
) \

416 --((
±hªad_muãx_t
 *)(
lock
))->
__d©a
.
__cou¡
;

	)

418 
	#__πld_lock_lock_ªcursive
(
NAME
) \

419 
	`GL
(
dl_πld_lock_ªcursive
Ë(&(
NAME
).
muãx
)

	)

421 
	#__πld_lock_u∆ock_ªcursive
(
NAME
) \

422 
	`GL
(
dl_πld_u∆ock_ªcursive
Ë(&(
NAME
).
muãx
)

	)

424 
	#__πld_lock_lock_ªcursive
(
NAME
) \

425 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_lock
, (&(
NAME
).
muãx
), 0)

	)

427 
	#__πld_lock_u∆ock_ªcursive
(
NAME
) \

428 
	`__libc_maybe_ˇŒ
 (
__±hªad_muãx_u∆ock
, (&(
NAME
).
muãx
), 0)

	)

432 #i‡
PTHREAD_ONCE_INIT
 == 0

435 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

436 
CLASS
 
±hªad_⁄˚_t
 
NAME


	)

438 
	#__libc_⁄˚_deföe
(
CLASS
, 
NAME
) \

439 
CLASS
 
±hªad_⁄˚_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

443 
	#__libc_⁄˚
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

445 i‡(
	`PTFAVAIL
 (
__±hªad_⁄˚
)) \

446 
	`__libc_±f_ˇŒ_Æways
 (
__±hªad_⁄˚
, (&(
ONCE_CONTROL
), \

447 
INIT_FUNCTION
)); \

448 i‡((
ONCE_CONTROL
Ë=
PTHREAD_ONCE_INIT
) { \

449 
	`INIT_FUNCTION
 (); \

450 (
ONCE_CONTROL
) |= 2; \

452 } 0)

	)

459 
_±hªad_˛ónup_push
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

460 (*
routöe
Ë(*), *
¨g
);

461 
	`_±hªad_˛ónup_p›
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

462 
execuã
);

463 
	`_±hªad_˛ónup_push_de„r
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

464 (*
routöe
Ë(*), *
¨g
);

465 
	`_±hªad_˛ónup_p›_ª°‹e
 (
_±hªad_˛ónup_buf„r
 *
buf„r
,

466 
execuã
);

469 
	#__libc_˛ónup_ªgi⁄_°¨t
(
DOIT
, 
FCT
, 
ARG
) \

470 { 
_±hªad_˛ónup_buf„r
 
_buf„r
; \

471 
_avaû
; \

472 i‡(
DOIT
) { \

473 
_avaû
 = 
	`PTFAVAIL
 (
_±hªad_˛ónup_push_de„r
); \

474 i‡(
_avaû
) { \

475 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_push_de„r
, (&
_buf„r
, 
FCT
, \

476 
ARG
)); \

478 
_buf„r
.
__routöe
 = (
FCT
); \

479 
_buf„r
.
__¨g
 = (
ARG
); \

482 
_avaû
 = 0; \

483 }

	)

486 
	#__libc_˛ónup_ªgi⁄_íd
(
DOIT
) \

487 i‡(
_avaû
) { \

488 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_p›_ª°‹e
, (&
_buf„r
, 
DOIT
));\

489 } i‡(
DOIT
) \

490 
_buf„r
.
	`__routöe
 (_buf„r.
__¨g
); \

491 
	}

	)
}

494 
	#__libc_˛ónup_íd
(
DOIT
) \

495 i‡(
_avaû
) { \

496 
	`__libc_±f_ˇŒ_Æways
 (
_±hªad_˛ónup_p›_ª°‹e
, (&
_buf„r
, 
DOIT
));\

497 } i‡(
DOIT
) \

498 
_buf„r
.
	`__routöe
 (_buf„r.
__¨g
)

	)

502 
__exã∫_ölöe
 

503 
	$__libc_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
f
)

505 i‡(
f
->
__do_ô
)

506 
f
->
	`__ˇn˚l_routöe
 (f->
__ˇn˚l_¨g
);

507 
	}
}

509 
	#__libc_˛ónup_push
(
f˘
, 
¨g
) \

511 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

512 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__libc_˛ónup_routöe
))) \

513 { .
__ˇn˚l_routöe
 = (
f˘
), .
__ˇn˚l_¨g
 = (
¨g
), \

514 .
__do_ô
 = 1 };

	)

516 
	#__libc_˛ónup_p›
(
execuã
) \

517 
__˛‰ame
.
__do_ô
 = (
execuã
); \

518 } 0)

	)

522 
	#__libc_key_¸óã
(
KEY
, 
DESTRUCTOR
) \

523 
	`__libc_±f_ˇŒ
 (
__±hªad_key_¸óã
, (
KEY
, 
DESTRUCTOR
), 1)

	)

526 
	#__libc_gë•ecific
(
KEY
) \

527 
	`__libc_±f_ˇŒ
 (
__±hªad_gë•ecific
, (
KEY
), 
NULL
)

	)

530 
	#__libc_£t•ecific
(
KEY
, 
VALUE
) \

531 
	`__libc_±f_ˇŒ
 (
__±hªad_£t•ecific
, (
KEY
, 
VALUE
), 0)

	)

537 
	#__libc_©f‹k
(
PREPARE
, 
PARENT
, 
CHILD
) \

538 
	`__ªgi°î_©f‹k
 (
PREPARE
, 
PARENT
, 
CHILD
, 
NULL
)

	)

539 
__ªgi°î_©f‹k
 ((*
__¥ï¨e
) (),

540 (*
__∑ª¡
) (),

541 (*
__chûd
) (),

542 *
__dso_h™dÀ
);

547 
	`__±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

548 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx_©å
);

550 
	`__±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
);

552 
	`__±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
);

554 
	`__±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
);

556 
	`__±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
);

558 
	`__±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
);

560 
	`__±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
);

562 
	`__±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
,

563 
__köd
);

565 #ifde‡
__USE_UNIX98


566 
	`__±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__rwlock
,

567 
__c⁄°
 
±hªad_rwlock©å_t
 *
__©å
);

569 
	`__±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
);

571 
	`__±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

573 
	`__±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
);

575 
	`__±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
);

577 
	`__±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
);

579 
	`__±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
);

582 
	`__±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

583 (*
__de°r_fun˘i⁄
) (*));

585 
	`__±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

586 
__c⁄°
 *
__poöãr
);

588 *
	`__±hªad_gë•ecific
 (
±hªad_key_t
 
__key
);

590 
	`__±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

591 (*
__öô_routöe
) ());

593 
	`__±hªad_©f‹k
 ((*
__¥ï¨e
) (),

594 (*
__∑ª¡
) (),

595 (*
__chûd
) ());

601 #i‚de‡
__NO_WEAK_PTHREAD_ALIASES


602 #ifde‡
wók_exã∫


603 #i‡
_LIBC


604 
	~<bp-sym.h
>

606 
	#BP_SYM
(
sym
Ë
	)
sym

608 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_öô
))

609 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_de°roy
))

610 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_lock
))

611 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_åylock
))

612 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx_u∆ock
))

613 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_öô
))

614 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_de°roy
))

615 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_muãx©å_£ây≥
))

616 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_öô
))

617 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_de°roy
))

618 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_rdlock
))

619 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_åyrdlock
))

620 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_wæock
))

621 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_åywæock
))

622 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_rwlock_u∆ock
))

623 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_key_¸óã
))

624 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_£t•ecific
))

625 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_gë•ecific
))

626 
	`wók_exã∫
 (
	$BP_SYM
 (
__±hªad_⁄˚
))

627 
	$wók_exã∫
 (
__±hªad_öôülize
)

628 
	$wók_exã∫
 (
__±hªad_©f‹k
)

629 
	`wók_exã∫
 (
	$BP_SYM
 (
_±hªad_˛ónup_push_de„r
))

630 
	`wók_exã∫
 (
	$BP_SYM
 (
_±hªad_˛ónup_p›_ª°‹e
))

631 
	`wók_exã∫
 (
	$BP_SYM
 (
±hªad_£tˇn˚l°©e
))

633 #¥agm®
wók
 
__±hªad_muãx_öô


634 #¥agm®
wók
 
__±hªad_muãx_de°roy


635 #¥agm®
wók
 
__±hªad_muãx_lock


636 #¥agm®
wók
 
__±hªad_muãx_åylock


637 #¥agm®
wók
 
__±hªad_muãx_u∆ock


638 #¥agm®
wók
 
__±hªad_muãx©å_öô


639 #¥agm®
wók
 
__±hªad_muãx©å_de°roy


640 #¥agm®
wók
 
__±hªad_muãx©å_£ây≥


641 #¥agm®
wók
 
__±hªad_rwlock_de°roy


642 #¥agm®
wók
 
__±hªad_rwlock_rdlock


643 #¥agm®
wók
 
__±hªad_rwlock_åyrdlock


644 #¥agm®
wók
 
__±hªad_rwlock_wæock


645 #¥agm®
wók
 
__±hªad_rwlock_åywæock


646 #¥agm®
wók
 
__±hªad_rwlock_u∆ock


647 #¥agm®
wók
 
__±hªad_key_¸óã


648 #¥agm®
wók
 
__±hªad_£t•ecific


649 #¥agm®
wók
 
__±hªad_gë•ecific


650 #¥agm®
wók
 
__±hªad_⁄˚


651 #¥agm®
wók
 
__±hªad_öôülize


652 #¥agm®
wók
 
__±hªad_©f‹k


653 #¥agm®
wók
 
_±hªad_˛ónup_push_de„r


654 #¥agm®
wók
 
_±hªad_˛ónup_p›_ª°‹e


655 #¥agm®
wók
 
±hªad_£tˇn˚l°©e


	@/usr/include/gconv.h

23 #i‚de‡
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<„©uªs.h
>

27 
	#__√ed_mb°©e_t


	)

28 
	#__√ed_wöt_t


	)

29 
	~<wch¨.h
>

30 
	#__√ed_size_t


	)

31 
	#__√ed_wch¨_t


	)

32 
	~<°ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

60 
	m__GCONV_SWAP
 = 0x0004

65 
	g__gc⁄v_°ï
;

66 
	g__gc⁄v_°ï_d©a
;

67 
	g__gc⁄v_lﬂded_obje˘
;

68 
	g__gc⁄v_å™s_d©a
;

72 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 
	t__c⁄°
 **, __const *,

74 **, 
	tsize_t
 *, , );

77 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

80 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

81 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

85 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

86 
	t__gc⁄v_°ï_d©a
 *, *,

87 
	t__c⁄°
 *,

88 
	t__c⁄°
 **,

89 
	t__c⁄°
 *, **,

90 
	tsize_t
 *);

93 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
Ë(*, 
	t__c⁄°
 *,

94 
	t__c⁄°
 *,

98 (*
	t__gc⁄v_å™s_quîy_f˘
Ë(
	t__c⁄°
 *, __const ***,

99 
	tsize_t
 *);

102 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

103 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

105 
	s__gc⁄v_å™s_d©a


108 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

109 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

110 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

111 *
__d©a
;

112 
__gc⁄v_å™s_d©a
 *
__√xt
;

117 
	s__gc⁄v_°ï


119 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

120 
__c⁄°
 *
__mod«me
;

122 
__cou¡î
;

124 *
__‰om_«me
;

125 *
__to_«me
;

127 
__gc⁄v_f˘
 
__f˘
;

128 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

129 
__gc⁄v_öô_f˘
 
__öô_f˘
;

130 
__gc⁄v_íd_f˘
 
__íd_f˘
;

134 
__mö_√eded_‰om
;

135 
__max_√eded_‰om
;

136 
__mö_√eded_to
;

137 
__max_√eded_to
;

140 
__°©eful
;

142 *
__d©a
;

147 
	s__gc⁄v_°ï_d©a


149 *
__outbuf
;

150 *
__outbu„nd
;

154 
__Êags
;

158 
__övoˇti⁄_cou¡î
;

162 
__öã∫Æ_u£
;

164 
__mb°©e_t
 *
__°©ï
;

165 
__mb°©e_t
 
__°©e
;

169 
__gc⁄v_å™s_d©a
 *
__å™s
;

174 
	s__gc⁄v_öfo


176 
size_t
 
__n°ïs
;

177 
__gc⁄v_°ï
 *
__°ïs
;

178 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

179 } *
	t__gc⁄v_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub___kî√l_co¶


	)

11 
	#__°ub___kî√l_söl


	)

12 
	#__°ub___kî√l_è∆


	)

13 
	#__°ub_chÊags


	)

14 
	#__°ub_Áâach


	)

15 
	#__°ub_fchÊags


	)

16 
	#__°ub_fdëach


	)

17 
	#__°ub_gây


	)

18 
	#__°ub_lchmod


	)

19 
	#__°ub_ªvoke


	)

20 
	#__°ub_£éogö


	)

21 
	#__°ub_sigªtu∫


	)

22 
	#__°ub_s°k


	)

23 
	#__°ub_°ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub_bdÊush


	)

11 
	#__°ub_chÊags


	)

12 
	#__°ub_Áâach


	)

13 
	#__°ub_fchÊags


	)

14 
	#__°ub_fdëach


	)

15 
	#__°ub_gëmsg


	)

16 
	#__°ub_gây


	)

17 
	#__°ub_lchmod


	)

18 
	#__°ub_putmsg


	)

19 
	#__°ub_ªvoke


	)

20 
	#__°ub_£éogö


	)

21 
	#__°ub_sigªtu∫


	)

22 
	#__°ub_s°k


	)

23 
	#__°ub_°ty


	)

	@/usr/include/linux/stddef.h

1 #i‚de‡
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

6 #unde‡
NULL


7 #i‡
deföed
(
__˝lu•lus
)

8 
	#NULL
 0

	)

10 
	#NULL
 ((*)0)

	)

	@/usr/include/wchar.h

24 #i‚de‡
_WCHAR_H


26 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<„©uªs.h
>

31 #ifde‡
_WCHAR_H


33 
	#__√ed___FILE


	)

34 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


35 
	#__√ed_FILE


	)

37 
	~<°dio.h
>

39 
	#__√ed___va_li°


	)

40 
	~<°d¨g.h
>

42 
	~<bôs/wch¨.h
>

45 
	#__√ed_size_t


	)

46 
	#__√ed_wch¨_t


	)

47 
	#__√ed_NULL


	)

49 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


50 #unde‡
__√ed_wöt_t


51 
	#__√ed_wöt_t


	)

52 
	~<°ddef.h
>

56 #i‚de‡
_WINT_T


61 
	#_WINT_T


	)

62 
	twöt_t
;

66 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

67 && 
deföed
 
__WINT_TYPE__


68 
__BEGIN_NAMESPACE_STD


69 
__WINT_TYPE__
 
	twöt_t
;

70 
	g__END_NAMESPACE_STD


75 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

76 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

80 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
__mb°©e_t_deföed


81 
	#__mb°©e_t_deföed
 1

	)

85 
	m__cou¡
;

88 #ifde‡
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wöt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__vÆue
;

95 } 
	t__mb°©e_t
;

97 #unde‡
__√ed_mb°©e_t


102 #ifde‡
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifde‡
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

112 #i‚de‡
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #i‚de‡
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


125 
	~<w˘y≥.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

145 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

147 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

153 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

155 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
)

161 
__THROW
 
__©åibuã_puª__
;

163 
	$wc¢cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©åibuã_puª__
;

165 
__END_NAMESPACE_STD


167 #ifde‡
__USE_XOPEN2K8


169 
	$wcsˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

172 
	$wc¢ˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

173 
size_t
 
__n
Ë
__THROW
;

177 
	~<xloˇÀ.h
>

179 
	$wcsˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

180 
__loˇÀ_t
 
__loc
Ë
__THROW
;

182 
	$wc¢ˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

183 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscﬁl
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

193 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

194 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifde‡
__USE_XOPEN2K8


203 
	$wcscﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

204 
__loˇÀ_t
 
__loc
Ë
__THROW
;

209 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

210 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

213 
wch¨_t
 *
	$wcsdup
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

221 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
__©åibuã_puª__
;

228 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

230 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

231 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

232 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
__©åibuã_puª__
;

237 
__END_NAMESPACE_STD


239 #ifde‡
__USE_GNU


242 
wch¨_t
 *
	$wcsch∫ul
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__wc
)

243 
__THROW
 
__©åibuã_puª__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ªje˘
)

250 
__THROW
 
__©åibuã_puª__
;

253 
size_t
 
	$wcs•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

254 
__THROW
 
__©åibuã_puª__
;

256 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, 
__c⁄°
 wch¨_à*
__ac˚±
)

258 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

259 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
,

260 
__c⁄°
 
wch¨_t
 *
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

263 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

264 
__THROW
 
__©åibuã_puª__
;

267 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

269 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

270 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

271 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

274 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

275 
__THROW
 
__©åibuã_puª__
;

279 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

280 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

281 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

284 
size_t
 
	$wc¶í
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

285 
__END_NAMESPACE_STD


287 #ifde‡
__USE_XOPEN


289 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

291 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

292 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

293 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

296 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

297 
__THROW
 
__©åibuã_puª__
;

301 #ifde‡
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Àn
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

304 
__THROW
 
__©åibuã_puª__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

313 "C++" 
__c⁄°
 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

317 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©åibuã_puª__
;

322 
	$wmemcmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

323 
__THROW
 
__©åibuã_puª__
;

326 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

327 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

331 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
, 
size_t
 
__n
)

332 
__THROW
;

335 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

336 
__END_NAMESPACE_STD


338 #ifde‡
__USE_GNU


341 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

342 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

343 
__THROW
;

347 
__BEGIN_NAMESPACE_STD


350 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

354 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

358 
	$mbsöô
 (
__c⁄°
 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

362 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

363 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

364 
mb°©e_t
 *
__p
Ë
__THROW
;

367 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

368 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

371 
size_t
 
	$__mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

372 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

373 
size_t
 
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

374 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

375 
__END_NAMESPACE_STD


377 #ifde‡
__USE_EXTERN_INLINES


383 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

384 
__exã∫_ölöe
 
wöt_t


385 
	`__NTH
 (
	$btowc
 (
__c
))

386 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

387 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

389 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

390 
__exã∫_ölöe
 

391 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

392 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

393 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

395 
__exã∫_ölöe
 
size_t


396 
__NTH
 (
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

397 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

398 {  (
__ps
 !
NULL


399 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

402 
__BEGIN_NAMESPACE_STD


405 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

406 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

407 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

411 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

412 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

413 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

414 
__END_NAMESPACE_STD


417 #ifdef 
__USE_XOPEN2K8


420 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

421 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

422 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

426 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

427 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

428 
size_t
 
__nwc
, size_à
__Àn
,

429 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

434 #ifde‡
__USE_XOPEN


436 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

440 
	$wcswidth
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

444 
__BEGIN_NAMESPACE_STD


447 
	$wc°od
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

448 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

449 
__END_NAMESPACE_STD


451 #ifde‡
__USE_ISOC99


452 
__BEGIN_NAMESPACE_C99


454 
	$wc°of
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

455 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

456 
	$wc°ﬁd
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

457 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

458 
__END_NAMESPACE_C99


462 
__BEGIN_NAMESPACE_STD


465 
	$wc°ﬁ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

466 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

470 
	$wc°oul
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

471 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

472 
__THROW
;

473 
__END_NAMESPACE_STD


475 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GNUC__
 && deföed 
__USE_GNU
)

476 
__BEGIN_NAMESPACE_C99


479 
__exãnsi⁄__


480 
	$wc°ﬁl
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

481 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

482 
__THROW
;

486 
__exãnsi⁄__


487 
	$wc°ouŒ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

488 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

489 
__ba£
Ë
__THROW
;

490 
__END_NAMESPACE_C99


493 #i‡
deföed
 
__GNUC__
 && deföed 
__USE_GNU


496 
__exãnsi⁄__


497 
	$wc°oq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

498 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

499 
__THROW
;

503 
__exãnsi⁄__


504 
	$wc°ouq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

505 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

506 
__ba£
Ë
__THROW
;

509 #ifde‡
__USE_GNU


523 
	~<xloˇÀ.h
>

527 
	$wc°ﬁ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

528 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

529 
__loˇÀ_t
 
__loc
Ë
__THROW
;

531 
	$wc°oul_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

532 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

533 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

535 
__exãnsi⁄__


536 
	$wc°ﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

537 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

538 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

540 
__exãnsi⁄__


541 
	$wc°ouŒ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

542 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

543 
__ba£
, 
__loˇÀ_t
 
__loc
)

544 
__THROW
;

546 
	$wc°od_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

547 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

548 
__THROW
;

550 
	$wc°of_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

551 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

552 
__THROW
;

554 
	$wc°ﬁd_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

555 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

556 
__loˇÀ_t
 
__loc
Ë
__THROW
;

560 #ifde‡
__USE_XOPEN2K8


563 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

564 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

568 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

569 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

570 
__THROW
;

577 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

580 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


581 
__BEGIN_NAMESPACE_STD


584 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

591 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

592 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

598 
	`w¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

601 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

602 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

603 
__THROW
 ;

609 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

610 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

611 
__gnuc_va_li°
 
__¨g
)

617 
	`vw¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

618 
__gnuc_va_li°
 
__¨g
)

622 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

623 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

624 
__gnuc_va_li°
 
__¨g
)

625 
__THROW
 ;

632 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

633 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

639 
	`wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

642 
	$swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

643 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

644 
__THROW
 ;

646 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

647 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

648 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

649 #ifde‡
__REDIRECT


653 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

654 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

655 
__isoc99_fwsˇnf
)

657 
	`__REDIRECT
 (
wsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

658 
__isoc99_wsˇnf
)

660 
	`__REDIRECT_NTH
 (
swsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

661 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

662 ...), 
__isoc99_swsˇnf
)

665 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

666 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

667 
	`__isoc99_wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

668 
	$__isoc99_swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

669 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

670 
__THROW
;

671 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

672 
	#wsˇnf
 
__isoc99_wsˇnf


	)

673 
	#swsˇnf
 
__isoc99_swsˇnf


	)

677 
__END_NAMESPACE_STD


680 #ifde‡
__USE_ISOC99


681 
__BEGIN_NAMESPACE_C99


686 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

687 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

688 
__gnuc_va_li°
 
__¨g
)

694 
	`vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

695 
__gnuc_va_li°
 
__¨g
)

698 
	$vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

699 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

700 
__gnuc_va_li°
 
__¨g
)

701 
__THROW
 ;

703 #i‡!
deföed
 
__USE_GNU
 \

704 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

705 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

706 #ifde‡
__REDIRECT


707 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

708 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

709 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

711 
	`__REDIRECT
 (
vwsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

712 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

714 
	`__REDIRECT_NTH
 (
vswsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

715 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

716 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

719 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

720 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

721 
__gnuc_va_li°
 
__¨g
);

722 
	`__isoc99_vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

723 
__gnuc_va_li°
 
__¨g
);

724 
	$__isoc99_vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

725 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

726 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

727 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

728 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

729 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

733 
__END_NAMESPACE_C99


737 
__BEGIN_NAMESPACE_STD


742 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

743 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

749 
wöt_t
 
	`gëwch¨
 ();

756 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

757 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

763 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

771 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

772 
__FILE
 *
__ª°ri˘
 
__°ªam
);

778 
	`Âutws
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

779 
__FILE
 *
__ª°ri˘
 
__°ªam
);

786 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

787 
__END_NAMESPACE_STD


790 #ifde‡
__USE_GNU


798 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

799 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

807 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

815 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

824 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

825 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

834 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

835 
__FILE
 *
__ª°ri˘
 
__°ªam
);

843 
	`Âutws_u∆ocked
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

844 
__FILE
 *
__ª°ri˘
 
__°ªam
);

848 
__BEGIN_NAMESPACE_C99


852 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

853 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

854 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

855 
__END_NAMESPACE_C99


857 #ifde‡
__USE_GNU


858 
	~<xloˇÀ.h
>

862 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

863 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

864 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

865 
__loˇÀ_t
 
__loc
Ë
__THROW
;

874 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


875 
	#__√ed_iswxxx


	)

876 
	~<w˘y≥.h
>

880 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


881 
	~<bôs/wch¨2.h
>

884 #ifde‡
__LDBL_COMPAT


885 
	~<bôs/wch¨-ldbl.h
>

888 
__END_DECLS


896 #unde‡
__√ed_mb°©e_t


897 #unde‡
__√ed_wöt_t


	@/usr/include/asm-generic/errno.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-gíîic/î∫o-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

111 
	#EHWPOISON
 133

	)

	@/usr/include/asm-generic/int-ll64.h

8 #i‚de‡
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/bô•îl⁄g.h
>

13 #i‚de‡
__ASSEMBLY__


19 
__sig√d__
 
	t__s8
;

20 
	t__u8
;

22 
__sig√d__
 
	t__s16
;

23 
	t__u16
;

25 
__sig√d__
 
	t__s32
;

26 
	t__u32
;

28 #ifde‡
__GNUC__


29 
__exãnsi⁄__
 
__sig√d__
 
	t__s64
;

30 
__exãnsi⁄__
 
	t__u64
;

32 
__sig√d__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm/posix_types_32.h

1 #i‚de‡
_ASM_X86_POSIX_TYPES_32_H


2 
	#_ASM_X86_POSIX_TYPES_32_H


	)

10 
	t__kî√l_öo_t
;

11 
	t__kî√l_mode_t
;

12 
	t__kî√l_∆ök_t
;

13 
	t__kî√l_off_t
;

14 
	t__kî√l_pid_t
;

15 
	t__kî√l_ùc_pid_t
;

16 
	t__kî√l_uid_t
;

17 
	t__kî√l_gid_t
;

18 
	t__kî√l_size_t
;

19 
	t__kî√l_ssize_t
;

20 
	t__kî√l_±rdiff_t
;

21 
	t__kî√l_time_t
;

22 
	t__kî√l_su£c⁄ds_t
;

23 
	t__kî√l_˛ock_t
;

24 
	t__kî√l_timî_t
;

25 
	t__kî√l_˛ockid_t
;

26 
	t__kî√l_daddr_t
;

27 * 
	t__kî√l_ˇddr_t
;

28 
	t__kî√l_uid16_t
;

29 
	t__kî√l_gid16_t
;

30 
	t__kî√l_uid32_t
;

31 
	t__kî√l_gid32_t
;

33 
	t__kî√l_ﬁd_uid_t
;

34 
	t__kî√l_ﬁd_gid_t
;

35 
	t__kî√l_ﬁd_dev_t
;

37 #ifde‡
__GNUC__


38 
	t__kî√l_loff_t
;

42 
	mvÆ
[2];

43 } 
	t__kî√l_fsid_t
;

	@/usr/include/asm/posix_types_64.h

1 #i‚de‡
_ASM_X86_POSIX_TYPES_64_H


2 
	#_ASM_X86_POSIX_TYPES_64_H


	)

10 
	t__kî√l_öo_t
;

11 
	t__kî√l_mode_t
;

12 
	t__kî√l_∆ök_t
;

13 
	t__kî√l_off_t
;

14 
	t__kî√l_pid_t
;

15 
	t__kî√l_ùc_pid_t
;

16 
	t__kî√l_uid_t
;

17 
	t__kî√l_gid_t
;

18 
	t__kî√l_size_t
;

19 
	t__kî√l_ssize_t
;

20 
	t__kî√l_±rdiff_t
;

21 
	t__kî√l_time_t
;

22 
	t__kî√l_su£c⁄ds_t
;

23 
	t__kî√l_˛ock_t
;

24 
	t__kî√l_timî_t
;

25 
	t__kî√l_˛ockid_t
;

26 
	t__kî√l_daddr_t
;

27 * 
	t__kî√l_ˇddr_t
;

28 
	t__kî√l_uid16_t
;

29 
	t__kî√l_gid16_t
;

31 #ifde‡
__GNUC__


32 
	t__kî√l_loff_t
;

36 
	mvÆ
[2];

37 } 
	t__kî√l_fsid_t
;

39 
	t__kî√l_ﬁd_uid_t
;

40 
	t__kî√l_ﬁd_gid_t
;

41 
__kî√l_uid_t
 
	t__kî√l_uid32_t
;

42 
__kî√l_gid_t
 
	t__kî√l_gid32_t
;

44 
	t__kî√l_ﬁd_dev_t
;

	@/usr/include/asm/sockios.h

1 
	~<asm-gíîic/sockios.h
>

	@/usr/include/bits/wchar-ldbl.h

20 #i‚de‡
_WCHAR_H


24 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fw¥ötf
);

27 
__LDBL_REDIR_DECL
 (
w¥ötf
);

28 
__LDBL_REDIR_DECL
 (
sw¥ötf
);

29 
__LDBL_REDIR_DECL
 (
vfw¥ötf
);

30 
__LDBL_REDIR_DECL
 (
vw¥ötf
);

31 
__LDBL_REDIR_DECL
 (
vsw¥ötf
);

32 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

33 && !
deföed
 
	g__REDIRECT
 \

34 && (
deföed
 
	g__STRICT_ANSI__
 || deföed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsˇnf
, 
__∆dbl___isoc99_fwsˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsˇnf
, 
__∆dbl___isoc99_wsˇnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsˇnf
, 
__∆dbl___isoc99_swsˇnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsˇnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsˇnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsˇnf
);

43 
__END_NAMESPACE_C99


46 #ifde‡
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd
, 
wc°od
);

49 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

50 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsˇnf
, 
__∆dbl___isoc99_vfwsˇnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsˇnf
, 
__∆dbl___isoc99_vwsˇnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsˇnf
, 
__∆dbl___isoc99_vswsˇnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsˇnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsˇnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsˇnf
);

59 
__END_NAMESPACE_C99


62 #ifde‡
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd_l
, 
wc°od_l
);

66 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


67 
	$__LDBL_REDIR_DECL
 (
__sw¥ötf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vsw¥ötf_chk
)

69 #i‡
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fw¥ötf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__w¥ötf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfw¥ötf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vw¥ötf_chk
)

	@/usr/include/bits/wchar2.h

20 #i‚de‡
_WCHAR_H


25 
wch¨_t
 *
	$__wmem˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

26 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1
Ë
__THROW
;

28 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_Æüs
,

29 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

30 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
),

31 
wmem˝y
);

32 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_chk_w¨n
,

33 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

34 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmem˝y_chk
)

36 
	`__w¨«âr
 ("wmemcpy called withÜength biggerÅhan size of destination "

39 
__exã∫_Æways_ölöe
 
wch¨_t
 *

40 
	`__NTH
 (
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__s2
,

41 
size_t
 
__n
))

43 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

45 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

46  
	`__wmem˝y_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

49 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

50  
	`__wmem˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

53  
	`__wmem˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch¨_t
 *
	$__wmemmove_chk
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

58 
size_t
 
__n
, size_à
__ns1
Ë
__THROW
;

59 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_Æüs
, (wch¨_à*
__s1
,

60 
__c⁄°
 
wch¨_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¨n
,

63 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

64 
size_t
 
__n
, size_à
__ns1
), 
__wmemmove_chk
)

65 
	`__w¨«âr
 ("wmemmove called withÜength biggerÅhan size of destination "

68 
__exã∫_Æways_ölöe
 
wch¨_t
 *

69 
	`__NTH
 (
	$wmemmove
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
, 
size_t
 
__n
))

71 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

73 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

74  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

75 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

77 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

78  
	`__wmemmove_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

79 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

81  
	`__wmemmove_Æüs
 (
__s1
, 
__s2
, 
__n
);

82 
	}
}

85 #ifde‡
__USE_GNU


86 
wch¨_t
 *
	$__wmemp˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

87 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

88 
size_t
 
__ns1
Ë
__THROW
;

89 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_Æüs
,

90 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

91 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
,

92 
size_t
 
__n
), 
wmemp˝y
);

93 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_chk_w¨n
,

94 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

95 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

96 
size_t
 
__ns1
), 
__wmemp˝y_chk
)

97 
	`__w¨«âr
 ("wmempcpy called withÜength biggerÅhan size of destination "

100 
__exã∫_Æways_ölöe
 
wch¨_t
 *

101 
	`__NTH
 (
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__s2
,

102 
size_t
 
__n
))

104 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

106 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

107  
	`__wmemp˝y_chk
 (
__s1
, 
__s2
, 
__n
,

108 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

110 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

111  
	`__wmemp˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

112 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

114  
	`__wmemp˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

115 
	}
}

119 
wch¨_t
 *
	$__wmem£t_chk
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

120 
size_t
 
__ns
Ë
__THROW
;

121 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_Æüs
, (wch¨_à*
__s
, wch¨_à
__c
,

122 
size_t
 
__n
), 
wmem£t
);

123 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¨n
,

124 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

125 
size_t
 
__ns
), 
__wmem£t_chk
)

126 
	`__w¨«âr
 ("wmemset called withÜength biggerÅhan size of destination "

129 
__exã∫_Æways_ölöe
 
wch¨_t
 *

130 
	`__NTH
 (
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
))

132 i‡(
	`__bos0
 (
__s
Ë!(
size_t
) -1)

134 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

135  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sË/  (
wch¨_t
));

137 i‡(
__n
 > 
	`__bos0
 (
__s
Ë/  (
wch¨_t
))

138  
	`__wmem£t_chk_w¨n
 (
__s
, 
__c
, 
__n
,

139 
	`__bos0
 (
__s
Ë/  (
wch¨_t
));

141  
	`__wmem£t_Æüs
 (
__s
, 
__c
, 
__n
);

142 
	}
}

145 
wch¨_t
 *
	$__wcs˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

146 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

147 
size_t
 
__n
Ë
__THROW
;

148 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcs˝y_Æüs
,

149 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

150 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcs˝y
);

152 
__exã∫_Æways_ölöe
 
wch¨_t
 *

153 
	`__NTH
 (
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
))

155 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

156  
	`__wcs˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

157  
	`__wcs˝y_Æüs
 (
__de°
, 
__§c
);

158 
	}
}

161 
wch¨_t
 *
	$__w˝˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

162 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

163 
size_t
 
__de°Àn
Ë
__THROW
;

164 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝˝y_Æüs
,

165 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

166 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
w˝˝y
);

168 
__exã∫_Æways_ölöe
 
wch¨_t
 *

169 
	`__NTH
 (
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
))

171 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

172  
	`__w˝˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

173  
	`__w˝˝y_Æüs
 (
__de°
, 
__§c
);

174 
	}
}

177 
wch¨_t
 *
	$__wc¢˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

178 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

179 
size_t
 
__de°Àn
Ë
__THROW
;

180 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_Æüs
,

181 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

182 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

183 
size_t
 
__n
), 
wc¢˝y
);

184 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_chk_w¨n
,

185 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

186 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

187 
size_t
 
__n
, size_à
__de°Àn
), 
__wc¢˝y_chk
)

188 
	`__w¨«âr
 ("wcsncpy called withÜength biggerÅhan size of destination "

191 
__exã∫_Æways_ölöe
 
wch¨_t
 *

192 
	`__NTH
 (
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
,

193 
size_t
 
__n
))

195 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

197 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

198  
	`__wc¢˝y_chk
 (
__de°
, 
__§c
, 
__n
,

199 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

200 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

201  
	`__wc¢˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

202 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

204  
	`__wc¢˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

205 
	}
}

208 
wch¨_t
 *
	$__w˝n˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

209 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

210 
size_t
 
__de°Àn
Ë
__THROW
;

211 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_Æüs
,

212 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

213 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

214 
size_t
 
__n
), 
w˝n˝y
);

215 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_chk_w¨n
,

216 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

217 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

218 
size_t
 
__n
, size_à
__de°Àn
), 
__w˝n˝y_chk
)

219 
	`__w¨«âr
 ("wcpncpy called withÜength biggerÅhan size of destination "

222 
__exã∫_Æways_ölöe
 
wch¨_t
 *

223 
	`__NTH
 (
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
,

224 
size_t
 
__n
))

226 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

228 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

229  
	`__w˝n˝y_chk
 (
__de°
, 
__§c
, 
__n
,

230 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

231 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

232  
	`__w˝n˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

233 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

235  
	`__w˝n˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

236 
	}
}

239 
wch¨_t
 *
	$__wcsˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

240 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

241 
size_t
 
__de°Àn
Ë
__THROW
;

242 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcsˇt_Æüs
,

243 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

244 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcsˇt
);

246 
__exã∫_Æways_ölöe
 
wch¨_t
 *

247 
	`__NTH
 (
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
))

249 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

250  
	`__wcsˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

251  
	`__wcsˇt_Æüs
 (
__de°
, 
__§c
);

252 
	}
}

255 
wch¨_t
 *
	$__wc¢ˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

256 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

257 
size_t
 
__n
, size_à
__de°Àn
Ë
__THROW
;

258 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢ˇt_Æüs
,

259 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

260 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
,

261 
size_t
 
__n
), 
wc¢ˇt
);

263 
__exã∫_Æways_ölöe
 
wch¨_t
 *

264 
	`__NTH
 (
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, 
__c⁄°
 wch¨_à*__ª°ri˘ 
__§c
,

265 
size_t
 
__n
))

267 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

268  
	`__wc¢ˇt_chk
 (
__de°
, 
__§c
, 
__n
,

269 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

270  
	`__wc¢ˇt_Æüs
 (
__de°
, 
__§c
, 
__n
);

271 
	}
}

274 
	$__sw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

275 
__Êag
, 
size_t
 
__s_Àn
,

276 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

277 
__THROW
 ;

279 
	`__REDIRECT_NTH_LDBL
 (
__sw¥ötf_Æüs
,

280 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

281 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...),

282 
sw¥ötf
);

284 #ifde‡
__va_¨g_∑ck


285 
__exã∫_Æways_ölöe
 

286 
	`__NTH
 (
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

287 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...))

289 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

290  
	`__sw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

291 
	`__bos
 (
__s
Ë/  (
wch¨_t
),

292 
__fmt
, 
	`__va_¨g_∑ck
 ());

293  
	`__sw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¨g_∑ck
 ());

294 
	}
}

295 #ñi‡!
deföed
 
__˝lu•lus


297 
	#sw¥ötf
(
s
, 
n
, ...) \

298 (
	`__bos
 (
s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

299 ? 
	`__sw¥ötf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

300 
	`__bos
 (
s
Ë/  (
wch¨_t
), 
__VA_ARGS__
) \

301 : 
	`sw¥ötf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

304 
	$__vsw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

305 
__Êag
, 
size_t
 
__s_Àn
,

306 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

307 
__gnuc_va_li°
 
__¨g
)

308 
__THROW
 ;

310 
	`__REDIRECT_NTH_LDBL
 (
__vsw¥ötf_Æüs
,

311 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

312 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
,

313 
__gnuc_va_li°
 
__≠
), 
vsw¥ötf
);

315 
__exã∫_Æways_ölöe
 

316 
	`__NTH
 (
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

317 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
))

319 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

320  
	`__vsw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

321 
	`__bos
 (
__s
Ë/  (
wch¨_t
), 
__fmt
, 
__≠
);

322  
	`__vsw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
__≠
);

323 
	}
}

326 #i‡
__USE_FORTIFY_LEVEL
 > 1

328 
__fw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

329 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

330 
__w¥ötf_chk
 (
__Êag
, 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

332 
__vfw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

333 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

334 
__gnuc_va_li°
 
__≠
);

335 
__vw¥ötf_chk
 (
__Êag
, 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

336 
__gnuc_va_li°
 
__≠
);

338 #ifde‡
__va_¨g_∑ck


339 
__exã∫_Æways_ölöe
 

340 
	$w¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...)

342  
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

343 
	}
}

345 
__exã∫_Æways_ölöe
 

346 
	$fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__c⁄°
 
wch¨_t
 *__ª°ri˘ 
__fmt
, ...)

348  
	`__fw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

349 
	`__va_¨g_∑ck
 ());

350 
	}
}

351 #ñi‡!
deföed
 
__˝lu•lus


352 
	#w¥ötf
(...) \

353 
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

354 
	#fw¥ötf
(
°ªam
, ...) \

355 
	`__fw¥ötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

358 
__exã∫_Æways_ölöe
 

359 
	$vw¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

361  
	`__vw¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

362 
	}
}

364 
__exã∫_Æways_ölöe
 

365 
	$vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

366 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

368  
	`__vfw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

369 
	}
}

373 
wch¨_t
 *
	$__fgëws_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

374 
__FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

375 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_Æüs
,

376 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

377 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws
Ë
__wur
;

378 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_chk_w¨n
,

379 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

380 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgëws_chk
)

381 
__wur
 
	`__w¨«âr
 ("fgetws called with bigger sizeÅhanÜength "

384 
__exã∫_Æways_ölöe
 
__wur
 
wch¨_t
 *

385 
	$fgëws
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

387 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

389 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

390  
	`__fgëws_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

391 
__n
, 
__°ªam
);

393 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

394  
	`__fgëws_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

395 
__n
, 
__°ªam
);

397  
	`__fgëws_Æüs
 (
__s
, 
__n
, 
__°ªam
);

398 
	}
}

400 #ifde‡
__USE_GNU


401 
wch¨_t
 *
	$__fgëws_u∆ocked_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
,

402 
__n
, 
__FILE
 *
__ª°ri˘
 
__°ªam
)

403 
__wur
;

404 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_Æüs
,

405 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

406 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws_u∆ocked
)

407 
__wur
;

408 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_chk_w¨n
,

409 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

410 
__FILE
 *
__ª°ri˘
 
__°ªam
),

411 
__fgëws_u∆ocked_chk
)

412 
__wur
 
	`__w¨«âr
 ("fgetws_unlocked called with bigger sizeÅhanÜength "

415 
__exã∫_Æways_ölöe
 
__wur
 
wch¨_t
 *

416 
	$fgëws_u∆ocked
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

418 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

420 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

421  
	`__fgëws_u∆ocked_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

422 
__n
, 
__°ªam
);

424 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

425  
	`__fgëws_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

426 
__n
, 
__°ªam
);

428  
	`__fgëws_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

429 
	}
}

433 
size_t
 
	$__w¸tomb_chk
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

434 
mb°©e_t
 *
__ª°ri˘
 
__p
,

435 
size_t
 
__buÊí
Ë
__THROW
 
__wur
;

436 
size_t
 
	`__REDIRECT_NTH
 (
__w¸tomb_Æüs
,

437 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

438 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
w¸tomb
Ë
__wur
;

440 
__exã∫_Æways_ölöe
 
__wur
 
size_t


441 
	`__NTH
 (
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

442 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

447 
	#__WCHAR_MB_LEN_MAX
 16

	)

448 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__WCHAR_MB_LEN_MAX


451 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

452  
	`__w¸tomb_chk
 (
__s
, 
__wch¨
, 
__ps
, 
	`__bos
 (__s));

453  
	`__w¸tomb_Æüs
 (
__s
, 
__wch¨
, 
__ps
);

454 
	}
}

457 
size_t
 
	$__mb§towcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

458 
__c⁄°
 **
__ª°ri˘
 
__§c
,

459 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

460 
size_t
 
__d°Àn
Ë
__THROW
;

461 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_Æüs
,

462 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

463 
__c⁄°
 **
__ª°ri˘
 
__§c
,

464 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

465 
mb§towcs
);

466 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_chk_w¨n
,

467 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

468 
__c⁄°
 **
__ª°ri˘
 
__§c
,

469 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

470 
size_t
 
__d°Àn
), 
__mb§towcs_chk
)

471 
	`__w¨«âr
 ("mbsrtowcs called with dst buffer smallerÅhanÜen "

474 
__exã∫_Æways_ölöe
 
size_t


475 
	`__NTH
 (
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 **__ª°ri˘ 
__§c
,

476 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

478 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

480 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

481  
	`__mb§towcs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

482 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

484 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

485  
	`__mb§towcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

486 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

488  
	`__mb§towcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

489 
	}
}

492 
size_t
 
	$__wc§tombs_chk
 (*
__ª°ri˘
 
__d°
,

493 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

494 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

495 
size_t
 
__d°Àn
Ë
__THROW
;

496 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_Æüs
,

497 (*
__ª°ri˘
 
__d°
,

498 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

499 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

500 
wc§tombs
);

501 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_chk_w¨n
,

502 (*
__ª°ri˘
 
__d°
,

503 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

504 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

505 
size_t
 
__d°Àn
), 
__wc§tombs_chk
)

506 
	`__w¨«âr
 ("wcsrtombs called with dst buffer smallerÅhanÜen");

508 
__exã∫_Æways_ölöe
 
size_t


509 
	`__NTH
 (
	$wc§tombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 **__ª°ri˘ 
__§c
,

510 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

512 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

514 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

515  
	`__wc§tombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

517 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

518  
	`__wc§tombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

520  
	`__wc§tombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

521 
	}
}

524 #ifde‡
__USE_GNU


525 
size_t
 
	$__mb¢πowcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

526 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

527 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

528 
size_t
 
__d°Àn
Ë
__THROW
;

529 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_Æüs
,

530 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

531 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

532 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

533 
mb¢πowcs
);

534 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_chk_w¨n
,

535 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

536 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

537 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

538 
size_t
 
__d°Àn
), 
__mb¢πowcs_chk
)

539 
	`__w¨«âr
 ("mbsnrtowcs called with dst buffer smallerÅhanÜen "

542 
__exã∫_Æways_ölöe
 
size_t


543 
	`__NTH
 (
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, 
__c⁄°
 **__ª°ri˘ 
__§c
,

544 
size_t
 
__nmc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

546 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

548 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

549  
	`__mb¢πowcs_chk
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

550 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

552 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

553  
	`__mb¢πowcs_chk_w¨n
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

554 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

556  
	`__mb¢πowcs_Æüs
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
);

557 
	}
}

560 
size_t
 
	$__wc¢πombs_chk
 (*
__ª°ri˘
 
__d°
,

561 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

562 
size_t
 
__nwc
, size_à
__Àn
,

563 
mb°©e_t
 *
__ª°ri˘
 
__ps
, 
size_t
 
__d°Àn
)

564 
__THROW
;

565 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_Æüs
,

566 (*
__ª°ri˘
 
__d°
,

567 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

568 
size_t
 
__nwc
, size_à
__Àn
,

569 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
wc¢πombs
);

570 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_chk_w¨n
,

571 (*
__ª°ri˘
 
__d°
,

572 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

573 
size_t
 
__nwc
, size_à
__Àn
,

574 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

575 
size_t
 
__d°Àn
), 
__wc¢πombs_chk
)

576 
	`__w¨«âr
 ("wcsnrtombs called with dst buffer smallerÅhanÜen");

578 
__exã∫_Æways_ölöe
 
size_t


579 
	`__NTH
 (
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
, 
__c⁄°
 
wch¨_t
 **__ª°ri˘ 
__§c
,

580 
size_t
 
__nwc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

582 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

584 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

585  
	`__wc¢πombs_chk
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

586 
	`__bos
 (
__d°
));

588 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

589  
	`__wc¢πombs_chk_w¨n
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

590 
	`__bos
 (
__d°
));

592  
	`__wc¢πombs_Æüs
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
);

593 
	}
}

	@/usr/include/gnu/option-groups.h

10 #i‚de‡
__GNU_OPTION_GROUPS_H


11 
	#__GNU_OPTION_GROUPS_H


	)

13 
	#__OPTION_EGLIBC_ADVANCED_INET6
 1

	)

14 
	#__OPTION_EGLIBC_BACKTRACE
 1

	)

15 
	#__OPTION_EGLIBC_BIG_MACROS
 1

	)

16 
	#__OPTION_EGLIBC_BSD
 1

	)

17 
	#__OPTION_EGLIBC_CATGETS
 1

	)

18 
	#__OPTION_EGLIBC_CHARSETS
 1

	)

19 
	#__OPTION_EGLIBC_CRYPT
 1

	)

20 
	#__OPTION_EGLIBC_CRYPT_UFC
 1

	)

21 
	#__OPTION_EGLIBC_CXX_TESTS
 1

	)

22 
	#__OPTION_EGLIBC_DB_ALIASES
 1

	)

23 
	#__OPTION_EGLIBC_ENVZ
 1

	)

24 
	#__OPTION_EGLIBC_FCVT
 1

	)

25 
	#__OPTION_EGLIBC_FMTMSG
 1

	)

26 
	#__OPTION_EGLIBC_FSTAB
 1

	)

27 
	#__OPTION_EGLIBC_FTRAVERSE
 1

	)

28 
	#__OPTION_EGLIBC_GETLOGIN
 1

	)

29 
	#__OPTION_EGLIBC_IDN
 1

	)

30 
	#__OPTION_EGLIBC_INET
 1

	)

31 
	#__OPTION_EGLIBC_INET_ANL
 1

	)

32 
	#__OPTION_EGLIBC_LIBM
 1

	)

33 
	#__OPTION_EGLIBC_LIBM_BIG
 1

	)

34 
	#__OPTION_EGLIBC_LOCALES
 1

	)

35 
	#__OPTION_EGLIBC_LOCALE_CODE
 1

	)

36 
	#__OPTION_EGLIBC_MEMUSAGE
 1

	)

37 
	#__OPTION_EGLIBC_NIS
 1

	)

38 
	#__OPTION_EGLIBC_NSSWITCH
 1

	)

39 
	#__OPTION_EGLIBC_RCMD
 1

	)

40 
	#__OPTION_EGLIBC_RTLD_DEBUG
 1

	)

41 
	#__OPTION_EGLIBC_SPAWN
 1

	)

42 
	#__OPTION_EGLIBC_STREAMS
 1

	)

43 
	#__OPTION_EGLIBC_SUNRPC
 1

	)

44 
	#__OPTION_EGLIBC_UTMP
 1

	)

45 
	#__OPTION_EGLIBC_UTMPX
 1

	)

46 
	#__OPTION_EGLIBC_WORDEXP
 1

	)

47 
	#__OPTION_POSIX_C_LANG_WIDE_CHAR
 1

	)

48 
	#__OPTION_POSIX_REGEXP
 1

	)

49 
	#__OPTION_POSIX_REGEXP_GLIBC
 1

	)

50 
	#__OPTION_POSIX_WIDE_CHAR_DEVICE_IO
 1

	)

	@/usr/include/linux/ioctl.h

1 #i‚de‡
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/io˘l.h
>

	@/usr/include/wctype.h

24 #i‚de‡
_WCTYPE_H


26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 #i‚de‡
__√ed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__√ed_wöt_t


	)

34 
	~<wch¨.h
>

38 #i‚de‡
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #unde‡
__√ed_iswxxx


47 #i‚de‡
__iswxxx_deföed


48 
	#__iswxxx_deföed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	tw˘y≥_t
;

54 
	g__END_NAMESPACE_C99


56 #i‚de‡
_ISwbô


61 
	~<ídün.h
>

62 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


63 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

65 
	#_ISwbô
(
bô
) \

66 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

74 
	m__ISwuµî
 = 0,

75 
	m__ISwlowî
 = 1,

76 
	m__ISwÆpha
 = 2,

77 
	m__ISwdigô
 = 3,

78 
	m__ISwxdigô
 = 4,

79 
	m__ISw•a˚
 = 5,

80 
	m__ISw¥öt
 = 6,

81 
	m__ISwgøph
 = 7,

82 
	m__ISwbœnk
 = 8,

83 
	m__ISw˙ål
 = 9,

84 
	m__ISwpun˘
 = 10,

85 
	m__ISwÆnum
 = 11,

87 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

88 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

89 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

90 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

91 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

92 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

93 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

94 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

95 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

96 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

97 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

98 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

118 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

121 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

125 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

129 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

134 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

137 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

142 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

147 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

152 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

157 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

162 #ifde‡
__USE_ISOC99


163 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

172 
w˘y≥_t
 
	$w˘y≥
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

176 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__c⁄°
 
	t__öt32_t
 *
	tw˘øns_t
;

188 
__END_NAMESPACE_C99


189 #ifde‡
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifde‡
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
w˘øns_t
 
	$w˘øns
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

222 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifde‡
__USE_XOPEN2K8


227 
	~<xloˇÀ.h
>

231 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

237 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

240 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

244 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

248 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

253 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

256 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

261 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

266 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

271 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

276 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

281 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

285 
w˘y≥_t
 
	$w˘y≥_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

286 
__THROW
;

290 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

291 
__THROW
;

299 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

302 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

306 
w˘øns_t
 
	$w˘øns_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

307 
__THROW
;

310 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

311 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

315 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@/usr/include/asm-generic/sockios.h

1 #i‚de‡
__ASM_GENERIC_SOCKIOS_H


2 
	#__ASM_GENERIC_SOCKIOS_H


	)

5 
	#FIOSETOWN
 0x8901

	)

6 
	#SIOCSPGRP
 0x8902

	)

7 
	#FIOGETOWN
 0x8903

	)

8 
	#SIOCGPGRP
 0x8904

	)

9 
	#SIOCATMARK
 0x8905

	)

10 
	#SIOCGSTAMP
 0x8906

	)

11 
	#SIOCGSTAMPNS
 0x8907

	)

	@/usr/include/asm/bitsperlong.h

1 #i‚de‡
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifde‡
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-gíîic/bô•îl⁄g.h
>

	@/usr/include/asm/ioctl.h

1 
	~<asm-gíîic/io˘l.h
>

	@/usr/include/asm-generic/bitsperlong.h

1 #i‚de‡
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #i‚de‡
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@/usr/include/asm-generic/ioctl.h

1 #i‚de‡
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #i‚de‡
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #i‚de‡
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

53 #i‚de‡
_IOC_NONE


54 
	#_IOC_NONE
 0U

	)

57 #i‚de‡
_IOC_WRITE


58 
	#_IOC_WRITE
 1U

	)

61 #i‚de‡
_IOC_READ


62 
	#_IOC_READ
 2U

	)

65 
	#_IOC
(
dú
,
ty≥
,
ƒ
,
size
) \

66 (((
dú
Ë<< 
_IOC_DIRSHIFT
) | \

67 ((
ty≥
Ë<< 
_IOC_TYPESHIFT
) | \

68 ((
ƒ
Ë<< 
_IOC_NRSHIFT
) | \

69 ((
size
Ë<< 
_IOC_SIZESHIFT
))

	)

71 
	#_IOC_TYPECHECK
(
t
Ë(—))

	)

74 
	#_IO
(
ty≥
,
ƒ
Ë
	`_IOC
(
_IOC_NONE
,—y≥),“r),0)

	)

75 
	#_IOR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

76 
	#_IOW
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

77 
	#_IOWR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

78 
	#_IOR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(size))

	)

79 
	#_IOW_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(size))

	)

80 
	#_IOWR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(size))

	)

83 
	#_IOC_DIR
(
ƒ
Ë((“rË>> 
_IOC_DIRSHIFT
Ë& 
_IOC_DIRMASK
)

	)

84 
	#_IOC_TYPE
(
ƒ
Ë((“rË>> 
_IOC_TYPESHIFT
Ë& 
_IOC_TYPEMASK
)

	)

85 
	#_IOC_NR
(
ƒ
Ë((“rË>> 
_IOC_NRSHIFT
Ë& 
_IOC_NRMASK
)

	)

86 
	#_IOC_SIZE
(
ƒ
Ë((“rË>> 
_IOC_SIZESHIFT
Ë& 
_IOC_SIZEMASK
)

	)

90 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

91 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

92 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
Ë<< 
_IOC_DIRSHIFT
)

	)

93 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

94 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@
1
.
1
/usr/include
232
5885
inc/epon_oam_cli.h
inc/epon_oam_config.h
inc/epon_oam_db.h
inc/epon_oam_dbg.h
inc/epon_oam_err.h
inc/epon_oam_msgq.h
inc/epon_oam_rx.h
inc/epon_oam_tx.h
inc/user/bdcom.h
inc/user/ctc_2_1.h
inc/user/ctc_oam.h
inc/user/ctc_oam_upgrade.h
inc/user/ctc_oam_var.h
inc/user/defs.h
inc/user/drv_lw.h
inc/user/fiberhome.h
inc/user/h3c.h
inc/user/huawei.h
inc/user/oam.h
inc/user/oam_alarm.h
inc/user/oam_lw.h
inc/user/opconn_usr_ioctrl.h
inc/user/raisecom.h
inc/user/stats.h
inc/user/system.h
inc/user/yotc.h
inc/user/zte.h
multicast/h/errors.h
multicast/h/mc_control.h
multicast/h/opapi_comm_inet.h
multicast/h/opapi_comm_list.h
multicast/h/opapi_comm_tree.h
multicast/h/opl_ethernet.h
multicast/h/vos_alloc.h
multicast/h/vos_bitmap.h
multicast/h/vos_config.h
multicast/h/vos_hash.h
multicast/h/vos_io.h
multicast/h/vos_libc.h
multicast/h/vos_macros.h
multicast/h/vos_match.h
multicast/h/vos_msq.h
multicast/h/vos_sync.h
multicast/h/vos_thread.h
multicast/h/vos_time.h
multicast/h/vos_timer.h
multicast/h/vos_types.h
multicast/src/mc_control.c
multicast/src/mc_control_dal.c
multicast/src/opapi_comm_list.c
multicast/src/vos_bitmap.c
multicast/src/vos_config.c
multicast/src/vos_hash.c
multicast/src/vos_io.c
multicast/src/vos_libc.c
multicast/src/vos_match.c
multicast/src/vos_msq.c
multicast/src/vos_sync.c
multicast/src/vos_thread.c
multicast/src/vos_time.c
multicast/src/vos_timer.c
src/epon_oam_cli.c
src/epon_oam_db.c
src/epon_oam_dbg.c
src/epon_oam_main.c
src/epon_oam_rx.c
src/epon_oam_state.c
src/epon_oam_tx.c
src/user/ctc_oam.c
src/user/ctc_oam_alarmtbl.c
src/user/ctc_oam_upgrade.c
src/user/ctc_oam_var.c
src/user/ctc_oam_vartbl.c
src/user/drv_lw.c
src/user/oam_alarm.c
src/vendor/bdcom.c
src/vendor/fiberhome.c
src/vendor/h3c.c
src/vendor/huawei.c
src/vendor/raisecom.c
src/vendor/yotc.c
src/vendor/zte.c
/usr/include/arpa/inet.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/linux/filter.h
/usr/include/linux/if_ether.h
/usr/include/linux/if_packet.h
/usr/include/linux/netlink.h
/usr/include/linux/reboot.h
/usr/include/malloc.h
/usr/include/net/if.h
/usr/include/netinet/in.h
/usr/include/pthread.h
/usr/include/sched.h
/usr/include/semaphore.h
/usr/include/signal.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/sys/file.h
/usr/include/sys/ioctl.h
/usr/include/sys/ipc.h
/usr/include/sys/msg.h
/usr/include/sys/param.h
/usr/include/sys/shm.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/time.h
/usr/include/sys/types.h
/usr/include/sys/wait.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/bits/byteswap.h
/usr/include/bits/confname.h
/usr/include/bits/dirent.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/fcntl.h
/usr/include/bits/fcntl2.h
/usr/include/bits/in.h
/usr/include/bits/ioctl-types.h
/usr/include/bits/ioctls.h
/usr/include/bits/ipc.h
/usr/include/bits/ipctypes.h
/usr/include/bits/msq.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/sched.h
/usr/include/bits/semaphore.h
/usr/include/bits/setjmp.h
/usr/include/bits/shm.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/socket.h
/usr/include/bits/socket2.h
/usr/include/bits/stat.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/unistd.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wordsize.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/limits.h
/usr/include/linux/limits.h
/usr/include/linux/param.h
/usr/include/linux/socket.h
/usr/include/linux/types.h
/usr/include/stdint.h
/usr/include/sys/resource.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/sys/ttydefaults.h
/usr/include/sys/ucontext.h
/usr/include/sys/uio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/asm/ioctls.h
/usr/include/asm/param.h
/usr/include/asm/socket.h
/usr/include/asm/types.h
/usr/include/bits/endian.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/predefs.h
/usr/include/bits/resource.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/sockaddr.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/timex.h
/usr/include/bits/typesizes.h
/usr/include/bits/uio.h
/usr/include/bits/wchar.h
/usr/include/bits/xopen_lim.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/linux/posix_types.h
/usr/include/sys/cdefs.h
/usr/include/asm-generic/ioctls.h
/usr/include/asm-generic/param.h
/usr/include/asm-generic/socket.h
/usr/include/asm-generic/types.h
/usr/include/asm/errno.h
/usr/include/asm/posix_types.h
/usr/include/bits/libc-lock.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/linux/stddef.h
/usr/include/wchar.h
/usr/include/asm-generic/errno.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm/posix_types_32.h
/usr/include/asm/posix_types_64.h
/usr/include/asm/sockios.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/gnu/option-groups.h
/usr/include/linux/ioctl.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
/usr/include/asm-generic/sockios.h
/usr/include/asm/bitsperlong.h
/usr/include/asm/ioctl.h
/usr/include/asm-generic/bitsperlong.h
/usr/include/asm-generic/ioctl.h
