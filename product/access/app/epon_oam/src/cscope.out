cscope 15 $HOME/EPN/ZG/hexicom/trunk/product/access/app/epon_oam/src -q 0000010520 0001318894
	@epon_oam_cli.c

26 
	~<dio.h
>

27 
	~<rg.h
>

28 
	~<o.h
>

29 
	~<sys/tys.h
>

30 
	~<sys/c.h
>

31 
	~<sys/msg.h
>

32 
	~<sys/shm.h
>

34 
	~"_m_cfig.h
"

35 
	~"_m_r.h
"

36 
	~"_m_msgq.h
"

37 
	~"_m_i.h
"

42 
	#EPON_OAM_CLI_BRANCH
 0x01

	)

43 
	#EPON_OAM_CLI_LEAF
 0x02

	)

44 
	#EPON_OAM_CLI_END
 0x03

	)

46 
	sm_i__s
 {

47 
	mcmd
[16];

48 
	mty
;

50 
m_i__s
 *
	mpSubTe
;

51 (*
	mi_oc
)(
	mgc
, *
	mgv
[], 
m_i_t
 *
	mpCli
);

52 } 
	mu
;

53 } 
	tm_i__t
;

59 
	gmsgQId
;

60 
m_i__t
 
	giRoCˬ
[] = {

63 
EPON_OAM_CLI_LEAF
,

64 { .
i_oc
 = 
_m_i_cou_r
 }

68 
	gEPON_OAM_CLI_END
,

69 { 
	gNULL
 }

73 
m_i__t
 
	giRoGCtc
[] = {

76 
EPON_OAM_CLI_LEAF
,

77 { .
i_oc
 = 
_m_i_cLoid_g
 }

81 
	gEPON_OAM_CLI_END
,

82 { 
	gNULL
 }

86 
m_i__t
 
	giRoG
[] = {

89 
EPON_OAM_CLI_LEAF
,

90 { .
i_oc
 = 
_m_i_cfig_g
 }

94 
	gEPON_OAM_CLI_BRANCH
,

95 { 
	giRoGCtc
 }

99 
	gEPON_OAM_CLI_LEAF
,

100 { .
	gi_oc
 = 
_m_i_cou_g
 }

104 
	gEPON_OAM_CLI_LEAF
,

105 { .
	gi_oc
 = 
_m_i_dbgExt_g
 }

109 
	gEPON_OAM_CLI_LEAF
,

110 { .
	gi_oc
 = 
_m_i_dbgFg_g
 }

114 
	gEPON_OAM_CLI_LEAF
,

115 { .
	gi_oc
 = 
_m_i_ov_g
 }

119 
	gEPON_OAM_CLI_LEAF
,

120 { .
	gi_oc
 = 
_m_i_mInfo_g
 }

124 
	gEPON_OAM_CLI_LEAF
,

125 { .
	gi_oc
 = 
_m_i_mS_g
 }

129 
	gEPON_OAM_CLI_END
,

130 { 
	gNULL
 }

134 
m_i__t
 
	giRoSCfig
[] = {

137 
EPON_OAM_CLI_LEAF
,

138 { .
i_oc
 = 
_m_i_cfigAutoReg_t
 }

142 
	gEPON_OAM_CLI_LEAF
,

143 { .
	gi_oc
 = 
_m_i_cfigEvt_t
 }

147 
	gEPON_OAM_CLI_LEAF
,

148 { .
	gi_oc
 = 
_m_i_cfigHdov_t
 }

152 
	gEPON_OAM_CLI_LEAF
,

153 { .
	gi_oc
 = 
_m_i_cfigMac_t
 }

157 
	gEPON_OAM_CLI_LEAF
,

158 { .
	gi_oc
 = 
_m_i_cfigOam_t
 }

162 
	gEPON_OAM_CLI_END
,

163 { 
	gNULL
 }

167 
m_i__t
 
	giRoSOamInfo
[] = {

170 
EPON_OAM_CLI_LEAF
,

171 { .
i_oc
 = 
_m_i_mInfoVdOui_t
 }

175 
	gEPON_OAM_CLI_END
,

176 { 
	gNULL
 }

180 
m_i__t
 
	giRoSCtc
[] = {

183 
EPON_OAM_CLI_LEAF
,

184 { .
i_oc
 = 
_m_i_cLoid_t
 }

188 
	gEPON_OAM_CLI_END
,

189 { 
	gNULL
 }

193 
m_i__t
 
	giRoS
[] = {

196 
EPON_OAM_CLI_BRANCH
,

197 { 
iRoSCfig
 }

201 
EPON_OAM_CLI_BRANCH
,

202 { 
iRoSCtc
 }

206 
EPON_OAM_CLI_LEAF
,

207 { .
i_oc
 = 
_m_i_dbgExt_t
 }

211 
	gEPON_OAM_CLI_LEAF
,

212 { .
	gi_oc
 = 
_m_i_dbgFg_t
 }

216 
	gEPON_OAM_CLI_LEAF
,

217 { .
	gi_oc
 = 
_m_i_ov_t
 }

221 
	gEPON_OAM_CLI_BRANCH
,

222 { 
	giRoSOamInfo
 }

226 
	gEPON_OAM_CLI_END
,

227 { 
	gNULL
 }

231 
m_i__t
 
	giRoTrigg
[] = {

234 
EPON_OAM_CLI_LEAF
,

235 { .
i_oc
 = 
_m_i_gi_igg
 }

239 
	gEPON_OAM_CLI_END
,

240 { 
	gNULL
 }

244 
m_i__t
 
	giRo
[] = {

247 
EPON_OAM_CLI_BRANCH
,

248 { 
iRoCˬ
 }

252 
EPON_OAM_CLI_BRANCH
,

253 { 
iRoG
 }

257 
EPON_OAM_CLI_BRANCH
,

258 { 
iRoS
 }

262 
EPON_OAM_CLI_BRANCH
,

263 { 
iRoTrigg
 }

267 
EPON_OAM_CLI_END
,

268 { 
NULL
 }

283 
	$_m_i_cfigAutoReg_t
(

284 
gc
,

285 *
gv
[],

286 
m_i_t
 *
pCli
)

288 
idIdx
;

290 if(
gc
 >= 3)

292 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFGAUTOREG_SET
;

293 
idIdx
 = 
	`oi
(
gv
[1]);

294 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

296 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

299 
pCli
->
u
.
iAutoReg
.
idIdx
 =lidIdx;

301 if(
	`rcmp
(
gv
[2], "enable") == 0)

303 if(
gc
 == 4)

305 
pCli
->
u
.
iAutoReg
.
autoRegEb
 = 1;

306 
pCli
->
u
.
iAutoReg
.
autoRegTime
 = 
	`oi
(
gv
[3]);

310 
	`tf
("[enable <autoreg-interval>|disable]\n");

313 if(
	`rcmp
(
gv
[2], "disable") == 0)

315 if(
gc
 == 3)

317 
pCli
->
u
.
iAutoReg
.
autoRegEb
 = 0;

321 
	`tf
("[enable <autoreg-interval>|disable]\n");

326 
	`tf
("%<idIdx> [ab <auteg-rv>|dib]\n", 
gv
[0]);

333 
	`tf
("%<idIdx> [ab <auteg-rv>|dib]\n", 
gv
[0]);

336 
	}
}

338 
	$_m_i_cfigEvt_t
(

339 
gc
,

340 *
gv
[],

341 
m_i_t
 *
pCli
)

343 
idIdx
;

345 if(
gc
 == 4)

347 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFGEVENT_SET
;

348 
idIdx
 = 
	`oi
(
gv
[1]);

349 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

351 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

354 
pCli
->
u
.
iEvt
.
idIdx
 =lidIdx;

355 
pCli
->
u
.
iEvt
.
evtRC
 = 
	`oi
(
gv
[2]);

356 
pCli
->
u
.
iEvt
.
evtRIvl
 = 
	`oi
(
gv
[3]);

362 
	`tf
("%<idIdx> <-t> <-rv>\n", 
gv
[0]);

365 
	}
}

367 
	$_m_i_cfigHdov_t
(

368 
gc
,

369 *
gv
[],

370 
m_i_t
 *
pCli
)

372 
idIdx
;

374 if(
gc
 == 4)

376 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFGHOLDOVER_SET
;

377 
idIdx
 = 
	`oi
(
gv
[1]);

378 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

380 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

384 if(
	`rcmp
(
gv
[2], "enable") == 0)

386 
pCli
->
u
.
iHdov
.
hdovEb
 = 1;

388 if(
	`rcmp
(
gv
[2], "disable") == 0)

390 
pCli
->
u
.
iHdov
.
hdovEb
 = 0;

393 
pCli
->
u
.
iHdov
.
idIdx
 =lidIdx;

394 
pCli
->
u
.
iHdov
.
hdovTime
 = 
	`oi
(
gv
[3]);

400 
	`tf
("%<idIdx> [ab|dib] <hdov-time>\n", 
gv
[0]);

403 
	}
}

405 
	$_m_i_cfigMac_t
(

406 
gc
,

407 *
gv
[],

408 
m_i_t
 *
pCli
)

410 
i
;

411 *
dP
, *
pch
;

412 
idIdx
;

414 if(
gc
 == 3)

416 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFGMAC_SET
;

417 
idIdx
 = 
	`oi
(
gv
[1]);

418 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

420 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

423 
pCli
->
u
.
iMac
.
idIdx
 =lidIdx;

426 
pch
 = 
dP
 = 
gv
[2];

427 
pch
 = 
	`rchr
(pch, ':');

428 
pch
 !
NULL
)

430 *
pch
 = ' ';

431 
pch
 = 
	`rchr
(pch, ':');

434 
i
 = 0;i < 6;i++)

436 
pCli
->
u
.
iMac
.
mac
[
i
] = 
	`
(
dP
, &endPtr, 16);

443 
	`tf
("%<idIdx> <mac-addr>\n", 
gv
[0]);

444 
	`tf
("Ex: %3 00:11:22:33:44:55\n", 
gv
[0]);

447 
	}
}

449 
	$_m_i_cfigOam_t
(

450 
gc
,

451 *
gv
[],

452 
m_i_t
 *
pCli
)

454 
idIdx
;

456 if(
gc
 == 3)

458 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFGOAM_SET
;

459 
idIdx
 = 
	`oi
(
gv
[1]);

460 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

462 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

465 
pCli
->
u
.
iEb
.
idIdx
 =lidIdx;

467 if(
	`rcmp
(
gv
[2], "enable") == 0)

469 
pCli
->
u
.
iEb
.
ab
 = 1;

471 if(
	`rcmp
(
gv
[2], "disable") == 0)

473 
pCli
->
u
.
iEb
.
ab
 = 0;

477 
	`tf
("[enable | disable]\n");

485 
	`tf
("%<idIdx> [ab | dib]\n", 
gv
[0]);

488 
	}
}

490 
	$_m_i_cfig_g
(

491 
gc
,

492 *
gv
[],

493 
m_i_t
 *
pCli
)

495 
idIdx
;

497 if(
gc
 == 2)

499 
pCli
->
iTy
 = 
EPON_OAM_CLI_CFG_GET
;

500 
idIdx
 = 
	`oi
(
gv
[1]);

501 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

503 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

506 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

512 
	`tf
("%<idIdx>\n", 
gv
[0]);

517 
	}
}

519 
	$_m_i_cou_r
(

520 
gc
,

521 *
gv
[],

522 
m_i_t
 *
pCli
)

524 
idIdx
;

526 if(
gc
 == 2)

528 
pCli
->
iTy
 = 
EPON_OAM_CLI_COUNTER_CLEAR
;

529 
idIdx
 = 
	`oi
(
gv
[1]);

530 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

532 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

535 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

541 
	`tf
("%<idIdx>\n", 
gv
[0]);

546 
	}
}

548 
	$_m_i_cou_g
(

549 
gc
,

550 *
gv
[],

551 
m_i_t
 *
pCli
)

553 
idIdx
;

555 if(
gc
 == 2)

557 
pCli
->
iTy
 = 
EPON_OAM_CLI_COUNTER_GET
;

558 
idIdx
 = 
	`oi
(
gv
[1]);

559 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

561 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

564 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

570 
	`tf
("%<idIdx>\n", 
gv
[0]);

575 
	}
}

577 
	$_m_i_dbgFg_t
(

578 
gc
,

579 *
gv
[],

580 
m_i_t
 *
pCli
)

582 if(
gc
 == 2)

584 
pCli
->
iTy
 = 
EPON_OAM_CLI_DBG_SET
;

585 
pCli
->
u
.
iDbg
.
ag
 = 
	`
(
gv
[1], 
NULL
, 16);

591 
	`tf
("%<hex-vue>\n", 
gv
[0]);

592 
	`tf
("EPON_OAM_DBGFLAG_NONE (0x00000000UL)\n");

593 
	`tf
("EPON_OAM_DBGFLAG_INFO (0x00000001UL)\n");

594 
	`tf
("EPON_OAM_DBGFLAG_WARN (0x00000002UL)\n");

595 
	`tf
("EPON_OAM_DBGFLAG_ERROR (0x00000004UL)\n");

596 
	`tf
("EPON_OAM_DBGFLAG_DUMP (0x00000008UL)\n");

597 
	`tf
("EPON_OAM_DBGFLAG_CTC_INFO (0x00000010UL)\n");

598 
	`tf
("EPON_OAM_DBGFLAG_CTC_WARN (0x00000020UL)\n");

599 
	`tf
("EPON_OAM_DBGFLAG_CTC_ERROR (0x00000040UL)\n");

600 
	`tf
("EPON_OAM_DBGFLAG_CTC_DUMP (0x00000080UL)\n");

601 
	`tf
("EPON_OAM_DBGFLAG_TXOAM (0x10000000UL)\n");

602 
	`tf
("EPON_OAM_DBGFLAG_RXOAM (0x20000000UL)\n");

603 
	`tf
("EPON_OAM_DBGFLAG_DEBUG (0x80000000UL)\n");

604 
	`tf
("EPON_OAM_DBGFLAG_ALL (0xFFFFFFFFUL)\n");

607 
	}
}

609 
	$_m_i_dbgFg_g
(

610 
gc
,

611 *
gv
[],

612 
m_i_t
 *
pCli
)

614 
pCli
->
iTy
 = 
EPON_OAM_CLI_DBG_GET
;

617 
	}
}

619 
	$_m_i_dbgExt_t
(

620 
gc
,

621 *
gv
[],

622 
m_i_t
 *
pCli
)

624 if(
gc
 == 2)

626 
pCli
->
iTy
 = 
EPON_OAM_CLI_DBGEXT_SET
;

627 
pCli
->
u
.
iDbg
.
ag
 = 
	`
(
gv
[1], 
NULL
, 16);

633 
	`tf
("%<hex-vue>\n", 
gv
[0]);

636 
	}
}

638 
	$_m_i_dbgExt_g
(

639 
gc
,

640 *
gv
[],

641 
m_i_t
 *
pCli
)

643 
pCli
->
iTy
 = 
EPON_OAM_CLI_DBGEXT_GET
;

646 
	}
}

648 
	$_m_i_ov_t
(

649 
gc
,

650 *
gv
[],

651 
m_i_t
 *
pCli
)

653 
vue
;

654 if(
gc
 == 3)

656 
pCli
->
iTy
 = 
EPON_OAM_CLI_FAILOVER_SET
;

657 
vue
 = 
	`oi
(
gv
[1]);

658 if(
vue
 < 0)

662 
pCli
->
u
.
iFaov
.
gnury
 = 
vue
;

664 
vue
 = 
	`oi
(
gv
[2]);

665 if(
vue
 < 0)

669 
pCli
->
u
.
iFaov
.
backoff
 = 
vue
;

675 
	`tf
("%<gnury-ms> <backoff-ms>\n", 
gv
[0]);

678 
	}
}

680 
	$_m_i_ov_g
(

681 
gc
,

682 *
gv
[],

683 
m_i_t
 *
pCli
)

685 
pCli
->
iTy
 = 
EPON_OAM_CLI_FAILOVER_GET
;

688 
	}
}

690 
	$_m_i_mInfoVdOui_t
(

691 
gc
,

692 *
gv
[],

693 
m_i_t
 *
pCli
)

695 
i
;

696 *
dP
, *
pch
;

697 
idIdx
;

699 if(
gc
 == 3)

701 
pCli
->
iTy
 = 
EPON_OAM_CLI_OAMINFOOUI_SET
;

702 
idIdx
 = 
	`oi
(
gv
[1]);

703 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

705 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

708 
pCli
->
u
.
iMac
.
idIdx
 =lidIdx;

711 
pch
 = 
dP
 = 
gv
[2];

712 
pch
 = 
	`rchr
(pch, ':');

713 
pch
 !
NULL
)

715 *
pch
 = ' ';

716 
pch
 = 
	`rchr
(pch, ':');

719 
i
 = 0;i < 3;i++)

721 
pCli
->
u
.
iMac
.
mac
[
i
] = 
	`
(
dP
, &endPtr, 16);

728 
	`tf
("%<idIdx> <vd-oui>\n", 
gv
[0]);

729 
	`tf
("Ex: %3 00:11:22\n", 
gv
[0]);

732 
	}
}

734 
	$_m_i_mInfo_g
(

735 
gc
,

736 *
gv
[],

737 
m_i_t
 *
pCli
)

739 
idIdx
;

741 if(
gc
 == 2)

743 
pCli
->
iTy
 = 
EPON_OAM_CLI_OAMINFO_GET
;

744 
idIdx
 = 
	`oi
(
gv
[1]);

745 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

747 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

750 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

756 
	`tf
("%<idIdx>\n", 
gv
[0]);

761 
	}
}

763 
	$_m_i_mS_g
(

764 
gc
,

765 *
gv
[],

766 
m_i_t
 *
pCli
)

768 
idIdx
;

770 if(
gc
 == 2)

772 
pCli
->
iTy
 = 
EPON_OAM_CLI_OAMSTATE_GET
;

773 
idIdx
 = 
	`oi
(
gv
[1]);

774 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

776 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

779 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

785 
	`tf
("%<idIdx>\n", 
gv
[0]);

788 
	}
}

790 
	$_m_i_gi_igg
(

791 
gc
,

792 *
gv
[],

793 
m_i_t
 *
pCli
)

795 
idIdx
;

797 if(
gc
 == 2)

799 
pCli
->
iTy
 = 
EPON_OAM_CLI_REG_TRIGGER
;

800 
idIdx
 = 
	`oi
(
gv
[1]);

801 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

803 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

806 
pCli
->
u
.
iLlidIdx
.
idIdx
 =lidIdx;

810 
	`tf
("%<idIdx>\n", 
gv
[0]);

815 
	}
}

819 
	$_m_i_cLoid_g
(

820 
gc
,

821 *
gv
[],

822 
m_i_t
 *
pCli
)

824 
idIdx
;

826 if(
gc
 == 2)

828 
	`memt
(
pCli
, 0, (
m_i_t
));

829 
pCli
->
iTy
 = 
CTC_OAM_CLI_LOID_GET
;

830 
idIdx
 = 
	`oi
(
gv
[1]);

831 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

833 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

836 
pCli
->
u
.
iCtcLoid
.
idIdx
 =lidIdx;

840 
	`tf
("%<idIdx>\n", 
gv
[0]);

845 
	}
}

847 
	$_m_i_cLoid_t
(

848 
gc
,

849 *
gv
[],

850 
m_i_t
 *
pCli
)

852 
idIdx
;

854 if(
gc
 == 4)

856 
	`memt
(
pCli
, 0, (
m_i_t
));

857 
pCli
->
iTy
 = 
CTC_OAM_CLI_LOID_SET
;

858 
idIdx
 = 
	`oi
(
gv
[1]);

859 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

861 
	`tf
("<idIdx>: %u~%u\n", 0, 
EPON_OAM_SUPPORT_LLID_NUM
 - 1);

864 
pCli
->
u
.
iCtcLoid
.
idIdx
 =lidIdx;

865 
	`ry
(
pCli
->
u
.
iCtcLoid
.
loid
, 
gv
[2]);

866 
	`ry
(
pCli
->
u
.
iCtcLoid
.
sswd
, 
gv
[3]);

870 
	`tf
("%<idIdx> <loid> <sswd>\n", 
gv
[0]);

875 
	}
}

877 
	$_m_evt_nd
(

878 
idIdx
,

879 
evtId
)

881 
t
;

882 
m_msgqEvtDa_t
 
evt
;

884 
evt
.
mty
 = 
evtId
;

885 
evt
.
msgqDa
.
idIdx
 =lidIdx;

886 
evt
.
msgqDa
.
daSize
 = 0;

887 
t
 = 
	`msgd
(
msgQId
, (*)&
evt
, 0, 
IPC_NOWAIT
);

888 if(-1 =
t
)

890 
	`tf
("[OAM:%s:%d] msgd faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

891  
EPON_OAM_ERR_MSGQ
;

894  
EPON_OAM_ERR_OK
;

895 
	}
}

897 
	$_m_evtDa_nd
(

898 
idIdx
,

899 
evtId
,

900 *
da
,

901 
daL
)

903 
t
;

904 
m_msgqEvtDa_t
 
evtDa
;

906 if(
daL
 > 
EPON_OAM_EVENTDATA_MAX
)

908  
EPON_OAM_ERR_PARAM
;

911 
evtDa
.
mty
 = 
evtId
;

912 
evtDa
.
msgqDa
.
idIdx
 =lidIdx;

913 
evtDa
.
msgqDa
.
daSize
 = 
daL
;

914 
	`memy
(
evtDa
.
msgqDa
.
da
, da, 
daL
);

915 
t
 = 
	`msgd
(
msgQId
, (*)&
evtDa
, vtDa.
msgqDa
), 
IPC_NOWAIT
);

916 if(-1 =
t
)

918 
	`tf
("[OAM:%s:%d] msgd faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

919  
EPON_OAM_ERR_MSGQ
;

922  
EPON_OAM_ERR_OK
;

923 
	}
}

925 
	$_m_i_r
(

926 
gc
,

927 *
gv
[],

928 
m_i__t
 *
pCliTe
,

929 
m_i_t
 *
pCli
)

931 
putL
, 
cmdL
;

933 if(0 =
gc
)

936 
	`tf
("available cmds:\n");

937 
pCliTe
->
ty
 !
EPON_OAM_CLI_END
)

939 
	`tf
("%s\n", 
pCliTe
->
cmd
);

940 
pCliTe
 += 1;

946 if(
NULL
 =
pCliTe
)

948 
	`tf
("incorrect commandree\n");

952 
putL
 = 
	`
(
gv
[0]);

953 
pCliTe
->
ty
 !
EPON_OAM_CLI_END
)

955 
cmdL
 = 
	`
(
pCliTe
->
cmd
);

956 if(
	`cmp
(
gv
[0], 
pCliTe
->
cmd
, 
putL
 > 
cmdL
 ? cmdLen : inputLen) == 0)

959 if(
pCliTe
->
ty
 =
EPON_OAM_CLI_BRANCH
)

961  
	`_m_i_r
(
gc
 - 1, &
gv
[1], 
pCliTe
->
u
.
pSubTe
, 
pCli
);

963 if(
pCliTe
->
ty
 =
EPON_OAM_CLI_LEAF
)

965 if(
NULL
 !
pCliTe
->
u
.
i_oc
)

967  
pCliTe
->
u
.
	`i_oc
(
gc
, 
gv
, 
pCli
);

971 
	`tf
("incorrect command callback\n");

977 
	`tf
("incorrect commandype\n");

981 
pCliTe
 =CliTree + 1;

984 
	`tf
("incorrect command\n");

986 
	}
}

989 
	$ma
(

990 
gc
,

991 *
gv
[])

993 
t
;

994 
rms
;

995 
key_t
 
msgQKey
 = 1568;

996 
m_i_t
 
i
;

1003 
rms
 = 00666;

1004 
rms
 |
IPC_CREAT
;

1005 
msgQId
 = 
	`msgg
(
msgQKey
, 
rms
);

1006 if(-1 =
msgQId
)

1008 
	`tf
("[OAM:%s:%d] msgq ced %d\n", 
__FILE__
, 
__LINE__
, 
o
);

1012 
	`memt
(&
i
, 0x0, (cli));

1013 
t
 = 
	`_m_i_r
(
gc
 - 1, &
gv
[1], 
iRo
, &
i
);

1015 if(0 =
t
)

1017 
	`_m_evtDa_nd
(0,

1018 
EPON_OAM_EVENT_CLI
,

1019 (*)&
i
,

1020 (
i
));

1024 
	}
}

	@epon_oam_db.c

25 
	~<dio.h
>

26 
	~<rg.h
>

27 
	~<mloc.h
>

28 
	~<o.h
>

29 
	~<mhe.h
>

31 
	~"_m_cfig.h
"

32 
	~"_m_r.h
"

33 
	~"_m_rx.h
"

34 
	~"_m_db.h
"

35 
	~"_m_dbg.h
"

37 
	~<k/.h
>

38 
	~<c_oc.h
>

39 
	~<lw_cfig_oid.h
>

40 
	~<lw_cfig_i.h
>

46 
	sm_dummy_s
 {

47 
	mngth
;

48 *
	mda
;

49 } 
	tm_dummy_t
;

55 
m_cfig_t
 
	gmCfig
[
EPON_OAM_SUPPORT_LLID_NUM
];

57 
m_t
 
	gmDbAcssSem
;

59 
m_mInfo_t
 
	glolOamInfo
[
EPON_OAM_SUPPORT_LLID_NUM
];

60 
m_mInfo_t
 
	gmeOamInfo
[
EPON_OAM_SUPPORT_LLID_NUM
];

62 
m_foOrgScCb_t
 
	gdefInfoOrgScCb
;

63 
m_foOrgScCbRec_t
 *
	gpInfoOrgScCbDb
;

64 
m_evtOrgScCb_t
 
	gdefEvtOrgScCb
;

65 
m_evtOrgScCbRec_t
 *
	gpEvtOrgScCbDb
;

66 
m_gScCb_t
 
	gdefOrgScCb
;

67 
m_gScCbRec_t
 *
	gpOrgScCbDb
;

68 
m_vCbRec_t
 *
	gpVCbDb
[
EPON_OAM_VARIABLEDB_HASH_NUM
];

69 (*
defVCb
)(

70 
m_vTg_t
 *
pVTg
,

71 
m_vDest_t
 
vDesc
,

72 
m_vCڏ_t
 **
VCڏ
);

73 
m_cou_t
 
mCou
[
EPON_OAM_VARIABLEDB_HASH_NUM
];

74 
m_u_vd
[4] = {'H','3','C',0x00
	}
};

75 
	gh3c_u_vd
[4] = {'H','3','C',0x00};

76 
	gyc_u_vd
[4] = {'Y','O','T','U'};

77 
	gicom_u_vd
[4] = {'R','C',0,0};

78 
	gfibhome_u_vd
[4] = {'W','R','I', 0};

79 
	gz_u_vd
[4] = {'Z','T','E', 0};

81 
	gz_u_id
[3] = {0x0,0xd,0xb6};

82 
	gz_oui
[3] = {0x00, 0x0F, 0x3E};

83 
	gh3c_oui
[3] = {0x00, 0x0f, 0xe2};

84 
	ghuawei_oui
[3] = {0xbc, 0x61, 0x4e};

85 
	gbdcom_oui
[3] = {0x00, 0xe0, 0x0f};

86 
	gyc_oui
[3] = {0x00, 0x0c, 0xd8};

87 
	gicom_oui
[3] = {0x00,0x13,0x25};

89 
	gshe_oui
[3] = {0x00, 0x0c, 0xd5};

91 #i
defed
(
CONFIG_ONU_COMPATIBLE
)

92 
	gz_t_vd
[4] = {0x37, 0x23, 0x00, 0x01};

93 
	gz_c300_t_vd
[4] = {0x00, 0x00, 0x00, 0x00};

94 
	gfibhome_t_vd
[4] = {0x11, 0x00, 0x00, 0x01};

95 
m_fd
;

107 
	$_m_dummyPr
(

108 
idIdx
,

109 *
pFme
,

110 
ngth
,

111 *
pExaL
,

112 **
gScDa
)

114 
m_dummy_t
 *
pOamDummy
;

117 
pOamDummy
 = (
m_dummy_t
 *
	`mloc
((oam_dummy_t));

118 if(
NULL
 =
pOamDummy
)

120  
EPON_OAM_ERR_MEM
;

123 
pOamDummy
->
ngth
 = 
pFme
[1];

125 if(
pOamDummy
->
ngth
 >ength)

127  
EPON_OAM_ERR_PARSE
;

130 
pOamDummy
->
da
 = (*
	`mloc
((*OamDummy->
ngth
);

132 if(
pOamDummy
->
da
 =
NULL
)

134 
	`
(
pOamDummy
);

135  
EPON_OAM_ERR_MEM
;

138 
	`memy
(
pOamDummy
->
da
, 
pFme
, (*OamDummy->
ngth
);

139 *
pExaL
 = 
pOamDummy
->
ngth
;

140 *((
m_dummy_t
 **)
gScDa

pOamDummy
;

142  
EPON_OAM_ERR_OK
;

143 
	}
}

145 
	$_m_dummyHdr
(

146 
m_mPdu_t
 *
pOamPdu
,

147 *
pRlyBuf
,

148 
bufL
,

149 *
pRlyL
,

150 **
OrgScDa
)

154 
m_dummy_t
 *
pOamDummy
 = *((m_dummy_**)
OrgScDa
);

157 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "Undefed org sOAM whegh %u\n", 
pOamDummy
->
ngth
);

158 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_DUMP
, 
pOamDummy
->
da
,OamDummy->
ngth
);

160 *
pRlyL
 = 0;

162 
	`
(
pOamDummy
->
da
);

163 
	`
(
pOamDummy
);

165  
EPON_OAM_ERR_OK
;

166 
	}
}

168 
	$_m_dummyPross
(

169 
m_mPdu_t
 *
pOamPdu
,

170 *
pFme
,

171 
ngth
,

172 *
pRlyBuf
,

173 
bufL
,

174 *
pRlyL
)

176 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_DUMP
, 
pFme
, 
ngth
);

177 *
pRlyL
 = 0;

179  
EPON_OAM_ERR_OK
;

180 
	}
}

182 
	$_m_dummyVHdr
(

183 
m_vTg_t
 *
pVTg
,

184 
m_vDest_t
 
vDesc
,

185 
m_vCڏ_t
 **
VCڏ
)

187 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

188 "Uecognizvb 0x%02x/0x%04x\n", 
vDesc
.
vBnch
, vDesc.
vLf
);

189 if(
NULL
 !
pVTg
)

191 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

193 
pVTg
->
vDesc
.
vBnch
,

194 
pVTg
->
vDesc
.
vLf
,

195 
pVTg
->
vDa
[0],

196 
pVTg
->
vDa
[1]);

199 *
VCڏ
 = 
NULL
;

201  
EPON_OAM_ERR_OK
;

202 
	}
}

204 
m_foOrgScCbRec_t
 *
	$_m_gScInfo_g
(*
pOui
)

206 
m_foOrgScCbRec_t
 *
pSrchP
;

208 
pSrchP
 = 
pInfoOrgScCbDb
;

209 
NULL
 !
pSrchP
)

211 if((
pSrchP
->
oui
[0] =
pOui
[0]) &&

212 (
pSrchP
->
oui
[1] =
pOui
[1]) &&

213 (
pSrchP
->
oui
[2] =
pOui
[2]))

215  
pSrchP
;

217 
pSrchP
 =SrchP->
xt
;

220  
NULL
;

221 
	}
}

223 
	$_m_gScInfo_g
(

224 *
pOui
,

225 
m_foOrgScCb_t
 *
pCbDa
)

227 
m_foOrgScCbRec_t
 *
pInfoCbRec
;

229 
pInfoCbRec
 = 
	`_m_gScInfo_g
(
pOui
);

230 if(
NULL
 =
pInfoCbRec
)

233 
pInfoCbRec
 = (
m_foOrgScCbRec_t
 *
	`mloc
((oam_infoOrgSpecCbRec_t));

234 if(
NULL
 =
pInfoCbRec
)

236  
EPON_OAM_ERR_MEM
;

238 
pInfoCbRec
->
oui
[0] = 
pOui
[0];

239 
pInfoCbRec
->
oui
[1] = 
pOui
[1];

240 
pInfoCbRec
->
oui
[2] = 
pOui
[2];

241 
pInfoCbRec
->
rr
 = 
pCbDa
->parser;

242 
pInfoCbRec
->
hdr
 = 
pCbDa
->handler;

244 if(
NULL
 =
pInfoOrgScCbDb
)

247 
pInfoCbRec
->
ev
 = 
NULL
;

248 
pInfoCbRec
->
xt
 = 
NULL
;

249 
pInfoOrgScCbDb
 = 
pInfoCbRec
;

254 
pInfoCbRec
->
ev
 = 
NULL
;

255 
pInfoCbRec
->
xt
 = 
pInfoOrgScCbDb
;

256 
pInfoOrgScCbDb
->
ev
 = 
pInfoCbRec
;

257 
pInfoOrgScCbDb
 = 
pInfoCbRec
;

263 
pInfoCbRec
->
rr
 = 
pCbDa
->parser;

264 
pInfoCbRec
->
hdr
 = 
pCbDa
->handler;

267  
EPON_OAM_ERR_OK
;

268 
	}
}

270 
	$_m_gScInfo_deg
(

271 *
pOui
)

273 
m_foOrgScCbRec_t
 *
pInfoCbRec
;

275 
pInfoCbRec
 = 
	`_m_gScInfo_g
(
pOui
);

276 if(
NULL
 !
pInfoCbRec
)

278 if((
NULL
 =
pInfoCbRec
->
ev
) &&

279 (
NULL
 =
pInfoCbRec
->
xt
))

282 
pInfoOrgScCbDb
 = 
NULL
;

287 if(
NULL
 !
pInfoCbRec
->
ev
)

289 
pInfoCbRec
->
ev
->
xt
 =InfoCbRec->next;

291 if(
NULL
 !
pInfoCbRec
->
xt
)

293 
pInfoCbRec
->
xt
->
ev
 =InfoCbRec->prev;

295 if(
pInfoOrgScCbDb
 =
pInfoCbRec
)

297 
pInfoOrgScCbDb
 = 
pInfoCbRec
->
xt
;

300 
	`
(
pInfoCbRec
);

303  
EPON_OAM_ERR_OK
;

304 
	}
}

306 
m_evtOrgScCbRec_t
 *
	$_m_gScEvt_g
(*
pOui
)

308 
m_evtOrgScCbRec_t
 *
pSrchP
;

310 
pSrchP
 = 
pEvtOrgScCbDb
;

311 
NULL
 !
pSrchP
)

313 if((
pSrchP
->
oui
[0] =
pOui
[0]) &&

314 (
pSrchP
->
oui
[1] =
pOui
[1]) &&

315 (
pSrchP
->
oui
[2] =
pOui
[2]))

317  
pSrchP
;

319 
pSrchP
 =SrchP->
xt
;

322  
NULL
;

323 
	}
}

325 
	$_m_gScEvt_g
(

326 *
pOui
,

327 
m_evtOrgScCb_t
 *
pCbDa
)

329 
m_evtOrgScCbRec_t
 *
pEvtCbRec
;

331 
pEvtCbRec
 = 
	`_m_gScEvt_g
(
pOui
);

332 if(
NULL
 =
pEvtCbRec
)

335 
pEvtCbRec
 = (
m_evtOrgScCbRec_t
 *
	`mloc
((oam_eventOrgSpecCbRec_t));

336 if(
NULL
 =
pEvtCbRec
)

338  
EPON_OAM_ERR_MEM
;

340 
pEvtCbRec
->
oui
[0] = 
pOui
[0];

341 
pEvtCbRec
->
oui
[1] = 
pOui
[1];

342 
pEvtCbRec
->
oui
[2] = 
pOui
[2];

343 
pEvtCbRec
->
rr
 = 
pCbDa
->parser;

344 
pEvtCbRec
->
hdr
 = 
pCbDa
->handler;

346 if(
NULL
 =
pEvtOrgScCbDb
)

349 
pEvtCbRec
->
ev
 = 
NULL
;

350 
pEvtCbRec
->
xt
 = 
NULL
;

351 
pEvtOrgScCbDb
 = 
pEvtCbRec
;

356 
pEvtCbRec
->
ev
 = 
NULL
;

357 
pEvtCbRec
->
xt
 = 
pEvtOrgScCbDb
;

358 
pEvtOrgScCbDb
->
ev
 = 
pEvtCbRec
;

359 
pEvtOrgScCbDb
 = 
pEvtCbRec
;

365 
pEvtCbRec
->
rr
 = 
pCbDa
->parser;

366 
pEvtCbRec
->
hdr
 = 
pCbDa
->handler;

369  
EPON_OAM_ERR_OK
;

370 
	}
}

372 
	$_m_gScEvt_deg
(

373 *
pOui
)

375 
m_evtOrgScCbRec_t
 *
pEvtCbRec
;

377 
pEvtCbRec
 = 
	`_m_gScEvt_g
(
pOui
);

378 if(
NULL
 !
pEvtCbRec
)

380 if((
NULL
 =
pEvtCbRec
->
ev
) &&

381 (
NULL
 =
pEvtCbRec
->
xt
))

384 
pEvtOrgScCbDb
 = 
NULL
;

389 if(
NULL
 !
pEvtCbRec
->
ev
)

391 
pEvtCbRec
->
ev
->
xt
 =EventCbRec->next;

393 if(
NULL
 !
pEvtCbRec
->
xt
)

395 
pEvtCbRec
->
xt
->
ev
 =EventCbRec->prev;

397 if(
pEvtOrgScCbDb
 =
pEvtCbRec
)

399 
pEvtOrgScCbDb
 = 
pEvtCbRec
->
xt
;

402 
	`
(
pEvtCbRec
);

405  
EPON_OAM_ERR_OK
;

406 
	}
}

408 
m_gScCbRec_t
 *
	$_m_gSc_g
(*
pOui
)

410 
m_gScCbRec_t
 *
pSrchP
;

412 
pSrchP
 = 
pOrgScCbDb
;

413 
NULL
 !
pSrchP
)

415 if((
pSrchP
->
oui
[0] =
pOui
[0]) &&

416 (
pSrchP
->
oui
[1] =
pOui
[1]) &&

417 (
pSrchP
->
oui
[2] =
pOui
[2]))

419  
pSrchP
;

421 
pSrchP
 =SrchP->
xt
;

424  
NULL
;

425 
	}
}

427 
	$_m_gSc_g
(

428 *
pOui
,

429 
m_gScCb_t
 *
pCbDa
)

431 
m_gScCbRec_t
 *
pOrgScCbRec
;

433 
pOrgScCbRec
 = 
	`_m_gSc_g
(
pOui
);

434 if(
NULL
 =
pOrgScCbRec
)

437 
pOrgScCbRec
 = (
m_gScCbRec_t
 *
	`mloc
((oam_orgSpecCbRec_t));

438 if(
NULL
 =
pOrgScCbRec
)

440  
EPON_OAM_ERR_MEM
;

442 
pOrgScCbRec
->
oui
[0] = 
pOui
[0];

443 
pOrgScCbRec
->
oui
[1] = 
pOui
[1];

444 
pOrgScCbRec
->
oui
[2] = 
pOui
[2];

445 
pOrgScCbRec
->
oss
 = 
pCbDa
->processor;

447 if(
NULL
 =
pOrgScCbDb
)

450 
pOrgScCbRec
->
ev
 = 
NULL
;

451 
pOrgScCbRec
->
xt
 = 
NULL
;

452 
pOrgScCbDb
 = 
pOrgScCbRec
;

457 
pOrgScCbRec
->
ev
 = 
NULL
;

458 
pOrgScCbRec
->
xt
 = 
pOrgScCbDb
;

459 
pOrgScCbDb
->
ev
 = 
pOrgScCbRec
;

460 
pOrgScCbDb
 = 
pOrgScCbRec
;

466 
pOrgScCbRec
->
oss
 = 
pCbDa
->processor;

469  
EPON_OAM_ERR_OK
;

470 
	}
}

472 
	$_m_gSc_deg
(

473 *
pOui
)

475 
m_gScCbRec_t
 *
pOrgScCbRec
;

477 
pOrgScCbRec
 = 
	`_m_gSc_g
(
pOui
);

478 if(
NULL
 !
pOrgScCbRec
)

480 if((
NULL
 =
pOrgScCbRec
->
ev
) &&

481 (
NULL
 =
pOrgScCbRec
->
xt
))

484 
pOrgScCbDb
 = 
NULL
;

489 if(
NULL
 !
pOrgScCbRec
->
ev
)

491 
pOrgScCbRec
->
ev
->
xt
 =OrgSpecCbRec->next;

493 if(
NULL
 !
pOrgScCbRec
->
xt
)

495 
pOrgScCbRec
->
xt
->
ev
 =OrgSpecCbRec->prev;

497 if(
pOrgScCbDb
 =
pOrgScCbRec
)

499 
pOrgScCbDb
 = 
pOrgScCbRec
->
xt
;

502 
	`
(
pOrgScCbRec
);

505  
EPON_OAM_ERR_OK
;

506 
	}
}

508 
	$_m_vbDb_hash
(

509 
m_vDest_t
 *
pVDesc
)

511 
hashResu
;

513 
hashResu
 = 
pVDesc
->
vBnch
;

514 
hashResu
 ^((*)&
pVDesc
->
vLf
)[0];

515 
hashResu
 ^((*)&
pVDesc
->
vLf
)[1];

516 
hashResu
 = (hashResult & 0x0f) ^ ((hashResult & 0xf0) >> 4);

518 if(
hashResu
 >
EPON_OAM_VARIABLEDB_HASH_NUM
)

520 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

521 "[OAM:%s:%d] hashesuɃ!\n", 
__FILE__
, 
__LINE__
);

522 
hashResu
 = 0;

525  
hashResu
;

526 
	}
}

528 
m_vCbRec_t
 *
	$_m_vb_g
(

529 
m_vDest_t
 *
pVDesc
)

531 
m_vCbRec_t
 *
pSrchP
;

537 
pSrchP
 = 
pVCbDb
[
	`_m_vbDb_hash
(
pVDesc
)];

538 
NULL
 !
pSrchP
)

540 if((
pSrchP
->
vDesc
.
vBnch
 =
pVDesc
->varBranch) &&

541 (
pSrchP
->
vDesc
.
vLf
 =
pVDesc
->varLeaf))

543  
pSrchP
;

545 
pSrchP
 =SrchP->
xt
;

548  
NULL
;

549 
	}
}

551 
	$_m_vb_g
(

552 
m_vCb_t
 *
pVCb
)

554 
m_vDest_t
 
vDesc
;

555 
m_vCbRec_t
 *
pVCbRec
;

556 
m_vCbRec_t
 **
VDb
;

558 
vDesc
 = 
pVCb
->varDesc;

559 
pVCbRec
 = 
	`_m_vb_g
(&
vDesc
);

560 if(
NULL
 =
pVCbRec
)

563 
pVCbRec
 = (
m_vCbRec_t
 *
	`mloc
((oam_varCbRec_t));

564 if(
NULL
 =
pVCbRec
)

566  
EPON_OAM_ERR_MEM
;

568 
pVCbRec
->
vTy
 = 
pVCb
->varType;

569 
pVCbRec
->
vDesc
 = 
pVCb
->varDesc;

570 
pVCbRec
->
hdr
 = 
pVCb
->handler;

572 
VDb
 = &(
pVCbDb
[
	`_m_vbDb_hash
(&
vDesc
)]);

573 if(
NULL
 =*
VDb
)

576 
pVCbRec
->
ev
 = 
NULL
;

577 
pVCbRec
->
xt
 = 
NULL
;

578 *
VDb
 = 
pVCbRec
;

583 
pVCbRec
->
ev
 = 
NULL
;

584 
pVCbRec
->
xt
 = *
VDb
;

585 (*
VDb
)->
ev
 = 
pVCbRec
;

586 (*
VDb

pVCbRec
;

592 
pVCbRec
->
vTy
 = 
pVCb
->varType;

593 
pVCbRec
->
vDesc
 = 
pVCb
->varDesc;

594 
pVCbRec
->
hdr
 = 
pVCb
->handler;

597  
EPON_OAM_ERR_OK
;

598 
	}
}

600 
	$_m_vb_deg
(

601 
m_vDest_t
 *
pVDesc
)

603 
m_vCbRec_t
 *
pVCbRec
;

604 
m_vCbRec_t
 **
VDb
;

606 
pVCbRec
 = 
	`_m_vb_g
(
pVDesc
);

607 if(
NULL
 !
pVCbRec
)

609 
VDb
 = &(
pVCbDb
[
	`_m_vbDb_hash
(
pVDesc
)]);

610 if((
NULL
 =
pVCbRec
->
ev
) &&

611 (
NULL
 =
pVCbRec
->
xt
))

614 *
VDb
 = 
NULL
;

619 if(
NULL
 !
pVCbRec
->
ev
)

621 
pVCbRec
->
ev
->
xt
 =VarCbRec->next;

623 if(
NULL
 !
pVCbRec
->
xt
)

625 
pVCbRec
->
xt
->
ev
 =VarCbRec->prev;

627 if(*
VDb
 =
pVCbRec
)

629 *
VDb
 = 
pVCbRec
->
xt
;

632 
	`
(
pVCbRec
);

635  
EPON_OAM_ERR_OK
;

636 
	}
}

638 
	$_m_ObjIdNum
()

640 
m_vCb_t
 
vCb
;

642 
vCb
.
vTy
 = 
EPON_OAM_VARTYPE_OBJECTID
;

643 
vCb
.
hdr
 = 
NULL
;

646 
vCb
.
vDesc
.
vBnch
 = 7;

647 
vCb
.
vDesc
.
vLf
 = 330;

648 
	`_m_vbCb_g
(&
vCb
);

651 
vCb
.
vDesc
.
vBnch
 = 7;

652 
vCb
.
vDesc
.
vLf
 = 282;

653 
	`_m_vbCb_g
(&
vCb
);

654 
	}
}

657 
	$_m__
()

659 
m_cfig_t
 
cfig
;

660 
k__gReq_t
 
gEry
;

662 
	`k__giReq_g
(&
gEry
);

664 if(0 =
gEry
.
idIdx
)

666 
	`_m_cfig_g
(0, &
cfig
);

667 
cfig
.
mEbd
 = 1;

668 
	`memy
(&
cfig
.
macAddr
[0], &
gEry
.
mac
.
o
[0], (config.macAddr));

670 
	`_m_cfig_t
(0, &
cfig
);

674 
	`tf
("%s:%d Teg cfig faed\n", 
__FILE__
, 
__LINE__
);

676 
	}
}

693 
	$_m_daba_
()

695 
i
, 
t
;

696 
m_mInfo_t
 
foOam
;

697 
v
;

706 
t
 = 
	`m_
(&
mDbAcssSem
, 0, 1);

707 if(0 !
t
)

709 
	`tf
("m_ %d (%d)\n", 
t
, 
o
);

713 
	`memt
((*&
mCfig
, 0x0, (
m_cfig_t
* 
EPON_OAM_SUPPORT_LLID_NUM
);

716 
	`memt
((*&
lolOamInfo
, 0x0, (
m_mInfo_t
* 
EPON_OAM_SUPPORT_LLID_NUM
);

717 
	`memt
((*&
meOamInfo
, 0x0, (
m_mInfo_t
* 
EPON_OAM_SUPPORT_LLID_NUM
);

719 
	`memt
(&
foOam
, 0x0, (
m_mInfo_t
));

720 
foOam
.
vid
 = 1;

721 
foOam
.
mV
 = 1;

722 
foOam
.
visi
 = 1;

723 
foOam
.
e
 = 0;

724 
foOam
.
mCfig
 = 0x14;

725 
foOam
.
mPduCfig
 = 0x5ee;

726 
foOam
.
oui
[0] = 0x11;

727 
foOam
.
oui
[1] = 0x11;

728 
foOam
.
oui
[2] = 0x11;

730 
	`memy
(
foOam
.
vdScInfo
, 
m_u_vd
, (oam_onu_vendor));

732 
i
 = 0;< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

734 
	`_m_lolInfo_t
(
i
, &
foOam
);

737 
mCfig
[
i
].
autoRegEb
 = 1;

738 
mCfig
[
i
].
autoRegTime
 = 1000;

741 
mCfig
[
i
].
hdovEb
 = 1;

742 
mCfig
[
i
].
hdovTime
 = 200;

745 
	`_m_cou_
(
i
, 
EPON_OAM_COUNTERTYPE_TX
);

746 
	`_m_cou_
(
i
, 
EPON_OAM_COUNTERTYPE_RX
);

747 
	`_m_cou_
(
i
, 
EPON_OAM_COUNTERTYPE_DROP
);

748 
	`_m_cou_
(
i
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

752 
pInfoOrgScCbDb
 = 
NULL
;

753 
defInfoOrgScCb
.
rr
 = 
_m_dummyPr
;

754 
defInfoOrgScCb
.
hdr
 = 
_m_dummyHdr
;

755 
pEvtOrgScCbDb
 = 
NULL
;

756 
defEvtOrgScCb
.
rr
 = 
_m_dummyPr
;

757 
defEvtOrgScCb
.
hdr
 = 
_m_dummyHdr
;

758 
pOrgScCbDb
 = 
NULL
;

759 
defOrgScCb
.
oss
 = 
_m_dummyPross
;

760 
i
 = 0;< 
EPON_OAM_VARIABLEDB_HASH_NUM
;i++)

762 
pVCbDb
[
i
] = 
NULL
;

764 
defVCb
 = 
_m_dummyVHdr
;

767 
	`_m_ObjIdNum
();

770 
	`_m__
();

772 #i
	`defed
(
CONFIG_ONU_COMPATIBLE
)

773 
comtib_g_t
 *
sys
 = &
sys_comtib
;

774 
v
 = 
	`m_c_g_sys_comtib
(
m_fd
,
sys
);

775 if(
v
)

777 
sys
->
ab
 = 1;

778 
	`tf
("Get compatible mode failed\n");

782  
EPON_OAM_ERR_OK
;

783 
	}
}

799 
	$_m_cfig_g
(

800 
idIdx
,

801 
m_cfig_t
 *
pOamCfig
)

804 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

806  
EPON_OAM_ERR_PARAM
;

809 if(
NULL
 =
pOamCfig
)

811  
EPON_OAM_ERR_PARAM
;

814 
	`m_wa
(&
mDbAcssSem
);

815 *
pOamCfig
 = 
mCfig
[
idIdx
];

816 
	`m_po
(&
mDbAcssSem
);

818  
EPON_OAM_ERR_OK
;

819 
	}
}

836 
	$_m_cfig_t
(

837 
idIdx
,

838 
m_cfig_t
 *
pOamCfig
)

841 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

843  
EPON_OAM_ERR_PARAM
;

846 if(
NULL
 =
pOamCfig
)

848  
EPON_OAM_ERR_PARAM
;

851 
	`m_wa
(&
mDbAcssSem
);

852 
mCfig
[
idIdx
] = *
pOamCfig
;

853 
	`m_po
(&
mDbAcssSem
);

855  
EPON_OAM_ERR_OK
;

856 
	}
}

872 
	$_m_lolInfo_g
(

873 
idIdx
,

874 
m_mInfo_t
 *
pOamInfo
)

877 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

879  
EPON_OAM_ERR_PARAM
;

882 if(
NULL
 =
pOamInfo
)

884  
EPON_OAM_ERR_PARAM
;

887 
	`m_wa
(&
mDbAcssSem
);

888 *
pOamInfo
 = 
lolOamInfo
[
idIdx
];

889 
	`m_po
(&
mDbAcssSem
);

891  
EPON_OAM_ERR_OK
;

892 
	}
}

909 
	$_m_lolInfo_t
(

910 
idIdx
,

911 
m_mInfo_t
 *
pOamInfo
)

914 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

916  
EPON_OAM_ERR_PARAM
;

919 if(
NULL
 =
pOamInfo
)

921  
EPON_OAM_ERR_PARAM
;

924 
	`m_wa
(&
mDbAcssSem
);

925 
lolOamInfo
[
idIdx
] = *
pOamInfo
;

926 
	`m_po
(&
mDbAcssSem
);

927 
	`DUMP_INFO_OAMPDU
(
idIdx
, &
lolOamInfo
[llidIdx]);

929  
EPON_OAM_ERR_OK
;

930 
	}
}

946 
	$_m_meInfo_g
(

947 
idIdx
,

948 
m_mInfo_t
 *
pOamInfo
)

951 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

953  
EPON_OAM_ERR_PARAM
;

956 if(
NULL
 =
pOamInfo
)

958  
EPON_OAM_ERR_PARAM
;

961 
	`m_wa
(&
mDbAcssSem
);

962 *
pOamInfo
 = 
meOamInfo
[
idIdx
];

963 
	`m_po
(&
mDbAcssSem
);

965  
EPON_OAM_ERR_OK
;

966 
	}
}

983 
	$_m_meInfo_t
(

984 
idIdx
,

985 
m_mInfo_t
 *
pOamInfo
)

988 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

990  
EPON_OAM_ERR_PARAM
;

993 if(
NULL
 =
pOamInfo
)

995  
EPON_OAM_ERR_PARAM
;

998 
	`m_wa
(&
mDbAcssSem
);

999 
meOamInfo
[
idIdx
] = *
pOamInfo
;

1000 
	`m_po
(&
mDbAcssSem
);

1001 
	`DUMP_INFO_OAMPDU
(
idIdx
, &
meOamInfo
[llidIdx]);

1003  
EPON_OAM_ERR_OK
;

1004 
	}
}

1020 
	$_m_meInfo_
(

1021 
idIdx
)

1024 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

1026  
EPON_OAM_ERR_PARAM
;

1029 
	`m_wa
(&
mDbAcssSem
);

1030 
	`memt
(&
meOamInfo
[
idIdx
], 0x0, (
m_mInfo_t
));

1031 
	`m_po
(&
mDbAcssSem
);

1033  
EPON_OAM_ERR_OK
;

1034 
	}
}

1053 
	$_m_gScCb_g
(

1054 
m_cbTy_t
 
gTy
,

1055 *
pOui
,

1056 *
pCbDa
)

1058 
t
 = 
EPON_OAM_ERR_OK
;

1061 if(
gTy
 >
EPON_OAM_CBTYPE_END
)

1063  
EPON_OAM_ERR_PARAM
;

1066 if((
NULL
 =
pOui
|| (NULL =
pCbDa
))

1068  
EPON_OAM_ERR_PARAM
;

1071 
	`m_wa
(&
mDbAcssSem
);

1072 
gTy
)

1074 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1075 
t
 = 
	`_m_gScInfo_g
(
pOui
, (
m_foOrgScCb_t
 *)
pCbDa
);

1077 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1078 
t
 = 
	`_m_gScEvt_g
(
pOui
, (
m_evtOrgScCb_t
 *)
pCbDa
);

1080 
EPON_OAM_CBTYPE_ORGSPEC
:

1081 
t
 = 
	`_m_gSc_g
(
pOui
, (
m_gScCb_t
 *)
pCbDa
);

1084 
t
 = 
EPON_OAM_ERR_PARAM
;

1087 
	`m_po
(&
mDbAcssSem
);

1089  
t
;

1090 
	}
}

1107 
	$_m_gScCb_deg
(

1108 
m_cbTy_t
 
gTy
,

1109 *
pOui
)

1111 
t
 = 
EPON_OAM_ERR_OK
;

1114 if(
gTy
 >
EPON_OAM_CBTYPE_END
)

1116  
EPON_OAM_ERR_PARAM
;

1119 if(
NULL
 =
pOui
)

1121  
EPON_OAM_ERR_PARAM
;

1124 
	`m_wa
(&
mDbAcssSem
);

1125 
gTy
)

1127 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1128 
t
 = 
	`_m_gScInfo_deg
(
pOui
);

1130 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1131 
t
 = 
	`_m_gScEvt_deg
(
pOui
);

1133 
EPON_OAM_CBTYPE_ORGSPEC
:

1134 
t
 = 
	`_m_gSc_deg
(
pOui
);

1137 
t
 = 
EPON_OAM_ERR_PARAM
;

1140 
	`m_po
(&
mDbAcssSem
);

1142  
t
;

1143 
	}
}

1161 
	$_m_gScCb_g
(

1162 
m_cbTy_t
 
gTy
,

1163 *
pOui
,

1164 *
pCbDa
)

1166 
t
 = 
EPON_OAM_ERR_OK
;

1167 
m_foOrgScCbRec_t
 *
pInfoCbRec
;

1168 
m_evtOrgScCbRec_t
 *
pEvtCbRec
;

1169 
m_gScCbRec_t
 *
pOrgScCbRec
;

1172 if(
gTy
 >
EPON_OAM_CBTYPE_END
)

1174  
EPON_OAM_ERR_PARAM
;

1177 if((
NULL
 =
pOui
|| (NULL =
pCbDa
))

1179  
EPON_OAM_ERR_PARAM
;

1182 
	`m_wa
(&
mDbAcssSem
);

1183 
gTy
)

1185 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1186 
pInfoCbRec
 = 
	`_m_gScInfo_g
(
pOui
);

1187 if(
NULL
 =
pInfoCbRec
)

1189 
t
 = 
EPON_OAM_ERR_NOT_FOUND
;

1193 ((
m_foOrgScCb_t
 *
pCbDa
)->
rr
 = 
pInfoCbRec
->parser;

1194 ((
m_foOrgScCb_t
 *
pCbDa
)->
hdr
 = 
pInfoCbRec
->handler;

1197 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1198 
pEvtCbRec
 = 
	`_m_gScEvt_g
(
pOui
);

1199 if(
NULL
 =
pEvtCbRec
)

1201 
t
 = 
EPON_OAM_ERR_NOT_FOUND
;

1205 ((
m_evtOrgScCb_t
 *
pCbDa
)->
rr
 = 
pEvtCbRec
->parser;

1206 ((
m_evtOrgScCb_t
 *
pCbDa
)->
hdr
 = 
pEvtCbRec
->handler;

1209 
EPON_OAM_CBTYPE_ORGSPEC
:

1210 
pOrgScCbRec
 = 
	`_m_gSc_g
(
pOui
);

1211 if(
NULL
 =
pOrgScCbRec
)

1213 
t
 = 
EPON_OAM_ERR_NOT_FOUND
;

1217 ((
m_gScCb_t
 *
pCbDa
)->
oss
 = 
pOrgScCbRec
->processor;

1221 
t
 = 
EPON_OAM_ERR_PARAM
;

1224 
	`m_po
(&
mDbAcssSem
);

1226  
t
;

1227 
	}
}

1246 
	$_m_vbCb_g
(

1247 
m_vCb_t
 *
pVCb
)

1249 if(
NULL
 =
pVCb
)

1251  
EPON_OAM_ERR_PARAM
;

1254  
	`_m_vb_g
(
pVCb
);

1255 
	}
}

1270 
	$_m_vbCb_deg
(

1271 
m_vDest_t
 
vDesc
)

1273  
	`_m_vb_deg
(&
vDesc
);

1274 
	}
}

1292 
	$_m_vbCb_g
(

1293 
m_vCb_t
 *
pVCb
)

1295 
m_vDest_t
 
vDesc
;

1296 
m_vCbRec_t
 *
pVCbRec
;

1298 if(
NULL
 =
pVCb
)

1300  
EPON_OAM_ERR_PARAM
;

1303 
vDesc
 = 
pVCb
->varDesc;

1304 
pVCbRec
 = 
	`_m_vb_g
(&
vDesc
);

1305 if(
NULL
 !
pVCbRec
)

1307 
pVCb
->
vTy
 = 
pVCbRec
->varType;

1308 
pVCb
->
hdr
 = 
pVCbRec
->handler;

1309  
EPON_OAM_ERR_OK
;

1313  
EPON_OAM_ERR_NOT_FOUND
;

1315 
	}
}

1332 
	$_m_defOrgScCb_t
(

1333 
m_cbTy_t
 
gTy
,

1334 *
pCbDa
)

1337 if(
gTy
 >
EPON_OAM_CBTYPE_END
)

1339  
EPON_OAM_ERR_PARAM
;

1342 if(
NULL
 =
pCbDa
)

1344  
EPON_OAM_ERR_PARAM
;

1347 
gTy
)

1349 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1350 
defInfoOrgScCb
.
rr
 = ((
m_foOrgScCb_t
 *)
pCbDa
)->parser;

1351 
defInfoOrgScCb
.
hdr
 = ((
m_foOrgScCb_t
 *)
pCbDa
)->handler;

1353 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1354 
defEvtOrgScCb
.
rr
 = ((
m_evtOrgScCb_t
 *)
pCbDa
)->parser;

1355 
defEvtOrgScCb
.
hdr
 = ((
m_evtOrgScCb_t
 *)
pCbDa
)->handler;

1357 
EPON_OAM_CBTYPE_ORGSPEC
:

1358 
defOrgScCb
.
oss
 = ((
m_gScCb_t
 *)
pCbDa
)->processor;

1364  
EPON_OAM_ERR_OK
;

1365 
	}
}

1381 
	$_m_defOrgScCb_g
(

1382 
m_cbTy_t
 
gTy
,

1383 *
pCbDa
)

1386 if(
gTy
 >
EPON_OAM_CBTYPE_END
)

1388  
EPON_OAM_ERR_PARAM
;

1391 if(
NULL
 =
pCbDa
)

1393  
EPON_OAM_ERR_PARAM
;

1396 
gTy
)

1398 
EPON_OAM_CBTYPE_INFO_ORGSPEC
:

1399 ((
m_foOrgScCb_t
 *)
pCbDa
)->
rr
 = 
defInfoOrgScCb
.parser;

1400 ((
m_foOrgScCb_t
 *)
pCbDa
)->
hdr
 = 
defInfoOrgScCb
.handler;

1402 
EPON_OAM_CBTYPE_EVENT_ORGSPEC
:

1403 ((
m_evtOrgScCb_t
 *)
pCbDa
)->
rr
 = 
defEvtOrgScCb
.parser;

1404 ((
m_evtOrgScCb_t
 *)
pCbDa
)->
hdr
 = 
defEvtOrgScCb
.handler;

1406 
EPON_OAM_CBTYPE_ORGSPEC
:

1407 ((
m_gScCb_t
 *)
pCbDa
)->
oss
 = 
defOrgScCb
.processor;

1413  
EPON_OAM_ERR_OK
;

1414 
	}
}

1430 
_m_defVCb_t
(

1431 (*
hdr
)(

1432 
m_vTg_t
 *
pVTg
,

1433 
m_vDest_t
 
vDesc
,

1434 
m_vCڏ_t
 **
VCڏ
))

1436 if(
NULL
 =
hdr
)

1438  
EPON_OAM_ERR_PARAM
;

1441 
defVCb
 = 
hdr
;

1443  
EPON_OAM_ERR_OK
;

1444 
	}
}

1460 
_m_defVCb_g
(

1461 (**
hdr
)(

1462 
m_vTg_t
 *
pVTg
,

1463 
m_vDest_t
 
vDesc
,

1464 
m_vCڏ_t
 **
VCڏ
))

1466 if(
NULL
 =
hdr
)

1468  
EPON_OAM_ERR_PARAM
;

1471 *
hdr
 = 
defVCb
;

1473  
EPON_OAM_ERR_OK
;

1474 
	}
}

1490 
	$_m_cou_
(

1491 
idIdx
,

1492 
m_couTy_t
 
couTy
)

1494 if(
couTy
 >
EPON_OAM_COUNTERTYPE_END
)

1496  
EPON_OAM_ERR_OK
;

1499 
	`m_wa
(&
mDbAcssSem
);

1500 
couTy
)

1502 
EPON_OAM_COUNTERTYPE_TX
:

1503 
mCou
[
idIdx
].
mTx
 = 0;

1505 
EPON_OAM_COUNTERTYPE_RX
:

1506 
mCou
[
idIdx
].
mRx
 = 0;

1508 
EPON_OAM_COUNTERTYPE_TXINFO
:

1509 
mCou
[
idIdx
].
mTxInfo
 = 0;

1511 
EPON_OAM_COUNTERTYPE_RXINFO
:

1512 
mCou
[
idIdx
].
mRxInfo
 = 0;

1514 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1515 
mCou
[
idIdx
].
mTxOrgSc
 = 0;

1517 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1518 
mCou
[
idIdx
].
mRxOrgSc
 = 0;

1520 
EPON_OAM_COUNTERTYPE_DROP
:

1521 
mCou
[
idIdx
].
mDr
 = 0;

1523 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1524 
mCou
[
idIdx
].
mLoLk
 = 0;

1527 
	`m_po
(&
mDbAcssSem
);

1529  
EPON_OAM_ERR_OK
;

1530 
	}
}

1546 
	$_m_cou_c
(

1547 
idIdx
,

1548 
m_couTy_t
 
couTy
)

1550 if(
couTy
 >
EPON_OAM_COUNTERTYPE_END
)

1552  
EPON_OAM_ERR_OK
;

1555 
	`m_wa
(&
mDbAcssSem
);

1556 
couTy
)

1558 
EPON_OAM_COUNTERTYPE_TX
:

1559 
mCou
[
idIdx
].
mTx
++;

1561 
EPON_OAM_COUNTERTYPE_RX
:

1562 
mCou
[
idIdx
].
mRx
++;

1564 
EPON_OAM_COUNTERTYPE_TXINFO
:

1565 
mCou
[
idIdx
].
mTxInfo
++;

1567 
EPON_OAM_COUNTERTYPE_RXINFO
:

1568 
mCou
[
idIdx
].
mRxInfo
++;

1570 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1571 
mCou
[
idIdx
].
mTxOrgSc
++;

1573 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1574 
mCou
[
idIdx
].
mRxOrgSc
++;

1576 
EPON_OAM_COUNTERTYPE_DROP
:

1577 
mCou
[
idIdx
].
mDr
++;

1579 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1580 
mCou
[
idIdx
].
mLoLk
++;

1583 
	`m_po
(&
mDbAcssSem
);

1585  
EPON_OAM_ERR_OK
;

1586 
	}
}

1602 
	$_m_cou_g
(

1603 
idIdx
,

1604 
m_couTy_t
 
couTy
)

1606 
vue
;

1608 if(
couTy
 >
EPON_OAM_COUNTERTYPE_END
)

1613 
	`m_wa
(&
mDbAcssSem
);

1614 
couTy
)

1616 
EPON_OAM_COUNTERTYPE_TX
:

1617 
vue
 = 
mCou
[
idIdx
].
mTx
;

1619 
EPON_OAM_COUNTERTYPE_RX
:

1620 
vue
 = 
mCou
[
idIdx
].
mRx
;

1622 
EPON_OAM_COUNTERTYPE_TXINFO
:

1623 
vue
 = 
mCou
[
idIdx
].
mTxInfo
;

1625 
EPON_OAM_COUNTERTYPE_RXINFO
:

1626 
vue
 = 
mCou
[
idIdx
].
mRxInfo
;

1628 
EPON_OAM_COUNTERTYPE_TXORGSPEC
:

1629 
vue
 = 
mCou
[
idIdx
].
mTxOrgSc
;

1631 
EPON_OAM_COUNTERTYPE_RXORGSPEC
:

1632 
vue
 = 
mCou
[
idIdx
].
mRxOrgSc
;

1634 
EPON_OAM_COUNTERTYPE_DROP
:

1635 
vue
 = 
mCou
[
idIdx
].
mDr
;

1637 
EPON_OAM_COUNTERTYPE_LOSTLINK
:

1638 
vue
 = 
mCou
[
idIdx
].
mLoLk
;

1641 
	`m_po
(&
mDbAcssSem
);

1643  
vue
;

1644 
	}
}

	@epon_oam_dbg.c

25 
	~<dio.h
>

26 
	~<rg.h
>

27 
	~<dg.h
>

29 
	~"_m_cfig.h
"

30 
	~"_m_r.h
"

31 
	~"_m_db.h
"

32 
	~"_m_dbg.h
"

34 #i
EPON_OAM_DEBUG


42 
	gOamDbgFg
 = 
EPON_OAM_DBGFLAG_DEFAULT
;

43 
	gOamExtFg
 = 
EPON_OAM_DBGEXT_DEFAULT
;

53 
	$dump_fo_mPdu
(
id
, 
m_mInfo_t
 *
pOamInfo
)

55 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "id %x\n", 
id
);

56 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "vid %x\n", 
pOamInfo
->
vid
);

57 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "mV %x\n", 
pOamInfo
->
mV
);

58 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "visi %x\n", 
pOamInfo
->
visi
);

59 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "%x\n", 
pOamInfo
->
e
);

60 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "mCfig %x\n", 
pOamInfo
->
mCfig
);

61 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "mPduCfig %x\n", 
pOamInfo
->
mPduCfig
);

62 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "ou%02x:%02x:%02x\n", 
pOamInfo
->
oui
[0],

63 
pOamInfo
->
oui
[1],

64 
pOamInfo
->
oui
[2]);

65 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
, "vdScInf%02x:%02x:%02x:%02x\n", 
pOamInfo
->
vdScInfo
[0],

66 
pOamInfo
->
vdScInfo
[1],

67 
pOamInfo
->
vdScInfo
[2],

68 
pOamInfo
->
vdScInfo
[3]);

69 
	}
}

71 
	$dump_hex_vue
(
ag
, *
hexVue
, 
ngth
)

73 
i
, 
j
;

74 
	`EPON_OAM_PRINT
(
ag
,

76 
i
 = 0, 
j
 = 0; i < 
ngth
 ; i ++)

78 if((
i
 % 0x10) == 0)

80 
	`EPON_OAM_PRINT
(
ag
, "%04x ", 
j
);

81 
j
++;

83 
	`EPON_OAM_PRINT
(
ag
, "%02x ", 
hexVue
[
i
]);

84 if((
i
 % 0x10) == 0x0f)

86 
	`EPON_OAM_PRINT
(
ag
, "\n");

89 
	`EPON_OAM_PRINT
(
ag
, "\n");

90 
	}
}

93 
	$_m_dbgFg_t
(

94 
ag
)

96 
OamDbgFg
 = 
ag
;

97 
	}
}

100 
	$_m_dbgFg_g
(

101 *
pFg
)

103 *
pFg
 = 
OamDbgFg
;

104 
	}
}

107 
	$_m_dbgExt_t
(

108 
ag
)

110 
OamExtFg
 = 
ag
;

111 
	}
}

114 
	$_m_dbgExt_g
(

115 *
pFg
)

117 *
pFg
 = 
OamExtFg
;

118 
	}
}

121 
	$_m_t
(

122 
ag
,

123 *
fmt
,

126 
bufr
[256];

127 
va_li
 
gs
;

129 if((
OamDbgFg
 & 
ag
) != 0)

131 
	`va_t
(
gs
, 
fmt
);

132 
	`vrtf
(
bufr
, 
fmt
, 
gs
);

133 
	`tf
(
bufr
);

134 
	`va_d
(
gs
);

136 
	}
}

	@epon_oam_main.c

26 
	~<dio.h
>

27 
	~<rg.h
>

28 
	~<had.h
>

29 
	~<mhe.h
>

30 
	~<o.h
>

31 
	~<sigl.h
>

32 
	~<time.h
>

33 
	~<sys/tys.h
>

34 
	~<sys/c.h
>

35 
	~<sys/msg.h
>

36 
	~<sys/shm.h
>

38 
	~<k/.h
>

39 
	~<k/.h
>

40 
	~<k/m.h
>

41 
	~<h/comm/h.h
>

43 
	~"_m_cfig.h
"

44 
	~"_m_rx.h
"

45 
	~"_m_db.h
"

46 
	~"_m_msgq.h
"

47 
	~"_m_dbg.h
"

48 
	~"_m_r.h
"

50 
	~"c_m.h
"

51 
	~"h3c.h
"

53 
	~"lw_cfig.h
"

55 
	~<k/gpio.h
>

56 
	~<k/d.h
>

57 
	~<sys/time.h
>

58 
	~<lw_ty.h
>

60 
	~<lw_cfig_i.h
>

61 
	~<lw_cfig_oid.h
>

62 
	~<lw_drv_pub.h
>

64 
	~<lw_drv_q.h
>

65 
	~"m_m.h
"

66 
	~<syemlog.h
>

67 
	~<c_oc.h
>

68 
	~<sys/tys.h
>

69 
	~<sys/c.h
>

70 
	~<sys/msg.h
>

75 
	#EPON_OAM_STATEKEEPER_SIG_START
 (
SIGRTMIN
+3)

	)

76 
	#EPON_OAM_KEEPALIVE_TIME
 (5000

	)

77 
	gm_fd
;

82 
	gmsgQId
;

83 
tim_t
 
	gskKlive
[
EPON_OAM_SUPPORT_LLID_NUM
];

84 
	govTime
;

85 
timeec
 
	govTimeSc
;

86 
	gbackoffTime
;

87 
timeec
 
	gbackoffTimeSc
;

88 
k_ab_t
 
	ge
;

89 
	gm_discovy_e
;

90 
sys_cfig_t
 
	gsys_cfig
;

91 
	gtimeout_cou
=0;

95 
	#EPON_TIMER_SET
(
timId
,
ms
,
t
\

	)

97 
imec
 
	gs
; \

99 
	gs
.
	g_vue
.
	gtv_c
 = 
ms
/1000; \

100 
	gs
.
	g_vue
.
	gtv_nc
 = (
ms
%1000) * 1000000; \

101 
	gs
.
	g_rv
.
	gtv_c
 = 
s
.
_vue
.
tv_c
; \

102 
	gs
.
	g_rv
.
	gtv_nc
 = 
s
.
_vue
.
tv_nc
; \

103 
	gt
 = 
tim_ime
(
timId
, 0, &
s
, 
NULL
); \

124 
	$_m_ur_
()

127 
	`c_m_
();

128 #i
	`defed
(
CONFIG_ONU_COMPATIBLE
)

131 
	`h3c_m_
();

133 
	`bdcom_m_
();

135 
	`yc_m_
();

136 
	`huawei_m_
();

137 
	`huawei_yc_m_
();

138 
	`z_m_
();

140 
	`fibhome_m_
();

143 
	}
}

161 
	$_m_urDb_
(

162 
idIdx
)

165 
	`c_m_db_
(
idIdx
);

166 
	}
}

170 
	$_m_evt_nd
(

171 
idIdx
,

172 
evtId
)

174 
t
;

175 
m_msgqEvtDa_t
 
evt
;

177 
evt
.
mty
 = 
evtId
;

178 
evt
.
msgqDa
.
idIdx
 =lidIdx;

179 
evt
.
msgqDa
.
daSize
 = 0;

180 
t
 = 
	`msgd
(
msgQId
, (*)&
evt
, 0, 
IPC_NOWAIT
);

181 if(-1 =
t
)

183 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

184 "[OAM:%s:%d] msgd faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

185  
EPON_OAM_ERR_MSGQ
;

188  
EPON_OAM_ERR_OK
;

189 
	}
}

191 
	$_m_evtDa_nd
(

192 
idIdx
,

193 
evtId
,

194 *
da
,

195 
daL
)

197 
t
;

198 
m_msgqEvtDa_t
 
evtDa
;

200 if(
daL
 > 
EPON_OAM_EVENTDATA_MAX
)

202  
EPON_OAM_ERR_PARAM
;

205 
evtDa
.
mty
 = 
evtId
;

206 
evtDa
.
msgqDa
.
idIdx
 =lidIdx;

207 
evtDa
.
msgqDa
.
daSize
 = 
daL
;

208 
	`memy
(
evtDa
.
msgqDa
.
da
, da, 
daL
);

209 
t
 = 
	`msgd
(
msgQId
, (*)&
evtDa
, vtDa.
msgqDa
), 
IPC_NOWAIT
);

210 if(-1 =
t
)

212 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

213 "[OAM:%s:%d] msgd faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

214  
EPON_OAM_ERR_MSGQ
;

217  
EPON_OAM_ERR_OK
;

218 
	}
}

220 
	$_m_klive_timeout
(

221 
sig
,

222 
sigfo_t
 *
si
,

223 *
uc
)

225 
	`_m_evt_nd
(
sig
 - 
EPON_OAM_STATEKEEPER_SIG_START
, 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
);

227 
	}
}

229 
	$_m_hdov_timeout
(

230 
sig
)

234 
	}
}

236 
	$_eKr_tim_
()

238 
i
;

239 
sigt_t
 
sigMask
;

240 
sigai
 

;

241 
sigevt
 
vp
;

247 
i
 = 0;< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

249 

.
_ags
 = 
SA_SIGINFO
;

250 

.
_sigai
 = 
_m_klive_timeout
;

251 
	`sigemyt
(&

.
_mask
);

253 if(-1 =
	`sigai
(
EPON_OAM_STATEKEEPER_SIG_START
 + 
i
, &

, 
NULL
))

255 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

256 "[OAM:%s:%d] sigai s faed %d %d\n", 
__FILE__
, 
__LINE__
, 
o
, 
i
);

260 
vp
.
sigev_nify
 = 
SIGEV_SIGNAL
;

261 
vp
.
sigev_signo
 = 
EPON_OAM_STATEKEEPER_SIG_START
 + 
i
;

262 
vp
.
sigev_vue
.
siv_r
 = &
skKlive
[
i
];

263 if(-1 =
	`tim_
(
CLOCK_REALTIME
, &
vp
, &
skKlive
[
i
]))

265 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

266 "[OAM:%s:%d] klivtim ced %d\n", 
__FILE__
, 
__LINE__
, 
o
);

270 
	}
}

273 
cExtInfoCheck
;

276 
	$_m_iggMp_g
(

277 
idIdx
)

279 
t
;

280 
k__id_y_t
 
idEry
;

281 
k__gReq_t
 
gEry
;

284 
idEry
.
idIdx
 =lidIdx;

285 
t
 = 
	`k__id_y_g
(&
idEry
);

286 if(
t
)

288  
t
;

291 
idEry
.
vid
 = 
DISABLED
;

292 
idEry
.
id
 = 0x7fff;

293 
t
 = 
	`k__id_y_t
(&
idEry
);

294 if(
t
)

296  
t
;

299 
t
 = 
	`k__giReq_g
(&
gEry
);

300 if(
t
)

302  
t
;

304 
gEry
.
idIdx
 =lidIdx;

305 
gEry
.
doReque
 = 
ENABLED
;

306 
t
 = 
	`k__giReq_t
(&
gEry
);

307 if(
t
)

309  
t
;

311 
cExtInfoCheck
 = 0;

313 
	}
}

315 
	$_m_i_oc
(

316 
m_i_t
 *
pCli
)

318 
ag
;

319 
vue
;

320 
mPduFg
;

321 
m_cfig_t
 
mCfig
;

322 
m_mInfo_t
 
mInfo
;

323 
c_uAuthLoid_t
 
authLoid
;

325 
pCli
->
iTy
)

327 
EPON_OAM_CLI_DBG_SET
:

328 
	`_m_dbgFg_g
(&
ag
);

329 
	`tf
("EPON OAM debug fg 0x%08x -> ", 
ag
);

330 
	`_m_dbgFg_t
(
pCli
->
u
.
iDbg
.
ag
);

331 
	`_m_dbgFg_g
(&
ag
);

332 
	`tf
("0x%08x\n", 
ag
);

334 
EPON_OAM_CLI_DBG_GET
:

335 
	`_m_dbgFg_g
(&
ag
);

336 
	`tf
("EPON OAM debug fg 0x%08x\n", 
ag
);

338 
EPON_OAM_CLI_CFGOAM_SET
:

339 
	`_m_cfig_g
(
pCli
->
u
.
iEb
.
idIdx
, &
mCfig
);

340 
mCfig
.
mEbd
 = 
pCli
->
u
.
iEb
.
ab
;

341 
	`_m_cfig_t
(
pCli
->
u
.
iEb
.
idIdx
, &
mCfig
);

343 
EPON_OAM_CLI_CFGMAC_SET
:

344 
	`_m_cfig_g
(
pCli
->
u
.
iMac
.
idIdx
, &
mCfig
);

345 
	`memy
(
mCfig
.
macAddr
, 
pCli
->
u
.
iMac
.
mac
, 6);

346 
	`_m_cfig_t
(
pCli
->
u
.
iMac
.
idIdx
, &
mCfig
);

348 
EPON_OAM_CLI_CFGAUTOREG_SET
:

349 
	`_m_cfig_g
(
pCli
->
u
.
iAutoReg
.
idIdx
, &
mCfig
);

350 
mCfig
.
autoRegEb
 = 
pCli
->
u
.
iAutoReg
.autoRegEnable;

351 
mCfig
.
autoRegTime
 = 
pCli
->
u
.
iAutoReg
.autoRegTime;

352 
	`_m_cfig_t
(
pCli
->
u
.
iAutoReg
.
idIdx
, &
mCfig
);

354 
EPON_OAM_CLI_CFGHOLDOVER_SET
:

355 
	`_m_cfig_g
(
pCli
->
u
.
iHdov
.
idIdx
, &
mCfig
);

356 
mCfig
.
hdovEb
 = 
pCli
->
u
.
iHdov
.holdoverEnable;

357 
mCfig
.
hdovTime
 = 
pCli
->
u
.
iHdov
.holdoverTime;

358 
	`_m_cfig_t
(
pCli
->
u
.
iHdov
.
idIdx
, &
mCfig
);

360 
EPON_OAM_CLI_CFGEVENT_SET
:

361 
	`_m_cfig_g
(
pCli
->
u
.
iEvt
.
idIdx
, &
mCfig
);

362 
mCfig
.
evtRC
 = 
pCli
->
u
.
iEvt
.eventRepCnt;

363 
mCfig
.
evtRIvl
 = 
pCli
->
u
.
iEvt
.eventRepIntvl;

364 
	`_m_cfig_t
(
pCli
->
u
.
iEvt
.
idIdx
, &
mCfig
);

366 
EPON_OAM_CLI_CFG_GET
:

367 
	`_m_cfig_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, &
mCfig
);

368 
	`tf
("OAM cfigf LLID %u\n", 
pCli
->
u
.
iLlidIdx
.
idIdx
);

369 
	`tf
("OAM s: %s\n", 
mCfig
.
mEbd
 ? "enable" : "disable");

370 
	`tf
("MAC: %02x:%02x:%02x:%02x:%02x:%02x\n",

371 
mCfig
.
macAddr
[0],oamConfig.macAddr[1],oamConfig.macAddr[2],

372 
mCfig
.
macAddr
[3],oamConfig.macAddr[4],oamConfig.macAddr[5]);

373 
	`tf
("autoRegb: %s\n", 
mCfig
.
autoRegEb
 ? "enable" : "disable");

374 
	`tf
("autoRegime: %u ms\n", 
mCfig
.
autoRegTime
);

375 
	`tf
("hdovb: %s\n", 
mCfig
.
hdovEb
 ? "enable" : "disable");

376 
	`tf
("hdovime: %u ms\n", 
mCfig
.
hdovTime
);

377 
	`tf
("ev cou: %u\n", 
mCfig
.
evtRC
);

378 
	`tf
("ev iv: %u\n", 
mCfig
.
evtRIvl
);

380 
EPON_OAM_CLI_COUNTER_CLEAR
:

381 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

382 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

383 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

384 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

385 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

386 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

387 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

388 
	`_m_cou_
(
pCli
->
u
.
iEvt
.
idIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

390 
EPON_OAM_CLI_COUNTER_GET
:

391 
	`tf
("OAM couf LLID %u\n", 
pCli
->
u
.
iLlidIdx
.
idIdx
);

392 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

393 
	`tf
("Tx: %u\n", 
vue
);

394 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

395 
	`tf
("Rx: %u\n", 
vue
);

396 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

397 
	`tf
("Tx Info: %u\n", 
vue
);

398 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

399 
	`tf
("Rx Info: %u\n", 
vue
);

400 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

401 
	`tf
("Tx Orgnizi Scific: %u\n", 
vue
);

402 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

403 
	`tf
("Rx Orgnizi Scific: %u\n", 
vue
);

404 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

405 
	`tf
("Dr: %u\n", 
vue
);

406 
vue
 = 
	`_m_cou_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

407 
	`tf
("Lo Lk: %u\n", 
vue
);

409 
EPON_OAM_CLI_DBGEXT_SET
:

410 
	`_m_dbgExt_g
(&
ag
);

411 
	`tf
("EPON OAMxnded fg 0x%08x -> ", 
ag
);

412 
	`_m_dbgExt_t
(
pCli
->
u
.
iDbg
.
ag
);

413 
	`_m_dbgExt_g
(&
ag
);

414 
	`tf
("0x%08x\n", 
ag
);

416 
EPON_OAM_CLI_DBGEXT_GET
:

417 
	`_m_dbgExt_g
(&
ag
);

418 
	`tf
("EPON OAMxnded fg 0x%08x\n", 
ag
);

420 
EPON_OAM_CLI_FAILOVER_SET
:

421 
ovTime
 = 
pCli
->
u
.
iFaov
.
gnury
;

422 
ovTimeSc
.
tv_c
 = 
ovTime
 / 1000;

423 
ovTimeSc
.
tv_nc
 = (
ovTime
 % 1000) * 1000 * 1000;

424 
backoffTime
 = 
pCli
->
u
.
iFaov
.
backoff
;

425 
backoffTimeSc
.
tv_c
 = 
backoffTime
 / 1000;

426 
backoffTimeSc
.
tv_nc
 = (
backoffTime
 % 1000) * 1000 * 1000;

428 
EPON_OAM_CLI_FAILOVER_GET
:

429 
	`tf
("EPON OAM failoverarameters\n");

430 
	`tf
("Gnury: %u ms\n", 
ovTime
);

431 
	`tf
("backoff: %u ms\n", 
backoffTime
);

433 
EPON_OAM_CLI_OAMINFOOUI_SET
:

434 
	`_m_lolInfo_g
(
pCli
->
u
.
iMac
.
idIdx
, &
mInfo
);

435 
	`memy
(
mInfo
.
oui
, 
pCli
->
u
.
iMac
.
mac
, 3);

436 
	`_m_lolInfo_t
(
pCli
->
u
.
iMac
.
idIdx
, &
mInfo
);

438 
EPON_OAM_CLI_OAMINFO_GET
:

439 
	`_m_lolInfo_g
(
pCli
->
u
.
iMac
.
idIdx
, &
mInfo
);

440 
	`tf
("OAM Inff LLID %u\n", 
pCli
->
u
.
iLlidIdx
.
idIdx
);

441 
	`tf
("OUI: %02x:%02x:%02x\n",

442 
mInfo
.
oui
[0],oamInfo.oui[1],oamInfo.oui[2]);

444 
EPON_OAM_CLI_OAMSTATE_GET
:

445 
mPduFg
 = 
	`_m_mPduFg_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
);

446 
	`tf
("OAMPDU Satisfication\n");

447 
	`tf
(" Eval Stable\n");

448 
	`tf
(" Local %4u %6u\n",

449 (
mPduFg
 & 
EPON_OAM_FLAG_LOCAL_EVAL
) ? 1 : 0,

450 (
mPduFg
 & 
EPON_OAM_FLAG_LOCAL_STABLE
) ? 1 : 0);

451 
	`tf
("Remote %4u %6u\n",

452 (
mPduFg
 & 
EPON_OAM_FLAG_REMOTE_EVAL
) ? 1 : 0,

453 (
mPduFg
 & 
EPON_OAM_FLAG_REMOTE_STABLE
) ? 1 : 0);

455 
EPON_OAM_CLI_REG_TRIGGER
:

456 
	`_m_iggMp_g
(
pCli
->
u
.
iLlidIdx
.
idIdx
);

458 
CTC_OAM_CLI_LOID_GET
:

459 
	`c_m_uAuthLoid_g
(
pCli
->
u
.
iCtcLoid
.
idIdx
, &
authLoid
);

460 
	`tf
("LOID f LLID %d\n", 
pCli
->
u
.
iCtcLoid
.
idIdx
);

461 
	`tf
(" LOID: %s\n", 
authLoid
.
loid
);

462 
	`tf
("sswd: %s\n", 
authLoid
.
sswd
);

464 
CTC_OAM_CLI_LOID_SET
:

465 
	`ry
(
authLoid
.
loid
, 
pCli
->
u
.
iCtcLoid
.loid);

466 
	`ry
(
authLoid
.
sswd
, 
pCli
->
u
.
iCtcLoid
.password);

467 
	`c_m_uAuthLoid_t
(
pCli
->
u
.
iCtcLoid
.
idIdx
, &
authLoid
);

470 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

471 "[OAM:%s:%d] unsu܋d CLIy %u\n", 
__FILE__
, 
__LINE__
, 
pCli
->
iTy
);

474 
	}
}

475 
	$c_syem_que
(
hd
)

477 
c_syem_ack_t
 *
ck
;

478 
t
;

479 
ck
 = 
	`c_syem_q
(
m_fd
, 
hd
, 0);

480 i(
ck
){

481 
t
 = 
ck
->
hdr
.
us
;

483 
t
 = 
IPC_STATUS_FAIL
;

486 if(
ck

	`
(pack);

487  
t
;

488 
	}
}

489 
	glos_cou
=0;

490 
	gdiscovy_cou
=0;

492 *
	$_m_eKr
(*
gu
)

494 
t
;

495 
rms
;

496 
pushedL
 = 0;

497 
idIdx
;

498 
dygGaBuf
[
EPON_OAM_DYINGGASP_BUF_LEN
];

499 
key_t
 
msgQKey
 = 1568;

500 
m_msgqEvtDa_t
 
evtDa
;

501 
imec
 
s
;

502 
m_mInfo_t
 
mInfo
;

503 
k__id_y_t
 
idEry
;

504 
msgfo
 
mqAr
;

510 
rms
 = 00666;

511 
rms
 |
IPC_CREAT
;

512 
msgQId
 = 
	`msgg
(
msgQKey
, 
rms
);

513 if(-1 =
msgQId
)

515 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

516 "[OAM:%s:%d] msgq ced %d\n", 
__FILE__
, 
__LINE__
, 
o
);

517  
NULL
;

519 i(
	`msgl
(
msgQId
,
MSG_INFO
,(
msqid_ds
 *)&
mqAr
) < 0)

521 
	`tf
("get msgqttr fail\n");

526 
	`_eKr_tim_
();

530 
t
 = 
	`msgrcv
(
msgQId
, (*&
evtDa
, vtDa.
msgqDa
), 0, 0);

531 if(-1 =
t
)

533 if(
EINTR
 =
o
)

539 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

540 "[OAM:%s:%d] msgqecv faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

545 
idIdx
 = 
evtDa
.
msgqDa
.llidIdx;

546 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

552 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

553 "LLIDIdx %u EvtTy %u\n", 
idIdx
, 
evtDa
.
mty
);

554 
evtDa
.
mty
)

556 
EPON_OAM_EVENT_DISCOVERY_COMPLETE
:

558 if(0 =
pushedL
)

560 
	`_m_dygGa_g
(
idIdx
, 
dygGaBuf
, 
EPON_OAM_DYINGGASP_BUF_LEN
, &
pushedL
);

561 
	`_m_dygGa_nd
(
idIdx
, 
dygGaBuf
, 
pushedL
);

563 
discovy_cou
++;

566 
	`EPON_TIMER_SET
(
skKlive
[
idIdx
], 
EPON_OAM_KEEPALIVE_TIME
, 
t
)

567 if(0 !
t
)

569 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

570 "[OAM:%s:%d]im s faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

576 if((
t
 = 
	`k_m_muɝxAi_t
(4,
OAM_MULTIPLEXER_ACTION_FORWARD
)!
RT_ERR_OK
)

584 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
:

585 
timeout_cou
++;

586 
EPON_OAM_EVENT_LOS
:

587 
los_cou
++;

589 
	`EPON_TIMER_SET
(
skKlive
[
idIdx
], 0, 
t
)

590 if(0 !
t
)

592 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

593 "[OAM:%s:%d]im s faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

598 
	`_m_discovyLlid_
(
idIdx
);

599 
	`_m_urDb_
(
idIdx
);

601 
	`_m_meInfo_
(
idIdx
);

603 
	`_m_lolInfo_g
(
idIdx
, &
mInfo
);

604 
mInfo
.
visi
 = 0;

605 
	`_m_lolInfo_t
(
idIdx
, &
mInfo
);

606 
	`_m_cou_c
(
idIdx
, 
EPON_OAM_COUNTERTYPE_LOSTLINK
);

610 if(
timeout_cou
==3)

612 
	`c_syem_que
(
IPC_SYS_REBOOT
);

614 if((
t
 = 
	`k_m_muɝxAi_t
(4,
OAM_MULTIPLEXER_ACTION_DISCARD
)!
RT_ERR_OK
)

616 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

617 "[OAM:%s:%d] OAM muɝxAi s faed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

622 
EPON_OAM_EVENT_KEEPALIVE_RESET
:

624 
	`EPON_TIMER_SET
(
skKlive
[
idIdx
], 
EPON_OAM_KEEPALIVE_TIME
, 
t
)

625 if(0 !
t
)

627 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

628 "[OAM:%s:%d]im s faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

631 
EPON_OAM_EVENT_CLI
:

632 if(
evtDa
.
msgqDa
.
daSize
)

634 
	`_m_i_oc
((
m_i_t
 *
evtDa
.
msgqDa
.
da
);

638 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

639 "[OAM:%s:%d] Unsu܋dv%d\n", 
__FILE__
, 
__LINE__
, 
evtDa
.
mty
);

644  
NULL
;

645 
	}
}

647 
	ge_ag
 = 0;

651 
	$LOSLedTimCb
()

653 
cou
 = 0;

654 
p_vcc
=0;

655 if(
DISABLED
 !
e
)

657 
	`Iol_GGpioV
(
PON_VCC_GPIO
,&
p_vcc
);

658 
cou
++;

659 #i!
	`defed
(
CONFIG_PRODUCT_EPN105
)

660 if(
p_vcc
!=0)

662 i(
cou
 % 2 == 0)

664 ()
	`k_gpio_dab_t
(
PON_ALARM_GPIO
, 
LED_OFF
);

665 
cou
 = 0;

669 ()
	`k_gpio_dab_t
(
PON_ALARM_GPIO
, 
LED_ON
);

671 ()
	`k_d_ΖEb_t
(
PON_LINK_LED
,
DISABLED
);

675 ()
	`k_d_ΖEb_t
(
PON_LINK_LED
,
DISABLED
);

678 if(
p_vcc
!=0)

680 i(
cou
 % 2 == 0)

682 ()
	`k_gpio_dab_t
(
PON_LOS_GPIO
, 
LED_OFF
);

683 
cou
 = 0;

687 ()
	`k_gpio_dab_t
(
PON_LOS_GPIO
, 
LED_ON
);

689 ()
	`k_gpio_dab_t
(
PON_LINK_GPIO
, 
LED_OFF
);

693 ()
	`k_gpio_dab_t
(
PON_LINK_GPIO
, 
LED_OFF
);

704 
	`Iol_GGpioV
(
PON_VCC_GPIO
,&
p_vcc
);

705 if(
p_vcc
!=0)

707 if(
EPON_OAM_STATE_COMPLETE
 =
m_discovy_e
)

709 #i!
	`defed
(
CONFIG_PRODUCT_EPN105
)

710 ()
	`k_gpio_dab_t
(
PON_ALARM_GPIO
, 
LED_OFF
);

711 ()
	`k_d_ΖEb_t
(
PON_LINK_LED
, 
ENABLED
);

713 ()
	`k_gpio_dab_t
(
PON_LOS_GPIO
, 
LED_OFF
);

714 ()
	`k_gpio_dab_t
(
PON_LINK_GPIO
, 
LED_ON
);

716 
e_ag
++;

717 
timeout_cou
=0;

721 
cou
++;

722 #i!
	`defed
(
CONFIG_PRODUCT_EPN105
)

723 i(
cou
 % 2 == 0)

725 ()
	`k_gpio_dab_t
(
PON_ALARM_GPIO
, 
LED_OFF
);

726 
cou
 = 0;

730 ()
	`k_gpio_dab_t
(
PON_ALARM_GPIO
, 
LED_ON
);

732 ()
	`k_d_ΖEb_t
(
PON_LINK_LED
,
DISABLED
);

734 i(
cou
 % 2 == 0)

736 ()
	`k_gpio_dab_t
(
PON_LOS_GPIO
, 
LED_OFF
);

737 
cou
 = 0;

741 ()
	`k_gpio_dab_t
(
PON_LOS_GPIO
, 
LED_ON
);

743 ()
	`k_gpio_dab_t
(
PON_LINK_GPIO
, 
LED_OFF
);

745 
e_ag
 = 0;

750 #i!
	`defed
(
CONFIG_PRODUCT_EPN105
)

751 ()
	`k_d_ΖEb_t
(
PON_LINK_LED
,
DISABLED
);

753 ()
	`k_gpio_dab_t
(
PON_LINK_GPIO
, 
LED_OFF
);

758 if(
EPON_OAM_STATE_COMPLETE
 =
m_discovy_e
 && 1 =
e_ag
)

760 
	`USER_LOG
(
LgId
,
SYSTEM
,
LOG_NOTICE
,
M_OPTICALLINK
,"","");

762 
	}
}

765 
	$LOSLedIn
()

767 
imv
 
v
;

768 
v
.
_rv
.
tv_c
 = 0;

769 
v
.
_rv
.
tv_uc
 = 500000;

770 
v
.
_vue
.
tv_c
 = 0;

771 
v
.
_vue
.
tv_uc
 = 500000;

773 
	`tim
(
ITIMER_REAL
, &
v
, 
NULL
);

774 
	`sigl
(
SIGALRM
, 
LOSLedTimCb
);

777 #i
	`defed
(
CONFIG_PRODUCT_EPN105
)

778 ()
	`k_gpio_mode_t
(
PON_LOS_GPIO
, 
GPIO_OUTPUT
);

779 ()
	`k_gpio_e_t
(
PON_LOS_GPIO
, 
ENABLED
);

781 ()
	`k_gpio_mode_t
(
PON_ALARM_GPIO
, 
GPIO_OUTPUT
);

782 ()
	`k_gpio_e_t
(
PON_ALARM_GPIO
, 
ENABLED
);

785 
	}
}

787 *
	$_m_Recov
(*
gu
)

789 
t
;

790 
isId
;

791 
autoRegTime
[
EPON_OAM_SUPPORT_LLID_NUM
] = { 0 };

792 
m_cfig_t
 
idCf
;

793 
timeec
 
pTime
, 
maTime
;

796 
ovTime
 = 
EPON_OAM_FAILOVER_GRANULARITY
;

797 
ovTimeSc
.
tv_c
 = 
EPON_OAM_FAILOVER_GRANULARITY
 / 1000;

798 
ovTimeSc
.
tv_nc
 = (
EPON_OAM_FAILOVER_GRANULARITY
 % 1000) * 1000 * 1000;

799 
backoffTime
 = 
EPON_OAM_FAILOVER_BACKOFF
;

800 
backoffTimeSc
.
tv_c
 = 
EPON_OAM_FAILOVER_BACKOFF
 / 1000;

801 
backoffTimeSc
.
tv_nc
 = (
EPON_OAM_FAILOVER_BACKOFF
 % 1000) * 1000 * 1000;

803 
	`LOSLedIn
();

807 
pTime
.
tv_c
 = 
ovTimeSc
.tv_sec;

808 
pTime
.
tv_nc
 = 
ovTimeSc
.tv_nsec;

809 
FAIL_RECOVER_WAKE_UP1
:

810 
t
 = 
	`nop
(&
pTime
, &
maTime
);

811 if((
t
 =-1&& (
EINTR
 =
o
))

816 
pTime
 = 
maTime
;

817 
FAIL_RECOVER_WAKE_UP1
;

819 if(
t
 != 0)

821 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

822 "[OAM:%s:%d]oed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

826 
	`_m_cfig_g
(0, &
idCf
);

827 
	`_m_discovyIdLlid_g
(0, &
isId
, &
m_discovy_e
);

828 if((!
idCf
.
autoRegEb
) ||

829 (!
idCf
.
mEbd
) ||

830 (!
isId
))

837 
	`k__losS_g
(&
e
);

838 if(
DISABLED
 =
e
)

840 if(
autoRegTime
[0] < 
idCf
.autoRegTime)

842 
autoRegTime
[0] +
ovTime
;

847 
	`DRV_SFecMode
(
DISABLED
);

848 
	`_m_iggMp_g
(0);

849 
autoRegTime
[0] = 0;

852 
pTime
.
tv_c
 = 
backoffTimeSc
.tv_sec;

853 
pTime
.
tv_nc
 = 
backoffTimeSc
.tv_nsec;

854 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

855 "[OAM:%s:%d] Triggegi\n", 
__FILE__
, 
__LINE__
);

856 
FAIL_RECOVER_WAKE_UP2
:

857 
t
 = 
	`nop
(&
pTime
, &
maTime
);

858 if((
t
 =-1&& (
EINTR
 =
o
))

863 
pTime
 = 
maTime
;

864 
FAIL_RECOVER_WAKE_UP2
;

866 if(
t
 != 0)

868 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

869 "[OAM:%s:%d]oed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

875  
NULL
;

876 
	}
}

878 
	tOPL_STATUS
;

880 
OPL_STATUS
 
odmMuiIn
();

883 #i
defed
(
CONFIG_ONU_COMPATIBLE
)

886 
	$m_c_g_sys_comtib
(
comtib_g_t
 *
fo
)

888 
c_comtib_g_ack_t
 *
ck
;

889 
t
;

890 
ck
 = 
	`c_comtib_g_cfig
(
m_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

892 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

893 i(
fo
){

894 
	`memy
(
fo
, &
ck
->
comtib_g
, (*info));

896 
t
 = 
IPC_STATUS_OK
;

897 }i(
ck
){

898 
t
 = 
ck
->
hdr
.
us
;

900 
t
 = 
IPC_STATUS_FAIL
;

903 if(
ck

	`
(pack);

904  
t
;

905 
	}
}

908 
	$sigl_hdr
(
sig
)

910 
v
;

911 
comtib_g_t
 *
sys
 = &
sys_comtib
;

912 if(
SIGUSR1
 =
sig
)

914 
v
 = 
	`m_c_g_sys_comtib
(
m_fd
,
sys
);

915 if(
v
)

917 
sys
->
ab
 = 1;

920 
	}
}

922 *
_muti_rxThad
(*
gu
);

923 *
_m_icom_thad
(*
gu
);

926 
	$ma
(

927 
gc
,

928 *
gv
[])

930 
i
;

931 
had_t
 
th1
, 
th2
, 
th3
, 
th4
, 
th5
, 
th6
;

932 
	`k_ce_
();

934 
	`k__
();

935 
	`Syog_In
();

938 
m_fd
 = 
	`c__c
("eponoamd");

939 if(
m_fd
 < 0)

941 
	`tf
("%%d\n", 
__FUNCTION__
, 
__LINE__
);

943 #i
	`defed
(
CONFIG_ONU_COMPATIBLE
)

944 
	`sigl
(
SIGUSR1
, 
sigl_hdr
);

948 
	`k__mPduAi_t
(
ACTION_TRAP2CPU
);

950 
	`k_m_muɝxAi_t
(4,
OAM_MULTIPLEXER_ACTION_DISCARD
);

951 
	`_m_daba_
();

952 
	`_m_discovy_
();

953 
	`_m_ur_
();

954 
i
 = 0;< 
EPON_OAM_SUPPORT_LLID_NUM
;i++)

956 
	`_m_discovyLlid_
(
i
);

957 
	`_m_urDb_
(
i
);

960 if(
	`vosTimIn
() < 0)

962 
	`tf
("failed\r\n");

965 
	`odmMuiIn
();

967 
	`had_
(&
th1
, 
NULL
, &
_m_rxThad
, NULL);

968 
	`had_
(&
th2
, 
NULL
, &
_m_eKr
, NULL);

969 
	`had_
(&
th3
, 
NULL
, &
_m_Recov
, NULL);

971 
	`had_
(&
th4
, 
NULL
, &
_muti_rxThad
, NULL);

972 #i
	`defed
(
CONFIG_ONU_COMPATIBLE
)

973 
	`had_
(&
th5
, 
NULL
, &
_m_icom_thad
, NULL);

975 #i
OPL_ALARM_ENABLE


976 
	`had_
(&
th6
, 
NULL
, &
_m_c_m_thad
, NULL);

985 #i
	`defed
(
CONFIG_BOSA
)

986 
	`Iol_SGpioDOut
(
PON_VCC_GPIO
);

987 
	`Iol_SGpioV
(
PON_VCC_GPIO
, 
GPIO_DATABIT_0
);

988 
	`p
(1);

991 
	`Iol_SGpioDOut
(
PON_VCC_GPIO
);

992 
	`Iol_SGpioV
(
PON_VCC_GPIO
, 1);

996 
	`p
(100);

1000 
	}
}

	@epon_oam_rx.c

24 
	~<dio.h
>

25 
	~<mhe.h
>

26 
	~<rg.h
>

27 
	~<mloc.h
>

28 
	~<sys/sock.h
>

29 
	~<lux/Îk.h
>

30 
	~<o.h
>

32 
	~"_m_cfig.h
"

33 
	~"_m_rx.h
"

34 
	~"_m_db.h
"

35 
	~"_m_r.h
"

36 
	~"_m_dbg.h
"

37 
	~"_m_msgq.h
"

38 
	~"pkt_de_ur.h
"

40 
	~<memshe.h
>

41 
	~<k/.h
>

46 
	#MAX_PAYLOAD
 (1600)

	)

51 
	gpktRede_sock
;

52 
	gcuCtcV_webDis
 = 0;

54 
cExtInfoCheck
;

55 
cExtInfoC
;

64 
	$_m_maxOamPduSize_g
(

65 
idIdx
,

66 *
pMaxSize
)

68 
lolMax
, 
meMax
;

69 
m_mInfo_t
 
lolInfo
, 
meInfo
;

71 
	`memt
(&
lolInfo
, 0x0, (
m_mInfo_t
));

72 
	`memt
(&
meInfo
, 0x0, (
m_mInfo_t
));

75 
	`_m_lolInfo_g
(
idIdx
, &
lolInfo
);

76 
	`_m_meInfo_g
(
idIdx
, &
meInfo
);

78 if(
lolInfo
.
vid
 && 
meInfo
.valid)

80 
lolMax
 = (
lolInfo
.
mPduCfig
 & 0x7ff);

81 
meMax
 = (
meInfo
.
mPduCfig
 & 0x7ff);

83 *
pMaxSize
 = (
lolMax
 > 
meMax
) ?emoteMax :ocalMax;

85 if(
lolInfo
.
vid
)

87 
lolMax
 = (
lolInfo
.
mPduCfig
 & 0x7ff);

88 *
pMaxSize
 = 
lolMax
;

92  
EPON_OAM_ERR_UNKNOWN
;

96 *
pMaxSize
 -
EPON_OAMPDU_HDR_LENGTH
;

98  
EPON_OAM_ERR_OK
;

99 
	}
}

101 
	$_m_vReL_lc
(

102 
vTy
,

103 
m_vCڏ_t
 *
pVCڏ
)

105 
tL
;

106 
m_vCڏRe_t
 *
pVRe
;

109 
tL
 = 
EPON_VAR_OAMPDU_DESC_LEN
;

111 
pVRe
 = 
pVCڏ
->pVarResp;

112 
NULL
 !
pVRe
)

115 
tL
 += 1;

117 
tL
 +
	`EPON_VAR_OAMPDU_WIDTH
(
pVRe
->
vWidth
);

119 
pVRe
 =VRe->
xt
;

123 
vTy
)

125 
EPON_OAM_VARTYPE_OBJECT
:

126 
tL
 +
EPON_VAR_OAMPDU_OBJEND_LEN
;

128 
EPON_OAM_VARTYPE_PACKAGE
:

129 
tL
 +
EPON_VAR_OAMPDU_PKGEND_LEN
;

131 
EPON_OAM_VARTYPE_ATTRIBUTE
:

132 
EPON_OAM_VARTYPE_OBJECTID
:

138  (
tL
 < 0xffff) ?etLen : 0xffff;

139 
	}
}

141 
	$_m_vRe_
(

142 
m_vCڏ_t
 **
VCڏ
)

144 
m_vCڏRe_t
 *
pVRe
, *
pVNext
;

146 if(
NULL
 !*
VCڏ
)

149 
pVRe
 = (*
VCڏ
)->pVarResp;

150 
NULL
 !
pVRe
)

152 if(
NULL
 !
pVRe
->
vDa
)

154 
	`
(
pVRe
->
vDa
);

156 
pVNext
 = 
pVRe
->
xt
;

157 
	`
(
pVRe
);

158 
pVRe
 = 
pVNext
;

160 
	`
(*
VCڏ
);

161 *
VCڏ
 = 
NULL
;

163 
	}
}

165 
	$_m_dHdr_rr
(

166 
m_mPdu_t
 *
pOamPdu
,

167 *
pFme
,

168 
ngth
,

169 *
pExaL
)

171 *
pPP
;

173 
pPP
 = 
pFme
 + 6;

174 
	`memy
(
pOamPdu
->
cMacAddr
, 
pPP
, 6);

175 
pPP
 += (6 + 2 + 1);

176 ((*)(&
pOamPdu
->
ag
))[0] = *
pPP
;

177 
pPP
 ++;

178 ((*)(&
pOamPdu
->
ag
))[1] = *
pPP
;

179 
pPP
 ++;

180 
pOamPdu
->
code
 = *
pPP
;

181 
pPP
 += 1;

182 
pOamPdu
->
pDa
 = 
pPP
;

183 
pOamPdu
->
daL
 = 
ngth
 - (
pPP
 - 
pFme
);

184 *
pExaL
 = (
pPP
 - 
pFme
);

186  
EPON_OAM_ERR_OK
;

187 
	}
}

189 
	$_m_dInfo_rr
(

190 
m_mInfo_t
 *
pOamInfo
,

191 *
pFme
,

192 
ngth
,

193 *
pExaL
)

195 *
pPP
;

198 if(
EPON_INFO_OAMPDU_INFO_LEN
 > 
ngth
)

203 *
pExaL
 = 
ngth
;

204 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

205 "[OAM:%s:%d] couldم infOAMPDU\n", 
__FILE__
, 
__LINE__
);

206  
EPON_OAM_ERR_PARSE
;

209 
pPP
 = 
pFme
 + 1;

210 if(
EPON_INFO_OAMPDU_INFO_LEN
 !*
pPP
)

215 *
pExaL
 = 
ngth
;

216 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

217 "[OAM:%s:%d] infOAMPDUgth incܻ\n", 
__FILE__
, 
__LINE__
);

218  
EPON_OAM_ERR_PARSE
;

221 
pPP
 += 1;

222 
pOamInfo
->
mV
 = *
pPP
;

223 
pPP
 += 1;

224 ((*)(&
pOamInfo
->
visi
))[0] = *
pPP
;

225 
pPP
 += 1;

226 ((*)(&
pOamInfo
->
visi
))[1] = *
pPP
;

227 
pPP
 += 1;

228 
pOamInfo
->
e
 = *
pPP
;

229 
pPP
 += 1;

230 
pOamInfo
->
mCfig
 = *
pPP
;

231 
pPP
 += 1;

232 ((*)(&
pOamInfo
->
mPduCfig
))[0] = *
pPP
;

233 
pPP
 += 1;

234 ((*)(&
pOamInfo
->
mPduCfig
))[1] = *
pPP
;

235 
pPP
 += 1;

236 
	`memy
(
pOamInfo
->
oui
, 
pPP
, 
EPON_OAM_OUI_LENGTH
);

237 
pPP
 +
EPON_OAM_OUI_LENGTH
;

238 
	`memy
(
pOamInfo
->
vdScInfo
, 
pPP
, 
EPON_INFO_OAMPDU_VENDER_SPEC_LEN
);

239 
pPP
 +
EPON_INFO_OAMPDU_VENDER_SPEC_LEN
;

240 *
pExaL
 = (
pPP
 - 
pFme
);

242  
EPON_OAM_ERR_OK
;

243 
	}
}

245 
	$_m_gScInfo_rr
(

246 
idIdx
,

247 *
pFme
,

248 
ngth
,

249 *
pExaL
,

250 
oui
[],

251 **
OrgScDa
)

253 
t
;

254 *
pPP
;

255 
cbExaL
, 
gScL
;

256 
m_foOrgScCb_t
 
gScCb
;

264 if
EPON_INFO_OAMPDU_ORGSPEC_MIN_LEN
 > 
ngth
)

269 *
pExaL
 = 
ngth
;

270 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

271 "[OAM:%s:%d] couldم infOAMPDU\n", 
__FILE__
, 
__LINE__
);

272  
EPON_OAM_ERR_PARSE
;

275 
pPP
 = 
pFme
 + 1;

276 
gScL
 = *
pPP
;

277 if(
ngth
 < 
gScL
)

282 *
pExaL
 = 
ngth
;

283 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

284 "[OAM:%s:%d] OAMPDUgth incܻ\n", 
__FILE__
, 
__LINE__
);

285  
EPON_OAM_ERR_PARSE
;

288 
pPP
 += 1;

289 
	`memy
(
oui
, 
pPP
, 
EPON_OAM_OUI_LENGTH
);

290 
pPP
 += 3;

291 
gScCb
.
rr
 = 
NULL
;

292 
gScCb
.
hdr
 = 
NULL
;

293 
t
 = 
	`_m_gScCb_g
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, 
oui
, (*&
gScCb
);

294 if(
EPON_OAM_ERR_OK
 !
t
)

299 
	`_m_defOrgScCb_g
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, (*&
gScCb
);

302 
cbExaL
 = 0;

303 if(
NULL
 !
gScCb
.
rr
)

305 
t
 = 
gScCb
.
	`rr
(

306 
idIdx
,

307 
pFme
,

308 
ngth
,

309 &
cbExaL
,

310 
OrgScDa
);

313 if((
EPON_OAM_ERR_OK
 !
t
|| (
NULL
 =
gScCb
.
rr
|| (
gScL
 !
cbExaL
))

321 *
pExaL
 = 
ngth
;

322 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

323 "[OAM:%s:%d] c'r infgizi scifiOAM\n", 
__FILE__
, 
__LINE__
);

324  
EPON_OAM_ERR_PARSE
;

326 *
pExaL
 = 
cbExaL
;

328  
EPON_OAM_ERR_OK
;

329 
	}
}

331 
	$_m_gScInfo_hdr
(

332 
m_mPdu_t
 *
pOamPdu
,

333 *
pRlyBuf
,

334 
bufL
,

335 *
pRlyL
,

336 
oui
[],

337 **
OrgScDa
)

339 
t
;

340 
m_foOrgScCb_t
 
gScCb
;

346 
gScCb
.
rr
 = 
NULL
;

347 
gScCb
.
hdr
 = 
NULL
;

348 
t
 = 
	`_m_gScCb_g
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, 
oui
, (*&
gScCb
);

349 if(
EPON_OAM_ERR_OK
 !
t
)

354 
	`_m_defOrgScCb_g
(
EPON_OAM_CBTYPE_INFO_ORGSPEC
, (*&
gScCb
);

357 if(
NULL
 !
gScCb
.
hdr
)

359 
t
 = 
gScCb
.
	`hdr
(

360 
pOamPdu
,

361 
pRlyBuf
,

362 
bufL
,

363 
pRlyL
,

364 
OrgScDa
);

367 if((
EPON_OAM_ERR_OK
 !
t
|| (
NULL
 =
gScCb
.
hdr
|| (
bufL
 < *
pRlyL
))

376 *
pRlyL
 = 0;;

377 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

378 "[OAM:%s:%d] c'hd infgizi scifiOAM\n", 
__FILE__
, 
__LINE__
);

379  
EPON_OAM_ERR_HANDLE
;

382  
EPON_OAM_ERR_OK
;

383 
	}
}

385 
	$_m_dEvt_rr
(

386 
evtTy
,

387 *
pFme
,

388 
ngth
,

389 *
pExaL
)

391 
mL
;

392 *
pPP
;

395 
evtTy
)

397 
EPON_EVENT_OAMPDU_TYPE_ESPE
:

398 
mL
 = 
EPON_EVENT_OAMPDU_ESPE_LEN
;

400 
EPON_EVENT_OAMPDU_TYPE_EFE
:

401 
mL
 = 
EPON_EVENT_OAMPDU_EFE_LEN
;

403 
EPON_EVENT_OAMPDU_TYPE_EFPE
:

404 
mL
 = 
EPON_EVENT_OAMPDU_EFPE_LEN
;

406 
EPON_EVENT_OAMPDU_TYPE_EFSSE
:

407 
mL
 = 
EPON_EVENT_OAMPDU_EFPE_LEN
;

410  
EPON_OAM_ERR_PARAM
;

413 if(
mL
 > 
ngth
)

418 *
pExaL
 = 
ngth
;

419 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

420 "[OAM:%s:%d] couldمvOAMPDU\n", 
__FILE__
, 
__LINE__
);

421  
EPON_OAM_ERR_PARSE
;

424 
pPP
 = 
pFme
 + 1;

425 if(
mL
 !*
pPP
)

430 *
pExaL
 = 
ngth
;

431 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

432 "[OAM:%s:%d]vOAMPDUgth incܻ\n", 
__FILE__
, 
__LINE__
);

433  
EPON_OAM_ERR_PARSE
;

437 *
pExaL
 = 
mL
;

439  
EPON_OAM_ERR_OK
;

440 
	}
}

442 
	$_m_gScEvt_rr
(

443 
idIdx
,

444 *
pFme
,

445 
ngth
,

446 *
pExaL
,

447 
oui
[],

448 **
OrgScDa
)

450 
t
;

451 *
pPP
;

452 
cbExaL
, 
gScL
;

453 
m_evtOrgScCb_t
 
gScCb
;

461 if
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
 > 
ngth
)

466 *
pExaL
 = 
ngth
;

467 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

468 "[OAM:%s:%d] couldمvOAMPDU\n", 
__FILE__
, 
__LINE__
);

469  
EPON_OAM_ERR_PARSE
;

472 
pPP
 = 
pFme
 + 1;

473 
gScL
 = *
pPP
;

474 if(
ngth
 < 
gScL
)

479 *
pExaL
 = 
ngth
;

480 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

481 "[OAM:%s:%d] OAMPDUgth incܻ\n", 
__FILE__
, 
__LINE__
);

482  
EPON_OAM_ERR_PARSE
;

485 
pPP
 += 1;

486 
	`memy
(
oui
, 
pPP
, 
EPON_OAM_OUI_LENGTH
);

487 
pPP
 += 3;

488 
gScCb
.
rr
 = 
NULL
;

489 
gScCb
.
hdr
 = 
NULL
;

490 
t
 = 
	`_m_gScCb_g
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, 
oui
, (*&
gScCb
);

491 if(
EPON_OAM_ERR_OK
 !
t
)

496 
	`_m_defOrgScCb_g
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, (*&
gScCb
);

499 
cbExaL
 = 0;

500 if(
NULL
 !
gScCb
.
rr
)

502 
t
 = 
gScCb
.
	`rr
(

503 
idIdx
,

504 
pFme
,

505 
ngth
,

506 &
cbExaL
,

507 
OrgScDa
);

510 if((
EPON_OAM_ERR_OK
 !
t
|| (
NULL
 =
gScCb
.
rr
|| (
gScL
 !
cbExaL
))

518 *
pExaL
 = 
ngth
;

519 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

520 "[OAM:%s:%d] c'rvgizi scifiOAM\n", 
__FILE__
, 
__LINE__
);

521  
EPON_OAM_ERR_PARSE
;

523 *
pExaL
 = 
cbExaL
;

525  
EPON_OAM_ERR_OK
;

526 
	}
}

528 
	$_m_gScEvt_hdr
(

529 
m_mPdu_t
 *
pOamPdu
,

530 *
pRlyBuf
,

531 
bufL
,

532 *
pRlyL
,

533 
oui
[],

534 **
OrgScDa
)

536 
t
;

537 
m_evtOrgScCb_t
 
gScCb
;

543 
gScCb
.
rr
 = 
NULL
;

544 
gScCb
.
hdr
 = 
NULL
;

545 
t
 = 
	`_m_gScCb_g
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, 
oui
, (*&
gScCb
);

546 if(
EPON_OAM_ERR_OK
 !
t
)

551 
	`_m_defOrgScCb_g
(
EPON_OAM_CBTYPE_EVENT_ORGSPEC
, (*&
gScCb
);

554 if(
NULL
 !
gScCb
.
hdr
)

556 
t
 = 
gScCb
.
	`hdr
(

557 
pOamPdu
,

558 
pRlyBuf
,

559 
bufL
,

560 
pRlyL
,

561 
OrgScDa
);

564 if((
EPON_OAM_ERR_OK
 !
t
|| (
NULL
 =
gScCb
.
hdr
|| (
bufL
 < *
pRlyL
))

573 *
pRlyL
 = 0;;

574 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

575 "[OAM:%s:%d] c'hd˃vgizi scifiOAM\n", 
__FILE__
, 
__LINE__
);

576  
EPON_OAM_ERR_HANDLE
;

579  
EPON_OAM_ERR_OK
;

580 
	}
}

582 
	$_m_dInfo_oss
(

583 
m_mPdu_t
 *
pOamPdu
,

584 **
RlyOamPdu
,

585 *
pRlyL
)

587 
t
;

588 *
pOrgScDa
;

589 
oui
[3];

590 
isEnd
;

591 *
pProcP
, *
pRlyP
;

592 
maL
, 
exaL
;

593 
bufL
, 
yL
;

594 
m_mInfo_t
 
mInfo
, 
lolOamInfo
, 
ϡRInfo
, 
ϡLInfo
, 
cuLInfo
;

601 
isEnd
 = 0;

602 
pProcP
 = 
pOamPdu
->
pDa
;

603 
maL
 = 
pOamPdu
->
daL
;

606 
t
 = 
	`_m_maxOamPduSize_g
(
pOamPdu
->
idIdx
, &
bufL
);

607 if(
EPON_OAM_ERR_OK
 !
t
)

610 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

611 "[OAM:%s:%d] c'g OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

612  
EPON_OAM_ERR_UNKNOWN
;

615 
pRlyP
 = (*)
	`mloc
((* 
bufL
);

616 if(
NULL
 =
pRlyP
)

619 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

620 "[OAM:%s:%d] c'lo memy f܄ly OAMPDU\n", 
__FILE__
, 
__LINE__
);

621  
EPON_OAM_ERR_MEM
;

624 
bufL
 -= 1;

625 *
RlyOamPdu
 = 
pRlyP
;

628 
	`_m_lolInfo_g
(
pOamPdu
->
idIdx
, &
ϡLInfo
);

629 (
maL
 >1&& (1 !
isEnd
&& (
bufL
 >= 1))

631 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

632 "[OAM:%s:%d] infty 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcP
);

633 
yL
 = 0;

634 *
pProcP
)

636 
EPON_INFO_OAMPDU_TYPE_END
:

638 
isEnd
 = 1;

639 
maL
 --;

640 
pProcP
 ++;

642 
EPON_INFO_OAMPDU_TYPE_LOCAL
:

644 
t
 = 
	`_m_dInfo_rr
(&
mInfo
, 
pProcP
, 
maL
, &
exaL
);

645 if((
EPON_OAM_ERR_OK
 !
t
|| (
maL
 < 
exaL
))

647 
maL
 = 0;

648 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

649 "[OAM:%s:%d]p_m_dInfo_rFaed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

652 
maL
 -
exaL
;

653 
pProcP
 +
exaL
;

657 
	`_m_meInfo_g
(
pOamPdu
->
idIdx
, &
ϡRInfo
);

658 if(
ϡRInfo
.
vid
 && (
mInfo
.
visi
 ==astRInfo.revision))

661 *
pRlyL
 = 0;

662  
EPON_OAM_ERR_OK
;

666 
t
 = 
	`_m_discovy_oc
(
pOamPdu
->
idIdx
,OamPdu, &
mInfo
);

667 if(
EPON_OAM_ERR_OK
 =
t
)

669 
	`_m_dInfo_g
(

670 
pOamPdu
->
idIdx
,

671 
pRlyP
,

672 
bufL
,

673 &
yL
);

674 
pRlyP
 +
yL
;

675 
bufL
 -
yL
;

678 
EPON_INFO_OAMPDU_TYPE_REMOTE
:

680 
t
 = 
	`_m_dInfo_rr
(&
mInfo
, 
pProcP
, 
maL
, &
exaL
);

681 if((
EPON_OAM_ERR_OK
 !
t
|| (
maL
 < 
exaL
))

683 
maL
 = 0;

684 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

685 "[OAM:%s:%d]p_m_dInfo_rFaed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

688 
maL
 -
exaL
;

689 
pProcP
 +
exaL
;

692 
	`_m_lolInfo_g
(
pOamPdu
->
idIdx
, &
lolOamInfo
);

693 if(
	`memcmp
(&
mInfo
, &
lolOamInfo
, (
m_mInfo_t
)) != 0)

695 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_DUMP
,

696 "[OAM:%s:%d] Reme'mِOAMPDU incsiloe\n", 
__FILE__
, 
__LINE__
);

699 if(
	`memcmp
(&
mInfo
.
oui
[0], &
lolOamInfo
.oui[0], 4) == 0)

701 if(
	`memcmp
(&
mInfo
.
vdScInfo
[0], &
lolOamInfo
.venderSpecInfo[0], 4) != 0)

703 
k__id_y_t
 
idEry
;

706 
idEry
.
idIdx
 = 
pOamPdu
->llidIdx;

707 
t
 = 
	`k__id_y_g
(&
idEry
);

708 if(
t
)

710  
t
;

712 
idEry
.
vid
 = 
DISABLED
;

713 
idEry
.
id
 = 0x7fff;

714 
t
 = 
	`k__id_y_t
(&
idEry
);

715 if(
t
)

717  
t
;

723 
EPON_INFO_OAMPDU_TYPE_ORG_SPEC
:

724 
pOrgScDa
 = 
NULL
;

726 
t
 = 
	`_m_gScInfo_rr
(

727 
pOamPdu
->
idIdx
,

728 
pProcP
,

729 
maL
,

730 &
exaL
,

731 
oui
,

732 &
pOrgScDa
);

733 if((
EPON_OAM_ERR_OK
 !
t
|| (
maL
 < 
exaL
))

735 
maL
 = 0;

736 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

737 "[OAM:%s:%d]p_m_gScInfo_rFaed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

740 
maL
 -
exaL
;

741 
pProcP
 +
exaL
;

743 
t
 = 
	`_m_gScInfo_hdr
(

744 
pOamPdu
,

745 
pRlyP
,

746 
bufL
,

747 &
yL
,

748 
oui
,

749 &
pOrgScDa
);

751 if(
EPON_OAM_ERR_OK
 !
t
)

753 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

754 "[OAM:%s:%d]p_m_gScInfo_hd˸Faed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

757 
pRlyP
 +
yL
;

758 
bufL
 -
yL
;

760 
EPON_INFO_OAMPDU_TYPE_RESERVED
:

762 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

763 "[OAM:%s:%d] Rerved infOAMy 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcP
);

765 
maL
 --;

766 
pProcP
 ++;

772 
	`_m_lolInfo_g
(
pOamPdu
->
idIdx
, &
cuLInfo
);

773 if(
	`memcmp
(&
cuLInfo
, &
ϡLInfo
, (currLInfo)) != 0)

776 
cuLInfo
.
visi
 ++;

777 
	`_m_lolInfo_t
(
pOamPdu
->
idIdx
, &
cuLInfo
);

781 *
pRlyP
 = 
EPON_INFO_OAMPDU_TYPE_END
;

782 
pRlyP
 ++;

783 *
pRlyL
 = (
pRlyP
 - *
RlyOamPdu
);

785  
EPON_OAM_ERR_OK
;

786 
	}
}

788 
	$_m_dEvt_oss
(

789 
m_mPdu_t
 *
pOamPdu
,

790 **
RlyOamPdu
,

791 *
pRlyL
)

793 
t
;

794 *
pOrgScDa
;

795 
oui
[3];

796 
isEnd
;

797 *
pProcP
, *
pRlyP
;

798 
maL
, 
exaL
;

799 
bufL
, 
yL
, 
qNumb
;

805 
isEnd
 = 0;

806 
pProcP
 = 
pOamPdu
->
pDa
;

807 
maL
 = 
pOamPdu
->
daL
;

809 
t
 = 
	`_m_maxOamPduSize_g
(
pOamPdu
->
idIdx
, &
bufL
);

810 if(
EPON_OAM_ERR_OK
 !
t
)

813 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

814 "[OAM:%s:%d] c'g OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

815  
EPON_OAM_ERR_UNKNOWN
;

818 
pRlyP
 = (*)
	`mloc
((* 
bufL
);

819 if(
NULL
 =
pRlyP
)

822 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

823 "[OAM:%s:%d] c'lo memy f܄ly OAMPDU\n", 
__FILE__
, 
__LINE__
);

824  
EPON_OAM_ERR_MEM
;

827 
bufL
 -= 1;

828 *
RlyOamPdu
 = 
pRlyP
;

830 if(
maL
 >= 2)

833 ((*)(&
qNumb
))[0] = *
pProcP
;

834 
pProcP
++;

835 ((*)(&
qNumb
))[1] = *
pProcP
;

836 
pProcP
++;

837 
maL
 -= 2;

840 (
maL
 >1&& (1 !
isEnd
&& (
bufL
 >= 1))

842 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

843 "[OAM:%s:%d]vty 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcP
);

844 
yL
 = 0;

845 *
pProcP
)

847 
EPON_EVENT_OAMPDU_TYPE_END
:

849 
isEnd
 = 1;

850 
maL
 --;

851 
pProcP
 ++;

853 
EPON_EVENT_OAMPDU_TYPE_ESPE
:

854 
EPON_EVENT_OAMPDU_TYPE_EFE
:

855 
EPON_EVENT_OAMPDU_TYPE_EFPE
:

856 
EPON_EVENT_OAMPDU_TYPE_EFSSE
:

857 
t
 = 
	`_m_dEvt_rr
(*
pProcP
,ProcP, 
maL
, &
exaL
);

858 if((
EPON_OAM_ERR_OK
 !
t
|| (
maL
 < 
exaL
))

860 
maL
 = 0;

861 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

862 "[OAM:%s:%d]p_m_dEvt_rFaed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

865 
maL
 -
exaL
;

866 
pProcP
 +
exaL
;

871 
EPON_EVENT_OAMPDU_TYPE_ORG_SPEC
:

872 
pOrgScDa
 = 
NULL
;

874 
t
 = 
	`_m_gScEvt_rr
(

875 
pOamPdu
->
idIdx
,

876 
pProcP
,

877 
maL
,

878 &
exaL
,

879 
oui
,

880 &
pOrgScDa
);

881 if((
EPON_OAM_ERR_OK
 !
t
|| (
maL
 < 
exaL
))

883 
maL
 = 0;

884 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

885 "[OAM:%s:%d]p_m_gScEvt_rFaed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

888 
maL
 -
exaL
;

889 
pProcP
 +
exaL
;

891 
t
 = 
	`_m_gScEvt_hdr
(

892 
pOamPdu
,

893 
pRlyP
,

894 
bufL
,

895 &
yL
,

896 
oui
,

897 &
pOrgScDa
);

899 if(
EPON_OAM_ERR_OK
 !
t
)

901 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

902 "[OAM:%s:%d]p_m_gScEvt_hd˸Faed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

905 
pRlyP
 +
yL
;

906 
bufL
 -
yL
;

908 
EPON_EVENT_OAMPDU_TYPE_RESERVED
:

910 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

911 "[OAM:%s:%d] RervedvOAMy 0x%02x\n", 
__FILE__
, 
__LINE__
, *
pProcP
);

913 
maL
 --;

914 
pProcP
 ++;

920 *
pRlyP
 = 
EPON_EVENT_OAMPDU_TYPE_END
;

921 
pRlyP
 ++;

922 *
pRlyL
 = (
pRlyP
 - *
RlyOamPdu
);

924  
EPON_OAM_ERR_OK
;

925 
	}
}

927 
	$_m_dVReq_oss
(

928 
m_mPdu_t
 *
pOamPdu
,

929 **
RlyOamPdu
,

930 *
pRlyL
)

932 
t
;

933 *
pProcP
, *
pRlyP
;

934 
maL
, 
lReL
;

935 
bufL
, 
maxBufL
;

936 
m_vCb_t
 
vCb
;

937 
m_vTg_t
 *
pVTg
 = 
NULL
, 
vTg
;

938 
m_vCڏ_t
 *
pVCڏ
;

939 (*
hdr
)(

940 
m_vTg_t
 *
pVTg
,

941 
m_vDest_t
 
vDesc
,

942 
m_vCڏ_t
 **
VCڏ
);

948 
pProcP
 = 
pOamPdu
->
pDa
;

949 
maL
 = 
pOamPdu
->
daL
;

951 
t
 = 
	`_m_maxOamPduSize_g
(
pOamPdu
->
idIdx
, &
maxBufL
);

952 if(
EPON_OAM_ERR_OK
 !
t
)

955 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

956 "[OAM:%s:%d] c'g OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

957  
EPON_OAM_ERR_UNKNOWN
;

960 
pRlyP
 = (*)
	`mloc
((* 
maxBufL
);

961 if(
NULL
 =
pRlyP
)

964 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

965 "[OAM:%s:%d] c'lo memy f܄ly OAMPDU\n", 
__FILE__
, 
__LINE__
);

966  
EPON_OAM_ERR_MEM
;

969 
bufL
 = 
maxBufL
 - 1;

970 *
RlyOamPdu
 = 
pRlyP
;

973 if((
maL
 >1&& (
EPON_VAR_OAMPDU_TYPE_END
 =*
pProcP
))

975 *
pRlyL
 = 0;

976  
EPON_OAM_ERR_OK
;

979 
maL
 >
EPON_VAR_OAMPDU_DESC_LEN
)

981 
vCb
.
vDesc
.
vBnch
 = *
pProcP
;

982 
pProcP
 ++;

983 
	`memy
(&
vCb
.
vDesc
.
vLf
, 
pProcP
, ());

984 
pProcP
 += 2;

985 
maL
 -
EPON_VAR_OAMPDU_DESC_LEN
;

987 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

989 
__FILE__
, 
__LINE__
, 
vCb
.
vDesc
.
vBnch
, vCb.vDesc.
vLf
);

991 
pVCڏ
 = 
NULL
;

993 
t
 = 
	`_m_vbCb_g
(&
vCb
);

994 if(
EPON_OAM_ERR_OK
 !
t
)

996 
hdr
 = 
NULL
;

998 
t
 = 
	`_m_defVCb_g
(&
hdr
);

999 if(
NULL
 !
hdr
)

1001 
t
 = 
	`hdr
(
pVTg
, 
vCb
.
vDesc
, &
pVCڏ
);

1007 if(
vCb
.
vTy
 =
EPON_OAM_VARTYPE_OBJECTID
)

1009 if(
maL
 >
EPON_VAR_OAMPDU_TARGET_LEN
)

1011 if(
EPON_VAR_OAMPDU_OBJID_LEN
 =*
pProcP
)

1014 
vTg
.
vDesc
 = 
vCb
.varDesc;

1015 
vTg
.
vWidth
 = 
EPON_VAR_OAMPDU_OBJID_LEN
;

1016 
pProcP
++;

1017 
	`memy
(&
vTg
.
vDa
, 
pProcP
, 
EPON_VAR_OAMPDU_OBJID_LEN
);

1018 
pProcP
 +
EPON_VAR_OAMPDU_OBJID_LEN
;

1019 
pVTg
 = &
vTg
;

1024 
pProcP
 +
EPON_VAR_OAMPDU_TARGET_LEN
;

1025 
maL
 -
EPON_VAR_OAMPDU_TARGET_LEN
;

1031 
pProcP
 +
maL
;

1032 
maL
 = 0;

1037 if(
NULL
 !
vCb
.
hdr
)

1040 
t
 = 
vCb
.
	`hdr
(
pVTg
, vCb.
vDesc
, &
pVCڏ
);

1044 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1045 "[OAM:%s:%d] unknowr\n", 
__FILE__
, 
__LINE__
);

1050 if((
EPON_OAM_ERR_OK
 =
t
&& (
NULL
 !
pVCڏ
))

1053 
lReL
 = 
	`_m_vReL_lc
(
vCb
.
vTy
, 
pVCڏ
);

1055 if(
lReL
 > 
maxBufL
)

1060 
	`_m_vReEL_g
(
pVCڏ
, 
pRlyP
);

1065 if(
lReL
 > 
bufL
)

1071 *
pRlyP
 = 
EPON_VAR_OAMPDU_TYPE_END
;

1072 
pRlyP
++;

1073 
bufL
--;

1075 
	`_m_y_nd
(

1076 
pOamPdu
->
idIdx
,

1077 
pOamPdu
->
code
,

1078 *
RlyOamPdu
,

1079 (
pRlyP
 - *
RlyOamPdu
));

1082 
pRlyP
 = (*)
	`mloc
((* 
maxBufL
);

1083 if(
NULL
 =
pRlyP
)

1086 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1087 "[OAM:%s:%d] c'lo memy f܄ly OAMPDU\n", 
__FILE__
, 
__LINE__
);

1088  
EPON_OAM_ERR_MEM
;

1090 
bufL
 = 
maxBufL
;

1091 *
RlyOamPdu
 = 
pRlyP
;

1095 
	`_m_vRe_g
(
vCb
.
vTy
, 
pVCڏ
, 
pRlyP
);

1096 
pRlyP
 +
lReL
;

1097 
bufL
 -
lReL
;

1099 
	`_m_vRe_
(&
pVCڏ
);

1102 if((
maL
 >1&& (
EPON_VAR_OAMPDU_TYPE_END
 =*
pProcP
))

1105 *
pRlyP
 = 
EPON_VAR_OAMPDU_TYPE_END
;

1106 
pRlyP
++;

1107 
bufL
--;

1111 *
pRlyL
 = (
pRlyP
 - *
RlyOamPdu
);

1113  
EPON_OAM_ERR_OK
;

1114 
	}
}

1116 
	$_m_dVRe_oss
(

1117 
m_mPdu_t
 *
pOamPdu
,

1118 **
RlyOamPdu
,

1119 *
pRlyL
)

1121 *
pRlyL
 = 0;

1122  
EPON_OAM_ERR_OK
;

1123 
	}
}

1125 
	$_m_dLoback_oss
(

1126 
m_mPdu_t
 *
pOamPdu
,

1127 **
RlyOamPdu
,

1128 *
pRlyL
)

1130 *
pRlyL
 = 0;

1131  
EPON_OAM_ERR_OK
;

1132 
	}
}

1134 
	$_m_dOrgSc_oss
(

1135 
m_mPdu_t
 *
pOamPdu
,

1136 **
RlyOamPdu
,

1137 *
pRlyL
)

1139 
t
;

1140 
oui
[3];

1141 *
pProcP
, *
pRlyP
;

1142 
maL
;

1143 
bufL
, 
yL
;

1144 
m_gScCb_t
 
gScCb
;

1150 
pProcP
 = 
pOamPdu
->
pDa
;

1151 
maL
 = 
pOamPdu
->
daL
;

1153 
t
 = 
	`_m_maxOamPduSize_g
(
pOamPdu
->
idIdx
, &
bufL
);

1154 if(
EPON_OAM_ERR_OK
 !
t
)

1157 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1158 "[OAM:%s:%d] c'g OAMPDU max size\n", 
__FILE__
, 
__LINE__
);

1159  
EPON_OAM_ERR_UNKNOWN
;

1162 
pRlyP
 = (*)
	`mloc
((* 
bufL
);

1163 if(
NULL
 =
pRlyP
)

1166 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1167 "[OAM:%s:%d] c'lo memy f܄ly OAMPDU\n", 
__FILE__
, 
__LINE__
);

1168  
EPON_OAM_ERR_MEM
;

1172 
	`memt
(
pRlyP
, 0, ((* 
bufL
));

1175 *
RlyOamPdu
 = 
pRlyP
;

1177 
oui
[0] = 
pProcP
[0];

1178 
oui
[1] = 
pProcP
[1];

1179 
oui
[2] = 
pProcP
[2];

1181 
gScCb
.
oss
 = 
NULL
;

1182 
t
 = 
	`_m_gScCb_g
(
EPON_OAM_CBTYPE_ORGSPEC
, 
oui
, (*&
gScCb
);

1183 if(
EPON_OAM_ERR_OK
 !
t
)

1188 
	`_m_defOrgScCb_g
(
EPON_OAM_CBTYPE_ORGSPEC
, (*&
gScCb
);

1191 
yL
 = 0;

1192 if(
NULL
 !
gScCb
.
oss
)

1194 
t
 = 
gScCb
.
	`oss
(

1195 
pOamPdu
,

1196 
pProcP
,

1197 
maL
,

1198 
pRlyP
,

1199 
bufL
,

1200 &
yL
);

1203 if((
EPON_OAM_ERR_OK
 !
t
|| (
bufL
 < 
yL
|| (
NULL
 =
gScCb
.
oss
))

1205 
yL
 = 0;

1206 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1207 "[OAM:%s:%d] orgScCb Faed %d\n", 
__FILE__
, 
__LINE__
, 
t
);

1209 *
pRlyL
 = 
yL
;

1211  
EPON_OAM_ERR_OK
;

1212 
	}
}

1217 #ifde
CONFIG_PRODUCT_5500


1218 
pStus_webDis_t
 *
	gg_pStus
 = 
NULL
;

1219 
m_discovy_e
;

1220 
	$pStusPasG

idIdx
)

1222 
cV
 = 0;

1223 *
pPP

NULL
;

1224 
mac
[6] = {0};

1225 
m_mInfo_t
 
meInfo
;

1226 
pStus_webDis_t
 *
pStus
 = 
g_pStus
;

1228 
pStus
->
isOƚe
 = (
m_discovy_e
==
EPON_OAM_STATE_COMPLETE
?1:0);

1229 if(1 =
pStus
->
isOƚe
)

1231 if(
cuCtcV_webDis
 <= 0x20)

1233 
	`rtf
(
pStus
->
cV
, "CTC 2.0");

1237 
	`rtf
(
pStus
->
cV
, "CTC 2.1");

1240 
	`memt
(&
meInfo
, 0x0, (
m_mInfo_t
));

1241 
	`_m_meInfo_g
(
idIdx
, &
meInfo
);

1242 
pStus
->
meInfovid
 = 
meInfo
.
vid
;

1243 if(
meInfo
.
vid
)

1245 
	`rtf
(
pStus
->
mV
, "%d", 
meInfo
.oamVer);

1246 
	`rtf
(
pStus
->
oui
, "%02x:%02x:%02x",

1247 
meInfo
.
oui
[0],

1248 
meInfo
.
oui
[1],

1249 
meInfo
.
oui
[2]);

1250 
	`rtf
(
pStus
->
vdScInfo
, "%02x:%02x:%02x:%02x",

1251 
meInfo
.
vdScInfo
[0],

1252 
meInfo
.
vdScInfo
[1],

1253 
meInfo
.
vdScInfo
[2],

1254 
meInfo
.
vdScInfo
[3]);

1257 
	}
}

1263 
	$_m_rx_hdr
(

1264 
idIdx
,

1265 *
ame
,

1266 
ngth
)

1268 
t
;

1269 *
pRlyOamPdu
;

1270 
yL
, 
exaL
;

1271 
m_mPdu_t
 
mPdu
;

1272 
m_cfig_t
 
mCfig
;

1273 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

1275 if(!
mCfig
.
mEbd
)

1277  
EPON_OAM_ERR_OK
;

1279 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_RXOAM
,

1280 "[OAM:%s:%d] OAMPDU Rx\n", 
__FILE__
, 
__LINE__
);

1281 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_RXOAM
, 
ame
, 
ngth
);

1282 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_RXOAM
, "\n");

1283 
	`_m_cou_c
(
idIdx
, 
EPON_OAM_COUNTERTYPE_RX
);

1289 if(
ngth
 < 60)

1292 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
, "[OAM:%s:%d] fmund size\n", 
__FILE__
, 
__LINE__
);

1293  
EPON_OAM_ERR_PARAM
;

1296 
	`memt
((*)&
mPdu
, 0x0, (
m_mPdu_t
));

1297 
mPdu
.
idIdx
 =lidIdx;

1298 
t
 = 
	`_m_dHdr_rr
(&
mPdu
, 
ame
, 
ngth
, &
exaL
);

1299 if(0 !
t
)

1301 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
, "[OAM:%s:%d]\n", 
__FILE__
, 
__LINE__
);

1304 
pRlyOamPdu
 = 
NULL
;

1305 
yL
 = 0;

1306 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1307 "[OAM:%s:%d]OamPdu->cod%d\n", 
__FILE__
, 
__LINE__
, 
mPdu
.
code
);

1308 
mPdu
.
code
)

1310 
EPON_OAMPDU_CODE_INFO
:

1311 
t
 = 
	`_m_dInfo_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1312 
	`_m_cou_c
(
mPdu
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXINFO
);

1313 if(
yL
 > 0)

1315 
	`_m_cou_c
(
mPdu
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXINFO
);

1318 if(
cExtInfoCheck
 == 1)

1320 
cExtInfoC
++;

1321 
	`tf
("\m c befܐCTC oam in ok (%d)\n",
cExtInfoC
);

1322 if(
cExtInfoC
 > 5)

1324 
cExtInfoC
=0;

1325 
	`tf
("\n CTCimeout!! dislable LLID\n");

1326 
	`_m_evt_nd
(0, 
EPON_OAM_EVENT_KEEPALIVE_TIMEOUT
);

1331 
EPON_OAMPDU_CODE_EVENT
:

1332 
t
 = 
	`_m_dEvt_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1334 
EPON_OAMPDU_CODE_VAR_REQ
:

1335 
t
 = 
	`_m_dVReq_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1337 
mPdu
.
code
 = 
EPON_OAMPDU_CODE_VAR_RESP
;

1339 
EPON_OAMPDU_CODE_VAR_RESP
:

1340 
t
 = 
	`_m_dVRe_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1342 
EPON_OAMPDU_CODE_LOOPBACK
:

1343 
t
 = 
	`_m_dLoback_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1345 
EPON_OAMPDU_CODE_ORG_SPEC
:

1346 
t
 = 
	`_m_dOrgSc_oss
(&
mPdu
, &
pRlyOamPdu
, &
yL
);

1347 
	`_m_cou_c
(
mPdu
.
idIdx
, 
EPON_OAM_COUNTERTYPE_RXORGSPEC
);

1348 if(
yL
 > 0)

1350 
	`_m_cou_c
(
mPdu
.
idIdx
, 
EPON_OAM_COUNTERTYPE_TXORGSPEC
);

1353 
EPON_OAMPDU_CODE_RESERVED
:

1355 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

1356 "[OAM:%s:%d] ieg OAMPDU cod%u\n", 
__FILE__
, 
__LINE__
, 
mPdu
.
code
);

1360 if(
yL
 > 0)

1362 
t
 = 
	`_m_y_nd
(
mPdu
.
idIdx
, oamPdu.
code
, 
pRlyOamPdu
, 
yL
);

1363 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1364 "[OAM:%s:%d]p_m_y_nd %d\n", 
__FILE__
, 
__LINE__
, 
mPdu
.
code
);

1369 
	`_m_evt_nd
(
mPdu
.
idIdx
, 
EPON_OAM_EVENT_KEEPALIVE_RESET
);

1373 
	`_m_cou_c
(
mPdu
.
idIdx
, 
EPON_OAM_COUNTERTYPE_DROP
);

1376 if(
NULL
 !
pRlyOamPdu
)

1378 
	`
(
pRlyOamPdu
);

1381  
t
;

1382 
	}
}

1385 *
	$_m_rxThad
(*
gu
)

1387 
t
;

1388 
_idtifr_t
 *
Id
;

1389 
daL
;

1390 *
yld
;

1391 
idIdx
;

1393 
pktRede_sock
 = 
	`sock
(
PF_NETLINK
, 
SOCK_RAW
,
NETLINK_USERSOCK
);

1394 
	`k_de_urA_g
(
pktRede_sock
, 0, 
MAX_PAYLOAD
);

1396 
yld
 = (*)
	`mloc
(
MAX_PAYLOAD
 * ());

1398 if(
NULL
 =
yld
)

1400 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1401 "[OAM:%s:%d] Nطck buff Rx!\n", 
__FILE__
, 
__LINE__
);

1402  
NULL
;

1406 
	`tf
("Init LW drv ... ");

1407 if(0 !
	`DRV_LwIn
())

1409 
	`tf
("failed\r\n");

1410  
NULL
;

1414 
	`tf
("done\r\n");

1419 #ifde
CONFIG_PRODUCT_5500


1420 
g_pStus
 = 
	`pStus_webDis_shmIn
();

1421 
	`memt
(
g_pStus
, 0, (
pStus_webDis_t
));

1422 
	`tf
("oam share init...\r\n");

1428 
t
 = 
	`k_de_urA_cvPkt
(
pktRede_sock
, 
MAX_PAYLOAD
, &
daL
, 
yld
);

1429 if(
t
 > 60)

1432 
idIdx
 = *((*)(
yld
 + (
daL
 - (llidIdx))));

1433 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
,

1434 "[OAM:%s:%d] Reived mesgom LLIDIdx %u size: %d (0x%08x)\n", 
__FILE__
, 
__LINE__
, 
idIdx
, 
daL
 - lidIdx), 
yld
);

1436 
	`_m_rx_hdr
(
idIdx
, 
yld
, 
daL
 - (llidIdx));

1438 if(
t
 > 0)

1442 if(4 =
daL
)

1445 if((
yld
[0] == 0x15) && (payload[1] == 0x68))

1447 if((
yld
[2] == 0xde) && (payload[3] == 0xad))

1451 
	`_m_evt_nd
(0, 
EPON_OAM_EVENT_LOS
);

1456 if(
t
 <= 0)

1458 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

1459 "[OAM:%s:%d]eiv %d\n", 
__FILE__
, 
__LINE__
, 
t
);

1462 #ifde
CONFIG_PRODUCT_5500


1463 
	`pStusPasG
(0);

1467 
	`
(
yld
);

1468 
	`o
(
pktRede_sock
);

1470  
NULL
;

1471 
	}
}

	@epon_oam_state.c

24 
	~<dio.h
>

25 
	~<rg.h
>

26 
	~<mloc.h
>

27 
	~<o.h
>

28 
	~<mhe.h
>

29 
	~<k/.h
>

31 
	~"_m_cfig.h
"

32 
	~"_m_db.h
"

33 
	~"_m_r.h
"

34 
	~"_m_rx.h
"

35 
	~"_m_dbg.h
"

36 
	~"_m_msgq.h
"

37 
	~"m.h
"

38 
	~<c_oc.h
>

39 
	~<lw_cfig.h
>

40 
	~<lw_drv_q.h
>

45 
	#EPON_OAM_FSM_STATE_WAIT_REMOTE
 1

	)

46 
	#EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
 2

	)

47 
	#EPON_OAM_FSM_STATE_COMPLETE
 3

	)

49 
	#EPON_OAM_LOCALPDU_LF_INFO
 0

	)

50 
	#EPON_OAM_LOCALPDU_RX_INFO
 1

	)

51 
	#EPON_OAM_LOCALPDU_INFO
 2

	)

52 
	#EPON_OAM_LOCALPDU_ANY
 3

	)

57 
	gm_fsm_e
[
EPON_OAM_SUPPORT_LLID_NUM
];

58 
	glol_pdu
[
EPON_OAM_SUPPORT_LLID_NUM
];

59 
	gmpdu_ag
[
EPON_OAM_SUPPORT_LLID_NUM
];

61 
m_t
 
	gmSAcssSem
;

70 
OLT_FLAG_E
 
	gm_OFg
 = 
OLT_FLAG_CTC
;

71 
OLT_FLAG_E
 
	$OamGOFg
()

73  
m_OFg
;

74 
	}
}

76 
	$OamSOFg
(
OLT_FLAG_E
 
OFg
)

78 i(
OFg
 >
OLT_FLAG_BUTT
)

83 
m_OFg
 = 
OFg
;

86 
	}
}

88 
	$_m_discovy_
()

90 
t
;

97 
t
 = 
	`m_
(&
mSAcssSem
, 0, 1);

98 if(0 !
t
)

100 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
,

101 "[OAM:%s:%d] sem_ faed %d\n", 
__FILE__
, 
__LINE__
, 
o
);

102  
EPON_OAM_ERR_UNKNOWN
;

105  
EPON_OAM_ERR_OK
;

106 
	}
}

108 
	$_m_discovyLlid_
(

109 
idIdx
)

112 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

114  
EPON_OAM_ERR_PARAM
;

118 
	`m_wa
(&
mSAcssSem
);

119 
m_fsm_e
[
idIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE
;

120 
lol_pdu
[
idIdx
] = 
EPON_OAM_LOCALPDU_RX_INFO
;

121 
mpdu_ag
[
idIdx
] = 
EPON_OAM_FLAG_LOCAL_EVAL
;

122 
	`m_po
(&
mSAcssSem
);

124  
EPON_OAM_ERR_OK
;

125 
	}
}

127 
	$_m_discovyIdLlid_g
(

128 
idIdx
,

129 *
isId
,

130 *
m_discovy_e
)

133 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

135  
EPON_OAM_ERR_PARAM
;

139 *
isId
 = 0;

140 
	`m_wa
(&
mSAcssSem
);

141 if(
EPON_OAM_FSM_STATE_WAIT_REMOTE
 =
m_fsm_e
[
idIdx
])

143 *
isId
 = 1;

145 *
m_discovy_e
 = 
m_fsm_e
[
idIdx
];

148 if(0 !
	`Iol_SOamDiscovyS
(*
m_discovy_e
))

150 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_ERROR
, "[OAM:%s:%d] s discovy s faed \n", 
__FILE__
, 
__LINE__
);

153 
	`m_po
(&
mSAcssSem
);

155  
EPON_OAM_ERR_OK
;

156 
	}
}

157 
m_u_vd
[4];

158 
h3c_u_vd
[4];

159 
yc_u_vd
[4];

160 
icom_u_vd
[4] ;

161 
fibhome_u_vd
[4] ;

162 
z_u_vd
[4] ;

164 
h3c_oui
[3];

165 
huawei_oui
[3];

166 
bdcom_oui
[3];

167 
yc_oui
[3];

168 
icom_oui
[3];

169 
z_oui
[3];

170 
z_u_id
[3];

172 
z_t_vd
[4];

173 
z_c300_t_vd
[4];

174 
fibhome_t_vd
[4];

178 
she_oui
[3];

180 
	$_m_discovy_oc
(

181 
idIdx
,

182 
m_mPdu_t
 *
pOamPdu
,

183 
m_mInfo_t
 *
pOamInfo
)

185 
t
;

186 
m_mInfo_t
 
lolInfo
;

187 
m_cfig_t
 
mCfig
;

188 
k__id_y_t
 
idEry
;

189 
m_mInfo_t
 
mInfo
;

190 
own_u_vd
[4] = {"RTL"};

192 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

194  
EPON_OAM_ERR_PARAM
;

197 if((
NULL
 =
pOamPdu
|| (NULL =
pOamInfo
))

199  
EPON_OAM_ERR_PARAM
;

202 
	`m_wa
(&
mSAcssSem
);

203 
m_fsm_e
[
idIdx
])

205 
EPON_OAM_FSM_STATE_WAIT_REMOTE
:

206 
m_fsm_e
[
idIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
;

208 
pOamInfo
->
vid
 = 1;

209 
	`_m_meInfo_t
(
pOamPdu
->
idIdx
, 
pOamInfo
);

210 
mpdu_ag
[
idIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

216 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

217 if((0 =
mCfig
.
macAddr
[0]) &&

218 (0 =
mCfig
.
macAddr
[1]) &&

219 (0 =
mCfig
.
macAddr
[2]) &&

220 (0 =
mCfig
.
macAddr
[3]) &&

221 (0 =
mCfig
.
macAddr
[4]) &&

222 (0 =
mCfig
.
macAddr
[5]))

224 
idEry
.
idIdx
 =lidIdx;

225 
t
 = 
	`k__id_y_g
(&
idEry
);

226 if(
RT_ERR_OK
 =
t
)

228 
m_mInfo_t
 
lolInfo
;

230 
	`memy
(&
mCfig
.
macAddr
[0], &
idEry
.
mac
.
o
[0], (oamConfig.macAddr));

231 
	`_m_cfig_t
(
idIdx
, &
mCfig
);

232 
	`_m_lolInfo_g
(
idIdx
,&
lolInfo
);

233 
lolInfo
.
vdScInfo
[0]=
mCfig
.
macAddr
[2];

234 
lolInfo
.
vdScInfo
[1]=
mCfig
.
macAddr
[3];

235 
lolInfo
.
vdScInfo
[2]=
mCfig
.
macAddr
[4];

236 
lolInfo
.
vdScInfo
[3]=
mCfig
.
macAddr
[5];

237 
	`_m_lolInfo_t
(
idIdx
, &
lolInfo
);

241 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_WARN
,

242 "[OAM:%s:%d] LLID MAC upded %d\n", 
__FILE__
, 
__LINE__
, 
t
);

248 #i
	`defed
(
CONFIG_ONU_COMPATIBLE
)

250 
comtib_g_t
 *
sys
 = &
sys_comtib
;

251 if(
sys
->
ab
)

253 
	`memy
(
m_u_vd
, 
own_u_vd
, 4);

254 if(!
	`memcmp
(
h3c_oui
, 
pOamPdu
->
cMacAddr
, 3))

256 
	`OamSOFg
(
OLT_FLAG_H3C
);

257 
	`memy
(
m_u_vd
, 
h3c_u_vd
, 4);

259 if(!
	`memcmp
(
she_oui
, 
pOamPdu
->
cMacAddr
, 3))

261 
	`OamSOFg
(
OLT_FLAG_YOTC
);

262 
	`memy
(
m_u_vd
, 
yc_u_vd
, 4);

264 if(!
	`memcmp
(
icom_oui
, 
pOamPdu
->
cMacAddr
, 3))

266 if(!
	`memcmp
(
z_c300_t_vd
, 
pOamInfo
->
vdScInfo
, (pOamInfo->venderSpecInfo)))

268 
	`OamSOFg
(
OLT_FLAG_ZTE
);

269 
	`memy
(
m_u_vd
, 
z_u_vd
, 4);

273 
	`OamSOFg
(
OLT_FLAG_RAISECOM
);

274 
	`memy
(
m_u_vd
, 
icom_u_vd
, 4);

277 if(!
	`memcmp
(
z_u_id
, 
pOamPdu
->
cMacAddr
, 3))

281 
	`OamSOFg
(
OLT_FLAG_ZTE
);

282 
	`memy
(
m_u_vd
, 
z_u_vd
, 4);

284 if(!
	`memcmp
(
z_t_vd
, 
pOamInfo
->
vdScInfo
, (pOamInfo->venderSpecInfo)))

286 
	`OamSOFg
(
OLT_FLAG_ZTE
);

287 
	`memy
(
m_u_vd
, 
z_u_vd
, 4);

289 if(!
	`memcmp
(
fibhome_t_vd
, 
pOamInfo
->
vdScInfo
, (pOamInfo->venderSpecInfo)))

291 
	`OamSOFg
(
OLT_FLAG_FIBERHOME
);

292 
	`memy
(
m_u_vd
, 
fibhome_u_vd
, 4);

296 
	`memy
(
mInfo
.
vdScInfo
, 
m_u_vd
, 4);

301 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
:

303 
pOamInfo
->
vid
 = 1;

304 
	`_m_meInfo_t
(
pOamPdu
->
idIdx
, 
pOamInfo
);

305 if(0 !(
pOamPdu
->
ag
 & 
EPON_OAM_FLAG_LOCAL_STABLE
))

307 
m_fsm_e
[
idIdx
] = 
EPON_OAM_FSM_STATE_COMPLETE
;

308 
lol_pdu
[
idIdx
] = 
EPON_OAM_LOCALPDU_ANY
;

310 
mpdu_ag
[
idIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

312 
	`_m_evt_nd
(
idIdx
, 
EPON_OAM_EVENT_DISCOVERY_COMPLETE
);

314 
EPON_OAM_FSM_STATE_COMPLETE
:

316 
pOamInfo
->
vid
 = 1;

317 
	`_m_meInfo_t
(
pOamPdu
->
idIdx
, 
pOamInfo
);

318 if(0 =(
pOamPdu
->
ag
 & 
EPON_OAM_FLAG_REMOTE_STABLE
))

320 
m_fsm_e
[
idIdx
] = 
EPON_OAM_FSM_STATE_WAIT_REMOTE_OK
;

321 
lol_pdu
[
idIdx
] = 
EPON_OAM_LOCALPDU_INFO
;

323 
mpdu_ag
[
idIdx
] = 
EPON_OAM_FLAG_LOCAL_STABLE
;

330 
mpdu_ag
[
idIdx
] |=

331 (
pOamPdu
->
ag
 & 
EPON_OAM_FLAG_LOCAL_EVAL
? 
EPON_OAM_FLAG_REMOTE_EVAL
 : 0;

332 
mpdu_ag
[
idIdx
] |=

333 (
pOamPdu
->
ag
 & 
EPON_OAM_FLAG_LOCAL_STABLE
? 
EPON_OAM_FLAG_REMOTE_STABLE
 : 0;

334 
	`m_po
(&
mSAcssSem
);

336  
EPON_OAM_ERR_OK
;

337 
	}
}

339 
	$_m_mPduFg_g
(

340 
idIdx
)

342 
tVue
;

344 
	`m_wa
(&
mSAcssSem
);

345 
tVue
 = 
mpdu_ag
[
idIdx
];

346 
	`m_po
(&
mSAcssSem
);

348  
tVue
;

349 
	}
}

	@epon_oam_tx.c

24 
	~<dio.h
>

25 
	~<rg.h
>

26 
	~<mloc.h
>

28 
	~"_m_cfig.h
"

29 
	~"_m_db.h
"

30 
	~"_m_r.h
"

31 
	~"_m_rx.h
"

32 
	~"_m_tx.h
"

33 
	~"_m_dbg.h
"

34 
	~"pkt_de_ur.h
"

43 
	gevtSeq
[
EPON_OAM_SUPPORT_LLID_NUM
];

52 
	$_m_dInfo_g
(

53 
idIdx
,

54 *
pBuf
,

55 
bufL
,

56 *
pPushedL
)

58 
m_mInfo_t
 
lolInfo
, 
meInfo
;

60 
	`memt
(&
lolInfo
, 0x0, (
m_mInfo_t
));

61 
	`memt
(&
meInfo
, 0x0, (
m_mInfo_t
));

62 *
pPushedL
 = 0;

63 
	`_m_lolInfo_g
(
idIdx
, &
lolInfo
);

64 if(
lolInfo
.
vid
 && (
bufL
 > 
EPON_INFO_OAMPDU_INFO_LEN
))

67 
pBuf
[0] = 
EPON_INFO_OAMPDU_TYPE_LOCAL
;

68 
pBuf
[1] = 
EPON_INFO_OAMPDU_INFO_LEN
;

69 
pBuf
[2] = 
lolInfo
.
mV
;

70 
pBuf
[3] = ((*)(&
lolInfo
.
visi
))[0];

71 
pBuf
[4] = ((*)(&
lolInfo
.
visi
))[1];

72 
pBuf
[5] = 
lolInfo
.
e
;

73 
pBuf
[6] = 
lolInfo
.
mCfig
;

74 
pBuf
[7] = ((*)(&
lolInfo
.
mPduCfig
))[0];

75 
pBuf
[8] = ((*)(&
lolInfo
.
mPduCfig
))[1];

76 
pBuf
[9] = 
lolInfo
.
oui
[0];

77 
pBuf
[10] = 
lolInfo
.
oui
[1];

78 
pBuf
[11] = 
lolInfo
.
oui
[2];

79 
pBuf
[12] = 
lolInfo
.
vdScInfo
[0];

80 
pBuf
[13] = 
lolInfo
.
vdScInfo
[1];

81 
pBuf
[14] = 
lolInfo
.
vdScInfo
[2];

82 
pBuf
[15] = 
lolInfo
.
vdScInfo
[3];

84 
pBuf
 +
EPON_INFO_OAMPDU_INFO_LEN
;

85 *
pPushedL
 +
EPON_INFO_OAMPDU_INFO_LEN
;

87 
	`_m_meInfo_g
(
idIdx
, &
meInfo
);

88 if(
meInfo
.
vid
 && (
bufL
 > (
EPON_INFO_OAMPDU_INFO_LEN
 * 2)))

91 
pBuf
[0] = 
EPON_INFO_OAMPDU_TYPE_REMOTE
;

92 
pBuf
[1] = 
EPON_INFO_OAMPDU_INFO_LEN
;

93 
pBuf
[2] = 
meInfo
.
mV
;

94 
pBuf
[3] = ((*)(&
meInfo
.
visi
))[0];

95 
pBuf
[4] = ((*)(&
meInfo
.
visi
))[1];

96 
pBuf
[5] = 
meInfo
.
e
;

97 
pBuf
[6] = 
meInfo
.
mCfig
;

98 
pBuf
[7] = ((*)(&
meInfo
.
mPduCfig
))[0];

99 
pBuf
[8] = ((*)(&
meInfo
.
mPduCfig
))[1];

100 
pBuf
[9] = 
meInfo
.
oui
[0];

101 
pBuf
[10] = 
meInfo
.
oui
[1];

102 
pBuf
[11] = 
meInfo
.
oui
[2];

103 
pBuf
[12] = 
meInfo
.
vdScInfo
[0];

104 
pBuf
[13] = 
meInfo
.
vdScInfo
[1];

105 
pBuf
[14] = 
meInfo
.
vdScInfo
[2];

106 
pBuf
[15] = 
meInfo
.
vdScInfo
[3];

107 
pBuf
 +
EPON_INFO_OAMPDU_INFO_LEN
;

108 *
pPushedL
 +
EPON_INFO_OAMPDU_INFO_LEN
;

112  
EPON_OAM_ERR_OK
;

113 
	}
}

115 
	$_m_vRe_g
(

116 
vTy
,

117 
m_vCڏ_t
 *
pVCڏ
,

118 *
pFmeBuf
)

120 
vWidth
;

121 
m_vCڏRe_t
 *
pVRe
;

126 *
pFmeBuf
 = 
pVCڏ
->
vDesc
.
vBnch
;

127 
pFmeBuf
++;

128 *
pFmeBuf
 = ((*)(&
pVCڏ
->
vDesc
.
vLf
))[0];

129 *
pFmeBuf
 = ((*)(&
pVCڏ
->
vDesc
.
vLf
))[1];

130 
pFmeBuf
 += 2;

132 
pVRe
 = 
pVCڏ
->pVarResp;

133 
NULL
 !
pVRe
)

135 *
pFmeBuf
 = 
pVRe
->
vWidth
;

136 
pFmeBuf
 ++;

137 
vWidth
 = 
	`EPON_VAR_OAMPDU_WIDTH
(
pVRe
->varWidth);

138 if(0 !
vWidth
)

140 
	`memy
(
pFmeBuf
, 
pVRe
->
vDa
, 
vWidth
);

141 
pFmeBuf
 +
vWidth
;

143 
pVRe
 =VRe->
xt
;

147 
vTy
)

149 
EPON_OAM_VARTYPE_OBJECT
:

150 *
pFmeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_OBJEND
);

151 
pFmeBuf
 ++;

153 
EPON_OAM_VARTYPE_PACKAGE
:

154 *
pFmeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_PKGEND
);

155 
pFmeBuf
 ++;

157 
EPON_OAM_VARTYPE_ATTRIBUTE
:

158 
EPON_OAM_VARTYPE_OBJECTID
:

162 
	}
}

164 
	$_m_vReEL_g
(

165 
m_vCڏ_t
 *
pVCڏ
,

166 *
pFmeBuf
)

168 
vWidth
;

169 
m_vCڏRe_t
 *
pVRe
;

174 *
pFmeBuf
 = 
pVCڏ
->
vDesc
.
vBnch
;

175 
pFmeBuf
++;

176 *
pFmeBuf
 = ((*)(&
pVCڏ
->
vDesc
.
vLf
))[0];

177 *
pFmeBuf
 = ((*)(&
pVCڏ
->
vDesc
.
vLf
))[1];

178 
pFmeBuf
 += 2;

180 *
pFmeBuf
 = 
	`EPON_VAR_OAMPDU_INDICATOR
(
EPON_VAR_OAMPDU_IND_LENGTH
);

181 
pFmeBuf
++;

182 
	}
}

184 
	$_m_dHdr_g
(

185 
idIdx
,

186 
code
,

187 *
pFmeBuf
)

189 cڡ 
mDMac
[6] = {0x01, 0x80, 0xc2, 0x00, 0x00, 0x02};

190 
mPduFg
;

191 
m_cfig_t
 
mCfig
;

195 
	`memy
(
pFmeBuf
, 
mDMac
, (oamDstMac));

196 
pFmeBuf
 +(
mDMac
);

197 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

198 
	`memy
(
pFmeBuf
, 
mCfig
.
macAddr
, (oamConfig.macAddr));

199 
pFmeBuf
 +(
mCfig
.
macAddr
);

201 *
pFmeBuf
 = 0x88;

202 
pFmeBuf
 ++;

203 *
pFmeBuf
 = 0x09;

204 
pFmeBuf
 ++;

206 *
pFmeBuf
 = 0x03;

207 
pFmeBuf
 ++;

209 
mPduFg
 = 
	`_m_mPduFg_g
(
idIdx
);

210 *
pFmeBuf
 = ((*)(&
mPduFg
))[0];

211 
pFmeBuf
 ++;

212 *
pFmeBuf
 = ((*)(&
mPduFg
))[1];

213 
pFmeBuf
 ++;

215 *
pFmeBuf
 = 
code
;

216 
	}
}

218 
	$_m_dygGa_g
(

219 
idIdx
,

220 *
pBuf
,

221 
bufL
,

222 *
pPushedL
)

224 cڡ 
mDMac
[6] = {0x01, 0x80, 0xc2, 0x00, 0x00, 0x02};

225 
mPduFg
;

226 
m_cfig_t
 
mCfig
;

227 *
pP
;

228 
maL
, 
pusdhedL
;

230 
pP
 = 
pBuf
;

231 
pusdhedL
 = 0;

232 
maL
 = 
bufL
 - 1;

234 if(
bufL
 >
EPON_OAMPDU_HDR_LENGTH
)

237 
	`memy
(
pP
, 
mDMac
, (oamDstMac));

238 
pP
 +(
mDMac
);

239 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

240 
	`memy
(
pP
, 
mCfig
.
macAddr
, (oamConfig.macAddr));

241 
pP
 +(
mCfig
.
macAddr
);

243 *
pP
 = 0x88;

244 
pP
 ++;

245 *
pP
 = 0x09;

246 
pP
 ++;

248 *
pP
 = 0x03;

249 
pP
 ++;

251 
mPduFg
 = 
	`_m_mPduFg_g
(
idIdx
);

253 
mPduFg
 |
EPON_OAM_FLAG_DYING_GASP
;

254 *
pP
 = ((*)(&
mPduFg
))[0];

255 
pP
 ++;

256 *
pP
 = ((*)(&
mPduFg
))[1];

257 
pP
 ++;

259 *
pP
 = 
EPON_OAMPDU_CODE_INFO
;

260 
pP
++;

261 
maL
 -
EPON_OAMPDU_HDR_LENGTH
;

263 
	`_m_dInfo_g
(
idIdx
, 
pP
, 
maL
, &
pusdhedL
);

264 
pP
 +
pusdhedL
;

265 
maL
 -
pusdhedL
;

267 *
pP
 = 0x00;

268 
pP
 ++;

269 
maL
 --;

271 *
pPushedL
 = 
pP
 - 
pBuf
;

273  
EPON_OAM_ERR_OK
;

274 
	}
}

292 
	$_m_gScEvtNifiti_nd
(

293 
idIdx
,

294 
m_evtOrgSc_t
 *
pEvt
)

296 
t
;

297 
tٮL
, 
evtL
;

298 *
pRlyP
, *
pCu
;

299 
m_evtOrgSc_t
 *
pCuEvt
;

302 if((
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
|| (
NULL
 =
pEvt
))

304  
EPON_OAM_ERR_PARAM
;

313 
tٮL
 = 
EPON_OAMPDU_HDR_LENGTH
 + 
EPON_EVENT_OAMPDU_SEQUENCE_LEN
;

314 
pCuEvt
 = 
pEvt
;

315 
NULL
 !
pCuEvt
)

317 
tٮL
 +(
pCuEvt
->
evtL
 + 
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
);

318 
pCuEvt
 =CuEvt->
pNext
;

321 
pRlyP
 = (*
	`mloc
((* 
tٮL
);

322 if(
NULL
 =
pRlyP
)

324  
EPON_OAM_ERR_MEM
;

328 
	`_m_dHdr_g
(
idIdx
, 
EPON_OAMPDU_CODE_EVENT
, 
pRlyP
);

329 
pCu
 = 
pRlyP
 + 
EPON_OAMPDU_HDR_LENGTH
;

332 
evtSeq
[
idIdx
]++;

333 *
pCu
 = ((*)(&
evtSeq
[
idIdx
]))[0];

334 
pCu
 ++;

335 *
pCu
 = ((*)(&
evtSeq
[
idIdx
]))[1];

336 
pCu
 ++;

338 
pCuEvt
 = 
pEvt
;

339 
NULL
 !
pCuEvt
)

342 *
pCu
 = 
EPON_EVENT_OAMPDU_TYPE_ORG_SPEC
;

343 
pCu
 ++;

345 
evtL
 = 
pCuEvt
->evtL + 
EPON_EVENT_OAMPDU_ORGSPEC_MIN_LEN
;

346 *
pCu
 = ((*)(&
evtL
))[0];

347 
pCu
 ++;

348 *
pCu
 = ((*)(&
evtL
))[1];

349 
pCu
 ++;

351 
	`memy
(
pCu
, 
pCuEvt
->
oui
, 
EPON_OAM_OUI_LENGTH
);

352 
pCu
 +
EPON_OAM_OUI_LENGTH
;

354 
	`memy
(
pCu
, 
pCuEvt
->
evtDa
,CuEvt->
evtL
);

355 
pCu
 +
pCuEvt
->
evtL
;

356 
pCuEvt
 =CuEvt->
pNext
;

359 
t

	`k_de_urA_ndPkt
(

360 
pktRede_sock
,

361 
PR_KERNEL_UID_GMAC
,

363 
pCu
 - 
pRlyP
,

364 
pRlyP
);

365 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

366 "[OAM:%s:%d] OAMPDU Tx (%d)\n", 
__FILE__
, 
__LINE__
, 
t
);

367 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pRlyP
, 
pCu
 -ReplyPtr);

368 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

370 
	`_m_cou_c
(
idIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

374 
	`
(
pRlyP
);

376  
EPON_OAM_ERR_OK
;

377 
	}
}

398 
	$_m_y_nd
(

399 
idIdx
,

400 
code
,

401 *
pRlyPayld
,

402 
yL
)

404 
t
;

405 *
pRlyP
, *
pCu
;

406 
tmp_n
 = 0;

409 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

411  
EPON_OAM_ERR_PARAM
;

413 if(
NULL
 =
pRlyPayld
)

415  
EPON_OAM_ERR_PARAM
;

419 if(
yL
 + 
EPON_OAMPDU_HDR_LENGTH
 < 60)

421 
tmp_n
 = 60 - (
yL
 + 
EPON_OAMPDU_HDR_LENGTH
);

424 
pRlyP
 =

425 (*
	`mloc
((* 
yL
 + 
EPON_OAMPDU_HDR_LENGTH
 + 
tmp_n
);

427 if(
NULL
 =
pRlyP
)

429  
EPON_OAM_ERR_MEM
;

433 
	`_m_dHdr_g
(
idIdx
, 
code
, 
pRlyP
);

434 
pCu
 = 
pRlyP
 + 
EPON_OAMPDU_HDR_LENGTH
;

436 
	`memy
(
pCu
, 
pRlyPayld
, 
yL
);

437 
pCu
 +
yL
;

439 if(
tmp_n
 > 0)

441 
	`memt
(
pCu
, 0, 
tmp_n
);

442 
pCu
 +
tmp_n
;

446 
t

	`k_de_urA_ndPkt
(

447 
pktRede_sock
,

448 
PR_KERNEL_UID_GMAC
,

450 
pCu
 - 
pRlyP
,

451 
pRlyP
);

452 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

453 "[OAM:%s:%d] OAMPDU Tx (%d)\n", 
__FILE__
, 
__LINE__
, 
t
);

454 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pRlyP
, 
pCu
 -ReplyPtr);

455 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

457 
	`_m_cou_c
(
idIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

459 
	`
(
pRlyP
);

461  
EPON_OAM_ERR_OK
;

462 
	}
}

481 
	$_m_dygGa_nd
(

482 
idIdx
,

483 *
pPayld
,

484 
n
)

486 
t
;

487 *
pP
, *
pCu
;

490 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

492  
EPON_OAM_ERR_PARAM
;

494 if(
NULL
 =
pPayld
)

496  
EPON_OAM_ERR_PARAM
;

500 
n
 = (len>=60?len:60);

501 
pP
 = (*
	`mloc
((* 
n
);

503 if(
NULL
 =
pP
)

505  
EPON_OAM_ERR_MEM
;

508 
pCu
 = 
pP
;

512 
	`memy
(
pCu
, 
pPayld
, 
n
);

513 
pCu
 +
n
;

515 
t

	`k_de_urA_ndPkt
(

516 
pktRede_sock
,

517 
PR_KERNEL_UID_EPONDYINGGASP
,

519 
pCu
 - 
pP
,

520 
pP
);

521 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
,

522 "[OAM:%s:%d] OAMPDU Tx Dyg Ga (%d)\n", 
__FILE__
, 
__LINE__
, 
t
);

523 
	`DUMP_HEX_VALUE
(
EPON_OAM_DBGFLAG_TXOAM
, 
pP
, 
pCu
 -Ptr);

524 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_TXOAM
, "\n");

526 
	`_m_cou_c
(
idIdx
, 
EPON_OAM_COUNTERTYPE_TX
);

528 
	`
(
pP
);

530  
EPON_OAM_ERR_OK
;

531 
	}
}

	@user/ctc_oam.c

25 
	~<dio.h
>

26 
	~<rg.h
>

27 
	~<mloc.h
>

29 
	~"_m_cfig.h
"

30 
	~"_m_r.h
"

31 
	~"_m_db.h
"

32 
	~"_m_dbg.h
"

33 
	~"_m_rx.h
"

35 
	~"c_m.h
"

36 
	~"c_m_v.h
"

38 
	~"c_m_vtbl.c
"

39 
	~"m.h
"

40 
	~"c_.h
"

41 
	~"lw_if_pub.h
"

42 
	~<lw_cfig_i.h
>

43 
	~<lw_cfig_oid.h
>

44 
	~"c_m_upgde.h
"

52 
cuCtcV_webDis
;

54 cڡ 
c_foOamV_t
 
	gsu܋dVLi
[] =

62 #i
CTC_OAM_SUPPORT_VERSION_01


68 #i
CTC_OAM_SUPPORT_VERSION_13


74 #i
CTC_OAM_SUPPORT_VERSION_20


80 #i
CTC_OAM_SUPPORT_VERSION_21


86 #i
CTC_OAM_SUPPORT_VERSION_30


93 
c_foOamV_t
 
	gcuCtcV
[
EPON_OAM_SUPPORT_LLID_NUM
];

94 
c_uAuthLoid_t
 
	gloidDb
[
EPON_OAM_SUPPORT_LLID_NUM
];

95 
	gc_uAuth_e
[
EPON_OAM_SUPPORT_LLID_NUM
];

96 
	gc_uAuth_Ty
[
EPON_OAM_SUPPORT_LLID_NUM
];

97 
	gc_discovy_e
[
EPON_OAM_SUPPORT_LLID_NUM
];

98 
	gc_gec_ai_ag
;

100 
m__v_t_2_0
 
	gpt__2_0
;

102 
	gcExtInfoCheck
 = 0;

103 
	gcExtInfoC
 = 0;

113 
	$dump_c_foOam
(

114 
c_foOam_t
 *
pInfoOam
)

116 
c_foOamVRec_t
 *
pIm
;

118 if(
NULL
 !
pInfoOam
)

120 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

122 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

123 "Ty : 0x%02x\n", 
pInfoOam
->
ty
);

124 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

125 "Lgth : %u\n", 
pInfoOam
->
ngth
);

126 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

127 "OUI : %02x:%02x:%02x\n", 
pInfoOam
->
oui
[0],InfoOam->oui[1],InfoOam->oui[2]);

128 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

129 "ExtSut: 0x%02x\n", 
pInfoOam
->
extSut
);

130 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

131 "Vsi : 0x%02x\n", 
pInfoOam
->
vsi
);

133 
pIm
 = 
pInfoOam
->
vtiLi
;

134 
NULL
 !
pIm
)

136 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

137 " OUI : %02x:%02x:%02x\n", 
pIm
->
oui
[0],Item->oui[1],Item->oui[2]);

138 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_DUMP
,

139 " Vsi: 0x%02x\n", 
pIm
->
vsi
);

140 
pIm
 =Im->
xt
;

143 
	}
}

145 
	$c_m_uAuthLoid_t
(
idIdx
, 
c_uAuthLoid_t
 *
pLoidAuth
)

148 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

150  
EPON_OAM_ERR_PARAM
;

152 if(
NULL
 =
pLoidAuth
)

154  
EPON_OAM_ERR_PARAM
;

157 
loidDb
[
idIdx
] = *
pLoidAuth
;

159  
EPON_OAM_ERR_OK
;

160 
	}
}

162 
	$c_m_uAuthLoid_g
(
idIdx
, 
c_uAuthLoid_t
 *
pLoidAuth
)

165 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

167  
EPON_OAM_ERR_PARAM
;

169 if(
NULL
 =
pLoidAuth
)

171  
EPON_OAM_ERR_PARAM
;

174 *
pLoidAuth
 = 
loidDb
[
idIdx
];

176  
EPON_OAM_ERR_OK
;

177 
	}
}

179 
	$c_m_uAuthS_t
(

180 
idIdx
,

181 
e
,

182 
Ty
)

185 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

187  
EPON_OAM_ERR_PARAM
;

189 if(
CTC_OAM_ONUAUTH_STATE_END
 <
e
)

191  
EPON_OAM_ERR_PARAM
;

194 
c_uAuth_e
[
idIdx
] = 
e
;

195 
c_uAuth_Ty
[
idIdx
] = 
Ty
;

197  
EPON_OAM_ERR_OK
;

198 
	}
}

200 
	$c_m_uAuthS_g
(

201 
idIdx
,

202 *
pS
,

203 *
pFaTy
)

206 if(
idIdx
 >
EPON_OAM_SUPPORT_LLID_NUM
)

208  
EPON_OAM_ERR_PARAM
;

210 if(
NULL
 =
pS
)

212  
EPON_OAM_ERR_PARAM
;

215 *
pS
 = 
c_uAuth_e
[
idIdx
];

216 if(
NULL
 !
pFaTy
)

218 *
pFaTy
 = 
c_uAuth_Ty
[
idIdx
];

221  
EPON_OAM_ERR_OK
;

222 
	}
}

224 
	$c_m_vLiIm_loc
(

225 
oui
[3],

226 
v
,

227 
c_foOamVRec_t
 **
VLiIm
)

229 
c_foOamVRec_t
 *
pIm
;

230 
pIm
 = (
c_foOamVRec_t
 *
	`mloc
((ctc_infoOamVerRec_t));

232 if(
NULL
 !
pIm
)

234 
	`memy
(
pIm
->
oui
, oui, 3);

235 
pIm
->
vsi
 = 
v
;

236 
pIm
->
xt
 = 
NULL
;

237 *
VLiIm
 = 
pIm
;

241 *
VLiIm
 = 
NULL
;

243 
	}
}

245 
	$c_m_vLiIm_
(

246 
c_foOamVRec_t
 **
VLiHd
)

248 
c_foOamVRec_t
 *
pVLi
, *
pVLiNext
;

250 
pVLi
 = *
VLiHd
;

251 
NULL
 !
pVLi
)

253 
pVLiNext
 = 
pVLi
->
xt
;

254 
	`
(
pVLi
);

255 
pVLi
 = 
pVLiNext
;

257 *
VLiHd
 = 
NULL
;

258 
	}
}

260 
	$c_m_Info_g
(

261 
exL
,

262 
extSut
,

263 
vsi
,

264 
c_foOam_t
 *
pRemeInfoOam
,

265 
gInfoLi
,

266 *
pBuf
)

269 
i
;

270 *
pBufP
 = 
pBuf
;

272 
pBufP
[0] = 
EPON_INFO_OAMPDU_TYPE_ORG_SPEC
;

273 
pBufP
[1] = 
exL
;

274 
pBufP
[2] = 
pRemeInfoOam
->
oui
[0];

275 
pBufP
[3] = 
pRemeInfoOam
->
oui
[1];

276 
pBufP
[4] = 
pRemeInfoOam
->
oui
[2];

277 
pBufP
[5] = 
extSut
;

278 
pBufP
[6] = 
vsi
;

279 
pBufP
 +
CTC_INFO_OAM_MIN
;

280 if(0 !
gInfoLi
)

282 
i
 = 0;< (
su܋dVLi
)/(
c_foOamV_t
);i++)

284 
pBufP
[0] = 
su܋dVLi
[
i
].
oui
[0];

285 
pBufP
[1] = 
su܋dVLi
[
i
].
oui
[1];

286 
pBufP
[2] = 
su܋dVLi
[
i
].
oui
[2];

287 
pBufP
[3] = 
su܋dVLi
[
i
].
vsi
;

288 
pBufP
 +
CTC_INFO_OAM_VERITEM_LEN
;

291 
	}
}

293 
	$c_m_gScHdr_g
(

294 
oui
[],

295 
extOpcode
,

296 *
pRlyBuf
,

297 *
pRlyL
)

301 
pRlyBuf
[0] = 
oui
[0];

302 
pRlyBuf
[1] = 
oui
[1];

303 
pRlyBuf
[2] = 
oui
[2];

304 
pRlyBuf
[3] = 
extOpcode
;

306 *
pRlyL
 = 
CTC_ORGSPEC_HDR_LEN
;

307 
	}
}

309 
	$c_m_gScVInt_g
(

310 
c_vInt_t
 *
pInt
,

311 *
pRlyBuf
,

312 *
pRlyL
)

315 *
pP
;

317 
pP
 = 
pRlyBuf
;

318 *
pP
 = 
pInt
->
vDesc
.
vBnch
;

319 
pP
 += 1;

320 
pP
[0] = ((*)(&
pInt
->
vDesc
.
vLf
))[0];

321 
pP
[1] = ((*)(&
pInt
->
vDesc
.
vLf
))[1];

322 
pP
 += 2;

323 *
pP
 = 
pInt
->
vWidth
;

324 
pP
 += 1;

327 if(
pInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

342 if((
pInt
->
vDa
[0] =0xFF&& (
c_gec_ai_ag
 == 0))

343 
pP
[0] = 0x01;

345 
	`memy
(
pP
, 
pInt
->
vDa
, (*Int->
vWidth
);

347 if(
pInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

371 if(((
pInt
->
r
.
uniPt
.
ptNo
 == 0xFF) || (pInstant->parse.uniPort.portNo == 0xFFFF))

372 && (
c_gec_ai_ag
 == 0))

374 
pP
[0] = 
pInt
->
r
.
uniPt
.
ptTy
;

375 
pP
[1] = 
pInt
->
r
.
uniPt
.
chassisNo
;

376 
pP
[2] = 0x00;

377 
pP
[3] = 0x01;

381 if(((
pInt
->
r
.
uniPt
.
ptNo
 == 0xFF) || (pInstant->parse.uniPort.portNo == 0xFFFF))

382 && (
c_gec_ai_ag
 == 1))

384 
pP
[0] = 
pInt
->
r
.
uniPt
.
ptTy
;

385 
pP
[1] = 
pInt
->
r
.
uniPt
.
chassisNo
;

386 
pP
[2] = 0xFF;

387 
pP
[3] = 0xFF;

391 
	`memy
(
pP
, 
pInt
->
vDa
, (*Int->
vWidth
);

395 
pP
 +(* 
pInt
->
vWidth
;

397 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

398 
	}
}

400 
	$c_m_gScVCڏ_g
(

401 
c_vCڏ_t
 *
pCڏ
,

402 *
pVCڏ_Tٮ_L
,

403 *
pRlyBuf
,

404 *
pRlyL
)

407 *
pP
;

408 
maL
;

410 
pP
 = 
pRlyBuf
;

411 *
pP
 = 
pCڏ
->
vDesc
.
vBnch
;

412 
pP
 += 1;

413 
pP
[0] = ((*)(&
pCڏ
->
vDesc
.
vLf
))[0];

414 
pP
[1] = ((*)(&
pCڏ
->
vDesc
.
vLf
))[1];

415 
pP
 += 2;

416 if(
CTC_VAR_CONTAINER_INDICATOR
 & 
pCڏ
->
vWidth
)

418 *
pP
 = 
pCڏ
->
vWidth
 & 0x00ff;

419 
pP
 += 1;

425 *
pP
 = 
pCڏ
->
vWidth
;

426 
pP
 += 1;

428 if(*
pVCڏ_Tٮ_L
 > 
pCڏ
->
vWidth
)

430 
	`memy
(
pP
, 
pCڏ
->
pVDa
, *
pVCڏ_Tٮ_L
);

431 
pP
 +*
pVCڏ_Tٮ_L
;

435 
	`memy
(
pP
, 
pCڏ
->
pVDa
, (*Cڏ->
vWidth
);

436 
pP
 +(* 
pCڏ
->
vWidth
;

441 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

442 
	}
}

444 
	$c_m_gScOnuAuthLoid_g
(

445 
c_uAuthLoid_t
 *
pAuthLoid
,

446 *
pRlyBuf
,

447 *
pRlyL
)

450 *
pP
;

451 
daL
;

452 
ngth
;

453 
sys__t
 
_fo
;

455 
c_fd
;

456 
	`m_c_g_sys_
(
sys__t
 *
fo
);

458 
pP
 = 
pRlyBuf
;

459 
	`m_c_g_sys_
(&
_fo
);

461 
ngth
 = 
CTC_ORGSPEC_ONUAUTH_RESP_LOID_LEN
;

462 *
pP
 = 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
;

463 
pP
 += 1;

464 
pP
[0] = ((*&
ngth
)[0];

465 
pP
[1] = ((*&
ngth
)[1];

466 
pP
 += 2;

467 *
pP
 = 
CTC_ORGSPEC_ONUAUTH_LOID
;

468 
pP
 += 1;

474 
daL
 = 
	`
(
_fo
.
_loid
);

475 
daL
 = (daL <
CTC_ORGSPEC_ONUAUTH_LOID_LEN
) ? dataLen : CTC_ORGSPEC_ONUAUTH_LOID_LEN;

476 
	`memt
(
pP
, 0, 
CTC_ORGSPEC_ONUAUTH_LOID_LEN
);

478 
	`memy
(
pP
 + (
CTC_ORGSPEC_ONUAUTH_LOID_LEN
 - 
daL
), 
_fo
.
_loid
, dataLen);

479 
pP
 +
CTC_ORGSPEC_ONUAUTH_LOID_LEN
;

482 
daL
 = 
	`
(
_fo
.
_sswd
);

483 
daL
 = (daL <
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
) ? dataLen : CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN;

484 
	`memt
(
pP
, 0, 
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
);

487 
	`memy
(
pP
 + (
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
 - 
daL
), 
_fo
.
_sswd
, dataLen);

489 
pP
 +
CTC_ORGSPEC_ONUAUTH_PASSWORD_LEN
;

491 *(++
pP
) = 0;

492 *(++
pP
) = 0;

493 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

494 
	}
}

496 
	$c_m_gScOnuAuthNak_g
(

497 
deseTy
,

498 *
pRlyBuf
,

499 *
pRlyL
)

502 *
pP
;

503 
ngth
;

505 
pP
 = 
pRlyBuf
;

506 
ngth
 = 
CTC_ORGSPEC_ONUAUTH_RESP_NAK_LEN
;

507 *
pP
 = 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
;

508 
pP
 += 1;

509 
pP
[0] = ((*&
ngth
)[0];

510 
pP
[1] = ((*&
ngth
)[1];

511 
pP
 += 2;

512 *
pP
 = 
CTC_ORGSPEC_ONUAUTH_NAK
;

513 
pP
 += 1;

514 *
pP
 = 
deseTy
;

515 
pP
 += 1;

517 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

518 
	}
}

520 
	$c_m_gScChug_g
(

521 
c_chug_t
 *
pChug
,

522 *
pRlyBuf
,

523 *
pRlyL
)

526 *
pP
;

528 
pP
 = 
pRlyBuf
;

529 *
pP
 = 
pChug
->
chugCode
;

530 
pP
 += 1;

531 *
pP
 = 
pChug
->
keyIdx
;

532 
pP
 += 1;

533 if(
CTC_ORGSPEC_CHURNING_NEWKEY
 =
pChug
->
chugCode
)

535 
	`memy
(
pP
, 
pChug
->
chugKey
, 
CTC_ORGSPEC_CHURNING_KEY_LEN
);

536 
pP
 +
CTC_ORGSPEC_CHURNING_KEY_LEN
;

539 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

540 
	}
}

542 
	$c_m_gScDba_lc
(

543 
dbaCode
,

544 
c_dbaThshd_t
 *
pDbaThshd
)

546 
i
, 
j
;

547 
exL
 = 0;

549 
exL
 +
CTC_ORGSPEC_DBA_HDR_LEN
;

550 
dbaCode
)

552 
CTC_ORGSPEC_DBA_GET_REQ
:

555 
CTC_ORGSPEC_DBA_SET_RESP
:

557 
exL
 +
CTC_ORGSPEC_DBA_SETACK_LEN
;

558 
CTC_ORGSPEC_DBA_GET_RESP
:

559 
CTC_ORGSPEC_DBA_SET_REQ
:

560 
exL
 +
CTC_ORGSPEC_DBA_REPORTHDR_LEN
;

561 
i
 = 0;< 
pDbaThshd
->
numQS
;i++)

563 
exL
 +
CTC_ORGSPEC_DBA_REPORTMAP_LEN
;

564 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

566 if(
pDbaThshd
->
ptM
[
i
] & (1 << 
j
))

568 
exL
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

575  
exL
;

576 
	}
}

578 
	$c_m_gScDba_g
(

579 
dbaCode
,

580 
c_dbaThshd_t
 *
pDbaThshd
,

581 
dbaSAck
,

583 *
pRlyBuf
,

584 *
pRlyL
)

587 
i
, 
j
;

588 *
pP
;

590 
pP
 = 
pRlyBuf
;

591 *
pP
 = 
dbaCode
;

592 
pP
 += 1;

594 
dbaCode
)

596 
CTC_ORGSPEC_DBA_GET_REQ
:

599 
CTC_ORGSPEC_DBA_SET_RESP
:

601 *
pP
 = 
dbaSAck
 & 0x01;

602 
pP
 += 1;

603 
CTC_ORGSPEC_DBA_GET_RESP
:

604 
CTC_ORGSPEC_DBA_SET_REQ
:

606 *
pP
 = 
pDbaThshd
->
numQS
 + 1;

607 
pP
 += 1;

608 
i
 = 0;< 
pDbaThshd
->
numQS
;i++)

610 *
pP
 = 
pDbaThshd
->
ptM
[
i
];

611 
pP
 += 1;

612 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

614 if(
pDbaThshd
->
ptM
[
i
] & (1 << 
j
))

616 
pP
[0] = ((*)(&
pDbaThshd
->
queueS
[
i
].
queueThshd
[
j
]))[0];

617 
pP
[1] = ((*)(&
pDbaThshd
->
queueS
[
i
].
queueThshd
[
j
]))[1];

618 
pP
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

624 *
pRlyL
 = 
pP
 - 
pRlyBuf
;

625 
	}
}

627 
	$c_m_vsi_sut
(

628 
oui
[3],

629 
vsi
)

631 
i
;

632 
i
 = 0;< (
su܋dVLi
)/(
c_foOamV_t
);i++)

634 if((
su܋dVLi
[
i
].
oui
[0] == oui[0]) &&

635 (
su܋dVLi
[
i
].
oui
[1] == oui[1]) &&

636 (
su܋dVLi
[
i
].
oui
[2] == oui[2]) &&

637 (
su܋dVLi
[
i
].
vsi
 == version))

643 
	}
}

645 
	$c_m_gScVCb_g
(

646 
c_vDest_t
 
vDesc
,

647 
c_vCb_t
 *
pVCb
)

649 
c_vCb_t
 *
pVCbDb
;

651 if(
NULL
 =
pVCb
)

653  
EPON_OAM_ERR_PARAM
;

657 
vDesc
.
vBnch
)

659 
CTC_VAR_REQBRANCH_STDATTR
:

660 
pVCbDb
 = 
c_dArCb
;

662 
CTC_VAR_REQBRANCH_STDACT
:

663 
pVCbDb
 = 
c_dACb
;

665 
CTC_VAR_REQBRANCH_EXTATTR
:

666 
pVCbDb
 = 
c_extArCb
;

668 
CTC_VAR_REQBRANCH_EXTACT
:

669 
pVCbDb
 = 
c_extACb
;

672  
EPON_OAM_ERR_NOT_FOUND
;

675 0 !
pVCbDb
->
vDesc
.
vBnch
)

677 if(
pVCbDb
->
vDesc
.
vLf
 == varDesc.varLeaf)

679 *
pVCb
 = *
pVCbDb
;

680  
EPON_OAM_ERR_OK
;

683 
pVCbDb
 =VarCbDb + 1;

686  
EPON_OAM_ERR_NOT_FOUND
;

687 
	}
}

689 
	$c_m_chugKey_nd
(

690 
key
[])

692 
key
[0] = 
	`nd
() % 0x100;

693 
key
[1] = 
	`nd
() % 0x100;

694 
key
[2] = 
	`nd
() % 0x100;

695 
	}
}

697 
	$c_m_gScDbaTheshd_r
(

698 *
pFme
,

699 
ngth
,

700 *
pPL
,

701 
c_dbaThshd_t
 *
pDbaThshd
)

703 
i
, 
j
;

704 *
pP
;

705 
exL
;

707 *
pPL
 = 0;

708 if(
ngth
 < 
CTC_ORGSPEC_DBA_REPORTHDR_LEN
)

711  
EPON_OAM_ERR_OK
;

714 
pP
 = 
pFme
;

715 
pDbaThshd
->
numQS
 = *
pP
;

722 if((
pDbaThshd
->
numQS
 < 
CTC_ORGSPEC_DBA_QUEUESET_MIN
 + 1) ||

723 (
pDbaThshd
->
numQS
 > 
CTC_ORGSPEC_DBA_QUEUESET_MAX
 + 1))

726  
EPON_OAM_ERR_OK
;

728 
pDbaThshd
->
numQS
 -= 1;

729 
	`CTC_BUF_ADD
(
pP
, 
ngth
, 
CTC_ORGSPEC_DBA_REPORTHDR_LEN
);

731 
i
 = 0;< 
pDbaThshd
->
numQS
;i++)

733 if(
ngth
 < 
CTC_ORGSPEC_DBA_REPORTMAP_LEN
)

736  
EPON_OAM_ERR_OK
;

738 
pDbaThshd
->
ptM
[
i
] = *
pP
;

739 
	`CTC_BUF_ADD
(
pP
, 
ngth
, 
CTC_ORGSPEC_DBA_REPORTMAP_LEN
);

742 
exL
 = 0;

743 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

745 if(
pDbaThshd
->
ptM
[
i
] & (1 << 
j
))

747 
exL
 +
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
;

750 if((
ngth
 < 
exL
) || (expectLen == 0))

755  
EPON_OAM_ERR_OK
;

758 
j
 = 0;j < 
CTC_ORGSPEC_DBA_QUEUE_MAX
;j++)

760 if(
pDbaThshd
->
ptM
[
i
] & (1 << 
j
))

762 ((*)(&
pDbaThshd
->
queueS
[
i
].
queueThshd
[
j
]))[0] = 
pP
[0];

763 ((*)(&
pDbaThshd
->
queueS
[
i
].
queueThshd
[
j
]))[1] = 
pP
[1];

764 
	`CTC_BUF_ADD
(
pP
, 
ngth
, 
CTC_ORGSPEC_DBA_QUEUETHRESHOLD_LEN
);

768 *
pPL
 = 
pP
 - 
pFme
;

770  
EPON_OAM_ERR_OK
;

771 
	}
}

772 #i
CTC_OAM_SUPPORT_BENEATH_20


774 
	$c_m_gScV_q20
(

775 
idIdx
,

776 *
pFme
,

777 
ngth
,

778 *
pRlyBuf
,

779 
bufL
,

780 *
pRlyL
)

782 
t
;

783 *
pProcP
, *
pRlyP
;

784 
gL
;

785 
c_vCb_t
 
vCb
;

786 
c_vDest_t
 
vDesc
;

787 
c_vInt_t
 *
pVInt
 = 
NULL
, 
vInt
;

788 
c_vCڏ_t
 
vCڏ
;

789 
maL
;

790 
vCڏ_Tٮ_L
 = 0;

795 
pProcP
 = 
pFme
;

796 
pRlyP
 = 
pRlyBuf
;

797 
maL
 = 
ngth
;

798 *
pRlyL
 = 0;

800 
maL
 >
CTC_ORGSPEC_VARDESC_LEN
)

802 
vDesc
.
vBnch
 = *
pProcP
;

803 
	`memy
(&
vDesc
.
vLf
, &
pProcP
[1], ());

804 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_VARDESC_LEN
);

805 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bnch = 0x%02x Lf=0x%04x\n", 
__FILE__
, 
__LINE__
, 
vDesc
.
vBnch
, vDesc.
vLf
);

807 
vDesc
.
vBnch
)

809 
CTC_VAR_REQBRANCH_INSTANT20
:

811 if((
maL
 < 
CTC_ORGSPEC_VARINSTANT_LEN20
) &&

812 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

815 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

816  
EPON_OAM_ERR_OK
;

818 
vInt
.
vDesc
 = varDesc;

819 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

820 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 1);

821 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

822 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

824 
pVInt
 = &
vInt
;

826 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

827 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

829 
pt__2_0
.
bnch
 = 
vInt
.
vDesc
.
vBnch
;

830 
pt__2_0
.
af
 = 
vInt
.
vDesc
.
vLf
;

831 
pt__2_0
.
width
 = 
vInt
.
vWidth
;

832 
pt__2_0
.
vue
 = 
vInt
.
vDa
[0];

834 
CTC_VAR_REQBRANCH_STDATTR
:

835 
CTC_VAR_REQBRANCH_EXTATTR
:

836 
CTC_VAR_REQBRANCH_STDACT
:

837 
CTC_VAR_REQBRANCH_EXTACT
:

838 
t
 = 
	`c_m_gScVCb_g
(
vDesc
, &
vCb
);

839 if((
EPON_OAM_ERR_OK
 !
t
) ||

840 (
NULL
 =
vCb
.
hdr_g
) ||

841 (0 =(
vCb
.

 & 
CTC_VAR_OP_GET
)))

846 
u8_t
** 
_by
;

847 
pProcP
 -
CTC_ORGSPEC_VARDESC_LEN
;

848 
_by
 = &
pProcP
;

849 
	`el_z_c_g_q
(
vDesc
.
vLf
, 
_by
, 
pRlyBuf
, &
gL
);

850 
pRlyBuf
 +
gL
;

851 *
pRlyL
 +
gL
;

853  
EPON_OAM_ERR_OK
;

859 
vCڏ
.
pVDa
 = 
NULL
;

860 
t
 = 
vCb
.
	`hdr_g
(
idIdx
, 
CTC_VAR_OP_GET
, 
pVInt
, 
vDesc
, &
vCڏ_Tٮ_L
, &
vCڏ
);

861 if(
EPON_OAM_ERR_OK
 =
t
)

863 if(
bufL
 >(
CTC_ORGSPEC_VARDESC_LEN
 + 
vCڏ
.
vWidth
 + 1 ))

865 
gL
 = 0;

866 
	`c_m_gScVCڏ_g
(

867 &
vCڏ
,

868 &
vCڏ_Tٮ_L
,

869 
pRlyP
,

870 &
gL
);

871 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

875 if(
NULL
 !
vCڏ
.
pVDa
)

877 
	`
(
vCڏ
.
pVDa
);

880 
CTC_VAR_REQBRANCH_END
:

881 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

882  
EPON_OAM_ERR_OK
;

887 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

889  
EPON_OAM_ERR_OK
;

890 
	}
}

893 
	$c_m_gScS_q20
(

894 
idIdx
,

895 *
pFme
,

896 
ngth
,

897 *
pRlyBuf
,

898 
bufL
,

899 *
pRlyL
)

901 
t
;

902 
extFg
;

903 *
pProcP
, *
pRlyP
;

904 
gL
;

905 
c_vCb_t
 
vCb
;

906 
c_vInt_t
 *
pVInt
 = 
NULL
, 
vInt
;

907 
c_vCڏ_t
 
vCڏ
;

908 
maL
;

909 
vCڏ_Tٮ_L
 = 0;

914 
pProcP
 = 
pFme
;

915 
pRlyP
 = 
pRlyBuf
;

916 
maL
 = 
ngth
;

917 *
pRlyL
 = 0;

919 
maL
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

921 
vCڏ
.
vDesc
.
vBnch
 = *
pProcP
;

922 
	`memy
(&
vCڏ
.
vDesc
.
vLf
, &
pProcP
[1], ());

923 
vCڏ
.
vWidth
 = 
pProcP
[3];

925 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_VARCONTAINER_MIN
);

926 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bnch = 0x%02x Lf=0x%04x, Width=%d\n", 
__FILE__
, 
__LINE__
, 
vCڏ
.
vDesc
.
vBnch
, vCڏ.vDesc.
vLf
, vCڏ.
vWidth
);

928 
vCڏ
.
vDesc
.
vBnch
)

930 
CTC_VAR_REQBRANCH_INSTANT20
:

932 if((
maL
 < 
vCڏ
.
vWidth
) &&

933 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

936 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

937  
EPON_OAM_ERR_OK
;

939 
vInt
.
vDesc
 = 
vCڏ
.varDesc;

940 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

941 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

942 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

944 
pVInt
 = &
vInt
;

946 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

947 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

948 
pt__2_0
.
bnch
 = 
vInt
.
vDesc
.
vBnch
;

949 
pt__2_0
.
af
 = 
vInt
.
vDesc
.
vLf
;

950 
pt__2_0
.
width

vInt
.
vWidth
;

951 
pt__2_0
.
vue

vInt
.
vDa
[0];

953 
CTC_VAR_REQBRANCH_STDATTR
:

954 
CTC_VAR_REQBRANCH_EXTATTR
:

955 
CTC_VAR_REQBRANCH_STDACT
:

956 
CTC_VAR_REQBRANCH_EXTACT
:

957 if(
maL
 < 
vCڏ
.
vWidth
)

962 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

963  
EPON_OAM_ERR_OK
;

966 
t
 = 
	`c_m_gScVCb_g
(
vCڏ
.
vDesc
, &
vCb
);

967 if((
EPON_OAM_ERR_OK
 !
t
) ||

968 (
NULL
 =
vCb
.
hdr_t
) ||

969 (0 =(
vCb
.

 & 
CTC_VAR_OP_SET
)))

975 
u8_t
** 
_by
;

976 
pProcP
 -
CTC_ORGSPEC_VARCONTAINER_MIN
;

977 
_by
 = &
pProcP
;

978 
	`el_z_c_t_q
(
pVInt
, 
vCڏ
.
vDesc
, 
_by
, 
pRlyP
, &
gL
);

979 *
pRlyL
 +
gL
 + (
pRlyP
 - 
pRlyBuf
);

980  
EPON_OAM_ERR_OK
;

982 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
vCڏ
.
vWidth
);

987 if(0 !
vCڏ
.
vWidth
)

989 
vCڏ
.
pVDa
 = (*
	`mloc
(vCڏ.
vWidth
);

990 if(
NULL
 =
vCڏ
.
pVDa
)

992  
EPON_OAM_ERR_MEM
;

994 
	`memy
(
vCڏ
.
pVDa
, 
pProcP
, vCڏ.
vWidth
);

995 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
vCڏ
.
vWidth
);

999 
vCڏ
.
pVDa
 = 
NULL
;

1002 
	`_m_dbgExt_g
(&
extFg
);

1003 if(
extFg
 & 
EPON_OAM_DBGEXT_CTC_VARSET
)

1006 
t
 = 
	`c_m_vCb_dummy_t
(
idIdx
, 
CTC_VAR_OP_SET
, 
pVInt
, 
vCڏ
.
vDesc
, &varContainer);

1011 
t
 = 
vCb
.
	`hdr_t
(
idIdx
, 
CTC_VAR_OP_SET
, 
pVInt
, 
vCڏ
.
vDesc
, &varContainer);

1013 if(
EPON_OAM_ERR_OK
 =
t
)

1015 if(
bufL
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1018 
vCڏ
.
vWidth
 |
CTC_VAR_CONTAINER_INDICATOR
;

1020 
gL
 = 0;

1021 
	`c_m_gScVCڏ_g
(

1022 &
vCڏ
,

1023 &
vCڏ_Tٮ_L
,

1024 
pRlyP
,

1025 &
gL
);

1026 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1030 if(
NULL
 !
vCڏ
.
pVDa
)

1032 
	`
(
vCڏ
.
pVDa
);

1035 
CTC_VAR_REQBRANCH_END
:

1036 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1037  
EPON_OAM_ERR_OK
;

1042 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1044  
EPON_OAM_ERR_OK
;

1045 
	}
}

1048 #i
CTC_OAM_SUPPORT_ABOVE_21


1049 
	$c_m_gScVidIntLf_decode21
(

1050 
c_vInt_t
 *
pVInt
)

1052 
vue
;

1054 
pVInt
->
vDesc
.
vLf
)

1056 
CTC_VAR_REQBRANCH_INSTANT_PORT
:

1057 
	`CTC_BUF_PARSE32
(
pVInt
->
vDa
, &
vue
);

1058 
pVInt
->
r
.
uniPt
.
ptTy
 = (
vue
 >> 24) & 0xffUL;

1059 
pVInt
->
r
.
uniPt
.
chassisNo
 = (
vue
 >> 22) & 0x03UL;

1060 
pVInt
->
r
.
uniPt
.
No
 = (
vue
 >> 16) & 0x3fUL;

1061 
pVInt
->
r
.
uniPt
.
ptNo
 = 
vue
 & 0xffUL;

1064 
CTC_VAR_REQBRANCH_INSTANT_LLID
:

1065 
	`CTC_BUF_PARSE32
(
pVInt
->
vDa
, &pVInt->
r
.
id
);

1068 
CTC_VAR_REQBRANCH_INSTANT_PONIF
:

1069 
	`CTC_BUF_PARSE32
(
pVInt
->
vDa
, &pVInt->
r
.
pIf
);

1072 
CTC_VAR_REQBRANCH_INSTANT_ONU
:

1076 
	}
}

1079 
	$c_m_gScV_q21
(

1080 
idIdx
,

1081 *
pFme
,

1082 
ngth
,

1083 *
pRlyBuf
,

1084 
bufL
,

1085 *
pRlyL
)

1087 
t
;

1088 *
pProcP
, *
pRlyP
;

1089 
gL
;

1090 
c_vCb_t
 
vCb
;

1091 
c_vDest_t
 
vDesc
;

1092 
c_vInt_t
 *
pVInt
 = 
NULL
, 
vInt
;

1093 
c_vCڏ_t
 
vCڏ
;

1094 
maL
;

1095 
vCڏ_Tٮ_L
 = 0;

1100 
pProcP
 = 
pFme
;

1101 
pRlyP
 = 
pRlyBuf
;

1102 
maL
 = 
ngth
;

1103 *
pRlyL
 = 0;

1105 
maL
 >
CTC_ORGSPEC_VARDESC_LEN
)

1107 
vDesc
.
vBnch
 = *
pProcP
;

1108 
	`memy
(&
vDesc
.
vLf
, &
pProcP
[1], ());

1109 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_VARDESC_LEN
);

1110 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bnch = 0x%02x Lf=0x%04x\n", 
__FILE__
, 
__LINE__
, 
vDesc
.
vBnch
, vDesc.
vLf
);

1112 
vDesc
.
vBnch
)

1114 
CTC_VAR_REQBRANCH_INSTANT21
:

1116 if((
maL
 < 
CTC_ORGSPEC_VARINSTANT_LEN21
) &&

1117 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN21
)))

1120 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1121  
EPON_OAM_ERR_OK
;

1123 
vInt
.
vDesc
 = varDesc;

1124 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH21
;

1125 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 1);

1126 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1127 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1128 if(
	`c_m_gScVidIntLf_decode21
(&
vInt
))

1131 
pVInt
 = &
vInt
;

1133 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

1134 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1139 
pVInt
 = 
NULL
;

1142 
CTC_VAR_REQBRANCH_INSTANT20
:

1144 if((
maL
 < 
CTC_ORGSPEC_VARINSTANT_LEN20
) &&

1145 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

1148 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1149  
EPON_OAM_ERR_OK
;

1151 
vInt
.
vDesc
 = varDesc;

1152 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

1153 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 1);

1154 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1155 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1157 
pVInt
 = &
vInt
;

1159 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

1160 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1162 
pt__2_0
.
bnch
 = 
vInt
.
vDesc
.
vBnch
;

1163 
pt__2_0
.
af
 = 
vInt
.
vDesc
.
vLf
;

1164 
pt__2_0
.
width

vInt
.
vWidth
;

1165 
pt__2_0
.
vue

vInt
.
vDa
[0];

1167 
CTC_VAR_REQBRANCH_STDATTR
:

1168 
CTC_VAR_REQBRANCH_EXTATTR
:

1169 
CTC_VAR_REQBRANCH_STDACT
:

1170 
CTC_VAR_REQBRANCH_EXTACT
:

1171 
t
 = 
	`c_m_gScVCb_g
(
vDesc
, &
vCb
);

1172 if((
EPON_OAM_ERR_OK
 !
t
) ||

1173 (
NULL
 =
vCb
.
hdr_g
) ||

1174 (0 =(
vCb
.

 & 
CTC_VAR_OP_GET
)))

1179 
u8_t
** 
_by
;

1180 
pProcP
 -
CTC_ORGSPEC_VARDESC_LEN
;

1181 
_by
 = &
pProcP
;

1182 
	`el_z_c_g_q
(
vDesc
.
vLf
, 
_by
, 
pRlyBuf
, &
gL
);

1183 
pRlyBuf
 +
gL
;

1184 *
pRlyL
 +
gL
;

1185  
EPON_OAM_ERR_OK
;

1191 
vCڏ
.
pVDa
 = 
NULL
;

1192 
t
 = 
vCb
.
	`hdr_g
(
idIdx
, 
CTC_VAR_OP_GET
, 
pVInt
, 
vDesc
, &
vCڏ_Tٮ_L
, &
vCڏ
);

1193 if(
EPON_OAM_ERR_OK
 =
t
)

1195 if(
bufL
 >(
CTC_ORGSPEC_VARDESC_LEN
 + 
vCڏ
.
vWidth
 + 1 ))

1197 
gL
 = 0;

1198 
	`c_m_gScVCڏ_g
(

1199 &
vCڏ
,

1200 &
vCڏ_Tٮ_L
,

1201 
pRlyP
,

1202 &
gL
);

1203 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1207 if(
NULL
 !
vCڏ
.
pVDa
)

1209 
	`
(
vCڏ
.
pVDa
);

1212 
CTC_VAR_REQBRANCH_END
:

1213 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1214  
EPON_OAM_ERR_OK
;

1219 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1221  
EPON_OAM_ERR_OK
;

1222 
	}
}

1225 
	$c_m_gScS_q21
(

1226 
idIdx
,

1227 *
pFme
,

1228 
ngth
,

1229 *
pRlyBuf
,

1230 
bufL
,

1231 *
pRlyL
)

1233 
t
;

1234 
extFg
;

1235 *
pProcP
, *
pRlyP
;

1236 
gL
;

1237 
c_vCb_t
 
vCb
;

1238 
c_vInt_t
 *
pVInt
 = 
NULL
, 
vInt
;

1239 
c_vCڏ_t
 
vCڏ
;

1240 
maL
;

1241 
vCڏ_Tٮ_L
 = 0;

1246 
pProcP
 = 
pFme
;

1247 
pRlyP
 = 
pRlyBuf
;

1248 
maL
 = 
ngth
;

1249 *
pRlyL
 = 0;

1251 
maL
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1253 
vCڏ
.
vDesc
.
vBnch
 = *
pProcP
;

1254 
	`memy
(&
vCڏ
.
vDesc
.
vLf
, &
pProcP
[1], ());

1255 
vCڏ
.
vWidth
 = 
pProcP
[3];

1257 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_VARCONTAINER_MIN
);

1258 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_INFO
, "[OAM:%s:%d] Bnch = 0x%02x Lf=0x%04x, Width=%d\n", 
__FILE__
, 
__LINE__
, 
vCڏ
.
vDesc
.
vBnch
, vCڏ.vDesc.
vLf
, vCڏ.
vWidth
);

1260 
vCڏ
.
vDesc
.
vBnch
)

1262 
CTC_VAR_REQBRANCH_INSTANT21
:

1264 if((
maL
 < 
vCڏ
.
vWidth
) &&

1265 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN21
)))

1268 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1269  
EPON_OAM_ERR_OK
;

1271 
vInt
.
vDesc
 = 
vCڏ
.varDesc;

1272 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH21
;

1273 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1274 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH21
);

1275 if(
	`c_m_gScVidIntLf_decode21
(&
vInt
))

1278 
pVInt
 = &
vInt
;

1280 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

1281 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1286 
pVInt
 = 
NULL
;

1289 
CTC_VAR_REQBRANCH_INSTANT20
:

1291 if((
maL
 < 
vCڏ
.
vWidth
) &&

1292 (
bufL
 > (
CTC_ORGSPEC_VARDESC_LEN
 + 
CTC_ORGSPEC_VARINSTANT_LEN20
)))

1295 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1296  
EPON_OAM_ERR_OK
;

1298 
vInt
.
vDesc
 = 
vCڏ
.varDesc;

1299 
vInt
.
vWidth
 = 
CTC_ORGSPEC_VARINSTANT_WIDTH20
;

1300 
	`memy
(
vInt
.
vDa
, 
pProcP
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1301 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, (* 
CTC_ORGSPEC_VARINSTANT_WIDTH20
);

1303 
pVInt
 = &
vInt
;

1305 
	`c_m_gScVInt_g
(
pVInt
, 
pRlyP
, &
gL
);

1306 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1307 
pt__2_0
.
bnch
 = 
vInt
.
vDesc
.
vBnch
;

1308 
pt__2_0
.
af
 = 
vInt
.
vDesc
.
vLf
;

1309 
pt__2_0
.
width

vInt
.
vWidth
;

1310 
pt__2_0
.
vue

vInt
.
vDa
[0];

1312 
CTC_VAR_REQBRANCH_STDATTR
:

1313 
CTC_VAR_REQBRANCH_EXTATTR
:

1314 
CTC_VAR_REQBRANCH_STDACT
:

1315 
CTC_VAR_REQBRANCH_EXTACT
:

1316 if(
maL
 < 
vCڏ
.
vWidth
)

1321 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1322  
EPON_OAM_ERR_OK
;

1325 
t
 = 
	`c_m_gScVCb_g
(
vCڏ
.
vDesc
, &
vCb
);

1326 if((
EPON_OAM_ERR_OK
 !
t
) ||

1327 (
NULL
 =
vCb
.
hdr_t
) ||

1328 (0 =(
vCb
.

 & 
CTC_VAR_OP_SET
)))

1335 
u8_t
** 
_by
;

1336 
pProcP
 -
CTC_ORGSPEC_VARCONTAINER_MIN
;

1337 
_by
 = &
pProcP
;

1338 
	`el_z_c_t_q
(
pVInt
, 
vCڏ
.
vDesc
, 
_by
, 
pRlyP
, &
gL
);

1339 *
pRlyL
 +
gL
 + (
pRlyP
 - 
pRlyBuf
);

1340  
EPON_OAM_ERR_OK
;

1342 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
vCڏ
.
vWidth
);

1347 if(0 !
vCڏ
.
vWidth
)

1349 
vCڏ
.
pVDa
 = (*
	`mloc
(vCڏ.
vWidth
);

1350 if(
NULL
 =
vCڏ
.
pVDa
)

1352  
EPON_OAM_ERR_MEM
;

1354 
	`memy
(
vCڏ
.
pVDa
, 
pProcP
, vCڏ.
vWidth
);

1355 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
vCڏ
.
vWidth
);

1359 
vCڏ
.
pVDa
 = 
NULL
;

1362 
	`_m_dbgExt_g
(&
extFg
);

1363 if(
extFg
 & 
EPON_OAM_DBGEXT_CTC_VARSET
)

1366 
t
 = 
	`c_m_vCb_dummy_t
(
idIdx
, 
CTC_VAR_OP_SET
, 
pVInt
, 
vCڏ
.
vDesc
, &varContainer);

1371 
t
 = 
vCb
.
	`hdr_t
(
idIdx
, 
CTC_VAR_OP_SET
, 
pVInt
, 
vCڏ
.
vDesc
, &varContainer);

1373 if(
EPON_OAM_ERR_OK
 =
t
)

1375 if(
bufL
 >
CTC_ORGSPEC_VARCONTAINER_MIN
)

1378 
vCڏ
.
vWidth
 |
CTC_VAR_CONTAINER_INDICATOR
;

1380 
gL
 = 0;

1381 
	`c_m_gScVCڏ_g
(

1382 &
vCڏ
,

1383 &
vCڏ_Tٮ_L
,

1384 
pRlyP
,

1385 &
gL
);

1386 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1390 if(
NULL
 !
vCڏ
.
pVDa
)

1392 
	`
(
vCڏ
.
pVDa
);

1395 
CTC_VAR_REQBRANCH_END
:

1396 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1397  
EPON_OAM_ERR_OK
;

1402 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1404  
EPON_OAM_ERR_OK
;

1405 
	}
}

1408 
	$c_m_gScOnuAuth
(

1409 
idIdx
,

1410 *
pFme
,

1411 
ngth
,

1412 *
pRlyBuf
,

1413 
bufL
,

1414 *
pRlyL
)

1416 
t
;

1417 *
pProcP
, *
pRlyP
;

1418 
gL
;

1419 
maL
;

1420 
authCode
;

1421 
authTy
;

1422 
authFaTy
;

1423 
authDaL
;

1424 
c_uAuthLoid_t
 
loidAuth
;

1429 
pProcP
 = 
pFme
;

1430 
pRlyP
 = 
pRlyBuf
;

1431 
maL
 = 
ngth
;

1432 *
pRlyL
 = 0;

1434 if(
maL
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
)

1437  
EPON_OAM_ERR_OK
;

1441 
authCode
 = 
pProcP
[0];

1442 ((*)&
authDaL
)[0] = 
pProcP
[1];

1443 ((*)&
authDaL
)[1] = 
pProcP
[2];

1444 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
);

1446 if(
maL
 < 
authDaL
)

1449  
EPON_OAM_ERR_OK
;

1452 
authCode
)

1454 
CTC_ORGSPEC_ONUAUTH_CODE_REQ
:

1455 
authTy
 = *
pProcP
;

1456 
authTy
)

1458 
CTC_ORGSPEC_ONUAUTH_LOID
:

1460 
t
 = 
	`c_m_uAuthLoid_g
(
idIdx
, &
loidAuth
);

1461 if(
EPON_OAM_ERR_OK
 !
t
 ||

1462 (
bufL
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
 + 
CTC_ORGSPEC_ONUAUTH_RESP_LOID_LEN
))

1465  
EPON_OAM_ERR_ORG
;

1467 
	`c_m_gScOnuAuthLoid_g
(&
loidAuth
, 
pRlyP
, &
gL
);

1468 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1473 if(
bufL
 < 
CTC_ORGSPEC_ONUAUTH_HDR_LEN
 + 
CTC_ORGSPEC_ONUAUTH_RESP_NAK_LEN
)

1476  
EPON_OAM_ERR_ORG
;

1479 
	`c_m_gScOnuAuthNak_g
(
CTC_ORGSPEC_ONUAUTH_LOID
, 
pRlyP
, &
gL
);

1480 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1484 
CTC_ORGSPEC_ONUAUTH_CODE_SUCC
:

1485 
t
 = 
	`c_m_uAuthS_t
(
idIdx
, 
CTC_OAM_ONUAUTH_STATE_SUCC
, 0);

1486 if(
EPON_OAM_ERR_OK
 !
t
)

1489 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1490 "[OAM:%s:%d] Faأauth s %u\n", 
__FILE__
, 
__LINE__
, 
t
);

1491  
EPON_OAM_ERR_OK
;

1494 
CTC_ORGSPEC_ONUAUTH_CODE_FAIL
:

1495 
authFaTy
 = *
pProcP
;

1496 
t
 = 
	`c_m_uAuthS_t
(
idIdx
, 
CTC_OAM_ONUAUTH_STATE_FAIL
, 
authFaTy
);

1497 if(
EPON_OAM_ERR_OK
 !
t
)

1500 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1501 "[OAM:%s:%d] Faأauth s %u\n", 
__FILE__
, 
__LINE__
, 
t
);

1502  
EPON_OAM_ERR_OK
;

1505 
CTC_ORGSPEC_ONUAUTH_CODE_RESP
:

1508  
EPON_OAM_ERR_ORG
;

1510 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1512  
EPON_OAM_ERR_OK
;

1513 
	}
}

1515 
	$c_m_gScChug
(

1516 
idIdx
,

1517 *
pFme
,

1518 
ngth
,

1519 *
pRlyBuf
,

1520 
bufL
,

1521 *
pRlyL
)

1523 
t
;

1524 *
pProcP
, *
pRlyP
;

1525 
gL
;

1526 
maL
;

1527 
c_chug_t
 
Chug
, 
outChug
;

1532 
pProcP
 = 
pFme
;

1533 
pRlyP
 = 
pRlyBuf
;

1534 
maL
 = 
ngth
;

1535 *
pRlyL
 = 0;

1537 if(
maL
 < 
CTC_ORGSPEC_CHURNING_HDR_LEN
)

1540  
EPON_OAM_ERR_OK
;

1544 
Chug
.
chugCode
 = 
pProcP
[0] & 
CTC_ORGSPEC_CHURNING_CODE_MASK
;

1545 
Chug
.
keyIdx
 = 
pProcP
[1];

1546 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_CHURNING_HDR_LEN
);

1548 
Chug
.
chugCode
)

1550 
CTC_ORGSPEC_CHURNING_NEWKEYREQ
:

1553 
outChug
.
chugCode
 = 
CTC_ORGSPEC_CHURNING_NEWKEY
;

1554 
	`c_m_chugKey_nd
(
outChug
.
chugKey
);

1555 
outChug
.
keyIdx
 = 
Chug
.keyIdx ^ 0x01;

1556 
t
 = 
	`c_m_chugKey_t
(
idIdx
, 
outChug
.
keyIdx
, outChug.
chugKey
);

1557 if(
EPON_OAM_ERR_OK
 !
t
 ||

1558 (
bufL
 < 
CTC_ORGSPEC_CHURNING_HDR_LEN
 + 
CTC_ORGSPEC_CHURNING_KEY_LEN
))

1561  
EPON_OAM_ERR_ORG
;

1564 
	`c_m_gScChug_g
(&
outChug
, 
pRlyP
, &
gL
);

1565 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1567 
CTC_ORGSPEC_CHURNING_NEWKEY
:

1570  
EPON_OAM_ERR_ORG
;

1572 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1574  
EPON_OAM_ERR_OK
;

1575 
	}
}

1577 
	$c_m_gScDba
(

1578 
idIdx
,

1579 *
pFme
,

1580 
ngth
,

1581 *
pRlyBuf
,

1582 
bufL
,

1583 *
pRlyL
)

1585 
t
;

1586 
dbaCode
;

1587 *
pProcP
, *
pRlyP
;

1588 
gL
, 
rL
, 
exL
;

1589 
maL
;

1590 
c_chug_t
 
Chug
, 
outChug
;

1591 
c_dbaThshd_t
 
dbaThshd
;

1597 
pProcP
 = 
pFme
;

1598 
pRlyP
 = 
pRlyBuf
;

1599 
maL
 = 
ngth
;

1600 *
pRlyL
 = 0;

1601 
exL
 = 0;

1603 if(
maL
 < 
CTC_ORGSPEC_DBA_HDR_LEN
)

1606  
EPON_OAM_ERR_OK
;

1610 
dbaCode
 = 
pProcP
[0] & 
CTC_ORGSPEC_DBA_CODE_MASK
;

1611 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_DBA_HDR_LEN
);

1612 
dbaCode
)

1614 
CTC_ORGSPEC_DBA_GET_REQ
:

1616 
	`c_m_dbaCfig_g
(&
dbaThshd
);

1619 
exL
 = 
	`c_m_gScDba_lc
(

1620 
CTC_ORGSPEC_DBA_GET_RESP
, &
dbaThshd
);

1621 if(
bufL
 < 
exL
)

1628 
	`c_m_gScDba_g
(

1629 
CTC_ORGSPEC_DBA_GET_RESP
,

1630 &
dbaThshd
,

1632 
pRlyP
,

1633 &
gL
);

1634 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1636 
CTC_ORGSPEC_DBA_SET_REQ
:

1638 
	`c_m_gScDbaTheshd_r
(
pProcP
, 
maL
, &
rL
, &
dbaThshd
);

1639 if(0 =
rL
)

1644 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
rL
);

1647 
exL
 = 
	`c_m_gScDba_lc
(

1648 
CTC_ORGSPEC_DBA_SET_RESP
, &
dbaThshd
);

1649 if(
bufL
 < 
exL
)

1655 
t
 = 
	`c_m_dbaCfig_t
(&
dbaThshd
);

1657 
	`c_m_gScDba_g
(

1658 
CTC_ORGSPEC_DBA_SET_RESP
,

1659 &
dbaThshd
,

1660 (
t
 =
EPON_OAM_ERR_OK
) ? 0x01 : 0x00,

1661 
pRlyP
,

1662 &
gL
);

1663 
	`CTC_BUF_ADD
(
pRlyP
, 
bufL
, 
gL
);

1665 
CTC_ORGSPEC_DBA_GET_RESP
:

1666 
CTC_ORGSPEC_DBA_SET_RESP
:

1672  
EPON_OAM_ERR_OK
;

1674 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1676  
EPON_OAM_ERR_OK
;

1677 
	}
}

1679 
	$c_m_gScEvt
(

1680 
idIdx
,

1681 *
pFme
,

1682 
ngth
,

1683 *
pRlyBuf
,

1684 
bufL
,

1685 *
pRlyL
)

1687 
t
;

1688 
evtCode
;

1689 *
pProcP
, *
pRlyP
;

1690 
gL
, 
rL
, 
exL
;

1691 
maL
;

1692 
c_chug_t
 
Chug
, 
outChug
;

1693 
c_dbaThshd_t
 
dbaThshd
;

1699 
pProcP
 = 
pFme
;

1700 
pRlyP
 = 
pRlyBuf
;

1701 
maL
 = 
ngth
;

1702 *
pRlyL
 = 0;

1703 
exL
 = 0;

1705 if(
maL
 < 
CTC_ORGSPEC_EVENT_HDR_LEN
)

1708  
EPON_OAM_ERR_OK
;

1712 
evtCode
 = 
pProcP
[0];

1713 
	`CTC_BUF_ADD
(
pProcP
, 
maL
, 
CTC_ORGSPEC_EVENT_HDR_LEN
);

1714 
evtCode
)

1716 
CTC_ORGSPEC_EVENT_STATUS_REQ
:

1718 
CTC_ORGSPEC_EVENT_STATUS_SET
:

1720 
CTC_ORGSPEC_EVENT_THRESHOLD_REQ
:

1722 
CTC_ORGSPEC_EVENT_THRESHOLD_SET
:

1724 
CTC_ORGSPEC_EVENT_STATUS_RESP
:

1725 
CTC_ORGSPEC_EVENT_THRESHOLD_RESP
:

1731  
EPON_OAM_ERR_OK
;

1733 *
pRlyL
 = (
pRlyP
 - 
pRlyBuf
);

1735  
EPON_OAM_ERR_OK
;

1736 
	}
}

1738 
	$c_m_extInfoStd_rr
(

1739 *
pFme
,

1740 
ngth
,

1741 
c_foOam_t
 *
pInfoOam


1744 
vLiL
;

1745 *
pPP
;

1746 
c_foOamVRec_t
 *
pVLiNew
, *
pVLi
;

1748 
pInfoOam
->
vtiLi
 = 
NULL
;

1749 
pPP
 = 
pFme
;

1750 
pInfoOam
->
ty
 = *
pPP
;

1751 
pPP
 += 1;

1752 
pInfoOam
->
ngth
 = *
pPP
;

1753 
pPP
 += 1;

1756 if(
ngth
 < 
pInfoOam
->length)

1763 
vLiL
 = (
pInfoOam
->
ngth
 - 
CTC_INFO_OAM_MIN
);

1764 if((
vLiL
 % 
CTC_INFO_OAM_VERITEM_LEN
) != 0) {

1766 
vLiL
 -(vLiL % 
CTC_INFO_OAM_VERITEM_LEN
);

1769 
	`memy
(
pInfoOam
->
oui
, 
pPP
, 3);

1770 
pPP
 += 3;

1771 
pInfoOam
->
extSut
 = *
pPP
;

1772 
pPP
 += 1;

1773 
pInfoOam
->
vsi
 = *
pPP
;

1774 
pPP
 += 1;

1777 0 !
vLiL
)

1779 
	`c_m_vLiIm_loc
(
pPP
, *PP + 3), &
pVLiNew
);

1780 if(
NULL
 =
pVLiNew
)

1787 if(
NULL
 =
pInfoOam
->
vtiLi
)

1789 
pInfoOam
->
vtiLi
 = 
pVLiNew
;

1791 if(
NULL
 !
pVLi
)

1793 
pVLi
->
xt
 = 
pVLiNew
;

1795 
pVLi
 = 
pVLiNew
;

1797 
vLiL
 -
CTC_INFO_OAM_VERITEM_LEN
;

1798 
pPP
 +
CTC_INFO_OAM_VERITEM_LEN
;

1801  
pInfoOam
->
ngth
;

1802 
	}
}

1804 
	$c_m_extInfo_rr
(

1805 
idIdx
,

1806 *
pFme
,

1807 
ngth
,

1808 *
pExaL
,

1809 **
OrgScDa
)

1811 
c_foOam_t
 *
pInfoOam
;

1814 if(
ngth
 < 
CTC_INFO_OAM_MIN
)

1816  
EPON_OAM_ERR_ORG
;

1819 
pInfoOam
 = (
c_foOam_t
 *
	`mloc
((ctc_infoOam_t));

1820 if(
NULL
 =
pInfoOam
)

1822  
EPON_OAM_ERR_ORG
;

1826 *
pExaL
 = 
	`c_m_extInfoStd_rr
(
pFme
, 
ngth
, 
pInfoOam
);

1827 if(0 =*
pExaL
)

1829 if(
NULL
 !
pInfoOam
->
vtiLi
)

1831 
	`c_m_vLiIm_
(&
pInfoOam
->
vtiLi
);

1833 
	`
(
pInfoOam
);

1834 *
OrgScDa
 = 
NULL
;

1835  
EPON_OAM_ERR_ORG
;

1837 *
OrgScDa
 = 
pInfoOam
;

1839  
EPON_OAM_ERR_OK
;

1840 
	}
}

1843 
	$c_m_extInfo_hdr
(

1844 
m_mPdu_t
 *
pOamPdu
,

1845 *
pRlyBuf
,

1846 
bufL
,

1847 *
pRlyL
,

1848 **
OrgScDa
)

1852 
t
 = 
EPON_OAM_ERR_OK
;

1853 
exL
;

1854 
extSut
;

1855 
c_foOam_t
 *
pInfoOam
;

1857 if(
NULL
 !
OrgScDa
)

1859 
pInfoOam
 = *
OrgScDa
;

1863  
EPON_OAM_ERR_PARAM
;

1865 if(
NULL
 =
pInfoOam
)

1867  
EPON_OAM_ERR_PARAM
;

1870 
	`dump_c_foOam
(
pInfoOam
);

1872 
c_discovy_e
[
pOamPdu
->
idIdx
])

1874 
CTC_OAM_FSM_STATE_WAIT_REMOTE
:

1875 
c_discovy_e
[
pOamPdu
->
idIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE_OK
;

1876 
extSut
 = 
	`c_m_vsi_sut
(
pInfoOam
->
oui
,InfoOam->
vsi
);

1877 
exL
 = 
CTC_INFO_OAM_MIN
 + (
su܋dVLi
);

1878 if(
bufL
 < 
exL
)

1880 *
pRlyL
 = 0;

1881 
t
 = 
EPON_OAM_ERR_ORG
;

1885 
	`c_m_Info_g
(
exL
, 
extSut
, 0x00, 
pInfoOam
, 1, 
pRlyBuf
);

1886 *
pRlyL
 = 
exL
;

1891 
cExtInfoC
=0;

1895 
CTC_OAM_FSM_STATE_WAIT_REMOTE_OK
:

1897 
extSut
 = 
	`c_m_vsi_sut
(
pInfoOam
->
oui
,InfoOam->
vsi
);

1898 if((1 =
extSut
&& (1 =
pInfoOam
->extSupport))

1901 
c_discovy_e
[
pOamPdu
->
idIdx
] = 
CTC_OAM_FSM_STATE_COMPLETE
;

1902 
	`memy
(
cuCtcV
[
pOamPdu
->
idIdx
].
oui
, 
pInfoOam
->oui, 
EPON_OAM_OUI_LENGTH
);

1903 
cuCtcV
[
pOamPdu
->
idIdx
].
vsi
 = 
pInfoOam
->version;

1908 
c_discovy_e
[
pOamPdu
->
idIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

1910 
extSut
 = 0;

1913 
exL
 = 
CTC_INFO_OAM_MIN
;

1914 if(
bufL
 < 
exL
)

1916 *
pRlyL
 = 0;

1917 
t
 = 
EPON_OAM_ERR_ORG
;

1921 
	`c_m_Info_g
(
exL
, 
extSut
, 
pInfoOam
->
vsi
,InfoOam, 0, 
pRlyBuf
);

1922 *
pRlyL
 = 
exL
;

1925 
CTC_OAM_FSM_STATE_COMPLETE
:

1927 
t
 = 
EPON_OAM_ERR_OK
;

1928 if(
pInfoOam
->
vtiLi
!=
NULL
&&pInfoOam->
extSut
==1)

1930 
c_discovy_e
[
pOamPdu
->
idIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

1938 
	`c_m_vLiIm_
(&
pInfoOam
->
vtiLi
);

1939 
	`
(
pInfoOam
);

1941  
t
;

1942 
	}
}

1945 
	$c_m_gSc_oss
(

1946 
m_mPdu_t
 *
pOamPdu
,

1947 *
pFme
,

1948 
ngth
,

1949 *
pRlyBuf
,

1950 
bufL
,

1951 *
pRlyL
)

1953 
t
 = 
EPON_OAM_ERR_OK
;

1954 
oui
[3];

1955 
cuV
;

1956 
extOpcode
;

1957 
gL
;

1960 if(
cExtInfoCheck
==1)

1963 
cExtInfoCheck
 = 0;

1970 *
pRlyL
 = 0;

1971 if((
ngth
 < 
CTC_ORGSPEC_HDR_LEN
|| (
bufL
 < CTC_ORGSPEC_HDR_LEN))

1974  
EPON_OAM_ERR_PARAM
;

1978 
oui
[0] = 
pFme
[0];

1979 
oui
[1] = 
pFme
[1];

1980 
oui
[2] = 
pFme
[2];

1981 
extOpcode
 = 
pFme
[3];

1982 
	`CTC_BUF_ADD
(
pFme
, 
ngth
, 
CTC_ORGSPEC_HDR_LEN
);

1983 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_INFO
,

1984 "[OAM:%s:%d]xt. opcod%d\n", 
__FILE__
, 
__LINE__
, 
extOpcode
);

1986 if(
CTC_OAM_FSM_STATE_COMPLETE
 !
c_discovy_e
[
pOamPdu
->
idIdx
])

1992 
cuV
 = 0x01;

1996 
cuV
 = 
cuCtcV
[
pOamPdu
->
idIdx
].
vsi
;

1998 
cuCtcV_webDis
 = 
cuV
;

2000 
extOpcode
)

2002 
CTC_EXTOAM_OPCODE_VARREQ
:

2003 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_VARRESP
, 
pRlyBuf
, &
gL
);

2004 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2005 *
pRlyL
 +
gL
;

2006 
gL
= 0;

2007 
c_gec_ai_ag
 = 0;

2008 if(
cuV
 <
CTC_OAM_VERSION_20
)

2010 #i
CTC_OAM_SUPPORT_BENEATH_20


2011 
t
 = 
	`c_m_gScV_q20
(

2012 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2017 #i
CTC_OAM_SUPPORT_ABOVE_21


2018 
t
 = 
	`c_m_gScV_q21
(

2019 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2022 if(0 !
gL
)

2024 *
pRlyL
 +
gL
;

2029 *
pRlyL
 = 0;

2032 
CTC_EXTOAM_OPCODE_VARRESP
:

2035 
CTC_EXTOAM_OPCODE_SETREQ
:

2036 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_SETRESP
, 
pRlyBuf
, &
gL
);

2037 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2038 *
pRlyL
 +
gL
;

2039 
gL
= 0;

2040 
c_gec_ai_ag
 = 1;

2041 if(
cuV
 <
CTC_OAM_VERSION_20
)

2043 #i
CTC_OAM_SUPPORT_BENEATH_20


2044 
t
 = 
	`c_m_gScS_q20
(

2045 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2050 #i
CTC_OAM_SUPPORT_ABOVE_21


2051 
t
 = 
	`c_m_gScS_q21
(

2052 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2055 if(0 !
gL
)

2057 *
pRlyL
 +
gL
;

2062 *
pRlyL
 = 0;

2065 
CTC_EXTOAM_OPCODE_SETRESP
:

2068 
CTC_EXTOAM_OPCODE_ONUAUTH
:

2069 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_ONUAUTH
, 
pRlyBuf
, &
gL
);

2070 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2071 *
pRlyL
 +
gL
;

2072 
gL
= 0;

2073 
t
 = 
	`c_m_gScOnuAuth
(

2074 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2075 if(0 !
gL
)

2077 *
pRlyL
 +
gL
;

2082 *
pRlyL
 = 0;

2085 
CTC_EXTOAM_OPCODE_SWDOWNLOAD
:

2086 #i
CTC_OAM_UPGRADE_ENABLE


2087 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_SWDOWNLOAD
, 
pRlyBuf
, &
gL
);

2088 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2089 *
pRlyL
 +
gL
;

2091 
gL
= 0;

2092 
	`el_c_so_dowd
(

2093 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2094 *
pRlyL
 = 0;

2097 
CTC_EXTOAM_OPCODE_CHURNING
:

2099 
t
 = 
EPON_OAM_ERR_NOT_FOUND
;

2101 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_CHURNING
, 
pRlyBuf
, &
gL
);

2102 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2103 *
pRlyL
 +
gL
;

2104 
gL
= 0;

2105 
t
 = 
	`c_m_gScChug
(

2106 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2107 if(0 !
gL
)

2109 *
pRlyL
 +
gL
;

2114 *
pRlyL
 = 0;

2118 
CTC_EXTOAM_OPCODE_DBA
:

2119 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_DBA
, 
pRlyBuf
, &
gL
);

2120 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2121 *
pRlyL
 +
gL
;

2122 
gL
= 0;

2123 
t
 = 
	`c_m_gScDba
(

2124 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2125 if(0 !
gL
)

2127 *
pRlyL
 +
gL
;

2132 *
pRlyL
 = 0;

2135 
CTC_EXTOAM_OPCODE_EVENT
:

2136 
	`c_m_gScHdr_g
(
oui
, 
CTC_EXTOAM_OPCODE_EVENT
, 
pRlyBuf
, &
gL
);

2137 
	`CTC_BUF_ADD
(
pRlyBuf
, 
bufL
, 
gL
);

2138 *
pRlyL
 +
gL
;

2139 
gL
= 0;

2140 
t
 = 
	`c_m_gScEvt
(

2141 
pOamPdu
->
idIdx
, 
pFme
, 
ngth
, 
pRlyBuf
, 
bufL
, &
gL
);

2142 if(0 !
gL
)

2144 *
pRlyL
 +
gL
;

2149 *
pRlyL
 = 0;

2152 
CTC_EXTOAM_OPCODE_RESERVED
:

2154 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_WARN
,

2155 "[OAM:%s:%d] iegxcod%u\n", 
__FILE__
, 
__LINE__
, 
extOpcode
);

2159 if(
EPON_OAM_ERR_OK
 !
t
)

2162 *
pRlyL
 = 0;

2165  
t
;

2166 
	}
}

2168 
	$c_m_evtNifiti_nd
(

2169 
c_evtOam_t
 *
pEvt
)

2172  
EPON_OAM_ERR_OK
;

2173 
	}
}

2175 
	$c_m_
()

2177 
i
, 
t
;

2178 
oui
[] = 
CTC_OAM_OUI
;

2179 
m_foOrgScCb_t
 
foCb
;

2180 
m_gScCb_t
 
gScCb
;

2183 
foCb
.
rr
 = 
c_m_extInfo_rr
;

2184 
foCb
.
hdr
 = 
c_m_extInfo_hdr
;

2185 
t
 = 
	`_m_gScCb_g
(

2186 
EPON_OAM_CBTYPE_INFO_ORGSPEC
,

2187 
oui
,

2188 (*&
foCb
);

2189 if(
EPON_OAM_ERR_OK
 !
t
)

2191 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2193  
EPON_OAM_ERR_UNKNOWN
;

2197 
gScCb
.
oss
 = 
c_m_gSc_oss
;

2198 
t
 = 
	`_m_gScCb_g
(

2199 
EPON_OAM_CBTYPE_ORGSPEC
,

2200 
oui
,

2201 (*&
gScCb
);

2202 if(
EPON_OAM_ERR_OK
 !
t
)

2204 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2206  
EPON_OAM_ERR_UNKNOWN
;

2209  
EPON_OAM_ERR_OK
;

2210 
	}
}

2212 
	$c_m_db_
(

2213 
idIdx
)

2215 
c_uAuthLoid_t
 
loidAuth
;

2219 
c_discovy_e
[
idIdx
] = 
CTC_OAM_FSM_STATE_WAIT_REMOTE
;

2220 
	`memt
(&
cuCtcV
[
idIdx
], 0x0, (
c_foOamV_t
));

2222 
	`memt
(&
loidAuth
, 0x0, (
c_uAuthLoid_t
));

2223 
	`y
(
loidAuth
.
loid
, "user", ("user"));

2224 
	`y
(
loidAuth
.
sswd
, "password", ("password"));

2225 
	`c_m_uAuthLoid_t
(
idIdx
, &
loidAuth
);

2226 
	`c_m_uAuthS_t
(
idIdx
, 
CTC_OAM_ONUAUTH_STATE_NOTCOMPLETE
, 0);

2228  
EPON_OAM_ERR_OK
;

2229 
	}
}

	@user/ctc_oam_alarmtbl.c

2 
c_evtArmCode_t
 
	gc_mCode
[] = {

5 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_EQUIPMENT
, 4 },

6 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_POWER
, 4 },

7 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYMISSING
, 0 },

8 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYFAILURE
, 0 },

9 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_BATTERYVOLTLOW
, 4 },

10 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_PHYSICALINTRUSION
, 0 },

11 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUSELFTESTFAILURE
, 4 },

12 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUTEMPHIGH
, 4 },

13 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_ONUTEMPLOW
, 4 },

14 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_IADCONNECTIONFAILURE
, 4 },

15 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_PONIFSWITCH
, 4 },

16 { 
CTC_VAR_REQBRANCH_INSTANT_ONU
, 
CTC_OAM_ALARMCODE_SLEEPSTATUSUPDATE
, 4 },

18 { 
CTC_VAR_REQBRANCH_INSTANT_NONE
, 
CTC_OAM_ALARMCODE_NONE
, 0 },

	@user/ctc_oam_upgrade.c

1 
	~<dio.h
>

2 
	~<rg.h
>

3 
	~<dlib.h
>

4 
	~<mloc.h
>

5 
	~<sys/tys.h
>

6 
	~<sys/.h
>

7 
	~<sys/sock.h
>

8 
	~<t/.h
>

9 
	~<t/if.h
>

12 
	~"_m_cfig.h
"

13 
	~"_m_r.h
"

14 
	~"_m_db.h
"

15 
	~"_m_dbg.h
"

16 
	~"_m_rx.h
"

18 
	~"m.h
"

19 
	~"h3c.h
"

21 
	~"c_.h
"

22 
	~"m_lw.h
"

25 
	~"lw_drv_pub.h
"

26 
	~"lw_drv_q.h
"

27 
	~"z.h
"

29 
	~<f.h
>

30 
	~"h3c.h
"

31 
	~"mc_cڌ.h
"

32 
	~"defs.h
"

33 
	~"syem.h
"

34 
	~"s.h
"

35 
	~"vos_thad.h
"

36 
	~"cn_u_io.h
"

37 
	~"vos_time.h
"

38 
	~"vos_libc.h
"

39 
	~"vos_loc.h
"

40 
	~<sigl.h
>

41 
	~"vos_cfig.h
"

42 
	~"mc_cڌ.h
"

44 
u8_t
 
hoMac
[6];

45 
TFTP_FILE_t
 
	gg_ImageFe
;

46 
ut8
 
	gg_upgdeOngog
;

47 
ut8
 
	gg_waFAive
;

48 
u8_t
 
out_da
[];

49 
m_fd
;

50 
u16_t
 
g_usOutDaIdx
;

51 
u8_t
 
	gg_ucLlid
 = 0;

52 
	#CTC_HEADER_PROCESS
(
p_out
\

	)

54 
memt
(
out_da
,0,
OAM_MAXIMUM_PDU_SIZE
);\

55 
	gout_da
[0] = 
OAM_LOGIG_PON_PORT
; \

56 
	gp_out
 = &
out_da
[1];\

57 
el_c_hd_f_upde
(
p_out
); \

58 
	gg_usOutDaIdx
 = (
mpdu_hdr_t
)+(
c_hd_t
)+1;\

59 
	gp_out
 +(
mpdu_hdr_t
)+(
c_hd_t
);\

62 
	$el_c_hd_f_upde
(
u8_t
 *
r
)

64 
u8_t
 *
p_by
;

65 
c_hd_t
 *
p_c
;

66 
u8_t
 
m_d_addr
[6] = {0x1, 0x80, 0xc2, 0x0, 0x0, 0x2};

67 
u8_t
 
m_ngth_ty
[2] = {0x88, 0x09};

68 
u8_t
 
c_oui
[3] = {0x11, 0x11, 0x11};

69 
mpdu_hdr_t
 *
p_hdr
;

70 
c_hd_t
 *
p_c_hd
;

72 
p_hdr
 = (
mpdu_hdr_t
*)
r
;

73 
	`vosMemCpy
(
p_hdr
->
de
, 
m_d_addr
,6);

74 
	`vosMemCpy
(
p_hdr
->
c
, 
hoMac
, 6);

75 
	`vosMemCpy
(
p_hdr
->
ngth
, 
m_ngth_ty
, 2);

76 
p_hdr
->
subty
 = 0x03;

77 
p_hdr
->
pcode
 = 0xfe;

78 
p_hdr
->
ags
 = 0x0050;

80 
r
 +(
mpdu_hdr_t
);

81 
p_c_hd
 = (
c_hd_t
*)
r
;

82 
	`memy
(
p_c_hd
->
oui
, 
c_oui
, 3);

83 
p_c_hd
->
ext_code
 = 0x06;

84 
	}
}

87 
OPL_STATUS
 
	$el_c_tp_fe_wre_q_hdr
(
u8_t
 *
pucFeName
, u8_
ucNameL
)

89 
u8_t
 *
p_out
;

90 
SOFT_DOWNLOAD_HD_MASK_t
 *
pDownHd
;

91 
TFTP_DATA_t
 *
pDaCur
;

92 
TFTP_DATA_t
 *
pDaNext
;

94 if(
g_upgdeOngog
)

96 
pDaCur
 = 
g_ImageFe
.
pDa
;

97 
pDaCur
 !
NULL
)

99 
pDaNext
 = 
pDaCur
->
pNext
;

100 
	`vosFe
(
pDaCur
);

101 
pDaCur
 = 
pDaNext
;

105 
g_upgdeOngog
 = 1;

107 
g_ImageFe
.
ucNameL
 = ucNameLen;

108 
g_ImageFe
.
ucFsh
 = 0;

109 
g_ImageFe
.
usBlock1
 = 0;

110 
g_ImageFe
.
uiFeSize
 = 0;

111 
g_ImageFe
.
pDa
 = 0;

113 
	`memy
(
g_ImageFe
.
aucFeName
, 
pucFeName
, 
ucNameL
);

115 
	`CTC_HEADER_PROCESS
(
p_out
);

117 
pDownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

118 
pDownHd
->
ucTy
 = 
OAM_SOFT_TYPE_TFTP
;

119 
pDownHd
->
usL
 = 0x09;

121 
pDownHd
->
usTid
 = 
g_ucLlid
;

122 *(
u16_t
 *)(
pDownHd
->
aucMsg

TFTP_ACK
;

123 *(
u16_t
 *)&(
pDownHd
->
aucMsg
[2]) = 0x0000;

125 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

127 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

128 
g_usOutDaIdx
 = 0;

130 
	}
}

132 
OPL_STATUS
 
	$el_c_g_fe
()

134 
FILE
 *
pFe
;

135 
TFTP_DATA_t
 *
pDa
;

137 
pFe
 = 
	`fݒ
((*)(
g_ImageFe
.
aucFeName
), "wb");

139 
pDa
 = 
g_ImageFe
.pstData;

140 
pDa
)

142 
	`fwre
(
pDa
->
aucDaBlock
, 1,Da->
usL
, 
pFe
);

143 
pDa
 =Da->
pNext
;

146 
	`fo
(
pFe
);

147 
	`chmod
((*)
g_ImageFe
.
aucFeName
, 
S_IXUSR
|
S_IXGRP
|
S_IXOTH
);

150 
	}
}

152 
OPL_STATUS
 
	$el_c_wre_ash
()

154 
OPL_STATUS
 
iStus
=0;

156 
g_ImageFe
.
ucFsh
 = 1;

158  
iStus
;

159 
	}
}

161 
OPL_STATUS
 
	$el_c_tp_da_hdr
(
u8_t
 *
pucDa
, 
u16_t
 
usD
)

163 
u8_t
 *
pucIn
;

164 
TFTP_DATA_t
 *
pDa
;

165 
SOFT_DOWNLOAD_HD_MASK_t
 *
pDownHd
;

166 
u8_t
 *
p_out
;

167 
u16_t
 
usBlockL
;

168 
u16_t
 
usBlockNum
;

170 
pucIn
 = 
pucDa
;

171 
usBlockNum
 = *((
u16_t
 *)
pucIn
);

172 
pucIn
 +(
u16_t
);

174 
usBlockL
 = 
usD
 - (
u16_t
);

175 i(
usBlockL
 >0 && usBlockLen <= 1400))

177 
pDa
 = (
TFTP_DATA_t
 *)
	`vosAoc
((TFTP_DATA_t));

178 
	`memy
(
pDa
->
aucDaBlock
, 
pucIn
, 
usBlockL
);

179 
pDa
->
usL
 = 
usBlockL
;

180 
pDa
->
pNext
 = 0;

185 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive invalidftp fileransfer data,en is invalid!... \n");

189 if(
g_ImageFe
.
usBlock1
+1 =
usBlockNum
)

193 
g_ImageFe
.
usBlock1
 = 
usBlockNum
;

195 i(0 =
g_ImageFe
.
pDa
)

197 
g_ImageFe
.
pDa
 =stData;

198 
g_ImageFe
.
pDaEnd
 = 
pDa
;

199 
g_ImageFe
.
uiFeSize
 = (
u32_t
)
usBlockL
;

203 
g_ImageFe
.
pDaEnd
->
pNext
 = 
pDa
;

204 
g_ImageFe
.
pDaEnd
 = 
pDa
;

205 
g_ImageFe
.
uiFeSize
 +(
u32_t
)
usBlockL
;

208 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Reivtfsda, sni%d!... \n", 
usBlockNum
);

212 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive invalidftp fileransfer data,o is invalid!... \n");

215 
	`CTC_HEADER_PROCESS
(
p_out
);

217 
pDownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

218 
pDownHd
->
ucTy
 = 
OAM_SOFT_TYPE_TFTP
;

219 
pDownHd
->
usL
 = 0x09;

221 
pDownHd
->
usTid
 = 
g_ucLlid
;

222 *(
u16_t
 *)(
pDownHd
->
aucMsg

TFTP_ACK
;

223 *(
u16_t
 *)&(
pDownHd
->
aucMsg
[2]
g_ImageFe
.
usBlock1
;

225 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

227 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

228 
g_usOutDaIdx
 = 0;

230 if(
usBlockL
 < 1400)

233 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Fisheivg fe: %(%d Bys)\n", 
g_ImageFe
.
aucFeName
, g_ImageFe.
uiFeSize
);

237 
	}
}

239 
	$el_c_nd_d_dowd_ڣ
(
u8_t
 
ucRpsCode
)

241 
c_tp_hd_t
 *
pTpHdr
;

242 
u8_t
 *
p_out
;

243 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Sd End Dowd Reڣ PDU, RpsCod%d!\n", 
ucRpsCode
);

244 
	`CTC_HEADER_PROCESS
(
p_out
);

246 
pTpHdr
 = (
c_tp_hd_t
 *)
p_out
;

248 
pTpHdr
->
da_ty
 = 
OAM_SOFT_TYPE_CRC
;

249 
pTpHdr
->
n
 = (
c_tp_hd_t
+ (
u16_t
+ (
u8_t
);

251 
pTpHdr
->
tid
 = 
g_ucLlid
;

253 
p_out
 +(
c_tp_hd_t
);

254 
g_usOutDaIdx
 +(
c_tp_hd_t
);

256 *((
u16_t
 *)
p_out

TFTP_END_DOWNLOAD_RSP
;

257 
p_out
 +(
u16_t
);

258 
g_usOutDaIdx
 +(
u16_t
);

260 *((
u8_t
 *)
p_out

ucRpsCode
;

261 
g_usOutDaIdx
 +(
u8_t
);

263 if(
OAM_MINIMIZE_PDU_SIZE
 > 
g_usOutDaIdx
)

265 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

268 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

269 
g_usOutDaIdx
 = 0;

270 
	}
}

272 
	$BoFgG
(
u8_t
 *
upgdeag
)

274 if(
NULL
 =
upgdeag
)

276 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"upgdeagr!", 
UFILE_BOOTFLAG
);

277  
UP_FAILED
;

279 *
upgdeag
 = 
UPGRADE_APP_0
;

280 #ifde
CONFIG_BOOT_MULTI_APP


281 

;

282 
ucou
 = 1;

283 
boag
[4];

285 if((

 = 
	`ݒ
(
UFILE_BOOTFLAG
, 
O_RDONLY
)) < 0)

287 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"F[%s] oed!", 
UFILE_BOOTFLAG
);

288  
UP_ERR_IO
;

290 if(2 !
	`ad
(

, 
boag
, 2))

292 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"F[%s]d faed!", 
UFILE_BOOTFLAG
);

293  
UP_ERR_IO
;

295 if(0 !
	`o
(

))

297 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"F[%s] clo faed!", 
UFILE_BOOTFLAG
);

298  
UP_ERR_IO
;

301 if('1' =
boag
[0])

303 *
upgdeag
 = 
UPGRADE_APP_0
;

307 *
upgdeag
 = 
UPGRADE_APP_1
;

311  
UP_OK
;

312 
	}
}

323 
	$check_image
(cڡ *
imagefe
)

325 
image_hd_t
 
hdfo
;

326 
fd
;

327 
UINT32
 
chid
;

329 *
pFeDa
=
NULL
;

330 
ut32
 
c
, 
checksum
;

331 
bys_ad
;

332 *

;

334 

 
buf
;

335 i(
	`
(
imagefe
, &
buf
) < 0){

336 
	`rtf
(
dr
, "Image check: image file sizerror!\r\n");

342 
fd
 = 
	`ݒ
(
imagefe
, 
O_RDONLY
);

343 i(
fd
 < 0)

345 
	`rtf
(
dr
, "Image check: can't open image file!\r\n");

349 
pFeDa
 = (*)
	`mloc
(
buf
.
_size
);

350 if(
NULL
 =
pFeDa
)

352 
	`rtf
(
dr
, "Image check: can't malloc mem!\r\n");

356 i(
	`vosSaRd
(
fd
, 
pFeDa
, 
buf
.
_size
) < 0)

358 
	`o
(
fd
);

359 
	`rtf
(
dr
, "Image check: can'tead image file!\r\n");

360 
	`vosFe
(
pFeDa
);

364 if(
UP_OK
 !
	`fw_hd_check
(
pFeDa
, 
buf
.
_size
))

366 
	`o
(
fd
);

367 
	`rtf
(
dr
, "Image check: image file invalid!\r\n");

368 
	`vosFe
(
pFeDa
);

372 if(
UP_OK
 !
	`ufe_vide
(
pFeDa
, 
buf
.
_size
))

374 
	`o
(
fd
);

375 
	`rtf
(
dr
, "Image check: image file invalid!\r\n");

376 
	`vosFe
(
pFeDa
);

380 
	`vosFe
(
pFeDa
);

381 
	`o
(
fd
);

383 
	}
}

385 
OPL_STATUS
 
	$el_c_d_dowd_q_hdr
(
u32_t
 
ulFeSize
)

387 
u8_t
 
ucRpsCode
;

388 
FILE
 *
pFe
;

389 
TFTP_DATA_t
 *
pDa
;

390 
u8_t
 
boFg
;

391 
c_syem_ack_t
 *
ck
 = 
NULL
;

392 
timev
 
tv
;

393 
tm
 *tm;

394 
pPh
[64] = {0};

395 
cmd
[64] = {0};

398 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive End Download Request PDU!\n");

401 if(
g_waFAive
)

403 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Sendnd downloadesponse, write success... \n");

404 
ucRpsCode
 = 
OAM_FIRMWARE_WRITE_SUCCESS
;

405 
	`el_c_nd_d_dowd_ڣ
(
ucRpsCode
);

406 
	`vosThadEx
(0);

410 if(
g_ImageFe
.
ucFsh
)

412 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Sendnd downloadesponse, file is writing... \n");

413 
ucRpsCode
 = 
OAM_FIRMWARE_WRITING
;

414 
	`el_c_nd_d_dowd_ڣ
(
ucRpsCode
);

415 
	`vosThadEx
(0);

420 if(
ulFeSize
 !
g_ImageFe
.
uiFeSize
)

422 
ucRpsCode
 = 
OAM_FIRMWARE_VERIFY_ERROR
;

423 
	`tf
("\OAM_FIRMWARE_VERIFY_ERROR!\n");

424 
nd_r_msg
;

431 
	`gtimeofday
(&
tv
, 
NULL
);

432 
tm
 = 
	`loime
(&
tv
.
tv_c
);

433 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
,"S wrg Fsh:%04d.%02d.%02d %02d:%02d:%02d\n", 
tm
->
tm_yr
 + 1900,m->
tm_m
 + 1,m->
tm_mday
,m->
tm_hour
,m->
tm_m
,m->
tm_c
);

437 
	`rtf
(
pPh
, "/tmp/%s", 
APP_UPGRADE_FILE
);

438 
	`rtf
(
cmd
,"rm -r%s",
pPh
);

439 
	`vosSyem
(
cmd
);

440 
pFe
 = 
	`fݒ
(
pPh
, "wb");

442 if(
pFe
 !
NULL
)

444 
pDa
 = 
g_ImageFe
.pstData;

445 
pDa
)

447 
	`fwre
(
pDa
->
aucDaBlock
, 1,Da->
usL
, 
pFe
);

448 
pDa
 =Da->
pNext
;

450 
	`fo
(
pFe
);

455 i(
	`check_image
(
pPh
!
OK
)

458 
ucRpsCode
 = 
OAM_FIRMWARE_VERIFY_ERROR
;

459 
	`el_c_nd_d_dowd_ڣ
(
ucRpsCode
);

461 
	`vosThadEx
(0);

465 
g_ImageFe
.
ucFsh
 = 1;

468 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Sendnd downloadesponse, start writing file... \n");

469 
ucRpsCode
 = 
OAM_FIRMWARE_WRITING
;

470 
	`el_c_nd_d_dowd_ڣ
(
ucRpsCode
);

471 ()
	`BoFgG
(&
boFg
);

472 
ck
 = 
	`c_syem_q
(
m_fd
, 
IPC_SYS_UPGRADE_APP
, 
boFg
);

473 if(
ck
 && (ck->
hdr
.
us
 !
IPC_STATUS_OK
)){

474 
	`
(
ck
);

475 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "do IPC_SYS_UPGRADE_APPrror! \n");

476 
	`vosThadEx
(0);

478 i(
ck
)

480 
	`
(
ck
);

483 
boFg
 = 
	`vosCfigBoFgG
(
FLASH_BOOT_FLAG_NORMAL
);

484 i(
FLASH_BOOT_OS2_FLAG
 =
boFg
)

486 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Writing imageo FLASH_DEV_NAME_OS1!\n");

487 
	`wre_ash
("/tmp/cn.img.bak.m", 
FLASH_DEV_NAME_OS1
);

489 
	`vosSyem
("rm -f /tmp/opconn.img.bak.oam ");

492 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Writing imageo FLASH_DEV_NAME_OS2!\n");

493 
	`wre_ash
("/tmp/cn.img.bak.m", 
FLASH_DEV_NAME_OS2
);

495 
	`vosSyem
("rm -f /tmp/opconn.img.bak.oam ");

499 
g_ImageFe
.
ucFsh
 = 0;

501 
	`gtimeofday
(&
tv
, 
NULL
);

502 
tm
 = 
	`loime
(&
tv
.
tv_c
);

503 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Fish wrg fsh:%04d.%02d.%02d %02d:%02d:%02d\n", 
tm
->
tm_yr
 + 1900,m->
tm_m
 + 1,m->
tm_mday
,m->
tm_hour
,m->
tm_m
,m->
tm_c
);

506 
ucRpsCode
 = 
OAM_FIRMWARE_WRITE_SUCCESS
;

508 
g_waFAive
 = 1;

510 
	`vosThadEx
(0);

513 
	}
}

515 
OPL_STATUS
 
	$el_c_tp_hdr
(
u8_t
 *
pucDa
, 
u16_t
 
msg_n
)

517 
u8_t
 *
pucIn
;

518 
u16_t
 
code
;

519 
u16_t
 
usDaL
;

521 
pucIn
 = 
pucDa
;

523 
code
 = *((
u16_t
 *)
pucIn
);

524 
pucIn
 +(
u16_t
);

526 
code
)

528 
TFTP_R_REQ
:

530 
TFTP_W_REQ
:

531 
	`el_c_tp_fe_wre_q_hdr
(
pucIn
, 
	`
(pucIn));

533 
TFTP_DATA
:

534 
usDaL
 = 
msg_n
 - (
u16_t
);

535 
	`el_c_tp_da_hdr
(
pucIn
, 
usDaL
);

537 
TFTP_ACK
:

539 
TFTP_ERR
:

547 
	}
}

549 
OPL_STATUS
 
	$el_c_c_hdr
(
u8_t
 *
pucDa
)

551 
u8_t
 *
pucIn
;

552 
u16_t
 
usOpcode
;

553 
u32_t
 
ulFeSize
;

555 
pucIn
 = 
pucDa
;

556 
usOpcode
 = *((
u16_t
 *)
pucIn
);

557 
pucIn
 +(
u16_t
);

559 
usOpcode
)

561 
TFTP_END_DOWNLOAD_REQ
:

562 
ulFeSize
 = *((
u32_t
 *)
pucIn
);

567 
	`vosThadCe
("tUpgded", 
OP_VOS_THREAD_STKSZ
, 45,

568 (*)
el_c_d_dowd_q_hdr
, (*)
ulFeSize
);

573 
TFTP_END_DOWNLOAD_RSP
:

581 
	}
}

583 
OPL_STATUS
 
	$el_c_ld_w_img
()

585 
OPL_STATUS
 
iStus
=
OPL_OK
;

586 
u8_t
 *
p_out
;

587 
c_tp_hd_t
 *
pusTpHdr
;

588 
u16_t
 
usPktL
;

589 
u8_t
 
ucAck
;

590 
FILE
 *
pFe
;

591 
u8_t
 
ucBoOi
;

592 
u8_t
 
boFg
;

594 
g_waFAive
 = 0;

596 
ucBoOi
 = 1;

597 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "Receive Active Image PDU!\n");

600 i(
FLASH_BOOT_OS2_FLAG
 =
boFg
)

616 
ucAck
 = 0;

618 
	`CTC_HEADER_PROCESS
(
p_out
);

620 
pusTpHdr
 = (
c_tp_hd_t
 *)
p_out
;

622 
pusTpHdr
->
da_ty
 = 
OAM_SOFT_TYPE_LOAD
;

623 
pusTpHdr
->
n
 = (
c_tp_hd_t
+ (
u16_t
+ (
u8_t
);

626 
pusTpHdr
->
tid
 = 
g_ucLlid
;

628 
p_out
 +(
c_tp_hd_t
);

629 
g_usOutDaIdx
 +(
c_tp_hd_t
);

631 *((
u16_t
 *)(
p_out
)
TFTP_ACT_IMG_RSP
;

632 
p_out
 +(
u16_t
);

633 
g_usOutDaIdx
 +(
u16_t
);

635 *((
u8_t
 *)(
p_out
)
ucAck
;

636 
p_out
 +(
u8_t
);

637 
g_usOutDaIdx
 +(
u8_t
);

639 if(
g_usOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

641 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

644 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

645 
g_usOutDaIdx
 = 0;

647  
iStus
;

648 
	}
}

650 
OPL_STATUS
 
	$el_c_image_mk
()

652 
u8_t
 *
p_out
;

653 
OPL_STATUS
 
iStus
=
OPL_OK
;

654 
SOFT_DOWNLOAD_HD_MASK_t
 *
pDownHd
;

656 
	`CTC_HEADER_PROCESS
(
p_out
);

657 
pDownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

658 
pDownHd
->
ucTy
 = 
OAM_SOFT_TYPE_LOAD
;

659 
pDownHd
->
usL
 = 0x08;

661 
pDownHd
->
usTid
 = 
g_ucLlid
;

662 *(
u16_t
 *)(
pDownHd
->
aucMsg

TFTP_ACT_IMG_RSP
;

663 
pDownHd
->
aucMsg
[2] = 0;

666 if(
g_usOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

668 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

670 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

671 
g_usOutDaIdx
 = 0;

674  
iStus
;

675 
	}
}

677 
OPL_STATUS
 
	$el_c_image_bo
()

679 
u8_t
 *
p_out
;

680 
OPL_STATUS
 
iStus
=
OPL_OK
;

681 
SOFT_DOWNLOAD_HD_MASK_t
 *
pDownHd
;

683 
	`CTC_HEADER_PROCESS
(
p_out
);

684 
pDownHd
 = (
SOFT_DOWNLOAD_HD_MASK_t
 *)
p_out
;

685 
pDownHd
->
ucTy
 = 
OAM_SOFT_TYPE_LOAD
;

686 
pDownHd
->
usL
 = 0x08;

688 
pDownHd
->
usTid
 = 
g_ucLlid
;

689 *(
u16_t
 *)(
pDownHd
->
aucMsg

TFTP_ACT_IMG_RSP
;

690 
pDownHd
->
aucMsg
[2] = 0;

693 if(
g_usOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

695 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

697 
	`el_ho_nd
(
out_da
, 
OAM_MINIMIZE_PDU_SIZE
);

698 
g_usOutDaIdx
 = 0;

699  
iStus
;

700 
	}
}

702 
OPL_STATUS
 
	$el_c_aive_q_hdr
(
u8_t
 *
pucDa
)

704 
u8_t
 *
pucIn
;

705 
u8_t
 
ucFg
;

707 
pucIn
 = 
pucDa
;

709 
ucFg
 = *((
u8_t
 *)
pucIn
);

711 
OPL_STATUS
 
iStus
=
OPL_OK
;

712 
ucFg
)

714 
LOAD_NEW_IMG
:

715 
	`el_c_ld_w_img
();

723  
iStus
;

724 
	}
}

726 
OPL_STATUS
 
	$el_c_comm_q_hdr
(
u8_t
 *
pucDa
)

728 
OPL_STATUS
 
iStus
=
OPL_OK
;

729 
u8_t
 *
pucIn
;

730 
u8_t
 
ucFg
;

732 
pucIn
 = 
pucDa
;

734 
ucFg
 = *((
u8_t
 *)
pucIn
);

736 
ucFg
)

738 
COMMIT_NEW_IMG
:

739 
	`el_c_comm_w_img
();

747  
iStus
;

748 
	}
}

751 
OPL_STATUS
 
	$el_c_comm_w_img
()

753 
OPL_STATUS
 
iStus
=
OPL_OK
;

754 
u8_t
 *
p_out
;

755 
c_tp_hd_t
 *
pusTpHdr
;

756 
u8_t
 
ucAck
, 
boFg
;

761 i(
FLASH_BOOT_OS2_FLAG
 =
boFg
)

771 
ucAck
 = 0;

773 
nd_r_msg
:

774 
	`CTC_HEADER_PROCESS
(
p_out
);

777 
pusTpHdr
 = (
c_tp_hd_t
 *)
p_out
;

779 
pusTpHdr
->
da_ty
 = 
OAM_SOFT_TYPE_COMMIT
;

780 
pusTpHdr
->
n
 = (
c_tp_hd_t
+ (
u16_t
+ (
u8_t
);

782 
pusTpHdr
->
tid
 = 
g_ucLlid
;

783 
p_out
 +(
c_tp_hd_t
);

784 
g_usOutDaIdx
+(
c_tp_hd_t
);

786 *((
u16_t
 *)(
p_out
)
TFTP_COMMIT_IMG_RSP
;

787 
p_out
 +(
u16_t
);

788 
g_usOutDaIdx
 +(
u16_t
);

790 *((
u8_t
 *)(
p_out
)
ucAck
;

791 
p_out
 +(
u8_t
);

792 
g_usOutDaIdx
 +(
u8_t
);

794 if(
g_usOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

796 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

799 
	`el_ho_nd
(
out_da
, 
OAM_MINIMIZE_PDU_SIZE
);

800 
g_usOutDaIdx
 = 0;

802  
iStus
;

803 
	}
}

805 
OPL_STATUS
 
	$el_c_ld_hdr
(
u8_t
 *
pucDa
)

807 
u8_t
 *
pucIn
;

808 
u16_t
 
usOpcode
;

810 
pucIn
 = 
pucDa
;

812 
usOpcode
 = *((
u16_t
 *)
pucIn
);

813 
pucIn
 +(
u16_t
);

815 
usOpcode
)

817 
TFTP_ACT_IMG_REQ
:

818 
	`el_c_aive_q_hdr
(
pucIn
);

820 
TFTP_ACT_IMG_RSP
:

823 
TFTP_COMMIT_IMG_REQ
:

824 
	`el_c_comm_q_hdr
(
pucIn
);

827 
TFTP_COMMIT_IMG_RSP
:

836 
	}
}

838 
OPL_STATUS
 
	$el_c_comm_hdr
(
u8_t
 *
pucDa
)

840 
u8_t
 *
pucIn
;

841 
u16_t
 
usOpcode
;

843 
pucIn
 = 
pucDa
;

845 
usOpcode
 = *((
u16_t
 *)
pucIn
);

846 
pucIn
 +(
u16_t
);

848 
usOpcode
)

850 
TFTP_COMMIT_IMG_REQ
:

851 
	`el_c_comm_q_hdr
(
pucIn
);

856 
	}
}

858 
OPL_STATUS
 
	$el_c_so_dowd
(

859 
idIdx
,

860 *
pFme
,

861 
ngth
,

862 *
pRlyBuf
,

863 
bufL
,

864 *
pGL
)

866 
u8_t
 *
pucIn
;

867 
c_tp_hd_t
 *
p_tp_hd
;

868 
u16_t
 
usMsgL
;

870 
pucIn
 = 
pFme
;

871 *
pGL
 = 0;

872 
p_tp_hd
 = (
c_tp_hd_t
 *)
pucIn
;

873 
pucIn
 +(
c_tp_hd_t
);

874 
g_ucLlid
 = 
idIdx
;

875 
usMsgL
 = (
p_tp_hd
->
n
- (
c_tp_hd_t
);

877 
p_tp_hd
->
da_ty
)

879 
OAM_SOFT_TYPE_TFTP
:

880 
	`el_c_tp_hdr
(
pucIn
, 
usMsgL
);

882 
OAM_SOFT_TYPE_CRC
:

883 
	`el_c_c_hdr
(
pucIn
);

885 
OAM_SOFT_TYPE_LOAD
:

886 
	`el_c_ld_hdr
(
pucIn
);

888 
OAM_SOFT_TYPE_COMMIT
:

889 
	`el_c_comm_hdr
(
pucIn
);

896 
	}
}

	@user/ctc_oam_var.c

25 
	~<dio.h
>

26 
	~<rg.h
>

27 
	~<mloc.h
>

28 
	~<unid.h
>

29 
	~<lux/bo.h
>

31 
	~"_m_cfig.h
"

32 
	~"_m_r.h
"

33 
	~"_m_db.h
"

34 
	~"_m_dbg.h
"

35 
	~"_m_rx.h
"

37 
	~"c_m.h
"

38 
	~"c_m_v.h
"

40 
	~"lw_ty.h
"

41 
	~"lw_drv_pub.h
"

42 
	~"m.h
"

43 
	~"m_lw.h
"

44 
	~"mc_cڌ.h
"

45 
	~<k/pt.h
>

46 
	~<k/vn.h
>

47 
	~<k/.h
>

48 
	~<k/dp.h
>

49 
	~<h/comm/h.h
>

50 
	~<c_oc.h
>

51 
	~<lw_drv_q.h
>

52 
	~"m_m.h
"

53 
	~<unid.h
>

54 
	~<f.h
>

55 
	~<dio.h
>

56 
	~"ufe_oss.h
"

65 
c_dbaThshd_t
 
	gdbaThshdDb
 = {

66 .
numQS
 = 1,

67 .
	gptM
[0] = 0xff,

68 .
	gqueueS
[0].
	gqueueThshd
[0] = 0xffff,

69 .
	gqueueS
[0].
	gqueueThshd
[1] = 0xffff,

70 .
	gqueueS
[0].
	gqueueThshd
[2] = 0xffff,

71 .
	gqueueS
[0].
	gqueueThshd
[3] = 0xffff,

72 .
	gqueueS
[0].
	gqueueThshd
[4] = 0xffff,

73 .
	gqueueS
[0].
	gqueueThshd
[5] = 0xffff,

74 .
	gqueueS
[0].
	gqueueThshd
[6] = 0xffff,

75 .
	gqueueS
[0].
	gqueueThshd
[7] = 0xffff,

78 
	guni_pt_auto_gٟti
 = 0x0f;

88 
BOOL
 
CTC_CheckVidVidFMcTni
(
UINT32
 
vnId
);

95 
	$c_m_g_ptid
(

96 
c_vInt_t
 *
pVInt
,

97 
c_vDest_t
 
vDesc
,

98 
c_vCڏ_t
 *
pVCڏ
,

99 *
ucPtS
,

100 *
ucPtE
)

102 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

104 if(0xFF =
pVInt
->
vDa
[0])

106 *
ucPtS
 = 1;

107 *
ucPtE
 = 
OAM_MAX_INSTANCE_ID
;

111 *
ucPtS
 = 
pVInt
->
vDa
[0];

112 *
ucPtE
 = 
pVInt
->
vDa
[0];

115 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

117 if((
pVInt
->
r
.
uniPt
.
ptTy
 !
CTC_VAR_INSTANT_PORTTYPE_ETHERNET
)

118 || ((
pVInt
->
r
.
uniPt
.
ptNo
 > 
CTC_MAX_SUBPORT_NUM
)

119 &&(
pVInt
->
r
.
uniPt
.
ptNo
 != 0xFF)

120 &&(
pVInt
->
r
.
uniPt
.
ptNo
 != 0xFFFF)))

131 
pVCڏ
->
vDesc
 = varDesc;

132 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

139 
pVCڏ
->
vWidth
 |
CTC_VAR_CONTAINER_INDICATOR
;

141  
EPON_OAM_ERR_PARAM
;

144 if((0xFF =
pVInt
->
r
.
uniPt
.
ptNo
)

145 ||(0xFFFF =
pVInt
->
r
.
uniPt
.
ptNo
))

147 *
ucPtS
 = 1;

148 *
ucPtE
 = 
OAM_MAX_INSTANCE_ID
;

152 *
ucPtS
 = 
pVInt
->
r
.
uniPt
.
ptNo
;

153 *
ucPtE
 = 
pVInt
->
r
.
uniPt
.
ptNo
;

157  
EPON_OAM_ERR_OK
;

158 
	}
}

160 
	$c_m_add_v
(

161 
c_vInt_t
 *
pVInt
,

162 *
p_by
,

163 
ucPtS
)

165 
m__v_t_2_0
 *
p__2_0
;

166 
m__v_t
 *
p__2_1
;

167 *
tmp_r
;

180 if(
NULL
 =
p_by
)

182  
EPON_OAM_ERR_PARAM
;

185 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

187 
p__2_0
 = (
m__v_t_2_0
 *)
p_by
;

188 
p__2_0
->
bnch
 = 
pVInt
->
vDesc
.
vBnch
;

189 
p__2_0
->
af
 = 
pVInt
->
vDesc
.
vLf
;

190 
p__2_0
->
width
 = 
pVInt
->
vWidth
;

196 
p__2_0
->
vue
 = 
ucPtS
;

198  (
m__v_t_2_0
);

200 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

202 
p__2_1
 = (
m__v_t
 *)
p_by
;

203 
p__2_1
->
bnch
 = 
pVInt
->
vDesc
.
vBnch
;

204 
p__2_1
->
af
 = 
pVInt
->
vDesc
.
vLf
;

205 
p__2_1
->
width
 = 
pVInt
->
vWidth
;

217 
tmp_r
 = (*)&(
p__2_1
->
vue
);

218 
tmp_r
[0] = 
pVInt
->
r
.
uniPt
.
ptTy
;

219 
tmp_r
[1] = 
pVInt
->
r
.
uniPt
.
chassisNo
;

220 
tmp_r
[2] = 0x00;

221 
tmp_r
[3] = 
ucPtS
;

223  (
m__v_t
);

225 
	}
}

227 
	$c_m_vCb_dummy_t
(

228 
idIdx
,

229 

,

230 
c_vInt_t
 *
pVInt
,

231 
c_vDest_t
 
vDesc
,

232 
c_vCڏ_t
 *
pVCڏ
)

236 
	`CTC_DEBUG
("%%d\n", 
__FUNCTION__
, 
__LINE__
);

238 
pVCڏ
->
vWidth
 = 0x80;

239  
EPON_OAM_ERR_OK
;

240 
	}
}

243 
	$c_m_vCb_mAdm_t
(

244 
idIdx
,

245 

,

246 
c_vInt_t
 *
pVInt
,

247 
c_vDest_t
 
vDesc
,

248 
c_vCڏ_t
 *
pVCڏ
)

252 
u8_t
 
t
=
ERROR
, 
ucPtS
, 
ucPtE
;

253 
m_m_adm_y_t
* 
p_m_adm_y
;

254 
u8_t
 
ai
;

255 
t_vue
 =0;

257 if(6 !
pVCڏ
->
vWidth
)

259  
EPON_OAM_ERR_UNKNOWN
;

262 
p_m_adm_y
 = (
m_m_adm_y_t
*)
pVCڏ
->
pVDa
;

265 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_DEACTIVE
 =
p_m_adm_y
->
m_cfig
)

267 
ai
 = 
DISABLED
;

269 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_ACTIVE
 =
p_m_adm_y
->
m_cfig
)

271 
ai
 = 
ENABLED
;

275 
	`CTC_DEBUG
("\r\nunknownlarmAdminction\r\n");

279 if(
NULL
 !
pVInt
)

282 
	`tf
("%%d\n", 
__FILE__
, 
__LINE__
);

283 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

284 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

286  
EPON_OAM_ERR_OK
;

288 ; 
ucPtS
<=
ucPtE
; ucPortS++)

290 
t
 = 
	`CTC_STACK_m_t_e
(
p_m_adm_y
->
m_id
, 
ucPtS
, 
ai
);

291 if(
NO_ERROR
 !
t
)

293 
nd_r
;

299 
	`tf
("%%d\n", 
__FILE__
, 
__LINE__
);

300 
t
 = 
	`CTC_STACK_m_t_e
(
p_m_adm_y
->
m_id
, 0, 
ai
);

301 if(
NO_ERROR
 !
t
)

303 
nd_r
;

306 
	`CTC_DEBUG
("alarm_id %x config %d\n",

307 
p_m_adm_y
->
m_id
,

308 
p_m_adm_y
->
m_cfig
);

309 
nd_r
:

310 if(
t
 !
NO_ERROR
)

312 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

316 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

318  
EPON_OAM_ERR_OK
;

319 
	}
}

321 
	$c_m_vCb_pif_mThshd_t
(

322 
idIdx
,

323 

,

324 
c_vInt_t
 *
pVInt
,

325 
c_vDest_t
 
vDesc
,

326 
c_vCڏ_t
 *
pVCڏ
)

330 
u8_t
 
t
=
ERROR
;

331 
m_m_thshd_y_t
 *
p_m_thshd_y
;

332 
u8_t
 
ai
;

333 
t_vue
 =0;

335 
p_m_thshd_y
 = (
m_m_thshd_y_t
 *)
pVCڏ
->
pVDa
;

336 
t
 = 
	`CTC_STACK_m_t_thr
(
p_m_thshd_y
->
m_id
,

338 
p_m_thshd_y
->
isg_thshd
,

339 
p_m_thshd_y
->
Κg_thshd
);

341 
	`CTC_DEBUG
("unsignedlarm_id %daising_thr %d falling_thr %d\n",

342 
p_m_thshd_y
->
m_id
,

343 
p_m_thshd_y
->
isg_thshd
,

344 
p_m_thshd_y
->
Κg_thshd
);

347 
	`CTC_DEBUG
("signedlarm_id %daising_thr %d falling_thr %d\n",

348 
p_m_thshd_y
->
m_id
,

349 ()
p_m_thshd_y
->
isg_thshd
,

350 ()
p_m_thshd_y
->
Κg_thshd
);

351 if(
NO_ERROR
 !
t
)

353 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

357 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

359  
EPON_OAM_ERR_OK
;

360 
	}
}

363 
	$c_m_vCb_aPhyAdmS_g
(

364 
idIdx
,

365 

,

366 
c_vInt_t
 *
pVInt
,

367 
c_vDest_t
 
vDesc
,

368 *
pVCڏ_Tٮ_L
,

369 
c_vCڏ_t
 *
pVCڏ
)

373 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

374 
m_phy_adme_t
 *
p_adm
;

375 
BOOL
 
bPtStus
 = 
TRUE
;

376 
t_vue
 =0;

377 
v_n
 = 0;

378 
u32_t
 *
mp_vue
;

380 if(
NULL
 =
pVInt
)

382  
EPON_OAM_ERR_NOT_FOUND
;

385 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

386 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

388  
EPON_OAM_ERR_OK
;

410 
pVCڏ
->
vDesc
 = varDesc;

411 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_APHYADMINSTATE_LEN
;

413 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

414 if(
NULL
 =
pVCڏ
->
pVDa
)

416  
EPON_OAM_ERR_MEM
;

418 
p_by
 = 
pVCڏ
->
pVDa
;

419 
mp_vue
 = (
u32_t
 *)
p_by
;

421 i
NO_ERROR
 =
	`DRV_GPtLkS
((
UINT32
)
ucPtS
, &
bPtStus
))

423 i
TRUE
 =
bPtStus
 )

425 *
mp_vue
 = 
CTC_OAM_VAR_APHYADMINSTATE_ENABLE
;

429 *
mp_vue
 = 
CTC_OAM_VAR_APHYADMINSTATE_DISABLE
;

433 
p_by
 +
pVCڏ
->
vWidth
;

434 if(
ucPtS
 =
ucPtE
)

436  
EPON_OAM_ERR_OK
;

440 
ucPtS
 += 1;

443 ; 
ucPtS
<=
ucPtE
; ucPortS++)

446 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

447 i(
v_n
 < 
EPON_OAM_ERR_OK
)

449  
EPON_OAM_ERR_PARAM
;

451 
p_by
 +
v_n
;

464 
p_adm
 = (
m_phy_adme_t
*)
p_by
;

465 
p_adm
->
bnch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

466 
p_adm
->
af
 = 
OAM_ATTR_PHY_ADMIN
;

467 
p_adm
->
width
 = 
CTC_OAM_VAR_APHYADMINSTATE_LEN
;

469 i
NO_ERROR
 =
	`DRV_GPtLkS
((
UINT32
)
ucPtS
, &
bPtStus
))

471 i
TRUE
 =
bPtStus
 )

473 
p_adm
->
vue
 = 
CTC_OAM_VAR_APHYADMINSTATE_ENABLE
;

477 
p_adm
->
vue
 = 
CTC_OAM_VAR_APHYADMINSTATE_DISABLE
;

485 
p_by
 +(
m_phy_adme_t
);

488 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

490  
EPON_OAM_ERR_OK
;

491 
	}
}

494 
	$c_m_vCb_aAutoNegAdmS_g
(

495 
idIdx
,

496 

,

497 
c_vInt_t
 *
pVInt
,

498 
c_vDest_t
 
vDesc
,

499 *
pVCڏ_Tٮ_L
,

500 
c_vCڏ_t
 *
pVCڏ
)

504 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

505 
m_auteg_adme_t
 *
p_adm
;

506 
BOOL
 
bPtStus
 = 
TRUE
;

507 
t_vue
 =0;

508 
v_n
 = 0;

509 
u32_t
 *
mp_vue
;

511 if(
NULL
 =
pVInt
)

513  
EPON_OAM_ERR_NOT_FOUND
;

516 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

517 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

519  
EPON_OAM_ERR_OK
;

541 
pVCڏ
->
vDesc
 = varDesc;

542 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_LEN
;

544 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

545 if(
NULL
 =
pVCڏ
->
pVDa
)

547  
EPON_OAM_ERR_MEM
;

549 
p_by
 = 
pVCڏ
->
pVDa
;

550 
mp_vue
 = (
u32_t
 *)
p_by
;

552 i
NO_ERROR
 =
	`DRV_GPtAutoNegAdm
((
UINT32
)
ucPtS
, &
bPtStus
))

554 i
TRUE
 =
bPtStus
 )

556 *
mp_vue
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_ENABLE
;

560 *
mp_vue
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_DISABLE
;

564 
p_by
 +
pVCڏ
->
vWidth
;

565 if(
ucPtS
 =
ucPtE
)

567  
EPON_OAM_ERR_OK
;

571 
ucPtS
 += 1;

574 ; 
ucPtS
<=
ucPtE
; ucPortS++)

577 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

578 i(
v_n
 < 
EPON_OAM_ERR_OK
)

580  
EPON_OAM_ERR_PARAM
;

582 
p_by
 +
v_n
;

595 
p_adm
 = (
m_auteg_adme_t
*)
p_by
;

596 
p_adm
->
bnch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

597 
p_adm
->
af
 = 
OAM_ATTR_AUTONEG_ADMIN_STATE
;

598 
p_adm
->
width
 = 
CTC_OAM_VAR_AAUTONEGADMINSTATE_LEN
;

600 i
NO_ERROR
 =
	`DRV_GPtAutoNegAdm
((
UINT32
)
ucPtS
, &
bPtStus
))

602 i
TRUE
 =
bPtStus
 )

604 
p_adm
->
vue
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

608 
p_adm
->
vue
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

616 
p_by
 +(
m_auteg_adme_t
);

619 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

621  
EPON_OAM_ERR_OK
;

622 
	}
}

625 
	$c_m_vCb_aAutoNegLolTechnogyAby_g
(

626 
idIdx
,

627 

,

628 
c_vInt_t
 *
pVInt
,

629 
c_vDest_t
 
vDesc
,

630 *
pVCڏ_Tٮ_L
,

631 
c_vCڏ_t
 *
pVCڏ
)

635 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

636 
m_auteg_loby_t
 *
p_lol
;

637 
t_vue
 =0;

638 
v_n
 = 0;

639 
u32_t
 *
mp_vue
;

641 if(
NULL
 =
pVInt
)

643  
EPON_OAM_ERR_NOT_FOUND
;

646 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

647 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

649  
EPON_OAM_ERR_OK
;

679 
pVCڏ
->
vDesc
 = varDesc;

680 
pVCڏ
->
vWidth
 = (
m_auteg_loby_t
) - 4;

682 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

683 if(
NULL
 =
pVCڏ
->
pVDa
)

685  
EPON_OAM_ERR_MEM
;

687 
p_by
 = 
pVCڏ
->
pVDa
;

727 
mp_vue
 = (
u32_t
 *)
p_by
;

728 *
mp_vue
 = 8;

729 
p_by
 += 4;

732 
mp_vue
 = (
u32_t
 *)
p_by
;

733 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

734 
p_by
 += 4;

737 
mp_vue
 = (
u32_t
 *)
p_by
;

738 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

739 
p_by
 += 4;

742 
mp_vue
 = (
u32_t
 *)
p_by
;

743 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

744 
p_by
 += 4;

747 
mp_vue
 = (
u32_t
 *)
p_by
;

748 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

749 
p_by
 += 4;

752 
mp_vue
 = (
u32_t
 *)
p_by
;

753 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

754 
p_by
 += 4;

757 
mp_vue
 = (
u32_t
 *)
p_by
;

758 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

759 
p_by
 += 4;

762 
mp_vue
 = (
u32_t
 *)
p_by
;

763 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

764 
p_by
 += 4;

767 
mp_vue
 = (
u32_t
 *)
p_by
;

768 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

769 
p_by
 += 4;

771 if(
ucPtS
 =
ucPtE
)

773  
EPON_OAM_ERR_OK
;

777 
ucPtS
 += 1;

780 ; 
ucPtS
<=
ucPtE
; ucPortS++)

783 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

784 i(
v_n
 < 
EPON_OAM_ERR_OK
)

786  
EPON_OAM_ERR_PARAM
;

788 
p_by
 +
v_n
;

809 
p_lol
 = (
m_auteg_loby_t
*)
p_by
;

810 
p_lol
->
bnch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

811 
p_lol
->
af
 = 
OAM_ATTR_AUTONEG_LOCAL_ABILITY
;

812 
p_lol
->
width
 = (
m_auteg_loby_t
) - 4;

813 
p_lol
->
numb
 = 8;

814 
p_lol
->
f
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

815 
p_lol
->
cd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

816 
p_lol
->
thd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

817 
p_lol
->
fouh
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

818 
p_lol
->
fih
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

819 
p_lol
->
sixth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

820 
p_lol
->
vth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

821 
p_lol
->
eighth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

822 
p_by
 +(
m_auteg_loby_t
);

825 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

827  
EPON_OAM_ERR_OK
;

828 
	}
}

831 
	$c_m_vCb_aAutoNegAdvtidTechnogyAby_g
(

832 
idIdx
,

833 

,

834 
c_vInt_t
 *
pVInt
,

835 
c_vDest_t
 
vDesc
,

836 *
pVCڏ_Tٮ_L
,

837 
c_vCڏ_t
 *
pVCڏ
)

841 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

842 
m_auteg_advaby_t
 *
p_adv
;

843 
t_vue
 =0;

844 
v_n
 = 0;

845 
u32_t
 *
mp_vue
;

847 if(
NULL
 =
pVInt
)

849  
EPON_OAM_ERR_NOT_FOUND
;

852 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

853 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

855  
EPON_OAM_ERR_OK
;

885 
pVCڏ
->
vDesc
 = varDesc;

886 
pVCڏ
->
vWidth
 = (
m_auteg_advaby_t
) - 4;

888 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

889 if(
NULL
 =
pVCڏ
->
pVDa
)

891  
EPON_OAM_ERR_MEM
;

893 
p_by
 = 
pVCڏ
->
pVDa
;

933 
mp_vue
 = (
u32_t
 *)
p_by
;

934 *
mp_vue
 = 8;

935 
p_by
 += 4;

938 
mp_vue
 = (
u32_t
 *)
p_by
;

939 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

940 
p_by
 += 4;

943 
mp_vue
 = (
u32_t
 *)
p_by
;

944 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

945 
p_by
 += 4;

948 
mp_vue
 = (
u32_t
 *)
p_by
;

949 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

950 
p_by
 += 4;

953 
mp_vue
 = (
u32_t
 *)
p_by
;

954 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

955 
p_by
 += 4;

958 
mp_vue
 = (
u32_t
 *)
p_by
;

959 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

960 
p_by
 += 4;

963 
mp_vue
 = (
u32_t
 *)
p_by
;

964 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

965 
p_by
 += 4;

968 
mp_vue
 = (
u32_t
 *)
p_by
;

969 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

970 
p_by
 += 4;

973 
mp_vue
 = (
u32_t
 *)
p_by
;

974 *
mp_vue
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

975 
p_by
 += 4;

977 if(
ucPtS
 =
ucPtE
)

979  
EPON_OAM_ERR_OK
;

983 
ucPtS
 += 1;

986 ; 
ucPtS
<=
ucPtE
; ucPortS++)

989 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

990 i(
v_n
 < 
EPON_OAM_ERR_OK
)

992  
EPON_OAM_ERR_PARAM
;

994 
p_by
 +
v_n
;

1015 
p_adv
 = (
m_auteg_advaby_t
*)
p_by
;

1016 
p_adv
->
bnch
 = 
OAM_BRANCH_STANDARD_ATTRIB
;

1017 
p_adv
->
af
 = 
OAM_ATTR_AUTONEG_ADV_ABILITY
;

1018 
p_adv
->
width
 = (
m_auteg_advaby_t
) - 4;

1019 
p_adv
->
numb
 = 8;

1020 
p_adv
->
f
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_T
;

1021 
p_adv
->
cd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_1000_BASE_TFD
;

1022 
p_adv
->
thd
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TX
;

1023 
p_adv
->
fouh
 = 
CTC_STACK_TECHNOLOGY_ABILITY_100_BASE_TXFD
;

1024 
p_adv
->
fih
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_T
;

1025 
p_adv
->
sixth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_10_BASE_TFD
;

1026 
p_adv
->
vth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_A_PAUSE
;

1027 
p_adv
->
eighth
 = 
CTC_STACK_TECHNOLOGY_ABILITY_FDX_S_PAUSE
;

1028 
p_by
 +(
m_auteg_advaby_t
);

1031 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

1033  
EPON_OAM_ERR_OK
;

1034 
	}
}

1037 
	$c_m_vCb_aFECAby_g
(

1038 
idIdx
,

1039 

,

1040 
c_vInt_t
 *
pVInt
,

1041 
c_vDest_t
 
vDesc
,

1042 *
pVCڏ_Tٮ_L
,

1043 
c_vCڏ_t
 *
pVCڏ
)

1047 
gVue
;

1049 
pVCڏ
->
vDesc
 = varDesc;

1050 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_AFECABILITY_LEN
;

1051 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1052 if(
NULL
 =
pVCڏ
->
pVDa
)

1054  
EPON_OAM_ERR_MEM
;

1058 
gVue
 = 
CTC_OAM_VAR_AFECABILITY_SUPPORTED
;

1059 
pVCڏ
->
pVDa
[0] = ((*)&
gVue
)[0];

1060 
pVCڏ
->
pVDa
[1] = ((*)&
gVue
)[1];

1061 
pVCڏ
->
pVDa
[2] = ((*)&
gVue
)[2];

1062 
pVCڏ
->
pVDa
[3] = ((*)&
gVue
)[3];

1064  
EPON_OAM_ERR_OK
;

1065 
	}
}

1068 
	$c_m_vCb_aFecMode_g
(

1069 
idIdx
,

1070 

,

1071 
c_vInt_t
 *
pVInt
,

1072 
c_vDest_t
 
vDesc
,

1073 *
pVCڏ_Tٮ_L
,

1074 
c_vCڏ_t
 *
pVCڏ
)

1078 
t
;

1079 
e
;

1080 
gVue
;

1082 
pVCڏ
->
vDesc
 = varDesc;

1083 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_AFECMODE_LEN
;

1084 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1085 if(
NULL
 =
pVCڏ
->
pVDa
)

1087  
EPON_OAM_ERR_MEM
;

1090 
t
 = 
	`DRV_GFecMode
(&
e
);

1091 if(
NO_ERROR
 !
t
)

1093 
	`CTC_DEBUG
("aFecMode_get fail\n");

1094  
EPON_OAM_ERR_UNKNOWN
;

1097 if((
e
 !
ENABLED
&& (!
DISABLED
))

1099 
gVue
 = 
CTC_OAM_VAR_AFECMODE_UNKNOWN
;

1103 if(
ENABLED
 =
e
)

1105 
gVue
 = 
CTC_OAM_VAR_AFECMODE_ENABLED
;

1109 
gVue
 = 
CTC_OAM_VAR_AFECMODE_DISABLED
;

1114 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
, &
gVue
);

1116  
EPON_OAM_ERR_OK
;

1117 
	}
}

1120 
	$c_m_vCb_aFecMode_t
(

1121 
idIdx
,

1122 

,

1123 
c_vInt_t
 *
pVInt
,

1124 
c_vDest_t
 
vDesc
,

1125 
c_vCڏ_t
 *
pVCڏ
)

1129 
t
;

1130 
tVue
;

1132 if(
CTC_OAM_VAR_AFECMODE_LEN
 !
pVCڏ
->
vWidth
)

1134  
EPON_OAM_ERR_UNKNOWN
;

1136 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
, &
tVue
);

1139 
tVue
)

1141 
CTC_OAM_VAR_AFECMODE_ENABLED
:

1143 
t
 = 
	`DRV_SFecMode
(
ENABLED
);

1144 if(
NO_ERROR
 !
t
)

1146 
	`CTC_DEBUG
("aFecMode_set ENABLED fail\n");

1147 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1150 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1153 
CTC_OAM_VAR_AFECMODE_DISABLED
:

1155 
t
 = 
	`DRV_SFecMode
(
DISABLED
);

1156 if(
NO_ERROR
 !
t
)

1158 
	`CTC_DEBUG
("aFecMode_set DISABLED fail\n");

1159 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1162 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1165 
CTC_OAM_VAR_AFECMODE_UNKNOWN
:

1167 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

1171  
EPON_OAM_ERR_OK
;

1172 
	}
}

1175 
	$c_m_vCb_acPhyAdmCڌ_t
(

1176 
idIdx
,

1177 

,

1178 
c_vInt_t
 *
pVInt
,

1179 
c_vDest_t
 
vDesc
,

1180 
c_vCڏ_t
 *
pVCڏ
)

1184 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

1185 
m_phy_admcڌ_t
 
p_phy_adm
;

1186 
u32_t
 
ai
;

1187 
t_vue
 =0;

1189 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_LEN
 !
pVCڏ
->
vWidth
)

1191  
EPON_OAM_ERR_UNKNOWN
;

1194 if(
NULL
 =
pVInt
)

1196  
EPON_OAM_ERR_NOT_FOUND
;

1199 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

1200 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

1202  
EPON_OAM_ERR_OK
;

1206 
p_phy_adm
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

1207 
p_phy_adm
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

1208 
p_phy_adm
.
width
 = 
pVCڏ
->
vWidth
;

1209 
	`memy
((*)(&
p_phy_adm
.
vue
), 
pVCڏ
->
pVDa
, 4);

1211 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_DEACTIVE
 =
p_phy_adm
.
vue
)

1213 
ai
 = 
DISABLED
;

1215 if(
CTC_OAM_VAR_ACPHYADMINCONTROL_ACTIVE
 =
p_phy_adm
.
vue
)

1217 
ai
 = 
ENABLED
;

1221 
	`CTC_DEBUG
("\r\nunknown PhyAdminction\r\n");

1224 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1226 
	`CTC_DEBUG
("Pt%d'PhyAdm sb: %d\n", 
ucPtS
, 
ai
);

1227 
t
 = 
	`DRV_SPtLkS
 (
ucPtS
, 
ai
);

1228 if(
t
 =
OPL_OK
)

1230 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1234 
	`CTC_DEBUG
("PhyAdminControl_set fail\n");

1235 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1239  
EPON_OAM_ERR_OK
;

1240 
	}
}

1243 
	$c_m_vCb_acAutoNegRetAutoCfig_t
(

1244 
idIdx
,

1245 

,

1246 
c_vInt_t
 *
pVInt
,

1247 
c_vDest_t
 
vDesc
,

1248 
c_vCڏ_t
 *
pVCڏ
)

1252 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

1253 
t_vue
 =0;

1255 if(
CTC_OAM_VAR_ACAUTONEGRESTARTAUTOCONFIG_LEN
 !
pVCڏ
->
vWidth
)

1257  
EPON_OAM_ERR_UNKNOWN
;

1260 if(
NULL
 =
pVInt
)

1262  
EPON_OAM_ERR_NOT_FOUND
;

1265 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

1266 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

1268  
EPON_OAM_ERR_OK
;

1271 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1273 
	`CTC_DEBUG
("Pt%d'AutoNeget\n", 
ucPtS
);

1274 
t
 = 
	`DRV_PtRetNeg
(
ucPtS
);

1275 if(
t
 =
OPL_OK
)

1277 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1281 
	`CTC_DEBUG
("AutoNegRestartAutoConfig_set fail\n");

1282 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1286  
EPON_OAM_ERR_OK
;

1287 
	}
}

1290 
	$c_m_vCb_acAutoNegAdmCڌ_t
(

1291 
idIdx
,

1292 

,

1293 
c_vInt_t
 *
pVInt
,

1294 
c_vDest_t
 
vDesc
,

1295 
c_vCڏ_t
 *
pVCڏ
)

1299 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

1300 
m_auteg_admcڌ_t
 
p_auto_adm
;

1301 
u32_t
 
ai
;

1302 
t_vue
 =0;

1304 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_LEN
 !
pVCڏ
->
vWidth
)

1306  
EPON_OAM_ERR_UNKNOWN
;

1309 if(
NULL
 =
pVInt
)

1311  
EPON_OAM_ERR_NOT_FOUND
;

1314 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

1315 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

1317  
EPON_OAM_ERR_OK
;

1321 
p_auto_adm
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

1322 
p_auto_adm
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

1323 
p_auto_adm
.
width
 = 
pVCڏ
->
vWidth
;

1324 
	`memy
((*)(&
p_auto_adm
.
diti
), 
pVCڏ
->
pVDa
, 4);

1326 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_DEACTIVE
 =
p_auto_adm
.
diti
)

1328 
ai
 = 
DISABLED
;

1330 if(
CTC_OAM_VAR_ACAUTONEGADMINCONTROL_ACTIVE
 =
p_auto_adm
.
diti
)

1332 
ai
 = 
ENABLED
;

1336 
	`CTC_DEBUG
("\r\nunknown AutoNegAdminction\r\n");

1339 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1341 
	`CTC_DEBUG
("Pt%d'AutoNegAdm sb: %d\n", 
ucPtS
, 
ai
);

1342 
t
 = 
	`DRV_SPtAutoNeg
((
u32_t
)
ucPtS
, 
ai
);

1343 if(
t
 =
OPL_OK
)

1345 if(1 =
ai
)

1348 
	`CTC_DEBUG
("autoego\n");

1349 
uni_pt_auto_gٟti
 |1<<(
ucPtS
-1);

1354 
	`CTC_DEBUG
("noutoego\n");

1355 
uni_pt_auto_gٟti
 &~(1<<(
ucPtS
-1));

1358 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1362 
	`CTC_DEBUG
("AutoNegAdminControl_set fail\n");

1363 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

1367  
EPON_OAM_ERR_OK
;

1368 
	}
}

1371 
	$c_m_vCb_uSn_g
(

1372 
idIdx
,

1373 

,

1374 
c_vInt_t
 *
pVInt
,

1375 
c_vDest_t
 
vDesc
,

1376 *
pVCڏ_Tٮ_L
,

1377 
c_vCڏ_t
 *
pVCڏ
)

1381 
m_u_vd
[4];

1382 *
pP
;

1383 
modS
[4] = {0x0,0x0,0x02,0x54};

1384 
hwVS
[8] = {0x41,0x00};

1385 
swVS
[16] = {0x31,0x31,0x38,0x0,0x0,0x0};

1386 
m_cfig_t
 
mCfig
;

1387 
OLT_FLAG_E
 
t_ag
;

1388 
m_u__t
 *
p_
;

1389 
	#u8_t
 

	)

1392 
u8_t
 
yc_u_mod
[4] = {0X00,0X00,0X01,0X41};

1393 
u8_t
 
yc_ch_vd
[2] = {0x45,0x36};

1394 
u8_t
 
yc_ch_mod
[2] = {0x63,0x01};

1395 
u8_t
 
yc_ch_visi
 = 0x00;

1396 
u8_t
 
yc_ch_vsi
[3] = {0x06, 0x09, 0x1B};

1397 
u8_t
 
yc_fm_v
[
FIRM_LENGTH
]={0x01, 0x04};

1398 
u8_t
 
yc_u_hwev
[8] = "T_Ver.A";

1399 
u8_t
 
yc_u_swev
[16] = {'V','4','0','0','R','0','0','1','B','0','1','2',0};

1401 
u8_t
 
z_u_mod
[4] = {'D','4','0','0'};

1403 
u8_t
 
m_u_mod
[4] = {0x0,0x0,0x07,0x04};

1404 
u8_t
 
m_ch_vd
[2] = {0x45,0x30};

1405 
u8_t
 
m_ch_mod
[2] = {0x67,0x50};

1406 
u8_t
 
m_ch_visi
 = 0xA0;

1407 
u8_t
 
m_ch_vsi
[3] = {0x08, 0x03, 0x1B};

1408 
u8_t
 
m_fm_v
[
FIRM_LENGTH
]={0x01, 0x00};

1409 
u8_t
 
m_u_hwev
[
MAX_BUILDTIME_SIZE
] = {0};

1410 
u8_t
 
m_u_hwev_deu
[8] = {'A', '0'};

1412 
u8_t
 
m_u_swev
[16] = 
CONFIG_RELEASE_VER
;

1415 
u8_t
 
icom_u_mod
[4] = {0X00,0X07,0Xca,0X2a};

1416 
u8_t
 
icom_ch_vd
[2] = {0x45,0x36};

1417 
u8_t
 
icom_ch_mod
[2] = {0x63,0x01};

1418 
u8_t
 
icom_ch_visi
 = 0x00;

1419 
u8_t
 
icom_ch_vsi
[3] = {0x06, 0x09, 0x1B};

1420 
u8_t
 
icom_fm_v
[
FIRM_LENGTH
]={0x01, 0x04};

1421 
u8_t
 
icom_u_hwev
[8] = {0,0,0,0,0,0x41,0x2e,0x30};

1422 
u8_t
 
icom_u_swev
[16] = {0x00,0x31,0x2E,0x34,0x32,0x2E,0x39,0x5F,

1425 
pVCڏ
->
vDesc
 = varDesc;

1426 
pVCڏ
->
vWidth
 = 38;

1427 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1428 if(
NULL
 =
pVCڏ
->
pVDa
)

1430  
EPON_OAM_ERR_MEM
;

1433 
pP
 = 
pVCڏ
->
pVDa
;

1438 
	`memy
(
pP
, 
m_u_vd
,

1439 (
m_u_vd
) > 4 ? 4 : (oam_onu_vendor));

1440 
pP
 +(
m_u_vd
);

1443 
	`memy
(
pP
, 
modS
,

1444 (
modS
) > 4 ? 4 : (modelStr));

1445 
pP
 +(
modS
);

1449 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

1450 
	`memy
(
pP
, 
mCfig
.
macAddr
, (oamConfig.macAddr));

1451 
pP
 +(
mCfig
.
macAddr
);

1455 
	`memy
(
pP
, 
hwVS
, (hwVerStr) > 8 ? 8 : (hwVerStr));

1456 
pP
 +(
hwVS
);

1460 
	`memy
(
pP
, 
swVS
, (swVerStr) > 16 ? 16 : (swVerStr));

1461 
pP
 +(
swVS
);

1464 
p_
 = (
m_u__t
*)
pP
;

1465 
t_ag
 = 
	`OamGOFg
();

1468 if(0 !
	`GHdVsi
(
m_u_hwev
, (oam_onu_hwarever)))

1470 
	`memy
(
m_u_hwev
, 
m_u_hwev_deu
, (oam_onu_hwarever_default));

1472 
t_ag
)

1477 
OLT_FLAG_YOTC
:

1482 
	`vosMemCpy
(
p_
->
mod
, 
yc_u_mod
, 4);

1483 
	`vosMemCpy
(
p_
->
hwe_v
,
yc_u_hwev
, 8);

1484 
	`vosMemCpy
(
p_
->
swe_v
,
yc_u_swev
, 16);

1485 
	`vosMemCpy
(
p_
->
vd_id
, 
m_u_vd
, 4);

1488 
OLT_FLAG_RAISECOM
:

1493 
	`vosMemCpy
(
p_
->
mod
, 
icom_u_mod
, 4);

1494 
	`vosMemCpy
(
p_
->
hwe_v
,
icom_u_hwev
, 8);

1495 
	`vosMemCpy
(
p_
->
swe_v
,
icom_u_swev
, 16);

1496 
	`vosMemCpy
(
p_
->
vd_id
, 
m_u_vd
, 4);

1498 
OLT_FLAG_ZTE
:

1499 
	`vosMemCpy
(
p_
->
mod
, 
z_u_mod
, 4);

1500 
	`vosMemCpy
(
p_
->
hwe_v
,
m_u_hwev
, 8);

1501 
	`vosMemCpy
(
p_
->
swe_v
,
m_u_swev
, 16);

1502 
	`vosMemCpy
(
p_
->
vd_id
, 
m_u_vd
, 4);

1506 
OLT_FLAG_FIBERHOME
:

1507 
	`vosMemCpy
(
p_
->
mod
, 
m_u_mod
, 4);

1508 
	`vosMemCpy
(
p_
->
hwe_v
,
m_u_hwev
, 8);

1509 
	`vosMemCpy
(
p_
->
swe_v
,
m_u_swev
, 16);

1510 
	`vosMemCpy
(
p_
->
vd_id
, 
m_u_vd
, 4);

1516 
	`vosMemCpy
(
p_
->
mod
, 
m_u_mod
, 4);

1517 
	`vosMemCpy
(
p_
->
hwe_v
,
m_u_hwev
, 8);

1518 
	`vosMemCpy
(
p_
->
swe_v
,
m_u_swev
, 16);

1519 
	`vosMemCpy
(
p_
->
vd_id
, 
modS
, 4);

1523 
	`_m_cfig_g
(
idIdx
, &
mCfig
);

1524 
	`vosMemCpy
(
p_
->
u_id
, 
mCfig
.
macAddr
, 6);

1525 
	`vosMemCpy
(
p_
->
vd_id
, 
m_u_vd
, 4);

1526 
pP
 +(
m_u__t
);

1528  
EPON_OAM_ERR_OK
;

1529 
	}
}

1532 
	$c_m_vCb_fmweV_g
(

1533 
idIdx
,

1534 

,

1535 
c_vInt_t
 *
pVInt
,

1536 
c_vDest_t
 
vDesc
,

1537 *
pVCڏ_Tٮ_L
,

1538 
c_vCڏ_t
 *
pVCڏ
)

1542 
m_fm_v
[2]={0x01, 0x04};

1544 
pVCڏ
->
vDesc
 = varDesc;

1545 
pVCڏ
->
vWidth
 = (
m_fm_v
);

1546 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1547 if(
NULL
 =
pVCڏ
->
pVDa
)

1549  
EPON_OAM_ERR_MEM
;

1552 
	`memy
(
pVCڏ
->
pVDa
, 
m_fm_v
,VCڏ->
vWidth
);

1554  
EPON_OAM_ERR_OK
;

1555 
	}
}

1558 
	$c_m_vCb_chtId_g
(

1559 
idIdx
,

1560 

,

1561 
c_vInt_t
 *
pVInt
,

1562 
c_vDest_t
 
vDesc
,

1563 *
pVCڏ_Tٮ_L
,

1564 
c_vCڏ_t
 *
pVCڏ
)

1568 
pVCڏ
->
vDesc
 = varDesc;

1569 
pVCڏ
->
vWidth
 = 0x08;

1570 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1571 if(
NULL
 =
pVCڏ
->
pVDa
)

1573  
EPON_OAM_ERR_MEM
;

1577 
pVCڏ
->
pVDa
[0] = 0x45;

1578 
pVCڏ
->
pVDa
[1] = 0x36;

1581 
pVCڏ
->
pVDa
[2] = 0x63;

1582 
pVCڏ
->
pVDa
[3] = 0x01;

1585 
pVCڏ
->
pVDa
[4] = 0x00;

1588 
pVCڏ
->
pVDa
[5] = 0x08;

1589 
pVCڏ
->
pVDa
[6] = 0x03;

1590 
pVCڏ
->
pVDa
[7] = 0x1B;

1592  
EPON_OAM_ERR_OK
;

1593 
	}
}

1596 
	$c_m_vCb_uCabs1_g
(

1597 
idIdx
,

1598 

,

1599 
c_vInt_t
 *
pVInt
,

1600 
c_vDest_t
 
vDesc
,

1601 *
pVCڏ_Tٮ_L
,

1602 
c_vCڏ_t
 *
pVCڏ
)

1607 
OLT_FLAG_E
 
t_ag
;

1609 
pVCڏ
->
vDesc
 = varDesc;

1611 
pVCڏ
->
vWidth
 = 0x1A;

1612 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1613 if(
NULL
 =
pVCڏ
->
pVDa
)

1615  
EPON_OAM_ERR_MEM
;

1619 
t_ag
 = 
	`OamGOFg
();

1622 
pVCڏ
->
pVDa
[0] = 0x01;

1625 #i
	`defed
(
CONFIG_PRODUCT_EPN104N
|| defed(
CONFIG_PRODUCT_EPN104W
|| defed(
CONFIG_PRODUCT_EPN104ZG
|| defed(
CONFIG_PRODUCT_EPN104ZG_A
|| defed(
CONFIG_PRODUCT_EPN105
|| defed(
CONFIG_PRODUCT_GPN104N
)

1629 
pVCڏ
->
pVDa
[1] = 0x04;

1630 
pVCڏ
->
pVDa
[9] = 0x0f;

1633 
pVCڏ
->
pVDa
[2] = 0x00;

1634 
pVCڏ
->
pVDa
[3] = 0x00;

1635 
pVCڏ
->
pVDa
[4] = 0x00;

1636 
pVCڏ
->
pVDa
[5] = 0x00;

1637 
pVCڏ
->
pVDa
[6] = 0x00;

1638 
pVCڏ
->
pVDa
[7] = 0x00;

1639 
pVCڏ
->
pVDa
[8] = 0x00;

1641 #i
	`defed
(
CONFIG_PRODUCT_EPN101R
|| defed(
CONFIG_PRODUCT_EPN101ZG
)

1642 
pVCڏ
->
pVDa
[1] = 0x01;

1645 
pVCڏ
->
pVDa
[2] = 0x00;

1646 
pVCڏ
->
pVDa
[3] = 0x00;

1647 
pVCڏ
->
pVDa
[4] = 0x00;

1648 
pVCڏ
->
pVDa
[5] = 0x00;

1649 
pVCڏ
->
pVDa
[6] = 0x00;

1650 
pVCڏ
->
pVDa
[7] = 0x00;

1651 
pVCڏ
->
pVDa
[8] = 0x00;

1652 
pVCڏ
->
pVDa
[9] = 0x01;

1653 #i
	`defed
(
CONFIG_PRODUCT_5500
)

1654 
pVCڏ
->
pVDa
[1] = 0x03;

1657 
pVCڏ
->
pVDa
[2] = 0x00;

1658 
pVCڏ
->
pVDa
[3] = 0x00;

1659 
pVCڏ
->
pVDa
[4] = 0x00;

1660 
pVCڏ
->
pVDa
[5] = 0x00;

1661 
pVCڏ
->
pVDa
[6] = 0x00;

1662 
pVCڏ
->
pVDa
[7] = 0x00;

1663 
pVCڏ
->
pVDa
[8] = 0x00;

1664 
pVCڏ
->
pVDa
[9] = 0x07;

1669 
pVCڏ
->
pVDa
[10] = 0x00;

1670 
pVCڏ
->
pVDa
[18] = 0x00;

1676 
pVCڏ
->
pVDa
[11] = 0x00;

1677 
pVCڏ
->
pVDa
[12] = 0x00;

1678 
pVCڏ
->
pVDa
[13] = 0x00;

1679 
pVCڏ
->
pVDa
[14] = 0x00;

1680 
pVCڏ
->
pVDa
[15] = 0x00;

1681 
pVCڏ
->
pVDa
[16] = 0x00;

1682 
pVCڏ
->
pVDa
[17] = 0x00;

1686 
pVCڏ
->
pVDa
[19] = 0x00;

1689 
pVCڏ
->
pVDa
[20] = 0x00;

1692 
pVCڏ
->
pVDa
[21] = 0x08;

1695 
pVCڏ
->
pVDa
[22] = 0x08;

1698 
pVCڏ
->
pVDa
[23] = 0x08;

1701 
pVCڏ
->
pVDa
[24] = 0x08;

1704 
pVCڏ
->
pVDa
[25] = 0x00;

1706  
EPON_OAM_ERR_OK
;

1707 
	}
}

1710 
	$c_m_vCb_tilTnsivDgnosis_g
(

1711 
idIdx
,

1712 

,

1713 
c_vInt_t
 *
pVInt
,

1714 
c_vDest_t
 
vDesc
,

1715 *
pVCڏ_Tٮ_L
,

1716 
c_vCڏ_t
 *
pVCڏ
)

1720 
pVCڏ
->
vDesc
 = varDesc;

1722 
pVCڏ
->
vWidth
 = 0x0A;

1723 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1724 if(
NULL
 =
pVCڏ
->
pVDa
)

1726  
EPON_OAM_ERR_MEM
;

1730 
k_siv_da_p_t
 

;

1732 
	`memt
(&

, 0, (para));

1733 if(0 !
	`Iol_GPmacTnsiv
(
RTK_TRANSCEIVER_PARA_TYPE_TEMPERATURE_
, &

))

1735 
	`tf
("Geton TEMPERATURE fail\n");

1736  
EPON_OAM_ERR_PARAM
;

1738 
pVCڏ
->
pVDa
[0] = 

.
buf
[0];

1739 
pVCڏ
->
pVDa
[1] = 

.
buf
[1];

1742 
	`memt
(&

, 0, (para));

1743 if(0 !
	`Iol_GPmacTnsiv
(
RTK_TRANSCEIVER_PARA_TYPE_VOLTAGE_
, &

))

1745 
	`tf
("Geton VOLTAGE fail\n");

1746  
EPON_OAM_ERR_PARAM
;

1748 
pVCڏ
->
pVDa
[2] = 

.
buf
[0];

1749 
pVCڏ
->
pVDa
[3] = 

.
buf
[1];

1752 
pVCڏ
->
pVDa
[4] = 0x55;

1753 
pVCڏ
->
pVDa
[5] = 0x66;

1756 
	`memt
(&

, 0, (para));

1757 if(0 !
	`Iol_GPmacTnsiv
(
RTK_TRANSCEIVER_PARA_TYPE_TX_POWER_
, &

))

1759 
	`tf
("Geton TX_POWER fail\n");

1760  
EPON_OAM_ERR_PARAM
;

1762 
pVCڏ
->
pVDa
[6] = 

.
buf
[0];

1763 
pVCڏ
->
pVDa
[7] = 

.
buf
[1];

1766 
	`memt
(&

, 0, (para));

1767 if(0 !
	`Iol_GPmacTnsiv
(
RTK_TRANSCEIVER_PARA_TYPE_RX_POWER_
, &

))

1769 
	`tf
("Geton RX_POWER fail\n");

1770  
EPON_OAM_ERR_PARAM
;

1772 
pVCڏ
->
pVDa
[8] = 

.
buf
[0];

1773 
pVCڏ
->
pVDa
[9] = 

.
buf
[1];

1777  
EPON_OAM_ERR_OK
;

1778 
	}
}

1781 
	$c_m_vCb_rviS_g
(

1782 
idIdx
,

1783 

,

1784 
c_vInt_t
 *
pVInt
,

1785 
c_vDest_t
 
vDesc
,

1786 *
pVCڏ_Tٮ_L
,

1787 
c_vCڏ_t
 *
pVCڏ
)

1791 
u8_t
 
ݔi
;

1792 
u8_t
 
queue_num
;

1793 
u8_t
 *
p_by
;

1794 
m_rvi_a_body_hdr_t
 *
p_a_body_hdr
;

1795 
m_rvi_a_body_y_t
 *
p_a_body_y
;

1796 
u8_t
 
i
;

1798 
pVCڏ
->
vDesc
 = varDesc;

1799 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

1800 if(
NULL
 =
pVCڏ
->
pVDa
)

1802  
EPON_OAM_ERR_MEM
;

1804 
p_by
 = 
pVCڏ
->
pVDa
;

1806 
ݔi
 = 
OAM_CTC_SERVICE_DBA_ACTIVE
;

1808 if(
ݔi
 =
OAM_CTC_SERVICE_DBA_DEACTIVE
)

1810 
pVCڏ
->
vWidth
 = 1;

1811 
pVCڏ
->
pVDa
[0] = 
ݔi
;

1812 
p_by
 +
pVCڏ
->
vWidth
;

1814 if(
ݔi
 =
OAM_CTC_SERVICE_DBA_ACTIVE
)

1816 
queue_num
 = 8;

1817 
pVCڏ
->
vWidth
 = 8 + 10 * 
queue_num
;

1818 
pVCڏ
->
pVDa
[0] = 
ݔi
;

1819 
p_by
 += 1;

1821 
p_a_body_hdr
 = (
m_rvi_a_body_hdr_t
 *)
p_by
;

1822 
p_a_body_hdr
->
schedu_scheme
 = 0;

1823 
p_a_body_hdr
->
high_i_boundry
 = 7;

1824 
p_a_body_hdr
->
cye_n
 = 0;

1825 
p_a_body_hdr
->
rvi_num
 = 8;

1826 
p_by
 +(
m_rvi_a_body_hdr_t
);

1828 
i
 = 0; i < 
queue_num
; i++)

1830 
p_a_body_y
 = (
m_rvi_a_body_y_t
 *)
p_by
;

1831 
p_a_body_y
->
queue_id
 = 
i
;

1832 
p_a_body_y
->
fix_size
 = 0;

1833 
p_a_body_y
->
fix_bw
 = 0;

1834 
p_a_body_y
->
gued_bw
 = 0;

1835 
p_a_body_y
->
be_eff_bw
 = 0;

1836 
p_a_body_y
->
w_weight
 = 0;

1837 
p_by
 +(
m_rvi_a_body_y_t
);

1841  
EPON_OAM_ERR_OK
;

1842 
	}
}

1845 
	$c_m_vCb_rviS_t
(

1846 
idIdx
,

1847 

,

1848 
c_vInt_t
 *
pVInt
,

1849 
c_vDest_t
 
vDesc
,

1850 
c_vCڏ_t
 *
pVCڏ
)

1854 
m_rvi_a_t
 
p_a
;

1855 
m_rvi_a_body_hdr_t
 *
p_body_hdr
;

1856 
m_rvi_a_body_y_t
 *
p_body_y
;

1857 
u8_t
 
schedu_scheme
;

1858 
u8_t
 
high_i_boundry
;

1859 
u32_t
 
cye_n
;

1860 
u8_t
 
queue_num
;

1861 
u8_t
 
i
;

1862 
u32_t
 
t
;

1865 
p_a
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

1866 
p_a
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

1867 
p_a
.
width
 = 
pVCڏ
->
vWidth
;

1868 
p_a
.
ݔi
 = 
pVCڏ
->
pVDa
[0];

1870 if(
p_a
.
ݔi
 =
OAM_CTC_SERVICE_DBA_DEACTIVE
)

1876 
t
 = 0;

1878 if(
p_a
.
ݔi
 =
OAM_CTC_SERVICE_DBA_ACTIVE
)

1880 
p_body_hdr
 = (
m_rvi_a_body_hdr_t
 *)(&
pVCڏ
->
pVDa
[1]);

1882 
schedu_scheme
 = 
p_body_hdr
->schedule_scheme;

1883 
high_i_boundry
 = 
p_body_hdr
->high_pri_boundry;

1884 
cye_n
 = 
p_body_hdr
->cycle_len;

1885 
queue_num
 = 
p_body_hdr
->
rvi_num
;

1890 
p_body_y
 = (
m_rvi_a_body_y_t
 *)(&
pVCڏ
->
pVDa
[1 + (
m_rvi_a_body_hdr_t
)]);

1892 
i
 = 0; i < 
queue_num
; i++)

1898 
t
 = 0;

1899 
p_body_y
++;

1902 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

1904  
EPON_OAM_ERR_OK
;

1905 
	}
}

1908 
	$c_m_vCb_uCabs2_g
(

1909 
idIdx
,

1910 

,

1911 
c_vInt_t
 *
pVInt
,

1912 
c_vDest_t
 
vDesc
,

1913 *
pVCڏ_Tٮ_L
,

1914 
c_vCڏ_t
 *
pVCڏ
)

1918 
pVCڏ
->
vDesc
 = varDesc;

1920 
pVCڏ
->
vWidth
 = 10 + 6;

1921 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1922 if(
NULL
 =
pVCڏ
->
pVDa
)

1924  
EPON_OAM_ERR_MEM
;

1928 
pVCڏ
->
pVDa
[0] = 0x00;

1929 
pVCڏ
->
pVDa
[1] = 0x00;

1930 
pVCڏ
->
pVDa
[2] = 0x00;

1931 
pVCڏ
->
pVDa
[3] = 0x00;

1934 
pVCڏ
->
pVDa
[4] = 0x01;

1937 
pVCڏ
->
pVDa
[5] = 0x00;

1940 
pVCڏ
->
pVDa
[6] = 0x01;

1943 
pVCڏ
->
pVDa
[7] = 0x00;

1946 
pVCڏ
->
pVDa
[8] = 0x01;

1949 
pVCڏ
->
pVDa
[9] = 0x00;

1950 
pVCڏ
->
pVDa
[10] = 0x00;

1951 
pVCڏ
->
pVDa
[11] = 0x00;

1952 
pVCڏ
->
pVDa
[12] = 0x00;

1955 #i
	`defed
(
CONFIG_PRODUCT_EPN104N
|| defed(
CONFIG_PRODUCT_EPN104W
|| defed(
CONFIG_PRODUCT_EPN104ZG
|| defed(
CONFIG_PRODUCT_EPN104ZG_A
|| defed(
CONFIG_PRODUCT_EPN105
|| defed(
CONFIG_PRODUCT_GPN104N
)

1956 
pVCڏ
->
pVDa
[13] = 0x00;

1957 
pVCڏ
->
pVDa
[14] = 0x04;

1958 #i
	`defed
(
CONFIG_PRODUCT_5500
)

1959 
pVCڏ
->
pVDa
[13] = 0x00;

1960 
pVCڏ
->
pVDa
[14] = 0x02;

1961 #i
	`defed
(
CONFIG_PRODUCT_EPN101R
|| defed(
CONFIG_PRODUCT_EPN101ZG
)

1962 
pVCڏ
->
pVDa
[13] = 0x00;

1963 
pVCڏ
->
pVDa
[14] = 0x01;

1968 
pVCڏ
->
pVDa
[15] = 0x00;

1970  
EPON_OAM_ERR_OK
;

1971 
	}
}

1974 
	$c_m_vCb_hdovCfig_g
(

1975 
idIdx
,

1976 

,

1977 
c_vInt_t
 *
pVInt
,

1978 
c_vDest_t
 
vDesc
,

1979 *
pVCڏ_Tٮ_L
,

1980 
c_vCڏ_t
 *
pVCڏ
)

1984 
t
 = 
RT_ERR_OK
;

1985 
gS
, 
gTime
;

1987 
pVCڏ
->
vDesc
 = varDesc;

1988 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_HOLDOVERCONFIG_LEN
;

1989 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

1990 if(
NULL
 =
pVCڏ
->
pVDa
)

1992  
EPON_OAM_ERR_MEM
;

1998 if(
RT_ERR_OK
 !
t
)

2000  
EPON_OAM_ERR_UNKNOWN
;

2004 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
, &
gS
);

2005 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
 + 4, &
gTime
);

2007  
EPON_OAM_ERR_OK
;

2008 
	}
}

2011 
	$c_m_vCb_hdovCfig_t
(

2012 
idIdx
,

2013 

,

2014 
c_vInt_t
 *
pVInt
,

2015 
c_vDest_t
 
vDesc
,

2016 
c_vCڏ_t
 *
pVCڏ
)

2020 
t
;

2021 
tS
, 
tTime
;

2023 if(
CTC_OAM_VAR_HOLDOVERCONFIG_LEN
 !
pVCڏ
->
vWidth
)

2025  
EPON_OAM_ERR_UNKNOWN
;

2027 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
, &
tS
);

2028 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
 + 4, &
tTime
);

2032 
pVCڏ
->
vWidth
 = 0x80;

2034  
EPON_OAM_ERR_OK
;

2035 
	}
}

2038 
	$c_m_vCb_mxUMngGlobPam_g
(

2039 
idIdx
,

2040 

,

2041 
c_vInt_t
 *
pVInt
,

2042 
c_vDest_t
 
vDesc
,

2043 *
pVCڏ_Tٮ_L
,

2044 
c_vCڏ_t
 *
pVCڏ
)

2049 
u8_t
 *
p_out
;

2050 
m_mxu_mng_glob__t
 *
p_mng_glob_
;

2051 
m_t_ڣ_t
 *
p_r
;

2052 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

2053 
u32_t
 
t
 = 
NO_ERROR
;

2054 
p_mng_glob_
 = (
m_mxu_mng_glob__t
 *)
pVCڏ
->
pVDa
;

2055 
	`vosMemS
(&
IpCfig
, 0, (
ODM_SYS_IF_CONFIG_t
));

2056 
u32_t
 *
_v
 = &(
p_mng_glob_
->
mng__addr
);

2059 if(*
_v
 != 0)

2061 
t
 = 
	`el__ossg
(
p_mng_glob_
->
mng__addr
,

2062 
p_mng_glob_
->
mng__mask
,

2063 
p_mng_glob_
->
mng_gw
);

2064 if(
NO_ERROR
 !
t
)

2066 
nd_r
;

2070 if(0 !
p_mng_glob_
->
mng_da_cvn
)

2072 
t
 = 
	`el_mgmtvn_ossg
(
p_mng_glob_
->
mng_da_cvn
);

2073 if(
NO_ERROR
 !
t
)

2075 
nd_r
;

2078 
nd_r
:

2079 if(
NO_ERROR
 !
t
)

2082 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2087 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

2090 
g_usOutDaIdx
 +(
m_t_ڣ_t
);

2094 
	}
}

2097 
	$c_m_vCb_mxUMngGlobPam_t
(

2098 
idIdx
,

2099 

,

2100 
c_vInt_t
 *
pVInt
,

2101 
c_vDest_t
 
vDesc
,

2102 
c_vCڏ_t
 *
pVCڏ
)

2107 
u8_t
 *
p_out
;

2108 
m_mxu_mng_glob__t
 *
p_mng_glob_
;

2109 
u32_t
 
t
 = 
NO_ERROR
;

2110 
p_mng_glob_
 = (
m_mxu_mng_glob__t
 *)
pVCڏ
->
pVDa
;

2111 
u32_t
 *
_v
 = &(
p_mng_glob_
->
mng__addr
);

2114 if(*
_v
 != 0)

2116 
t
 = 
	`el__ossg
(
p_mng_glob_
->
mng__addr
,

2117 
p_mng_glob_
->
mng__mask
,

2118 
p_mng_glob_
->
mng_gw
);

2119 if(
NO_ERROR
 !
t
)

2121 
nd_r
;

2125 if(0 !
p_mng_glob_
->
mng_da_cvn
)

2127 
t
 = 
	`el_mgmtvn_ossg
(
p_mng_glob_
->
mng_da_cvn
);

2128 if(
NO_ERROR
 !
t
)

2130 
nd_r
;

2133 
nd_r
:

2134 if(
NO_ERROR
 !
t
)

2137 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2142 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

2146  
EPON_OAM_ERR_OK
;

2147 
	}
}

2150 
	$c_m_vCb_mxUMngSNMPPam_g
(

2151 
idIdx
,

2152 

,

2153 
c_vInt_t
 *
pVInt
,

2154 
c_vDest_t
 
vDesc
,

2155 *
pVCڏ_Tٮ_L
,

2156 
c_vCڏ_t
 *
pVCڏ
)

2160 
	}
}

2163 
	$c_m_vCb_mxUMngSNMPPam_t
(

2164 
idIdx
,

2165 

,

2166 
c_vInt_t
 *
pVInt
,

2167 
c_vDest_t
 
vDesc
,

2168 
c_vCڏ_t
 *
pVCڏ
)

2173 
pVCڏ
->
vWidth
 = 0x80;

2175  
EPON_OAM_ERR_OK
;

2176 
	}
}

2179 
	$c_m_vCb_aivePIfAdme_g
(

2180 
idIdx
,

2181 

,

2182 
c_vInt_t
 *
pVInt
,

2183 
c_vDest_t
 
vDesc
,

2184 *
pVCڏ_Tٮ_L
,

2185 
c_vCڏ_t
 *
pVCڏ
)

2189 
pVCڏ
->
vDesc
 = varDesc;

2190 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_LEN
;

2191 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

2192 if(
NULL
 =
pVCڏ
->
pVDa
)

2194  
EPON_OAM_ERR_MEM
;

2198 
pVCڏ
->
pVDa
[0] = 
CTC_OAM_VAR_ACTIVEPONIFADMINSTATE_PONNUM
;

2200  
EPON_OAM_ERR_OK
;

2201 
	}
}

2204 
	$c_m_vCb_aivePIfAdme_t
(

2205 
idIdx
,

2206 

,

2207 
c_vInt_t
 *
pVInt
,

2208 
c_vDest_t
 
vDesc
,

2209 
c_vCڏ_t
 *
pVCڏ
)

2214 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2216  
EPON_OAM_ERR_OK
;

2217 
	}
}

2220 
	$c_m_vCb_uCabs3_g
(

2221 
idIdx
,

2222 

,

2223 
c_vInt_t
 *
pVInt
,

2224 
c_vDest_t
 
vDesc
,

2225 *
pVCڏ_Tٮ_L
,

2226 
c_vCڏ_t
 *
pVCڏ
)

2230 
pVCڏ
->
vDesc
 = varDesc;

2232 
pVCڏ
->
vWidth
 = 0x02;

2233 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

2234 if(
NULL
 =
pVCڏ
->
pVDa
)

2236  
EPON_OAM_ERR_MEM
;

2240 
pVCڏ
->
pVDa
[0] = 0x00;

2243 
pVCڏ
->
pVDa
[1] = 0x00;

2245  
EPON_OAM_ERR_OK
;

2246 
	}
}

2249 
	$c_m_vCb_uPowSavgCabs_g
(

2250 
idIdx
,

2251 

,

2252 
c_vInt_t
 *
pVInt
,

2253 
c_vDest_t
 
vDesc
,

2254 *
pVCڏ_Tٮ_L
,

2255 
c_vCڏ_t
 *
pVCڏ
)

2259 
pVCڏ
->
vDesc
 = varDesc;

2260 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ONUPOWERSAVINGCAPABILITES_LEN
;

2261 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

2262 if(
NULL
 =
pVCڏ
->
pVDa
)

2264  
EPON_OAM_ERR_MEM
;

2268 
pVCڏ
->
pVDa
[0] = 0x00;

2271 
pVCڏ
->
pVDa
[0] = 0x00;

2273  
EPON_OAM_ERR_OK
;

2274 
	}
}

2277 
	$c_m_vCb_uPowSavgCfig_g
(

2278 
idIdx
,

2279 

,

2280 
c_vInt_t
 *
pVInt
,

2281 
c_vDest_t
 
vDesc
,

2282 *
pVCڏ_Tٮ_L
,

2283 
c_vCڏ_t
 *
pVCڏ
)

2287 
pVCڏ
->
vDesc
 = varDesc;

2288 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_LEN
;

2289 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

2290 if(
NULL
 =
pVCڏ
->
pVDa
)

2292  
EPON_OAM_ERR_MEM
;

2296 
pVCڏ
->
pVDa
[0] = 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_UNSUPPORT
;

2299 
	`memt
((
pVCڏ
->
pVDa
+1), 0, 
CTC_OAM_VAR_ONUPOWERSAVINGCONFIG_LEN
 - 1);

2301  
EPON_OAM_ERR_OK
;

2302 
	}
}

2305 
	$c_m_vCb_uPowSavgCfig_t
(

2306 
idIdx
,

2307 

,

2308 
c_vInt_t
 *
pVInt
,

2309 
c_vDest_t
 
vDesc
,

2310 
c_vCڏ_t
 *
pVCڏ
)

2315 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2317  
EPON_OAM_ERR_OK
;

2318 
	}
}

2321 
	$c_m_vCb_uPreiPams_g
(

2322 
idIdx
,

2323 

,

2324 
c_vInt_t
 *
pVInt
,

2325 
c_vDest_t
 
vDesc
,

2326 *
pVCڏ_Tٮ_L
,

2327 
c_vCڏ_t
 *
pVCڏ
)

2331 
pVCڏ
->
vDesc
 = varDesc;

2332 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LEN
;

2333 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

2334 if(
NULL
 =
pVCڏ
->
pVDa
)

2336  
EPON_OAM_ERR_MEM
;

2345 
	`CTC_BUF_ENCODE16
(
pVCڏ
->
pVDa
, 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSOPT
);

2349 
	`CTC_BUF_ENCODE16
(
pVCڏ
->
pVDa
 + 2, 
CTC_OAM_VAR_ONUPROTECTIONPARAMETERS_LOSMAC
);

2351  
EPON_OAM_ERR_OK
;

2352 
	}
}

2355 
	$c_m_vCb_uPreiPams_t
(

2356 
idIdx
,

2357 

,

2358 
c_vInt_t
 *
pVInt
,

2359 
c_vDest_t
 
vDesc
,

2360 
c_vCڏ_t
 *
pVCڏ
)

2370 
pVCڏ
->
vWidth
 = 0x80;

2372  
EPON_OAM_ERR_OK
;

2373 
	}
}

2375 
	$c_m_vCb_hLkS_g
(

2376 
idIdx
,

2377 

,

2378 
c_vInt_t
 *
pVInt
,

2379 
c_vDest_t
 
vDesc
,

2380 *
pVCڏ_Tٮ_L
,

2381 
c_vCڏ_t
 *
pVCڏ
)

2385 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

2386 
m_h_lke_t
 *
p_lk
;

2387 
u32_t
 
e
=0;

2388 
BOOL
 
bPtStus
 = 
TRUE
;

2389 
t_vue
 =0;

2390 
v_n
 = 0;

2392 if(
NULL
 =
pVInt
)

2394  
EPON_OAM_ERR_NOT_FOUND
;

2397 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2398 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2400  
EPON_OAM_ERR_OK
;

2422 
pVCڏ
->
vDesc
 = varDesc;

2423 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ETHLINKSTATE_LEN
;

2425 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

2426 if(
NULL
 =
pVCڏ
->
pVDa
)

2428  
EPON_OAM_ERR_MEM
;

2430 
p_by
 = 
pVCڏ
->
pVDa
;

2432 i
NO_ERROR
 =
	`DRV_GPtLkStus
((
UINT32
)
ucPtS
, &
bPtStus
))

2434 i
TRUE
 =
bPtStus
 )

2436 
e
 = 
CTC_OAM_VAR_ETHLINKSTATE_UP
;

2440 
e
 = 
CTC_OAM_VAR_ETHLINKSTATE_DOWN
;

2444 
pVCڏ
->
pVDa
[0] = (
u8_t
)
e
;

2446 
p_by
 +
pVCڏ
->
vWidth
;

2447 if(
ucPtS
 =
ucPtE
)

2449  
EPON_OAM_ERR_OK
;

2453 
ucPtS
 += 1;

2456 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2459 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

2460 i(
v_n
 < 
EPON_OAM_ERR_OK
)

2462  
EPON_OAM_ERR_PARAM
;

2464 
p_by
 +
v_n
;

2477 
p_lk
 = (
m_h_lke_t
*)
p_by
;

2478 
p_lk
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2479 
p_lk
->
af
 = 
OAM_ATTR_ETH_LINKSTATE
;

2480 
p_lk
->
width
 = 
CTC_OAM_VAR_ETHLINKSTATE_LEN
;

2482 i
NO_ERROR
 =
	`DRV_GPtLkStus
((
UINT32
)
ucPtS
, &
bPtStus
))

2484 i
TRUE
 =
bPtStus
 )

2486 
e
 = 
CTC_OAM_VAR_ETHLINKSTATE_UP
;

2490 
e
 = 
CTC_OAM_VAR_ETHLINKSTATE_DOWN
;

2498 
p_lk
->
lke
 = (
u8_t
)
e
;

2499 
p_by
 +(
m_h_lke_t
);

2502 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

2504  
EPON_OAM_ERR_OK
;

2505 
	}
}

2508 
	$c_m_vCb_hPtPau_g
(

2509 
idIdx
,

2510 

,

2511 
c_vInt_t
 *
pVInt
,

2512 
c_vDest_t
 
vDesc
,

2513 *
pVCڏ_Tٮ_L
,

2514 
c_vCڏ_t
 *
pVCڏ
)

2518 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

2519 
m_h_p܍au_t
 *
p_u
;

2520 
u32_t
 
e
=0;

2521 
BOOL
 
bPtStus
 = 
TRUE
;

2522 
t_vue
 =0;

2523 
v_n
 = 0;

2525 if(
NULL
 =
pVInt
)

2527  
EPON_OAM_ERR_NOT_FOUND
;

2530 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2531 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2533  
EPON_OAM_ERR_OK
;

2555 
pVCڏ
->
vDesc
 = varDesc;

2556 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_ETHPORTPAUSE_LEN
;

2558 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

2559 if(
NULL
 =
pVCڏ
->
pVDa
)

2561  
EPON_OAM_ERR_MEM
;

2563 
p_by
 = 
pVCڏ
->
pVDa
;

2565 i
NO_ERROR
 =
	`DRV_GPtFlowCl
((
UINT32
)
ucPtS
, &
bPtStus
))

2567 i
TRUE
 =
bPtStus
 )

2569 
e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

2573 
e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

2577 
pVCڏ
->
pVDa
[0] = (
u8_t
)
e
;

2579 
p_by
 +
pVCڏ
->
vWidth
;

2580 if(
ucPtS
 =
ucPtE
)

2582  
EPON_OAM_ERR_OK
;

2586 
ucPtS
 += 1;

2589 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2592 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

2593 i(
v_n
 < 
EPON_OAM_ERR_OK
)

2595  
EPON_OAM_ERR_PARAM
;

2597 
p_by
 +
v_n
;

2610 
p_u
 = (
m_h_p܍au_t
*)
p_by
;

2611 
p_u
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2612 
p_u
->
af
 = 
OAM_ATTR_ETH_PORTPAUSE
;

2613 
p_u
->
width
 = 
CTC_OAM_VAR_ETHPORTPAUSE_LEN
;

2615 i
NO_ERROR
 =
	`DRV_GPtFlowCl
((
UINT32
)
ucPtS
, &
bPtStus
))

2617 i
TRUE
 =
bPtStus
 )

2619 
e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_ENABLE
;

2623 
e
 = 
CTC_OAM_VAR_ETHPORTPAUSE_DISABLE
;

2631 
p_u
->
back_ݔ
 = (
u8_t
)
e
;

2632 
p_by
 +(
m_h_p܍au_t
);

2635 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

2637  
EPON_OAM_ERR_OK
;

2638 
	}
}

2641 
	$c_m_vCb_hPtPau_t
(

2642 
idIdx
,

2643 

,

2644 
c_vInt_t
 *
pVInt
,

2645 
c_vDest_t
 
vDesc
,

2646 
c_vCڏ_t
 *
pVCڏ
)

2650 
u8_t
 
t
=
OPL_OK
, 
ucPtS
, 
ucPtE
;

2651 
m_h_p܍au_t
 
p_u
;

2652 
u32_t
 
u_e
;

2653 
t_vue
 =0;

2655 if(
CTC_OAM_VAR_ETHPORTPAUSE_LEN
 !
pVCڏ
->
vWidth
)

2657  
EPON_OAM_ERR_UNKNOWN
;

2660 if(
NULL
 =
pVInt
)

2662  
EPON_OAM_ERR_NOT_FOUND
;

2665 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2666 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2668  
EPON_OAM_ERR_OK
;

2672 
p_u
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

2673 
p_u
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

2674 
p_u
.
width
 = 
pVCڏ
->
vWidth
;

2675 
p_u
.
back_ݔ
 = 
pVCڏ
->
pVDa
[0];

2676 
u_e
 = (
u32_t
)
p_u
.
back_ݔ
;

2678 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2680 
	`CTC_DEBUG
("Pt%d'PtPau sb: %d\n", 
ucPtS
, 
u_e
);

2681 
t
 = 
	`DRV_SPtFlowCl
(
ucPtS
, (
TRUE
 =
u_e
)? TRUE : 
FALSE
);

2684 if(
t
 =
OPL_OK
)

2695 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

2703 
	`CTC_DEBUG
("ethPortPause_set fail\n");

2704 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2707  
EPON_OAM_ERR_OK
;

2708 
	}
}

2711 
	$c_m_vCb_hPtUsPicg_g
(

2712 
idIdx
,

2713 

,

2714 
c_vInt_t
 *
pVInt
,

2715 
c_vDest_t
 
vDesc
,

2716 *
pVCڏ_Tٮ_L
,

2717 
c_vCڏ_t
 *
pVCڏ
)

2721 
u8_t
 
ab
=1, 
t
=0;

2722 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
, *
p_mp
;

2723 
u32_t
 
c
=0xFF,
cbs
=0xFF,
ebs
=0xFF;

2724 
vue
 = 0;

2725 
m_h_p܍icg_t
 *
p_picg
;

2726 
t_vue
 =0;

2727 
v_n
 = 0;

2729 if(
NULL
 =
pVInt
)

2731  
EPON_OAM_ERR_NOT_FOUND
;

2734 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2735 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2737  
EPON_OAM_ERR_OK
;

2765 
pVCڏ
->
vDesc
 = varDesc;

2766 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

2767 if(
NULL
 =
pVCڏ
->
pVDa
)

2769  
EPON_OAM_ERR_MEM
;

2771 
p_by
 = 
pVCڏ
->
pVDa
;

2773 
	`_CTC_GUniLeReInCfg
(
ucPtS
, &
vue
);

2774 
c
 = 
vue
;

2776 
pVCڏ
->
pVDa
[0] = 
ab
;

2777 if(
ab
 == 0)

2779 
pVCڏ
->
vWidth
 = 1;

2783 
pVCڏ
->
vWidth
 = 10;

2784 
p_mp
 = (
u8_t
*)&
c
;

2785 
	`memy
(&
pVCڏ
->
pVDa
[1], &
p_mp
[1], 3);

2786 
p_mp
 = (
u8_t
*)&
cbs
;

2787 
	`memy
(&
pVCڏ
->
pVDa
[4], &
p_mp
[1], 3);

2788 
p_mp
 = (
u8_t
*)&
ebs
;

2789 
	`memy
(&
pVCڏ
->
pVDa
[7], &
p_mp
[1], 3);

2792 
p_by
 +
pVCڏ
->
vWidth
;

2793 if(
ucPtS
 =
ucPtE
)

2795  
EPON_OAM_ERR_OK
;

2799 
ucPtS
 += 1;

2802 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2805 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

2806 i(
v_n
 < 
EPON_OAM_ERR_OK
)

2808  
EPON_OAM_ERR_PARAM
;

2810 
p_by
 +
v_n
;

2829 
p_picg
 = (
m_h_p܍icg_t
*)
p_by
;

2830 
p_picg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2831 
p_picg
->
af
 = 
OAM_ATTR_ETH_PORT_US_POLICING
;

2833 
	`_CTC_GUniLeReInCfg
(
ucPtS
, &
vue
);

2834 
c
 = 
vue
;

2836 
p_picg
->
ݔi
 = 
ab
;

2837 if(
ab
 == 0)

2839 
p_picg
->
width
 = 1;

2843 
p_picg
->
width
 = 10;

2844 
p_mp
 = (
u8_t
*)&
c
;

2845 
	`memy
(
p_picg
->
c
, &
p_mp
[1], 3);

2846 
p_mp
 = (
u8_t
*)&
cbs
;

2847 
	`memy
(
p_picg
->
cbs
, &
p_mp
[1], 3);

2848 
p_mp
 = (
u8_t
*)&
ebs
;

2849 
	`memy
(
p_picg
->
ebs
, &
p_mp
[1], 3);

2852 
p_by
 +(
m_h_p܍icg_t
);

2855 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

2857  
EPON_OAM_ERR_OK
;

2858 
	}
}

2861 
	$c_m_vCb_hPtUsPicg_t
(

2862 
idIdx
,

2863 

,

2864 
c_vInt_t
 *
pVInt
,

2865 
c_vDest_t
 
vDesc
,

2866 
c_vCڏ_t
 *
pVCڏ
)

2870 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

2871 
u32_t
 
c
=0, 
cbs
=0, 
ebs
=0;

2872 
m_h_p܍icg_t
 
p_picg
;

2873 
t_vue
 =0;

2875 if(
NULL
 =
pVInt
)

2877  
EPON_OAM_ERR_NOT_FOUND
;

2880 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2881 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2883  
EPON_OAM_ERR_OK
;

2887 
p_picg
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

2888 
p_picg
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

2889 
p_picg
.
width
 = 
pVCڏ
->
vWidth
;

2890 
p_picg
.
ݔi
 = 
pVCڏ
->
pVDa
[0];

2891 
	`memy
(
p_picg
.
c
, &
pVCڏ
->
pVDa
[1], 3);

2892 
	`memy
(
p_picg
.
cbs
, &
pVCڏ
->
pVDa
[4], 3);

2893 
	`memy
(
p_picg
.
ebs
, &
pVCڏ
->
pVDa
[7], 3);

2895 if(
p_picg
.
ݔi
 == 1)

2897 
	`memy
((
u8_t
*)&
c
+1, 
p_picg
.cir, 3);

2898 
	`memy
((
u8_t
*)&
cbs
+1, 
p_picg
.cbs, 3);

2899 
	`memy
((
u8_t
*)&
ebs
+1, 
p_picg
.ebs, 3);

2901 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2903 
	`CTC_DEBUG
("Pt%d'PtUsPicg\n", 
ucPtS
);

2904 
t
 = 
	`DRV_SPtLeRe
(
ucPtS
, 
DIRECT_IN
, 
c
);

2907 if(
t
 =
OPL_OK
)

2909 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

2913 
	`CTC_DEBUG
("ethPortUsPolicing_set fail\n");

2914 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

2917  
EPON_OAM_ERR_OK
;

2918 
	}
}

2921 
	$c_m_vCb_hPtDsPicg_g
(

2922 
idIdx
,

2923 

,

2924 
c_vInt_t
 *
pVInt
,

2925 
c_vDest_t
 
vDesc
,

2926 *
pVCڏ_Tٮ_L
,

2927 
c_vCڏ_t
 *
pVCڏ
)

2931 
u8_t
 
ab
=1,
t
=0;

2932 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
, *
p_mp
;

2933 
u32_t
 
c
=0xFF,
p
=0xFF;

2934 
vue
 = 0;

2935 
m_h_ptdicg_t
 *
p_picg
;

2936 
t_vue
 =0;

2937 
v_n
 = 0;

2939 if(
NULL
 =
pVInt
)

2941  
EPON_OAM_ERR_NOT_FOUND
;

2944 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

2945 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

2947  
EPON_OAM_ERR_OK
;

2973 
pVCڏ
->
vDesc
 = varDesc;

2974 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

2975 if(
NULL
 =
pVCڏ
->
pVDa
)

2977  
EPON_OAM_ERR_MEM
;

2979 
p_by
 = 
pVCڏ
->
pVDa
;

2981 
	`_CTC_GUniLeReOutCfg
(
ucPtS
, &
vue
);

2982 
c
 = 
vue
;

2984 
pVCڏ
->
pVDa
[0] = 
ab
;

2985 if(
ab
 == 0)

2987 
pVCڏ
->
vWidth
 = 1;

2991 
pVCڏ
->
vWidth
 = 7;

2992 
p_mp
 = (
u8_t
*)&
c
;

2993 
	`memy
(&
pVCڏ
->
pVDa
[1], &
p_mp
[1], 3);

2994 
p_mp
 = (
u8_t
*)&
p
;

2995 
	`memy
(&
pVCڏ
->
pVDa
[4], &
p_mp
[1], 3);

2998 
p_by
 +
pVCڏ
->
vWidth
;

2999 if(
ucPtS
 =
ucPtE
)

3001  
EPON_OAM_ERR_OK
;

3005 
ucPtS
 += 1;

3008 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3011 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

3012 i(
v_n
 < 
EPON_OAM_ERR_OK
)

3014  
EPON_OAM_ERR_PARAM
;

3016 
p_by
 +
v_n
;

3033 
p_picg
 = (
m_h_ptdicg_t
*)
p_by
;

3034 
p_picg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3035 
p_picg
->
af
 = 
OAM_ATTR_ETH_PORT_DS_POLICING
;

3037 
	`_CTC_GUniLeReOutCfg
(
ucPtS
, &
vue
);

3038 
c
 = 
vue
;

3040 
p_picg
->
ݔi
 = 
ab
;

3041 if(
ab
 == 0)

3043 
p_picg
->
width
 = 1;

3047 
p_picg
->
width
 = 7;

3048 
p_mp
 = (
u8_t
*)&
c
;

3049 
	`memy
(
p_picg
->
c
, &
p_mp
[1], 3);

3050 
p_mp
 = (
u8_t
*)&
p
;

3051 
	`memy
(
p_picg
->
p
, &
p_mp
[1], 3);

3054 
p_by
 +(
m_h_p܍icg_t
);

3057 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

3059  
EPON_OAM_ERR_OK
;

3060 
	}
}

3063 
	$c_m_vCb_hPtDsPicg_t
(

3064 
idIdx
,

3065 

,

3066 
c_vInt_t
 *
pVInt
,

3067 
c_vDest_t
 
vDesc
,

3068 
c_vCڏ_t
 *
pVCڏ
)

3072 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

3073 
u32_t
 
c
=0, 
p
=0;

3074 
m_h_ptdicg_t
 
p_dicg
;

3075 
t_vue
 =0;

3077 if(
NULL
 =
pVInt
)

3079  
EPON_OAM_ERR_NOT_FOUND
;

3082 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

3083 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

3085  
EPON_OAM_ERR_OK
;

3089 
p_dicg
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

3090 
p_dicg
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

3091 
p_dicg
.
width
 = 
pVCڏ
->
vWidth
;

3092 
p_dicg
.
ݔi
 = 
pVCڏ
->
pVDa
[0];

3093 
	`memy
(
p_dicg
.
c
, &
pVCڏ
->
pVDa
[1], 3);

3094 
	`memy
(
p_dicg
.
p
, &
pVCڏ
->
pVDa
[4], 3);

3096 if(
p_dicg
.
ݔi
 == 1)

3098 
	`memy
((
u8_t
*)&
c
+1, 
p_dicg
.cir, 3);

3099 
	`memy
((
u8_t
*)&
p
+1, 
p_dicg
.pir, 3);

3101 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3103 
	`CTC_DEBUG
("Pt%d'PtDsPicg\n", 
ucPtS
);

3104 
t
 = 
	`DRV_SPtLeRe
(
ucPtS
, 
DIRECT_OUT
, 
c
);

3107 if(
t
 =
OPL_OK
)

3109 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

3113 
	`CTC_DEBUG
("ethPortDsPolicing_set fail\n");

3114 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3117  
EPON_OAM_ERR_OK
;

3118 
	}
}

3120 
m_c_g_sys_lo
(
sys_lo_t
 *
fo
);

3121 
m_c_t_sys_lo
(
sys_lo_t
 *
fo
);

3123 
	$c_m_vCb_ptLoDe_t
(

3124 
idIdx
,

3125 

,

3126 
c_vInt_t
 *
pVInt
,

3127 
c_vDest_t
 
vDesc
,

3128 
c_vCڏ_t
 *
pVCڏ
)

3132 
t
;

3133 
pt
;

3134 
tVue
;

3135 
k_ab_t
 
ab
;

3136 
sys_lo_t
 
lo_fo
;

3137 
k_dp_cfig_t
 
cfig
;

3138 
k_dp_ptCfig_t
 
ptCfig
;

3140 if(
CTC_OAM_VAR_PORTLOOPDETECT_LEN
 !
pVCڏ
->
vWidth
)

3142  
EPON_OAM_ERR_UNKNOWN
;

3145 if(
NULL
 =
pVInt
)

3147  
EPON_OAM_ERR_NOT_FOUND
;

3150 if(
	`CTC_INSTANT_IS_ETHERNET
(
pVInt
))

3154 
t
 = 
	`k_dp_cfig_g
(&
cfig
);

3155 if(
RT_ERR_OK
 !
t
)

3157 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3158  
EPON_OAM_ERR_OK
;

3160 
cfig
.
dp_ab
 = 
ENABLED
;

3161 
t
 = 
	`k_dp_cfig_t
(&
cfig
);

3162 if(
RT_ERR_OK
 !
t
)

3164 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3165  
EPON_OAM_ERR_OK
;

3168 
	`memt
(&
lo_fo
, 0, (
sys_lo_t
));

3169 
t
 = 
	`m_c_g_sys_lo
(&
lo_fo
);

3171 if(0 !
t
)

3173 
	`CTC_DEBUG
("OAM ipc get failed\n");

3174 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3175  
EPON_OAM_ERR_OK
;

3177 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
, &
tVue
);

3178 if(
CTC_OAM_VAR_PORTLOOPDETECT_DEACTIVE
 =
tVue
)

3180 
ab
 = 
DISABLED
;

3182 if(
CTC_OAM_VAR_PORTLOOPDETECT_ACTIVE
 =
tVue
)

3184 
ab
 = 
ENABLED
;

3188 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3189  
EPON_OAM_ERR_OK
;

3192 if(
ab
 =
lo_fo
.
loback_ab
)

3194 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

3195  
EPON_OAM_ERR_OK
;

3198 
lo_fo
.
loback_ab
 = 
ab
;

3199 
t
 = 
	`m_c_t_sys_lo
(&
lo_fo
);

3200 if(0 !
t
)

3202 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3203  
EPON_OAM_ERR_OK
;

3206 if(
	`CTC_INSTANT_IS_ALLPORTS
(
pVInt
))

3208 
	`HAL_SCAN_ALL_PORT
(
pt
)

3210 
t
 = 
	`k_dp_ptCfig_g
(
pt
, &
ptCfig
);

3211 if(
RT_ERR_OK
 !
t
)

3213 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3214  
EPON_OAM_ERR_OK
;

3216 
ptCfig
.
tx_ab
 = 
ab
;

3217 
t
 = 
	`k_dp_ptCfig_t
(
pt
, &
ptCfig
);

3218 if(
RT_ERR_OK
 !
t
)

3220 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3221  
EPON_OAM_ERR_OK
;

3227 
t
 = 
	`k_dp_ptCfig_g
(
pVInt
->
r
.
uniPt
.
ptNo
 - 1, &
ptCfig
);

3228 if(
RT_ERR_OK
 !
t
)

3230 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3231  
EPON_OAM_ERR_OK
;

3233 
ptCfig
.
tx_ab
 = 
ab
;

3234 
t
 = 
	`k_dp_ptCfig_t
(
pt
, &
ptCfig
);

3235 if(
RT_ERR_OK
 !
t
)

3237 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3238  
EPON_OAM_ERR_OK
;

3243 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

3245  
EPON_OAM_ERR_OK
;

3246 
	}
}

3249 
	$c_m_vCb_ptMacAggTime_g
(

3250 
idIdx
,

3251 

,

3252 
c_vInt_t
 *
pVInt
,

3253 
c_vDest_t
 
vDesc
,

3254 *
pVCڏ_Tٮ_L
,

3255 
c_vCڏ_t
 *
pVCڏ
)

3259 
t
;

3260 
gVue
;

3261 
k_ab_t
 
ab
;

3263 if(
NULL
 =
pVInt
)

3265  
EPON_OAM_ERR_NOT_FOUND
;

3268 
pVCڏ
->
vDesc
 = varDesc;

3269 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_PORTMACAGINGTIME_LEN
;

3270 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

3271 if(
NULL
 =
pVCڏ
->
pVDa
)

3273  
EPON_OAM_ERR_MEM
;

3276 if(!
	`CTC_INSTANT_IS_ALLPORTS
(
pVInt
&& 
	`CTC_INSTANT_IS_ETHERNET
(pVarInstant))

3281 
t
 = 
	`k_l2_ptAggEb_g
(
pVInt
->
r
.
uniPt
.
ptNo
 - 1, &
ab
);

3282 if(
RT_ERR_OK
 =
t
)

3284 if(
ENABLED
 =
ab
)

3286 
t
 = 
	`k_l2_agg_g
(&
gVue
);

3287 if(
RT_ERR_OK
 !
t
)

3289 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3290  
EPON_OAM_ERR_OK
;

3295 
gVue
 = 
CTC_OAM_VAR_PORTMACAGINGTIME_DEACTIVE
;

3297 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
, &
gVue
);

3301  
EPON_OAM_ERR_UNKNOWN
;

3305  
EPON_OAM_ERR_OK
;

3306 
	}
}

3309 
	$c_m_vCb_ptMacAggTime_t
(

3310 
idIdx
,

3311 

,

3312 
c_vInt_t
 *
pVInt
,

3313 
c_vDest_t
 
vDesc
,

3314 
c_vCڏ_t
 *
pVCڏ
)

3318 
t
;

3319 
pt
;

3320 
tVue
;

3321 
k_ab_t
 
ab
;

3323 if(
CTC_OAM_VAR_PORTMACAGINGTIME_LEN
 !
pVCڏ
->
vWidth
)

3325  
EPON_OAM_ERR_UNKNOWN
;

3328 if(
NULL
 =
pVInt
)

3330  
EPON_OAM_ERR_NOT_FOUND
;

3336 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
, &
tVue
);

3337 if(
CTC_OAM_VAR_PORTMACAGINGTIME_DEACTIVE
 =
tVue
)

3339 
tVue
 = 0;

3340 
ab
 = 
DISABLED
;

3344 
ab
 = 
ENABLED
;

3347 
t
 = 
	`k_l2_agg_t
(
tVue
);

3348 if(
RT_ERR_OK
 !
t
)

3350 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3351  
EPON_OAM_ERR_OK
;

3355 if(
	`CTC_INSTANT_IS_ETHERNET
(
pVInt
))

3357 if(
	`CTC_INSTANT_IS_ALLPORTS
(
pVInt
))

3359 
	`HAL_SCAN_ALL_PORT
(
pt
)

3361 
t
 = 
	`k_l2_ptAggEb_t
(
pt
, &
ab
);

3362 if(
RT_ERR_OK
 !
t
)

3364 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3365  
EPON_OAM_ERR_OK
;

3371 
t
 = 
	`k_l2_ptAggEb_t
(
pVInt
->
r
.
uniPt
.
ptNo
 - 1, &
ab
);

3372 if(
RT_ERR_OK
 !
t
)

3374 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3375  
EPON_OAM_ERR_OK
;

3379 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

3381  
EPON_OAM_ERR_OK
;

3382 
	}
}

3385 
	$c_m_vCb_vn_g
(

3386 
idIdx
,

3387 

,

3388 
c_vInt_t
 *
pVInt
,

3389 
c_vDest_t
 
vDesc
,

3390 *
pVCڏ_Tٮ_L
,

3391 
c_vCڏ_t
 *
pVCڏ
)

3395 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

3396 
m_vn_cfig_t
 *
p_vn_cfig
;

3397 
u16_t
 
ngth
 = 0;

3398 
u8_t
 
vnmode
;

3399 
t_vue
 =0;

3400 
v_n
 = 0;

3402 if(
NULL
 =
pVInt
)

3404  
EPON_OAM_ERR_NOT_FOUND
;

3407 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

3408 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

3410  
EPON_OAM_ERR_OK
;

3434 
pVCڏ
->
vDesc
 = varDesc;

3435 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

3436 if(
NULL
 =
pVCڏ
->
pVDa
)

3438  
EPON_OAM_ERR_MEM
;

3440 
p_by
 = 
pVCڏ
->
pVDa
;

3442 ()
	`DRV_GPtVnCfg
(
ucPtS
, &
vnmode
, &
pVCڏ
->
pVDa
[1] , &
ngth
);

3443 
pVCڏ
->
vWidth
 = 
ngth
 + 1;

3444 
vnmode
)

3446 
CTC_VLAN_MODE_TRANSPARENT
:

3447 
pVCڏ
->
pVDa
[0] = 
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
;

3449 
CTC_VLAN_MODE_TAG
:

3450 
pVCڏ
->
pVDa
[0] = 
CTC_OAM_VAR_VLAN_MODE_TAG
;

3452 
CTC_VLAN_MODE_TRANSLATION
:

3453 
pVCڏ
->
pVDa
[0] = 
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
;

3456 
pVCڏ
->
pVDa
[0] = 0xff;

3460 
p_by
 +
pVCڏ
->
vWidth
;

3461 if(
ucPtS
 =
ucPtE
)

3463  
EPON_OAM_ERR_OK
;

3467 
ucPtS
 += 1;

3470 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3473 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

3474 i(
v_n
 < 
EPON_OAM_ERR_OK
)

3476  
EPON_OAM_ERR_PARAM
;

3478 
p_by
 +
v_n
;

3491 
p_vn_cfig
 = (
m_vn_cfig_t
*)
p_by
;

3492 
p_vn_cfig
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3493 
p_vn_cfig
->
af
 = 
OAM_ATTR_VLAN
;

3495 
p_by
 +(
m_vn_cfig
);

3496 ()
	`DRV_GPtVnCfg
(
ucPtS
, &
vnmode
, 
p_by
, &
ngth
);

3497 
p_vn_cfig
->
width
 = 
ngth
 + 1;

3498 
vnmode
)

3500 
CTC_VLAN_MODE_TRANSPARENT
:

3501 
p_vn_cfig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
;

3503 
CTC_VLAN_MODE_TAG
:

3504 
p_vn_cfig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TAG
;

3506 
CTC_VLAN_MODE_TRANSLATION
:

3507 
p_vn_cfig
->
mode
 = 
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
;

3510 
p_vn_cfig
->
mode
 = 0xff;

3513 
p_by
 +
ngth
;

3516 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

3518  
EPON_OAM_ERR_OK
;

3519 
	}
}

3522 
	$c_m_vCb_vn_t
(

3523 
idIdx
,

3524 

,

3525 
c_vInt_t
 *
pVInt
,

3526 
c_vDest_t
 
vDesc
,

3527 
c_vCڏ_t
 *
pVCڏ
)

3531 
u8_t
 
i
, 
j
, 
ucPtS
, 
ucPtE
, *
p_by
;

3532 
u32_t
 
t
 = 0;

3533 
u32_t
 
deuTag
, 
dTag
, 
wTag
;

3534 
m_vn_cfig_t
 
p_vn_t
;

3535 
m_vn_cfig_t
 *
p_vn
 = &
p_vn_t
;

3536 
u32_t
 
dMode
;

3537 
u32_t
 
vnId
;

3538 
u32_t
 
vi
[32];

3539 
u32_t
 
vnIndex
;

3540 
u8_t
 * 
p_vn_check
;

3541 
u8_t
* 
p_
;

3542 
t_vue
 =0;

3544 if(
NULL
 =
pVInt
)

3546  
EPON_OAM_ERR_NOT_FOUND
;

3549 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

3550 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

3552  
EPON_OAM_ERR_OK
;

3556 
p_vn
->
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

3557 
p_vn
->
af
 = 
pVCڏ
->
vDesc
.
vLf
;

3558 
p_vn
->
width
 = 
pVCڏ
->
vWidth
;

3559 
p_vn
->
mode
 = 
pVCڏ
->
pVDa
[0];

3560 
p_
 = &
pVCڏ
->
pVDa
[1];

3562 
	`CTC_DEBUG
("Pt%d'vn_mode:%d\n", 
ucPtS
, 
p_vn
->
mode
);

3564 if(
CTC_OAM_VAR_VLAN_MODE_TRANSPARENT
 =
p_vn
->
mode
)

3566 
iR
 = 
NO_ERROR
;

3568 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH20
)

3570 if(0xFF =
pVInt
->
vDa
[0])

3572 
	`CTC_DEBUG
("\nDoot setransparent vlan forllorts.\n");

3573 
t
 = 
OPL_OK
;

3574 
nd_r
;

3577 if(
pVInt
->
vWidth
 =
CTC_ORGSPEC_VARINSTANT_WIDTH21
)

3579 if(0xFFFF =
pVInt
->
r
.
uniPt
.
ptNo
)

3581 
	`CTC_DEBUG
("\nDoot setransparent vlan forllorts.\n");

3582 
t
 = 
OPL_OK
;

3583 
nd_r
;

3587 
iR
 = 
	`CTC_DRV_STntVn
(
ucPtS
);

3588 i(
NO_ERROR
 !
iR
)

3590 
	`CTC_DEBUG
("\nFaedأvf܅܈%d.\n",
ucPtS
);

3591 
t
 = 
OPL_ERROR
;

3592 
nd_r
;

3595 if(
CTC_OAM_VAR_VLAN_MODE_TAG
 =
p_vn
->
mode
)

3597 
	`memy
(&
deuTag
, 
p_
, 4);

3599 
iR
 = 
NO_ERROR
;

3600 
u32_t
 
iܙy
;

3601 
u32_t
 
deu_vn
;

3603 
t
 = 
OPL_OK
;

3605 
iR
 = 
	`CTC_DRV_GVnIdAndPri
(
deuTag
, &
deu_vn
, &
iܙy
);

3606 i(
NO_ERROR
 !
iR
)

3608 
	`CTC_DEBUG
("\nFaedأg vf܅܈%d.\n",
ucPtS
);

3609 
t
 = 
OPL_ERROR
;

3610 
nd_r
;

3613 
iR
 = 
	`CTC_DRV_STagVn
(
ucPtS
, 
deu_vn
, 
iܙy
);

3614 i(
NO_ERROR
 !
iR
)

3616 
	`CTC_DEBUG
("\nFaedأg vf܅܈%d.\n",
ucPtS
);

3617 
t
 = 
OPL_ERROR
;

3618 
nd_r
;

3621 if(
CTC_OAM_VAR_VLAN_MODE_TRANSLATION
 =
p_vn
->
mode
)

3623 
iR
 = 
NO_ERROR
;

3624 
u32_t
 
uiVnPa
;

3625 
u32_t
 
iܙy
;

3627 
t
 = 
OPL_OK
;

3629 
	`memy
(&
deuTag
, 
p_
, 4);

3630 
p_
 += 4;

3632 
	`memt
(
vi
, 0, (vlanlist));

3633 
vnIndex
 = 0;

3634 
p_vn_check
 = 
p_
;

3635 
uiVnPa
 = (
p_vn
->
width
 - 5)/8;

3637 
i
 = 0; i < 
uiVnPa
; i++)

3639 
	`memy
(&
dTag
, (
u8_t
*)
p_vn_check
, 4);

3640 
p_vn_check
 += 4;

3641 
	`memy
(&
wTag
, (
u8_t
*)
p_vn_check
, 4);

3642 
p_vn_check
 += 4;

3644 
dTag
 = oldTag&0xFFF;

3645 
wTag
 =ewTag&0xFFF;

3647 
vi
[
vnIndex
++] = 
dTag
;

3648 
vi
[
vnIndex
++] = 
wTag
;

3650 
	`CTC_DEBUG
("%%d %d %d %d\n", 
__FUNCTION__
, 
__LINE__
, 
vnIndex
, 
dTag
, 
wTag
);

3653 i(
vnIndex
 > 16)

3655 
	`CTC_DEBUG
("\n Onu only supports 8 vlanranslationairs forveryort. \n");

3656 
t
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3657 
nd_r
;

3661 
iR
 = 
	`CTC_DRV_STniVn
(
ucPtS
, 
deuTag
, 
vi
, (
vnIndex
/2), 
CTC_VLAN_MODE_TRANSLATION
);

3663 i(
NO_ERROR
 !
iR
)

3665 
	`CTC_DEBUG
("\nFaedأi vf܅܈%d.\n",
ucPtS
);

3666 
t
 = 
OPL_ERROR
;

3667 
nd_r
;

3670 if(
CTC_OAM_VAR_VLAN_MODE_AGGREGATION
 =
p_vn
->
mode
)

3673 
t
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3674 
nd_r
;

3676 if(
CTC_OAM_VAR_VLAN_MODE_TRUNK
 =
p_vn
->
mode
)

3681 
iR
 = 
NO_ERROR
;

3682 
u32_t
 
uiVnPa
;

3683 
u32_t
 
iܙy
;

3685 
t
 = 
OPL_OK
;

3687 
	`memy
(&
deuTag
, 
p_
, 4);

3688 
p_
 += 4;

3690 
	`memt
(
vi
, 0, (vlanlist));

3691 
vnIndex
 = 0;

3692 
p_vn_check
 = 
p_
;

3693 
uiVnPa
 = (
p_vn
->
width
 - 5)/4;

3695 
i
 = 0; i < 
uiVnPa
; i++)

3697 
	`memy
(&
dTag
, (
u8_t
*)
p_vn_check
, 4);

3698 
	`memy
(&
wTag
, (
u8_t
*)
p_vn_check
, 4);

3699 
p_vn_check
 += 4;

3703 
dTag
 = oldTag&0xFFF;

3704 
wTag
 =ewTag&0xFFF;

3706 
vi
[
vnIndex
++] = 
dTag
;

3707 
vi
[
vnIndex
++] = 
wTag
;

3709 
	`CTC_DEBUG
("%%d %d %d %d\n", 
__FUNCTION__
, 
__LINE__
, 
vnIndex
, 
dTag
, 
wTag
);

3712 i(
vnIndex
 > 16)

3714 
	`CTC_DEBUG
("\n Onu only supports 8 vlanranslationairs forveryort. \n");

3715 
t
 = 
CTC_OAM_VAR_RESP_VARBADPARAM
;

3716 
nd_r
;

3720 
iR
 = 
	`CTC_DRV_STniVn
(
ucPtS
, 
deuTag
, 
vi
, (
vnIndex
/2), 
CTC_VLAN_MODE_TRUNK
);

3722 i(
NO_ERROR
 !
iR
)

3724 
	`CTC_DEBUG
("\nFaedأi vf܅܈%d.\n",
ucPtS
);

3725 
t
 = 
OPL_ERROR
;

3726 
nd_r
;

3730 
t
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3733 
nd_r
:

3734 if(
t
 =
OPL_OK
)

3736 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

3740 
	`CTC_DEBUG
("vlan set fail\n");

3741 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

3744  
EPON_OAM_ERR_OK
;

3745 
	}
}

3748 
	$c_m_vCb_lssifitiMkg_g
(

3749 
idIdx
,

3750 

,

3751 
c_vInt_t
 *
pVInt
,

3752 
c_vDest_t
 
vDesc
,

3753 *
pVCڏ_Tٮ_L
,

3754 
c_vCڏ_t
 *
pVCڏ
)

3758 
m_asmk_t
 *
pClsHd
;

3759 
m_asmk_rubody_t
 *
pClsRu
;

3760 
m_asmk_fldbody_t
 *
pClsFld
;

3761 
m_asmk_rubody_t
 
sRu
;

3762 
m_asmk_fldbody_t
 
sFlds
[12];

3763 
u8_t
 
edOfRu
;

3764 
u8_t
 
numOfRu
 = 0;

3765 
u8_t
 
numOfFld
;

3766 
u8_t
 
curPtId
;

3767 
u32_t
 
t
;

3768 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

3769 
t_vue
 =0;

3770 
v_n
 = 0;

3772 if(
NULL
 =
pVInt
)

3774  
EPON_OAM_ERR_NOT_FOUND
;

3777 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

3778 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

3780  
EPON_OAM_ERR_OK
;

3808 
pVCڏ
->
vDesc
 = varDesc;

3809 
pVCڏ
->
vWidth
 = 2;

3810 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

3811 if(
NULL
 =
pVCڏ
->
pVDa
)

3813  
EPON_OAM_ERR_MEM
;

3815 
p_by
 = 
pVCڏ
->
pVDa
;

3816 
p_by
 += 2;

3818 
edOfRu
 = 1;recedenceOfRule <= 8;recedenceOfRule++)

3820 
	`memt
(&
sRu
, 0, (
m_asmk_rubody_t
));

3821 
	`memt
(
sFlds
, 0, (
m_asmk_fldbody_t
)*12);

3823 
	`Ctc_GClfRmk2Lol
((
u8_t
)
curPtId
, 
edOfRu
 - 1, &
sRu
, &
sFlds
[0]);

3825 
numOfRu
++;

3828 
pClsRu
 = (
m_asmk_rubody_t
 *)
p_by
;

3829 
	`memy
(
pClsRu
, &
sRu
, (
m_asmk_rubody_t
));

3830 
p_by
 +(
m_asmk_rubody_t
);

3833 
pClsFld
 = (
m_asmk_fldbody_t
 *)
p_by
;

3834 
numOfFld
 = 
pClsRu
->numOfField;

3835 
	`memy
(
pClsFld
, & 
sFlds
, 
numOfFld
 * (
m_asmk_fldbody_t
));

3836 
p_by
 +
numOfFld
 * (
m_asmk_fldbody_t
);

3838 
pVCڏ
->
vWidth
 +
pClsRu
->
nOfRu
 + 2;

3841 
pVCڏ
->
pVDa
[0] = 
OAM_CLASSIFY_ACTION_SHOW
;

3842 
pVCڏ
->
pVDa
[1] = 
numOfRu
;

3844 if(
ucPtS
 =
ucPtE
)

3846  
EPON_OAM_ERR_OK
;

3850 
ucPtS
 += 1;

3853 
curPtId
 = 
ucPtS
; curPtId <
ucPtE
; curPortId++)

3856 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

3857 i(
v_n
 < 
EPON_OAM_ERR_OK
)

3859  
EPON_OAM_ERR_PARAM
;

3861 
p_by
 +
v_n
;

3880 
pClsHd
 = (
m_asmk_t
 *)
p_by
;

3881 
pClsHd
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3882 
pClsHd
->
af
 = 
OAM_ATTR_CLAMARK
;

3883 
pClsHd
->
width
 = 2;

3884 
p_by
 +(
m_asmk_t
);

3886 
edOfRu
 = 1;recedenceOfRule <= 8;recedenceOfRule++)

3888 
	`memt
(&
sRu
, 0, (
m_asmk_rubody_t
));

3889 
	`memt
(
sFlds
, 0, (
m_asmk_fldbody_t
)*12);

3891 
	`Ctc_GClfRmk2Lol
((
u8_t
)
curPtId
, 
edOfRu
 - 1, &
sRu
, &
sFlds
[0]);

3893 
numOfRu
++;

3896 
pClsRu
 = (
m_asmk_rubody_t
 *)
p_by
;

3897 
	`memy
(
pClsRu
, &
sRu
, (
m_asmk_rubody_t
));

3898 
p_by
 +(
m_asmk_rubody_t
);

3901 
pClsFld
 = (
m_asmk_fldbody_t
 *)
p_by
;

3902 
numOfFld
 = 
pClsRu
->numOfField;

3903 
	`memy
(
pClsFld
, & 
sFlds
, 
numOfFld
 * (
m_asmk_fldbody_t
));

3904 
p_by
 +
numOfFld
 * (
m_asmk_fldbody_t
);

3906 
pClsHd
->
width
 +
pClsRu
->
nOfRu
 + 2;

3909 
pClsHd
->
ai
 = 
OAM_CLASSIFY_ACTION_SHOW
;

3910 
pClsHd
->
numOfRu
 =umOfRule;

3914 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

3916  
EPON_OAM_ERR_OK
;

3917 
	}
}

3920 
	$c_m_vCb_lssifitiMkg_t
(

3921 
idIdx
,

3922 

,

3923 
c_vInt_t
 *
pVInt
,

3924 
c_vDest_t
 
vDesc
,

3925 
c_vCڏ_t
 *
pVCڏ
)

3929 
u8_t
 
ucPtS
, 
ucPtE
;

3930 
m_asmk_t
 
pClsHd_t
;

3931 
m_asmk_t
 *
pClsHd
 = &
pClsHd_t
;

3932 
m_asmk_rubody_t
 *
pClsRu
;

3933 
m_asmk_fldbody_t
 *
pClsFld
;

3934 
u8_t
 
t
;

3935 
u8_t
 
edOfRu
;

3936 
u8_t
 
numOfRu
;

3937 
u8_t
 
numOfFld
;

3938 
u8_t
 
ruId
;

3939 
u16_t
 
curPtId
;

3940 
u8_t
* 
p_
;

3941 
t_vue
 =0;

3943 if(
NULL
 =
pVInt
)

3945  
EPON_OAM_ERR_NOT_FOUND
;

3948 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

3949 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

3951  
EPON_OAM_ERR_OK
;

3955 
pClsHd
->
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

3956 
pClsHd
->
af
 = 
pVCڏ
->
vDesc
.
vLf
;

3957 
pClsHd
->
width
 = 
pVCڏ
->
vWidth
;

3958 
pClsHd
->
ai
 = 
pVCڏ
->
pVDa
[0];

3959 
pClsHd
->
numOfRu
 = 
pVCڏ
->
pVDa
[1];

3961 
p_
 = &
pVCڏ
->
pVDa
[2];

3963 if(
OAM_CLASSIFY_ACTION_CLR
 =
pClsHd
->
ai
)

3965 
t
 = 
OAM_SET_OK
;

3967 
curPtId
 = 
ucPtS
; curPtId <
ucPtE
; curPortId++)

3969 
	`CTC_DEBUG
("Cˬ Pt%d'Cssifiti.\n",
curPtId
);

3970 i(
NO_ERROR
 !
	`DRV_CtcCˬClfRmkByPt
(
curPtId
))

3972 
	`CTC_DEBUG
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

3973 
t
 = 
OAM_SET_NO_RESOURCE
;

3974 
nd_r
;

3977 
	`Ctc_CˬClfRmk2LolByPt
(
curPtId
);

3980 if(
OAM_CLASSIFY_ACTION_DEL
 =
pClsHd
->
ai
)

3982 
BOOL
 
bBchCfg
 = 
FALSE
;

3983 
numOfRu
 = 
pClsHd
->numOfRule;

3985 
ruId
 = 0;uId < 
numOfRu
;uleId++)

3987 
edOfRu
 = *((
u8_t
 *)
p_
);

3989 
t
 = 
OAM_SET_OK
;

3992 i(0 =
edOfRu
)

3994 
bBchCfg
 = 
TRUE
;

3997 i(
TRUE
 !
bBchCfg
)

3999 
edOfRu
 -= 1;

4002 i(
NO_ERROR
 !
	`DRV_CtcDClfRmkByPc
(
ucPtS
, 
edOfRu
))

4004 
	`CTC_DEBUG
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

4005 
t
 = 
OAM_SET_NO_RESOURCE
;

4006 
nd_r
;

4009 
	`Ctc_CˬClfRmk2LolByPc
(
ucPtS
, 
edOfRu
);

4012 if((
OAM_CLASSIFY_ACTION_ADD
 =
pClsHd
->
ai
))

4014 
BOOL
 
bBchCfg
 = 
FALSE
;

4015 
numOfRu
 = 
pClsHd
->numOfRule;

4017 
ruId
 = 0;uId < 
numOfRu
;uleId++)

4019 
t
 = 
OAM_SET_OK
;

4021 
pClsRu
 = (
m_asmk_rubody_t
 *)
p_
;

4022 
p_
 +(
m_asmk_rubody_t
);

4023 
edOfRu
 = 
pClsRu
->precedenceOfRule;

4024 
numOfFld
 = 
pClsRu
->numOfField;

4026 
pClsFld
 = (
m_asmk_fldbody_t
 *)
p_
;

4027 
p_
 +
numOfFld
 * (
m_asmk_fldbody_t
);

4031 if((
OAM_CLF_EQUAL
 !
pClsFld
->
ݔ
&& (
OAM_CLF_ALWAYS_MATCH
 !=ClsField->operator))

4034 
t
 = 
OAM_SET_NO_RESOURCE
;

4035 
nd_r
;

4040 i(0 =
edOfRu
)

4042 
bBchCfg
 = 
TRUE
;

4045 i(
TRUE
 !
bBchCfg
)

4047 
edOfRu
 -= 1;

4050 
	`CTC_DEBUG
("\nc: Add clf܅t%d.:%d,um:%d\n",
ucPtS
,
edOfRu
,
numOfRu
);

4051 i(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPc
(
ucPtS
, 
edOfRu
, 
pClsRu
, 
pClsFld
))

4053 
	`CTC_DEBUG
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

4054 
t
 = 
OAM_SET_NO_RESOURCE
;

4055 
nd_r
;

4058 
	`Ctc_AddClfRmk2Lol
(
ucPtS
, 
edOfRu
, 
pClsRu
, 
pClsFld
);

4063 
	`CTC_DEBUG
("classify unknown\n");

4064 
t
 = 
OAM_SET_BAD_PARAMETERS
;

4067 
nd_r
:

4069 
pVCڏ
->
vWidth
 = 
t
;

4071  
EPON_OAM_ERR_OK
;

4073 
	}
}

4076 
	$c_m_vCb_addDMuiVn_g
(

4077 
idIdx
,

4078 

,

4079 
c_vInt_t
 *
pVInt
,

4080 
c_vDest_t
 
vDesc
,

4081 *
pVCڏ_Tٮ_L
,

4082 
c_vCڏ_t
 *
pVCڏ
)

4086 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
, 
numb
, *
p_by
;

4087 
u16_t
 *
p_vid
;

4088 
m_m_vn_t
 *
p_m_vn
;

4089 
t_vue
 =0;

4090 
v_n
 = 0;

4092 if(
NULL
 =
pVInt
)

4094  
EPON_OAM_ERR_NOT_FOUND
;

4097 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4098 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4100  
EPON_OAM_ERR_OK
;

4124 
pVCڏ
->
vDesc
 = varDesc;

4125 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

4126 if(
NULL
 =
pVCڏ
->
pVDa
)

4128  
EPON_OAM_ERR_MEM
;

4130 
p_by
 = 
pVCڏ
->
pVDa
;

4131 
pVCڏ
->
pVDa
[0] = 
OAM_CTC_MCAST_VLAN_LIST
;

4132 
p_by
 += 1;

4133 
p_vid
 = (
u16_t
*)
p_by
;

4134 
t
 = 
	`odmMuiVnG
(
ucPtS
, 
p_vid
, &
numb
);

4135 if(0 !
t
)

4137 
	`CTC_DEBUG
("[ %]: odmMuiVnGu!\n", 
__FUNCTION__
);

4138 
numb
 = 0;

4140 
	`CTC_DEBUG
("[ %]: ml vnum = %d\n", 
__FUNCTION__
, 
numb
);

4141 
pVCڏ
->
vWidth
 = 1+2*
numb
;

4143 
p_by
 +2*
numb
;

4144 if(
ucPtS
 =
ucPtE
)

4146  
EPON_OAM_ERR_OK
;

4150 
ucPtS
 += 1;

4153 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4156 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

4157 i(
v_n
 < 
EPON_OAM_ERR_OK
)

4159  
EPON_OAM_ERR_PARAM
;

4161 
p_by
 +
v_n
;

4176 
p_m_vn
 = (
m_m_vn_t
*)
p_by
;

4177 
p_m_vn
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4178 
p_m_vn
->
af
 = 
OAM_ATTR_VLAN
;

4179 
p_m_vn
->
ݔi
 = 
OAM_CTC_MCAST_VLAN_LIST
;

4180 
p_by
 +(
m_m_vn
);

4181 
p_vid
 = (
u16_t
*)
p_by
;

4182 
t
 = 
	`odmMuiVnG
(
ucPtS
, 
p_vid
, &
numb
);

4183 if(0 !
t
)

4185 
	`CTC_DEBUG
("[ %]: odmMuiVnGu!\n", 
__FUNCTION__
);

4186 
numb
 = 0;

4188 
	`CTC_DEBUG
("[ %]: ml vnum = %d\n", 
__FUNCTION__
, 
numb
);

4189 
p_m_vn
->
width
 = 1+2*
numb
;

4190 
p_by
 +2*
numb
;

4193 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

4195  
EPON_OAM_ERR_OK
;

4196 
	}
}

4199 
	$c_m_vCb_addDMuiVn_t
(

4200 
idIdx
,

4201 

,

4202 
c_vInt_t
 *
pVInt
,

4203 
c_vDest_t
 
vDesc
,

4204 
c_vCڏ_t
 *
pVCڏ
)

4208 
u8_t
 
i
, 
numb
, 
ucPtS
, 
ucPtE
, 
curPtId
;

4209 
u8_t
 *
p_
;

4210 
u16_t
 *
p_vid
;

4211 
m_m_vn_t
 
p_m_vn_t
;

4212 
m_m_vn_t
 *
p_m_vn
 = &
p_m_vn_t
;

4213 
u32_t
 
t
 = 0;

4214 
t_vue
 =0;

4218 if(
	`mcCڌBlockModeG
()==
MC_MODE_CTC
)

4220 
	`CTC_DEBUG
("Not in MC_MODE_SNOOPING mode.\r\n");

4221 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4222  
EPON_OAM_ERR_OK
;

4226 if(
NULL
 =
pVInt
)

4228  
EPON_OAM_ERR_NOT_FOUND
;

4231 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4232 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4234  
EPON_OAM_ERR_OK
;

4238 
p_m_vn
->
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

4239 
p_m_vn
->
af
 = 
pVCڏ
->
vDesc
.
vLf
;

4240 
p_m_vn
->
width
 = 
pVCڏ
->
vWidth
;

4241 
p_m_vn
->
ݔi
 = 
pVCڏ
->
pVDa
[0];

4243 if(
p_m_vn
->
width
 == 1)

4245 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4247 
	`odmMuiVnCˬ
(
ucPtS
);

4252 
u32_t
 
	`mcVnNumG
();

4253 
	`mcVnExi
(
u32_t
 
vnId
);

4254 
u16_t
 *
p_vid_tmp
 = 
NULL
;

4255 
u32_t
 
ui_mc_vn_num
 = 0;

4257 
p_
 = &
pVCڏ
->
pVDa
[1];

4258 
p_vid
 = (
u16_t
*)
p_
;

4259 
numb
 = 
p_m_vn
->
width
-1;

4262 i((
numb
%2 !=0) || (15 <umber/2))

4264 
t
 = 
OPL_ERROR
;

4265 
nd_r
;

4268 
p_vid_tmp
 = 
p_vid
;

4269 
i
 = 0; i < (
numb
/2); i++)

4271 i(0 =
	`mcVnExi
(*(
p_vid_tmp
 + 
i
)))

4273 
ui_mc_vn_num
++;

4278 
BOOL
 
	`CTC_CheckVidVidFMcvn
(
u32_t
 
uiMcVid
);

4279 i(
FALSE
 =
	`CTC_CheckVidVidFMcvn
(*(
p_vid_tmp
 + 
i
)))

4281 
t
 = 
OPL_ERROR
;

4282 
nd_r
;

4288 i(
FALSE
 =
	`CTC_CheckVidVidFMcTni
(*(
p_vid_tmp
 + 
i
)))

4290 
t
 = 
OPL_ERROR
;

4291 
nd_r
;

4296 
ui_mc_vn_num
 = ui_mc_vn_num + 
	`mcVnNumG
();

4297 i(15 < 
ui_mc_vn_num
)

4299 
t
 = 
OPL_ERROR
;

4300 
nd_r
;

4303 
i
=0;i<
numb
/2;i++,
p_vid
++)

4305 
	`CTC_DEBUG
("mvn: %d\n", *
p_vid
);

4306 if(
p_m_vn
->
ݔi
 =
OAM_CTC_MCAST_VLAN_DEL
)

4308 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

4310 
	`odmMuiVnDe
(
curPtId
, *
p_vid
);

4314 if(
p_m_vn
->
ݔi
 =
OAM_CTC_MCAST_VLAN_ADD
)

4316 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

4318 
	`odmMuiVnAdd
(
curPtId
, *
p_vid
);

4324 
nd_r
:

4325 if(
t
 =
OPL_OK
)

4327 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

4331 
	`CTC_DEBUG
("Multicast vlan set fail\n");

4332 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4335  
EPON_OAM_ERR_OK
;

4336 
	}
}

4339 
	$c_m_vCb_muiTagOr_g
(

4340 
idIdx
,

4341 

,

4342 
c_vInt_t
 *
pVInt
,

4343 
c_vDest_t
 
vDesc
,

4344 *
pVCڏ_Tٮ_L
,

4345 
c_vCڏ_t
 *
pVCڏ
)

4349 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

4350 
m_m_gre_t
 *
p_gre
;

4351 
t_vue
 =0;

4352 
v_n
 = 0;

4354 if(
NULL
 =
pVInt
)

4356  
EPON_OAM_ERR_NOT_FOUND
;

4359 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4360 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4362  
EPON_OAM_ERR_OK
;

4384 
pVCڏ
->
vDesc
 = varDesc;

4385 
pVCڏ
->
vWidth
 = 1;

4386 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

4387 if(
NULL
 =
pVCڏ
->
pVDa
)

4389  
EPON_OAM_ERR_MEM
;

4391 
p_by
 = 
pVCڏ
->
pVDa
;

4392 
	`odmMuiTagrG
(
ucPtS
, &(
pVCڏ
->
pVDa
[0]));

4394 
p_by
 +
pVCڏ
->
vWidth
;

4395 if(
ucPtS
 =
ucPtE
)

4397  
EPON_OAM_ERR_OK
;

4401 
ucPtS
 += 1;

4404 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4407 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

4408 i(
v_n
 < 
EPON_OAM_ERR_OK
)

4410  
EPON_OAM_ERR_PARAM
;

4412 
p_by
 +
v_n
;

4425 
p_gre
 = (
m_m_gre_t
*)
p_by
;

4426 
p_gre
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4427 
p_gre
->
af
 = 
OAM_ATTR_MCAST_TAG_STRIP
;

4428 
p_gre
->
width
 = 1;

4429 
	`odmMuiTagrG
(
ucPtS
, &(
p_gre
->
gred
));

4430 
p_by
 +
p_gre
->
width
;

4433 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

4435  
EPON_OAM_ERR_OK
;

4436 
	}
}

4439 
	$c_m_vCb_muiTagOr_t
(

4440 
idIdx
,

4441 

,

4442 
c_vInt_t
 *
pVInt
,

4443 
c_vDest_t
 
vDesc
,

4444 
c_vCڏ_t
 *
pVCڏ
)

4448 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

4449 
u16_t
 
ptId
;

4450 
m_m_gre_t
 
p_m_g_r_hdr_t
;

4451 
m_m_gre_t
 *
p_m_g_r_hdr
 = &
p_m_g_r_hdr_t
;

4452 
t_vue
 =0;

4453 
vnAddNum
,
ubVNum
,
num_of_m_vn
=0;

4454 
mvn
;

4455 
u8_t
 
gOr
;

4456 
d_v_num
;

4457 
	`mcTagTniTabNum
();

4458 
d_v_num
=
	`mcTagTniTabNum
();

4459 if(
NULL
 =
pVInt
)

4461  
EPON_OAM_ERR_NOT_FOUND
;

4464 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4465 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4467  
EPON_OAM_ERR_OK
;

4471 
p_m_g_r_hdr
->
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

4472 
p_m_g_r_hdr
->
af
 = 
pVCڏ
->
vDesc
.
vLf
;

4473 
p_m_g_r_hdr
->
width
 = 
pVCڏ
->
vWidth
;

4474 
p_m_g_r_hdr
->
gred
 = 
pVCڏ
->
pVDa
[0];

4477 
i
=0;

4478 
m_m_vn_i_y_t
 *
p_i_y
=
NULL
;

4479 
u8_t
 *
p_
 = (u8_*)&(
pVCڏ
->
pVDa
[2]);

4480 
u8_t
 *
p__tmp
 = 
p_
;

4482 if(
p_m_g_r_hdr
->
gred
 =
OAM_CTC_MCAST_VLAN_TAG_TRANLATE
)

4484 
num_of_m_vn
 = 
pVCڏ
->
pVDa
[1];

4485 if(
ucPtS
 !
ucPtE
)

4487 
vnAddNum
 = 
ODM_NUM_OF_PORTS
*
num_of_m_vn
;

4491 
vnAddNum
 = 1*
num_of_m_vn
;

4494 if(
d_v_num
+
vnAddNum
>15)

4496 
t
 = 
OPL_ERROR
;

4497 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "el_t_u_m_g_r: %d+%d>SHIVA_MAX_VLAN_TRANS\n", 
d_v_num
, 
vnAddNum
);

4498 
nd_r
;

4501 
ptId
 = 
ucPtS
;tId <
ucPtE
;ortId++)

4503 
p_i_y
 = (
m_m_vn_i_y_t
 *)
p__tmp
;

4504 
p__tmp
 +(
m_m_vn_i_y_t
);

4505 if(
OPL_OK
 !
	`mag_i_check
(
ptId
, 
p_i_y
->
m_vn
,_i_y->
tv_vn
))

4507 
	`DBG_PRINTF
("FIALED ... ");

4508 
t
 = 
OPL_ERROR
;

4509 
nd_r
;

4516 
ptId
 = 
ucPtS
;tId <
ucPtE
;ortId++)

4518 
	`CTC_DEBUG
(" odmMuiTagrS(%d, %d)\n", 
ptId
, 
p_m_g_r_hdr
->
gred
);

4519 
t
 = 
	`odmMuiTagrS
(
ptId
,
p_m_g_r_hdr
->
gred
);

4521 if(
t
 !
OPL_OK
)

4523 
	`CTC_DEBUG
("call odmMulticastTagstripSet() fail!\n");

4524 
nd_r
;

4529 if(
p_m_g_r_hdr
->
gred
 =
OAM_CTC_MCAST_VLAN_TAG_TRANLATE
)

4532 
i
 = 0; i < 
num_of_m_vn
; i++)

4534 
ptId
 = 
ucPtS
;tId <
ucPtE
;ortId++)

4537 
p_i_y
 = (
m_m_vn_i_y_t
 *)
p_
;

4538 
p_
 +(
m_m_vn_i_y_t
);

4540 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "call odmMulticastTagTranslationAdd(%ld, %ld, %ld)\n",

4541 
ptId
,

4542 
p_i_y
->
m_vn
,

4543 
p_i_y
->
tv_vn
);

4545 
t
 = 
	`odmMuiTagTniAdd
(
ptId
,

4546 
p_i_y
->
m_vn
,

4547 
p_i_y
->
tv_vn
);

4549 if(
t
 !
OPL_OK
)

4552 
	`OP_DEBUG
(
DEBUG_LEVEL_INFO
, "call odmMulticastTagTranslationAdd() fail!\n");

4553 
nd_r
;

4560 
nd_r
:

4561 if(
t
 =
OPL_OK
)

4563 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

4567 
	`CTC_DEBUG
("Multicastag oper set fail\n");

4568 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4571  
EPON_OAM_ERR_OK
;

4572 
	}
}

4575 
	$c_m_vCb_muiSwch_g
(

4576 
idIdx
,

4577 

,

4578 
c_vInt_t
 *
pVInt
,

4579 
c_vDest_t
 
vDesc
,

4580 *
pVCڏ_Tٮ_L
,

4581 
c_vCڏ_t
 *
pVCڏ
)

4595 
pVCڏ
->
vDesc
 = varDesc;

4596 
pVCڏ
->
vWidth
 = 1;

4597 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
);

4598 if(
NULL
 =
pVCڏ
->
pVDa
)

4600  
EPON_OAM_ERR_MEM
;

4602 
pVCڏ
->
pVDa
[0] = 
	`odmMuiSwchG
();

4604  
EPON_OAM_ERR_OK
;

4605 
	}
}

4608 
	$c_m_vCb_muiSwch_t
(

4609 
idIdx
,

4610 

,

4611 
c_vInt_t
 *
pVInt
,

4612 
c_vDest_t
 
vDesc
,

4613 
c_vCڏ_t
 *
pVCڏ
)

4617 
u8_t
 
t
=0;

4618 
m_m_swch_t
 
p_m_swch
;

4621 
p_m_swch
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

4622 
p_m_swch
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

4623 
p_m_swch
.
width
 = 
pVCڏ
->
vWidth
;

4624 
p_m_swch
.
ai
 = 
pVCڏ
->
pVDa
[0];

4626 
	`CTC_DEBUG
("mvswch: %d\n", 
p_m_swch
.
ai
);

4628 if((
p_m_swch
.
ai
 == 0) || (p_mcast_switch.action == 1))

4630 
t
 = 
	`odmMuiSwchS
(
p_m_swch
.
ai
);

4634 
t
 = 1;

4637 if(!
t
)

4639 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

4643 
	`CTC_DEBUG
("Multicast switch set fail\n");

4644 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4647  
EPON_OAM_ERR_OK
;

4648 
	}
}

4651 
	$c_m_vCb_muiCڌ_g
(

4652 
idIdx
,

4653 

,

4654 
c_vInt_t
 *
pVInt
,

4655 
c_vDest_t
 
vDesc
,

4656 *
pVCڏ_Tٮ_L
,

4657 
c_vCڏ_t
 *
pVCڏ
)

4661 
u8_t
 *
p_by
;

4662 
u16_t
 
numb
;

4663 
m_m_cڌ_y_t
 *
p_m_y_c
=0;

4679 
pVCڏ
->
vDesc
 = varDesc;

4680 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

4681 if(
NULL
 =
pVCڏ
->
pVDa
)

4683  
EPON_OAM_ERR_MEM
;

4685 
p_by
 = 
pVCڏ
->
pVDa
;

4686 
pVCڏ
->
pVDa
[0] = 3;

4687 
pVCڏ
->
pVDa
[1] = (
u8_t
)
	`odmMuiCڌTyG
();

4688 
p_by
 += 3;

4689 
p_m_y_c
 = (
m_m_cڌ_y_t
*)
p_by
;

4690 
	`odmMuiCڌEryG
((
mui_cڌ_y_t
 *)
p_m_y_c
, &
numb
);

4691 
pVCڏ
->
vWidth
 = 3+10*
numb
;

4692 
pVCڏ
->
pVDa
[2] = 
numb
;

4693 
p_by
 +10*
numb
;

4695  
EPON_OAM_ERR_OK
;

4696 
	}
}

4699 
	$c_m_vCb_muiCڌ_t
(

4700 
idIdx
,

4701 

,

4702 
c_vInt_t
 *
pVInt
,

4703 
c_vDest_t
 
vDesc
,

4704 
c_vCڏ_t
 *
pVCڏ
)

4708 
u8_t
 
i
;

4709 
m_m_cڌ_t
 
p_m_cڌ_t
;

4710 
m_m_cڌ_t
 *
p_m_cڌ
 = &
p_m_cڌ_t
;

4711 
m_m_cڌ_y_t
 *
p_m_y
;

4712 
u32_t
 
tV
 = 0;

4713 
u8_t
 *
p_
 = 
pVCڏ
->
pVDa
;

4716 
p_m_cڌ
->
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

4717 
p_m_cڌ
->
af
 = 
pVCڏ
->
vDesc
.
vLf
;

4718 
p_m_cڌ
->
width
 = 
pVCڏ
->
vWidth
;

4719 
p_m_cڌ
->
ai
 = 
pVCڏ
->
pVDa
[0];

4720 
p_m_cڌ
->
cڌ_ty
 = 
pVCڏ
->
pVDa
[1];

4721 
p_m_cڌ
->
numb
 = 
pVCڏ
->
pVDa
[2];

4722 
p_
 += 3;

4724 if(
p_m_cڌ
->
width
 == 1)

4726 
tV
 = 
	`odmMuiCڌEryCˬ
();

4730 i(
p_m_cڌ
->
ai
 == 1)

4732 
mui_cڌ_y_t
 
l_y_li
[
MC_MAX_GROUP_NUM
];

4734 
UINT16
 
l_y_num
 = 0;

4735 
UINT16
 
l_y_dex
;

4736 
m_m_cڌ_y_t
 *
p_m_y_check
;

4737 
UINT8
 
l_y_num_r_pt
[
ODM_NUM_OF_PORTS
+1] = {0};

4739 
	`odmMuiCڌEryG
(&
l_y_li
, &
l_y_num
);

4741 
l_y_dex
=0; c_y_dex<
l_y_num
; ctl_entry_index++)

4743 
l_y_num_r_pt
[
l_y_li
[
l_y_dex
].
pt
]++;

4746 
p_m_y_check
 = (
m_m_cڌ_y_t
*)
p_
;

4747 
i
=0; i<
p_m_cڌ
->
numb
; i++)

4749 
l_y_num_r_pt
[
p_m_y_check
->
pt_id
]++;

4750 
p_m_y_check
++;

4753 
i
=
ODM_START_PORT_NUN
; i<=
ODM_NUM_OF_PORTS
; i++)

4755 if(
l_y_num_r_pt
[
i
]>64)

4757 
tV
 = -1;

4758 
	`CTC_DEBUG
("el_t_u_m_cڌ:t%dry>64\n", 
i
);

4759 
nd_r
;

4764 if((
p_m_cڌ
->
cڌ_ty
>=
MC_CTL_GDA_MAC
&& (p_m_cڌ->cڌ_ty < 
MC_CTL_END
))

4767 if(
p_m_cڌ
->
cڌ_ty
==
MC_CTL_GDA_MAC_VID
 ||_m_cڌ->cڌ_ty==
MC_CTL_GDA_GDA_IP_VID
)

4769 
	`odmMuiCڌTyS
(
p_m_cڌ
->
cڌ_ty
);

4774 
p_m_y
 = (
m_m_cڌ_y_t
*)
p_
;

4775 
i
=0;i<
p_m_cڌ
->
numb
;i++,
p_m_y
++)

4777 if(
p_m_cڌ
->
ai
 == 0)

4779 
	`CTC_DEBUG
("mc vlan ctrl del,ort: %d, vlan: %d, gda: %02x:%02x:%02x:%02x:%02x:%02x\n",

4780 
p_m_y
->
pt_id
,_m_y->
vn_id
,_m_y->
gda
[0],

4781 
p_m_y
->
gda
[1],_mcast_entry->gda[2],_mcast_entry->gda[3],

4782 
p_m_y
->
gda
[4],_mcast_entry->gda[5]);

4784 
tV
 = 
	`odmMuiCڌEryDe
(
p_m_y
->
pt_id
,

4785 
p_m_y
->
vn_id
,

4786 
p_m_y
->
gda
);

4788 if(
p_m_cڌ
->
ai
 == 1)

4790 
	`CTC_DEBUG
("mc vlan ctrldd,ort: %d, vlan: %d, gda: %02x:%02x:%02x:%02x:%02x:%02x\n",

4791 
p_m_y
->
pt_id
,_m_y->
vn_id
,_m_y->
gda
[0],

4792 
p_m_y
->
gda
[1],_mcast_entry->gda[2],_mcast_entry->gda[3],

4793 
p_m_y
->
gda
[4],_mcast_entry->gda[5]);

4794 
tV
 = 
	`odmMuiCڌEryAdd
(
p_m_y
->
pt_id
,

4795 
p_m_y
->
vn_id
,

4796 
p_m_y
->
gda
);

4801 
nd_r
:

4802 if(
tV
 == 0)

4804 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

4808 
	`CTC_DEBUG
("Multicast Control set fail\n");

4809 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4812  
EPON_OAM_ERR_OK
;

4813 
	}
}

4816 
	$c_m_vCb_groupNumMax_g
(

4817 
idIdx
,

4818 

,

4819 
c_vInt_t
 *
pVInt
,

4820 
c_vDest_t
 
vDesc
,

4821 *
pVCڏ_Tٮ_L
,

4822 
c_vCڏ_t
 *
pVCڏ
)

4826 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

4827 
m_group_num_max_t
 *
p_group
;

4828 
t_vue
 =0;

4829 
v_n
 = 0;

4831 if(
NULL
 =
pVInt
)

4833  
EPON_OAM_ERR_NOT_FOUND
;

4836 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4837 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4839  
EPON_OAM_ERR_OK
;

4861 
pVCڏ
->
vDesc
 = varDesc;

4862 
pVCڏ
->
vWidth
 = 1;

4863 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

4864 if(
NULL
 =
pVCڏ
->
pVDa
)

4866  
EPON_OAM_ERR_MEM
;

4868 
p_by
 = 
pVCڏ
->
pVDa
;

4869 
pVCڏ
->
pVDa
[0] = 
	`odmMuiGroupMaxNumG
(
ucPtS
);

4871 
p_by
 +
pVCڏ
->
vWidth
;

4872 if(
ucPtS
 =
ucPtE
)

4874  
EPON_OAM_ERR_OK
;

4878 
ucPtS
 += 1;

4881 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4884 
v_n
 = 
	`c_m_add_v
(
pVInt
, 
p_by
, 
ucPtS
);

4885 i(
v_n
 < 
EPON_OAM_ERR_OK
)

4887  
EPON_OAM_ERR_PARAM
;

4889 
p_by
 +
v_n
;

4902 
p_group
 = (
m_group_num_max_t
*)
p_by
;

4903 
p_group
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4904 
p_group
->
af
 = 
OAM_ATTR_MCAST_GRP_NUMMAX
;

4905 
p_group
->
width
 = 1;

4906 
p_group
->
num_max
 = 
	`odmMuiGroupMaxNumG
(
ucPtS
);

4907 
p_by
 +
p_group
->
width
;

4910 *
pVCڏ_Tٮ_L
 = 
p_by
 - 
pVCڏ
->
pVDa
;

4912  
EPON_OAM_ERR_OK
;

4913 
	}
}

4916 
	$c_m_vCb_groupNumMax_t
(

4917 
idIdx
,

4918 

,

4919 
c_vInt_t
 *
pVInt
,

4920 
c_vDest_t
 
vDesc
,

4921 
c_vCڏ_t
 *
pVCڏ
)

4925 
u8_t
 
t
=0, 
ucPtS
, 
ucPtE
;

4926 
m_group_num_max_t
 
p_group
;

4927 
t_vue
 =0;

4929 if(
NULL
 =
pVInt
)

4931  
EPON_OAM_ERR_NOT_FOUND
;

4934 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

4935 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

4937  
EPON_OAM_ERR_OK
;

4941 
p_group
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

4942 
p_group
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

4943 
p_group
.
width
 = 
pVCڏ
->
vWidth
;

4944 
p_group
.
num_max
 = 
pVCڏ
->
pVDa
[0];

4946 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4948 
	`CTC_DEBUG
("mvg max: %d\n", 
p_group
.
num_max
);

4949 
t
 = 
	`odmMuiGroupMaxNumS
(
ucPtS
, 
p_group
.
num_max
);

4952 if(!
t
)

4954 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

4958 
	`CTC_DEBUG
("groupNumMax set fail\n");

4959 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

4962  
EPON_OAM_ERR_OK
;

4963 
	}
}

4966 
	$c_m_vCb_aFaLveAby_g
(

4967 
idIdx
,

4968 

,

4969 
c_vInt_t
 *
pVInt
,

4970 
c_vDest_t
 
vDesc
,

4971 *
pVCڏ_Tٮ_L
,

4972 
c_vCڏ_t
 *
pVCڏ
)

4977 
umC
 = 4, 
umVue
;

4979 
pVCڏ
->
vDesc
 = varDesc;

4983 
pVCڏ
->
vWidth
 =

4984 
CTC_OAM_VAR_AFASTLEAVEABILITY_HDR_LEN
 +

4985 (
CTC_OAM_VAR_AFASTLEAVEABILITY_ENUM_LEN
 * 
umC
);

4986 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

4987 if(
NULL
 =
pVCڏ
->
pVDa
)

4989  
EPON_OAM_ERR_MEM
;

4993 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
, &
umC
);

4996 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_NONFASTLEAVE
;

4997 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 4), &
umVue
);

5000 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_SNOOPING_FASTLEAVE
;

5001 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 8), &
umVue
);

5004 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_NONFASTLEAVE
;

5005 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 12), &
umVue
);

5008 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_IGMP_FASTLEAVE
;

5009 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 16), &
umVue
);

5012 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_NONFASTLEAVE
;

5013 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 20), &
umVue
);

5016 
umVue
 = 
CTC_OAM_VAR_AFASTLEAVEABILITY_MLD_FASTLEAVE
;

5017 
	`CTC_BUF_ENCODE32
((
pVCڏ
->
pVDa
 + 24), &
umVue
);

5019  
EPON_OAM_ERR_OK
;

5020 
	}
}

5023 
	$c_m_vCb_aFaLveAdmS_g
(

5024 
idIdx
,

5025 

,

5026 
c_vInt_t
 *
pVInt
,

5027 
c_vDest_t
 
vDesc
,

5028 *
pVCڏ_Tٮ_L
,

5029 
c_vCڏ_t
 *
pVCڏ
)

5033 
tVue
;

5034 
pVCڏ
->
vDesc
 = varDesc;

5035 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_AFASTLEAVEADMINSTATE_LEN
;

5036 
pVCڏ
->
pVDa
 = (*
	`mloc
VCڏ->
vWidth
 * ());

5037 if(
NULL
 =
pVCڏ
->
pVDa
)

5039  
EPON_OAM_ERR_MEM
;

5043 
tVue
 = 
CTC_OAM_VAR_AFASTLEAVEADMINSTATE_DISABLED
;

5044 
	`CTC_BUF_ENCODE32
(
pVCڏ
->
pVDa
, &
tVue
);

5046  
EPON_OAM_ERR_OK
;

5047 
	}
}

5049 
	$c_m_vCb_tOnu_t
(

5050 
idIdx
,

5051 

,

5052 
c_vInt_t
 *
pVInt
,

5053 
c_vDest_t
 
vDesc
,

5054 
c_vCڏ_t
 *
pVCڏ
)

5059 
bo_fd
 = -1;

5060 
pVCڏ
->
vWidth
 = 0x80;

5063 
	`CTC_DEBUG
("%s:%d OLU issuONU commd\n", 
__FILE__
, 
__LINE__
);

5065 if((
bo_fd
 = 
	`ݒ
(
REBOOT_LOCK
, 
O_RDWR
|
O_CREAT
|
O_TRUNC
)) < 0)

5069 
	`tf
("File openrror\n");

5070  
EPON_OAM_ERR_OK
;

5073 if(
	`WRITE_LOCK
(
bo_fd
, 0, 
SEEK_SET
, 0) < 0)

5076 
	`tf
("System iserforming upgrade\n");

5077  
EPON_OAM_ERR_OK
;

5079 
	`p
(3);

5080 
	`bo
(
LINUX_REBOOT_CMD_RESTART
);

5082  
EPON_OAM_ERR_OK
;

5083 
	}
}

5086 
	$c_m_vCb_acFaLveAdmCڌ_t
(

5087 
idIdx
,

5088 

,

5089 
c_vInt_t
 *
pVInt
,

5090 
c_vDest_t
 
vDesc
,

5091 
c_vCڏ_t
 *
pVCڏ
)

5095 
u8_t
 
t
=0, *
p_by
;

5096 
m_ave_adm_t
 
p_
;

5098 
p_
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

5099 
p_
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

5100 
p_
.
width
 = 
pVCڏ
->
vWidth
;

5101 
	`CTC_BUF_PARSE32
(
pVCڏ
->
pVDa
, &
p_
.
vue
);

5103 
	`CTC_DEBUG
("m硆vt: %d\n", 
p_
.
vue
);

5105 i(1 =
p_
.
vue
)

5107 
t
 = 
	`odmMuiFaaveModeS
(0);

5109 i(2 =
p_
.
vue
)

5111 
t
 = 
	`odmMuiFaaveModeS
(1);

5114 if(!
t
)

5116 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

5120 
	`CTC_DEBUG
("FastLeaveAdminControl set fail\n");

5121 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

5124  
EPON_OAM_ERR_OK
;

5125 
	}
}

5127 
	$c_m_chugKey_t
(

5128 
idIdx
,

5129 
keyIdx
,

5130 
key
[])

5132 
k__chugKeyEry_t
 
y
;

5134 
y
.
idIdx
 =lidIdx;

5135 
y
.
keyIdx
 = keyIdx;

5136 
	`memy
(
y
.
chugKey
, 
key
, 
RTK_EPON_KEY_SIZE
);

5139 
	`k__chugKey_t
(&
y
);

5141  
EPON_OAM_ERR_OK
;

5142 
	}
}

5144 
	$c_m_dbaCfig_g
(

5145 
c_dbaThshd_t
 *
pDbaThshd
)

5150 *
pDbaThshd
 = 
dbaThshdDb
;

5152  
EPON_OAM_ERR_OK
;

5153 
	}
}

5155 
	$c_m_dbaCfig_t
(

5156 
c_dbaThshd_t
 *
pDbaSRe
)

5161 
dbaThshdDb
 = *
pDbaSRe
;

5163  
EPON_OAM_ERR_OK
;

5164 
	}
}

5167 
	$c_m_vCb_hPtmode_t
(

5168 
idIdx
,

5169 

,

5170 
c_vInt_t
 *
pVInt
,

5171 
c_vDest_t
 
vDesc
,

5172 
c_vCڏ_t
 *
pVCڏ
)

5176 
u8_t
 
t
=
OPL_OK
, 
ucPtS
, 
ucPtE
;

5177 
m_h_p܍au_t
 
p_u
;

5178 
t_vue
 =0;

5179 
u32_t
 
pt_mode_duex
 = 0;

5180 
u32_t
 
pt_mode_d
 = 0;

5181 
u32_t
 
pt
 = 0;

5183 if(
CTC_OAM_VAR_ETHPORTPAUSE_LEN
 !
pVCڏ
->
vWidth
)

5185  
EPON_OAM_ERR_UNKNOWN
;

5188 if(
NULL
 =
pVInt
)

5190  
EPON_OAM_ERR_NOT_FOUND
;

5193 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

5194 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

5196  
EPON_OAM_ERR_OK
;

5200 
p_u
.
bnch
 = 
pVCڏ
->
vDesc
.
vBnch
;

5201 
p_u
.
af
 = 
pVCڏ
->
vDesc
.
vLf
;

5202 
p_u
.
width
 = 
pVCڏ
->
vWidth
;

5203 
p_u
.
back_ݔ
 = 
pVCڏ
->
pVDa
[0];

5205 ; 
ucPtS
<=
ucPtE
; ucPortS++)

5207 
p_u
.
back_ݔ
)

5209 
OAM_PORT_MODE_10H
:

5210 
pt_mode_duex
 = 
DUPLEX_HALF
;

5211 
pt_mode_d
 = 
SPEED_10M
;

5213 
OAM_PORT_MODE_10F
:

5214 
pt_mode_duex
 = 
DUPLEX_FULL
;

5215 
pt_mode_d
 = 
SPEED_10M
;

5217 
OAM_PORT_MODE_100H
:

5218 
pt_mode_duex
 = 
DUPLEX_HALF
;

5219 
pt_mode_d
 = 
SPEED_100M
;

5221 
OAM_PORT_MODE_100F
:

5222 
pt_mode_duex
 = 
DUPLEX_FULL
;

5223 
pt_mode_d
 = 
SPEED_100M
;

5225 
OAM_PORT_MODE_1000F
:

5226 
pt_mode_d
 = 
SPEED_1000M
;

5229 
t
 = 
OPL_ERROR
;

5232 
pt
 = (
u32_t
)
ucPtS
;

5233 
t
 = 
	`DRV_SPtSed
(
pt
, 
pt_mode_d
);

5234 if(
OPL_OK
 !
t
)

5239 
t
 = 
	`DRV_SPtDuex
(
ucPtS
, 
pt_mode_duex
);

5242 if(
t
 =
OPL_OK
)

5253 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

5261 
	`CTC_DEBUG
("ethPortPause_set fail\n");

5262 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

5265  
EPON_OAM_ERR_OK
;

5266 
	}
}

5268 
	$c_m_vCb_hPtStiic_g
(

5269 
idIdx
,

5270 

,

5271 
c_vInt_t
 *
pVInt
,

5272 
c_vDest_t
 
vDesc
,

5273 *
pVCڏ_Tٮ_L
,

5274 
c_vCڏ_t
 *
pVCڏ
)

5278 
u8_t
 
ucPtS
, 
ucPtE
, *
p_by
;

5279 
m_h_p܍au_t
 *
p_u
;

5280 
u32_t
 
e
=0;

5281 
BOOL
 
bPtStus
 = 
TRUE
;

5282 
t_vue
 =0;

5283 
v_n
 = 0;

5284 
t
 = 0;

5286 if(
NULL
 =
pVInt
)

5288  
EPON_OAM_ERR_NOT_FOUND
;

5291 
t_vue
 = 
	`c_m_g_ptid
(
pVInt
, 
vDesc
, 
pVCڏ
, &
ucPtS
, &
ucPtE
);

5292 if(
EPON_OAM_ERR_PARAM
 =
t_vue
)

5294  
EPON_OAM_ERR_OK
;

5316 
pVCڏ
->
vDesc
 = varDesc;

5317 
pVCڏ
->
vWidth
 = 78;

5319 
pVCڏ
->
pVDa
 = (*
	`mloc
(1500);

5320 
UNI_COUNTER_S
 
mibCous
;

5322 
t
 = 
	`DRV_GPtMibCou
(
ucPtS
, &
mibCous
);

5323 if(
t
 !
NO_ERROR
)

5325 
	`CTC_DEBUG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

5327 *(
pVCڏ
->
pVDa

mibCous
.
uiRecOs
;

5328 
pVCڏ
->
pVDa
+=8;

5329 *(
pVCڏ
->
pVDa

mibCous
.
InBrd
+mibCous.
InMui
+mibCous.
InUni
;

5330 
pVCڏ
->
pVDa
+=8;

5331 *(
pVCڏ
->
pVDa

mibCous
.
InUni
;

5332 
pVCڏ
->
pVDa
+=4;

5333 *(
pVCڏ
->
pVDa

mibCous
.
InMui
;

5334 
pVCڏ
->
pVDa
+=4;

5335 *(
pVCڏ
->
pVDa

mibCous
.
InBrd
;

5336 
pVCڏ
->
pVDa
+=4;

5337 *(
pVCڏ
->
pVDa
) = 0;

5338 
pVCڏ
->
pVDa
+=4;

5340 *(
pVCڏ
->
pVDa

mibCous
.
InUndow
;

5341 
pVCڏ
->
pVDa
+=4;

5342 *(
pVCڏ
->
pVDa
) = 0;

5343 
pVCڏ
->
pVDa
+=4;

5344 *(
pVCڏ
->
pVDa

mibCous
.
InOvow
;

5345 
pVCڏ
->
pVDa
+=4;

5346 *(
pVCڏ
->
pVDa
) = 0;

5347 
pVCڏ
->
pVDa
+=4;

5348 *(
pVCڏ
->
pVDa

mibCous
.
InCrcE
;

5349 
pVCڏ
->
pVDa
+=4;

5351 *(
pVCڏ
->
pVDa

mibCous
.
uiTnsOs
;

5352 
pVCڏ
->
pVDa
+=8;

5353 *(
pVCڏ
->
pVDa

mibCous
.
OutBrd
+mibCous.
OutMui
+mibCous.
OutUni
;

5354 
pVCڏ
->
pVDa
+=8;

5355 *(
pVCڏ
->
pVDa

mibCous
.
OutUni
;

5356 
pVCڏ
->
pVDa
+=4;

5357 *(
pVCڏ
->
pVDa

mibCous
.
OutMui
;

5358 
pVCڏ
->
pVDa
+=4;

5359 *(
pVCڏ
->
pVDa

mibCous
.
OutBrd
;

5362  
EPON_OAM_ERR_OK
;

5363 
	}
}

	@user/ctc_oam_vartbl.c

2 
	~"huawei.h
"

3 
	~"lw_cfig.h
"

6 
c_vCb_t
 
	gc_dArCb
[] = {

16 
CTC_VAR_OP_GET
,

17 
CTC_VAR_TARGET_UNIPORT
,

18 
c_m_vCb_aPhyAdmS_g
, 
NULL


23 
CTC_VAR_OP_GET
,

24 
CTC_VAR_TARGET_UNIPORT
,

25 
c_m_vCb_aAutoNegAdmS_g
, 
NULL


30 
CTC_VAR_OP_GET
,

31 
CTC_VAR_TARGET_UNIPORT
,

32 
c_m_vCb_aAutoNegLolTechnogyAby_g
, 
NULL


37 
CTC_VAR_OP_GET
,

38 
CTC_VAR_TARGET_UNIPORT
,

39 
c_m_vCb_aAutoNegAdvtidTechnogyAby_g
, 
NULL


44 
CTC_VAR_OP_GET
,

45 
CTC_VAR_TARGET_ONU
,

46 
c_m_vCb_aFECAby_g
, 
NULL


51 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

52 
CTC_VAR_TARGET_ONU
,

53 
c_m_vCb_aFecMode_g
, 
c_m_vCb_aFecMode_t


60 
NULL
, NULL

64 
c_vCb_t
 
	gc_dACb
[] = {

71 #ide
CONFIG_PRODUCT_5500


75 
CTC_VAR_OP_SET
,

76 
CTC_VAR_TARGET_UNIPORT
,

77 
NULL
, 
c_m_vCb_acPhyAdmCڌ_t


82 
CTC_VAR_OP_SET
,

83 
CTC_VAR_TARGET_UNIPORT
,

84 
NULL
, 
c_m_vCb_acAutoNegRetAutoCfig_t


89 
CTC_VAR_OP_SET
,

90 
CTC_VAR_TARGET_UNIPORT
,

91 
NULL
, 
c_m_vCb_acAutoNegAdmCڌ_t


99 
NULL
, NULL

103 
c_vCb_t
 
	gc_extArCb
[] = {

113 
CTC_VAR_OP_GET
,

114 
CTC_VAR_TARGET_ONU
,

115 
c_m_vCb_uSn_g
, 
NULL


120 
CTC_VAR_OP_GET
,

121 
CTC_VAR_TARGET_ONU
,

122 
c_m_vCb_fmweV_g
, 
NULL


127 
CTC_VAR_OP_GET
,

128 
CTC_VAR_TARGET_ONU
,

129 
c_m_vCb_chtId_g
, 
NULL


134 
CTC_VAR_OP_GET
,

135 
CTC_VAR_TARGET_ONU
,

136 
c_m_vCb_uCabs1_g
, 
NULL


141 
CTC_VAR_OP_GET
,

142 
CTC_VAR_TARGET_ONU
,

143 
c_m_vCb_tilTnsivDgnosis_g
, 
NULL


148 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

149 
CTC_VAR_TARGET_ONU
,

150 
c_m_vCb_rviS_g
, 
c_m_vCb_rviS_t


155 
CTC_VAR_OP_GET
,

156 
CTC_VAR_TARGET_ONU
,

157 
c_m_vCb_uCabs2_g
, 
NULL


162 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

163 
CTC_VAR_TARGET_ONU
,

164 
c_m_vCb_hdovCfig_g
, 
c_m_vCb_hdovCfig_t


169 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

170 
CTC_VAR_TARGET_ONU
,

171 
c_m_vCb_mxUMngGlobPam_g
, 
c_m_vCb_mxUMngGlobPam_t


176 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

177 
CTC_VAR_TARGET_ONU
,

178 
c_m_vCb_mxUMngSNMPPam_g
, 
c_m_vCb_mxUMngSNMPPam_t


183 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

184 
CTC_VAR_TARGET_ONU
,

185 
c_m_vCb_aivePIfAdme_g
, 
c_m_vCb_aivePIfAdme_t


190 
CTC_VAR_OP_GET
,

191 
CTC_VAR_TARGET_ONU
,

192 
c_m_vCb_uCabs3_g
, 
NULL


197 
CTC_VAR_OP_GET
,

198 
CTC_VAR_TARGET_ONU
,

199 
c_m_vCb_uPowSavgCabs_g
, 
NULL


204 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

205 
CTC_VAR_TARGET_ONU
,

206 
c_m_vCb_uPowSavgCfig_g
, 
c_m_vCb_uPowSavgCfig_t


211 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

212 
CTC_VAR_TARGET_ONU
,

213 
c_m_vCb_uPreiPams_g
, 
c_m_vCb_uPreiPams_t


218 
CTC_VAR_OP_GET
,

219 
CTC_VAR_TARGET_UNIPORT
,

220 
c_m_vCb_hLkS_g
, 
NULL


222 #ide
CONFIG_PRODUCT_5500


226 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

227 
CTC_VAR_TARGET_UNIPORT
,

228 
c_m_vCb_hPtPau_g
, 
c_m_vCb_hPtPau_t


233 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

234 
CTC_VAR_TARGET_UNIPORT
,

235 
c_m_vCb_hPtUsPicg_g
, 
c_m_vCb_hPtUsPicg_t


240 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

241 
CTC_VAR_TARGET_UNIPORT
,

242 
c_m_vCb_hPtDsPicg_g
, 
c_m_vCb_hPtDsPicg_t


244 #ifde
CONFIG_LOOPD


248 
CTC_VAR_OP_SET
,

249 
CTC_VAR_TARGET_UNIPORT
,

250 
NULL
, 
c_m_vCb_ptLoDe_t


256 
CTC_VAR_OP_SET
 | CTC_VAR_OP_SET,

257 
CTC_VAR_TARGET_UNIPORT
,

258 
c_m_vCb_ptMacAggTime_g
, 
c_m_vCb_ptMacAggTime_t


263 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

264 
CTC_VAR_TARGET_UNIPORT
,

265 
c_m_vCb_vn_g
, 
c_m_vCb_vn_t


270 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

271 
CTC_VAR_TARGET_UNIPORT
,

272 
c_m_vCb_lssifitiMkg_g
, 
c_m_vCb_lssifitiMkg_t


277 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

278 
CTC_VAR_TARGET_MULTICAST
,

279 
c_m_vCb_addDMuiVn_g
, 
c_m_vCb_addDMuiVn_t


284 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

285 
CTC_VAR_TARGET_MULTICAST
,

286 
c_m_vCb_muiTagOr_g
, 
c_m_vCb_muiTagOr_t


291 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

292 
CTC_VAR_TARGET_MULTICAST
,

293 
c_m_vCb_muiSwch_g
, 
c_m_vCb_muiSwch_t


298 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

299 
CTC_VAR_TARGET_MULTICAST
,

300 
c_m_vCb_muiCڌ_g
, 
c_m_vCb_muiCڌ_t


305 
CTC_VAR_OP_GET
 | 
CTC_VAR_OP_SET
,

306 
CTC_VAR_TARGET_MULTICAST
,

307 
c_m_vCb_groupNumMax_g
, 
c_m_vCb_groupNumMax_t


313 
CTC_VAR_OP_GET
,

314 
CTC_VAR_TARGET_MULTICAST
,

315 
c_m_vCb_aFaLveAby_g
, 
NULL


320 
CTC_VAR_OP_GET
,

321 
CTC_VAR_TARGET_MULTICAST
,

322 
c_m_vCb_aFaLveAdmS_g
, 
NULL


327 
CTC_VAR_OP_SET
,

328 
CTC_VAR_TARGET_ONU
,

329 
NULL
, 
c_m_vCb_mAdm_t


334 
CTC_VAR_OP_SET
,

335 
CTC_VAR_TARGET_ONU
,

336 
NULL
, 
c_m_vCb_pif_mThshd_t


341 
CTC_VAR_OP_SET
,

342 
CTC_VAR_TARGET_ONU
,

343 
m_huawei__mgmt_vn_oss
, 
NULL


348 
CTC_VAR_OP_SET
,

349 
CTC_VAR_TARGET_UNIPORT
,

350 
NULL
, 
c_m_vCb_hPtmode_t


355 
CTC_VAR_OP_GET
,

356 
CTC_VAR_TARGET_UNIPORT
,

357 
c_m_vCb_hPtStiic_g
, 
NULL


364 
NULL
, NULL

369 
c_vCb_t
 
	gc_extACb
[] = {

379 
CTC_VAR_OP_SET
,

380 
CTC_VAR_TARGET_ONU
,

381 
NULL
, 
c_m_vCb_tOnu_t


383 #ide
CONFIG_PRODUCT_5500


387 
CTC_VAR_OP_SET
,

388 
CTC_VAR_TARGET_ONU
,

389 
NULL
, 
c_m_vCb_acFaLveAdmCڌ_t


397 
NULL
, NULL

	@user/drv_lw.c

5 #ifde 
__lulus


9 
	~<sys/tys.h
>

10 
	~<dio.h
>

11 
	~<dlib.h
>

12 
	~<o.h
>

13 
	~<sigl.h
>

14 
	~<unid.h
>

15 
	~<had.h
>

16 
	~<mhe.h
>

17 
	~<as.h
>

18 
	~<rg.h
>

20 
	~"lw_ty.h
"

21 
	~"lw_drv_pub.h
"

22 
	~"lw_drv_q.h
"

23 
	~"m.h
"

24 
	~"m_lw.h
"

25 
	~"drv_lw.h
"

27 
UINT32
 
m_mڙ_pt
 = 
MONITOR_PORT_DEFAULT_VALUE
;

28 
logic_pmask_t
 
m__mr_lmask
 = {0x00};

29 
logic_pmask_t
 
m_out_mr_lmask
 = {0x00};

31 
UINT8
 
g_bPLos
;

34 
UCHAR
 
	gg_aucOnuMac
[
MAC_ADDR_LEN
];

35 
UINT8
 
	gg_bLightAlways
 = 
FALSE
;

36 
ONU_BOARD_TYPE_E
 
	gg_OnuBrdTy
 = 
ONU_BORAD_TYPE_EPN104
;

37 #i
defed
(
CONFIG_PRODUCT_EPN200
|| defed(
CONFIG_PRODUCT_EPN101R
|| defed(
CONFIG_PRODUCT_EPN101ZG
)

38 
BOOL_T
 
	gm_abAutoNegEb
[
CTC_MAX_SUBPORT_NUM
 + 1] = {
BOOL_TRUE
, BOOL_TRUE};

40 
BOOL_T
 
	gm_abAutoNegEb
[
CTC_MAX_SUBPORT_NUM
 + 1] = {
BOOL_TRUE
, BOOL_TRUE, BOOL_TRUE, BOOL_TRUE, BOOL_TRUE};

43 
	#dg_tf
 
tf


	)

45 
	#dg_tf
(
fmt
, ...)

	)

49 
PORT_CFG_S
 
	gg_aPtCfg
[
MAX_PORT_NUM
+1];

52 
had_mux_t
 
	gm_DrvCfgMux
;

54 
	#DRV_CFGLOCK
 
	`had_mux_lock
(&
m_DrvCfgMux
)

	)

55 
	#DRV_CFGUNLOCK
 
	`had_mux_uock
(&
m_DrvCfgMux
)

	)

57 
BOOL
 
CTC_CheckVidVidFMcTni
(
UINT32
 
vnId
);

59 
MuxCe
(
had_mux_t
 *
mux
)

61 
had_mux_t
 
	g
;

62 
had_mux_
(&

);

63 
	g
.
	g__muxkd
 = 
PTHREAD_MUTEX_RECURSIVE_NP
;

64  
had_mux_
(
mux
, &

);

66 
	#MAX_ACL_FILTER_NUM
 32

	)

68 
INT32
 
CTC_DRV_GVnIdAndPri
(
UINT32
 
uiVnTag
, UINT32 *
puiVnId
, UINT32 *
puiPri
);

72 
PORT_QINQ_S
 
	gg_aUniQqMode
[
MAX_PORT_NUM
+1];

75 
	gg_adPow
[100][2] = {

182 
VOID
 
InPtCfg
(
PORT_CFG_S
 *
psPtCfg
)

184 
USHORT
 
	gi
 = 0;

186 if(
	gNULL
 =
psPtCfg
)

191 
MEM_SET_ZERO
(
psPtCfg
, (
PORT_CFG_S
));

193 
	gi
 = 1; i <
MAX_PORT_NUM
; i++)

195 
	gpsPtCfg
[
i
].
	gucPtEb
 = 
ENABLE
;

196 
	gpsPtCfg
[
i
].
	gucSed
 = 
PORT_SPEED_AUTO
;

197 
	gpsPtCfg
[
i
].
	gucDuex
 = 
PORT_DUPLEX_AUTO
;

198 
	gpsPtCfg
[
i
].
	gucMdi
 = 
PORT_MDI_AUTO
;

199 
	gpsPtCfg
[
i
].
	gucFlowCl
 = 
PORT_FLOWCTRL_DISABLE
;

200 
	gpsPtCfg
[
i
].
	gulLeReIn
 = 0;

201 
	gpsPtCfg
[
i
].
	gulLeReOut
 = 0;

202 
	gpsPtCfg
[
i
].
	gucIsީeEb
 = 
DISABLE
;

203 
	gpsPtCfg
[
i
].
	gucLkTy
 = 
LINK_TYPE_ACCESS
;

204 
	gpsPtCfg
[
i
].
	gusPvid
 = 
DEFAULT_VID
;

205 
	gpsPtCfg
[
i
].
	gucVnPri
 = 0;

207 
	gpsPtCfg
[
i
].
	gulQosTruMode
 = 
QOS_COS
;

217 
INT32
 
DRV_LwIn
()

219 
INT32
 
	gtV
;

221 
	gtV
 = 
MuxCe
(&
m_DrvCfgMux
);

222 i(0 !
tV
)

224  
ERROR
;

228 
InPtCfg
(
g_aPtCfg
);

230 (
	gVOID
)
Drv_SwchIn
();

232  
	gNO_ERROR
;

234 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

238 
INT32
 
_CTC_GUniCfiguti

UCHAR
 
ucUniPtId
, 
PORT_CFG_S
 *
pUniCf
 )

243 
	gDRV_CFGLOCK
;

245 *
	gpUniCf
 = 
g_aPtCfg
[
ucUniPtId
];

246 
	gDRV_CFGUNLOCK
;

248  
	gNO_ERROR
;

256 
INT32
 
_CTC_GPtVnModeCfg
(
UINT32
 
uiLPtId
, 
CTC_VLAN_CFG_S
 *
pCtcVnMode
)

258 i((!
IsVidLgcPt
(
uiLPtId
)) ||

259 (
	gNULL
 =
pCtcVnMode
))

261 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

262  
	gERROR
;

265 i(
	gDRV_OK
 !
Iol_c_g_a_ru
(
uiLPtId
, 
pCtcVnMode
))

267 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

268  
	gERROR
;

271  
	gNO_ERROR
;

279 
INT32
 
_CTC_SPtVnModeCfg
(
UINT32
 
uiLPtId
, 
CTC_VLAN_CFG_S
 *
pCtcVnMode
)

282 i((!
IsVidLgcPt
(
uiLPtId
)) ||

283 (
	gNULL
 =
pCtcVnMode
))

285  
ERROR
;

288 i(
	gDRV_OK
 !
Iol_c_t_a_ru
(
uiLPtId
, 
pCtcVnMode
))

290 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

291  
	gERROR
;

294  
	gNO_ERROR
;

303 
INT32
 
_CTC_AddVtuPtMem
(
UINT32
 
uiLPt
, UINT32 
uiVnId
, 
CTC_VLAN_MEM_E
 
TagMode
)

305 
INT32
 
	giR
 = 
NO_ERROR
;

306 
logic_pmask_t
 
	gLMask
, 
	gUagLMsk
;

308 i(!
IsVidLgcPt
(
uiLPt
) ||

309 (
	gVLAN_MEM_END
 <
TagMode
) ||

310 ((
VLAN_ID_0
 !
uiVnId
&& !
VALID_VLAN_ID
(uiVlanId)))

312 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

313  
	gERROR
;

316 
CLgcMaskA
(&
LMask
);

317 
CLgcMaskA
(&
UagLMsk
);

319 
	gTagMode
)

321 
	gVLAN_MEM_UNTAG
:

322 
SLgcMaskB
(
uiLPt
, &
LMask
);

323 
SLgcMaskB
(
uiLPt
, &
UagLMsk
);

325 
	gVLAN_MEM_TAG
:

326 
SLgcMaskB
(
uiLPt
, &
LMask
);

328 
	gVLAN_MEM_NO
:

329 
CLgcMaskB
(
uiLPt
, &
LMask
);

330 
CLgcMaskB
(
uiLPt
, &
UagLMsk
);

336 
	giR
 = 
Iol_SVnMembAdd
(
uiVnId
, 
LMask
, 
UagLMsk
);

337 i(
	gDRV_OK
 !
iR
)

339 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

340  
	gDRV_ERR_UNKNOW
;

343  
	gNO_ERROR
;

350 
INT32
 
_CTC_DVtuPtMem
(
UINT32
 
uiLPt
, UINT32 
uiVnId
)

352 
INT32
 
	giR
 = 
NO_ERROR
;

353 
logic_pmask_t
 
	gLMask
;

355 i(!
IsVidLgcPt
(
uiLPt
) ||

356 ((
	gVLAN_ID_0
 !
uiVnId
&& !
VALID_VLAN_ID
(uiVlanId)))

358 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

359  
	gERROR
;

362 
CLgcMaskA
(&
LMask
);

363 
SLgcMaskB
(
uiLPt
, &
LMask
);

365 
	giR
 = 
Iol_SVnMembRemove
(
uiVnId
, 
LMask
);

366 i(
	gDRV_OK
 !
iR
)

368 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

369  
	gDRV_ERR_UNKNOW
;

372  
	gNO_ERROR
;

378 
INT32
 
_CTC_AddVtuPtMemFCtcVn
(
UINT32
 
uiLPtId
, UINT32 
uiVnId
, UINT32 
uiPri
, 
CTC_VLAN_MEM_E
 
Memsh
)

380 
UINT32
 
	guiPtIndex
 = 0;

381 
INT32
 
	giR
 = 
NO_ERROR
;

382 
logic_pmask_t
 
	gLMask
, 
	gUagLMsk
;

383 
CTC_VLAN_CFG_S
 
	gVnMode
;

385 i(!
IsVidLgcPt
(
uiLPtId
) ||

386 !
VALID_VLAN_ID
(
uiVnId
) ||

387 (
	gVLAN_MEM_END
 <
Memsh
))

389  
ERROR
;

393 
	guiPri
 = 
uiPri
;

395 
CLgcMaskA
(&
LMask
);

396 
CLgcMaskA
(&
UagLMsk
);

398 
SLgcMaskB
(
LOGIC_PON_PORT
, &
LMask
);

400 
	gMemsh
)

402 
	gVLAN_MEM_UNTAG
:

403 
SLgcMaskB
(
uiLPtId
, &
LMask
);

404 
SLgcMaskB
(
uiLPtId
, &
UagLMsk
);

406 
	gVLAN_MEM_TAG
:

407 
SLgcMaskB
(
uiLPtId
, &
LMask
);

409 
	gVLAN_MEM_NO
:

410 
CLgcMaskB
(
uiLPtId
, &
LMask
);

411 
CLgcMaskB
(
uiLPtId
, &
UagLMsk
);

417 
LgcPtF
(
uiPtIndex
)

419 i(
	guiPtIndex
 =
uiLPtId
)

424 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiPtIndex
, &
VnMode
);

425 i(
	gNO_ERROR
 !
iR
)

427 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

428  
	gERROR
;

431 i((
	gCTC_VLAN_MODE_TRANSPARENT
 =
VnMode
.
mode
) ||

432 (
CTC_VLAN_MODE_QINQ
 =
VnMode
.
mode
))

434 
SLgcMaskB
(
uiPtIndex
, &
LMask
);

438 
	giR
 = 
Iol_SVnMembAdd
(
uiVnId
, 
LMask
, 
UagLMsk
);

439 i(
	gDRV_OK
 !
iR
)

441 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

442  
	gDRV_ERR_UNKNOW
;

445  
	gNO_ERROR
;

451 
INT32
 
_CTC_DVtuPtMemFCtcVn
(
UINT32
 
uiLPtId
, UINT32 
uiVnId
)

453 
UINT32
 
	guiPtIndex
 = 0;

454 
INT32
 
	giR
 = 
NO_ERROR
;

455 
INT32
 
	giFg
 = 
FALSE
;

456 
logic_pmask_t
 
	gLMask
;

457 
CTC_VLAN_CFG_S
 
	gVnMode
;

459 i(!
IsVidLgcPt
(
uiLPtId
|| !
VALID_VLAN_ID
(
uiVnId
))

461  
	gERROR
;

465 
LgcPtF
(
uiPtIndex
)

467 i(
	guiPtIndex
 =
uiLPtId
)

472 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiPtIndex
, &
VnMode
);

473 i(
	gNO_ERROR
 !
iR
)

475 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

476  
	gERROR
;

480 i((
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
) ||

481 (
CTC_VLAN_MODE_QINQ
 =
VnMode
.
mode
))

483 i(
CTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

487 i(
uiVnId
 =
VnMode
.
deu_vn
)

489 
iFg
 = 
TRUE
;

493 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

495 
INT32
 
iFgTmp
 = 
FALSE
;

497 
UINT32
 
	gi
 = 0;

499 i(
	guiVnId
 =
VnMode
.
deu_vn
)

501 
iFg
 = 
TRUE
;

505 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

507 i((
	guiVnId
 =
VnMode
.
vn_li
[
i
*2]) ||

508 (
uiVnId
 =
VnMode
.
vn_li
[(
i
*2) + 1]))

510 
iFgTmp
 = 
TRUE
;

515 i(
	gTRUE
 =
iFgTmp
)

517 
iFg
 = 
TRUE
;

524 i(
	gTRUE
 =
iFg
)

526 
CLgcMaskA
(&
LMask
);

527 
SLgcMaskB
(
uiLPtId
, &
LMask
);

529 i(
	gDRV_OK
 !
Iol_SVnMembRemove
(
uiVnId
, 
LMask
))

531 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

532  
	gERROR
;

538 i(
	gDRV_OK
 !
Iol_SVnEryDe
(
uiVnId
))

540 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

541  
	gERROR
;

545  
	gNO_ERROR
;

552 
INT32
 
_CTC_RetTagVn
(
UINT32
 
uiLPtId
)

554 
INT32
 
	giR
 = 
NO_ERROR
;

555 
UINT32
 
	guiPvid
 = 0;

556 
logic_pmask_t
 
	gLMask
;

557 
CTC_VLAN_CFG_S
 
	gVnMode
;

559 i(!
IsVidLgcPt
(
uiLPtId
))

561  
	gERROR
;

564 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

565 i(
	gNO_ERROR
 !
iR
)

567 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

568  
	gERROR
;

571 
	guiPvid
 = 
VnMode
.
deu_vn
;

572 
CLgcMaskA
(&
LMask
);

573 
SLgcMaskB
(
uiLPtId
, &
LMask
);

575 
	giR
 = 
Iol_c_d_pt_ba_vn_mem
(
uiPvid
, &
LMask
);

576 i(
	gDRV_OK
 !
iR
)

578 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

579  
	gERROR
;

582 
	giR
 = 
Iol_c_d_a_ru_f_g
(
uiLPtId
);

583 i(
	gDRV_OK
 !
iR
)

585 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

586  
	gERROR
;

589 
	giR
 = 
_CTC_DVtuPtMemFCtcVn
(
uiLPtId
, 
uiPvid
);

590 i(
	gNO_ERROR
 !
iR
)

592 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

593  
	gERROR
;

597 
	giR
 = 
Iol_c_r_pt_ba_vn_y_by_vid
(
uiPvid
);

598 i(
	gDRV_OK
 !
iR
)

600 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

601  
	gERROR
;

604  
	gNO_ERROR
;

611 
INT32
 
_CTC_RetTniVn
(
UINT32
 
uiLPtId
)

613 
INT32
 
	giR
 = 
NO_ERROR
;

614 
UINT32
 
	gi
 = 0;

615 
UINT32
 
	guiOldVid
 = 0;

616 
UINT32
 
	guiNewVid
 = 0;

617 
UINT32
 
	guiPvid
 = 0;

618 
logic_pmask_t
 
	gLMask
;

619 
CTC_VLAN_CFG_S
 
	gVnMode
;

621 i(!
IsVidLgcPt
(
uiLPtId
))

623  
	gERROR
;

626 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

627 i(
	gNO_ERROR
 !
iR
)

629 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

630  
	gERROR
;

633 
	guiPvid
 = 
VnMode
.
deu_vn
;

635 
CLgcMaskA
(&
LMask
);

636 
SLgcMaskB
(
uiLPtId
, &
LMask
);

638 
	giR
 = 
Iol_c_d_pt_ba_vn_mem
(
uiPvid
, &
LMask
);

639 i(
	gDRV_OK
 !
iR
)

641 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

642  
	gERROR
;

645 
	giR
 = 
Iol_c_d_a_ru_f_
(
uiLPtId
);

646 i(
	gDRV_OK
 !
iR
)

648 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

649  
	gERROR
;

653 
	giR
 = 
_CTC_DVtuPtMemFCtcVn
(
uiLPtId
, 
uiPvid
);

654 i(
	gNO_ERROR
 !
iR
)

656 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

657  
	gERROR
;

661 
	giR
 = 
Iol_c_r_pt_ba_vn_y_by_vid
(
uiPvid
);

662 i(
	gDRV_OK
 !
iR
)

664 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

665  
	gERROR
;

669 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

671 
	guiOldVid
 = 
VnMode
.
vn_li
[
i
*2];

672 
	guiNewVid
 = 
VnMode
.
vn_li
[(
i
*2) + 1];

674 
	giR
 = 
_CTC_DVtuPtMemFCtcVn
(
uiLPtId
, 
uiOldVid
);

675 i(
	gNO_ERROR
 !
iR
)

677 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

678  
	gERROR
;

681 
	giR
 = 
_CTC_DVtuPtMemFCtcVn
(
uiLPtId
, 
uiNewVid
);

682 i(
	gNO_ERROR
 !
iR
)

684 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

685  
	gERROR
;

689 
	giR
 = 
Iol_c_r_pt_ba_vn_y_by_vid
(
uiOldVid
);

690 i(
	gDRV_OK
 !
iR
)

692 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

693  
	gERROR
;

697 
	giR
 = 
Iol_c_r_pt_ba_vn_y_by_vid
(
uiNewVid
);

698 i(
	gDRV_OK
 !
iR
)

700 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

701  
	gERROR
;

705  
	gNO_ERROR
;

711 
INT32
 
_CTC_AddRervedVnMem
(
UINT32
 
uiLPtId
)

713 
INT32
 
	giR
;

714 
logic_pmask_t
 
	gLMask
;

717 i(!
IsVidLgcPt
(
uiLPtId
))

719  
	gERROR
;

724 
CLgcMaskA
(&
LMask
);

725 
SLgcMaskB
(
uiLPtId
, &
LMask
);

726 
	giR
 = 
Iol_c_add_pt_ba_vn_mem_by_id
(31, &
LMask
);

727 i(
	gNO_ERROR
 !
iR
)

729 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

730  
	gERROR
;

733  
	gNO_ERROR
;

740 
INT32
 
_CTC_DRervedVnMem
(
UINT32
 
uiLPtId
)

742 
INT32
 
	giR
;

743 
logic_pmask_t
 
	gLMask
;

746 i(!
IsVidLgcPt
(
uiLPtId
))

748  
	gERROR
;

753 
CLgcMaskA
(&
LMask
);

754 
SLgcMaskB
(
uiLPtId
, &
LMask
);

755 
	giR
 = 
Iol_c_d_pt_ba_vn_mem_by_id
(31, &
LMask
);

756 i(
	gNO_ERROR
 !
iR
)

758 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

759  
	gERROR
;

762  
	gNO_ERROR
;

768 
INT32
 
_CTC_RewVtuMemFTnPt
(
UINT32
 
uiLPtId
)

770 
INT32
 
	giR
 = 
NO_ERROR
;

771 
UINT32
 
	guiPtIndex
 = 0;

772 
CTC_VLAN_CFG_S
 
	gVnMode
;

774 i(!
IsVidLgcPt
(
uiLPtId
))

776  
	gERROR
;

779 
LgcPtF
(
uiPtIndex
)

781 i(
	guiPtIndex
 =
uiLPtId
)

786 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiPtIndex
, &
VnMode
);

787 i(
	gNO_ERROR
 !
iR
)

789 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

790  
	gERROR
;

794 i((
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
) ||

795 (
CTC_VLAN_MODE_QINQ
 =
VnMode
.
mode
))

797 i(
CTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

800 
iR
 = 
_CTC_AddVtuPtMem
(
uiLPtId
, 
VnMode
.
deu_vn
, 
VLAN_MEM_TAG
);

801 i(
	gNO_ERROR
 !
iR
)

803 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

804  
	gERROR
;

807 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

809 
UINT32
 
i
 = 0;

811 
	giR
 = 
_CTC_AddVtuPtMem
(
uiLPtId
, 
VnMode
.
deu_vn
, 
VLAN_MEM_TAG
);

812 i(
	gNO_ERROR
 !
iR
)

814 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

815  
	gERROR
;

818 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

820 
	giR
 = 
_CTC_AddVtuPtMem
(
uiLPtId
, 
VnMode
.
vn_li
[
i
*2], 
VLAN_MEM_TAG
);

821 i(
	gNO_ERROR
 !
iR
)

823 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

824  
	gERROR
;

827 
	giR
 = 
_CTC_AddVtuPtMem
(
uiLPtId
, 
VnMode
.
vn_li
[(
i
*2+ 1], 
VLAN_MEM_TAG
);

828 i(
	gNO_ERROR
 !
iR
)

830 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

831  
	gERROR
;

837  
	gNO_ERROR
;

843 
INT32
 
_CTC_DVtuMemFTnPt
(
UINT32
 
uiLPtId
)

845 
INT32
 
	giR
 = 
NO_ERROR
;

846 
UINT32
 
	guiPtIndex
 = 0;

847 
CTC_VLAN_CFG_S
 
	gVnMode
;

849 i(!
IsVidLgcPt
(
uiLPtId
))

851  
	gERROR
;

854 
LgcPtF
(
uiPtIndex
)

856 i(
	guiPtIndex
 =
uiLPtId
)

861 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiPtIndex
, &
VnMode
);

862 i(
	gNO_ERROR
 !
iR
)

864 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

865  
	gERROR
;

869 i((
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
) ||

870 (
CTC_VLAN_MODE_QINQ
 =
VnMode
.
mode
))

872 i(
CTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

875 
iR
 = 
_CTC_DVtuPtMem
(
uiLPtId
, 
VnMode
.
deu_vn
);

876 i(
	gNO_ERROR
 !
iR
)

878 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

879  
	gERROR
;

882 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

884 
UINT32
 
i
 = 0;

886 
	giR
 = 
_CTC_DVtuPtMem
(
uiLPtId
, 
VnMode
.
deu_vn
);

887 i(
	gNO_ERROR
 !
iR
)

889 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

890  
	gERROR
;

893 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

895 
	giR
 = 
_CTC_DVtuPtMem
(
uiLPtId
, 
VnMode
.
vn_li
[
i
*2]);

896 i(
	gNO_ERROR
 !
iR
)

898 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

899  
	gERROR
;

902 
	giR
 = 
_CTC_DVtuPtMem
(
uiLPtId
, 
VnMode
.
vn_li
[(
i
*2) + 1]);

903 i(
	gNO_ERROR
 !
iR
)

905 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

906  
	gERROR
;

912  
	gNO_ERROR
;

919 
BOOL
 
_CTC_CheckVidFTagMode
(
UINT32
 
uiLPtId
, UINT32 
uiVnId
)

921 
UINT32
 
	guiLPtIndex
;

922 
CTC_VLAN_CFG_S
 
	gVnMode
;

924 i((!
IsVidLgcPt
(
uiLPtId
)|| (!
VALID_VLAN_ID
(
uiVnId
)))

926  
	gFALSE
;

932 
mcVnExi
(
UINT32
 
vnId
);

933 i(1 =
mcVnExi
(
uiVnId
))

935  
FALSE
;

942 i(
	gFALSE
 =
CTC_CheckVidVidFMcTni
(
uiVnId
))

944  
FALSE
;

948 
LgcPtF
(
uiLPtIndex
)

950 i(
	guiLPtIndex
 =
uiLPtId
)

955 (
	gVOID
)
_CTC_GPtVnModeCfg
(
uiLPtIndex
, &
VnMode
);

956 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

958 
UINT32
 
uiVnIndex
 = 0;

960 
	guiVnIndex
 = 0; uiVnIndex < 
	gVnMode
.
	gnumb_of_s
; uiVlanIndex++)

963 i((
	gVnMode
.
	gvn_li
[
uiVnIndex
*2] !
VnMode
.
vn_li
[uiVlanIndex*2 + 1]) &&

964 ((
uiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2]) ||

965 (
uiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2 + 1])))

967  
FALSE
;

973  
	gTRUE
;

979 
BOOL
 
_CTC_HaveEnoughEmyRus
(
UINT32
 
uiIdNum
)

981 
INT32
 
	giR
;

982 
UINT32
 
	guiAEmyNum
 = 0;

984 
	giR
 = 
Iol_c_g_emy_a_num
(&
uiAEmyNum
);

985 i(
	gDRV_OK
 !
iR
)

987  
FALSE
;

990 i(
	guiIdNum
 > 
	guiAEmyNum
)

992 
dg_tf
("\nWed %dus,ndhly %dmyuˠaved.\n", 
uiIdNum
,
uiAEmyNum
);

993  
	gFALSE
;

996  
	gTRUE
;

1003 
BOOL
 
_CTC_CheckVnFTniMode
(
UINT32
 
uiLPtId
, UINT32 
uiDefVn
, UINT32 
uiVnEryNum
, UINT32 *
pVnLi
)

1005 
UINT32
 
	gi
;

1006 
UINT32
 
	guiLPtIndex
;

1007 
UINT32
 
	guiVnIndex
;

1008 
UINT32
 
	guiOldVnIndex
;

1009 
UINT32
 
	guiNewVnIndex
;

1010 
CTC_VLAN_CFG_S
 
	gVnMode
;

1012 i((!
IsVidLgcPt
(
uiLPtId
)) ||

1013 (!
VALID_VLAN_ID
(
uiDefVn
)) ||

1014 (
	gNULL
 =
pVnLi
))

1016  
FALSE
;

1022 
mcVnExi
(
UINT32
 
vnId
);

1023 i(1 =
mcVnExi
(
uiDefVn
))

1025  
FALSE
;

1028 
	guiVnIndex
 = 0; uiVnIndex < 
	guiVnEryNum
; uiVlanIndex++)

1030 
	guiOldVnIndex
 = 
uiVnIndex
 << 1;

1031 
	guiNewVnIndex
 = (
uiVnIndex
 << 1) + 1;

1032 i((1 =
mcVnExi
(
pVnLi
[
uiOldVnIndex
])) ||

1033 (1 =
mcVnExi
(
pVnLi
[
uiNewVnIndex
])))

1035  
FALSE
;

1042 if(
	gFALSE
 =
CTC_CheckVidVidFMcTni
(
uiDefVn
))

1044  
FALSE
;

1047 
	guiVnIndex
 = 0; uiVnIndex < 
	guiVnEryNum
; uiVlanIndex++)

1049 
	guiOldVnIndex
 = 
uiVnIndex
 << 1;

1050 
	guiNewVnIndex
 = (
uiVnIndex
 << 1) + 1;

1051 i(
	gFALSE
 =
CTC_CheckVidVidFMcTni
(
pVnLi
[
uiOldVnIndex
]) ||

1052 
FALSE
 =
CTC_CheckVidVidFMcTni
(
pVnLi
[
uiNewVnIndex
]))

1054  
FALSE
;

1060 
LgcPtF
(
uiLPtIndex
)

1062 i(
	guiLPtIndex
 =
uiLPtId
)

1064 
UINT32
 
uiOldIndex
;

1065 
UINT32
 
	guiNewIndex
;

1067 
	guiVnIndex
 = 0; uiVnIndex < 
	guiVnEryNum
; uiVlanIndex++)

1069 
	guiOldVnIndex
 = 
uiVnIndex
 << 1;

1070 
	guiNewVnIndex
 = (
uiVnIndex
 << 1) + 1;

1074 i(
	gpVnLi
[
uiOldVnIndex
] !
pVnLi
[
uiNewVnIndex
])

1076 i((
uiDefVn
 =
pVnLi
[
uiOldVnIndex
]) ||

1077 (
uiDefVn
 =
pVnLi
[
uiNewVnIndex
]))

1079 
dg_tf
("%%d\n", 
__FUNCTION__
, 
__LINE__
);

1080  
	gFALSE
;

1085 
	gi
 = (
uiVnIndex
 + 1); i < 
	guiVnEryNum
; i++)

1087 
	guiOldIndex
 = 
i
*2;

1088 
	guiNewIndex
 = (
i
*2) + 1;

1090 i((
	gpVnLi
[
uiOldVnIndex
] =
pVnLi
[
uiOldIndex
]) ||

1091 (
pVnLi
[
uiOldVnIndex
] =pVnLi[
uiNewIndex
]) ||

1092 (
pVnLi
[
uiNewVnIndex
] =pVnLi[
uiOldIndex
]) ||

1093 (
pVnLi
[
uiNewVnIndex
] =pVnLi[
uiNewIndex
]))

1095  
FALSE
;

1103 (
	gVOID
)
_CTC_GPtVnModeCfg
(
uiLPtIndex
, &
VnMode
);

1104 i((
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
) ||

1105 (
CTC_VLAN_MODE_QINQ
 =
VnMode
.
mode
))

1107 
uiVnIndex
 = 0; 
	guiVnIndex
 < 
	guiVnEryNum
; uiVlanIndex++)

1109 
	guiOldVnIndex
 = 
uiVnIndex
*2;

1110 
	guiNewVnIndex
 = (
uiVnIndex
*2) + 1;

1113 i((
	gpVnLi
[
uiOldVnIndex
] !
pVnLi
[
uiNewVnIndex
]) &&

1114 ((
pVnLi
[
uiOldVnIndex
] =
VnMode
.
deu_vn
) ||

1115 (
pVnLi
[
uiNewVnIndex
] =
VnMode
.
deu_vn
)))

1117  
FALSE
;

1121 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

1123 
UINT32
 
uiOldIndex
;

1124 
UINT32
 
	guiNewIndex
;

1126 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

1128 
	guiOldIndex
 = 
i
*2;

1129 
	guiNewIndex
 = (
i
*2) + 1;

1131 i((
	gVnMode
.
	gvn_li
[
uiOldIndex
] !
VnMode
.
vn_li
[
uiNewIndex
]) &&

1132 ((
uiDefVn
 =
VnMode
.
vn_li
[
uiOldIndex
]) ||

1133 (
uiDefVn
 =
VnMode
.
vn_li
[
uiNewIndex
])))

1135  
FALSE
;

1139 
	guiVnIndex
 = 0; uiVnIndex < 
	guiVnEryNum
; uiVlanIndex++)

1141 
	guiOldVnIndex
 = 
uiVnIndex
*2;

1142 
	guiNewVnIndex
 = (
uiVnIndex
*2) + 1;

1145 i((
	gpVnLi
[
uiOldVnIndex
] !
pVnLi
[
uiNewVnIndex
]) &&

1146 ((
pVnLi
[
uiOldVnIndex
] =
VnMode
.
deu_vn
) ||

1147 (
pVnLi
[
uiNewVnIndex
] =
VnMode
.
deu_vn
)))

1149  
FALSE
;

1152 
	gi
 = 0; i < 
	gVnMode
.
	gnumb_of_s
; i++)

1154 
	guiOldIndex
 = 
i
*2;

1155 
	guiNewIndex
 = (
i
*2) + 1;

1159 i(((
	gpVnLi
[
uiOldVnIndex
] =
VnMode
.
vn_li
[
uiOldIndex
]) &&

1160 (
pVnLi
[
uiNewVnIndex
] !
VnMode
.
vn_li
[
uiNewIndex
])) ||

1161 ((
pVnLi
[
uiOldVnIndex
] !
VnMode
.
vn_li
[
uiOldIndex
]) &&

1162 (
pVnLi
[
uiNewVnIndex
] =
VnMode
.
vn_li
[
uiNewIndex
])))

1164  
FALSE
;

1167 i(
	gpVnLi
[
uiOldVnIndex
] =
VnMode
.
vn_li
[
uiNewIndex
])

1171 i(!((
pVnLi
[
uiOldVnIndex
] =pVnLi[
uiNewVnIndex
]) &&

1172 (
VnMode
.
vn_li
[
uiOldIndex
] =VnMode.vn_li[
uiNewIndex
])))

1174  
FALSE
;

1181 i(
	gpVnLi
[
uiNewVnIndex
] =
VnMode
.
vn_li
[
uiOldIndex
])

1183  
FALSE
;

1191  
	gTRUE
;

1198 
BOOL
 
_CTC_CheckAFCtcTnVn
(
UINT32
 
uiLPtId
, UINT32 
uiPvid
, UINT32 *
puiVnLi
, UINT32 
uiVnLiEry
)

1200 
INT32
 
	giR
;

1201 
UINT32
 
	guiANum
;

1202 
UINT32
 
	guiPvidRuNum
 = 0;

1203 
UINT32
 
	guiTnsRuNum
 = 0;

1204 
UINT32
 
	gi
;

1205 
CTC_VLAN_CFG_S
 
	gVnMode
;

1207 i((!
IsVidLgcPt
(
uiLPtId
)) ||

1208 (!
VALID_VLAN_ID
(
uiPvid
)) ||

1209 (
	gNULL
 =
puiVnLi
))

1211  
FALSE
;

1214 
	gi
 = 0; i < 
	guiVnLiEry
; i++)

1217 i((
	gpuiVnLi
[
i
*2] =
puiVnLi
[i*2 + 1]) &&

1218 (
uiPvid
 =
puiVnLi
[
i
*2]))

1224 
	guiTnsRuNum
 += 2;

1227 i(
	gpuiVnLi
[
i
*2] !
puiVnLi
[i*2 + 1])

1229 
uiTnsRuNum
++;

1234 
	guiPvidRuNum
 = 2;

1235 
	guiANum
 = 
uiPvidRuNum
 + 
uiTnsRuNum
;

1237 (
	gVOID
)
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

1242 i(
	guiANum
 > 
	gVnMode
.
	gnumb_of_a_rus
)

1244 
	guiANum
 -
VnMode
.
numb_of_a_rus
;

1245 
	giR
 = 
_CTC_HaveEnoughEmyRus
(
uiANum
);

1246 i(
	gFALSE
 =
iR
)

1248  
FALSE
;

1252  
	gTRUE
;

1270 
INT32
 
_CTC_SUniQosTruModeCfg
(
ULONG
 
ulLPt
, ULONG 
ulQosTruMode
)

1274 
	gDRV_CFGLOCK
;

1275 
	gg_aPtCfg
[
ulLPt
].
	gulQosTruMode
 = 
ulQosTruMode
;

1276 
	gDRV_CFGUNLOCK
;

1278  
	gNO_ERROR
;

1296 
INT32
 
_CTC_GUniQosTruModeCfg
(
ULONG
 
ulLPt
, ULONG *
pulQosTruMode
)

1299 
	gDRV_CFGLOCK
;

1300 *
	gpulQosTruMode
 = 
g_aPtCfg
[
ulLPt
].
ulQosTruMode
;

1301 
	gDRV_CFGUNLOCK
;

1303  
	gNO_ERROR
;

1323 
INT32
 
CTC_DRV_STntVn
(
UINT32
 
uiLPtId
)

1325 
INT32
 
	giR
 = 
NO_ERROR
;

1326 
CTC_VLAN_CFG_S
 
	gVnMode
;

1328 i(!
IsVidLgcPt
(
uiLPtId
))

1330  
	gERROR
;

1333 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

1334 i(
	gNO_ERROR
 !
iR
)

1336 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1337  
	gERROR
;

1340 i(
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

1342 
iR
 = 
Iol_c_d_a_ru_f_g
(
uiLPtId
);

1343 i(
	gDRV_OK
 !
iR
)

1345 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1346  
	gERROR
;

1349 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

1352 
ULONG
 
ulQosTruMode
;

1353 ()
_CTC_GUniQosTruModeCfg
(
uiLPtId
, &
ulQosTruMode
);

1355 i(
	gQOS_DSCP
 !
ulQosTruMode
)

1357 i(
DRV_OK
 !
Iol_SQosTruMode
(
ulQosTruMode
))

1359 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1360  
	gERROR
;

1364 
	giR
 = 
Iol_c_d_a_ru_f_
(
uiLPtId
);

1365 i(
	gDRV_OK
 !
iR
)

1367 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1368  
	gERROR
;

1371 
	gVnMode
.
	gnumb_of_s
 = 0;

1373 i(
	gCTC_VLAN_MODE_TRANSPARENT
 =
VnMode
.
mode
)

1375  
NO_ERROR
;

1378 
memt
(&
VnMode
,0,(stVlanMode));

1379 
	gVnMode
.
	gmode
 = 
CTC_VLAN_MODE_TRANSPARENT
;

1380 
	giR
 = 
Iol_c_add_a_ru_f_
(
uiLPtId
, 
VnMode
);

1381 i(
	gDRV_OK
 !
iR
)

1383 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1384  
	gERROR
;

1387  
	gNO_ERROR
;

1394 
INT32
 
CTC_DRV_RetTntVn
(
UINT32
 
uiLPtId
)

1396 
INT32
 
	giR
 = 
NO_ERROR
;

1399 i(!
IsVidLgcPt
(
uiLPtId
))

1401  
	gERROR
;

1404 
	giR
 = 
Iol_c_d_a_ru_f_
(
uiLPtId
);

1405 i(
	gDRV_OK
 !
iR
)

1407 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1408  
	gERROR
;

1411  
	gNO_ERROR
;

1413 
INT32
 
CTC_DRV_STagVn
(
UINT32
 
uiLPtId
, UINT32 
uiPvid
, UINT32 
uiPriܙy
)

1415 
INT32
 
	giR
 = 
NO_ERROR
;

1416 
CTC_VLAN_CFG_S
 
	gVnMode
;

1418 i((!
IsVidLgcPt
(
uiLPtId
)|| (!
VALID_VLAN_ID
(
uiPvid
)))

1420  
	gERROR
;

1423 
	giR
 = 
_CTC_CheckVidFTagMode
(
uiLPtId
, 
uiPvid
);

1424 i(
	gFALSE
 =
iR
)

1426 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1427  
	gERROR
;

1429 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

1430 i(
	gNO_ERROR
 !
iR
)

1432 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1433  
	gERROR
;

1436 if((
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
) &&

1437 (
VnMode
.
deu_vn
 =
uiPvid
) &&

1438 (
VnMode
.
uiPriܙy
 == uiPriority))

1440  
NO_ERROR
;

1443 
	giR
 = 
CTC_DRV_STntVn
(
uiLPtId
);

1444 i(
	gNO_ERROR
 !
iR
)

1446 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1447  
	gERROR
;

1450 
	giR
 = 
CTC_DRV_RetTntVn
(
uiLPtId
);

1451 i(
	gNO_ERROR
 !
iR
)

1453 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1454  
	gERROR
;

1457 
memt
(&
VnMode
, 0, (stVlanMode));

1458 
	gVnMode
.
	gdeu_vn
 = 
uiPvid
;

1459 
	gVnMode
.
	gmode
 = 
CTC_VLAN_MODE_TAG
;

1460 
	gVnMode
.
	gnumb_of_s
 = 0;

1461 
	gVnMode
.
	guiPriܙy
 = 
uiPriܙy
;

1463 
	giR
 = 
Iol_c_add_a_ru_f_g
(
uiLPtId
, 
VnMode
);

1464 i(
	gDRV_OK
 !
iR
)

1466 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1467  
	gERROR
;

1470  
	gNO_ERROR
;

1478 
CTC_VLAN_MODE_E
 
	gc_vn_mode
 = 
CTC_VLAN_MODE_TRANSPARENT
;

1480 
INT32
 
CTC_DRV_STniVn
(
UINT32
 
uiLPtId
, UINT32 
uiVnTag
,

1481 
UINT32
 *
puiVnLi
, UINT32 
uiVnLiEry
, 
CTC_VLAN_MODE_E
 
mode
)

1483 
INT32
 
	giR
 = 
NO_ERROR
;

1484 
UINT32
 
	gi
 = 0;

1485 
UINT32
 
	guiPvid
;

1486 
UINT32
 
	guiPriܙy
;

1487 
UINT32
 
	guiOldVn
;

1488 
UINT32
 
	guiNewVn
;

1489 
UINT32
 
	guiQosTruMode
;

1490 
CTC_VLAN_CFG_S
 
	gVnMode
;

1491 
CTC_VLAN_CFG_S
 
	gOldVnMode
;

1493 
	gc_vn_mode
 = 
mode
;

1494 i((!
IsVidLgcPt
(
uiLPtId
)|| (
	gNULL
 =
puiVnLi
))

1496 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1497  
	gERROR
;

1500 
	giR
 = 
CTC_DRV_GVnIdAndPri
(
uiVnTag
, &
uiPvid
, &
uiPriܙy
);

1501 i(
	gNO_ERROR
 !
iR
)

1503 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1504  
	gERROR
;

1509 
	giR
 = 
_CTC_CheckVnFTniMode
(
uiLPtId
, 
uiPvid
, 
uiVnLiEry
, 
puiVnLi
);

1510 i(
	gFALSE
 =
iR
)

1512 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1513  
	gERROR
;

1516 
	giR
 = 
CTC_DRV_STntVn
(
uiLPtId
);

1517 i(
	gNO_ERROR
 !
iR
)

1519 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1520  
	gERROR
;

1523 
	giR
 = 
CTC_DRV_RetTntVn
(
uiLPtId
);

1524 i(
	gNO_ERROR
 !
iR
)

1526 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1527  
	gERROR
;

1530 ()
_CTC_GUniQosTruModeCfg
((
ULONG
)
uiLPtId
, (ULONG *)&
uiQosTruMode
);

1533 i(
	gQOS_DSCP
 !
uiQosTruMode
)

1535 i(
DRV_OK
 !
Iol_SQosTruMode
(
QOS_SVLAN
))

1537 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1538  
	gERROR
;

1543 
memt
(&
VnMode
, 0, (stVlanMode));

1544 
	gVnMode
.
	gdeu_vn
 = 
uiPvid
;

1545 
	gVnMode
.
	guiPriܙy
 = 
uiPriܙy
;

1546 
	gVnMode
.
	gmode
 = 
CTC_VLAN_MODE_TRANSLATION
;

1548 
	gVnMode
.
	gnumb_of_s
 = 0;

1550 
	gi
 = 0; i < 
	guiVnLiEry
; i++)

1552 
	guiOldVn
 = 
puiVnLi
[
i
*2];

1553 
	guiNewVn
 = 
puiVnLi
[(
i
*2) + 1];

1555 
	gVnMode
.
	gnumb_of_s
++;

1556 
	gVnMode
.
	gvn_li
[
i
*2] = 
uiOldVn
;

1557 
	gVnMode
.
	gvn_li
[(
i
*2+ 1] = 
uiNewVn
;

1562 
memt
(&
OldVnMode
, 0, (stOldVlanMode));

1563 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
OldVnMode
);

1564 i(
	gNO_ERROR
 !
iR
)

1566 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1567  
	gERROR
;

1570 if(0 =
memcmp
(&
OldVnMode
, &
VnMode
, (stVlanMode)))

1572  
	gNO_ERROR
;

1576 
	giR
 = 
Iol_c_add_a_ru_f_
(
uiLPtId
, 
VnMode
);

1577 i(
	gDRV_OK
 !
iR
)

1579 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

1580  
	gERROR
;

1583  
	gNO_ERROR
;

1589 
INT32
 
CTC_DRV_GVnIdAndPri
(
UINT32
 
uiVnTag
, UINT32 *
puiVnId
, UINT32 *
puiPri
)

1591 i((
	gNULL
 =
puiVnId
|| (
NULL
 =
puiPri
))

1593  
ERROR
;

1596 *
	gpuiVnId
 = 
uiVnTag
 & 0x00000FFF;

1597 *
	gpuiPri
 = (
uiVnTag
 >> 13) & 0x000007;

1599  
	gNO_ERROR
;

1607 
INT32
 
_CTC_GUniFlowClCfg

ULONG
 
ulLPt
, 
BOOL
 *
pbEb
 )

1611 
	gDRV_CFGLOCK
;

1612 *
	gpbEb
 = (
TRUE
 =
g_aPtCfg
[
ulLPt
].
ucFlowCl
)? TRUE : 
FALSE
;

1613 
	gDRV_CFGUNLOCK
;

1615  
	gNO_ERROR
;

1621 
INT32
 
_CTC_SUniFlowClCfg

ULONG
 
ulLPt
, 
BOOL
 
bEb
 )

1626 
	gDRV_CFGLOCK
;

1627 
	gg_aPtCfg
[
ulLPt
].
	gucFlowCl
 = (
TRUE
 =
bEb
)? TRUE : 
FALSE
;

1628 
	gDRV_CFGUNLOCK
;

1630  
	gNO_ERROR
;

1636 
INT32
 
_CTC_GUniPtEbCfg

ULONG
 
ulLPt
, 
BOOL
 *
pbEb
 )

1640 
	gDRV_CFGLOCK
;

1641 *
	gpbEb
 = (
TRUE
 =
g_aPtCfg
[
ulLPt
].
ucPtEb
)? TRUE : 
FALSE
;

1642 
	gDRV_CFGUNLOCK
;

1644  
	gNO_ERROR
;

1650 
INT32
 
_CTC_SUniPtEbCfg

ULONG
 
ulLPt
, 
BOOL
 
bEb
 )

1654 
	gDRV_CFGLOCK
;

1655 
	gg_aPtCfg
[
ulLPt
].
	gucPtEb
 = (
TRUE
 =
bEb
)? TRUE : 
FALSE
;

1656 
	gDRV_CFGUNLOCK
;

1658  
	gNO_ERROR
;

1665 
INT32
 
DRV_GPtVnCfg
(
UINT32
 
uiLPtId
, 
UINT8
 *
pucMode
, UINT8 *
pucVnCfg
, 
UINT16
 *
pusLgth
)

1667 
CTC_VLAN_CFG_S
 
	gVnCfg
;

1668 
UINT16
 
	gusL
 = 0;

1669 
UINT8
 *
	gpucTmp
 = 
NULL
;

1670 
UINT32
 
	guiVue
 = 0;

1671 
UINT32
 
	gi
 = 0;

1675 
MEM_SET_ZERO
(&
VnCfg
, (stVlanCfg));

1677 if(
	gNO_ERROR
 !
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnCfg
))

1679  
	gERROR
;

1682 *
	gpucMode
 = 
VnCfg
.
mode
;

1683 
	gpucTmp
 = 
pucVnCfg
;

1686  
	gVnCfg
.
	gmode
 )

1688 
	gCTC_VLAN_MODE_TRANSPARENT
:

1690 *
pusLgth
 = 
usL
;

1693 
	gCTC_VLAN_MODE_TAG
 :

1695 
uiVue
 = 0x81000000 | 
VnCfg
.
deu_vn
;

1696 
HLTOBUF
(
pucTmp
, 
uiVue
);

1697 
	gpucTmp
 += 4;

1698 
	gusL
 += 4;

1699 *
	gpusLgth
 = 
usL
;

1702 
	gCTC_VLAN_MODE_TRANSLATION
:

1704 
uiVue
 = 0x81000000 | 
VnCfg
.
deu_vn
;

1705 
HLTOBUF
(
pucTmp
, 
uiVue
);

1706 
	gpucTmp
 += 4;

1707 
	gusL
 += 4;

1708  
	gi
 = 0 ; (< 
	gVnCfg
.
	gnumb_of_s
&& (< 
	gCTC_VLAN_TRANSL_PAIR_NUM_MAX
/2); i++ )

1710 
	guiVue
 = 0x81000000 | 
VnCfg
.
vn_li
[
i
];

1711 
HLTOBUF
(
pucTmp
, 
uiVue
);

1712 
	gpucTmp
 += 4;

1713 
	gusL
 += 4;

1714 
	guiVue
 = 0x81000000 | 
VnCfg
.
vn_li
[
i
+1];

1715 
HLTOBUF
(
pucTmp
, 
uiVue
);

1716 
	gpucTmp
 += 4;

1717 
	gusL
 += 4;

1719 *
	gpusLgth
 = 
usL
;

1723  
ERROR
;

1726  
	gNO_ERROR
;

1730 
INT32
 
_CTC_GUniIsީeEbCfg

ULONG
 
ulLPt
, 
BOOL
 *
pbEb
 )

1734 
	gDRV_CFGLOCK
;

1735 *
	gpbEb
 = (
TRUE
 =
g_aPtCfg
[
ulLPt
].
ucIsީeEb
)? TRUE : 
FALSE
;

1736 
	gDRV_CFGUNLOCK
;

1738  
	gNO_ERROR
;

1741 
INT32
 
_CTC_SUniIsީeEbCfg

ULONG
 
ulLPt
, 
BOOL
 
bEb
 )

1745 
	gDRV_CFGLOCK
;

1746 
	gg_aPtCfg
[
ulLPt
].
	gucIsީeEb
 = (
TRUE
 =
bEb
)? TRUE : 
FALSE
;

1747 
	gDRV_CFGUNLOCK
;

1749  
	gNO_ERROR
;

1752 
INT32
 
_CTC_GUniSedCfg

ULONG
 
ulLPt
, 
UCHAR
 *
pucSed
 )

1756 
	gDRV_CFGLOCK
;

1757 *
	gpucSed
 = 
g_aPtCfg
[
ulLPt
].
ucSed
;

1758 
	gDRV_CFGUNLOCK
;

1760  
	gNO_ERROR
;

1763 
INT32
 
_CTC_SUniSedCfg

ULONG
 
ulLPt
, 
UCHAR
 
ucSed
 )

1765 
UCHAR
 
	gucTempSed
;

1768 
	gucSed
)

1770 
	gSPEED_AUTO
:

1771 
ucTempSed
 = 
PORT_SPEED_AUTO
;

1773 
	gSPEED_10M
:

1774 
ucTempSed
 = 
PORT_SPEED_10
;

1776 
	gSPEED_100M
:

1777 
ucTempSed
 = 
PORT_SPEED_100
;

1779 
	gSPEED_1000M
:

1780 
ucTempSed
 = 
PORT_SPEED_1000
;

1783  
ERROR
;

1785 
	gDRV_CFGLOCK
;

1786 
	gg_aPtCfg
[
ulLPt
].
	gucSed
 = 
ucTempSed
;

1787 
	gDRV_CFGUNLOCK
;

1789  
	gNO_ERROR
;

1792 
INT32
 
_CTC_GUniDuexCfg

ULONG
 
ulLPt
, 
UCHAR
 *
pucDuex
 )

1795 
	gDRV_CFGLOCK
;

1796 *
	gpucDuex
 = 
g_aPtCfg
[
ulLPt
].
ucDuex
;

1797 
	gDRV_CFGUNLOCK
;

1799  
	gNO_ERROR
;

1802 
INT32
 
_CTC_SUniDuexCfg

ULONG
 
ulLPt
, 
UCHAR
 
ucDuex
 )

1804 
UCHAR
 
	gucTempDuex
;

1807 
	gucDuex
)

1809 
	gDUPLEX_AUTO
:

1810 
ucTempDuex
 = 
PORT_DUPLEX_AUTO
;

1812 
	gDUPLEX_FULL
:

1813 
ucTempDuex
 = 
PORT_DUPLEX_FULL
;

1815 
	gDUPLEX_HALF
:

1816 
ucTempDuex

PORT_DUPLEX_HALF
;

1819  
ERROR
;

1821 
	gDRV_CFGLOCK
;

1822 
	gg_aPtCfg
[
ulLPt
].
	gucDuex
 = 
ucTempDuex
;

1823 
	gDRV_CFGUNLOCK
;

1825  
	gNO_ERROR
;

1828 
INT32
 
_CTC_GUniMdiCfg

ULONG
 
ulLPt
, 
UCHAR
 *
pucMdi
 )

1832 
	gDRV_CFGLOCK
;

1833 *
	gpucMdi
 = 
g_aPtCfg
[
ulLPt
].
ucMdi
;

1834 
	gDRV_CFGUNLOCK
;

1836  
	gNO_ERROR
;

1839 
INT32
 
_CTC_SUniMdiCfg

ULONG
 
ulLPt
, 
UCHAR
 
ucMdi
 )

1842 
	gDRV_CFGLOCK
;

1843 
	gg_aPtCfg
[
ulLPt
].
	gucMdi
 = 
ucMdi
;

1844 
	gDRV_CFGUNLOCK
;

1846  
	gNO_ERROR
;

1849 
INT32
 
_CTC_GUniAutoNegModeCfg

ULONG
 
ulLPt
, 
BOOL
 *
pbAutoNegMode
 )

1853 
	gDRV_CFGLOCK
;

1854 *
	gpbAutoNegMode
 = (
TRUE
 =
g_aPtCfg
[
ulLPt
].
bAutoNegMode
)? TRUE : 
FALSE
;

1855 
	gDRV_CFGUNLOCK
;

1857  
	gNO_ERROR
;

1860 
INT32
 
_CTC_SUniAutoNegModeCfg

ULONG
 
ulLPt
, 
BOOL
 
bAutoNegMode
 )

1864 
	gDRV_CFGLOCK
;

1865 
	gg_aPtCfg
[
ulLPt
].
	gbAutoNegMode
 = (
TRUE
 =
bAutoNegMode
)? TRUE : 
FALSE
;

1866 
	gDRV_CFGUNLOCK
;

1868  
	gNO_ERROR
;

1871 
INT32
 
_CTC_GUniLeReInCfg

ULONG
 
ulLPt
, ULONG *
pulLeReIn
 )

1875 
	gDRV_CFGLOCK
;

1876 *
	gpulLeReIn
 = 
g_aPtCfg
[
ulLPt
].
ulLeReIn
;

1877 
	gDRV_CFGUNLOCK
;

1879  
	gNO_ERROR
;

1882 
INT32
 
_CTC_SUniLeReInCfg

ULONG
 
ulLPt
, ULONG 
ulLeReIn
 )

1886 
	gDRV_CFGLOCK
;

1887 
	gg_aPtCfg
[
ulLPt
].
	gulLeReIn
 = 
ulLeReIn
;

1888 
	gDRV_CFGUNLOCK
;

1890  
	gNO_ERROR
;

1893 
INT32
 
_CTC_GUniLeReOutCfg

ULONG
 
ulLPt
, ULONG *
pulLeReOut
 )

1897 
	gDRV_CFGLOCK
;

1898 *
	gpulLeReOut
 = 
g_aPtCfg
[
ulLPt
].
ulLeReOut
;

1899 
	gDRV_CFGUNLOCK
;

1901  
	gNO_ERROR
;

1904 
INT32
 
_CTC_SUniLeReOutCfg

ULONG
 
ulLPt
, ULONG 
ulLeReOut
 )

1908 
	gDRV_CFGLOCK
;

1909 
	gg_aPtCfg
[
ulLPt
].
	gulLeReOut
 = 
ulLeReOut
;

1910 
	gDRV_CFGUNLOCK
;

1912  
	gNO_ERROR
;

1922 
INT32
 
DRV_RetAPtsStiic
(
VOID
)

1924 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

1925 
UINT32
 
	gi
;

1926 
INT32
 
	giR
 = 
NO_ERROR
;

1929 
	gi
 = 1; i < 
	gMAX_PORT_NUM
; i++)

1931 
	giR
 = 
DRV_RetPtStiic
(
i
);

1932 i(
	gNO_ERROR
 !
iR
)

1934  
ERROR
;

1940 (
	gVOID
)
CC
(
CNT_GE
, 0, 0);

1943 (
	gVOID
)
CC
(
CNT_PON
, 0, 0);

1945 
OamCPeodSts
();

1947  
	gNO_ERROR
;

1951 
INT32
 
DRV_GPtMibCou
(
UINT32
 
t
, 
UNI_COUNTER_S
* 
pMibCs
)

1953 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

1954 
	gt
;

1955 
UINT64
 
	guVue
 = 0;

1957 if(
	gNULL
 =
pMibCs
)

1959  
ERROR
;

1962 if(
	gFALSE
 =
IsVidLgcPt
(
t
))

1964  
ERROR
;

1967 
	gt
 = 
DRV_OK
;

1969 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxOs
, &
uVue
);

1970 
	gpMibCs
->
	guiTnsOs
 = 
uVue
;

1971 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxOs
, &
uVue
);

1972 
	gpMibCs
->
	guiRecOs
 = 
uVue
;

1973 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxGoodOs
, &
uVue
);

1974 
	gpMibCs
->
	gulRevBadOs
 = (
ULONG
)(
pMibCs
->
uiRecOs
 - 
uVue
);

1976 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxUniPkts
, &
uVue
);

1977 
	gpMibCs
->
	gInUni
 = (
ULONG
)
uVue
;

1978 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxUniPkts
, &
uVue
);

1979 
	gpMibCs
->
	gOutUni
 = (
ULONG
)
uVue
;

1980 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxMuiPkts
, &
uVue
);

1981 
	gpMibCs
->
	gInMui
 = (
ULONG
)
uVue
;

1982 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxMuiPkts
, &
uVue
);

1983 
	gpMibCs
->
	gOutMui
 = (
ULONG
)
uVue
;

1984 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxBrdPkts
, &
uVue
);

1985 
	gpMibCs
->
	gInBrd
 = (
ULONG
)
uVue
;

1986 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxBrdPkts
, &
uVue
);

1987 
	gpMibCs
->
	gOutBrd
 = (
ULONG
)
uVue
;

1989 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxPauPkts
, &
uVue
);

1990 
	gpMibCs
->
	gInPau
 = (
ULONG
)
uVue
;

1991 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxPauPkts
, &
uVue
);

1992 
	gpMibCs
->
	gOutPau
 = (
ULONG
)
uVue
;

1994 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxFCSEs
, &
uVue
);

1995 
	gpMibCs
->
	gInCrcE
 = (
ULONG
)
uVue
;

1996 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxUdsizePkts
, &
uVue
);

1997 
	gpMibCs
->
	gInUndow
 = (
ULONG
)
uVue
;

1998 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxOvsizePkts
, &
uVue
);

1999 
	gpMibCs
->
	gInOvow
 = (
ULONG
)
uVue
;

2000 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxDrPkts
, &
uVue
);

2001 
	gpMibCs
->
	gulInDrݳd
 = (
ULONG
)
uVue
;

2002 
	gpMibCs
->
	gInE
 = 
pMibCs
->
InUndow
 +MibCs->
InOvow
 +MibCs->
InCrcE
 +MibCs->
ulInDrݳd
;

2003 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxFgmt
, &
uVue
);

2004 
	gpMibCs
->
	gInUndow
 +(
ULONG
)
uVue
;

2005 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
RxJabbs
, &
uVue
);

2006 
	gpMibCs
->
	gInOvow
 +(
ULONG
)
uVue
;

2008 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxSgClisi
, &
uVue
);

2009 
	gpMibCs
->
	gOutClisi
 = (
ULONG
)
uVue
;

2010 
	gt
+=
Iol_GPtStiicsByPt
(
t
, 
TxLeClisi
, &
uVue
);

2011 
	gpMibCs
->
	gOutLe
 = (
ULONG
)
uVue
;

2013 
	gpMibCs
->
	gOutE
 = 
pMibCs
->
OutClisi
 +MibCs->
OutLe
;

2015 if(
	gDRV_OK
 =
t
){

2016  
NO_ERROR
;

2019  
	gERROR
;

2022 
	giR
;

2023 
UINT64
 
	guVue
 = 0;

2024 
UINT64
 
	guVueTmp
 = 0;

2025 
OPL_CNT_t
 
	glCou
[
DAL_CNT_GE_NUM
];

2027 if(
	gNULL
 =
pMibCs
)

2029  
ERROR
;

2032 if(
	gFALSE
 =
IsVidLgcPt
(
t
))

2034  
ERROR
;

2037 
	giR
 = 
dCouG
(
DAL_CNT_POLL_GE_MASK
, 
lCou
, 0, 
DAL_CNT_GE_NUM
);

2038 i(0 !
iR
)

2040  
ERROR
;

2044 
	gpMibCs
->
	guiTnsOs
 = ((
UINT64
)(
lCou
[11].
Added
.
uiHigh
<< 32| (lCou[11].Added.
uiLow
);

2046 
	gpMibCs
->
	guiRecOs
 = ((
UINT64
)(
lCou
[34].
Added
.
uiHigh
<< 32| oCou[34].Added.
uiLow
;

2048 
	gpMibCs
->
	gulRevBadOs
 = 0;

2051 
	guVue
 = ((
UINT64
)(
lCou
[20].
Added
.
uiHigh
<< 32| oCou[20].Added.
uiLow
;

2052 
	guVue
 +(((
UINT64
)(
lCou
[21].
Added
.
uiHigh
<< 32| oCou[21].Added.
uiLow
);

2053 
	guVueTmp
 = (((
UINT64
)(
lCou
[19].
Added
.
uiHigh
<< 32| oCou[19].Added.
uiLow
);

2054 
	gpMibCs
->
	gInUni
 = (
UINT32
)(
uVueTmp
 - 
uVue
);

2057 
	guVue
 = (((
UINT64
)(
lCou
[1].
Added
.
uiHigh
<< 32| oCou[1].Added.
uiLow
);

2058 
	guVue
 +(((
UINT64
)(
lCou
[2].
Added
.
uiHigh
<< 32| oCou[2].Added.
uiLow
);

2059 
	guVueTmp
 = (((
UINT64
)(
lCou
[0].
Added
.
uiHigh
<< 32| oCou[0].Added.
uiLow
);

2060 
	gpMibCs
->
	gOutUni
 = (
UINT32
)(
uVueTmp
 - 
uVue
);

2063 
	gpMibCs
->
	gInMui
 = 
lCou
[21].
Added
.
uiLow
;

2065 
	gpMibCs
->
	gOutMui
 = 
lCou
[2].
Added
.
uiLow
;

2067 
	gpMibCs
->
	gInBrd
 = 
lCou
[20].
Added
.
uiLow
;

2069 
	gpMibCs
->
	gOutBrd
 = 
lCou
[1].
Added
.
uiLow
;

2072 
	gpMibCs
->
	gInPau
 = 
lCou
[22].
Added
.
uiLow
;

2074 
	gpMibCs
->
	gOutPau
 = 
lCou
[3].
Added
.
uiLow
;

2077 
	gpMibCs
->
	gInOvow
 = 
lCou
[26].
Added
.
uiLow
;

2079 
	gpMibCs
->
	gInUndow
 = 
lCou
[25].
Added
.
uiLow
;

2081 
	gpMibCs
->
	gInCrcE
 = 
lCou
[15].
Added
.
uiLow
;

2083 
	gpMibCs
->
	gInUndow
 +
lCou
[17].
Added
.
uiLow
;

2086 
	gpMibCs
->
	gOutClisi
 = 0;

2088 
	gpMibCs
->
	gOutLe
 = 0;

2090 
	gpMibCs
->
	gulInDrݳd
 = 
lCou
[14].
Added
.
uiLow
;

2092  
	gNO_ERROR
;

2100 
INT32
 
DRV_GPtLkStus
(
UINT32
 
t
, 
BOOL
* 
pStus
)

2102 
	glks
 = 0;

2104 if(
	gNULL
 =
pStus
){

2105  
ERROR
;

2108 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2109  
ERROR
;

2112 if(
	gDRV_OK
 =
Iol_GPtCutLk
(
t
, &
lks
)){

2113 
	glks
)

2115 
	gTRUE
 :

2116 *
pStus
 = 
TRUE
;

2118 
	gFALSE
 :

2119 *
pStus
 = 
FALSE
;

2122  
ERROR
;

2126  
	gNO_ERROR
;

2133 
INT32
 
DRV_GPtDuex
(
UINT32
 
t
, 
PORT_DUPLEX_E
* 
pDuexMode
)

2135 
	gduex
 = 0;

2137 if(
	gNULL
 =
pDuexMode
){

2138  
ERROR
;

2141 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2142  
ERROR
;

2144 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2145 if(
	gDRV_OK
 =
Iol_GPtDuex
(
t
, &
duex
)){

2146 
	gduex
)

2148 
	gPORT_DUPLEX_FULL
 :

2149 *
pDuexMode
 = 
DUPLEX_FULL
;

2151 
	gPORT_DUPLEX_HALF
 :

2152 *
pDuexMode
 = 
DUPLEX_HALF
;

2155  
ERROR
;

2159 
	gduex
 = 
duex
;

2160 *
	gpDuexMode
 = 
DUPLEX_FULL
;

2162  
	gNO_ERROR
;

2169 
INT32
 
DRV_GPtSed
(
UINT32
 
t
, 
PORT_SPEED_E
* 
pSedMode
)

2171 
	gd
 = 0;

2173 if(
	gNULL
 =
pSedMode
){

2174  
ERROR
;

2177 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2178  
ERROR
;

2180 if(
	gDRV_OK
 =
Iol_GPtSed
(
t
, &
d
)){

2181 
	gd
)

2183 
	gPORT_SPEED_10
 :

2184 *
pSedMode
 = 
SPEED_10M
;

2186 
	gPORT_SPEED_100
 :

2187 *
pSedMode
 = 
SPEED_100M
;

2189 
	gPORT_SPEED_1000
 :

2190 *
pSedMode
 = 
SPEED_1000M
;

2193  
ERROR
;

2196  
	gNO_ERROR
;

2203 
INT32
 
DRV_GPtMdiStus
(
UINT32
 
t
, 
PORT_MDI_E
* 
pMdiMode
)

2205 
	gmdix
 = 0;

2207 if(
	gNULL
 =
pMdiMode
){

2208  
ERROR
;

2211 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2212  
ERROR
;

2214 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2215 if(
	gDRV_OK
 =
Iol_GPtMdix
(
t
, &
mdix
)){

2216 
	gmdix
)

2218 
	gPORT_MDI_NORMAL
 :

2219 *
pMdiMode
 = 
MDI_NORMAL
;

2221 
	gPORT_MDI_ACROSS
 :

2222 *
pMdiMode
 = 
MDI_ACROSS
;

2225  
ERROR
;

2229 
	gmdix
 = 
mdix
;

2230 *
	gpMdiMode
 = 
MDI_NORMAL
;

2232  
	gNO_ERROR
;

2239 
INT32
 
DRV_RetPtStiic
(
UINT32
 
t
)

2241 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2242  
ERROR
;

2244 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2245 if(
	gDRV_OK
 =
Iol_SMibCouRet
(
t
)){

2246  
NO_ERROR
;

2249  
	gERROR
;

2253 (
	gVOID
)
CC
(
CNT_GE
, 0, 0);

2254  
	gNO_ERROR
;

2262 
g_dlx_by_w_d
(
PORT_SPEED_E
 
PtSed
, * 
dlx_v
)

2264 
	gduex_tmp
;

2266 
	gduex_tmp
 = (*
dlx_v
 % 3);

2268 
	gPtSed
)

2270 
	gSPEED_AUTO
 :

2271 *
dlx_v
 = (3*3+ 
duex_tmp
;

2273 
	gSPEED_10M
 :

2274 *
dlx_v
 = (0*3+ 
duex_tmp
;

2276 
	gSPEED_100M
 :

2277 *
dlx_v
 = (1*3+ 
duex_tmp
;

2279 
	gSPEED_1000M
 :

2280 *
dlx_v
 = (2*3+ 
duex_tmp
;

2293 
g_dlx_by_w_duex
(
PORT_DUPLEX_E
 
PtDuex
, * 
dlx_v
)

2295 
	gd_tmp
;

2297 
	gd_tmp
 = (*
dlx_v
 / 3);

2299 
	gPtDuex
)

2301 
	gDUPLEX_AUTO
 :

2302 *
dlx_v
 = (
d_tmp
*3) + 2;

2304 
	gDUPLEX_FULL
 :

2305 *
dlx_v
 = (
d_tmp
*3) + 1;

2307 
	gDUPLEX_HALF
 :

2308 *
dlx_v
 = (
d_tmp
*3) + 0;

2322 
INT32
 
DRV_SPtSed
(
UINT32
 
t
, 
PORT_SPEED_E
 
PtSed
)

2324 
	gdlx_v
;

2326 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2327  
ERROR
;

2330 if(
	gDRV_OK
 !
Iol_GSpdlxS
(
t
, &
dlx_v
)) {

2331  
	gERROR
;

2334 if(-1 =
g_dlx_by_w_d
(
PtSed
, &
dlx_v
)) {

2335  
	gERROR
;

2338 if(
	gDRV_OK
 =
Iol_SPtSpdlx
(
t
, 
dlx_v
)){

2339 (
	gVOID
)
_CTC_SUniSedCfg
(
t
, 
PtSed
);

2340  
	gNO_ERROR
;

2343  
	gERROR
;

2351 
INT32
 
DRV_SPtDuex
(
UINT32
 
t
, 
PORT_DUPLEX_E
 
PtDuex
)

2353 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2354 
	gdlx_v
;

2356 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2357  
ERROR
;

2360 if(
	gDRV_OK
 !
Iol_GSpdlxS
(
t
, &
dlx_v
)) {

2361  
	gERROR
;

2364 if(-1 =
g_dlx_by_w_duex
(
PtDuex
, &
dlx_v
)) {

2365  
	gERROR
;

2368 if(
	gDRV_OK
 =
Iol_SPtSpdlx
(
t
, 
dlx_v
)){

2369 (
	gVOID
)
_CTC_SUniDuexCfg
(
t
, 
PtDuex
);

2370  
	gNO_ERROR
;

2373  
	gERROR
;

2376 
	gt
 = 
t
;

2377 
	gPtDuex
 = 
PtDuex
;

2378  
	gNO_ERROR
;

2387 
INT32
 
DRV_SPtIsީi
(
UINT32
 
t
, 
BOOL
 
bEb
)

2389 
logic_pmask_t
 
	glmask
;

2391 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2392  
ERROR
;

2394 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2395 if(
	gDRV_OK
 !
Iol_GIsީeS
(&
lmask
)) {

2396  
ERROR
;

2399 if(
	gTRUE
 =
bEb
) {

2400 
SLgcMaskB
(
t
, &
lmask
);

2402 if(
	gFALSE
 =
bEb
){

2403 
CLgcMaskB
(
t
, &
lmask
);

2406  
	gERROR
;

2409 if(
	gDRV_OK
 !
Iol_SPtIsީe
(
lmask
)) {

2410  
ERROR
;

2413 (
	gVOID
)
_CTC_SUniIsީeEbCfg
(
t
, 
bEb
);

2414  
	gNO_ERROR
;

2417 
memt
(&
lmask
, 0, (lmask));

2418 
	gbEb
 = 
bEb
;

2419  
	gERROR
;

2426 
INT32
 
DRV_SPtFlowCl
(
UINT32
 
t
, 
BOOL
 
bEb
)

2428 
BOOL
 
	gbCfgEb
 = 
FALSE
;

2430 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2431  
ERROR
;

2434 if((
	gFALSE
 !
bEb
&& (
TRUE
 != bEnable)) {

2435  
ERROR
;

2438 (
	gVOID
)
_CTC_GUniFlowClCfg
(
t
, &
bCfgEb
);

2439 i
	gbEb
 =
bCfgEb
)

2441  
NO_ERROR
;

2444 if(
	gDRV_OK
 =
Iol_SPtPau
(
t
, 
bEb
, bEnable))

2446 (
	gVOID
)
_CTC_SUniFlowClCfg
(
t
, 
bEb
);

2447  
	gNO_ERROR
;

2450  
	gERROR
;

2457 
INT32
 
DRV_GPtFlowCl
(
UINT32
 
t
, 
BOOL
 *
bEb
)

2459 if(
	gNULL
 =
bEb
) {

2460  
ERROR
;

2463 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2464  
ERROR
;

2467 if(
	gDRV_OK
 !
Iol_GPtFlow
(
t
, 
bEb
))

2469  
	gERROR
;

2472  
	gNO_ERROR
;

2479 
INT32
 
DRV_SPtLeRe
(
UINT32
 
t
, 
PORT_DIRECT_E
 
De
, UINT32 
uiLeRe
)

2481 
logic_pmask_t
 
	glmask
;

2482 
UINT32
 
	guiDei
 = 
DRV_RATELIMIT_NONE
;

2485 i(0 !(
uiLeRe
 % 
MIN_PORT_BANDWIDTH
))

2487  
ERROR
;

2490  
	gDe
 )

2492 
	gDIRECT_IN
:

2493 
uiDei
 = 
DRV_RATELIMIT_RX
;

2495 
	gDIRECT_OUT
:

2496 
uiDei
 = 
DRV_RATELIMIT_TX
;

2499  
ERROR
;

2502 i((
	gMAX_PORT_BANDWIDTH
 =
uiLeRe
) ||

2503 (0 =
uiLeRe
))

2505 
uiLeRe
 = 0;

2509 
memt
(&
lmask
, 0, (lmask));

2510 
SLgcMaskB
(
t
, &
lmask
);

2512 if(
	gDRV_OK
 =
Iol_SReLimPt
(
uiDei
, 
lmask
, 
uiLeRe
)){

2514 if(
	gDRV_RATELIMIT_RX
 =
uiDei
)

2516 
_CTC_SUniLeReInCfg

t
, 
uiLeRe
 );

2520 
_CTC_SUniLeReOutCfg

t
, 
uiLeRe
 );

2523  
	gNO_ERROR
;

2526  
	gERROR
;

2533 
INT32
 
DRV_SPtLkS
(
UINT32
 
uiLPtId
, 
BOOL
 
bPtStus
)

2535 
BOOL
 
	gbCfgEb
 = 
FALSE
;

2537 (
	gVOID
)
_CTC_GUniPtEbCfg
(
uiLPtId
, &
bCfgEb
);

2538 i
	gbPtStus
 =
bCfgEb
)

2540  
NO_ERROR
;

2543 if(
	gDRV_OK
 =
Iol_SPtEb
(
uiLPtId
, 
bPtStus
))

2545 (
	gVOID
)
_CTC_SUniPtEbCfg
(
uiLPtId
, 
bPtStus
);

2546  
	gNO_ERROR
;

2549  
	gERROR
;

2557 
INT32
 
DRV_GPtLkS
(
UINT32
 
uiLPtId
, 
BOOL
 *
bPtStus
)

2559 if(
	gNULL
 =
bPtStus
) {

2560  
ERROR
;

2563 if(
	gFALSE
 =
IsVidLgcPt
(
uiLPtId
)) {

2564  
ERROR
;

2567 if(
	gDRV_OK
 !
Iol_GPtEb
(
uiLPtId
, 
bPtStus
))

2569  
	gERROR
;

2572  
	gNO_ERROR
;

2578 
INT32
 
DRV_SPtAutoNegAdm
(
UINT32
 
t
, 
BOOL
 
bEb
)

2580 
BOOL
 
	gbCfgEb
 = 
FALSE
;

2582 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2583  
ERROR
;

2586 if((
	gFALSE
 !
bEb
&& (
TRUE
 != bEnable)) {

2587  
ERROR
;

2590 (
	gVOID
)
_CTC_GUniAutoNegModeCfg
(
t
, &
bCfgEb
);

2591 i
	gbEb
 =
bCfgEb
)

2593  
NO_ERROR
;

2596 if(
	gDRV_OK
 =
Iol_SPtAuteg
(
t
, 
bEb
, bEnable))

2598 (
	gVOID
)
_CTC_SUniAutoNegModeCfg
(
t
, 
bEb
);

2599  
	gNO_ERROR
;

2602  
	gERROR
;

2609 
INT32
 
DRV_GPtAutoNegAdm
(
UINT32
 
t
, 
BOOL
 *
bEb
)

2611 if(
	gNULL
 =
bEb
) {

2612  
ERROR
;

2615 if(
	gFALSE
 =
IsVidLgcPt
(
t
)) {

2616  
ERROR
;

2619 if(
	gDRV_OK
 !
Iol_GPtAuteg
(
t
, 
bEb
))

2621  
	gERROR
;

2624  
	gNO_ERROR
;

2631 
INT32
 
DRV_PtRetNeg
(
UINT32
 
uiLPtId
)

2633 if(
	gDRV_OK
 =
Iol_c_t_auteg
(
uiLPtId
)){

2634 (
VOID
)
_CTC_SUniAutoNegModeCfg
(
uiLPtId
, 
TRUE
);

2635  
	gNO_ERROR
;

2638  
	gERROR
;

2646 
INT32
 
DRV_SPtAutoNeg
(
UINT32
 
uiLPtId
, 
UINT8
 
ucAi
)

2648 
PORT_SPEED_E
 
	gSedMode
 = 
SPEED_AUTO
;

2649 
PORT_DUPLEX_E
 
	gDuexMode
 = 
DUPLEX_AUTO
;

2650 
	gdlx_v
;

2653 i(
	gm_abAutoNegEb
[
uiLPtId
] =
ucAi
)

2655  
NO_ERROR
;

2659 i(
	gTRUE
 =
ucAi
)

2661 
SedMode
 = 
SPEED_AUTO
;

2662 
	gDuexMode
 = 
DUPLEX_AUTO
;

2667 
	gSedMode
 = 
SPEED_100M
;

2668 
	gDuexMode
 = 
DUPLEX_FULL
;

2671 if(-1 =
g_dlx_by_w_d
(
SedMode
, &
dlx_v
)) {

2672  
	gERROR
;

2675 if(-1 =
g_dlx_by_w_duex
(
DuexMode
, &
dlx_v
)) {

2676  
	gERROR
;

2679 if(
	gDRV_OK
 !
Iol_SPtSpdlx
(
uiLPtId
, 
dlx_v
))

2681  
	gERROR
;

2684 
_CTC_SUniDuexCfg
(
uiLPtId
, 
DuexMode
);

2685 
_CTC_SUniSedCfg
(
uiLPtId
, 
SedMode
);

2686 (
	gVOID
)
_CTC_SUniAutoNegModeCfg
(
uiLPtId
, 
ucAi
);

2687 
	gm_abAutoNegEb
[
uiLPtId
] = 
ucAi
;

2689  
	gNO_ERROR
;

2695 
INT32
 
DRV_SPriTruMode
(
QOS_PRI_TRUST_MODE_E
 
TruMode
)

2697 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2698 
UINT32
 
	gi
;

2699 
UINT32
 
	guMode
=
QOS_COS
;

2701 
	gTruMode
)

2703 
	gQOS_PRI_TRUST_MODE_IP_TOS
 :

2704  
ERROR
;

2705 
	gQOS_PRI_TRUST_MODE_DOT1P
 :

2706 
uMode
 = 
QOS_COS
;

2708 
	gQOS_PRI_TRUST_MODE_DSCP
 :

2709 
uMode
 = 
QOS_DSCP
;

2711 
	gQOS_PRI_TRUST_MODE_PORT
 :

2712 
uMode
 = 
QOS_PORT
;

2715  
ERROR
;

2719 if(
	gDRV_OK
 !
Iol_SQosTruMode
(
uMode
)){

2720  
ERROR
;

2723 
	gi
 = 1; i <
LOGIC_PORT_NO
; i++)

2725 ()
_CTC_SUniQosTruModeCfg
(
i
, 
uMode
);

2728  
	gNO_ERROR
;

2731 
	gTruMode
 = 
TruMode
;

2732  
	gERROR
;

2739 
INT32
 
DRV_SPriSchedMode
(
QOS_QUEUE_SCHEDULER_MODE_E
 
PriSchedMode
)

2741 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2742 
QueueMode_S
 
	gQueue
;

2744 
	gPriSchedMode
)

2746 
	gQOS_QUEUE_SCHEDULER_MODE_WFQ
 :

2747 
Queue
.
QueueMode
 = 
QUEUE_MODE_WFQ
;

2750 
	gQueue
.
	gWeight
[0] = 8;

2751 
	gQueue
.
	gWeight
[1] = 4;

2752 
	gQueue
.
	gWeight
[2] = 2;

2753 
	gQueue
.
	gWeight
[3] = 1;

2755 
	gQueue
.
	gWeight
[0] = 1;

2756 
	gQueue
.
	gWeight
[1] = 2;

2757 
	gQueue
.
	gWeight
[2] = 4;

2758 
	gQueue
.
	gWeight
[3] = 8;

2762 
	gQOS_QUEUE_SCHEDULER_MODE_SPQ
 :

2763 
Queue
.
QueueMode
 = 
QUEUE_MODE_HQ_WRR
;

2764 
	gQueue
.
	gWeight
[0] = 0;

2765 
	gQueue
.
	gWeight
[1] = 0;

2766 
	gQueue
.
	gWeight
[2] = 0;

2767 
	gQueue
.
	gWeight
[3] = 0;

2770  
ERROR
;

2773 if(
	gDRV_OK
 !
Iol_SQosQueueSchedul
(
Queue
)){

2774  
ERROR
;

2777 
UINT8
 
	gucQid
;

2778 
UINT8
 
	gucCosIndex
;

2779 
UINT8
 
	gauCos2Qid
[
NUMBER_OF_DOT1P
] = {0,0,1,1,2,2,3,3};

2780 
OPL_STATUS
 
	gR
;

2781 
OPL_STATUS
 
tmQueuePriHwWre
(
UINT8
 
am
, UINT8 
Qid
, UINT8 
iܙy
);

2782 
OPL_STATUS
 
tmQueueWeightHwWre
(
UINT8
 
am
, UINT8 
Qid
, 
UINT32
 
weight
);

2785 i(
	gQOS_QUEUE_SCHEDULER_MODE_SPQ
 =
PriSchedMode
)

2787 
ucQid
 = 0; 
	gucQid
 < 4; ucQid++)

2789 
	gR
 = 
tmQueuePriHwWre
(
UP_STREAM
, 
ucQid
, ucQid);

2790 
	gR
 +
tmQueueWeightHwWre
(
UP_STREAM
, 
ucQid
, 0);

2791 
	gR
 +
tmQueuePriHwWre
(
DOWN_STREAM
, 
ucQid
, ucQid);

2792 
	gR
 +
tmQueueWeightHwWre
(
DOWN_STREAM
, 
ucQid
, 0);

2793 i(
	gOPL_OK
 !
R
)

2795  
ERROR
;

2799 
	gucCosIndex
 = 0; ucCosIndex < 
	gNUMBER_OF_DOT1P
; ucCosIndex++)

2801 
	gR
 = 
odmQosCos2QMS
(
ucCosIndex
, 
auCos2Qid
[ucCosIndex]);

2802 i(
	gNO_ERROR
 !
R
)

2804  
ERROR
;

2811 
UINT8
 
	gaucWeght
[4] = {8,4,2,1};

2812 
	gucQid
 = 0; ucQid < 4; ucQid++)

2814 
	gR
 = 
tmQueuePriHwWre
(
UP_STREAM
, 
ucQid
, 0);

2816 
	gR
 +
tmQueueWeightHwWre
(
UP_STREAM
, 
ucQid
, 
aucWeght
[ucQid]);

2817 
	gR
 +
tmQueuePriHwWre
(
DOWN_STREAM
, 
ucQid
, 0);

2819 
	gR
 +
tmQueueWeightHwWre
(
DOWN_STREAM
, 
ucQid
, 
aucWeght
[ucQid]);

2820 i(
	gOPL_OK
 !
R
)

2822  
ERROR
;

2829  
	gNO_ERROR
;

2835 
INT32
 
DRV_SCos2QidM
(
UINT32
* 
auiCos2QidM
)

2837 
qos_8021p_to_ri_t
 
	g1pM
;

2838 
	gii
;

2840  
	gii
 = 0 ; i< 
	gNUMBER_OF_DOT1P
 ; ii++ ) {

2841 
	g1pM
.
	gPri
[
ii
] = ()
auiCos2QidM
[ii];

2843 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

2844 if(
	gDRV_OK
 =
Iol_SQos2Qid
(
1pM
)){

2845  
NO_ERROR
;

2848  
	gERROR
;

2851 
odmQosCos2QMS
(
UINT8
 
VnCos
,UINT8 
QueId
);

2852 
	giR
 = 0;

2853 
UINT8
 
	guiCosIndex
;

2855 
	guiCosIndex
 = 0; uiCosIndex < 
	gNUMBER_OF_DOT1P
; uiCosIndex++)

2857 
	giR
 +
odmQosCos2QMS
(
uiCosIndex
, 
1pM
.
Pri
[uiCosIndex]);

2860 i(
	gNO_ERROR
 !
iR
)

2862  
ERROR
;

2865  
	gNO_ERROR
;

2869 
INT32
 
DRV_SSEb
(
BOOL
 
ulEb
)

2871 ()
	gulEb
;

2880 
BOOL_T
 
_DRV_IsUniCaIp
(
ULONG
 
ulIp
)

2882 
UCHAR
 
	gaucIp
[4] = { 0 };

2883 
UCHAR
 
	gaucZoIp
[4] = { 0, 0, 0, 0 };

2884 
UCHAR
 
	gaucBCaIp
[4] = { 255, 255, 255, 255 };

2886 
	gaucIp
[0] = (
UCHAR
((
ulIp
 & 0xFF000000) >> 24);

2887 
	gaucIp
[1] = (
UCHAR
((
ulIp
 & 0x00FF0000) >> 16);

2888 
	gaucIp
[2] = (
UCHAR
((
ulIp
 & 0x0000FF00) >> 8);

2889 
	gaucIp
[3] = (
UCHAR
(
ulIp
 & 0x000000FF);

2893 i(((
	gaucIp
[0] >224&& (
aucIp
[0] <= 239)) || (127 ==ucIp[0]))

2895  
BOOL_FALSE
;

2899 i((
	gCOMPARE_EQUAL
 =
MEM_COMPARE
(
aucIp
, 
aucZoIp
, 4))

2900 || (
	gCOMPARE_EQUAL
 =
MEM_COMPARE
(
aucIp
, 
aucBCaIp
, 4)))

2902  
	gBOOL_FALSE
;

2905  
	gBOOL_TRUE
;

2921 
BOOL_T
 
_Drv_CheckFrRu
(
ACL_FILTER_RULE_S
 *
pRu
)

2923 i(
	gNULL
 =
pRu
)

2925 
dg_tf
("Wrong Filter Rule:ullointer.\r\n");

2926  
	gBOOL_FALSE
;

2929  
	gpRu
->
	gTy
 )

2931 
	gFILTER_SRC_MAC
 :

2933 
UCHAR
 
aucZoMac
[
MAC_ADDR_LEN
] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

2935 i((
	gDIRECTION_UPLINK
 !
pRu
->
De
) ||

2936 (!
memcmp
(
aucZoMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2937 (!
memcmp
(
g_aucOnuMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2940 i((
	gpRu
->
	gDe
 >
DIRECTION_BUTT
) ||

2941 (0 !(0x01 & 
pRu
->
unVue
.
aucMacAddr
[0])) ||

2942 (!
memcmp
(
aucZoMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2943 (!
memcmp
(
g_aucOnuMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2947 
dg_tf
("Wrong Filter Rule: Type: SA MAC Direct:%d MAC:%02x:%02x:%02x:%02x:%02x:%02x.\r\n",

2948 
pRu
->
De
,

2949 
pRu
->
unVue
.
aucMacAddr
[0],

2950 
pRu
->
unVue
.
aucMacAddr
[1],

2951 
pRu
->
unVue
.
aucMacAddr
[2],

2952 
pRu
->
unVue
.
aucMacAddr
[3],

2953 
pRu
->
unVue
.
aucMacAddr
[4],

2954 
pRu
->
unVue
.
aucMacAddr
[5]);

2956  
	gBOOL_FALSE
;

2960 
	gFILTER_DEST_MAC
 :

2962 
UCHAR
 
aucZoMac
[
MAC_ADDR_LEN
] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

2965 i((
	gpRu
->
	gDe
 >
DIRECTION_BUTT
) ||

2966 (0 !(0x01 & 
pRu
->
unVue
.
aucMacAddr
[0])) ||

2967 (!
memcmp
(
aucZoMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)) ||

2968 (!
memcmp
(
g_aucOnuMac
,
pRu
->
unVue
.
aucMacAddr
,
MAC_ADDR_LEN
)))

2971 
dg_tf
("Wrong Filter Rule: Type: DA MAC Direct:%d MAC:%02x:%02x:%02x:%02x:%02x:%02x.\r\n",

2972 
pRu
->
De
,

2973 
pRu
->
unVue
.
aucMacAddr
[0],

2974 
pRu
->
unVue
.
aucMacAddr
[1],

2975 
pRu
->
unVue
.
aucMacAddr
[2],

2976 
pRu
->
unVue
.
aucMacAddr
[3],

2977 
pRu
->
unVue
.
aucMacAddr
[4],

2978 
pRu
->
unVue
.
aucMacAddr
[5]);

2979  
	gBOOL_FALSE
;

2983 
	gFILTER_ETHER_TYPE
 :

2985 i(
pRu
->
De
 >
DIRECTION_BOTH
)

2987 
dg_tf
("Wrong Filter Rule: Type:EtherType Direct:%d Ether:0x%04X.\r\n",

2988 
pRu
->
De
,Ru->
unVue
.
usEthTy
);

2989  
	gBOOL_FALSE
;

2993 
	gFILTER_VLAN_ID
 :

2995 i((
pRu
->
De
 >
DIRECTION_BOTH
) ||

2996 ((
pRu
->
unVue
.
usVnId
 < 
MIN_VLAN_ID
) ||

2997 (
pRu
->
unVue
.
usVnId
 > 
MAX_VLAN_ID
)))

2999 
dg_tf
("Wrong Filter Rule: Type:VLAN Direct:%d VID:%d\r\n",

3000 
pRu
->
De
,Ru->
unVue
.
usVnId
);

3001  
	gBOOL_FALSE
;

3005 
	gFILTER_SRC_IP
 :

3006 
BIND_SRC_IP
 :

3007 
FILTER_DEST_IP
 :

3008 
BIND_DEST_IP
 :

3010 i((
pRu
->
De
 >
DIRECTION_BOTH
) ||

3011 (
BOOL_FALSE
 =
_DRV_IsUniCaIp
(
pRu
->
unVue
.
ulIpAddr
)))

3014 
dg_tf
("Wrong Filter Rule: Type:DIP Direct:%d IP:%d.%d.%d.%d\r\n",

3015 
pRu
->
De
,

3016 (
pRu
->
unVue
.
ulIpAddr
 & 0xFF000000) >> 24,

3017 (
pRu
->
unVue
.
ulIpAddr
 & 0x00FF0000) >> 16,

3018 (
pRu
->
unVue
.
ulIpAddr
 & 0x0000FF00) >> 8,

3019 (
pRu
->
unVue
.
ulIpAddr
 & 0x000000FF));

3020  
	gBOOL_FALSE
;

3024 
	gFILTER_SRC_TCP
:

3025 
FILTER_SRC_UDP
:

3026 
FILTER_DEST_TCP
:

3027 
FILTER_DEST_UDP
:

3029 i(
pRu
->
De
 >
DIRECTION_BOTH
)

3031 
dg_tf
("Wrong Filter Rule: Type:L4PORT Direct:%d \r\n",

3032 
pRu
->
De
);

3033  
	gBOOL_FALSE
;

3038  
BOOL_FALSE
;

3041  
	gBOOL_TRUE
;

3047 
INT32
 
DRV_SFecMode
(
BOOL
 
bEb
)

3049 if((
	gFALSE
 !
bEb
&& (
TRUE
 != bEnable)) {

3050  
ERROR
;

3053 if(
	gDRV_OK
 !
Iol_SFecMode
(
bEb
))

3055  
ERROR
;

3058  
	gNO_ERROR
;

3064 
INT32
 
DRV_GFecMode
(
BOOL
 *
bEb
)

3066 if(
	gNULL
 =
bEb
) {

3067  
ERROR
;

3070 if(
	gDRV_OK
 !
Iol_GFecMode
(
bEb
))

3072  
ERROR
;

3075  
	gNO_ERROR
;

3081 
INT32
 
DRV_AAddFrRu
(
ACL_FILTER_RULE_S
* 
pRu
)

3083 #i
defed
(
CONFIG_PRODUCT_EPN200
)

3084 
	gpRu
 = 
pRu
;

3085  
	gERROR
;

3087 
UINT32
 
	guiLPt
;

3089 
UINT32
 
	guiARuTy
;

3090 
UINT32
 
	guiARuNum
;

3091 
UINT32
 
	guiRuPd
 = 0;

3092 
BOOL_T
 
	gbSameV
 = 
BOOL_FALSE
;

3095 
DRV_RET_E
 
	gR
;

3096 
SLL_NODE_S
 *
	gpNode
 = 
NULL
;

3097 
ACL_FILTER_RULE_S
 *
	gpFr
 = 
NULL
;

3098 
ACL_DIRECTION_E
 
	gFrD
;

3100 if(
	gNULL
 =
pRu
)

3102 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3103  
	gERROR
;

3106 i(
	gBOOL_TRUE
 !
_Drv_CheckFrRu
(
pRu
))

3108 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3109  
	gERROR
;

3113 
CLgcMaskA
(&
uiLPtMask
);

3114 i(
	gDIRECTION_UPLINK
 =
pRu
->
De
){

3115 
SLgcMaskA
(&
uiLPtMask
);

3117 if(
	gDIRECTION_DOWNLINK
 =
pRu
->
De
){

3118 
SLgcMaskBNoCheck
(
LOGIC_UPPON_PORT
, &
uiLPtMask
);

3120 if(
	gDIRECTION_BOTH
 =
pRu
->
De
){

3122 
SLgcMaskA
(&
uiLPtMask
);

3123 
SLgcMaskBNoCheck
(
LOGIC_UPPON_PORT
, &
uiLPtMask
);

3126  
	gERROR
;

3129 
	gDRV_CFGLOCK
;

3130 
	guiARuNum
 = 
SLL_Cou
(&
EmFrDaLi
);

3131 
	gDRV_CFGUNLOCK
;

3132 if(
	gMAX_ACL_FILTER_NUM
 <
uiARuNum
)

3134 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3135  
	gERROR
;

3138 
	gDRV_CFGLOCK
;

3139 
SLL_Sn
(&
EmFrDaLi
, 
pNode
, 
SLL_NODE_S
 *)

3142 
ACL_FILTER_RULE_S
 *
	gpRec
 = (ACL_FILTER_RULE_S *)
SLL_GET_HANDLE
(
pNode
);

3145 
	guiRuPd
++;

3147 i((
	gpRec
->
	gTy
 =
pRu
->
Ty
) &&

3148 (
pRec
->
De
 =
pRu
->enDirect))

3150 
pRu
->
Ty
)

3152 
FILTER_SRC_MAC
:

3153 
FILTER_DEST_MAC
:

3155 i(
COMPARE_EQUAL
 =
MEM_COMPARE
(
pRec
->
unVue
.
aucMacAddr
, 
pRu
->unVue.aucMacAddr, 
MAC_ADDR_LEN
))

3157 
	gbSameV
 = 
BOOL_TRUE
;

3160 
	gFILTER_ETHER_TYPE
:

3162 i(
pRec
->
unVue
.
usEthTy
 =
pRu
->unValue.usEtherType)

3164 
bSameV
 = 
BOOL_TRUE
;

3167 
	gFILTER_VLAN_ID
:

3169 i(
pRec
->
unVue
.
usVnId
 =
pRu
->unValue.usVlanId)

3171 
bSameV
 = 
BOOL_TRUE
;

3174 
	gFILTER_SRC_IP
:

3175 
FILTER_DEST_IP
:

3176 
BIND_SRC_IP
:

3177 
BIND_DEST_IP
:

3179 i(
pRec
->
unVue
.
ulIpAddr
 =
pRu
->unValue.ulIpAddr)

3181 
bSameV
 = 
BOOL_TRUE
;

3184 
	gFILTER_SRC_TCP
:

3185 
FILTER_DEST_TCP
:

3186 
FILTER_SRC_UDP
:

3187 
FILTER_DEST_UDP
:

3189 i(
pRec
->
unVue
.
usPt
 =
pRu
->unValue.usPort)

3191 
bSameV
 = 
BOOL_TRUE
;

3195 
DRV_CFGUNLOCK
;

3196 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3197  
	gERROR
;

3200 i(
	gBOOL_TRUE
 =
bSameV
)

3202 
DRV_CFGUNLOCK
;

3203 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3204  
	gNO_ERROR
;

3208 
	gDRV_CFGUNLOCK
;

3210 i(
	gEOAM_FILTER_RULE_NUM_MAX
 <
uiRuPd
)

3212 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3213  
	gERROR
;

3216 
	gpRu
->
	gTy
)

3218 
	gFILTER_SRC_MAC
 :

3219 
uiARuTy
 = 
ACL_TRUST_SMAC
;

3221 
	gFILTER_DEST_MAC
 :

3222 
uiARuTy
 = 
ACL_TRUST_DMAC
;

3224 
	gFILTER_ETHER_TYPE
 :

3225 
uiARuTy
 = 
ACL_TRUST_ETHTYPE
;

3227 
	gFILTER_VLAN_ID
 :

3228 
uiARuTy
 = 
ACL_TRUST_CTAG_VID
;

3230 
	gFILTER_SRC_IP
 :

3231 
uiARuTy
 = 
ACL_TRUST_IPV4_SIP
;

3233 
	gFILTER_DEST_IP
 :

3234 
uiARuTy
 = 
ACL_TRUST_IPV4_DIP
;

3236 
	gBIND_SRC_IP
 :

3237 
BIND_DEST_IP
 :

3238  
ERROR
;

3239 
	gFILTER_SRC_TCP
 :

3240 
uiARuTy
 = 
ACL_TRUST_TCP_SPORT
;

3242 
	gFILTER_DEST_TCP
 :

3243 
uiARuTy
 = 
ACL_TRUST_TCP_DPORT
;

3245 
	gFILTER_SRC_UDP
 :

3246 
uiARuTy
 = 
ACL_TRUST_UDP_SPORT
;

3248 
	gFILTER_DEST_UDP
 :

3249 
uiARuTy
 = 
ACL_TRUST_UDP_DPORT
;

3252 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3253  
	gERROR
;

3257 
LgcPtFNoCheck
(
uiLPtIndex
, &
uiLPtMask
){

3258 if(
	gDRV_OK
 !
Iol_AddAFr
(
uiLPtIndex
, 0, 
uiARuTy
, (*)&(
pRu
->
unVue
))){

3259  
	gERROR
;

3263 i(
	gDIRECTION_UPLINK
 =
pRu
->
De
)

3265 
uiLPt
 = 
INVALID_PORT
;

3266 
	gFrD
 = 
ACL_DIRECTION_UPLINK
;

3268 if(
	gDIRECTION_DOWNLINK
 =
pRu
->
De
)

3270 
uiLPt
 = 
LOGIC_UPPON_PORT
;

3271 
	gFrD
 = 
ACL_DIRECTION_DOWNLINK
;

3273 if(
	gDIRECTION_BOTH
 =
pRu
->
De
)

3275 
uiLPt
 = 
INVALID_PORT
;

3276 
	gFrD
 = 
ACL_DIRECTION_BOTH
;

3280 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3281  
	gERROR
;

3285 
	gR
 = 
Iol_AddAFr
(
uiLPt
, 
uiRuPd
,

3286 
uiARuTy
,

3287 
FrD
,

3288 (*)&(
pRu
->
unVue
));

3289 if(
	gDRV_OK
 !
R
)

3291 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3292  
	gERROR
;

3295 
	gpFr
 = (
ACL_FILTER_RULE_S
 *)
mloc
((ACL_FILTER_RULE_S));

3296 i(
	gNULL
 =
pFr
)

3298 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3299  
	gVOS_ERR
;

3302 
memy
(
pFr
, 
pRu
, (
ACL_FILTER_RULE_S
));

3303 
	gpFr
->
	guiRuPd
 = 
uiRuPd
;

3306 
	gpNode
 = (
SLL_NODE_S
 *)
mloc
((SLL_NODE_S));

3307 i(
	gNULL
 =
pNode
)

3309 

(
pFr
);

3310 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3311  
	gVOS_ERR
;

3314 
SLL_In_Node
(
pNode
);

3315 
SLL_SET_HANDLE
(
pNode
, 
pFr
);

3316 
	gDRV_CFGLOCK
;

3317 
SLL_Add
(&
EmFrDaLi
, 
pNode
);

3318 
	gDRV_CFGUNLOCK
;

3322  
	gNO_ERROR
;

3331 
INT32
 
DRV_ADFrRu
(
ACL_FILTER_RULE_S
* 
pRu
)

3333 #i
defed
(
CONFIG_PRODUCT_EPN200
)

3334 
	gpRu
 = 
pRu
;

3335  
	gNO_ERROR
;

3337 
BOOL_T
 
	gbFound
 = 
BOOL_FALSE
;

3338 
UINT32
 
	guiARuNum
;

3339 
UINT32
 
	guiRuPd
 = 0;

3340 
SLL_NODE_S
 *
	gpNode
 = 
NULL
;

3341 
ACL_DIRECTION_E
 
	gFrD
;

3343 if(
	gNULL
 =
pRu
)

3345 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3346  
	gERROR
;

3349 i(
	gBOOL_TRUE
 !
_Drv_CheckFrRu
(
pRu
))

3351 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3352  
	gERROR
;

3355 
	gDRV_CFGLOCK
;

3356 
	guiARuNum
 = 
SLL_Cou
(&
EmFrDaLi
);

3357 
	gDRV_CFGUNLOCK
;

3358 i(
	guiARuNum
 == 0)

3360 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3361  
	gNO_ERROR
;

3364 
	gDRV_CFGLOCK
;

3365 
SLL_Sn
(&
EmFrDaLi
, 
pNode
, 
SLL_NODE_S
 *)

3367 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3368 
ACL_FILTER_RULE_S
 *
	gpRec
 = (ACL_FILTER_RULE_S *)
SLL_GET_HANDLE
(
pNode
);

3369 i((
	gpRec
->
	gTy
 =
pRu
->
Ty
) &&

3370 (
pRec
->
De
 =
pRu
->enDirect))

3372 
pRec
->
Ty
)

3374 
FILTER_SRC_MAC
:

3375 
FILTER_DEST_MAC
:

3376 i(
COMPARE_EQUAL
 =
MEM_COMPARE
(
pRec
->
unVue
.
aucMacAddr
, 
pRu
->unVue.aucMacAddr, 
MAC_ADDR_LEN
))

3378 
	gbFound
 = 
BOOL_TRUE
;

3381 
	gFILTER_ETHER_TYPE
:

3382 i(
pRec
->
unVue
.
usEthTy
 =
pRu
->unValue.usEtherType)

3384 
bFound
 = 
BOOL_TRUE
;

3387 
	gFILTER_VLAN_ID
:

3388 i(
pRec
->
unVue
.
usVnId
 =
pRu
->unValue.usVlanId)

3390 
bFound
 = 
BOOL_TRUE
;

3393 
	gFILTER_SRC_IP
:

3394 
FILTER_DEST_IP
:

3395 
BIND_SRC_IP
:

3396 
BIND_DEST_IP
:

3397 i(
pRec
->
unVue
.
ulIpAddr
 =
pRu
->unValue.ulIpAddr)

3399 
bFound
 = 
BOOL_TRUE
;

3402 
	gFILTER_SRC_TCP
:

3403 
FILTER_DEST_TCP
:

3404 
FILTER_SRC_UDP
:

3405 
FILTER_DEST_UDP
:

3406 i(
pRec
->
unVue
.
usPt
 =
pRu
->unValue.usPort)

3408 
bFound
 = 
BOOL_TRUE
;

3416 i(
	gbFound
 =
BOOL_TRUE
)

3418 
uiRuPd
 = 
pRec
->uiRulePrecedence;

3420 
	gpRu
->
	gDe
)

3422 
	gDIRECTION_UPLINK
:

3423 
FrD
 = 
ACL_DIRECTION_UPLINK
;

3425 
	gDIRECTION_DOWNLINK
:

3426 
FrD
 = 
ACL_DIRECTION_DOWNLINK
;

3428 
	gDIRECTION_BOTH
:

3429 
FrD
 = 
ACL_DIRECTION_BOTH
;

3432 
DRV_CFGUNLOCK
;

3433 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3434  
	gERROR
;

3436 
dg_tf
("\nd d:%d\n",
FrD
);

3437 if(
	gDRV_OK
 !
Iol_DAFrByPt
(
INVALID_PORT
, 
uiRuPd
, 
FrD
))

3439 
	gDRV_CFGUNLOCK
;

3440 
dg_tf
("\nfunc:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

3441  
	gERROR
;

3444 
SLL_De
(&
EmFrDaLi
, 
pNode
);

3445 

(
pRec
);

3446 

(
pNode
);

3450 
	gDRV_CFGUNLOCK
;

3452  
	gNO_ERROR
;

3457 
m_asmk_lol_t
 
	glol_asmk
[4];

3459 
Ctc_AddClfRmk2Lol
(
UINT32
 
t
,

3460 
UINT32
 
edOfRu
,

3461 
m_asmk_rubody_t
 *
pClsRu
,

3462 
m_asmk_fldbody_t
 *
pClsFld
)

3464 
	gDRV_CFGLOCK
;

3465 
	glol_asmk
[
t
].
	gClsRu
[
edOfRu
].
	gedOfRu
 = 
pClsRu
->precedenceOfRule;

3466 
	glol_asmk
[
t
].
	gClsRu
[
edOfRu
].
	gnOfRu
 = 
pClsRu
->
nOfRu
;

3467 
	glol_asmk
[
t
].
	gClsRu
[
edOfRu
].
	gqueueMd
 = 
pClsRu
->
queueMd
;

3468 
	glol_asmk
[
t
].
	gClsRu
[
edOfRu
].
	ghPriMk
 = 
pClsRu
->
hPriMk
;

3469 
	glol_asmk
[
t
].
	gClsRu
[
edOfRu
].
	gnumOfFld
 = 
pClsRu
->
numOfFld
;

3470 
	glol_asmk
[
t
].
	gClsFld
[
edOfRu
].
	gfldSe
 = 
pClsFld
->
fldSe
;

3471 
memy
(
lol_asmk
[
t
].
ClsFld
[
edOfRu
].
mchVue
, 
pClsFld
->matchValue, 6);

3472 
	glol_asmk
[
t
].
	gClsFld
[
edOfRu
].
	gݔ
 = 
pClsFld
->
ݔ
;

3473 
	gDRV_CFGUNLOCK
;

3476 
Ctc_CˬClfRmk2LolByPt
(
UINT32
 
t
)

3478 
	gDRV_CFGLOCK
;

3479 
memt
(&
lol_asmk
[
t
], 0, (
m_asmk_lol_t
));

3480 
	gDRV_CFGUNLOCK
;

3483 
Ctc_CˬClfRmk2LolByPc
(
UINT32
 
t
, UINT32 
edOfRu
)

3485 
	gDRV_CFGLOCK
;

3486 
memt
(&
lol_asmk
[
t
].
ClsRu
[
edOfRu
], 0, (
m_asmk_rubody_t
));

3487 
memt
(&
lol_asmk
[
t
].
ClsFld
[
edOfRu
], 0, (
m_asmk_fldbody_t
));

3488 
	gDRV_CFGUNLOCK
;

3491 
Ctc_GClfRmk2Lol
(
UINT32
 
t
,

3492 
UINT32
 
edOfRu
,

3493 
m_asmk_rubody_t
 *
pClsRu
,

3494 
m_asmk_fldbody_t
 *
pClsFld
)

3496 
	gpClsRu
->
	gedOfRu
 = 
lol_asmk
[
t
].
ClsRu
[
edOfRu
].precedenceOfRule;

3497 
	gpClsRu
->
	gnOfRu
 = 
lol_asmk
[
t
].
ClsRu
[
edOfRu
].
nOfRu
;

3498 
	gpClsRu
->
	gqueueMd
 = 
lol_asmk
[
t
].
ClsRu
[
edOfRu
].
queueMd
;

3499 
	gpClsRu
->
	ghPriMk
 = 
lol_asmk
[
t
].
ClsRu
[
edOfRu
].
hPriMk
;

3500 
	gpClsRu
->
	gnumOfFld
 = 
lol_asmk
[
t
].
ClsRu
[
edOfRu
].
numOfFld
;

3501 
	gpClsFld
->
	gfldSe
 = 
lol_asmk
[
t
].
ClsFld
[
edOfRu
].
fldSe
;

3502 
memy
(
pClsFld
->
mchVue
, 
lol_asmk
[
t
].
ClsFld
[
edOfRu
].matchValue, 6);

3503 
	gpClsFld
->
	gݔ
 = 
lol_asmk
[
t
].
ClsFld
[
edOfRu
].
ݔ
;

3506 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

3509 
INT32
 
DRV_CtcAddClfRmkByPc
(
UINT32
 
t
,

3510 
UINT32
 
edOfRu
,

3511 
m_asmk_rubody_t
 *
pClsRu
,

3512 
m_asmk_fldbody_t
 *
pClsFld
)

3514 
UINT32
 
	guiARuTy
;

3515 
UINT32
 
	guiRemkPri
;

3516 
UINT32
 
	guiQueueMd
;

3517 
UINT32
 
	guiFldNum
;

3518 
UINT32
 
	guiFldId
;

3519 
ACL_CLF_RMK_VAL_EN
 
	gRuVue
;

3522 
UINT8
 
	gaucSavedMacAdd1
[
MAC_ADDR_LEN
] = {0x01, 0x80, 0xC2, 0x0, 0x0, 0x3F};

3524 
UINT8
 
	gaucSavedMacAdd2
[
MAC_ADDR_LEN
] = {0x01, 0x0, 0x5E, 0x0, 0x0, 0x0};

3526 if((
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
)|| (
NULL
 =
pClsRu
|| (NULL =
pClsFld
))

3528 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

3529  
	gERROR
;

3532 
	guiFldNum
 = (
UINT32
)(
pClsRu
->
numOfFld
);

3533 
	guiRemkPri
 = (
UINT32
)(
pClsRu
->
hPriMk
);

3534 
	guiQueueMd
 = (
UINT32
)(
pClsRu
->
queueMd
);

3537 i(
	guiFldNum
 > 
	gCLF_RMK_RULES_IN_1_PRECEDENCE_MAX
)

3539  
	gERROR
;

3542 
	guiFldId
 = 0; uiFldId < 
	guiFldNum
; uiFieldId++)

3544 
	gpClsFld
->
	gfldSe
)

3546 
	gOAM_CTC_CLS_FIELD_TYPE_DA_MAC
 :

3548 
UINT8
 
aucZoMacAdd
[
MAC_ADDR_LEN
] = {0};

3550 
memy
(
RuVue
.
aucMacAddr
, 
pClsFld
->
mchVue
, 
MAC_ADDR_LEN
);

3553 i((0 =
memcmp
(
RuVue
.
aucMacAddr
, 
aucSavedMacAdd1
, (
MAC_ADDR_LEN
 - 1))) &&

3554 (
	gRuVue
.
	gaucMacAddr
[5] <
aucSavedMacAdd1
[5])) ||

3555 (0 =
memcmp
(
RuVue
.
aucMacAddr
, 
aucSavedMacAdd2
, (
MAC_ADDR_LEN
 - 3))) )

3557  
	gERROR
;

3561 i(0 =
memcmp
(
RuVue
.
aucMacAddr
, 
aucZoMacAdd
, 
MAC_ADDR_LEN
))

3564 
	guiARuTy
 = 
ACL_TRUST_PORT
;;

3569 
	guiARuTy
 = 
ACL_TRUST_DMAC
;

3573 
	gOAM_CTC_CLS_FIELD_TYPE_SA_MAC
 :

3574 
uiARuTy
 = 
ACL_TRUST_SMAC
;

3575 
memy
(
RuVue
.
aucMacAddr
, 
pClsFld
->
mchVue
, 
MAC_ADDR_LEN
);

3578 i((0 =
memcmp
(
RuVue
.
aucMacAddr
, 
aucSavedMacAdd1
, (
MAC_ADDR_LEN
 - 1))) &&

3579 (
	gRuVue
.
	gaucMacAddr
[5] <
aucSavedMacAdd1
[5])) ||

3580 (0 =
memcmp
(
RuVue
.
aucMacAddr
, 
aucSavedMacAdd2
, (
MAC_ADDR_LEN
 - 3))) )

3582  
	gERROR
;

3587 
	gOAM_CTC_CLS_FIELD_TYPE_ETH_PRI
 :

3588 
uiARuTy
 = 
ACL_TRUST_CTAG_PRIO
;

3589 
	gRuVue
.
	gulVue
 = 
pClsFld
->
mchVue
[5];

3591 
	gOAM_CTC_CLS_FIELD_TYPE_VLAN_ID
 :

3592 
uiARuTy
 = 
ACL_TRUST_CTAG_VID
;

3593 
	gRuVue
.
	gulVue
 = (
pClsFld
->
mchVue
[4]<<8) |stClsField->matchValue[5];

3595 
	gOAM_CTC_CLS_FIELD_TYPE_ETHER_TYPE
 :

3596 
uiARuTy
 = 
ACL_TRUST_ETHTYPE
;

3597 
	gRuVue
.
	gulVue
 = (
pClsFld
->
mchVue
[4]<<8) |stClsField->matchValue[5];

3599 
	gOAM_CTC_CLS_FIELD_TYPE_DST_IP
 :

3600 
uiARuTy
 = 
ACL_TRUST_IPV4_DIP
;

3601 
memy
(&
RuVue
.
ulVue
, &(
pClsFld
->
mchVue
[2]), (enRuleValue.ulValue));

3603 
	gOAM_CTC_CLS_FIELD_TYPE_SRC_IP
 :

3604 
uiARuTy
 = 
ACL_TRUST_IPV4_SIP
;

3605 
memy
(&
RuVue
.
ulVue
, &(
pClsFld
->
mchVue
[2]), (enRuleValue.ulValue));

3607 
	gOAM_CTC_CLS_FIELD_TYPE_IP_TYPE
 :

3608 
uiARuTy
 = 
ACL_TRUST_IPV4_PROTOCOL
;

3609 
	gRuVue
.
	gulVue
 = 
pClsFld
->
mchVue
[5];

3614 
	gOAM_CTC_CLS_FIELD_TYPE_IP_DSCP
 :

3615 
uiARuTy
 = 
ACL_TRUST_IPV4_TOS
;

3616 
	gRuVue
.
	gulVue
 = (
pClsFld
->
mchVue
[5] << 2 );

3620 
	gOAM_CTC_CLS_FIELD_TYPE_IP_PRECEDENCE
 :

3621 
uiARuTy
 = 
ACL_TRUST_IPV4_TOS
;

3622 
	gRuVue
.
	gulVue
 = 
pClsFld
->
mchVue
[5];

3625 
	gOAM_CTC_CLS_FIELD_TYPE_L4_SRC_PORT
 :

3629 
uiARuTy
 = 
ACL_TRUST_TCP_SPORT
;

3630 
	gRuVue
.
	gulVue
 = (
pClsFld
->
mchVue
[4]<<8) |stClsField->matchValue[5];

3631 if(
	gDRV_OK
 !
Iol_AddCtcClfByPt
(
t
, 
edOfRu
,

3632 
uiARuTy
,

3633 (*)&
RuVue
,

3634 
uiRemkPri
))

3636  
	gERROR
;

3639 if(
	gDRV_OK
 !
Iol_AddCtcClfPriToQueueByPt
(
t
, 
edOfRu
,

3640 
uiQueueMd
))

3642  
	gERROR
;

3645 
	guiARuTy
 = 
ACL_TRUST_UDP_SPORT
;

3647 
	gOAM_CTC_CLS_FIELD_TYPE_L4_DST_PORT
 :

3651 
uiARuTy
 = 
ACL_TRUST_TCP_DPORT
;

3652 
	gRuVue
.
	gulVue
 = (
pClsFld
->
mchVue
[4]<<8) |stClsField->matchValue[5];

3653 if(
	gDRV_OK
 !
Iol_AddCtcClfByPt
(
t
, 
edOfRu
,

3654 
uiARuTy
,

3655 (*)&
RuVue
,

3656 
uiRemkPri
))

3658  
	gERROR
;

3661 if(
	gDRV_OK
 !
Iol_AddCtcClfPriToQueueByPt
(
t
, 
edOfRu
,

3662 
uiQueueMd
))

3664  
	gERROR
;

3667 
	guiARuTy
 = 
ACL_TRUST_UDP_DPORT
;

3670  
ERROR
;

3673 if(
	gDRV_OK
 !
Iol_AddCtcClfByPt
(
t
, 
edOfRu
,

3674 
uiARuTy
,

3675 (*)&
RuVue
,

3676 
uiRemkPri
))

3678  
	gERROR
;

3681 if(
	gDRV_OK
 !
Iol_AddCtcClfPriToQueueByPt
(
t
, 
edOfRu
,

3682 
uiQueueMd
))

3684  
	gERROR
;

3689  
	gNO_ERROR
;

3695 
INT32
 
DRV_CtcDClfRmkByPc
(
UINT32
 
t
, UINT32 
edOfRu
)

3697 if(
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
))

3699  
ERROR
;

3702 if(
	gDRV_OK
 !
Iol_DCtcClfByPc
(
t
, 
edOfRu
))

3704  
	gERROR
;

3707 if(
	gDRV_OK
 =
Iol_DCtcClfPriToQueueByPc
(
t
, 
edOfRu
))

3709  
	gERROR
;

3717 
INT32
 
DRV_CtcCˬClfRmkByPt
(
UINT32
 
t
)

3719 if(
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
))

3721  
ERROR
;

3724 if(
	gDRV_OK
 !
Iol_CˬCtcClfByPt
(
t
))

3726  
ERROR
;

3729 if(
	gDRV_OK
 !
Iol_CˬCtcClfPriToQueueByPt
(
t
))

3731  
ERROR
;

3741 
INT32
 
DRV_CheckMڙCi
(
UINT8
 
t
)

3743 
	gi
 = 0;

3744 
logic_pmask_t
 
	gm_mڙ_lmask
 = {0x00};

3746 
SLgcMaskB
((
pt_num_t
)
t
, &
m_mڙ_lmask
);

3748 
	gi
 = 0; i < (
	glogic_pmask_t
); i++)

3750 i((((*)&
	gm_mڙ_lmask
)[
i
]& (((*)&
	gm__mr_lmask
)[i]) ) ||

3751 (((*)&
	gm_mڙ_lmask
)[
i
]& (((*)&
	gm_out_mr_lmask
)[i])) )

3753  
	gERROR
;

3757  
	gNO_ERROR
;

3764 
INT32
 
DRV_SMڙ
(
UINT8
 
t
, UINT8 
b
)

3766 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

3767 
	gt
 = 
DRV_OK
;

3769 
	gt
 = 
t
 - 1;

3771 if(
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
))

3773  
ERROR
;

3776 i(
	gDISABLE
 =
b
)

3778 i(
m_mڙ_pt
 =(
UINT32
)
t
)

3780 
m_mڙ_pt
 = 
MONITOR_PORT_DEFAULT_VALUE
;

3782 
Iol_SMrGroup
(0xff, 
m__mr_lmask
, 
m_out_mr_lmask
);

3784  
	gNO_ERROR
;

3787 i(
	gNO_ERROR
 !
DRV_CheckMڙCi
(
t
))

3789  
ERROR
;

3792 
	gm_mڙ_pt
 = (
UINT32
)
t
;

3794 if(
LgcMaskNNu
(&
m__mr_lmask
|| LgcMaskNNu(&
m_out_mr_lmask
))

3796 
	gt
 = 
Iol_SMrGroup
(
m_mڙ_pt
, 
m__mr_lmask
, 
m_out_mr_lmask
);

3799 if(
	gDRV_OK
 =
t
)

3801  
NO_ERROR
;

3805  
	gERROR
;

3808 
	gt
 = 
t
;

3809  
	gERROR
;

3824 
INT32
 
DRV_AddMr
(
UINT8
 
t
, 
UCHAR
 
ucMrDe
)

3826 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

3827 
	gt
 = 
DRV_OK
;

3828 
logic_pmask_t
 * 
	gpm__mr_lmask_mp
 = 
NULL
;

3829 
logic_pmask_t
 * 
	gpm_out_mr_lmask_mp
 = 
NULL
;

3832 
logic_pmask_t
 
	gm__mr_lmask_mp
 = {0x00};

3833 
logic_pmask_t
 
	gm_out_mr_lmask_mp
 = {0x00};

3835 
memy
(&
m__mr_lmask_mp
, &
m__mr_lmask
, (oam_in_mirror_lmask_temp));

3836 
memy
(&
m_out_mr_lmask_mp
, &
m_out_mr_lmask
, (oam_out_mirror_lmask_temp));

3838 
	gpm__mr_lmask_mp
 = &
m__mr_lmask_mp
;

3839 
	gpm_out_mr_lmask_mp
 = &
m_out_mr_lmask_mp
;

3841 
	gpm__mr_lmask_mp
 = &
m__mr_lmask
;

3842 
	gpm_out_mr_lmask_mp
 = &
m_out_mr_lmask
;

3844 
	gt
 = 
t
 - 1;

3846 i((
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
)|| (܈=
m_mڙ_pt
))

3848  
ERROR
;

3851 
	gucMrDe
)

3853 
	gIN_MIRROR
 :

3854 
SLgcMaskB
((
pt_num_t
)
t
, 
pm__mr_lmask_mp
);

3855 
CLgcMaskB
((
pt_num_t
)
t
, 
pm_out_mr_lmask_mp
);

3857 
	gOUT_MIRROR
 :

3858 
SLgcMaskB
((
pt_num_t
)
t
, 
pm_out_mr_lmask_mp
);

3859 
CLgcMaskB
((
pt_num_t
)
t
, 
pm__mr_lmask_mp
);

3861 
	gBOTH_MIRROR
 :

3862 
SLgcMaskB
((
pt_num_t
)
t
, 
pm__mr_lmask_mp
);

3863 
SLgcMaskB
((
pt_num_t
)
t
, 
pm_out_mr_lmask_mp
);

3866  
ERROR
;

3870 i((
LgcMaskNNu
(
pm__mr_lmask_mp
)) &&

3871 (
LgcMaskNNu
(
pm_out_mr_lmask_mp
)) &&

3872 (0 !
memcmp
(
pm__mr_lmask_mp
, 
pm_out_mr_lmask_mp
, (
m_out_mr_lmask_mp
))))

3874  
	gERROR
;

3877 
memy
(&
m__mr_lmask
, &
m__mr_lmask_mp
, (oam_in_mirror_lmask_temp));

3878 
memy
(&
m_out_mr_lmask
, &
m_out_mr_lmask_mp
, (oam_out_mirror_lmask_temp));

3880 if(
	gMONITOR_PORT_DEFAULT_VALUE
 =
m_mڙ_pt
)

3882  
NO_ERROR
;

3885 if(
LgcMaskNNu
(&
m__mr_lmask
|| LgcMaskNNu(&
m_out_mr_lmask
))

3887 
	gt
 = 
Iol_SMrGroup
(
m_mڙ_pt
, 
m__mr_lmask
, 
m_out_mr_lmask
);

3890 if(
	gDRV_OK
 =
t
)

3892  
NO_ERROR
;

3896  
	gERROR
;

3899 
	gt
 = 
t
;

3900 
	gucMrDe
 = 
ucMrDe
;

3901  
	gERROR
;

3909 
INT32
 
DRV_DMr
(
UINT8
 
t
, 
UCHAR
 
ucMrDe
)

3911 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

3912 
	gt
 = 
DRV_OK
;

3913 
logic_pmask_t
 * 
	gpm__mr_lmask_mp
 = 
NULL
;

3914 
logic_pmask_t
 * 
	gpm_out_mr_lmask_mp
 = 
NULL
;

3917 
logic_pmask_t
 
	gm__mr_lmask_mp
 = {0x00};

3918 
logic_pmask_t
 
	gm_out_mr_lmask_mp
 = {0x00};

3920 
memy
(&
m__mr_lmask_mp
, &
m__mr_lmask
, (oam_in_mirror_lmask_temp));

3921 
memy
(&
m_out_mr_lmask_mp
, &
m_out_mr_lmask
, (oam_out_mirror_lmask_temp));

3923 
	gpm__mr_lmask_mp
 = &
m__mr_lmask_mp
;

3924 
	gpm_out_mr_lmask_mp
 = &
m_out_mr_lmask_mp
;

3926 
	gpm__mr_lmask_mp
 = &
m__mr_lmask
;

3927 
	gpm_out_mr_lmask_mp
 = &
m_out_mr_lmask
;

3929 
	gt
 = 
t
 - 1;

3931 if(
	gFALSE
 =
IsVidLgcPt
((
pt_num_t
)
t
))

3933  
ERROR
;

3936 
	gucMrDe
)

3938 
	gIN_MIRROR
 :

3939 
CLgcMaskB
((
pt_num_t
)
t
, 
pm__mr_lmask_mp
);

3941 
	gOUT_MIRROR
 :

3942 
CLgcMaskB
((
pt_num_t
)
t
, 
pm_out_mr_lmask_mp
);

3944 
	gBOTH_MIRROR
 :

3945 
CLgcMaskB
((
pt_num_t
)
t
, 
pm__mr_lmask_mp
);

3946 
CLgcMaskB
((
pt_num_t
)
t
, 
pm_out_mr_lmask_mp
);

3949  
ERROR
;

3953 i((
LgcMaskNNu
(
pm__mr_lmask_mp
)) &&

3954 (
LgcMaskNNu
(
pm_out_mr_lmask_mp
)) &&

3955 (0 !
memcmp
(
pm__mr_lmask_mp
, 
pm_out_mr_lmask_mp
, (
m_out_mr_lmask_mp
))))

3957  
	gERROR
;

3960 
memy
(&
m__mr_lmask
, &
m__mr_lmask_mp
, (oam_in_mirror_lmask_temp));

3961 
memy
(&
m_out_mr_lmask
, &
m_out_mr_lmask_mp
, (oam_out_mirror_lmask_temp));

3963 if(
	gMONITOR_PORT_DEFAULT_VALUE
 =
m_mڙ_pt
)

3965  
NO_ERROR
;

3968 
	gt
 = 
Iol_SMrGroup
(
m_mڙ_pt
, 
m__mr_lmask
, 
m_out_mr_lmask
);

3970 if(
	gDRV_OK
 =
t
)

3972  
NO_ERROR
;

3976  
	gERROR
;

3979 
	gt
 = 
t
;

3980 
	gucMrDe
 = 
ucMrDe
;

3981  
	gNO_ERROR
;

3991 
BOOL_T
 
CRdOicsPow
()

3994 
UCHAR
 
	gaucDa
[
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
+1] = {0};

3995 
UCHAR
 
	gaucZoDa
[
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
];

3996 
	giR
 = 
NO_ERROR
;

3998 
	giR
 = 
i2cRdRdom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS1
,

3999 
IIC_OPTICS_TRANSCEIVER_VENDOR_PN_FIRST_REGISTER
,

4000 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
,

4001 &
aucDa
[0]);

4003 i(
	gNO_ERROR
 !
iR
)

4005  
BOOL_FALSE
;

4008 
MEM_SET_ZERO
(
aucZoDa
, 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
);

4010 i(0 =
MEM_COMPARE
(
aucDa
, 
aucZoDa
, 
OPTICS_TRANSCEIVER_VENDOR_PN_LEN
))

4012  
	gBOOL_FALSE
;

4015  
	gBOOL_TRUE
;

4022 
ULONG
 
Drv_GOicsTnsmPow
(
USHORT
 *
pusTnsPow
)

4024 
UINT8
 
	gaucTnsPow
[2] = {0};

4025 
	giR
 = 
NO_ERROR
;

4027 if(
	gNULL
 =
pusTnsPow
)

4029  
VOS_ERR
;

4032 i(
	gBOOL_TRUE
 !
CRdOicsPow
())

4034  
VOS_NOT_SUPPORT
;

4037 
	giR
 = 
i2cRdRdom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4038 
IIC_OPTICS_TRANSCEIVER_TXPOWER_MSB_REGISTER
,

4040 &
aucTnsPow
[0]);

4042 i(0 > 
	giR
)

4044  
	gVOS_ERR
;

4047 *
	gpusTnsPow
 = (
aucTnsPow
[
OFFSET_MSB
] << 8U|ucTnsPow[
OFFSET_LSB
];

4049  
	gVOS_OK
;

4059 
ULONG
 
Drv_GOicsReivePow
(
USHORT
 *
pusReivPow
)

4061 
UINT8
 
	gaucReiPow
[2] = {0};

4062 
	giR
 = 
NO_ERROR
;

4064 if(
	gNULL
 =
pusReivPow
)

4066  
VOS_ERR
;

4069 i(
	gBOOL_TRUE
 !
CRdOicsPow
())

4071  
VOS_ERR
;

4074 
	giR
 = 
i2cRdRdom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4075 
IIC_OPTICS_TRANSCEIVER_RXPOWER_MSB_REGISTER
,

4077 
aucReiPow
);

4078 i(0 > 
	giR
)

4080  
	gVOS_ERR
;

4082 *
	gpusReivPow
 = (
aucReiPow
[
OFFSET_MSB
] << 8U|ucReiPow[
OFFSET_LSB
];

4084  
	gVOS_OK
;

4087 
gDig
(
usNumb
)

4089 
	gi
 = 0;

4090 
	gusTempNum
 = 
usNumb
;

4091 
	gusTempNum
)

4093 
	gusTempNum
 = 
usTempNum
/10;

4094 
	gi
++;

4096  
	gi
;

4098 
fdPow
(
dPowDa
)

4100 
	gi
;

4101 if(
	gdPowDa
 <0.0 || dPowerData >10.0)

4104 
	gi
 = 0; i<100; i++)

4106 if(
	gdPowDa
 - 
	gg_adPow
[
i
][0] < 0.000001 && dPowerData - g_adPower[i][0] > -0.000001)

4107  
	gg_adPow
[
i
][1];

4111 
GOics
(
usPowDa
)

4113 
	giDig
;

4114 
	gdPowDa
;

4115 
	gdPow
;

4117 
	giDig

gDig
(
usPowDa
);

4119 
	giDig
)

4122 
dPowDa
 = ()
usPowDa
/10.0;

4123 
	gdPow
 = 10*(
fdPow
(
dPowDa
) + 1.0 -4.0);

4126 
dPowDa
 = ()(()((
usPowDa
 % 10)/1))/10.0;

4128 
	gdPowDa
 = 
dPowDa
+ ()(
usPowDa
/10);

4129 
	gdPow
 = 10*(
fdPow
(
dPowDa
) + 1.0 -4.0);

4132 
dPowDa
 = ()(()((
usPowDa
 % 100)/10))/10.0;

4133 
	gdPowDa
 = 
dPowDa
+ ()(
usPowDa
/100);

4134 
	gdPow
 = 10*(
fdPow
(
dPowDa
) + 2.0 -4.0);

4137 
dPowDa
 = ()(()((
usPowDa
 % 1000)/100))/10.0;

4138 
	gdPowDa
 = 
dPowDa
+ ()(
usPowDa
/1000);

4139 
	gdPow
10*(
fdPow
(
dPowDa
) + 3.0 -4.0);

4142 
dPowDa
()(()((
usPowDa
 % 10000)/1000))/10.0;

4143 
	gdPowDa

dPowDa
+ ()(
usPowDa
/10000);

4144 
	gdPow
10*(
fdPow
(
dPowDa
) + 4.0 -4.0);

4147 
dPow
 = 0.0;

4151  
	gdPow
;

4165 
ULONG
 
Drv_GOicsPow
(
FLOAT
 *
pReivPow
, FLOAT *
pTnsPow
)

4167 
ULONG
 
	gulR
 = 
VOS_OK
;

4168 
USHORT
 
	gusReivPow
 = 0;

4169 
USHORT
 
	gusTnsPow
 = 0;

4171 if((
	gNULL
 =
pReivPow
|| (
NULL
 =
pTnsPow
))

4173  
VOS_ERR
;

4176 
	gulR
 = 
Drv_GOicsReivePow
(&
usReivPow
);

4177 
	gulR
 +
Drv_GOicsTnsmPow
(&
usTnsPow
);

4179 i(
	gVOS_OK
 !
ulR
)

4181  
VOS_ERR
;

4184 if((
	gFALSE
 =
g_bPLos
&& (
BOOL_FALSE
 =
g_bLightAlways
))

4186 *
pReivPow
 = 
MIN_RECIVE_OPTIC_POWER
;

4187 *
	gpTnsPow
 = 
MIN_RECIVE_OPTIC_POWER
;

4193 *
	gpReivPow
 = (
FLOAT
)
GOics
(
usReivPow
);

4194 *
	gpTnsPow
 = (
FLOAT
)
GOics
(
usTnsPow
);

4195 
CHECK_OPTIC_POWER
(*
pReivPow
);

4196 
CHECK_OPTIC_POWER
(*
pTnsPow
);

4198  
	gVOS_OK
;

4204 
ULONG
 
Drv_GOicsTemtu
(
SHORT
 *
psTemrue
, 
USHORT
 *
psVޏge
, USHORT *
psBs
)

4206 
UINT8
 
	gaucDa
[6] = {0};

4207 sigd 
	gcDa
 = 0;

4208 
	giR
 = 
NO_ERROR
;

4210 if((
	gNULL
 =
psTemrue
|| (
NULL
 =
psVޏge
|| (NULL =
psBs
))

4212  
VOS_ERR
;

4215 i(
	gBOOL_TRUE
 !
CRdOicsPow
())

4217  
VOS_ERR
;

4220 
	giR
 = 
i2cRdRdom
(
IIC_OPTICS_TRANSCEIVER_ADDRESS2
,

4221 
IIC_OPTICS_TRANSCEIVER_TEMPERATURE_MSB_REGISTER
,

4223 &
aucDa
[0]);

4224 i(0 > 
	giR
)

4226  
	gVOS_ERR
;

4229 
	gcDa
 = ()
aucDa
[0];

4230 *
	gpsTemrue
 = 
cDa
;

4232 *
	gpsVޏge
 = (
aucDa
[
OFFSET_MSB
 + 2] << 8U|ucDa[
OFFSET_LSB
 + 2];

4233 *
	gpsBs
 = (
aucDa
[
OFFSET_MSB
 + 4] << 8U|ucDa[
OFFSET_LSB
 + 4];

4235  
	gVOS_OK
;

4241 
INT32
 
DRV_GPtQqCfg
(
UINT32
 
uiLPtId
, 
PORT_QINQ_S
 *
pQqCfg
)

4245 
memy
(
pQqCfg
, 
g_aUniQqMode
 + 
uiLPtId
, (
PORT_QINQ_S
));

4248  
	gNO_ERROR
;

4255 
INT32
 
DRV_SPtQqCfg
(
UINT32
 
uiLPtId
, 
PORT_QINQ_S
 *
pQqCfg
)

4258 
memy
(
g_aUniQqMode
 + 
uiLPtId
, 
pQqCfg
, (
PORT_QINQ_S
));

4261  
	gNO_ERROR
;

4267 
STATIC
 
INT32
 
DRV_CheckVnFQqMode
(
UINT32
 
uiLPtId
, UINT32 
uiVnId
)

4269 
UINT32
 
	guiLPtIndex
;

4270 
CTC_VLAN_CFG_S
 
	gVnMode
;

4273 
memt
(&
VnMode
, 0, (stVlanMode));

4275 
	guiLPtIndex
 = 1; uiLPtIndex <
MAX_PORT_NUM
; uiLPortIndex++)

4277 i(
	guiLPtIndex
 =
uiLPtId
)

4283 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

4284 if(
	gNO_ERROR
 !
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
))

4289 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

4291 
UINT32
 
uiVnIndex
;

4293 
	guiVnIndex
 = 0; uiVnIndex < 
	gVnMode
.
	gnumb_of_s
; uiVlanIndex++)

4296 i((
	gVnMode
.
	gvn_li
[
uiVnIndex
*2] !
VnMode
.
vn_li
[uiVlanIndex*2 + 1]) &&

4297 ((
uiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2]) ||

4298 (
uiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2 + 1])))

4300  
FALSE
;

4306  
	gTRUE
;

4312 
INT32
 
DRV_RetQqPvid
(
UINT32
 
uiLPtId
)

4314 
INT32
 
	giR
 = 
NO_ERROR
;

4315 
UINT32
 
	guiPvid
 = 0;

4316 
CTC_VLAN_CFG_S
 
	gVnMode
;

4317 
PORT_QINQ_S
 
	gQqCfg
;

4320 
memt
(&
VnMode
, 0, (stVlanMode));

4322 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

4323 
	giR
 = 
_CTC_GPtVnModeCfg
(
uiLPtId
, &
VnMode
);

4324 i(
	gNO_ERROR
 !
iR
)

4326 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4327  
	gERROR
;

4332 
	giR
 = 
DRV_GPtQqCfg
(
uiLPtId
, &
QqCfg
);

4333 i(
	gNO_ERROR
 !
iR
)

4335  
ERROR
;

4338 i(
	gTRUE
 !
QqCfg
.
bEb
)

4340  
NO_ERROR
;

4344 
	guiPvid
 = 
QqCfg
.
uiPvid
;

4346 
	giR
 = 
dQqPvidReS
(
uiPvid
, 0);

4347 i(
	gNO_ERROR
 !
iR
)

4349 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4350  
	gERROR
;

4353 
	gQqCfg
.
	gbEb
 = 
FALSE
;

4355 
	giR
 = 
DRV_SPtQqCfg
(
uiLPtId
, &
QqCfg
);

4356 i(
	gNO_ERROR
 !
iR
)

4358  
ERROR
;

4361  
	gNO_ERROR
;

4367 
INT32
 
DRV_EbPtQq
(
UINT32
 
uiLPtId
, UINT32 
uiTpid
, UINT32 
uiPvid
, UINT32 
uiPriܙy
)

4369 
INT32
 
	giR
 = 
NO_ERROR
;

4370 
CTC_VLAN_CFG_S
 
	gVnMode
;

4371 
PORT_QINQ_S
 
	gQqCfg
;

4374 
memt
(&
VnMode
, 0, (stVlanMode));

4376 
	giR
 = 
DRV_GPtQqCfg
(
uiLPtId
, &
QqCfg
);

4377 i(
	gNO_ERROR
 !
iR
)

4379 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4380  
	gERROR
;

4383 i((
	gTRUE
 =
QqCfg
.
bEb
) &&

4384 (
uiPvid
 =
QqCfg
.uiPvid) &&

4385 (
uiTpid
 =
QqCfg
.uiTpid) &&

4386 (
uiPriܙy
 =
QqCfg
.uiPriority))

4388  
NO_ERROR
;

4392 
	giR
 = 
DRV_CheckVnFQqMode
(
uiLPtId
, 
uiPvid
);

4393 i(
	gFALSE
 =
iR
)

4395 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4396  
	gERROR
;

4400 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

4401 
	giR
 = 
CTC_DRV_STntVn
(
uiLPtId
);

4402 i(
	gNO_ERROR
 !
iR
)

4404 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4405  
	gERROR
;

4409 
	giR
 = 
dQqPvidS
(
uiPvid
, 
uiPriܙy
);

4410 i(
	gNO_ERROR
 !
iR
)

4412 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4413  
	gERROR
;

4416 
	gVnMode
.
	gdeu_vn
 = 
uiPvid
;

4417 
	gVnMode
.
	gmode
 = 
CTC_VLAN_MODE_QINQ
;

4418 
	gVnMode
.
	gnumb_of_s
 = 0;

4420 #i!
defed
(
CONFIG_PRODUCT_EPN200
)

4421 
	giR
 = 
_CTC_SPtVnModeCfg
(
uiLPtId
, &
VnMode
);

4422 i(
	gNO_ERROR
 !
iR
)

4424 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4425  
	gERROR
;

4429 
	gQqCfg
.
	gbEb
 = 
TRUE
;

4430 
	gQqCfg
.
	guiPvid
 = 
uiPvid
;

4431 
	gQqCfg
.
	guiTpid
 = 
uiTpid
;

4432 
	gQqCfg
.
	guiPriܙy
 = 
uiPriܙy
;

4434 
	giR
 = 
DRV_SPtQqCfg
(
uiLPtId
, &
QqCfg
);

4435 i(
	gNO_ERROR
 !
iR
)

4437 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

4438  
	gERROR
;

4441  
	gNO_ERROR
;

4461 
STATIC
 
BOOL
 
DRV_CheckQqCfg
(
UINT32
 
uiLPtId
, 
QINQ_CTAG_STAG_ENTRY_S
 *
pQqCfg
)

4463 
UINT32
 
	gi
,
	gj
;

4464 
PORT_QINQ_S
 
	gQqCfg
;

4469 
	gi
 = 1; i <
MAX_PORT_NUM
; i++)

4471 (
	gVOID
)
DRV_GPtQqCfg
(
i
, &
QqCfg
);

4476 i(
	gi
 =
uiLPtId
)

4478 
j
 = 0; 
	gj
 < 
	gQqCfg
.
	guiCgSgEryNum
; j++)

4480 i(
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiSgVid
 !
pQqCfg
->
uiSgVid
)

4482 
UINT32
 
uiOldCgIndex
;

4483 
UINT32
 
	guiNewCgIndex
;

4485 
	guiOldCgIndex
 = 0; uiOldCgIndex < 
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiCgVidNum
; uiOldCtagIndex++)

4487 
	guiNewCgIndex
 = 0; uiNewCgIndex < 
	gpQqCfg
->
	guiCgVidNum
; uiNewCtagIndex++)

4489 i((
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiSgVid
 =
pQqCfg
->
auiCgVid
[
uiNewCgIndex
]) ||

4490 (
QqCfg
.
aCgSgEry
[
j
].
auiCgVid
[
uiOldCgIndex
] =
pQqCfg
->auiCgVid[
uiNewCgIndex
]))

4492  
FALSE
;

4496 i(
	gQqCfg
.
	gaCgSgEry
[
j
].
	gauiCgVid
[
uiOldCgIndex
] =
pQqCfg
->
uiSgVid
)

4498  
FALSE
;

4508 
	gj
 = 0; j < 
	gQqCfg
.
	guiCgSgEryNum
; j++)

4512 i(
	gTRUE
 =
QqCfg
.
aCgSgEry
[
j
].
bACgVid
)

4514 i((
MAX_VLAN_NUM
 - 1!
pQqCfg
->
uiCgVidNum
)

4516  
FALSE
;

4518 i(
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiSgVid
 !
pQqCfg
->
uiSgVid
)

4520  
FALSE
;

4530 i((
	gMAX_VLAN_NUM
 - 1=
pQqCfg
->
uiCgVidNum
)

4532  
FALSE
;

4536 i(
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiSgVid
 =
pQqCfg
->
uiSgVid
)

4538  
FALSE
;

4542 
UINT32
 
	guiOldCgIndex
;

4543 
UINT32
 
	guiNewCgIndex
;

4545 
	guiOldCgIndex
 = 0; uiOldCgIndex < 
	gQqCfg
.
	gaCgSgEry
[
j
].
	guiCgVidNum
; uiOldCtagIndex++)

4547 
	guiNewCgIndex
 = 0; uiNewCgIndex < 
	gpQqCfg
->
	guiCgVidNum
; uiNewCtagIndex++)

4549 i(
	gQqCfg
.
	gaCgSgEry
[
j
].
	gauiCgVid
[
uiOldCgIndex
] =
pQqCfg
->
auiCgVid
[
uiNewCgIndex
])

4551  
FALSE
;

4561  
	gTRUE
;

4583 
STATIC
 
INT32
 
DRV_CeUpSmCssFQq
(
UINT32
 
uiLPtId
, UINT32 
uiSgVid
, UINT32 
uiCgVid
, *
prCssName
)

4585 
INT32
 
	gR
;

4593 
	gR
 = 
odmCeCss
(
prCssName
);

4594 i(
	gQOS_OK
 !
R
)

4596 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4597  
	gERROR
;

4601 
	gR
 = 
odmCfgCssFVid
(
prCssName
,(
UINT16
)
uiCgVid
,
CLASS_ADD
);

4602 i(
	gQOS_OK
 !
R
)

4604 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4605  
	gERROR
;

4609 
	gR
 = 
odmCfgCssRmkVid
(
prCssName
, 
INSERTVID
, (
UINT16
)
uiSgVid
, 
CLASS_ADD
);

4610 i(
	gQOS_OK
 !
R
)

4612 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4613  
	gERROR
;

4617 
	gR
 = 
odmInlCssEry
(
prCssName
, 
UP_STREAM_
, 
NULL
);

4618 i(
	gQOS_OK
 !
R
)

4620 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4621  
	gERROR
;

4624  
	gNO_ERROR
;

4644 
STATIC
 
INT32
 
DRV_CeDownSmCssFQq
(
UINT32
 
uiLPtId
, UINT32 
uiSgVid
, *
prCssName
)

4646 
INT32
 
	gR
;

4653 
	gR
 = 
odmCeCss
(
prCssName
);

4654 i(
	gQOS_OK
 !
R
)

4656 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4657  
	gERROR
;

4661 
	gR
 = 
odmCfgCssFVid
(
prCssName
,(
UINT16
)
uiSgVid
,
CLASS_ADD
);

4662 i(
	gQOS_OK
 !
R
)

4664 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4665  
	gERROR
;

4670 
	gR
 = 
odmCfgCssRmkVid
(
prCssName
, 
CHANGEVID
, 
VLAN_ID_0
, 
CLASS_ADD
);

4671 i(
	gQOS_OK
 !
R
)

4673 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4674  
	gERROR
;

4678 
	gR
 = 
odmInlCssEry
(
prCssName
, 
DOWN_STREAM_
, 
NULL
);

4679 i(
	gNO_ERROR
 !
R
)

4681 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4682  
	gERROR
;

4685  
	gNO_ERROR
;

4705 
INT32
 
DRV_SPtQq
(
UINT32
 
uiLPtId
, 
QINQ_CTAG_STAG_ENTRY_S
 *
pQqCfg
)

4707 
INT32
 
	gR
;

4708 
UINT32
 
	gi
;

4709 
UINT32
 
	guiEnmyEyIndex
 = 
MAX_QINQ_CTAG_STAG_ENTRY
;

4710 
	grQqCssName
[
QINQ_CLASS_NAME_LEN
] = {0};

4711 
PORT_QINQ_S
 
	gQqCfg
;

4716 
memt
(&
QqCfg
, 0, (stQinqCfg));

4717 
	gR
 = 
DRV_GPtQqCfg
(
uiLPtId
, &
QqCfg
);

4718 i(
	gNO_ERROR
 !
R
)

4720 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4721  
	gERROR
;

4724 i(
	gTRUE
 !
QqCfg
.
bEb
)

4726 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4727  
	gERROR
;

4730 i(
	gMAX_QINQ_CTAG_STAG_ENTRY
 <
QqCfg
.
uiCgSgEryNum
)

4732 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4733  
	gERROR
;

4736 i(
	gFALSE
 =
DRV_CheckQqCfg
(
uiLPtId
, 
pQqCfg
))

4738 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4739  
	gERROR
;

4743 i(
	gpQqCfg
->
	guiSgVid
 =
QqCfg
.
uiPvid
)

4745 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4746  
	gERROR
;

4750 i((
	gMAX_VLAN_NUM
 - 1!
pQqCfg
->
uiCgVidNum
)

4752 
i
 = 0; 
	gi
 < 
	gpQqCfg
->
	guiCgVidNum
; i++)

4754 i(
	gpQqCfg
->
	gauiCgVid
[
i
] =
QqCfg
.
uiPvid
)

4756 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4757  
	gERROR
;

4762 
	gi
 = 0; i < 
	gMAX_QINQ_CTAG_STAG_ENTRY
; i++)

4765 i(
	gDEFAULT_SVLAN_ID
 =
QqCfg
.
aCgSgEry
[
i
].
uiSgVid
)

4767 i(
MAX_QINQ_CTAG_STAG_ENTRY
 =
uiEnmyEyIndex
)

4769 
uiEnmyEyIndex
 = 
i
;

4775 i(
	gMAX_QINQ_CTAG_STAG_ENTRY
 <
uiEnmyEyIndex
)

4777 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4778  
	gERROR
;

4783 i((
	gMAX_VLAN_NUM
 - 1=
pQqCfg
->
uiCgVidNum
)

4785 
R
 = 
HQqClfS
((
UINT16
)
pQqCfg
->
uiSgVid
, 
UP_STREAM
);

4786 i(
	gOPL_OK
 !
R
)

4788 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4789  
	gERROR
;

4793 
	gR
 = 
dVEryTagAdd
(
TRUE
, TRUE, (
UINT16
)
QqCfg
.
uiPvid
, (UINT16)stQinqCfg.uiPvid);

4794 i(
	gOPL_OK
 !
R
)

4796 
DRV_DEBUG_PRINT
("\nfunc:%s,e:%d.\n",
__FUNCTION__
,
__LINE__
);

4797  
	gERROR
;

4800 
	gQqCfg
.
	gaCgSgEry
[0].
	gbACgVid
 = 
TRUE
;

4805 i(
	gMAX_QINQ_CTAG_NUM
 < 
	gpQqCfg
->
	guiCgVidNum
)

4807 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4808  
	gERROR
;

4811 
	gi
 = 0; i < 
	gpQqCfg
->
	guiCgVidNum
; i++)

4813 
rtf
(
rQqCssName
, "pt%02dqqupag%04dag%04d",
uiLPtId
,
pQqCfg
->
uiSgVid
,pQqCfg->
auiCgVid
[
i
]);

4814 
	gR
 = 
DRV_CeUpSmCssFQq
(
uiLPtId
, 
pQqCfg
->
uiSgVid
,QqCfg->
auiCgVid
[
i
], 
rQqCssName
);

4815 i(
	gNO_ERROR
 !
R
)

4817 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4818  
	gERROR
;

4821 
	gQqCfg
.
	gaCgSgEry
[
uiEnmyEyIndex
].
	guiCgVidNum
++;

4822 
	gQqCfg
.
	gaCgSgEry
[
uiEnmyEyIndex
].
	gauiCgVid
[
i
] = 
pQqCfg
->
auiCgVid
[i];

4823 
	gQqCfg
.
	gaCgSgEry
[
uiEnmyEyIndex
].
	guiACssNum
++;

4824 
ry
(
QqCfg
.
aCgSgEry
[
uiEnmyEyIndex
].
arACssName
[
i
],
rQqCssName
);

4825 
DRV_DEBUG_PRINT
("\nCCs%s, index %dum:%d.\n",
QqCfg
.
aCgSgEry
[
uiEnmyEyIndex
].
arACssName
[
i
],uiEnmptyEntyIndex,i);

4830 
rtf
(
rQqCssName
, "pt%02dqqdownag%04d",
uiLPtId
,
pQqCfg
->
uiSgVid
);

4831 
	gR
 = 
DRV_CeDownSmCssFQq
(
uiLPtId
, 
pQqCfg
->
uiSgVid
, 
rQqCssName
);

4832 i(
	gNO_ERROR
 !
R
)

4834 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4835  
	gERROR
;

4838 
ry
(
QqCfg
.
aCgSgEry
[
uiEnmyEyIndex
].
arACssName
[QqCfg.aCgSgEry[uiEnmyEyIndex].
uiACssNum
],
rQqCssName
);

4839 
DRV_DEBUG_PRINT
("\nCCs%s.\n",
QqCfg
.
aCgSgEry
[
uiEnmyEyIndex
].
arACssName
[QqCfg.aCgSgEry[uiEnmyEyIndex].
uiACssNum
]);

4840 
	gQqCfg
.
	gaCgSgEry
[
uiEnmyEyIndex
].
	guiACssNum
++;

4841 
	gQqCfg
.
	guiCgSgEryNum
++;

4842 
	gQqCfg
.
	gaCgSgEry
[
uiEnmyEyIndex
].
	guiSgVid
 = 
pQqCfg
->
uiSgVid
;

4843 
	gR
 = 
DRV_SPtQqCfg
(
uiLPtId
, &
QqCfg
);

4844 i(
	gNO_ERROR
 !
R
)

4846 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4847  
	gERROR
;

4850  
	gNO_ERROR
;

4869 
INT32
 
DRV_RetPtQq
(
UINT32
 
uiLPtId
)

4871 
INT32
 
	giR
;

4872 
UINT32
 
	gi
,
	gj
;

4873 
PORT_QINQ_S
 
	gQqCfg
;

4877 
	giR

DRV_GPtQqCfg
(
uiLPtId
, &
QqCfg
);

4878 i(
	gNO_ERROR
 !
iR
)

4880 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4881  
	gERROR
;

4884 i(
	gTRUE
 !
QqCfg
.
bEb
)

4886  
NO_ERROR
;

4889 
	gi
 = 0; i < 
	gQqCfg
.
	guiCgSgEryNum
; i++)

4892 i(
	gTRUE
 =
QqCfg
.
aCgSgEry
[
i
].
bACgVid
)

4894 
iR
 = 
HQqClfRet
();

4895 i(
	gNO_ERROR
 !
iR
)

4897 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4898  
	gERROR
;

4902 
	giR
 = 
dVEryTagAdd
(
FALSE
, 
TRUE
, (
UINT16
)
QqCfg
.
uiPvid
, (UINT16)stQinqCfg.uiPvid);

4903 i(
	gNO_ERROR
 !
iR
)

4905 
DRV_DEBUG_PRINT
("\nfunc:%s,e:%d.\n",
__FUNCTION__
,
__LINE__
);

4906  
	gERROR
;

4910 
	gj
 = 0; j < 
	gQqCfg
.
	gaCgSgEry
[
i
].
	guiACssNum
; j++)

4912 
DRV_DEBUG_PRINT
("\nRemovas%s,ry:%d,um:%d.\n",
QqCfg
.
aCgSgEry
[
i
].
arACssName
[
j
],i,j);

4914 
	giR
 = 
odmRemoveCssEry
(
QqCfg
.
aCgSgEry
[
i
].
arACssName
[
j
], 1);

4915 i((
	gNO_ERROR
 !
iR
) &&

4916 (
QOS_CLS_EXIST_CHECK_ERROR
 !
iR
))

4918 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4919  
	gERROR
;

4923 
	giR
 = 
odmDeroyCss
(
QqCfg
.
aCgSgEry
[
i
].
arACssName
[
j
]);

4924 i(
	gQOS_OK
 !
iR
)

4926 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4927  
	gERROR
;

4930 
	gQqCfg
.
	gaCgSgEry
[
i
].
	garACssName
[
j
][0] = '\0';

4933 
	gQqCfg
.
	gaCgSgEry
[
i
].
	gbACgVid
 = 
FALSE
;

4934 
	gQqCfg
.
	gaCgSgEry
[
i
].
	guiACssNum
 = 0;

4935 
	gQqCfg
.
	gaCgSgEry
[
i
].
	guiCgVidNum
 = 0;

4936 
	gQqCfg
.
	gaCgSgEry
[
i
].
	guiSgVid
 = 
DEFAULT_SVLAN_ID
;

4939 
	gQqCfg
.
	guiCgSgEryNum
 = 0;

4940 
	giR

DRV_SPtQqCfg
(
uiLPtId
, &
QqCfg
);

4941 i(
	gNO_ERROR
 !
iR
)

4943 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

4944  
	gERROR
;

4947  
	gNO_ERROR
;

4970 
INT32
 
DRV_GSwchUkLPt
(
UINT32
 *
puiLPt
)

4972 if(
	gpuiLPt
 =
NULL
)

4974  
ERROR
;

4977 *
	gpuiLPt
 = 
LOGIC_PON_PORT
;

4979  
	gNO_ERROR
;

5000 
INT32
 
DRV_AddPt2MAddr
(
UINT32
 
uiLPt
, UINT32 
uiVn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

5002 
DRV_RET_E
 
	gR
;

5003 
vn_id_t
 
	gtdVid
;

5004 
mac_addss_t
 
	gMacAddss
;

5005 
mac_m_t
 
	gMacM
;

5006 
logic_pmask_t
 
	gLPtMask
;

5008 i((
	gNULL
 =
aucMac
|| (
FALSE
 =
IsVidLgcPt
(
uiLPt
))||(
MAX_VLAN_ID
 < 
uiVn
))

5010  
ERROR
;

5012 
CLgcMaskA
(&
LPtMask
);

5013 
SLgcMaskB
(
uiLPt
,&
LPtMask
);

5015 
memt
(&
MacM
, 0, (stMacMcast));

5016 
memt
(&
MacAddss
, 0, (stMacAddress));

5017 
memy
(
MacAddss
, 
aucMac
, 
MAC_ADDR_LEN
);

5019 
	gtdVid
 = (
vn_id_t
)
uiVn
;

5021 
	gR
 = 
Iol_GMacMMac
(
tdVid
, 
MacAddss
, &
MacM
);

5023 
	gR
 = 
Iol_c_mc_g_mac
(
tdVid
, 
MacAddss
, &
MacM
);

5026 i(
	gDRV_ERR_MAC_ADDR_NOT_FOUND
 =
R
)

5028 
memt
(&
MacM
, 0, (stMacMcast));

5029 
	gMacM
.
	gtdVid
 = 
tdVid
;

5030 
LgcMaskCy
(&
MacM
.
pt_mask
,&
LPtMask
);

5032 i(
	gDRV_OK
 =
R
)

5034 
LgcMaskOr
(&(
MacM
.
pt_mask
), &
LPtMask
);

5038  
	gERROR
;

5041 
memy
(
MacM
.
mac_addr
, 
MacAddss
, (
mac_addss_t
));

5043 
dg_tf
("\n%ptmsk:0x%04X mc-ma%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

5044 
LPtMask
.
pbs
[0],
MacM
.
mac_addr
[0],stMacMcast.mac_addr[1],

5045 
MacM
.
mac_addr
[2],stMacMcast.mac_addr[3],

5046 
MacM
.
mac_addr
[4],stMacMcast.mac_addr[5]);

5048 
	gR
 = 
Iol_SMacSMMac
(
MacM
);

5050 
	gR
 = 
Iol_c_mc_t_mac
(
MacM
);

5052 i(
	gDRV_OK
 !
R
)

5054  
ERROR
;

5057  
	gNO_ERROR
;

5077 
INT32
 
DRV_DPtFromMAddr
(
UINT32
 
uiLPt
, UINT32 
uiVn
, 
UINT8
 
aucMac
[
MAC_ADDR_LEN
])

5079 
DRV_RET_E
 
	gR
;

5080 
vn_id_t
 
	gtdVid
;

5081 
mac_addss_t
 
	gMacAddss
;

5082 
mac_m_t
 
	gMacM
;

5083 
logic_pmask_t
 
	gLPtMask
;

5085 i((
	gNULL
 =
aucMac
|| (
FALSE
 =
IsVidLgcPt
(
uiLPt
))||(
MAX_VLAN_ID
 < 
uiVn
))

5087 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

5088  
	gERROR
;

5090 
CLgcMaskA
(&
LPtMask
);

5091 
SLgcMaskB
(
uiLPt
,&
LPtMask
);

5093 
memt
(&
MacM
, 0, (stMacMcast));

5094 
memy
(&
MacAddss
[0], 
aucMac
, (stMacAddress));

5096 
	gtdVid
 = (
vn_id_t
)
uiVn
;

5098 
	gR
 = 
Iol_GMacMMac
(
tdVid
, 
MacAddss
, &
MacM
);

5100 
	gR
 = 
Iol_c_mc_g_mac
(
tdVid
, 
MacAddss
, &
MacM
);

5102 if(
	gDRV_OK
 =
R
)

5104 
memy
(
MacM
.
mac_addr
, 
MacAddss
, (
mac_addss_t
));

5106 
dg_tf
("\n%ptmsk:0x%04X mc-ma%02X%02X-%02X%02X-%02X%02X.\n",
__FUNCTION__
,

5107 
LPtMask
.
pbs
[0],
MacM
.
mac_addr
[0],stMacMcast.mac_addr[1],

5108 
MacM
.
mac_addr
[2],stMacMcast.mac_addr[3],

5109 
MacM
.
mac_addr
[4],stMacMcast.mac_addr[5]);

5114 if(
	gFALSE
 =
LgcMaskNNu
(&(
MacM
.
pt_mask
)))

5117 
R
 = 
Iol_SMacDMMac
(
MacM
);

5118 if(
	gDRV_OK
 !
R
)

5120 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

5121  
	gERROR
;

5127 i(
	gDRV_OK
 !
Iol_SMacSMMac
(
MacM
))

5129 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

5130  
	gERROR
;

5134 
LgcMaskAnd
(&(
MacM
.
pt_mask
), &
LPtMask
);

5136 
	gR
 = 
Iol_SMacDMMac
(
MacM
);

5138 
	gR
 = 
Iol_c_mc_d_mac
(
MacM
);

5140 if(
	gDRV_OK
 !
R
)

5142 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

5143  
	gERROR
;

5150 
dg_tf
("\nfunc:%s,le:%d\n",
__FUNCTION__
,
__LINE__
);

5151  
	gERROR
;

5154  
	gNO_ERROR
;

5172 
STATIC
 
INT32
 
DRV_CheckVnFMcMode
(
UINT32
 
uiVnId
)

5174 
INT32
 
	giR
;

5175 
UINT32
 
	guiLPtIndex
;

5176 
CTC_VLAN_CFG_S
 
	gVnMode
;

5180 
LgcPtF
(
uiLPtIndex
)

5182 i(
	gDRV_OK
 !
Iol_c_g_a_ru
(
uiLPtIndex
, &
VnMode
))

5184 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5185  
	gFALSE
;

5188 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

5190 
UINT32
 
uiVnIndex
 = 0;

5192 i(
	guiVnId
 =
VnMode
.
deu_vn
)

5194  
FALSE
;

5197 
	guiVnIndex
 = 0; uiVnIndex < 
	gVnMode
.
	gnumb_of_s
; uiVlanIndex++)

5199 i((
	guiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2]) ||

5200 (
uiVnId
 =
VnMode
.
vn_li
[
uiVnIndex
*2 + 1]))

5202  
FALSE
;

5206 i(
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

5208 i(
uiVnId
 =
VnMode
.
deu_vn
)

5210  
FALSE
;

5215  
	gTRUE
;

5221 
INT32
 
DRV_AddPt2MVn
(
UINT32
 
uiLPt
, UINT32 
uiMcVid
, 
MC_TAG_MODE_E
 
TagMode
)

5223 
DRV_RET_E
 
	gulRV
 = 
DRV_OK
;

5224 
logic_pmask_t
 
	gLMask
, 
	gUagLMsk
;

5226 i((!
IsVidLgcPt
(
uiLPt
)) ||

5227 (!
VALID_VLAN_ID
(
uiMcVid
)) ||

5228 (
	gMC_TAG_MODE_END
 < 
	gTagMode
))

5230  
	gERROR
;

5233 i(
	gTRUE
 !
DRV_CheckVnFMcMode
(
uiMcVid
))

5235  
ERROR
;

5238 
CLgcMaskA
(&
LMask
);

5239 
CLgcMaskA
(&
UagLMsk
);

5241 
	gulRV
 = 
Iol_GVnMemb
(
uiMcVid
, &
LMask
, &
UagLMsk
);

5243 
	gulRV
 = 
Iol_c_mc_g_vn_mem
(
uiMcVid
, &
LMask
, &
UagLMsk
);

5245 i(
	gDRV_OK
 !
ulRV
)

5247 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5248  
	gERROR
;

5251 
	gTagMode
)

5253 
	gMC_TAG_MODE_TRANSPARENT
:

5254 i(
TLgcMaskB
(
uiLPt
, &
LMask
&& (!TLgcMaskB(uiLPt, &
UagLMsk
)))

5256  
	gNO_ERROR
;

5260 
SLgcMaskB
(
uiLPt
, &
LMask
);

5261 
CLgcMaskB
(
uiLPt
, &
UagLMsk
);

5263 
SLgcMaskB
(
LOGIC_CPU_PORT
, &
LMask
);

5264 
SLgcMaskB
(
LOGIC_PON_PORT
, &
LMask
);

5269 
	gMC_TAG_MODE_STRIP
:

5270 i(
TLgcMaskB
(
uiLPt
, &
LMask
&& TLgcMaskB(uiLPt, &
UagLMsk
))

5272  
	gNO_ERROR
;

5276 
SLgcMaskB
(
uiLPt
, &
LMask
);

5278 
SLgcMaskB
(
LOGIC_CPU_PORT
, &
LMask
);

5279 
SLgcMaskB
(
LOGIC_UPPON_PORT
, &
LMask
);

5281 
SLgcMaskB
(
uiLPt
,&
UagLMsk
);

5287  
ERROR
;

5291 
	gulRV
 = 
Iol_SMcVnMembAdd
(
uiMcVid
, 
LMask
, 
UagLMsk
);

5292 i(
	gDRV_OK
 !
ulRV
)

5294 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5295  
	gERROR
;

5300 
UINT32
 
	gbEnoughEry
 = 
FALSE
;

5301 
CTC_VLAN_CFG_S
 
	gVnMode
;

5306 
	gVnMode
.
	gdeu_vn
 = 
uiMcVid
;

5307 
	gVnMode
.
	gmode
 = 
CTC_VLAN_MODE_TAG
;

5308 
	gVnMode
.
	gnumb_of_s
 = 0;

5309 
	gulRV
 = 
Iol_c_ough_vn_dex_check
(
VnMode
, (&
bEnoughEry
));

5310 i((
	gNO_ERROR
 !
ulRV
|| (
FALSE
 =
bEnoughEry
))

5312 
dg_tf
("func:%s,line:%d,ret:%d,en:%d.\n",

5313 
__FUNCTION__
,
__LINE__
,
ulRV
,
bEnoughEry
);

5314  
	gERROR
;

5317 
	gulRV
 = 
Iol_c_add_a_ru_f_mvn
(
uiLPt
, 
uiMcVid
);

5318 i(
	gNO_ERROR
 !
ulRV
)

5320 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5321  
	gERROR
;

5326  
	gNO_ERROR
;

5333 
INT32
 
DRV_DPtFromMVn
(
UINT32
 
uiLPt
, UINT32 
uiMcVid
)

5335 
DRV_RET_E
 
	gulRV
 = 
DRV_OK
;

5337 
logic_pmask_t
 
	gLMask
, 
	gUagLMsk
, 
	gTmpMsk
;

5339 
logic_pmask_t
 
	gLMask
;

5342 i((!
IsVidLgcPt
(
uiLPt
)) ||

5343 (!
VALID_VLAN_ID
(
uiMcVid
)))

5345  
	gERROR
;

5349 i(
	gTRUE
 !
DRV_CheckVnFMcMode
(
uiMcVid
))

5351  
ERROR
;

5354 
CLgcMaskA
(&
LMask
);

5356 
CLgcMaskA
(&
UagLMsk
);

5358 
	gulRV
 = 
Iol_GVnMemb
(
uiMcVid
, &
LMask
, &
UagLMsk
);

5359 i(
	gDRV_OK
 !
ulRV
)

5361 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5362  
	gERROR
;

5365 if(!
TLgcMaskB
(
uiLPt
, &
LMask
))

5367  
	gNO_ERROR
;

5370 
CLgcMaskB
(
uiLPt
, &
LMask
);

5371 
CLgcMaskB
(
uiLPt
, &
UagLMsk
);

5373 
LgcMaskCy
(&
TmpMsk
, &
LMask
);

5374 
CLgcMaskB
(
LOGIC_CPU_PORT
, &
TmpMsk
);

5375 
CLgcMaskB
(
LOGIC_UPPON_PORT
, &
TmpMsk
);

5376 if(
	gFALSE
 =
LgcMaskNNu
(&
TmpMsk
))

5378 
CLgcMaskA
(&
LMask
);

5379 
CLgcMaskA
(&
UagLMsk
);

5382 
	gulRV
 = 
Iol_SMcVnMembAdd
(
uiMcVid
, 
LMask
, 
UagLMsk
);

5383 i(
	gDRV_OK
 !
ulRV
)

5385 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5386  
	gERROR
;

5391 
	gulRV
 = 
Iol_c_d_a_ru_f_mvn
(
uiLPt
, 
uiMcVid
);

5392 i(
	gNO_ERROR
 !
ulRV
)

5394 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5395  
	gERROR
;

5399 
	gulRV
 = 
Iol_c_r_pt_ba_vn_y_by_vid
(
uiLPt
);

5400 i(
	gDRV_OK
 !
ulRV
)

5402 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5403  
	gERROR
;

5408 
SLgcMaskB
(
uiLPt
, &
LMask
);

5409 
	gulRV
 = 
Iol_c_mc_rmv_vn_mem
(
uiMcVid
, 
LMask
);

5410 i(
	gDRV_OK
 !
ulRV
)

5412 
dg_tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5413  
	gERROR
;

5416  
	gNO_ERROR
;

5423 
INT32
 
DRV_SwchMcIn
()

5425 
INT32
 
	gR
;

5426 
UINT32
 
	guiLPtId
;

5429 
	gR
 = 
Iol_SIgmpPktAi
(
PASS_TYPE_CPU_ONLY
);

5430 i(
	gDRV_OK
 !
R
)

5432 
dg_tf
("\nfunc:%s,e:%d.\n",
__FUNCTION__
,
__LINE__
);

5433  
	gERROR
;

5437 
	gR
 = 
Iol_SMLookupMissDr
(
ENABLE
);

5438 i(
	gDRV_OK
 !
R
)

5440 
dg_tf
("\nfunc:%s,e:%d.\n",
__FUNCTION__
,
__LINE__
);

5441  
	gERROR
;

5444  
	gNO_ERROR
;

5452 
INT32
 
DRV_EbSwchMc
(INT32 
iEb
)

5454 
INT32
 
	gR
;

5455 
UINT32
 
	guiLPtId
;

5457 i((
	gTRUE
 !
iEb
&& (
FALSE
 != iEnable))

5459  
ERROR
;

5462 i(
	gTRUE
 =
iEb
)

5465 
R
 = 
Iol_SIgmpPktAi
(
PASS_TYPE_CPU_ONLY
);

5466 i(
	gDRV_OK
 !
R
)

5468  
ERROR
;

5473 
	gR
 = 
Iol_igmp_unknow_4_a
(
MCAST_ACT_DROP
);

5474 i(
	gDRV_OK
 !
R
)

5476  
ERROR
;

5482 
	gR
 = 
Iol_SIgmpPktAi
(
PASS_TYPE_ALLPORTS
);

5483 i(
	gDRV_OK
 !
R
)

5485  
ERROR
;

5490 
	gR
 = 
Iol_igmp_unknow_4_a
(
MCAST_ACT_FORWARD
);

5491 i(
	gDRV_OK
 !
R
)

5493  
ERROR
;

5497  
	gNO_ERROR
;

5504 
INT32
 
DRV_SdFme2SwchPt
(
UINT32
 
uiLPt
, 
INT8
 *
pPack
, UINT32 
uiLgth
)

5507 
INT16
 
	gsR
 = 0;

5508 
UINT16
 
	gusVnId
 = 0;

5509 
UINT32
 
	guiPtIdx
 = 0;

5510 
BOOL_T
 
	gbIsB
 = 
BOOL_FALSE
;

5511 
RTL_HEAD_S
 
	gRHd
;

5513 i((
	gNULL
 =
pPack
) ||

5514 (
MIN_PACKET_SIZE
 > 
uiLgth
) ||

5515 (!
IsVidLgcPt
(
uiLPt
)))

5517 
dg_tf
("\nfunc:%E܅am.\n",
__FUNCTION__
);

5518  
	gERROR
;

5521 
	gbIsB
 = 
IS_MAC_BROADCAST
(
pPack
);

5523 i(
	gpPack
[12] =0x81&& ( 
pPack
[13] == 0))

5525 
usVnId
 = ((
pPack
[14] & 0xF) << 8) +Packet[15];

5526 if((0 =
usVnId
) || (0xFFF == usVlanId))

5528 
memmove
(
pPack
 + 12,Pack + 16, 
uiLgth
 - 16);

5529 
	gpPack
[
uiLgth
 - 4] = 0;

5530 
	gpPack
[
uiLgth
 - 3] = 0;

5531 
	gpPack
[
uiLgth
 - 2] = 0;

5532 
	gpPack
[
uiLgth
 - 1] = 0;

5533 
	guiLgth
 = (
uiLgth
 >
MIN_PACKET_SIZE
 + 4)? uiLength - 4 : MIN_PACKET_SIZE;

5537 i(
	gLOGIC_PON_PORT
 =
uiLPt
)

5539 
sR
 = 
el_nd_to_uk
(0, (
VOID
 *)
pPack
, 
uiLgth
);

5540 i(
	gNO_ERROR
 !
sR
)

5542 
dg_tf
("\nfunc:%ed΃l_nd_to_uk.\n",
__FUNCTION__
);

5543  
	gERROR
;

5546  
	gNO_ERROR
;

5550 
memt
(&
RHd
, 0, (stRtlHead));

5552 
	gRHd
.
	gusEthTy
 = 0x8899;

5553 
	gRHd
.
	gucProc
 = 0x4;

5554 
	gRHd
.
	gucPriܙySe
 = 1;

5555 
	gRHd
.
	gucPriܙy
 = 7;

5557 i(
	gBOOL_TRUE
 =
bIsB
)

5559 
uiPtIdx
 = 
MIN_UNI_PORT_ID
; 
	guiPtIdx
 <
MAX_UNI_PORT_ID
; uiPortIdx++)

5561 
	gRHd
.
	gusPtNo
 |1 << 
DRV_PtLogil2Physil
(
uiPtIdx
);

5566 
	gRHd
.
	gusPtNo
 |1 << 
DRV_PtLogil2Physil
(
uiLPt
);

5569 
memmove
(
pPack
 + 
RTL_HEAD_OFF
 + 
RTL_HEAD_LEN
,Pack + RTL_HEAD_OFF, 
uiLgth
 - RTL_HEAD_OFF);

5570 
memy
(
pPack
 + 
RTL_HEAD_OFF
, &
RHd
, 
RTL_HEAD_LEN
);

5572 
	guiLgth
 +
RTL_HEAD_LEN
;

5574 (
	gVOID
)
sys
(
NR_TEST_SETDATA
, 
pPack
, 
uiLgth
);

5576  
	gNO_ERROR
;

5580 
UINT32
 
DRV_GSwchHdL
()

5586 
INT32
 
DRV_GPtFromSwchHd
(
UINT8
 *
pucDa
, 
UINT32
 *
puiPPt
)

5589 
RTL_HEAD_S
 *
	gpInHd
 = 
NULL
;

5591 i((
	gNULL
 =
pucDa
|| (
NULL
 =
puiPPt
))

5593  
ERROR
;

5596 
	gpInHd
 = (
RTL_HEAD_S
 *)
pucDa
;

5597 *
	gpuiPPt
 = 
pInHd
->
usPtNo
;

5599  
	gNO_ERROR
;

5607 
VOID
 
DRV_InQqCfg
(VOID)

5609 
UINT32
 
	guiPIndex
;

5610 
UINT32
 
	guiAIndex
;

5612 
	guiPIndex
 = 0; uiPIndex <
MAX_PORT_NUM
; uiPorIndex++)

5614 
	guiAIndex
 = 0; uiAIndex < 
	gMAX_QINQ_CTAG_STAG_ENTRY
; uiAclIndex ++)

5616 
	gg_aUniQqMode
[
uiPIndex
].
	gaCgSgEry
[
uiAIndex
].
	guiSgVid
 = 
DEFAULT_SVLAN_ID
;

5626 
INT32
 
Drv_PRtResu
(
VCT_CABLE_DIAG_S
 *
pCabDg
, 
b_dg_t
 *
pDg
)

5628 
UINT8
 
	gucIdx
 = 0;

5633  
	gucIdx
 = 
CABLE_PAIR_0
; ucIdx < 
	gCABLE_PAIR_NUM
; ucIdx++ )

5635  
	gpDg
->
	g_e
[
ucIdx
] )

5637 
	gCABLE_STATE_OK
:

5638 
pCabDg
->
nCabStus
[
ucIdx
] = 
VCT_NORMAL_CABLE
;

5640 
	gCABLE_STATE_OPEN
:

5641 
pCabDg
->
nCabStus
[
ucIdx
] = 
VCT_OPEN_CABLE
;

5643 
	gCABLE_STATE_SHORT
:

5644 
pCabDg
->
nCabStus
[
ucIdx
] = 
VCT_SHORT_CABLE
;

5647 
pCabDg
->
nCabStus
[
ucIdx
] = 
VCT_IMPEDANCE_MISMATCH
;

5652 i(
	gVCT_NORMAL_CABLE
 =
pCabDg
->
nCabStus
[
ucIdx
])

5654 
pCabDg
->
ausCabL
[
ucIdx
] = 0xFFFF;

5658 
	gpCabDg
->
	gausCabL
[
ucIdx
] = 
pDg
->
_n
[ucIdx];

5663  
	gNO_ERROR
;

5669 
INT32
 
DRV_GPtV
(
ULONG
 
ulLPt
, 
VCT_CABLE_DIAG_S
 *
pCabDg
 )

5671 #i
defed
(
CONFIG_PRODUCT_EPN200
)

5672 
	gulLPt
 = 
ulLPt
;

5673 
	gpCabDg
 = 
pCabDg
;

5674  
	gERROR
;

5676 
b_dg_t
 
	gDg
;

5677 
INT32
 
	giR
 = 0;

5678 
BOOL
 
	gbPtS
 = 
FALSE
;

5679 
UINT8
 
	gucPaIdx
 = 0;

5685 
memt
(&
Dg
, 0, (stDiag));

5688 
	giR
 = 
DRV_GPtLkStus
(
ulLPt
, &
bPtS
);

5689 i
	gNO_ERROR
 !
iR
 )

5691 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5692  
	gERROR
;

5695 
	giR
 = 
Iol_g_b_dg
(
ulLPt
, &
Dg
);

5696 i(
	gDRV_OK
 !
iR
)

5698 
DRV_DEBUG_PRINT
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

5699  
	gERROR
;

5703 i(
	gTRUE
 =
bPtS
)

5705  
ucPaIdx
 = 
CABLE_PAIR_0
 ; 
	gucPaIdx
 < 
	gCABLE_PAIR_NUM
; ucPairIdx++ )

5707 
	gDg
.
	g_e
[
ucPaIdx
] = 
CABLE_STATE_OK
;

5711 (
	gVOID
)
Drv_PRtResu
(
pCabDg
, &
Dg
);

5713  
	gNO_ERROR
;

5733 
INT32
 
DRV_BlockIUni
(
BOOL
 
bUniEb
)

5735 
UINT32
 
	guiVue
 = 0;

5738 
	guiVue
 = (
TRUE
 =
bUniEb
)? 0 : 1;

5739 if(
	gNO_ERROR
 !
lRegFldWre
(
REG_BRG_GE_PORT_TABLE
, 0, 1, 
uiVue
))

5741 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

5743 if(
	gNO_ERROR
 !
lRegFldWre
(
REG_BRG_PON_PORT_TABLE
, 0, 1, 
uiVue
))

5745 
DRV_DEBUG_PRINT
("\nfunc:%le:%d\n",
__FUNCTION__
,
__LINE__
);

5747  
	gNO_ERROR
;

5750 #i
defed
(
CONFIG_PRODUCT_EPN200
)

5751 
INT32
 
DRV_SgMdioDbgWre
(
UINT32
 
uiReg
, UINT32 
uiDa
)

5753 ()
Iol_SExtPhyDbgReg
(0, 
uiReg
, 
uiDa
);

5754  
	gNO_ERROR
;

5757 
INT32
 
DRV_SgMdioDbgRd
(
UINT32
 
uiReg
, UINT32 *
puiDa
)

5759 ()
Iol_GExtPhyDbgReg
(0, 
uiReg
, 
puiDa
);

5760  
	gNO_ERROR
;

5763 
INT32
 
DRV_ExtPhyIn
()

5765 
UINT32
 
	guiDa
;

5770 ()
Iol_GExtPhyMiiReg
(0, 4, &
uiDa
);

5772 
	guiDa
 &= ~((1U << 7) | (1U << 8));

5774 
	guiDa
 &= ~(1U << 6);

5776 
	guiDa
 |= (1U << 5);

5777 ()
Iol_SExtPhyMiiReg
(0, 4, 
uiDa
);

5780 ()
Iol_GExtPhyMiiReg
(0, 0, &
uiDa
);

5782 
	guiDa
 |= (1U << 12);

5784 
	guiDa
 &= ~(1U << 13);

5785 
	guiDa
 |= (1U << 6);

5787 
	guiDa
 |= (1U << 8);

5789 
	guiDa
 |= (1U << 9);

5790 ()
Iol_SExtPhyMiiReg
(0, 0, 
uiDa
);

5792  
	gNO_ERROR
;

5815 
BOOL
 
CTC_CheckVidVidFMcvn
(
UINT32
 
uiMcVid
)

5817 
UINT32
 
	guiLPtIndex
;

5818 
CTC_VLAN_CFG_S
 
	gVnMode
;

5820 i(!
VALID_VLAN_ID
(
uiMcVid
))

5822  
	gFALSE
;

5825 
LgcPtF
(
uiLPtIndex
)

5827 (
	gVOID
)
_CTC_GPtVnModeCfg
(
uiLPtIndex
, &
VnMode
);

5828 i(
	gCTC_VLAN_MODE_TRANSLATION
 =
VnMode
.
mode
)

5830 
UINT32
 
uiVnIndex
 = 0;

5832 i(
	guiMcVid
 =
VnMode
.
deu_vn
)

5834  
FALSE
;

5837 
	guiVnIndex
 = 0; uiVnIndex < 
	gVnMode
.
	gnumb_of_s
; uiVlanIndex++)

5839 i((
	guiMcVid
 =
VnMode
.
vn_li
[
uiVnIndex
<<1]) ||

5840 (
uiMcVid
 =
VnMode
.
vn_li
[(
uiVnIndex
<<1) + 1]))

5842  
FALSE
;

5846 i(
	gCTC_VLAN_MODE_TAG
 =
VnMode
.
mode
)

5848 i(
uiMcVid
 =
VnMode
.
deu_vn
)

5850  
FALSE
;

5855  
	gTRUE
;

5860 #ifde 
__lulus


	@user/oam_alarm.c

3 
	~<dio.h
>

4 
	~<rg.h
>

7 
	~"_m_cfig.h
"

8 
	~"_m_r.h
"

9 
	~"_m_db.h
"

10 
	~"_m_dbg.h
"

11 
	~"_m_rx.h
"

13 
	~"c_.h
"

14 
	~"m_lw.h
"

16 
	~"lw_drv_pub.h
"

17 
	~"lw_drv_q.h
"

18 
	~"mc_cڌ.h
"

20 
	~"m_m.h
"

21 
	~"m.h
"

22 
	~"c_2_1.h
"

24 
u8_t
 
hoMac
[6];

26 
u16_t
 
	gg_usArmOutDaIdx
;

27 
u8_t
 
	gm_out_da
[
OAM_MAXIMUM_PDU_SIZE
+1];

28 
	gg_m_q_no
 = 0;

29 
	grpwnge
[
NUMBER_OF_PORTS
];

33 
	#NO_ERROR
 0

	)

34 
	#ERROR
 -1

	)

35 
	#MODULE
 
MOD_OAM


	)

39 
	gg_pt_ab
 = 1;

40 
	gobjPt
;

43 
	gg_m_h_e
[
NUMBER_OF_PORTS
] = {0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff};

44 
	gg_m_u_e
 = 0xffffffff;

45 
	gg_m_p_e
 = 0xffffffff;

46 
	gg_m_rd_e
 = 0xffffffff;

47 
	gg_m_ps_e
 = 0xffffffff;

48 
	gg_m_e1_e
 = 0xffffffff;

52 
	gg_m_h_ab
[
NUMBER_OF_PORTS
] = {0xffff, 0xffff, 0xffff, 0xffff};

53 
	gg_m_u_ab
 = 0;

54 
	gg_m_p_ab
 = 0;

55 
	gg_m_rd_ab
 = 0;

56 
	gg_m_ps_ab
 = 0;

57 
	gg_m_e1_ab
= 0;

60 
m_thr_t
 
	gg_m_til_thr
[
WARNING_TEMP_LOW
]={{0xffffffff, 0x0},

82 
	gg_m_ups_e
 = 0;

86 
	#GPIO9
 9

	)

87 
	#GPIO11
 11

	)

88 
	#DRY1_ALARMID
 0x8001

	)

89 
	#DRY2_ALARMID
 0x8002

	)

90 
	gd_dry1_e
=0;

91 
	gd_dry2_e
=0;

95 
	$dump_m_ck
*
pkt
, 
n
 )

98 
	`rtf
(
dr
, "\n--------------------------------\r\n");

100 
i
 = 0;

101 
	`rtf
(
dr
, "pkt_%d\n", 
n
);

102  
i
 = 0; i < 
n
; i++ )

104 i(
i
 % 16 == 0 && i != 0)

106 
	`rtf
(
dr
, "\n");

109 
	`rtf
(
dr
, "%02X ", 
pkt
[
i
]&0x000000ff);

112 
	`rtf
(
dr
, "\n--------------------------------\r\n");

115 
	}
}

117 
	$el_c_m_pt
(
m_pt_t
 *
ptInfo
)

119 
u8_t
 *
p_by
;

120 
u16_t
 
obj_ty
;

121 
u32_t
 
_num
;

122 
c_evt_hdr_t
 *
p_c_evt_hdr
;

123 
c_m_y_hdr_t
 *
p_c_m_y
;

124 
t
;

126 
c_hd_t
 *
p_c
;

127 
u8_t
 
m_d_addr
[6] = {0x1, 0x80, 0xc2, 0x0, 0x0, 0x2};

128 
u8_t
 
m_ngth_ty
[2] = {0x88, 0x09};

129 
u8_t
 
c_oui
[3] = {0x11, 0x11, 0x11};

130 
mpdu_hdr_t
 *
p_hdr
;

133 if(0 =
g_usArmOutDaIdx
)

135 
	`memt
(
m_out_da
, 0, 
OAM_MAXIMUM_PDU_SIZE
);

138 
m_out_da
[0] = 
OAM_LOGIG_PON_PORT
;

139 
p_by
 = &
m_out_da
[1];

140 
p_hdr
 = (
mpdu_hdr_t
*)
p_by
;

142 
p_hdr
 = (
mpdu_hdr_t
*)&
m_out_da
[1];

143 
	`vosMemCpy
(
p_hdr
->
de
, 
m_d_addr
,6);

144 
	`vosMemCpy
(
p_hdr
->
c
, 
hoMac
, 6);

145 
	`vosMemCpy
(
p_hdr
->
ngth
, 
m_ngth_ty
, 2);

146 
p_hdr
->
subty
 = 0x03;

147 
p_hdr
->
pcode
 = 0x01;

148 
p_hdr
->
ags
 = 0x0050;

150 
p_by
 +(
mpdu_hdr_t
);

151 
g_usArmOutDaIdx
 +(
mpdu_hdr_t
) + 1;

156 
p_by
 = &
m_out_da
[
g_usArmOutDaIdx
];

158 
p_c_evt_hdr
 = (
c_evt_hdr_t
 *)
p_by
;

159 
p_c_evt_hdr
->
q_num
 = 
g_m_q_no
++;

160 
p_c_evt_hdr
->
evt_ty
 = 0xFE;

161 
p_c_evt_hdr
->
oui
[0] = 0x11;

162 
p_c_evt_hdr
->
oui
[1] = 0x11;

163 
p_c_evt_hdr
->
oui
[2] = 0x11;

166 
p_c_evt_hdr
->
evt_n
 = (
c_m_y_hdr_t
+ (
c_evt_hdr_t
-2 + 
ptInfo
->
ngth
;

167 
p_by
 +(
c_evt_hdr_t
);

168 
g_usArmOutDaIdx
 +(
c_evt_hdr_t
);

170 
p_c_m_y
 = (
c_m_y_hdr_t
 *)
p_by
;

172 
p_c_m_y
->
obj_ty
 = 
ptInfo
->
objeTy
;

173 
p_c_m_y
->
_num
 = 
ptInfo
->
Num
;

174 
p_c_m_y
->
m_id
 = 
ptInfo
->
mID
;

177 
p_c_m_y
->
timeSmp
 = 0;

179 
p_c_m_y
->
m_e
 = 
ptInfo
->
mS
;

180 
g_usArmOutDaIdx
 +(
c_m_y_hdr_t
);

182 if(
ptInfo
->
ngth
 > 0)

184 
p_by
 +(
c_m_y_hdr_t
);

185 
	`memy
(
p_by
, 
ptInfo
->
mInfo
,tInfo->
ngth
);

186 
g_usArmOutDaIdx
 +
ptInfo
->
ngth
;

189 
t
 = 0;

191 if(
g_usArmOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
+1)

193 
g_usArmOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
+1;

195 
	`el_ho_nd
(
m_out_da
, 
g_usArmOutDaIdx
);

196 
g_usArmOutDaIdx
 = 0;

198  
t
;

199 
	}
}

202 
	$m_m
(
m_pt_t
 *
fo
)

204 
i
;

205 
nR
 = 0;

207 
nR
 = 
	`el_c_m_pt
(
fo
);

208 if(
nR
 !
NO_ERROR
)

210 
	`tf
("Generatelarm failed.\n");

212  
nR
;

214 
	}
}

216 
	$h_judge_d_m
(
m_pt_t
 *
fo
)

218 
d_e
;

219 
ty
 = 0xf& 
fo
->
mID
;

220 
pt
 = (
fo
->
Num
 & 0xff) - 1;

221 
d_e
 = 
	`g_h_m_e
(
pt
, 
ty
-1);

222 if
fo
->
mS
 !
d_e
)

224 
	`m_m
(
fo
);

226 
	`cfig_h_m_e
(
pt
, 
ty
-1, 
fo
->
mS
);

229 
	}
}

231 
	$u_judge_d_m
(
m_pt_t
 *
fo
)

233 
ty
 = 0xf& 
fo
->
mID
;

234 
d_e
;

236 
d_e
 = 
	`g_u_m_e
(
ty
);

238 if
fo
->
mS
 !
d_e
)

240 
	`m_m
(
fo
);

242 
	`cfig_u_m_e
(
ty
, 
fo
->
mS
);

245 
	}
}

247 
	$p_judge_d_m
(
m_pt_t
 *
fo
)

249 
ty
 = 0xf& 
fo
->
mID
;

250 
d_e
;

252 
d_e
 = 
	`g_p_m_e
(
ty
);

254 if
fo
->
mS
 !
d_e
)

256 
	`m_m
(
fo
);

258 
	`cfig_p_m_e
(
ty
, 
fo
->
mS
);

260 
	}
}

262 
	$g_m_swch_e
()

264  
g_pt_ab
;

265 
	}
}

267 
	$lk_e_d_lo_m
(
pt
, 
m_pt_t
 *
m_fo
)

269 
cou
 = 0;

270 
lk_us
 = 0;

271 
i
, 
nR
,
autegS
, 
admS
 = 0;

273 
i
 = 
ALARM_ETHPORT_AUTONEG
; i <
ALARM_ETHPORT_LDP
; i++){

274 i(!
	`g_h_m_ab
(
pt
, 
i
 -
ALARM_ETHPORT_AUTONEG
))

278 
m_fo
->
mID
 = 
i
;

279 
m_fo
->
ngth
 = 0;

280 
m_fo
->
mS
 = 1;

283 
i
){

284 
ALARM_ETHPORT_AUTONEG
:

288 if(1==
lk_us
)

291 i(2 =
admS
){

293 i(0 =
nR
){

294 
m_fo
->
mS
 = 
autegS
;

295 
	`h_judge_d_m
(
m_fo
);

301 
ALARM_ETHPORT_LOS
:

303 
nR
 = 
	`DRV_GPtLkStus
(
pt
 + 1, &
lk_us
);

305 
m_fo
->
mS
 = 
lk_us
;

306 
	`h_judge_d_m
(
m_fo
);

310 
ALARM_ETHPORT_FAILURE
:

312 
ALARM_ETHPORT_LDP
:

314 if(
cou
 =
LDP_RESOLVE_TIME
 -1){

315 
m_fo
->
mS
 = ()(!
rpwnge
[
pt
]);

316 
	`h_judge_d_m
(
m_fo
);

328 
cou
 ++;

329 
cou
 %
LDP_RESOLVE_TIME
;

337 
	}
}

339 
	$ups_m
(
m_pt_t
 *
m_fo
)

341 
cur_e
 = 
	`g_m_ups_cur_e
();

342 
cur_vt_low_e
 = 0;

343 
cur_pow_losg_e
 = 0;

344 
cur_off_e
 = 0;

346 
m_fo
->
ngth
 = 4;

348 
cur_e
)

350 
ALARM_UPS_STATE_ON
:

351 
cur_off_e
 = 0;

352 
cur_pow_losg_e
 = 0;

353 
cur_vt_low_e
 = 0;

355 
ALARM_UPS_STATE_POWER_LOSING
:

356 
cur_off_e
 = 0;

357 
cur_pow_losg_e
 = 1;

358 
cur_vt_low_e
 = 0;

360 
ALARM_UPS_STATE_VOLT_LOW
:

361 
cur_off_e
 = 0;

362 
cur_pow_losg_e
 = 1;

363 
cur_vt_low_e
 = 1;

365 
ALARM_UPS_STATE_OFF
:

366 
cur_off_e
 = 1;

367 
cur_pow_losg_e
 = 0;

368 
cur_vt_low_e
 = 0;

375 if(
	`g_u_m_ab
(
ALARM_UPS_MISSING
 & 0xff))

377 
m_fo
->
mID
 = 
ALARM_UPS_MISSING
;

378 
m_fo
->
mS
 = !
cur_off_e
;

379 
	`u_judge_d_m
(
m_fo
);

382 if(
	`g_u_m_ab
(
ALARM_UPS_POWER
 & 0xff))

384 
m_fo
->
mID
 = 
ALARM_UPS_POWER
;

385 
m_fo
->
mS
 = !
cur_pow_losg_e
;

386 
	`u_judge_d_m
(
m_fo
);

389 if(
	`g_u_m_ab
(
ALARM_UPS_VOLT_LOW
 & 0xff))

391 
m_fo
->
mID
 = 
ALARM_UPS_VOLT_LOW
;

392 
m_fo
->
mS
 = !
cur_vt_low_e
;

393 
	`u_judge_d_m
(
m_fo
);

396 
	}
}

399 
	$dry_judge_d_m
(
m_pt_t
 *
fo
)

401 
i
;

402 
nR
 = 0;

404 
tx_ame
[
ALARM_INFO_HEAD
 + 
ALARM_INFO_MAX_WIDTH
 + 2] = {0};

406 
	`SET_BYTE_INIT
();

408 
	`SET_OUI
(
tx_ame
,0x111111);

411 
	`SET_OBJ_TYPE
(
tx_ame
, 
fo
->
objeTy
);

412 
	`SET_INSTANCE_NUM
(
tx_ame
, 
fo
->
Num
);

414 
	`SET_ALARM_ID
(
tx_ame
, 
fo
->
mID
);

415 
	`SET_TIMESTAMP
(
tx_ame
, 0x00);

416 
	`SET_ALARM_STATE
(
tx_ame
, 
fo
->
mS
);

417 
	`SET_ALARM_INFO
(
tx_ame
, 
fo
->
mInfo
, 
ALARM_INFO_MAX_WIDTH
);

424 i(
nR
 !
NO_ERROR
)

426 #ifde
ALARM_DEG


427 
	`rtf
(
dr
, "%%d %d\r\n", 
__FUNCTION__
, 
__LINE__
, 
nR
);

432 
	}
}

434 #ifde
DRY_ALARM


435 
	$dry1_m
(
m_pt_t
 *
m_fo
)

437 
INT8U
 
nLev
 = 0;

438 
INT32U
 
v
=0;

439 
INT32U
 
mڙ
=0;

440 
i
=0;

441 
v
=
m_pt_dry_m
.
v1
;

442 
mڙ
 = 
m_pt_dry_m
.
mڙ1
 & 0xffffffff;

443 
m_fo
->
mID
 =
DRY1_ALARMID
;

444 
	`memy
(
m_fo
->
mInfo
, (*)&
mڙ
, 
ALARM_INFO_MAX_WIDTH
);

445 i(
	`PASONU_GPIO_g
(
GPIO9
, &
nLev
)!=
NO_ERROR
)

447 
	`tf
("gethe gpio9 value failure!!!\n");

452 
nLev
 = 
v
;

455 if(
nLev
!=
d_dry1_e
)

457 if(
v
)

459 
m_fo
->
mS
 =
nLev
;

463 
m_fo
->
mS
 =!
nLev
;

466 
d_dry1_e
 = 
nLev
;

468 
	`dry_judge_d_m
(
m_fo
);

471 
	}
}

473 
	$dry2_m
(
m_pt_t
 *
m_fo
)

475 
INT8U
 
nLev
 = 0;

476 
INT32U
 
v
=0;

477 
INT32U
 
mڙ
=0;

478 
i
=0;

479 
v
=
m_pt_dry_m
.
v2
;

480 
mڙ
 = 
m_pt_dry_m
.
mڙ2
 & 0xffffffff;

481 
m_fo
->
mID
 =
DRY2_ALARMID
;

482 
	`memy
(
m_fo
->
mInfo
, (*)&
mڙ
, 
ALARM_INFO_MAX_WIDTH
);

484 i(
	`PASONU_GPIO_g
(
GPIO11
, &
nLev
)!=
NO_ERROR
)

486 
	`tf
("gethe gpio11 value failure!!!\n");

490 if(
nLev
!=
d_dry2_e
)

492 if(
v
)

494 
m_fo
->
mS
 =
nLev
;

498 
m_fo
->
mS
 =!
nLev
;

500 
d_dry2_e
 = 
nLev
;

501 
	`dry_judge_d_m
(
m_fo
);

503 
	}
}

506 
	$til_m
(
m_pt_t
 *
m_fo
)

509 
m_id
;

511 
nR
 = 0;

512 
cur_e
 = 1;

513 
til_m_vue
;

514 
lol_vue
 = 0;

516 
m_id
 = 
ALARM_RX_POWER_HIGH
;rm_id<
WARNING_TEMP_LOW
 + 1;larm_id++)

518 if(!
	`g_p_m_ab
(
m_id
 & 0xff))

521 
m_id
)

523 
ALARM_TX_POWER_HIGH
:

524 
ALARM_TX_POWER_LOW
:

525 
WARNING_TX_POWER_HIGH
:

526 
WARNING_TX_POWER_LOW
:

530 
ALARM_RX_POWER_HIGH
:

531 
ALARM_RX_POWER_LOW
:

532 
WARNING_RX_POWER_HIGH
:

533 
WARNING_RX_POWER_LOW
:

537 
ALARM_TX_BIAS_HIGH
:

538 
ALARM_TX_BIAS_LOW
:

539 
WARNING_TX_BIAS_HIGH
:

540 
WARNING_TX_BIAS_LOW
:

544 
ALARM_VCC_HIGH
:

545 
ALARM_VCC_LOW
:

546 
WARNING_VCC_HIGH
:

547 
WARNING_VCC_LOW
:

551 
ALARM_TEMP_HIGH
:

552 
ALARM_TEMP_LOW
:

553 
WARNING_TEMP_HIGH
:

554 
WARNING_TEMP_LOW
:

562 
lol_vue
 = 
til_m_vue
;

569 if(
m_id
%2 == 1)

571 if(
lol_vue
 >
g_m_til_thr
[
m_id
 - 
ALARM_RX_POWER_HIGH
].
tArmThshd
)

573 
cur_e
 = 0;

575 if(
lol_vue
 < 
g_m_til_thr
[
m_id
 - 
ALARM_RX_POWER_HIGH
].
rArmThshd
)

577 
cur_e
 = 1;

587 if(
lol_vue
 <
g_m_til_thr
[
m_id
 - 
ALARM_RX_POWER_HIGH
].
tArmThshd
)

589 
cur_e
 = 0;

591 if(
lol_vue
 > 
g_m_til_thr
[
m_id
 - 
ALARM_RX_POWER_HIGH
].
rArmThshd
)

593 
cur_e
 = 1;

602 
m_fo
->
mID
 = 
m_id
;

603 
m_fo
->
mS
 = 
cur_e
;

604 
	`memy
(
m_fo
->
mInfo
, (*)&
lol_vue
, 
ALARM_INFO_MAX_WIDTH
);

606 
	`p_judge_d_m
(
m_fo
);

609 
	}
}

612 
	$pt_m_pt
()

614 
i
;

615 
m_pt_t
 
m_fo
;

616 
m_fo
.
objeTy
 = 
CTC_OBJ_PORT
;

617 
i
 = 0; i < 
NUMBER_OF_PORTS
; i++)

619 
m_fo
.
Num
 = (
i
+1)|(
ETH_TYPE
 << 24);

620 
	`lk_e_d_lo_m
(
i
, &
m_fo
);

622 
	}
}

625 
	$u_m_pt
()

627 
m_pt_t
 
m_fo
;

628 
m_fo
.
objeTy
 = 
CTC_OBJ_ONU
;

629 
m_fo
.
Num
 = 0xffffffff;

630 
	`ups_m
(&
m_fo
);

631 
	}
}

632 #ifde
DRY_ALARM


633 
	$dry_m_pt
()

635 
m_pt_t
 
m_fo_dry1
;

636 
m_pt_t
 
m_fo_dry2
;

637 
	`memt
(&
m_fo_dry1
,0,(
m_pt_t
));

638 
	`memt
(&
m_fo_dry2
,0,(
m_pt_t
));

639 
m_fo_dry1
.
objeTy
 = 
	`hts
(
CTC_OBJ_ONU
);

640 
m_fo_dry1
.
Num
 = 
	`htl
(0xffffffff);

641 
m_fo_dry2
.
objeTy
 = 
	`hts
(
CTC_OBJ_ONU
);

642 
m_fo_dry2
.
Num
 = 
	`htl
(0xffffffff);

644 
	`dry1_m
(&
m_fo_dry1
);

645 
	`dry2_m
(&
m_fo_dry2
);

647 
	}
}

650 
	$p_m_pt
()

652 
m_pt_t
 
m_fo
;

653 
m_fo
.
objeTy
 = 
CTC_OBJ_PON_IF
;

654 
m_fo
.
Num
 = 0x0000000;

655 
	`til_m
(&
m_fo
);

656 
	}
}

658 
	$CTC_STACK_m_g_e
(
INT16U
 
m_id
, 
pt_num
, *
abd
)

660 
obj_ty
 = 
m_id
 & 
ALARM_OBJ_TYPE_MASK
;

661 
_ty
 = 
m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

663 
ab
;

665 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

667 
obj_ty
)

669 
ALARM_ONU_BASE
:

670 
ab
 = 
	`g_u_m_ab
(
_ty
);

672 
ALARM_PON_IF_BASE
:

673 
ab
 = 
	`g_p_m_ab
(
_ty
);

675 
ALARM_CARD_BASE
:

676  
ERROR
;

677 
ALARM_ETH_PORT_BASE
:

678 
pt_num
--;

679 
ab
 = 
	`g_h_m_ab
(
pt_num
, 
_ty
);

681 
ALARM_POTS_BASE
:

682 
ALARM_E1_BASE
:

684  
ERROR
;

688 
	`TRACE_ALARM_ARG
(
g_m_p_ab
);

689 *
abd
 = 
ab
 =0 ? 
CTC_STACK_ALARM_CONFIG_DISABLED
 : 
CTC_STACK_ALARM_CONFIG_ENABLED
;

690  
NO_ERROR
;

691 
	}
}

693 
	$CTC_STACK_m_t_e
(
INT16U
 
m_id
, 
pt_num
, 
abd
)

695 
obj_ty
 = 
m_id
 & 
ALARM_OBJ_TYPE_MASK
;

696 
_ty
 = 
m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

697 
ab
 = (
abd
 == 0 ? 0 : 1);

698 
i
 = 0;

700 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

702 
obj_ty
)

704 
ALARM_ONU_BASE
:

705 
	`cfig_u_m_ab
(
_ty
, 
ab
);

707 
ALARM_PON_IF_BASE
:

708 
	`cfig_p_m_ab
(
_ty
, 
ab
);

710 
ALARM_CARD_BASE
:

711  
ERROR
;

712 
ALARM_ETH_PORT_BASE
:

713 
pt_num
--;

714 
	`cfig_h_m_ab
(
pt_num
, 
_ty
-1, 
ab
);

716 
ALARM_POTS_BASE
:

717 
ALARM_E1_BASE
:

719  
ERROR
;

721 
	`TRACE_ALARM_ARG
(
g_m_p_ab
);

722  
NO_ERROR
;

723 
	}
}

725 
	$t_til_thr
(
INT16U
 
m_id
, 
m_thr_t
 *
thr
)

727 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

729 
m_id
)

731 
ALARM_RX_POWER_HIGH
:

732 
ALARM_RX_POWER_LOW
:

733 
ALARM_TX_POWER_HIGH
:

734 
ALARM_TX_POWER_LOW
:

735 
ALARM_TX_BIAS_HIGH
:

736 
ALARM_TX_BIAS_LOW
:

737 
ALARM_VCC_HIGH
:

738 
ALARM_VCC_LOW
:

739 
ALARM_TEMP_HIGH
:

740 
ALARM_TEMP_LOW
:

741 
WARNING_RX_POWER_HIGH
:

742 
WARNING_RX_POWER_LOW
:

743 
WARNING_TX_POWER_HIGH
:

744 
WARNING_TX_POWER_LOW
:

745 
WARNING_TX_BIAS_HIGH
:

746 
WARNING_TX_BIAS_LOW
:

747 
WARNING_VCC_HIGH
:

748 
WARNING_VCC_LOW
:

749 
WARNING_TEMP_HIGH
:

750 
WARNING_TEMP_LOW
:

752 
	`memy
(&
g_m_til_thr
[
m_id
-
ALARM_RX_POWER_HIGH
], 
thr
, (
m_thr_t
));

755  
ERROR
;

758  
NO_ERROR
;

759 
	}
}

761 
	$g_til_thr
(
INT16U
 
m_id
, 
m_thr_t
 *
thr
)

764 
	`TRACE_ALARM_ARG
(
m_id
);

766 
m_id
)

768 
ALARM_RX_POWER_HIGH
:

769 
ALARM_RX_POWER_LOW
:

770 
ALARM_TX_POWER_HIGH
:

771 
ALARM_TX_POWER_LOW
:

772 
ALARM_TX_BIAS_HIGH
:

773 
ALARM_TX_BIAS_LOW
:

774 
ALARM_VCC_HIGH
:

775 
ALARM_VCC_LOW
:

776 
ALARM_TEMP_HIGH
:

777 
ALARM_TEMP_LOW
:

778 
WARNING_RX_POWER_HIGH
:

779 
WARNING_RX_POWER_LOW
:

780 
WARNING_TX_POWER_HIGH
:

781 
WARNING_TX_POWER_LOW
:

782 
WARNING_TX_BIAS_HIGH
:

783 
WARNING_TX_BIAS_LOW
:

784 
WARNING_VCC_HIGH
:

785 
WARNING_VCC_LOW
:

786 
WARNING_TEMP_HIGH
:

787 
WARNING_TEMP_LOW
:

788 
	`memy
(
thr
, &
g_m_til_thr
[
m_id
-
ALARM_RX_POWER_HIGH
], (
m_thr_t
));

791  
ERROR
;

794  
NO_ERROR
;

795 
	}
}

798 
	$CTC_STACK_m_g_thr
(
INT16U
 
m_id
, 
pt_num
, 
INT32U
 *
risg_thr
, INT32U *
Κg_thr
)

800 
obj_ty
 = 
m_id
 & 
ALARM_OBJ_TYPE_MASK
;

801 
_ty
 = 
m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

802 
m_thr_t
 
thr
;

803 
nR
 = 0;

806 
	`TRACE_ALARM_ARG
(
obj_ty
);

808 
obj_ty
)

810 
ALARM_ONU_BASE
:

811  
ERROR
;

812 
ALARM_PON_IF_BASE
:

813 
nR
 = 
	`g_til_thr
(
m_id
, &
thr
);

815 
ALARM_CARD_BASE
:

816 
ALARM_ETH_PORT_BASE
:

817 
ALARM_POTS_BASE
:

818 
ALARM_E1_BASE
:

820  
ERROR
;

823 *
risg_thr
 = 
thr
.
tArmThshd
;

824 *
Κg_thr
 = 
thr
.
rArmThshd
;

828 
	`TRACE_ALARM
("FUNCTION:%s, LINE:%d\n",
__FUNCTION__
,
__LINE__
);

829 
	`TRACE_ALARM_ARG
(
nR
);

831  
nR
;

833 
	}
}

836 
	$CTC_STACK_m_t_thr
(
INT16U
 
m_id
, 
pt_num
, 
INT32U
 
risg_thr
, INT32U 
Κg_thr
)

838 
obj_ty
 = 
m_id
 & 
ALARM_OBJ_TYPE_MASK
;

839 
_ty
 = 
m_id
 & 
ALARM_INSTANCE_TYPE_MASK
;

840 
m_thr_t
 
thr
;

841 
thr
.
tArmThshd
 = 
risg_thr
;

842 
thr
.
rArmThshd
 = 
Κg_thr
;

843 
nR
 = -1;

845 
obj_ty
)

847 
ALARM_ONU_BASE
:

849  
ERROR
;

850 
ALARM_PON_IF_BASE
:

851 
nR
 = 
	`t_til_thr
(
m_id
, &
thr
);

853 
ALARM_CARD_BASE
:

854 
ALARM_ETH_PORT_BASE
:

855 
ALARM_POTS_BASE
:

856 
ALARM_E1_BASE
:

858  
ERROR
;

861 
	`TRACE_ALARM_ARG
(
nR
);

862  
nR
;

863 
	}
}

867 *
	$_m_c_m_thad
(*
gu
)

871 
	`p
(
QUERY_TIME
);

873 if(!
	`g_m_swch_e
())

875 
	`pt_m_pt
();

879 
	`p_m_pt
();

881 #ifde
DRY_ALARM


882 
	`dry_m_pt
();

886 if(
timeCou
 =
COUTER_NO_USE
)

889 if(
timeCou
 * 
QUERY_TIME
 =
WAIT_CTC_TIME_DELAY
)

891 
timeCou
 = 
COUTER_NO_USE
;

896 
timeCou
++;

899 
	`vosThadEx
(0);

900 
	}
}

	@vendor/bdcom.c

9 
	~<dio.h
>

10 
	~<rg.h
>

11 
	~<dlib.h
>

12 
	~<mloc.h
>

13 
	~<sys/tys.h
>

14 
	~<sys/.h
>

15 
	~<sys/sock.h
>

16 
	~<t/.h
>

17 
	~<t/if.h
>

20 
	~"_m_cfig.h
"

21 
	~"_m_r.h
"

22 
	~"_m_db.h
"

23 
	~"_m_dbg.h
"

24 
	~"_m_rx.h
"

26 
	~"m.h
"

27 
	~"h3c.h
"

29 
	~"c_.h
"

30 
	~"m_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_q.h
"

35 
	~"bdcom.h
"

36 
	~"z.h
"

37 
	~"lw_cfig.h
"

41 
	#MODULE
 
MOD_OAM


	)

43 
u8_t
 
out_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

44 
u8_t
 
_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
bdcom_oui
[3];

46 
u16_t
 
g_usOutDaIdx
;

47 
m__t
 
ms
;

48 
m__v_t
 
	gbdcom_pt_
;

49 
pt_mڙ_t
 
	gpt_mڙ
 = {0,0, {{0,0}, {0,0}, {0,0}}};

51 
u8_t
 
	gm_lk_lo_ag
 =0;

53 
	#EOPL_BDCOM_HEADER_PROCESS
(
code
)\

	)

55 
	gp_out
 = &
out_da
[0]; \

56 
el_m_pdu_hdr
(
p_out
, 
ms
.
ags
, 
OAM_CODE_ORG_SPEC
); \

57 
	gp_out
 +(
mpdu_hdr_t
); \

58 
vosMemCpy
(((
bdcom_hd_t
*)
p_out
)->
oui
, 
bdcom_oui
, 3); \

59 ((
	gbdcom_hd_t
*)
	gp_out
)->
	gext_code
 = 
code
; \

60 
	gp_out
 +(
bdcom_hd_t
); \

61 
	gg_usOutDaIdx
 = (
mpdu_hdr_t
+ (
bdcom_hd_t
); \

65 
	#BDCOMDBG
(
rg
{\

	)

67 
tf
 
	grg
;\

71 
	#BDCOMDBG
(
rg
)

	)

75 
	$el_bdcom_t_pt_isީe
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

77 
u32_t
 
t
;

78 
m_t_ڣ_t
 *
p_r
;

79 
bdcom_pt_isީe_t
* 
p_bdcom_pt_isީe
;

80 
u32_t
 
ulPt
;

81 
t
 = 
NO_ERROR
;

83 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

88 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

89 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

90 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_ISOLATE
;

92 
p_bdcom_pt_isީe
 = (
bdcom_pt_isީe_t
*)
p_
;

93 if(
OAM_BDCOM_EXT_LEAF_ISLATE_SET
 =
p_bdcom_pt_isީe
->
ai
)

95 
ulPt
 = 1; ulP܈<
LOGIC_PORT_NO
; ulPort++)

97 
t
 = 
	`DRV_SPtIsީi
(
ulPt
, 
ENABLE
);

98 if(
NO_ERROR
 !
t
)

104 i(
OAM_BDCOM_EXT_LEAF_ISLATE_UNSET
 =
p_bdcom_pt_isީe
->
ai
)

106 
ulPt
 = 1; ulP܈<
LOGIC_PORT_NO
; ulPort++)

108 
t
 = 
	`DRV_SPtIsީi
(
ulPt
, 
DISABLE
);

109 if(
NO_ERROR
 !
t
)

117 
t
 = 
ERROR
;

119 if(
NO_ERROR
 =
t
)

121 
p_r
->
diti
 = 
OAM_SET_OK
;

125 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

128 *
gn
 = (
m_t_ڣ_t
);

131 
	}
}

132 
	$el_bdcom_t_pt_mr
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

134 
u32_t
 
t
;

135 
m_t_ڣ_t
 *
p_r
;

137 
bdcom_mڙ_t
* 
p_mڙ_pt
;

138 
bdcom_mr_t
* 
p_mr_pt
;

140 
u8_t
 
ii
;

141 
u8_t
 
dex
 = 0;

142 
t
 = 
NO_ERROR
;

144 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

149 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

150 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

151 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MIRROR
;

153 
p_mڙ_pt
 = (
bdcom_mڙ_t
*)
p_
;

154 
p_mڙ_pt
->
ai
)

156 
OAM_BDCOM_EXT_LEAF_PORT_MIRROR
:

158 if(
m_lk_lo_ag
)

160 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

161 
ii
=0; ii<3; ii++)

163 if(0 !
pt_mڙ
.
mr_pt
[
ii
].
pt
)

165 ()
	`DRV_DMr
(
pt_mڙ
.
mr_pt
[
ii
].
pt
+1, 
BOTH_MIRROR
);

168 ()
	`DRV_SMڙ
(
p_mڙ_pt
->
mڙ_pt
+1, 
DISABLE
);

169 
	`memt
(&
pt_mڙ
, 0, (
pt_mڙ_t
));

170 
m_lk_lo_ag
 = 0;

173 if(0 !
pt_mڙ
.
emy_ag
)

175 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

176 
t
 = 
ERROR
;

177 
nd_r
;

179 
t
 = 
	`DRV_SMڙ
(
p_mڙ_pt
->
mڙ_pt
+1, 
ENABLE
);

180 if(
NO_ERROR
 !
t
)

182 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

183 
	`memt
(&
pt_mڙ
, 0, (
pt_mڙ_t
));

184 
r_g
;

186 
pt_mڙ
.
emy_ag
 = 1;

187 
pt_mڙ
.
mڙ_pt
 = 
p_mڙ_pt
->monitor_port;

188 
p_
 +(
bdcom_mڙ_t
);

189 
ii
 = 
p_mڙ_pt
->
mr_num
;

190 
ii
)

192 
p_mr_pt
 = (
bdcom_mr_t
*)
p_
;

193 
t
 = 
	`DRV_AddMr
(
p_mr_pt
->
mڙ_pt
+1,_mr_pt->
mڙ_d
);

194 if(
NO_ERROR
 !
t
)

196 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

197 
r_g
;

199 
pt_mڙ
.
mr_pt
[
dex
].
pt
 = 
p_mr_pt
->
mڙ_pt
;

200 
pt_mڙ
.
mr_pt
[
dex
].
d
 = 
p_mr_pt
->
mڙ_d
;

201 
p_
 +(
bdcom_mr_t
);

202 
ii
--;

205 
OAM_BDCOM_EXT_LEAF_PORT_MIRROR_UNSET
:

206 if(0 =
pt_mڙ
.
emy_ag
)

208 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

209 
nd_r
;

211 
t
 = 
	`DRV_SMڙ
(
pt_mڙ
.
mڙ_pt
+1, 
DISABLE
);

212 if(
NO_ERROR
 !
t
)

214 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

215 
nd_r
;

217 
ii
=0; ii<3; ii++)

219 if(0 !
pt_mڙ
.
mr_pt
[
ii
].
pt
)

221 
t
 = 
	`DRV_DMr
(
pt_mڙ
.
mr_pt
[
ii
].
pt
+1,t_mڙ.mr_pt[ii].
d
);

222 if(
NO_ERROR
 !
t
)

224 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

225 
nd_r
;

229 
	`memt
(&
pt_mڙ
, 0, (
pt_mڙ_t
));

235 
r_g
:

237 if(
NO_ERROR
 !
t
)

239 
ii
=0; ii<3; ii++)

241 if(0 !
pt_mڙ
.
mr_pt
[
ii
].
pt
)

243 ()
	`DRV_DMr
(
pt_mڙ
.
mr_pt
[
ii
].
pt
+1, 
BOTH_MIRROR
);

246 ()
	`DRV_SMڙ
(
p_mڙ_pt
->
mڙ_pt
+1, 
DISABLE
);

247 
	`memt
(&
pt_mڙ
, 0, (
pt_mڙ_t
));

250 
nd_r
:

251 if(
NO_ERROR
 =
t
)

253 
p_r
->
diti
 = 
OAM_SET_OK
;

257 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

260 *
gn
 = (
m_t_ڣ_t
);

263 
	}
}

265 
	$el_bdcom_t_pt_d
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

268 
u32_t
 
t
;

269 
m_t_ڣ_t
 *
p_r
;

270 
bdcom_pt_d_t
 *
p_pt_d
;

271 
u32_t
 
ulPtVue
;

272 
m__v_t
* 
p_out_
;

273 
t
 = 
NO_ERROR
;

277 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

281 
p_out_
 = (
m__v_t
*)
ybuf
;

282 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

283 
ybuf
 +(
m__v_t
);

285 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

286 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

287 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_SPEED
;

288 
p_pt_d
 = (
bdcom_pt_d_t
*)
p_
;

289 
ulPtVue
 = 
bdcom_pt_
.
vue
 & 0x0000000f;

290 
p_pt_d
->
ai
)

292 
OAM_BDCOM_EXT_LEAF_SPEED_10M
:

293 
t
 = 
	`DRV_SPtSed
(
ulPtVue
, 
SPEED_10M
);

294 if(
NO_ERROR
 !
t
)

296 
nd_r
;

299 
OAM_BDCOM_EXT_LEAF_SPEED_100M
:

300 
t
 = 
	`DRV_SPtSed
(
ulPtVue
, 
SPEED_100M
);

301 if(
NO_ERROR
 !
t
)

303 
nd_r
;

306 
OAM_BDCOM_EXT_LEAF_SPEED_AUTO
:

307 
t
 = 
	`DRV_SPtSed
(
ulPtVue
, 
SPEED_AUTO
);

308 if(
NO_ERROR
 !
t
)

310 
nd_r
;

314 
t
 = 
ERROR
;

318 
nd_r
:

319 if(
NO_ERROR
 =
t
)

321 
p_r
->
diti
 = 
OAM_SET_OK
;

325 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

328 *
gn
 = (
m_t_ڣ_t
+ (
m__v_t
);

330 
	}
}

333 
	$el_bdcom_t_pt_duex
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

335 
u32_t
 
t
;

336 
m_t_ڣ_t
 *
p_r
;

337 
bdcom_pt_duex_t
 *
p_pt_duex
;

338 
u32_t
 
ulPtVue
;

339 
m__v_t
* 
p_out_
;

340 
t
 = 
NO_ERROR
;

344 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

348 
p_out_
 = (
m__v_t
*)
ybuf
;

349 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

350 
ybuf
 +(
m__v_t
);

352 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

353 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

354 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX
;

356 
p_pt_duex
 = (
bdcom_pt_duex_t
*)
p_
;

358 
ulPtVue
 = 
bdcom_pt_
.
vue
 & 0x0000000f;

359 
p_pt_duex
->
ai
)

361 
OAM_BDCOM_EXT_LEAF_DUPLEX_HALF
:

362 
t
 = 
	`DRV_SPtDuex
(
ulPtVue
, 
DUPLEX_HALF
);

363 if(
NO_ERROR
 !
t
)

365 
nd_r
;

368 
OAM_BDCOM_EXT_LEAF_DUPLEX_FULL
:

369 
t
 = 
	`DRV_SPtDuex
(
ulPtVue
, 
DUPLEX_FULL
);

370 if(
NO_ERROR
 !
t
)

372 
nd_r
;

375 
OAM_BDCOM_EXT_LEAF_DUPLEX_AUTO
:

376 
t
 = 
	`DRV_SPtDuex
(
ulPtVue
, 
DUPLEX_AUTO
);

377 if(
NO_ERROR
 !
t
)

379 
nd_r
;

383 
t
 = 
ERROR
;

387 
nd_r
:

388 if(
NO_ERROR
 =
t
)

390 
p_r
->
diti
 = 
OAM_SET_OK
;

394 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

397 *
gn
 = (
m_t_ڣ_t
+ (
m__v_t
);

398 
	}
}

401 
	$el_bdcom_t_mgmt
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

403 
u32_t
 
t
;

404 
m_t_ڣ_t
 *
p_r
;

405 
bdcom_mgmt_t
* 
p_mgmt
;

406 
t
 = 
NO_ERROR
;

409 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

413 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

414 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

415 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MGMTIP
;

417 
p_mgmt
 = (
bdcom_mgmt_t
*)
p_
;

419 
p_mgmt
->
ai
)

421 
OAM_BDCOM_EXT_LEAF_IP_DHCP
:

422 
t
 = 
	`el_dh_hdr
();

424 
OAM_BDCOM_EXT_LEAF_IP_STATIC
:

425 
t
 = 
	`el__ossg
(
p_mgmt
->
addr
,_mgmt->
mask
,_mgmt->
geway
);

426 if(
NO_ERROR
 !
t
)

428 
nd_r
;

430 
t
 = 
	`el_mgmtvn_ossg
(
p_mgmt
->
mvn
);

431 if(
NO_ERROR
 !
t
)

433 
nd_r
;

437 
t
 = 
ERROR
;

440 
nd_r
:

441 if(
NO_ERROR
 =
t
)

443 
p_r
->
diti
 = 
OAM_SET_OK
;

447 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

450 *
gn
 = (
m_t_ڣ_t
);

453 
	}
}

456 
	$el_bdcom_t_pt_lookback
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

458 
u32_t
 
t
;

459 
m_t_ڣ_t
 *
p_r
;

460 
bdcom_pt_lookback_t
* 
p_pt_lookback
;

461 
m__v_t
* 
p_out_
;

463 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

468 
t
 = 
NO_ERROR
;

470 
p_out_
 = (
m__v_t
*)
ybuf
;

471 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

472 
ybuf
 +(
m__v_t
);

474 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

475 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

476 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_LOOKBACK
;

478 
p_pt_lookback
 = (
bdcom_pt_lookback_t
*)
p_
;

479 
p_pt_lookback
->
ai
)

481 
OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK
:

484 
OAM_BDCOM_EXT_LEAF_PORT_LOOKBACK_UNSET
:

490 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

491 *
gn
 = (
m_t_ڣ_t
)+(
m__v_t
);

494 
	}
}

496 
	$el_bdcom_t_pt_mac
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

498 
u32_t
 
t
;

499 
m_t_ڣ_t
 *
p_r
;

500 
bdcom_mac_t
* 
p_mac
;

501 
m__v_t
* 
p_out_
;

503 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

508 
t
 = 
NO_ERROR
;

510 
p_out_
 = (
m__v_t
*)
ybuf
;

511 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

512 
ybuf
 +(
m__v_t
);

514 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

515 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

516 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC
;

518 
p_mac
 = (
bdcom_mac_t
*)
p_
;

519 
p_mac
->
ai
)

521 
OAM_BDCOM_EXT_LEAF_PORT_MAC_ENABLE
:

523 
OAM_BDCOM_EXT_LEAF_PORT_MAC_DISABLE
:

529 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

530 *
gn
 = (
m_t_ڣ_t
)+(
m__v_t
);

533 
	}
}

536 
	$el_bdcom_t_pt_mac_num
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

538 
u32_t
 
t
;

539 
m_t_ڣ_t
 *
p_r
;

540 
bdcom_pt_mac_num_t
* 
p_mac_num
;

541 
m__v_t
* 
p_out_
;

542 
UINT32
 
macLim
;

544 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

549 
t
 = 
NO_ERROR
;

551 
p_out_
 = (
m__v_t
*)
ybuf
;

552 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

553 
ybuf
 +(
m__v_t
);

555 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

556 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

557 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC_NUM
;

559 
p_mac_num
 = (
bdcom_pt_mac_num_t
*)
p_
;

560 
	`BDCOMDBG
(("p܈num:%d, mamum %d\n", 
bdcom_pt_
.
vue
&0x0000000f,
p_mac_num
->
mac_num
));

561 
macLim
 = (
p_mac_num
->
mac_num
)?p_mac_num->mac_num:
MAC_LEARNING_UNLIMIT
;

562 
t
 = 
	`Iol_SMacLLim
(
bdcom_pt_
.
vue
&0x0000000f, 
macLim
, 
TRUE
);

563 if(
t
 !
DRV_OK
)

565 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

566 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

570 
p_r
->
diti
 = 
OAM_SET_OK
;

572 *
gn
 = (
m_t_ڣ_t
)+(
m__v_t
);

575 
	}
}

577 
	$el_bdcom_t_mac_agg
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

579 
u32_t
 
t
;

580 
m_t_ڣ_t
 *
p_r
;

581 
bdcom_mac_agg_t
* 
p_mac_agg
;

583 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

587 
t
 = 
NO_ERROR
;

589 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

590 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

591 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC_AGING
;

593 
p_mac_agg
 = (
bdcom_mac_agg_t
*)
p_
;

596 if((
p_mac_agg
->
aggTime
<
MIN_MAC_AGETIME
|| (p_mac_agg->aggTime>
MAX_MAC_AGETIME
))

598 
t
 = 
ERROR
;

599 
nd_r
;

602 
t
 = 
	`Iol_SMacAgeTime
(
p_mac_agg
->
aggTime
*10);

603 
nd_r
:

604 if(
t
 !
DRV_OK
)

606 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

610 
p_r
->
diti
 = 
OAM_SET_OK
;

612 *
gn
 = (
m_t_ڣ_t
);

615 
	}
}

617 
	$el_bdcom_t_mac_ˬng
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

619 
u32_t
 
t
;

620 
m_t_ڣ_t
 *
p_r
;

621 
bdcom_mac_ˬng_t
* 
p_mac_ˬn
;

622 
m__v_t
* 
p_out_
;

623 
logic_pmask_t
 
pt_mask
;

626 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

630 
t
 = 
ERROR
;

632 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

633 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

634 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC_LEARNING
;

636 
	`memt
(&
pt_mask
, 0xff, (
logic_pmask_t
));

637 
p_mac_ˬn
 = (
bdcom_mac_ˬng_t
*)
p_
;

638 
p_mac_ˬn
->
ai
)

640 
OAM_BDCOM_EXT_LEAF_MAC_LEARN_ENABLE
:

641 
t
 = 
	`Iol_SMacLEb
(
pt_mask
, 
ENABLE
);

643 
OAM_BDCOM_EXT_LEAF_MAC_LEARN_DISABLE
:

644 
t
 = 
	`Iol_SMacLEb
(
pt_mask
, 
DISABLE
);

650 if(
NO_ERROR
 !
t
)

652 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

653 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

657 
p_r
->
diti
 = 
OAM_SET_OK
;

660 *
gn
 = (
m_t_ڣ_t
);

663 
	}
}

665 
	$bdcom_pt_ic_mac_add
(
bdcom_mac_bd_ic_t
* 
p_bd_ic
)

667 
u32_t
 
t
 = 0;

668 
t
;

669 
ii
 = 0;

670 
mac_u_t
 
g_mac_addss
;

671 
mac_u_t
 
t_mac_addss
;

676 
ii
=1; ii<=4; ii++)

678 if((
p_bd_ic
->
ptMask
>>
ii
) & 0x00000001)

684 if(5 =
ii
)

686  
ERROR
;

689 
t
 = 
ii
;

691 
	`memt
(&
g_mac_addss
, 0, (
mac_u_t
));

693 if(
	`CTC_CheckVidVidFLgcPt
(
t
, 
p_bd_ic
->
vn
, &
vnMode
, &
vnExi
))

695  
ERROR
;

698 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

700 
t
 = 
	`Iol_GMacUMac
(0, 
p_bd_ic
->
mac
 , &
g_mac_addss
);

702 if(
vnExi
)

704 
t
 = 
	`Iol_GMacUMac
(
p_bd_ic
->
vn
,_bd_ic->
mac
 , &
g_mac_addss
);

708  
ERROR
;

711 
t
 = 
	`Iol_GMacUMac
(
p_bd_ic
->
vn
,_bd_ic->
mac
 , &
g_mac_addss
);

714 if(
DRV_OK
 =
t
)

717 if(
g_mac_addss
.
lgcPt
 =
t
)

719  
NO_ERROR
;

721 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

722  
ERROR
;

725 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
t
)

729 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

730 
t_mac_addss
.
lgcPt
 = 
t
;

731 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_bd_ic
->
mac
 , (
mac_addss_t
));

732 
t_mac_addss
.
tdVid
 = 
p_bd_ic
->
vn
 ;

734 
t_mac_addss
.
ucStic
 = 1;

736 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

737 if(
t
 !
DRV_OK
)

739 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

740  
ERROR
;

742  
NO_ERROR
;

744 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

745  
ERROR
;

746 
	}
}

748 
	$bdcom_pt_mac_d
(
bdcom_mac_bd_ic_t
 *
p_ic
, 
u8_t
 
mac_mode
)

750 
t
 = 
NO_ERROR
;

751 
mac_u_t
 
g_mac_addss
;

753 
UINT8
 
vnMode
 = 0;

756 
t
 = 
	`Iol_GMacUMac
(
p_ic
->
vn
,_ic->
mac
, &
g_mac_addss
);

757 if(
DRV_OK
 =
t
)

759 if(
mac_mode
 =
BDCOM_MAC_STATIC
)

761 if(
g_mac_addss
.
ucStic
)

763 ()
	`Iol_SMacDUMac
(
g_mac_addss
);

766 if(
mac_mode
 =
BDCOM_MAC_DYNAMIC
)

768 if(0 ==
g_mac_addss
.
ucStic
)

770 ()
	`Iol_SMacDUMac
(
g_mac_addss
);

776 
t
 = 
	`Iol_GMacUMac
(
p_ic
->
vn
,_ic->
mac
, &
g_mac_addss
);

777 if(
DRV_OK
 !
t
)

780  
NO_ERROR
;

783 if(
mac_mode
 =
BDCOM_MAC_STATIC
)

785 if(0 =
g_mac_addss
.
ucStic
)

787  
NO_ERROR
;

790 if(
mac_mode
 =
BDCOM_MAC_DYNAMIC
)

792 if(
g_mac_addss
.
ucStic
)

794  
NO_ERROR
;

798 
t
 = 
	`Iol_SMacDUMac
(
g_mac_addss
);

799 if(
DRV_OK
 !=
t
)

801 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

802  
ERROR
;

804  
NO_ERROR
;

805 
	}
}

807 
u32_t
 
	$bdcom_pt_mac_dymic_r
(
u8_t
 
pt_id
)

809 
u32_t
 
t
 = 
ERROR
;

810 
mac_de_t
 
bdg_mac_r
;

811 
	`memt
(&
bdg_mac_r
, 0, (
mac_de_t
));

813 
bdg_mac_r
.
ushByPt
 = 
ENABLE
;

814 
bdg_mac_r
.
ushSticAddr
 = 
DISABLE
;

815 
bdg_mac_r
.
pt
 = 
pt_id
;

817 
t
 = 
	`Iol_SMacFlushUMac
(
bdg_mac_r
);

819  
t
;

821 
	}
}

823 
	$el_bdcom_t_mac_bd_ic
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

825 
t
 = 
ERROR
;

826 
m_t_ڣ_t
 *
p_r
;

827 
bdcom_mac_bd_ic_t
* 
p_mac_bd
;

828 
m__v_t
* 
p_out_
;

829 
u8_t
 
ii
 = 0;

831 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

835 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

836 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

837 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
;

839 
p_mac_bd
 = (
bdcom_mac_bd_ic_t
*)
p_
;

841 
p_mac_bd
->
ai
)

843 
OAM_BDCOM_EXT_LEAF_MAC_STATIC_ADD
:

844 
t
 = 
	`bdcom_pt_ic_mac_add
(
p_mac_bd
);

846 
OAM_BDCOM_EXT_LEAF_MAC_STATIC_DEL
:

847 
t
 = 
	`bdcom_pt_mac_d
(
p_mac_bd
, 
BDCOM_MAC_STATIC
);

849 
OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL
:

850 
t
 = 
	`bdcom_pt_mac_d
(
p_mac_bd
, 
BDCOM_MAC_DYNAMIC
);

852 
OAM_BDCOM_EXT_LEAF_MAC_DYNAMIC_DEL_ALL
:

854 
ii
=1; ii<=4; ii++)

856 if((
p_mac_bd
->
ptMask
>>
ii
) & 0x00000001)

862 if(5 =
ii
)

864 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

865 
t
 = 
ERROR
;

866 
nd_r
;

868 
t
 = 
	`bdcom_pt_mac_dymic_r
(
ii
);

873 
nd_r
:

874 if(
NO_ERROR
 !
t
)

876 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

877 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

881 
p_r
->
diti
 = 
OAM_SET_OK
;

883 *
gn
 = (
m_t_ڣ_t
);

886 
	}
}

888 
	$el_bdcom_t_ng_
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

890 
u32_t
 
t
;

891 
m_t_ڣ_t
 *
p_r
;

892 
bdcom_ng__t
* 
p_ng_
;

893 
m__v_t
* 
p_out_
;

895 if((
NULL
==
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

900 
t
 = 
NO_ERROR
;

902 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

903 
p_r
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

904 
p_r
->
af
 = 
OAM_BDCOM_EXT_LEAF_SPANNING_TREE
;

906 
p_ng_
 = (
bdcom_ng__t
*)
p_
;

908 
p_ng_
->
ai
)

910 
OAM_BDCOM_EXT_LEAF_ENABLE
:

912 
OAM_BDCOM_EXT_LEAF_DISABLE
:

915 
t
 = 
ERROR
;

920 
t
 = 
ERROR
;

921 if(
NO_ERROR
 !
t
)

923 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

924 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

928 
p_r
->
diti
 = 
OAM_SET_OK
;

930 *
gn
 = (
m_t_ڣ_t
);

933 
	}
}

936 
	$bdcom_g_u_pt_d
(
u8_t
*
ybuf
, 
u16_t
* 
gn
)

938 
t
 = 
NO_ERROR
;

939 
bdcom_g_v_t
 *
p_da
;

940 
m__v_t
* 
p_out_
;

941 
PORT_SPEED_E
 
pt_d
;

942 
u32_t
 
lk_us
 = 0;

945 if((
NULL
==
ybuf
|| (NULL==
gn
))

950 
p_out_
 = (
m__v_t
*)
ybuf
;

951 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

952 
ybuf
 +(
m__v_t
);

955 
p_da
 = (
bdcom_g_v_t
*)
ybuf
;

956 
p_da
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

957 
p_da
->
af
 = 
OAM_BDCOM_EXT_LEAF_SPEED
;

958 
p_da
->
width
 = 0x01;

961 
t
 = 
	`DRV_GPtLkStus
(
bdcom_pt_
.
vue
&0X0000000F, &
lk_us
);

962 if((
NO_ERROR
!=
t
|| (
lk_us
==0))

964 
p_da
->
vue
 = 0XFF;

965 
nd_r
;

968 
t
 = 
	`DRV_GPtSed
(
bdcom_pt_
.
vue
&0X0000000F, &
pt_d
);

969 if(
NO_ERROR
 !
t
)

971 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

972 
nd_r
;

975 
pt_d
)

977 
SPEED_10M
:

978 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_10M
;

980 
SPEED_100M
:

981 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_100M
;

983 
SPEED_AUTO
:

984 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_SPEED_AUTO
;

987 
p_da
->
vue
 = 0XFF;

991 
nd_r
:

992 *
gn
 = (
bdcom_g_v_t
)+ (
m__v_t
);

994 
	}
}

996 
	$bdcom_g_u_pt_duex
(
u8_t
*
ybuf
, 
u16_t
* 
gn
)

998 
t
 = 
NO_ERROR
;

999 
bdcom_g_v_t
 *
p_da
;

1000 
m__v_t
* 
p_out_
;

1001 
PORT_DUPLEX_E
 
pt_duex
;

1002 
u32_t
 
lk_us
 = 0;

1004 if((
NULL
==
ybuf
|| (NULL==
gn
))

1009 
p_out_
 = (
m__v_t
*)
ybuf
;

1010 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

1011 
ybuf
 +(
m__v_t
);

1013 
p_da
 = (
bdcom_g_v_t
*)
ybuf
;

1014 
p_da
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1015 
p_da
->
af
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX
;

1016 
p_da
->
width
 = 0x01;

1019 
t
 = 
	`DRV_GPtLkStus
(
bdcom_pt_
.
vue
&0X0000000F, &
lk_us
);

1020 if((
NO_ERROR
!=
t
|| (
lk_us
==0))

1022 
p_da
->
vue
 = 0XFF;

1023 
nd_r
;

1026 
t
 = 
	`DRV_GPtDuex
(
bdcom_pt_
.
vue
&0X0000000F, &
pt_duex
);

1027 if(
NO_ERROR
 !
t
)

1029 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1030 
nd_r
;

1033 
pt_duex
)

1035 
DUPLEX_HALF
:

1036 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_HALF
;

1038 
DUPLEX_FULL
:

1039 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_FULL
;

1041 
DUPLEX_AUTO
:

1042 
p_da
->
vue
 = 
OAM_BDCOM_EXT_LEAF_DUPLEX_AUTO
;

1045 
p_da
->
vue
 = 0XFF;

1049 
nd_r
:

1050 *
gn
 = (
bdcom_g_v_t
+ (
m__v_t
);

1052 
	}
}

1055 
	$bdcom_g_u_pt_s
(
u8_t
*
ybuf
, 
u16_t
* 
gn
)

1058 
u32_t
 
t
 = 
NO_ERROR
;

1059 
m__v_t
* 
p_out_
;

1060 
m_bdcom_pt_s_t
* 
p_pt_s
;

1061 
UNI_COUNTER_S
 
mibCous
;

1063 if((
NULL
==
ybuf
|| (NULL==
gn
))

1067 
p_out_
 = (
m__v_t
*)
ybuf
;

1068 
	`memy
(
p_out_
, &
bdcom_pt_
, (bdcom_port_instance));

1069 
ybuf
 +(
m__v_t
);

1071 
p_pt_s
 = (
m_bdcom_pt_s_t
*)
ybuf
;

1073 
p_pt_s
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1074 
p_pt_s
->
af
 = 
OAM_BDCOM_EXT_LEAF_PORT_STATS
;

1075 
p_pt_s
->
width
 = 0xf0;

1078 
t
 = 
	`DRV_GPtMibCou
(
bdcom_pt_
.
vue
&0x0000000, &
mibCous
);

1079 if(
t
 !
NO_ERROR
)

1081 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1082 
nd_r
;

1084 
p_pt_s
->
ifInGoodOs
 = 
mibCous
.
uiRecOs
;

1085 
p_pt_s
->
ifInBadOs
 = 
mibCous
.
ulRevBadOs
;

1086 
p_pt_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

1087 
p_pt_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

1088 
p_pt_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

1089 
p_pt_s
->
ifInPauPkts
 = 
mibCous
.
InPau
;

1090 
p_pt_s
->
ifInMacEs
 = 0;

1091 
p_pt_s
->
ifInFCSEs
 = 0;

1092 
p_pt_s
->
ifInUndsizePkts
 = 0;

1093 
p_pt_s
->
ifInFgmtPkts
 = 0;

1094 
p_pt_s
->
ifInOvsizePkts
 = 0;

1095 
p_pt_s
->
ifJabbPkts
 = 0;

1097 
p_pt_s
->
ifOutOs
 = 
mibCous
.
uiTnsOs
;

1098 
p_pt_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

1099 
p_pt_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

1100 
p_pt_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

1101 
p_pt_s
->
ifOutPauPkts
 = 
mibCous
.
OutPau
;

1102 
p_pt_s
->
ifOutFCSEs
 = 0;

1103 
p_pt_s
->
ifOutDeedPkts
 = 0;

1104 
p_pt_s
->
ifOutExssivePkts
 = 0;

1105 
p_pt_s
->
ifOutSclisiPkts
 = 0;

1106 
p_pt_s
->
ifOutMClisiPkts
 = 0;

1107 
p_pt_s
->
ifOutLePkts
 = 
mibCous
.
OutLe
;

1108 
p_pt_s
->
ifOutClisiPkts
 = 
mibCous
.
OutClisi
;

1109 
nd_r
:

1110 *
gn
 = (
m_bdcom_pt_s_t
+ (
m__v_t
);

1113 
	}
}

1114 
ad_mac_u_dump
(
mac_dump_u_b_t
* 
pMacTab
, 
u32_t
* 
pmac_cou
);

1116 
bdcom_mac_fld_t
* 
	gp_gMacTab
 = 
NULL
;

1117 
	#BDCOM_GET_MAC_MAX_ENTRY
 17

	)

1120 
	$bdcom_g_u_mac_b
(
u8_t
* 
p_
, u8_t*
ybuf
, 
u16_t
* 
gn
)

1122 
t
 = 
NO_ERROR
;

1123 
bdcom_g_mac_v_t
 *
p_da
;

1124 
u32_t
 
num
 = 0;

1125 
mac_dump_u_b_t
 
mpMacTab
[2048];

1126 
u32_t
 
mac_cou
;

1127 
u32_t
 
ii
 = 0;

1128 
bdcom_mac_fld_t
* 
p_mac_fld
;

1129 
bdcom_mac_bd_ic_t
* 
p_mac_v
;

1130 
u8_t
 
macZo
[6] = {0};

1131 
bdcom_mac_fld_t
* 
p_lMacTab
 = 
NULL
;

1132 
u32_t
 
nd_mac
 = 0;

1133 
u32_t
 
tٮ_mac
 = 0;

1135 if((
NULL
 =
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

1140 
p_da
 = (
bdcom_g_mac_v_t
*)
ybuf
;

1141 
p_da
->
bnch
 = 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
;

1142 
p_da
->
af
 = 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
;

1143 
ybuf
 +(
bdcom_g_mac_v_t
);

1145 
	`memt
(
mpMacTab
, 0, (tempMacTable));

1146 
p_mac_v
 = (
bdcom_mac_bd_ic_t
*)
p_
;

1149 if(!
	`memcmp
(
p_mac_v
->
mac
, 
macZo
, (macZero)))

1152 
t
 = 
	`ad_mac_u_dump
(
mpMacTab
, &
mac_cou
);

1153 if(
DRV_OK
 !
t
)

1155 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1156 
nd_r
;

1159 if(0 =
mac_cou
)

1162 
nd_r
;

1164 if(
NULL
 !
p_gMacTab
)

1166 
	`
(
p_gMacTab
);

1167 
p_gMacTab
 = 
NULL
;

1170 
p_gMacTab
 = 
	`mloc
(
mac_cou
*(
bdcom_mac_fld_t
));

1172 if(
NULL
 !
p_gMacTab
)

1174 
	`BDCOMDBG
(("\nAlloc memory successfully!\n"));

1175 
tٮ_mac
 = 0;

1176 
p_lMacTab
 = 
p_gMacTab
;

1178 
ii
=0; ii<
mac_cou
; ii++)

1181 if((
mpMacTab
[
ii
].
t
 <
LOGIC_PORT_NO
) && (tempMacTable[ii].lport > 0))

1183 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1184 
p_lMacTab
->
vn
 = 
mpMacTab
[
ii
].
vid
;

1185 
p_lMacTab
->
ptMask
 = (1 << 
mpMacTab
[
ii
].
t
);

1186 
p_lMacTab
 += 1;

1187 
tٮ_mac
++;

1194 
	`BDCOMDBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1195 
nd_r
;

1199 
p_lMacTab
 = 
p_gMacTab
 + 
nd_mac
;

1200 
num
 = 0;

1204 if((
num
 >16|| (
nd_mac
 >
tٮ_mac
))

1208 #i
	`defed
(
CONFIG_PRODUCT_5500
)

1209 if(
p_lMacTab
->
ptMask
 >> 3)

1211 
p_lMacTab
 += 1;

1212 
nd_mac
++;

1217 
p_mac_fld
 = (
bdcom_mac_fld_t
*)
ybuf
;

1218 
	`memy
(
p_mac_fld
, 
p_lMacTab
, (
bdcom_mac_fld_t
));

1219 
num
++;

1220 
ybuf
 +(
bdcom_mac_fld_t
);

1221 
p_lMacTab
 += 1;

1222 
nd_mac
++;

1225 if(
nd_mac
 >
tٮ_mac
)

1227 
nd_mac
 = 0;

1228 
tٮ_mac
 = 0;

1229 
	`
(
p_gMacTab
);

1230 
p_gMacTab
 = 
NULL
;

1231 
	`BDCOMDBG
(("\nFree memory successfully!\n"));

1233 
p_da
->
rve
 = 0x0301;

1234 
p_da
->
macNum
 = 
num
;

1235 
p_da
->
width
 = 
num
 * (
bdcom_mac_fld_t
) + 3;

1237 
nd_r
:

1238 *
gn
 = (
bdcom_g_mac_v_t
+ 
num
 * (
bdcom_mac_fld_t
);

1241 
	}
}

1243 
	$el_bdcom_g_q
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
* 
yn
)

1245 
m_vb_dest_t
 *
p_des
;

1246 
u8_t
 *
p_c
 = 
p_
;

1247 
u16_t
 
gn
 = 0;

1250 i((
p_
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
)

1255 *
p_
)

1257 
OAM_BDCOM_BRANCH_INSTANCE_V_2_1
:

1258 
bdcom_pt_
 = *((
m__v_t
*)
p_
);

1259 
p_
 +(
m__v_t
);

1262 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
:

1263 
p_des
 = (
m_vb_dest_t
*)
p_
;

1264 
p_des
->
af
)

1266 
OAM_BDCOM_EXT_LEAF_SPEED
:

1267 
	`bdcom_g_u_pt_d
(
ybuf
, &
gn
);

1268 
ybuf
 +
gn
;

1269 *
yn
 +
gn
;

1271 
OAM_BDCOM_EXT_LEAF_DUPLEX
:

1272 
	`bdcom_g_u_pt_duex
(
ybuf
, &
gn
);

1273 
ybuf
 +
gn
;

1274 *
yn
 +
gn
;

1276 
OAM_BDCOM_EXT_LEAF_PORT_STATS
:

1277 
	`bdcom_g_u_pt_s
(
ybuf
, &
gn
);

1278 
ybuf
 +
gn
;

1279 *
yn
 +
gn
;

1282 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
:

1283 
	`bdcom_g_u_mac_b
(
p_
, 
ybuf
, &
gn
);

1284 
ybuf
 +
gn
;

1285 *
yn
 +
gn
;

1290 
p_
 +(
m_vb_dest_t
);

1296 
	}
}

1298 
	$el_bdcom_t_q
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
yn
)

1300 
m_vb_dest_t
 *
p_v_desc
;

1301 
bdcom_mڙ_t
* 
p_pt_mڙ
;

1302 
u16_t
 
gn
 = 0;

1303 #ide
CONFIG_PRODUCT_5500


1306 *
p_
)

1309 
OAM_BDCOM_BRANCH_INSTANCE_V_2_1
:

1310 
bdcom_pt_
 = *((
m__v_t
*)
p_
);

1311 
p_
 +(
m__v_t
);

1313 
OAM_BDCOM_BRANCH_EXTENDED_ATTRIB
:

1314 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

1315 
p_v_desc
->
af
)

1317 
OAM_BDCOM_EXT_LEAF_ISOLATE
:

1318 
	`el_bdcom_t_pt_isީe
(
p_
, 
ybuf
, &
gn
);

1319 
p_
 +(
bdcom_pt_isީe_t
);

1320 
ybuf
 +
gn
;

1321 *
yn
 +
gn
;

1323 
OAM_BDCOM_EXT_LEAF_MIRROR
:

1324 
p_pt_mڙ
 = (
bdcom_mڙ_t
*)
p_
;

1325 
	`el_bdcom_t_pt_mr
(
p_
, 
ybuf
, &
gn
);

1326 
p_
 +(
bdcom_pt_mr_t
);

1327 
p_
 +
p_pt_mڙ
->
width
;

1328 
ybuf
 +
gn
;

1329 *
yn
 +
gn
;

1331 
OAM_BDCOM_EXT_LEAF_SPEED
:

1332 
	`el_bdcom_t_pt_d
(
p_
, 
ybuf
, &
gn
);

1333 
p_
 +(
bdcom_pt_d_t
);

1334 
ybuf
 +
gn
;

1335 *
yn
 +
gn
;

1337 
OAM_BDCOM_EXT_LEAF_DUPLEX
:

1338 
	`el_bdcom_t_pt_duex
(
p_
, 
ybuf
, &
gn
);

1339 
p_
 +(
bdcom_pt_duex_t
);

1340 
ybuf
 +
gn
;

1341 *
yn
 +
gn
;

1343 
OAM_BDCOM_EXT_LEAF_MGMTIP
:

1344 
	`el_bdcom_t_mgmt
(
p_
, 
ybuf
, &
gn
);

1345 
p_
 +(
bdcom_mgmt_t
);

1346 
ybuf
 +
gn
;

1347 *
yn
 +
gn
;

1349 
OAM_BDCOM_EXT_LEAF_LOOKBACK
:

1350 
	`el_bdcom_t_pt_lookback
(
p_
, 
ybuf
, &
gn
);

1351 
p_
 +(
bdcom_pt_lookback_t
);

1352 
ybuf
 +
gn
;

1353 *
yn
 +
gn
;

1355 
OAM_BDCOM_EXT_LEAF_MAC
:

1356 
	`el_bdcom_t_pt_mac
(
p_
, 
ybuf
, &
gn
);

1357 
p_
 +(
bdcom_mac_t
);

1358 
ybuf
 +
gn
;

1359 *
yn
 +
gn
;

1361 
OAM_BDCOM_EXT_LEAF_MAC_NUM
:

1362 
	`el_bdcom_t_pt_mac_num
(
p_
, 
ybuf
, &
gn
);

1363 
p_
 +(
bdcom_pt_mac_num_t
);

1364 
ybuf
 +
gn
;

1365 *
yn
 +
gn
;

1367 
OAM_BDCOM_EXT_LEAF_MAC_AGING
:

1368 
	`el_bdcom_t_mac_agg
(
p_
, 
ybuf
, &
gn
);

1369 
p_
 +(
bdcom_mac_agg_t
);

1370 
ybuf
 +
gn
;

1371 *
yn
 +
gn
;

1373 
OAM_BDCOM_EXT_LEAF_MAC_LEARNING
:

1374 
	`el_bdcom_t_mac_ˬng
(
p_
, 
ybuf
, &
gn
);

1375 
p_
 +(
bdcom_mac_ˬng_t
);

1376 
ybuf
 +
gn
;

1377 *
yn
 +
gn
;

1379 
OAM_BDCOM_EXT_LEAF_MAC_BIND_STATIC
:

1380 
	`el_bdcom_t_mac_bd_ic
(
p_
, 
ybuf
, &
gn
);

1381 
p_
 +(
bdcom_mac_bd_ic_t
);

1382 
ybuf
 +
gn
;

1383 *
yn
 +
gn
;

1385 
OAM_BDCOM_EXT_LEAF_SPANNING_TREE
:

1386 
	`el_bdcom_t_ng_
(
p_
, 
ybuf
, &
gn
);

1387 
p_
 +(
bdcom_ng__t
);

1388 
ybuf
 +
gn
;

1389 *
yn
 +
gn
;

1403 
	}
}

1404 
	$el_bdcom_pdu_oss
(

1405 
m_mPdu_t
 *
pOamPdu
,

1406 *
pFme
,

1407 
ngth
,

1408 *
pRlyBuf
,

1409 
bufL
,

1410 *
pRlyL
)

1412 
t
 = 
EPON_OAM_ERR_OK
;

1413 
u8_t
 *
p_by
;

1414 
bdcom_hd_t
 *
p_bdcom_hdr
;

1415 
bdcom_hd_t
 *
p_out_bdcom_hdr
;

1417 *
pRlyL
 = 0;

1418 if((
ngth
 < 
BDCOM_ORGSPEC_HDR_LEN
|| (
bufL
 < BDCOM_ORGSPEC_HDR_LEN))

1421  
EPON_OAM_ERR_PARAM
;

1424 
p_by
 = 
pFme
;

1425 
p_bdcom_hdr
 = (
bdcom_hd_t
*)
pFme
;

1426 
p_by
 +(
bdcom_hd_t
);

1428 
p_out_bdcom_hdr
 = (
bdcom_hd_t
*)
pRlyBuf
;

1429 
	`memy
(
p_out_bdcom_hdr
->
oui
, 
p_bdcom_hdr
->oui, 3);

1431 *
pRlyL
 +(
bdcom_hd_t
);

1432 
pRlyBuf
 +(
bdcom_hd_t
);

1434 
p_bdcom_hdr
->
ext_code
)

1436 
OAM_BDCOM_EXT_OPCODE_GET_REQUEST
:

1437 
p_out_bdcom_hdr
->
ext_code
 = 
OAM_BDCOM_EXT_OPCODE_GET_RESPONSE
;

1438 
	`el_bdcom_g_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

1440 
OAM_BDCOM_EXT_OPCODE_SET_REQUEST
:

1441 
p_out_bdcom_hdr
->
ext_code
 = 
OAM_BDCOM_EXT_OPCODE_SET_RESPONSE
;

1442 
	`el_bdcom_t_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

1448  
t
;

1449 
	}
}

1451 
	$bdcom_m_
()

1453 
i
, 
t
;

1454 
oui
[] = 
BDCOM_OAM_OUI
;

1455 
m_gScCb_t
 
gScCb
;

1458 
gScCb
.
oss
 = 
el_bdcom_pdu_oss
;

1459 
t
 = 
	`_m_gScCb_g
(

1460 
EPON_OAM_CBTYPE_ORGSPEC
,

1461 
oui
,

1462 (*&
gScCb
);

1463 if(
EPON_OAM_ERR_OK
 !
t
)

1465 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1467  
EPON_OAM_ERR_UNKNOWN
;

1470  
EPON_OAM_ERR_OK
;

1471 
	}
}

	@vendor/fiberhome.c

9 
	~<dio.h
>

10 
	~<rg.h
>

11 
	~<dlib.h
>

12 
	~<mloc.h
>

13 
	~<sys/tys.h
>

14 
	~<sys/.h
>

15 
	~<sys/sock.h
>

16 
	~<t/.h
>

17 
	~<t/if.h
>

20 
	~"_m_cfig.h
"

21 
	~"_m_r.h
"

22 
	~"_m_db.h
"

23 
	~"_m_dbg.h
"

24 
	~"_m_rx.h
"

26 
	~"m.h
"

27 
	~"fibhome.h
"

29 
	~"c_.h
"

30 
	~"m_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_q.h
"

35 
	~"mc_cڌ.h
"

36 
	~"lw_cfig.h
"

37 
	~"syem.h
"

39 
	#MAX_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

41 
	#OAM_SUPPORT_FIBERHOME_EXT


	)

42 #ifde
OAM_SUPPORT_FIBERHOME_EXT


43 
u16_t
 
g_usOutDaIdx
;

44 
u8_t
 
out_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

46 
m__t
 
ms
;

47 
u8_t
 
fibhome_u_oui
[3];

48 
u32_t
 
	gulSequNum_FIBERHOME
 = 0;

49 
	gc_fd
;

51 
	#MODULE
 
MOD_OAM


	)

52 
	#MAX_FILTER_NUM
 32

	)

53 
	#INVALID_8
 0xFF

	)

55 
u8_t
 
uni_pt_auto_gٟti
;

57 
fibhome_pt_mode_t
 
	g_pt_mode
[4] =

59 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

60 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

61 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
},

62 {
FIBERHOME_PORT_MODE_SPEED_AUTO
,
FIBERHOME_PORT_MODE_DUPLEX_AUTO
}

66 
	#FIBERHOME_DBG
 
tf


	)

68 
	#FIBERHOME_DBG
(
fmt
, ...)

	)

71 
	$m_c_g_sys_twkg
(
sys_twk_t
 *
fo
)

73 
c_sys_twk_ack_t
 *
ck
;

74 
t
;

75 
ck
 = 
	`c_sys_twkg
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

76 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

77 i(
fo
){

78 
	`memy
(
fo
, &
ck
->
twk
, (*info));

80 
t
 = 0;

81 }i(
ck
){

82 
t
 = 
ck
->
hdr
.
us
;

84 
t
 = 
IPC_STATUS_FAIL
;

86 if(
ck

	`
(pack);

88  
t
;

89 
	}
}

91 
	$m_c_t_sys_twkg
(
c_twk_t
 *
fo
)

93 
c_sys_twk_ack_t
 *
ck
;

94 
t
;

95 
ck
 = 
	`c_sys_twkg
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

96 i(
ck
){

97 
t
 = 
ck
->
hdr
.
us
;

99 
t
 = 
IPC_STATUS_FAIL
;

102 if(
ck

	`
(pack);

103  
t
;

104 
	}
}

106 
	$m_c_g_sys_mvn
(
sys_mvn_t
 *
mvn
)

108 
c_sys_mvn_ack_t
 *
ck
;

109 
t
;

110 
ck
 = 
	`c_sys_mvn
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

111 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

112 i(
mvn
){

113 
	`memy
(
mvn
, &
ck
->mvlan, (*mvlan));

115 
t
 = 0;

116 }i(
ck
){

117 
t
 = 
ck
->
hdr
.
us
;

119 
t
 = 
IPC_STATUS_FAIL
;

121 if(
ck

	`
(pack);

123  
t
;

124 
	}
}

126 
	$m_c_t_sys_mvn
(
sys_mvn_t
 *
fo
)

128 
c_sys_mvn_ack_t
 *
ck
;

129 
t
;

130 
ck
 = 
	`c_sys_mvn
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

131 i(
ck
){

132 
t
 = 
ck
->
hdr
.
us
;

134 
t
 = 
IPC_STATUS_FAIL
;

137 if(
ck

	`
(pack);

138  
t
;

139 
	}
}

141 
	$m_c_g_sys_
(
sys__t
 *
fo
)

143 
c_sys__ack_t
 *
ck
;

144 
t
;

145 
ck
 = 
	`c_sys_
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

147 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

148 i(
fo
){

149 
	`memy
(
fo
, &
ck
->
_fo
, (*info));

151 
t
 = 0;

152 }i(
ck
){

153 
t
 = 
ck
->
hdr
.
us
;

155 
t
 = 
IPC_STATUS_FAIL
;

158 if(
ck

	`
(pack);

159  
t
;

160 
	}
}

162 
	$m_c_t_sys_lo
(
sys_lo_t
 *
fo
)

164 
c_sys_lo_ack_t
 *
ck
;

165 
t
;

166 
ck
 = 
	`c_sys_lo
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

167 i(
ck
){

168 
t
 = 
ck
->
hdr
.
us
;

170 
t
 = 
IPC_STATUS_FAIL
;

173 if(
ck

	`
(pack);

174  
t
;

175 
	}
}

177 
	$m_c_g_sys_lo
(
sys_lo_t
 *
fo
)

179 
c_sys_lo_ack_t
 *
ck
;

180 
t
;

181 
ck
 = 
	`c_sys_lo
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

183 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

184 i(
fo
){

185 
	`memy
(
fo
, &
ck
->
lo
, (*info));

187 
t
 = 0;

188 }i(
ck
){

189 
t
 = 
ck
->
hdr
.
us
;

191 
t
 = 
IPC_STATUS_FAIL
;

194 if(
ck

	`
(pack);

195  
t
;

196 
	}
}

198 
	$el_fibhome_g_uni_s
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
, u8_t* 
ybuf
, u16_*
yn
)

200 
fibhome_s_t
* 
p_fibhome_s
;

201 
u32_t
 
t
 = (u32_t)(*
p_
) + 1;

202 
u32_t
 
t
 = 
NO_ERROR
;

203 
UNI_COUNTER_S
 
mibCous
;

205 
u32_t
 
pt_duex
 = 0;

206 
u32_t
 
pt_d
 = 0;

207 
u32_t
 
lk_us
 = 0;

208 
ab
=
FALSE
;

209 if((
t
 > 
ODM_NUM_OF_PORTS
) || (0 ==port))

211 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

212  
ERROR
;

214 
t
 = 
	`Iol_GPtAuteg
(
t
,&
ab
);

215 if(
t
 !
DRV_OK
)

217 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d %d\n", 
__FILE__
, 
__LINE__
,
t
);

218  
t
;

220 
t
 = 
	`DRV_GPtMibCou
(
t
, &
mibCous
);

221 if(
t
 !
NO_ERROR
)

223 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

224  
t
;

227 
t
 = 
	`DRV_GPtDuex
(
t
, &
pt_duex
);

228 if(
t
 !
NO_ERROR
)

230 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

231  
t
;

234 
t
 = 
	`DRV_GPtSed
(
t
, &
pt_d
);

235 if(
t
 !
NO_ERROR
)

237 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

238  
t
;

241 
p_fibhome_s
 = (
fibhome_s_t
*)(
ybuf
);

242 if(
TRUE
 !
ab
)

244 
p_fibhome_s
->
dTy
 = 0x01;

245 
p_fibhome_s
->
duexTy
 = 0x01;

249 
p_fibhome_s
->
dTy
 = 0x00;

250 
p_fibhome_s
->
duexTy
 = 0x00;

254 if(
FIBERHOME_PORT_MODE_DUPLEX_AUTO
 !
_pt_mode
[
t
-1].
duexTy
)

256 
p_fibhome_s
->
duexTy
 = 0x01;

260 
p_fibhome_s
->
duexTy
 = 0x00;

263 
t
 = 
	`DRV_GPtLkStus
(
t
, &
lk_us
);

265 if((
NO_ERROR
!=
t
|| (
lk_us
==0))

267 
p_fibhome_s
->
d
 = 0XFF;

268 
p_fibhome_s
->
duex
 = 0XFF;

269 
nd_r
;

271 ()
	`DRV_GPtDuex
(
t
, &
pt_duex
);

272 ()
	`DRV_GPtSed
(
t
, &
pt_d
);

274 
pt_duex
)

276 
DUPLEX_HALF
:

277 
p_fibhome_s
->
duex
 = 
FIBERHOME_PORT_MODE_DUPLEX_HALF
;

279 
DUPLEX_FULL
:

280 
p_fibhome_s
->
duex
 = 
FIBERHOME_PORT_MODE_DUPLEX_FULL
;

283 
p_fibhome_s
->
duex
 = 0XFF;

287 
pt_d
)

289 
SPEED_10M
:

290 
p_fibhome_s
->
d

FIBERHOME_PORT_MODE_SPEED_10M
;

292 
SPEED_100M
:

293 
p_fibhome_s
->
d
 = 
FIBERHOME_PORT_MODE_SPEED_100M
;

295 
SPEED_1000M
:

296 
p_fibhome_s
->
d
 = 
FIBERHOME_PORT_MODE_SPEED_1000M
;

299 
p_fibhome_s
->
d
 = 0XFF;

303 
nd_r
:

304 
t
 = 
	`DRV_GPtMibCou
(
t
, &
mibCous
);

305 if(
t
 !
NO_ERROR
)

307 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

308 
nd_l
;

310 
p_fibhome_s
->
ifInOs
 = 
mibCous
.
uiRecOs
;

311 
p_fibhome_s
->
ifInCRCEs
 = 
mibCous
.
InCrcE
;

312 
p_fibhome_s
->
ifInPauPkts
 = 
mibCous
.
InPau
;

314 
p_fibhome_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

315 
p_fibhome_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

316 
p_fibhome_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

317 
p_fibhome_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

318 
p_fibhome_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

319 
p_fibhome_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

321 
p_fibhome_s
->
ifInBufrEs
 = 0;

323 
p_fibhome_s
->
ifInRusPkts
 = 
mibCous
.
InUndow
;

324 
p_fibhome_s
->
ifInGsPkts
 = 
mibCous
.
InOvow
;

325 
p_fibhome_s
->
ifInRxEs
 = 
mibCous
.
InE
;

327 
p_fibhome_s
->
ifOutOsL
 = (
u32_t
)(
mibCous
.
uiTnsOs
);

328 
p_fibhome_s
->
ifOutOsH
 = (
u32_t
)(
mibCous
.
uiTnsOs
 >> 32);

330 
p_fibhome_s
->
ifOutPauPkts
 = 
mibCous
.
OutPau
;

331 
p_fibhome_s
->
ifOutdeed
 = 0;

332 
p_fibhome_s
->
ifOutclisis
 = 
mibCous
.
OutClisi
;

333 
p_fibhome_s
->
ifOutTxE
 = 
mibCous
.
OutE
;

335 
nd_l
:

336 *
yn
 +(
fibhome_s_t
);

338  
t
;

339 
	}
}

341 
	$el_fibhome_g_brd_s
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
, u8_t* 
ybuf
, u16_*
yn
)

343 #i
	`defed
(
CONFIG_PRODUCT_5500
)

344 
tmp_buf
[81]={ 'N', '5', '5', '0', '0', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

350 #i
	`defed
(
CONFIG_PRODUCT_EPN104N
)

351 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

357 #i
	`defed
(
CONFIG_PRODUCT_EPN104W
)

358 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'W', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

365 
tmp_buf
[81]={ 'U', 'N', 'K', 'N', 'O', 'W', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

373 
	`memy
(
ybuf
, 
tmp_buf
, (tmp_buf));

374 *
yn
 +(
tmp_buf
);

376  
NO_ERROR
;

377 
	}
}

380 
	$el_fibhome_g_u_mac_agime
(
u8_t
* 
ybuf
, 
u16_t
 *
gn
)

382 
t
 = 
NO_ERROR
;

383 
fibhome_mac_agg_t
 *
p_rp
;

384 
u32_t
 
agg_time
 = 0;

386 
p_rp
 = (
fibhome_mac_agg_t
*)
ybuf
;

387 
p_rp
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

388 
p_rp
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
;

389 
p_rp
->
width
 = 0x02;

391 
t
 = 
	`Iol_GMacAgeTime
(&
agg_time
);

392 
p_rp
->
aggTime
 = 
agg_time
/10;

393 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "maaddaggim%d\n", 
p_rp
->
aggTime
);

394 *
gn
 = (
fibhome_mac_agg_t
);

397 
	}
}

399 
	$el_fibhome_g_u_pt_
(
u8_t
* 
ybuf
, 
u16_t
 *
gn
)

401 
t
 = 
NO_ERROR
;

402 
fibhome_pt__t
 *
p_rp
;

403 
logic_pmask_t
 
lmask
;

404 
ulPt
;

406 
p_rp
 = (
fibhome_pt__t
*)
ybuf
;

407 
p_rp
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

408 
p_rp
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
;

409 
p_rp
->
width
 = 0x02;

411 
t
 = 
	`Iol_GIsީeS
(&
lmask
);

413 if(0 !*
lmask
.
pbs
)

415 
p_rp
->

 = 1;

419 
p_rp
->

 = 0;

422 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "maaddaggim%d\n", 
p_rp
->

);

423 *
gn
 = (
fibhome_pt__t
);

426 
	}
}

428 
	$el_fibhome_t_u_mac_lim
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

430 
u32_t
 
t
 = 
NO_ERROR
;

431 
m_t_ڣ_t
 *
p_r
;

432 
fibhome_mac_lim_t
* 
p_lim
;

433 *
pt
;

434 
logic_pmask_t
 
pt_mask
;

436 
pt
 = 
p_
;

437 
p_
++;

438 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

439 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

440 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_LIMIT
;

442 
p_lim
 = (
fibhome_mac_lim_t
*)
p_
;

444 
	`memt
(&
pt_mask
, *
pt
, (
logic_pmask_t
));

446 
p_lim
->
ab
)

448 
OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_ENABLE
:

449 
t
 = 
	`Iol_SMacLEb
(
pt_mask
, 
ENABLE
);

451 
OAM_FIBERHOME_EXT_LEAF_MAC_LEARN_DISABLE
:

452 
t
 = 
	`Iol_SMacLEb
(
pt_mask
, 
DISABLE
);

458 if(
p_lim
->
numLim
 >= 0x0800)

460 
t
 = 
ERROR
;

461 
nd_r
;

463 
t
 = 
	`Iol_SMacLLim
(*
pt
, 
p_lim
->
numLim
, 
TRUE
);

465 
nd_r
:

466 if(
t
 !
DRV_OK
)

468 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

472 
p_r
->
diti
 = 
OAM_SET_OK
;

475 *
gn
 = (
m_t_ڣ_t
);

477 
	}
}

480 
	$el_fibhome_g_u__mac_lim
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

482 
fibhome__mac_lim_t
 *
p_rp
;

483 
fibhome__mac_lim_t
 *
p_da
;

484 
p_rp
 = (
fibhome__mac_lim_t
*)
ybuf
;

485 
p_da
 = (
fibhome__mac_lim_t
*)
p_
;

487 
p_rp
->
bnch
 = 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
;

488 
p_rp
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
;

489 
p_rp
->
width
 = 0x04;

491 
p_rp
->
bnch
 = 
p_da
->branch;

492 
p_rp
->
af
 = 
p_da
->leaf;

493 
p_rp
->
width
 = 
p_da
->width;

494 
p_rp
->
vue
 = 
p_da
->value;

495 *
gn
 = (
fibhome__mac_lim_t
);

498 
	}
}

500 
	$fibhome_g_u_pt_s
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

502 
t
 = 
NO_ERROR
;

503 
fibhome_pt_s_t
* 
p_s
;

504 
fibhome_pt_t
 *
p_pt
;

505 
UNI_COUNTER_S
 
mibCous
;

507 
p_s
 = (
fibhome_pt_s_t
*)
ybuf
;

508 
p_s
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

509 
p_s
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_STATS
;

510 
p_s
->
width
 = (
fibhome_pt_s_t
)-4;

512 
p_pt
 = (
fibhome_pt_t
*)
p_
;

514 
t
 = 
	`DRV_GPtMibCou
(
p_pt
->
pt
, &
mibCous
);

515 if(
t
 !
NO_ERROR
)

517 
	`FIBERHOME_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

518 
nd_r
;

520 
p_s
->
ifInOs
 = 
mibCous
.
uiRecOs
;

521 
p_s
->
ifInTٮPkts
 = 
mibCous
.
InBrd
+mibCous.
InMui
+mibCous.
InUni
;

522 
p_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

523 
p_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

524 
p_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

525 
p_s
->
ifInRxDisrdPkts
 = 0;

527 
p_s
->
ifInRusPkts
 = 
mibCous
.
InUndow
;

528 
p_s
->
ifInEPkts
 = 0;

529 
p_s
->
ifInGsPkts
 = 
mibCous
.
InOvow
;

530 
p_s
->
ifInUnknowPkts
 = 0;

531 
p_s
->
ifInCRCPkts
 = 
mibCous
.
InCrcE
;

533 
p_s
->
ifOutOs
 = 
mibCous
.
uiTnsOs
;

534 
p_s
->
ifOutTٮPkts
 = 
mibCous
.
OutBrd
+mibCous.
OutMui
+mibCous.
OutUni
;

535 
p_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

536 
p_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

537 
p_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

539 
nd_r
:

540 *
gn
 = (
fibhome_pt_s_t
);

542 
	}
}

547 
	$fibhome_g_u_pt_rp
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

549 
t
 = 
NO_ERROR
;

550 
fibhome_rp_t
 *
p_rp
;

551 
fibhome_pt_t
 *
p_pt
;

553 
p_pt
 = (
fibhome_pt_t
*)
p_
;

554 
p_rp
 = (
fibhome_rp_t
*)
ybuf
;

555 
p_rp
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

556 
p_rp
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_RSTP
;

557 
p_rp
->
width
 = 0x02;

558 
p_rp
->
vue
 = 0x20;

560 *
gn
 = (
fibhome_rp_t
);

562 
	}
}

564 
fibhome_mac_fld_t
* 
	gp_gMacTab
 = 
NULL
;

566 
	$fibhome_g_u_mac_b
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

569 
t
 = 
NO_ERROR
;

570 
fibhome_g_mac_v_t
 *
p_da
;

571 
m_t_ڣ_t
 *
p_r
;

572 
u32_t
 
num
 = 0;

573 
mac_dump_u_b_t
 
mpMacTab
[2048];

574 
u32_t
 
mac_cou
;

575 
u32_t
 
ii
 = 0;

576 
fibhome_mac_fld_t
* 
p_mac_fld
;

577 
fibhome_mac_bd_ic_t
* 
p_mac_v
;

578 
u8_t
 
macZo
[6] = {0};

579 
fibhome_mac_fld_t
* 
p_lMacTab
 = 
NULL
;

580 
u32_t
 
nd_mac
 = 0;

581 
u32_t
 
tٮ_mac
 = 0;

582 
u8_t
 *
a_ch
 = 
NULL
;

583 
u8_t
 
tmp_buf
[11] =

585 if((
NULL
 =
p_
|| (NULL==
ybuf
|| (NULL==
gn
))

591 
	`memt
(
mpMacTab
, 0, (tempMacTable));

592 
p_mac_v
 = (
fibhome_mac_bd_ic_t
*)
p_
;

595 if(!
	`memcmp
(
p_mac_v
->
mac
, 
macZo
, (macZero)))

598 
t
 = 
	`ad_mac_u_dump
(
mpMacTab
, &
mac_cou
);

599 if(
DRV_OK
 !
t
)

601 
	`FIBERHOME_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

602 
nd_r
;

605 if(0 =
mac_cou
)

608 
nd_r
;

610 if(
NULL
 !
p_gMacTab
)

612 
	`
(
p_gMacTab
);

613 
p_gMacTab
 = 
NULL
;

616 
p_gMacTab
 = 
	`mloc
(
mac_cou
*(
fibhome_mac_fld_t
));

618 if(
NULL
 !
p_gMacTab
)

620 
	`FIBERHOME_DBG
(("\nAlloc memory successfully!\n"));

621 
tٮ_mac
 = 0;

622 
p_lMacTab
 = 
p_gMacTab
;

624 
ii
=0; ii<
mac_cou
; ii++)

627 if((
mpMacTab
[
ii
].
t
 <
LOGIC_PORT_NO
) && (tempMacTable[ii].lport > 0))

629 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

630 
p_lMacTab
->
vn
 = 
mpMacTab
[
ii
].
vid
;

631 
p_lMacTab
->
ptMask
 = (1 << 
mpMacTab
[
ii
].
t
);

632 
p_lMacTab
 += 1;

633 
tٮ_mac
++;

640 
	`FIBERHOME_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

641 
nd_r
;

645 
p_lMacTab
 = 
p_gMacTab
 + 
nd_mac
;

646 
num
 = 0;

650 if((
num
 >16|| (
nd_mac
 >
tٮ_mac
))

654 #i
	`defed
(
CONFIG_PRODUCT_5500
)

655 if(
p_lMacTab
->
ptMask
 >> 3)

657 
p_lMacTab
 += 1;

658 
nd_mac
++;

662 
p_da
 = (
fibhome_g_mac_v_t
*)
ybuf
;

663 
p_da
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

664 
p_da
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
;

665 
p_da
->
width
 = 0x12;

666 
ybuf
 +(
fibhome_g_mac_v_t
);

667 
a_ch
 = 
ybuf
;

668 
	`memy
(
a_ch
, 
tmp_buf
, (tmp_buf));

669 
ybuf
 +=(
tmp_buf
);

670 
p_mac_fld
 = (
fibhome_mac_fld_t
*)
ybuf
;

671 
	`memy
(
p_mac_fld
, 
p_lMacTab
, (
fibhome_mac_fld_t
));

672 
num
++;

673 
ybuf
 +(
fibhome_mac_fld_t
);

674 
p_lMacTab
 += 1;

675 
nd_mac
++;

678 if(
nd_mac
 >
tٮ_mac
)

680 
nd_mac
 = 0;

681 
tٮ_mac
 = 0;

682 
	`
(
p_gMacTab
);

683 
p_gMacTab
 = 
NULL
;

684 
	`FIBERHOME_DBG
(("\nFree memory successfully!\n"));

686 
p_da
->
macNum
 = 
num
;

687 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

688 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

689 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
;

690 
p_r
->
diti
 = 0x80;

691 
nd_r
:

692 *
gn
 = 
num
 *((
fibhome_g_mac_v_t
+ (
fibhome_mac_fld_t
)+11)+(
m_t_ڣ_t
);

696 
	}
}

700 
	$el_fibhome_g_q
(
u8_t
 *
p_
, u8_t* 
ybuf
, 
u16_t
 *
yn
)

702 
m_vb_dest_t
 *
p_v_desc
;

703 
u16_t
 
gn
 = 0;

706 *
p_
)

708 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
:

709 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

710 
p_v_desc
->
af
)

712 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
:

713 
	`el_fibhome_g_u__mac_lim
(
p_
, 
ybuf
, &
gn
);

714 
p_
 +(
fibhome__mac_lim_t
);

715 
ybuf
 +
gn
;

716 *
yn
 +
gn
;

719 
p_
 +(
m_t_ڣ_t
);

723 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
:

724 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

725 
p_v_desc
->
af
)

727 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
:

728 
	`el_fibhome_g_u_mac_agime
(
ybuf
, &
gn
);

729 
p_
 +(
fibhome_mac_agg_t
);

730 
ybuf
 +
gn
;

731 *
yn
 +
gn
;

733 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
:

734 
	`el_fibhome_g_u_pt_
(
ybuf
, &
gn
);

735 
p_
 +(
fibhome_pt__t
);

736 
ybuf
 +
gn
;

737 *
yn
 +
gn
;

739 
OAM_FIBERHOME_EXT_LEAF_STATS
:

740 
	`fibhome_g_u_pt_s
(
p_
, 
ybuf
, &
gn
);

741 
p_
 +(
fibhome_pt_t
);

742 
ybuf
 +
gn
;

743 *
yn
 +
gn
;

745 
OAM_FIBERHOME_EXT_LEAF_RSTP
:

746 
	`fibhome_g_u_pt_rp
(
p_
, 
ybuf
, &
gn
);

747 
p_
 +(
fibhome_pt_t
);

748 
ybuf
 +
gn
;

749 *
yn
 +
gn
;

751 
OAM_FIBERHOME_EXT_LEAF_ETH_MAC_TABLE
:

752 
	`fibhome_g_u_mac_b
(
p_
, 
ybuf
, &
gn
);

753 
p_
 +(
fibhome_mac_bd_ic_t
);

754 
ybuf
 +
gn
;

755 *
yn
 +
gn
;

759 
p_
 +(
m_t_ڣ_t
);

768 
	}
}

788 
	$el_fibhome_dh_oss
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

790 
i
 = 0;

791 
u32_t
 
t
 = 
NO_ERROR
;

792 
m_t_ڣ_t
 *
p_r
;

793 
m_fibhome_mgmt_dh_t
 *
p_fibhome_mgmt_dh
;

795 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

796 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

797 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_DHCP
;

799 
p_fibhome_mgmt_dh
 = (
m_fibhome_mgmt_dh_t
 *)
p_
;

801 
p_fibhome_mgmt_dh
->
ai
)

803 
ZTE_DHCP_ENABLE
:

805 if((
p_fibhome_mgmt_dh
->
vnid
<1) || (p_fiberhome_mgmt_dhcp->vlanid>4094))

807 
t
 = 
ERROR
;

808 
nd_r
;

812 
t
 = 
	`el_mgmtvn_ossg
(
p_fibhome_mgmt_dh
->
vnid
);

813 if(
NO_ERROR
 !
t
)

815 
nd_r
;

817 
t
 = 
	`el_dh_hdr
();

818 if(
NO_ERROR
 !
t
)

820 
nd_r
;

824 
ZTE_DHCP_DISABLE
:

825 
t
 = 
	`el_fibhome_t_deu_
(
p_
);

826 if(
NO_ERROR
 !
t
)

828 
nd_r
;

832 
t
 = 
ERROR
;

833 
nd_r
;

836 
nd_r
:

837 if(
t
 =
NO_ERROR
)

839 
p_r
->
diti
 = 
OAM_SET_OK
;

843 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

846 *
gn
 = (
m_t_ڣ_t
);

848 
	}
}

867 
	$el_fibhome_t_deu_
(
u8_t
* 
p_
)

869 
u32_t
 
t
 = 
NO_ERROR
;

870 
_addr
 
addr
;

871 
_addr
 
mask
;

872 
_addr
 
geway
;

873 
u32_t
 
u32_
 = 
DEFAULT_IP
;

874 
u32_t
 
u32_mask
 = 
DEFAULT_MASK
;

875 
u32_t
 
u32_geway
 = 
DEFAULT_GW
;

877 
p_
 =_in;

879 
	`memy
(&
addr
, &
u32_
, 4);

880 
	`memy
(&
mask
, &
u32_mask
, 4);

881 
	`memy
(&
geway
, &
u32_geway
, 4);

882 
t
 = 
	`el__ossg
(
addr
, 
mask
, 
geway
);

883  
t
;

884 
	}
}

903 
	$el_fibhome_t_u_adm
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

905 
u32_t
 
t
 = 
NO_ERROR
;

906 
m_t_ڣ_t
 *
p_r
;

907 
fibhome_adm_t
* 
p_adm
;

908 
ul_addr
 ;

909 
ul_mask
 ;

911 
t
 = 
NO_ERROR
;

913 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

914 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

915 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_ADMIN_IP
;

917 
p_adm
 = (
fibhome_adm_t
*)
p_
;

919 if(!
	`vid_
(
p_adm
->
addr
|| !
	`vid_subt_mask
_adm->addr,_adm->
mask
))

921 
t
 = 
ERROR
;

922 
nd_r
;

924 
ul_addr
 = 
p_adm
->
addr
.
s_addr
;

925 
ul_mask
 = 
p_adm
->
mask
.
s_addr
;

928 if(0==(
ul_addr
 & (~
ul_mask
)))

930 
t
 = 
ERROR
;

931 
nd_r
;

935 if((
ul_addr
 & (~
ul_mask
)) == (0xffffffff & (~ul_mask)))

937 
t
 = 
ERROR
;

938 
nd_r
;

941 
t
 = 
	`el__ossg
(
p_adm
->
addr
,_adm->
mask
,_adm->
geway
);

943 
nd_r
:

944 if(
NO_ERROR
 !
t
)

946 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

950 
p_r
->
diti
 = 
OAM_SET_OK
;

952 *
gn
 = (
m_t_ڣ_t
);

954 
	}
}

956 
u8_t
 
	gg_mgmt_us_cfg
;

975 
	$el_fibhome_mngt_vn_oss
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

977 
u32_t
 
t
 = 
NO_ERROR
;

978 
m_t_ڣ_t
 *
p_r
;

979 
fibhome_admvn_t
* 
p_vn
;

981 
t
 = 
NO_ERROR
;

983 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

984 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

985 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_ADMIN_VLAN
;

987 
p_vn
 = (
yc_admvn_t
*)
p_
;

989 
t
 = 
	`el_mgmtvn_ossg
(
p_vn
->
vn
&0x0fff);

991 if(
NO_ERROR
 !
t
)

993 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

997 
p_r
->
diti
 = 
OAM_SET_OK
;

999 *
gn
 = (
m_t_ڣ_t
);

1002 
	}
}

1020 
	$el_fibhome_t_pt_d
(
u32_t
 
pt_num
, u32_
d_mode
)

1022 
u32_t
 
auteg
;

1023 
u32_t
 
d
;

1024 
u32_t
 
t
 = 
NO_ERROR
;

1025 
u32_t
 
pt_id
 = 
pt_num
+1;

1027 
d_mode
)

1029 
FIBERHOME_PORT_MODE_SPEED_AUTO
:

1030 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_AUTO
);

1033 
FIBERHOME_PORT_MODE_SPEED_10M
:

1034 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_10M
);

1037 
FIBERHOME_PORT_MODE_SPEED_100M
:

1038 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_100M
);

1041 
FIBERHOME_PORT_MODE_SPEED_1000M
:

1042 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_1000M
);

1045 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1046 
t
 = 
ERROR
;

1049 if(
NO_ERROR
 !
t
)

1051 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1052  
ERROR
;

1054 
_pt_mode
[
pt_id
-1].
dTy
 = 
d_mode
;

1055  
t
;

1056 
	}
}

1074 
u32_t
 
	$el_fibhome_pt_mode
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1076 
u32_t
 
t
 = 
NO_ERROR
;

1077 
m_t_ڣ_t
 *
p_r
;

1078 
fibhome_pt_mode_t
* 
p_pt_mode
;

1079 
u32_t
 
pt_mode_duex
 = 0;

1080 
u32_t
 
pt_mode_d
 = 0;

1081 
t
 = 
NO_ERROR
;

1083 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1084 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1085 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_MODE
;

1087 
p_pt_mode
 = (
fibhome_pt_mode_t
*)
p_
;

1088 
p_pt_mode
->
mode
)

1090 
FIBERHOME_PORT_MODE_10HALF
:

1091 
pt_mode_duex
 = 
DUPLEX_HALF
;

1092 
pt_mode_d
 = 
SPEED_10M
;

1094 
FIBERHOME_PORT_MODE_10FULL
:

1095 
pt_mode_duex
 = 
DUPLEX_FULL
;

1096 
pt_mode_d
 = 
SPEED_10M
;

1098 
FIBERHOME_PORT_MODE_100HALF
:

1099 
pt_mode_duex
 = 
DUPLEX_HALF
;

1100 
pt_mode_d
 = 
SPEED_100M
;

1102 
FIBERHOME_PORT_MODE_100FULL
:

1103 
pt_mode_duex
 = 
DUPLEX_FULL
;

1104 
pt_mode_d
 = 
SPEED_100M
;

1106 
FIBERHOME_PORT_MODE_1G
:

1107 
pt_mode_d
 = 
SPEED_1000M
;

1109 
FIBERHOME_PORT_MODE_AUTO
:

1110 
pt_mode_duex
 = 
DUPLEX_AUTO
;

1111 
pt_mode_d
 = 
SPEED_AUTO
;

1114 
t
 = 
ERROR
;

1115 
nd_r
;

1119 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
pt_mode_d
);

1120 if(
NO_ERROR
 !
t
)

1122 
nd_r
;

1125 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
pt_mode_duex
);

1127 
nd_r
:

1128 if(
NO_ERROR
 !
t
)

1130 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1134 
p_r
->
diti
 = 
OAM_SET_OK
;

1139 *
gn
 = (
m_t_ڣ_t
);

1141 
	}
}

1160 
	$el_fibhome_t_pt_duex
(
u32_t
 
pt_num
, u32_
duex_mode
)

1162 
u32_t
 
t
 = 
NO_ERROR
;

1163 
u32_t
 
pt_id
 = 
pt_num
+1;

1164 
duex_mode
)

1166 
FIBERHOME_PORT_MODE_DUPLEX_AUTO
:

1167 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_AUTO
);

1170 
FIBERHOME_PORT_MODE_DUPLEX_HALF
:

1171 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_HALF
);

1174 
FIBERHOME_PORT_MODE_DUPLEX_FULL
:

1175 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_FULL
);

1178 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1179 
t
 = 
ERROR
;

1183 if(
NO_ERROR
 !
t
)

1185 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1186  
ERROR
;

1188 
_pt_mode
[
pt_id
-1].
duexTy
 = 
duex_mode
;

1189  
t
;

1190 
	}
}

1209 
	$el_fibhome_duex_oss
(
u8_t
* 
p_
)

1211 
u32_t
 
t
 = 
NO_ERROR
;

1212 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1213 
u32_t
 
duex_mode
;

1214 
p_
 += 1;

1215 
duex_mode
 = (
u32_t
)(*
p_
);

1216 if(
uni_pt_auto_gٟti
 &(1<<
pt_num
))

1218  
NO_ERROR
;

1220 
t
 = 
	`el_fibhome_t_pt_duex
(
pt_num
, 
duex_mode
);

1221 if(
t
 !
NO_ERROR
)

1223 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1226  
t
;

1227 
	}
}

1246 
	$el_fibhome_t_pt_mr
(
u32_t
 
pt_num
, u32_
mr_mode
)

1248 
u32_t
 
t
 = 
NO_ERROR
;

1249 
u32_t
 
pt_id
 = 
pt_num
+1;

1250 
mr_mode
)

1252 
FIBERHOME_PORT_MODE_MIRROR_BOTH
:

1253 
t
 = 
	`DRV_AddMr
(
pt_id
, 
BOTH_MIRROR
);

1256 
FIBERHOME_PORT_MODE_MIRROR_INBOUND
:

1257 
t
 = 
	`DRV_AddMr
(
pt_id
, 
IN_MIRROR
);

1260 
FIBERHOME_PORT_MODE_MIRROR_OUTBOUND
:

1261 
t
 = 
	`DRV_AddMr
(
pt_id
, 
OUT_MIRROR
);

1264 
FIBERHOME_PORT_MODE_MIRROR_UNDO
:

1265 
t
 = 
	`DRV_DMr
(
pt_id
, 
BOTH_MIRROR
);

1268 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1269 
t
 = 
ERROR
;

1272  
t
;

1273 
	}
}

1292 
u32_t
 
	$el_fibhome_mr_oss
(
u8_t
* 
p_
)

1294 
u32_t
 
t
 = 
NO_ERROR
;

1295 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1296 
u32_t
 
mr_mode
;

1297 
p_
 += 1;

1298 
mr_mode
 = (
u32_t
)(*
p_
);

1299 
p_
 += 1;

1300 
mr_mode
 <<= 8;

1301 
mr_mode
 |*
p_
;

1302 
t
 = 
	`el_fibhome_t_pt_mr
(
pt_num
, 
mr_mode
);

1303 if(
t
 !
NO_ERROR
)

1305 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1308  
t
;

1309 
	}
}

1329 
	$el_fibhome_t_pt_mڙ
(
u32_t
 
pt_num
, u32_
ai
)

1331 
u32_t
 
t
 = 
NO_ERROR
;

1332 
u32_t
 
pt_id
 = 
pt_num
+1;

1333 
ai
)

1335 
FIBERHOME_PORT_MODE_MONITOR_SET
:

1336 
t
 = 
	`DRV_SMڙ
(
pt_id
, 
ENABLE
);

1339 
FIBERHOME_PORT_MODE_MONITOR_UNDO
:

1340 
t
 = 
	`DRV_SMڙ
(
pt_id
, 
DISABLE
);

1344 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1345 
t
 = 
ERROR
;

1348  
t
;

1349 
	}
}

1367 
	$el_fibhome_mڙ_oss
(
u8_t
* 
p_
)

1369 
u32_t
 
t
 = 
NO_ERROR
;

1370 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1371 
u32_t
 
subty
;

1372 
p_
 += 1;

1373 
subty
 = (
u32_t
)(*
p_
);

1374 
t
 = 
	`el_fibhome_t_pt_mڙ
(
pt_num
, 
subty
);

1375 if(
t
 !
NO_ERROR
)

1377 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1380  
t
;

1381 
	}
}

1384 
	$el_fibhome_t_pt_mdi
(
u32_t
 
pt_num
, u32_
subty
)

1386 
u32_t
 
t
 = 
NO_ERROR
;

1387 
u32_t
 
pt_id
 = 
pt_num
+1;

1388 
subty
)

1390 
FIBERHOME_PORT_MODE_MDI_AUTO
:

1391 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_AUTO
);

1394 
FIBERHOME_PORT_MODE_MDI_NORMAL
:

1395 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_NORMAL
);

1398 
FIBERHOME_PORT_MODE_MDI_ACROSS
:

1399 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_ACROSS
);

1402 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1403 
t
 = 
ERROR
;

1406  
t
;

1407 
	}
}

1409 
	$el_fibhome_mdi_oss
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1411 
u32_t
 
t
 = 
NO_ERROR
;

1413 
m_t_ڣ_t
 *
p_r
;

1414 
u32_t
 
subty
;

1415 
fibhome_mdi_t
 *
mdi_fo
;

1417 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1418 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1419 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_MDI
;

1421 
mdi_fo
 = (
fibhome_mdi_t
*)
p_
;

1424 
t
 = 
	`el_fibhome_t_pt_mdi
(
mdi_fo
->
pt_num
, mdi_fo->
subty
);

1425 if(
t
 !
NO_ERROR
)

1427 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1428 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1432 
p_r
->
diti
 = 
OAM_SET_OK
;

1434 *
gn
 = (
m_t_ڣ_t
);

1436  
t
;

1437 
	}
}

1440 
	$el_fibhome_t_mac_agg
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1442 
u32_t
 
t
 = 
NO_ERROR
;

1443 
m_t_ڣ_t
 *
p_r
;

1444 
fibhome_mac_agg_t
* 
p_agg
;

1446 
t
 = 
NO_ERROR
;

1448 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1449 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1450 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
;

1452 
p_agg
 = (
fibhome_mac_agg_t
*)
p_
;

1453 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "maaddaggim%d\n", 
p_agg
->
aggTime
);

1455 
t
 = 
	`Iol_SMacAgeTime
(
p_agg
->
aggTime
*10);

1456 if(
t
 !
DRV_OK
)

1458 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1462 
p_r
->
diti
 = 
OAM_SET_OK
;

1464 *
gn
 = (
m_t_ڣ_t
);

1466 
	}
}

1468 
	$el_fibhome_t_pt_
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1470 
u32_t
 
t
 = 
NO_ERROR
;

1471 
m_t_ڣ_t
 *
p_r
;

1472 
fibhome_pt__t
* 
p_pt_isީe
;

1473 
u32_t
 
ulPt
;

1475 
t
 = 
NO_ERROR
;

1477 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1478 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1479 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
;

1481 
p_pt_isީe
 = (
fibhome_pt__t
*)
p_
;

1483 
ulPt
 = 1; ulP܈<
MAX_NUM_OF_PORTS
; ulPort++)

1485 
t
 = 
	`DRV_SPtIsީi
(
ulPt
, 
p_pt_isީe
->

);

1486 if(
NO_ERROR
 !
t
)

1492 if(
NO_ERROR
 !
t
)

1494 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1498 
p_r
->
diti
 = 
OAM_SET_OK
;

1501 *
gn
 = (
m_t_ڣ_t
);

1503 
	}
}

1507 
	$fr_a_add_lol
(
u8_t
 
dei
, u8_
aTy
,u8_
ucRuID
, u8_t* 
ucVue
)

1509 
ii
;

1510 if(
dei
 > 2)

1512  
ERROR
;

1514 if(
NULL
 =
ucVue
)

1516  
ERROR
;

1518 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1520 if(
INVALID_8
 =
aFtA_li
[
ii
].
dei
)

1522 
aFtA_li
[
ii
].
dei
 = direction;

1523 
aFtA_li
[
ii
].
aruID
 = 
ucRuID
;

1524 
aFtA_li
[
ii
].
ty
 = 
aTy
;

1525 
	`memy
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 6);

1529 if(
MAX_FILTER_NUM
 =
ii
)

1531 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1532  
ERROR
;

1534  
NO_ERROR
;

1535 
	}
}

1536 
	$fr_a_g_loum
()

1538 
ii
;

1539 
cou
=0;

1540 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1542 if(
INVALID_8
 !
aFtA_li
[
ii
].
dei
)

1544 
cou
++;

1548  
cou
;

1549 
	}
}

1550 
	$fr_a_g_emyru
()

1552 
ii
;

1553 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1555 if(
INVALID_8
 =
aFtA_li
[
ii
].
dei
)

1561  
ii
;

1562 
	}
}

1564 
	$fr_a_d_lol
(
u8_t
 
dei
, u8_
aTy
, u8_t* 
ucVue
)

1566 
ii
;

1567 
t
 = 
NO_ERROR
;

1568 if(
dei
 > 2)

1570  
ERROR
;

1572 if(
NULL
 =
ucVue
)

1574  
ERROR
;

1576 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1578 if((
dei
 =
aFtA_li
[
ii
].dei&& (
aTy
 =aFtA_li[ii].
ty
))

1580 if((
ACL_TRUST_SMAC
==
aTy
|| (
ACL_TRUST_DMAC
==aclType))

1582 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 6))

1587 if((
ACL_TRUST_IPV4_SIP
==
aTy
|| (
ACL_TRUST_IPV4_DIP
==aclType))

1589 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 4))

1596 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 2))

1602 
	`FIBERHOME_DBG
("fr_a_d_lo%d\n",
aFtA_li
[
ii
].
aruID
);

1603 
t
=
	`Iol_DAFrByPt
(
INVALID_PORT
,
aFtA_li
[
ii
].
aruID
,aFtA_li[ii].
dei
);

1604 if(
t
 !
DRV_OK
)

1606 
	`FIBERHOME_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1607  
ERROR
;

1609 
aFtA_li
[
ii
].
ty
 = 
INVALID_8
;

1610 
aFtA_li
[
ii
].
dei
 = 
INVALID_8
;

1611 
	`memt
(
aFtA_li
[
ii
].
vue
, 0, 6);

1616  
NO_ERROR
;

1617 
	}
}

1619 
	$fr_a_r_lol
()

1621 
ii
;

1622 
t
;

1623 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1625 if(
aFtA_li
[
ii
].
dei
 =
INVALID_8
)

1630 
t
=
	`Iol_DAFrByPt
(
INVALID_PORT
,
aFtA_li
[
ii
].
aruID
,aFtA_li[ii].
dei
);

1631 if(
t
 !
DRV_OK
)

1633 
	`FIBERHOME_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1634  
ERROR
;

1636 
aFtA_li
[
ii
].
ty
 = 
INVALID_8
;

1637 
aFtA_li
[
ii
].
dei
 = 
INVALID_8
;

1638 
	`memt
(
aFtA_li
[
ii
].
vue
, 0, 6);

1640 
	}
}

1642 
	$el_fibhome_fr_oss
(
u8_t
* 
p_
)

1644 
u32_t
 
t
 = 
NO_ERROR
;

1645 
u32_t
 
frEmyEry
;

1646 
u32_t
 
cou
=0;

1647 
u32_t
 
aD
;

1648 
aToD
 = -1;

1649 
u32_t
 
frTy
 = 0;

1650 
ii
 = 0;

1651 
fibhome_ck_fr_t
* 
p_ck_fr
 = (fibhome_ck_fr_t*)
p_
;

1652 
u8_t
 
tmp_fr_vue
[6];

1654 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
, (p_packet_filter->value));

1656 
p_ck_fr
->
ty
)

1658 
FIBERHOME_PACKET_FILTER_TRUST_DMAC
:

1659 
frTy
 = 
ACL_TRUST_DMAC
;

1661 
FIBERHOME_PACKET_FILTER_TRUST_SMAC
:

1662 
frTy
 = 
ACL_TRUST_SMAC
;

1664 
FIBERHOME_PACKET_FILTER_TRUST_SIP
:

1665 
frTy
 = 
ACL_TRUST_IPV4_SIP
;

1667 
FIBERHOME_PACKET_FILTER_TRUST_DIP
:

1668 
frTy
 = 
ACL_TRUST_IPV4_DIP
;

1670 
FIBERHOME_PACKET_FILTER_TRUST_TCP_SPORT
:

1671 
frTy
 = 
ACL_TRUST_TCP_SPORT
;

1672 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1673 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1675 
FIBERHOME_PACKET_FILTER_TRUST_TCP_DPORT
:

1676 
frTy
 = 
ACL_TRUST_TCP_DPORT
;

1677 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1678 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1680 
FIBERHOME_PACKET_FILTER_TRUST_UDP_SPORT
:

1681 
frTy
 = 
ACL_TRUST_UDP_SPORT
;

1682 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1683 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1685 
FIBERHOME_PACKET_FILTER_TRUST_UDP_DPORT
:

1686 
frTy
 = 
ACL_TRUST_UDP_DPORT
;

1687 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1688 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1690 
FIBERHOME_PACKET_FILTER_TRUST_CVLAN
:

1691 
frTy
 = 
ACL_TRUST_CTAG_VID
;

1692 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1693 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1695 
FIBERHOME_PACKET_FILTER_TRUST_ETHTYPE
:

1696 
frTy
 = 
ACL_TRUST_ETHTYPE
;

1701 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1702 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1705  
ERROR
;

1707 if(
FIBERHOME_PACKET_FILTER_ENABLE_SET
 =
p_ck_fr
->
ai
) {

1709 if((
cou
=
	`fr_a_g_loum
())==
MAX_FILTER_NUM
)

1711  
ERROR
;

1714 
t
 = 
	`Iol_GUniUt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
frEmyEry
);

1715 if(
t
 !
DRV_OK
)

1717 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1718  
ERROR
;

1721 
frEmyEry
=
	`fr_a_g_emyru
();

1722 
	`FIBERHOME_DBG
("addry %d\n", 
frEmyEry
);

1723 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

1724 
frTy
,

1725 
p_ck_fr
->
di
,

1726 
tmp_fr_vue
);

1728 if(
t
 !
DRV_OK
)

1730 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1731  
ERROR
;

1733 
	`fr_a_add_lol
(
p_ck_fr
->
di
,

1734 
p_ck_fr
->
ty
,

1735 
frEmyEry
,

1736 
p_ck_fr
->
vue
);

1739 if(
FIBERHOME_PACKET_FILTER_DISABLE_SET
 =
p_ck_fr
->
ai
)

1741 
t
 = 
	`fr_a_d_lol
(
p_ck_fr
->
di
,

1742 
p_ck_fr
->
ty
,

1743 
p_ck_fr
->
vue
);

1744 if(
t
 !
NO_ERROR
)

1746 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1747  
ERROR
;

1752 
	`FIBERHOME_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1753  
ERROR
;

1755  
NO_ERROR
;

1756 
	}
}

1758 
	$el_fibhome_t_uni_s
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1760 
u32_t
 
t
 = 
NO_ERROR
;

1761 
m_t_ڣ_t
 *
p_r
;

1762 
fibhome_s_t_t
* 
p_s_t
;

1763 
u32_t
 
t
;

1764 
t
 = 
NO_ERROR
;

1766 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1767 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1768 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_STATS
;

1770 
p_s_t
(
fibhome_s_t_t
*)
p_
;

1771 
t
 = (
u32_t
)(
p_s_t
->
pt
);

1772 
t
 = 
	`Iol_SMibCouRet
(
t
);

1773 if(
DRV_OK
 !
t
)

1775 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1779 
p_r
->
diti
 = 
OAM_SET_OK
;

1781 *
gn
 = (
m_t_ڣ_t
);

1783 
	}
}

1784 
	$m_fibhome_t_mgmtvnif
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

1786 
u32_t
 
t
 = 
NO_ERROR
;

1787 
ifdex_t
 
ifdex
;

1788 
m_t_ڣ_t
 *
p_r
;

1789 
iame
[64];

1790 
sys_mvn_t
 
fo_mvn
;

1792 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

1793 
p_r
->
bnch
 = 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
;

1794 
p_r
->
af
 = 
OAM_FIBERHOME_EXT_LEAF_SHUTDOWN
;

1796 
	`memt
(&
fo_mvn
, 0, (
sys_mvn_t
));

1797 if(
IPC_STATUS_OK
 !
	`m_c_g_sys_mvn
(&
fo_mvn
))

1799  
ERROR
;

1802 
	`rtf
(
iame
,
IF_L3VLAN_NAMEPREFIX
"%d",
fo_mvn
.
vn_r
);

1803 
	`IF_GByIFName
(
iame
,&
ifdex
);

1805 if(
FIBERHOME_MGMT_IF_SHUTDOWN_NO
 =*
p_
)

1807 
t
 = 
	`c_shutdown_tf
(
c_fd
,
ifdex
,
UNDOSHUTDOWN
);

1809 if(
FIBERHOME_MGMT_IF_SHUTDOWN
 =*
p_
)

1811 
t
 = 
	`c_shutdown_tf
(
c_fd
,
ifdex
,
SHUTDOWN
);

1815  
ERROR
;

1817 if(
t
 !
DRV_OK
)

1819 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1823 
p_r
->
diti
 = 
OAM_SET_OK
;

1825 *
gn
 = (
m_t_ڣ_t
);

1826  
NO_ERROR
;

1827 
	}
}

1829 
	$m_fibhome_t_uni__ave
(
u8_t
 *
p_
)

1831 
fibhome__ave_t
 *
p__ave
 = (fibhome__ave_t*)
p_
;

1833  
ERROR
;

1834 
p__ave
->
a
)

1836 
FIBERHOME_ENABLE
:

1837 if(
OPL_OK
 !
	`odmMuiFaaveModeS
(1))

1839  
ERROR
;

1842 
FIBERHOME_DISABLE
:

1843 if(
OPL_OK
 !
	`odmMuiFaaveModeS
(0))

1845  
ERROR
;

1849  
ERROR
;

1852  
NO_ERROR
;

1853 
	}
}

1855 
	$m_fibhome_t_uni_cfig
(
u8_t
 *
p_
)

1857 
u32_t
 
t
 = 
NO_ERROR
;

1858 
u8_t
* 
p_c
 = 
p_
;

1859 
p_
 += 6;

1860 
fibhome_vb_t
 *
p_des
;

1863 i((
p_
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
-((
mpdu_hdr_t
)+(
fibhome_hd_t
)))

1865 
	`FIBERHOME_DBG
("invalidacket size\n");

1868 
p_des
 = (
fibhome_vb_t
*)
p_
;

1869 
p_des
->
af
)

1871 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET
:

1872 
t
 = 
	`el_fibhome_d_oss
(
p_
 + 4);

1874 
OAM_FIBERHOME_EXT_LEAF_DUPLEX_SET
:

1875 
t
 = 
	`el_fibhome_duex_oss
(
p_
 + 4);

1877 
OAM_FIBERHOME_EXT_LEAF_MIRROR_SET
:

1878 
t
 = 
	`el_fibhome_mr_oss
(
p_
 + 4);

1880 
OAM_FIBERHOME_EXT_LEAF_MONITOR_SET
:

1881 
t
 = 
	`el_fibhome_mڙ_oss
(
p_
 + 4);

1883 
OAM_FIBERHOME_EXT_LEAF_ISOLATE_SET
:

1884 
t
 = 
	`el_fibhome_isީe_oss
(
p_
 + 4);

1886 
OAM_FIBERHOME_EXT_LEAF_MDI_SET
:

1887 
t
 = 
	`el_fibhome_mdi_oss
(
p_
 + 4);

1889 
OAM_FIBERHOME_EXT_LEAF_MCAST_FAST_LEAVE
:

1890 
t
 = 
	`m_fibhome_t_uni__ave
(
p_
 + 4);

1899 
p_
 +(
p_des
->
width
+4);

1901 
	}
}

1903 
	$m_fibhome_t_u_cfig
(
u8_t
 *
p_
)

1905 
u8_t
* 
p_c
 = 
p_
;

1906 
p_
 += 6;

1907 
fibhome_vb_t
 *
p_des
;

1910 ()
	`fr_a_r_lol
();

1914 i((
p_
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
-((
mpdu_hdr_t
)+(
fibhome_hd_t
)))

1916 
	`FIBERHOME_DBG
("invalidacket size\n");

1919 
p_des
 = (
fibhome_vb_t
*)
p_
;

1920 
p_des
->
af
)

1922 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_CFG
:

1923 ()
	`el_fibhome__oss
(
p_
 + 4);

1925 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLAN
:

1926 ()
	`el_fibhome_mngt_vn_oss
(
p_
 + 4);

1928 
OAM_FIBERHOME_EXT_LEAF_DHCP
:

1929 ()
	`el_fibhome_dh_oss
(
p_
 + 4);

1931 
OAM_FIBERHOME_EXT_LEAF_FILTER_SET
:

1932 ()
	`el_fibhome_fr_oss
(
p_
 + 4);

1934 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLANIF
:

1935 ()
	`m_fibhome_t_mgmtvnif
(
p_
 + 4);

1954 
p_
 +(
p_des
->
width
+4);

1956 
	}
}

1976 
	$el_fibhome_t_q
(
u8_t
 *
p_
, u8_t* 
ybuf
, 
u16_t
 *
yn
)

1978 
m_vb_dest_t
 *
p_v_desc
;

1979 
u16_t
 
gn
 = 0;

1980 
u32_t
 
t
 = 
ERROR
;

1984 *
p_
)

1986 
OAM_FIBERHOME_BRANCH_EXTENDED_ATTRIB
:

1987 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

1988 
p_v_desc
->
af
)

1991 
OAM_FIBERHOME_EXT_LEAF_MGMT_IP_CFG
:

1993 
	`el_fibhome_t_u_adm
(
p_
, 
ybuf
, &
gn
);

1994 
p_
 +(
fibhome_adm_t
);

1995 
ybuf
 +
gn
;

1996 *
yn
 +
gn
;

1998 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLAN
:

2000 
	`el_fibhome_mngt_vn_oss
(
p_
, 
ybuf
, &
gn
);

2001 
p_
 +(
fibhome_admvn_t
);

2002 
ybuf
 +
gn
;

2003 *
yn
 +
gn
;

2006 
OAM_FIBERHOME_EXT_LEAF_DHCP
:

2008 
	`el_fibhome_dh_oss
(
p_
, 
ybuf
, &
gn
);

2009 
p_
 +(
m_fibhome_mgmt_dh_t
);

2010 
ybuf
 +
gn
;

2011 *
yn
 +
gn
;

2014 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET
:

2016 
	`el_fibhome_pt_mode
(
p_
, 
ybuf
, &
gn
);

2017 
p_
 +(
fibhome_pt_mode_t
);

2018 
ybuf
 +
gn
;

2019 *
yn
 +
gn
;

2021 
OAM_FIBERHOME_EXT_LEAF_SPEED_SET_1000M
:

2024 
OAM_FIBERHOME_EXT_LEAF_DUPLEX_SET
:

2025 
t
 = 
	`el_fibhome_duex_oss
(
p_
);

2027 
OAM_FIBERHOME_EXT_LEAF_MIRROR_SET
:

2028 
t
 = 
	`el_fibhome_mr_oss
(
p_
);

2030 
OAM_FIBERHOME_EXT_LEAF_MONITOR_SET
:

2031 
t
 = 
	`el_fibhome_mڙ_oss
(
p_
);

2034 
OAM_FIBERHOME_EXT_LEAF_MDI_SET
:

2036 
	`el_fibhome_mdi_oss
(
p_
, 
ybuf
, &
gn
);

2037 
p_
 +(
fibhome_mdi_t
);

2038 
ybuf
 +
gn
;

2039 *
yn
 +
gn
;

2042 
OAM_FIBERHOME_EXT_LEAF_FILTER_SET
:

2043 
t
 = 
	`el_fibhome_fr_oss
(
p_
);

2046 
OAM_FIBERHOME_EXT_LEAF_UNI_STATS_RESET
:

2048 
	`el_fibhome_t_uni_s
(
p_
, 
ybuf
, &
gn
);

2049 
p_
 +(
fibhome_s_t_t
);

2050 
ybuf
 +
gn
;

2051 *
yn
 +
gn
;

2054 
OAM_FIBERHOME_EXT_LEAF_MGMT_VLANIF
:

2056 
	`m_fibhome_t_mgmtvnif
(
p_
, 
ybuf
, &
gn
);

2057 
p_
 +(
fibhome_shutdowm_t
);

2058 
ybuf
 +
gn
;

2059 *
yn
 +
gn
;

2062 
OAM_FIBERHOME_EXT_LEAF_MCAST_FAST_LEAVE
:

2063 
t
 = 
	`m_fibhome_t_uni__ave
(
p_
);

2066 
OAM_FIBERHOME_EXT_LEAF_MAC_AGETIME
:

2067 
	`el_fibhome_t_mac_agg
(
p_
, 
ybuf
, &
gn
);

2068 
p_
 +(
fibhome_mac_agg_t
);

2069 
ybuf
 +
gn
;

2070 *
yn
 +
gn
;

2072 
OAM_FIBERHOME_EXT_LEAF_PORT_SEPERATE
:

2073 
	`el_fibhome_t_pt_
(
p_
, 
ybuf
, &
gn
);

2074 
p_
 +(
fibhome_pt__t
);

2075 
ybuf
 +
gn
;

2076 *
yn
 +
gn
;

2078 
OAM_FIBERHOME_EXT_LEAF_MAC_LIMIT
:

2079 
p_
--;

2080 
	`el_fibhome_t_u_mac_lim
(
p_
, 
ybuf
, &
gn
);

2081 
p_
 +(
fibhome_mac_lim_t
);

2082 
ybuf
 +
gn
;

2083 *
yn
 +
gn
;

2086 
OAM_FIBERHOME_EXT_LEAF_UNI_CONFIG
:

2087 if(0xf=
p_v_desc
->
bnch
)

2089 ()
	`m_fibhome_t_uni_cfig
(
p_
);

2091 
t
 = 
NO_ERROR
;

2093 
OAM_FIBERHOME_EXT_LEAF_ONU_CONFIG
:

2094 if(0xf=
p_v_desc
->
bnch
)

2096 ()
	`m_fibhome_t_u_cfig
(
p_
);

2098 
t
 = 
NO_ERROR
;

2102 
p_
 +(
m_t_ڣ_t
);

2107 
OAM_FIBERHOME_BRANCH_INSTANCE_INDEX_2_1
:

2108 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

2109 
p_v_desc
->
af
)

2111 
OAM_FIBERHOME_EXT_LEAF_INSTANCE_MAC_LIMIT
:

2112 
	`el_fibhome_g_u__mac_lim
(
p_
,
ybuf
, &
gn
);

2113 
p_
 +(
fibhome__mac_lim_t
);

2114 
ybuf
 +
gn
;

2115 *
yn
 +
gn
;

2123  
t
;

2124 
	}
}

2144 
	$el_fibhome_pdu_oss
(

2145 
m_mPdu_t
 *
pOamPdu
,

2146 *
pFme
,

2147 
ngth
,

2148 *
pRlyBuf
,

2149 
bufL
,

2150 *
pRlyL
)

2152 
t
 = 
EPON_OAM_ERR_OK
;

2153 
fibhome_hd_t
 *
p_fibhome_hdr
;

2154 
fibhome_hd_t
 *
p_out_fibhome_hdr
;

2155 
u8_t
 *
p_by
;

2157 *
pRlyL
 = 0;

2158 if((
ngth
 < 
FIBERHOME_ORGSPEC_HDR_LEN
|| (
bufL
 < FIBERHOME_ORGSPEC_HDR_LEN))

2161  
EPON_OAM_ERR_PARAM
;

2164 
p_by
 = 
pFme
;

2165 
p_fibhome_hdr
 = (
fibhome_hd_t
*)
pFme
;

2166 
p_by
 +(
fibhome_hd_t
);

2168 
p_out_fibhome_hdr
 = (
fibhome_hd_t
*)
pRlyBuf
;

2169 
	`memy
(
p_out_fibhome_hdr
->
oui
, 
p_fibhome_hdr
->oui, 3);

2170 *
pRlyL
 +(
fibhome_hd_t
);

2171 
pRlyBuf
 +(
fibhome_hd_t
);

2173 
p_fibhome_hdr
->
ext_code
)

2175 
OAM_FIBERHOME_EXT_OPCODE_GET_REQUEST
:

2176 
p_out_fibhome_hdr
->
ext_code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

2177 
	`el_fibhome_g_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

2179 
OAM_FIBERHOME_EXT_OPCODE_SET_REQUEST
:

2180 
p_out_fibhome_hdr
->
ext_code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

2181 
	`el_fibhome_t_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

2184 
	`FIBERHOME_DBG
("Unknow Ext. Opcod(%d)", 
p_fibhome_hdr
->
ext_code
);

2185 
p_out_fibhome_hdr
 = (
fibhome_hd_t
*)
pRlyBuf
;

2186 
	`memy
(
p_out_fibhome_hdr
->
oui
,_out_fiberhome_hdr->oui, 3);

2187 
p_out_fibhome_hdr
->
ext_code
 = 
p_fibhome_hdr
->ext_opcode;

2189 *
pRlyL
 = (
fibhome_hd_t
);

2193  
EPON_OAM_ERR_OK
;

2194 
	}
}

2196 
	$fibhome_m_
()

2198 
i
, 
t
;

2199 
oui
[] = 
FIBERHOME_OAM_OUI
;

2200 
m_gScCb_t
 
gScCb
;

2203 
gScCb
.
oss
 = 
el_fibhome_pdu_oss
;

2204 
t
 = 
	`_m_gScCb_g
(

2205 
EPON_OAM_CBTYPE_ORGSPEC
,

2206 
oui
,

2207 (*&
gScCb
);

2208 if(
EPON_OAM_ERR_OK
 !
t
)

2210 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

2212  
EPON_OAM_ERR_UNKNOWN
;

2215 
c_fd
 = 
	`c__c
("eponoamd");

2216 if(
c_fd
 < 0)

2218 
	`tf
("%%d\n", 
__FUNCTION__
, 
__LINE__
);

2221  
EPON_OAM_ERR_OK
;

2222 
	}
}

	@vendor/h3c.c

9 
	~<dio.h
>

10 
	~<rg.h
>

11 
	~<dlib.h
>

12 
	~<mloc.h
>

13 
	~<sys/tys.h
>

14 
	~<sys/.h
>

15 
	~<sys/sock.h
>

16 
	~<t/.h
>

17 
	~<t/if.h
>

20 
	~"_m_cfig.h
"

21 
	~"_m_r.h
"

22 
	~"_m_db.h
"

23 
	~"_m_dbg.h
"

24 
	~"_m_rx.h
"

26 
	~"m.h
"

27 
	~"h3c.h
"

29 
	~"c_.h
"

30 
	~"m_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_q.h
"

35 
	~"mc_cڌ.h
"

36 
	~"lw_cfig.h
"

39 
	#OAM_SUPPORT_H3C_EXT


	)

40 #ifde
OAM_SUPPORT_H3C_EXT


41 
u16_t
 
g_usOutDaIdx
;

42 
u8_t
 
out_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

43 
u8_t
 
_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

44 
m__t
 
ms
;

45 
u8_t
 
h3c_oui
[3];

46 
u32_t
 
	gulSequNum_H3C
 = 0;

47 
	gc_fd
;

49 
	#MODULE
 
MOD_OAM


	)

50 
	#MAX_FILTER_NUM
 32

	)

51 
	#INVALID_8
 0xFF

	)

53 
u8_t
 
uni_pt_auto_gٟti
;

55 
fr_a_t
 
	gaFtA_li
[
MAX_FILTER_NUM
] =

57 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

58 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

59 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

60 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

61 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

62 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

63 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

64 {
INVALID_8
,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},{INVALID_8,INVALID_8,{0},INVALID_8},

67 
h3c_pt_mode_t
 
	g_pt_mode
[4] =

69 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

70 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

71 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
},

72 {
H3C_PORT_MODE_SPEED_AUTO
,
H3C_PORT_MODE_DUPLEX_AUTO
}

76 
	#H3C_DBG
 
tf


	)

78 
	#H3C_DBG
(
fmt
, ...)

	)

81 
	$m_c_g_sys_twkg
(
sys_twk_t
 *
fo
)

83 
c_sys_twk_ack_t
 *
ck
;

84 
t
;

85 
ck
 = 
	`c_sys_twkg
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

86 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

87 i(
fo
){

88 
	`memy
(
fo
, &
ck
->
twk
, (*info));

90 
t
 = 0;

91 }i(
ck
){

92 
t
 = 
ck
->
hdr
.
us
;

94 
t
 = 
IPC_STATUS_FAIL
;

96 if(
ck

	`
(pack);

98  
t
;

99 
	}
}

101 
	$m_c_t_sys_twkg
(
c_twk_t
 *
fo
)

103 
c_sys_twk_ack_t
 *
ck
;

104 
t
;

105 
ck
 = 
	`c_sys_twkg
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

106 i(
ck
){

107 
t
 = 
ck
->
hdr
.
us
;

109 
t
 = 
IPC_STATUS_FAIL
;

112 if(
ck

	`
(pack);

113  
t
;

114 
	}
}

116 
	$m_c_g_sys_mvn
(
sys_mvn_t
 *
mvn
)

118 
c_sys_mvn_ack_t
 *
ck
;

119 
t
;

120 
ck
 = 
	`c_sys_mvn
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

121 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

122 i(
mvn
){

123 
	`memy
(
mvn
, &
ck
->mvlan, (*mvlan));

125 
t
 = 0;

126 }i(
ck
){

127 
t
 = 
ck
->
hdr
.
us
;

129 
t
 = 
IPC_STATUS_FAIL
;

131 if(
ck

	`
(pack);

133  
t
;

134 
	}
}

136 
	$m_c_t_sys_mvn
(
sys_mvn_t
 *
fo
)

138 
c_sys_mvn_ack_t
 *
ck
;

139 
t
;

140 
ck
 = 
	`c_sys_mvn
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

141 i(
ck
){

142 
t
 = 
ck
->
hdr
.
us
;

144 
t
 = 
IPC_STATUS_FAIL
;

147 if(
ck

	`
(pack);

148  
t
;

149 
	}
}

151 
	$m_c_g_sys_
(
sys__t
 *
fo
)

153 
c_sys__ack_t
 *
ck
;

154 
t
;

155 
ck
 = 
	`c_sys_
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

157 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

158 i(
fo
){

159 
	`memy
(
fo
, &
ck
->
_fo
, (*info));

161 
t
 = 0;

162 }i(
ck
){

163 
t
 = 
ck
->
hdr
.
us
;

165 
t
 = 
IPC_STATUS_FAIL
;

168 if(
ck

	`
(pack);

169  
t
;

170 
	}
}

172 
	$m_c_t_sys_lo
(
sys_lo_t
 *
fo
)

174 
c_sys_lo_ack_t
 *
ck
;

175 
t
;

176 
ck
 = 
	`c_sys_lo
(
c_fd
, 
IPC_CONFIG_SET
, 
IPC_APPLY_NOW
, 
fo
);

177 i(
ck
){

178 
t
 = 
ck
->
hdr
.
us
;

180 
t
 = 
IPC_STATUS_FAIL
;

183 if(
ck

	`
(pack);

184  
t
;

185 
	}
}

187 
	$m_c_g_sys_lo
(
sys_lo_t
 *
fo
)

189 
c_sys_lo_ack_t
 *
ck
;

190 
t
;

191 
ck
 = 
	`c_sys_lo
(
c_fd
, 
IPC_CONFIG_GET
, 
IPC_APPLY_NONE
, 
NULL
);

193 i(
ck
 &&ack->
hdr
.
us
 =
IPC_STATUS_OK
) {

194 i(
fo
){

195 
	`memy
(
fo
, &
ck
->
lo
, (*info));

197 
t
 = 0;

198 }i(
ck
){

199 
t
 = 
ck
->
hdr
.
us
;

201 
t
 = 
IPC_STATUS_FAIL
;

204 if(
ck

	`
(pack);

205  
t
;

206 
	}
}

208 
	$el_h3c_g_uni_s
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
, u8_t* 
ybuf
, u16_*
yn
)

210 
h3c_s_t
* 
p_h3c_s
;

211 
u32_t
 
t
 = (u32_t)(*
p_
) + 1;

212 
u32_t
 
t
 = 
NO_ERROR
;

213 
UNI_COUNTER_S
 
mibCous
;

215 
u32_t
 
pt_duex
 = 0;

216 
u32_t
 
pt_d
 = 0;

217 
u32_t
 
lk_us
 = 0;

218 
ab
=
FALSE
;

219 if((
t
 > 
ODM_NUM_OF_PORTS
) || (0 ==port))

221 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

222  
ERROR
;

224 
t
 = 
	`Iol_GPtAuteg
(
t
,&
ab
);

225 if(
t
 !
DRV_OK
)

227 
	`H3C_DBG
("[FILE] %[LINE] %d %d\n", 
__FILE__
, 
__LINE__
,
t
);

228  
t
;

230 
t
 = 
	`DRV_GPtMibCou
(
t
, &
mibCous
);

231 if(
t
 !
NO_ERROR
)

233 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

234  
t
;

237 
t
 = 
	`DRV_GPtDuex
(
t
, &
pt_duex
);

238 if(
t
 !
NO_ERROR
)

240 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

241  
t
;

244 
t
 = 
	`DRV_GPtSed
(
t
, &
pt_d
);

245 if(
t
 !
NO_ERROR
)

247 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

248  
t
;

251 
p_h3c_s
 = (
h3c_s_t
*)(
ybuf
);

252 if(
TRUE
 !
ab
)

254 
p_h3c_s
->
dTy
 = 0x01;

255 
p_h3c_s
->
duexTy
 = 0x01;

259 
p_h3c_s
->
dTy
 = 0x00;

260 
p_h3c_s
->
duexTy
 = 0x00;

264 if(
H3C_PORT_MODE_DUPLEX_AUTO
 !
_pt_mode
[
t
-1].
duexTy
)

266 
p_h3c_s
->
duexTy
 = 0x01;

270 
p_h3c_s
->
duexTy
 = 0x00;

273 
t
 = 
	`DRV_GPtLkStus
(
t
, &
lk_us
);

275 if((
NO_ERROR
!=
t
|| (
lk_us
==0))

277 
p_h3c_s
->
d
 = 0XFF;

278 
p_h3c_s
->
duex
 = 0XFF;

279 
nd_r
;

281 ()
	`DRV_GPtDuex
(
t
, &
pt_duex
);

282 ()
	`DRV_GPtSed
(
t
, &
pt_d
);

284 
pt_duex
)

286 
DUPLEX_HALF
:

287 
p_h3c_s
->
duex
 = 
H3C_PORT_MODE_DUPLEX_HALF
;

289 
DUPLEX_FULL
:

290 
p_h3c_s
->
duex
 = 
H3C_PORT_MODE_DUPLEX_FULL
;

293 
p_h3c_s
->
duex
 = 0XFF;

297 
pt_d
)

299 
SPEED_10M
:

300 
p_h3c_s
->
d

H3C_PORT_MODE_SPEED_10M
;

302 
SPEED_100M
:

303 
p_h3c_s
->
d
 = 
H3C_PORT_MODE_SPEED_100M
;

305 
SPEED_1000M
:

306 
p_h3c_s
->
d
 = 
H3C_PORT_MODE_SPEED_1000M
;

309 
p_h3c_s
->
d
 = 0XFF;

313 
nd_r
:

314 
t
 = 
	`DRV_GPtMibCou
(
t
, &
mibCous
);

315 if(
t
 !
NO_ERROR
)

317 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

318 
nd_l
;

320 
p_h3c_s
->
ifInOs
 = 
mibCous
.
uiRecOs
;

321 
p_h3c_s
->
ifInCRCEs
 = 
mibCous
.
InCrcE
;

322 
p_h3c_s
->
ifInPauPkts
 = 
mibCous
.
InPau
;

324 
p_h3c_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

325 
p_h3c_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

326 
p_h3c_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

327 
p_h3c_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

328 
p_h3c_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

329 
p_h3c_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

331 
p_h3c_s
->
ifInBufrEs
 = 0;

333 
p_h3c_s
->
ifInRusPkts
 = 
mibCous
.
InUndow
;

334 
p_h3c_s
->
ifInGsPkts
 = 
mibCous
.
InOvow
;

335 
p_h3c_s
->
ifInRxEs
 = 
mibCous
.
InE
;

337 
p_h3c_s
->
ifOutOsL
 = (
u32_t
)(
mibCous
.
uiTnsOs
);

338 
p_h3c_s
->
ifOutOsH
 = (
u32_t
)(
mibCous
.
uiTnsOs
 >> 32);

340 
p_h3c_s
->
ifOutPauPkts
 = 
mibCous
.
OutPau
;

341 
p_h3c_s
->
ifOutdeed
 = 0;

342 
p_h3c_s
->
ifOutclisis
 = 
mibCous
.
OutClisi
;

343 
p_h3c_s
->
ifOutTxE
 = 
mibCous
.
OutE
;

345 
nd_l
:

346 *
yn
 +(
h3c_s_t
);

348  
t
;

349 
	}
}

352 
	$el_h3c_g_brd_s
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
, u8_t* 
ybuf
, u16_*
yn
)

354 #i
	`defed
(
CONFIG_PRODUCT_5500
)

355 
tmp_buf
[81]={ 'N', '5', '5', '0', '0', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

361 #i
	`defed
(
CONFIG_PRODUCT_EPN104N
)

362 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

368 #i
	`defed
(
CONFIG_PRODUCT_EPN104W
)

369 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'W', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

375 #i
	`defed
(
CONFIG_PRODUCT_EPN101R
)

376 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '1', 'R', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

382 #i
	`defed
(
CONFIG_PRODUCT_EPN101ZG
)

383 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '1', 'Z', 'G', 0x00, 0x00, 0x00, 0x00, 0x00,

389 #i
	`defed
(
CONFIG_PRODUCT_EPN104ZG
)

390 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'Z', 'G', 0x00, 0x00, 0x00, 0x00, 0x00,

396 #i
	`defed
(
CONFIG_PRODUCT_EPN104ZG_A
)

397 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '4', 'Z', 'G', '_', 'A', 0x00, 0x00, 0x00,

403 #i
	`defed
(
CONFIG_PRODUCT_EPN105
)

404 
tmp_buf
[81]={ 'E', 'P', 'N', '1', '0', '5', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

410 #i
	`defed
(
CONFIG_PRODUCT_GPN104N
)

411 
tmp_buf
[81]={ 'G', 'P', 'N', '1', '0', '4', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

418 
tmp_buf
[81]={ 'U', 'N', 'K', 'N', 'O', 'W', 'N', 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

426 
	`memy
(
ybuf
, 
tmp_buf
, (tmp_buf));

427 *
yn
 +(
tmp_buf
);

429  
NO_ERROR
;

430 
	}
}

433 
	$el_h3c_g_q
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
, u8_t* 
ybuf
, u16_*
yn
)

435 
u32_t
 
t
 = 
NO_ERROR
;

437 
af
)

439 
OAM_H3C_EXT_LEAF_UNI_STATS
:

440 
t
 = 
	`el_h3c_g_uni_s
(
p_
, 
bnch
, 
af
, 
ybuf
, 
yn
);

442 
OAM_H3C_EXT_LEAF_BOARD_STATS
:

443 
t
 = 
	`el_h3c_g_brd_s
(
p_
, 
bnch
, 
af
, 
ybuf
, 
yn
);

446 
t
 = 
EPON_OAM_ERR_NOT_FOUND
;

450  
t
;

451 
	}
}

470 
	$el_dh_hdr
()

473 
t
 = 
NO_ERROR
;

474 
sys_twk_t
 
fo
;

475 
c_twk_t
 
c_t
;

477 
	`memt
(&
fo
, 0, (
sys_twk_t
));

478 
t
 = 
	`m_c_g_sys_twkg
(&
fo
);

479 if(
IPC_STATUS_OK
 !
t
)

481 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

482  
ERROR
;

485 
	`memt
(&
c_t
, 0, (
c_twk_t
));

486 
	`_y
(
c_t
.
home
, 
fo
.hostname, (ipc_set.hostname));

487 
	`_y
(
c_t
.
r_e
, 
fo
.interface_state, (ipc_set.interface_state));

489 
c_t
.
_o
 = 
IP_PROTO_DYNAMIC
;

491 if(
IP_PROTO_DYNAMIC
 =
fo
.
_o
)

493 
	`H3C_DBG
(" INFO: iprotocol is dynamic!\n");

494  
NO_ERROR
;

498 
c_t
.
ai
 = 
ACTION_RENEW
;

501 
t
 = 
	`m_c_t_sys_twkg
(&
c_t
);

502 if(
IPC_STATUS_OK
 !
t
)

504 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

505  
ERROR
;

507  
t
;

508 
	}
}

527 
	$el_h3c_dh_oss
(
u8_t
* 
p_
)

529 
u32_t
 
t
 = 
NO_ERROR
;

530 if(0x01 =*
p_
)

532 
t
 = 
	`el_dh_hdr
();

535  
t
;

536 
	}
}

556 
	$el__ossg
(
_addr
 
addr
, _add
mask
, _add
geway
)

559 
t
 = 
NO_ERROR
;

560 
sys_twk_t
 
fo
;

561 
c_twk_t
 
c_t
;

563 
	`memt
(&
fo
, 0, (
sys_twk_t
));

564 
t
 = 
	`m_c_g_sys_twkg
(&
fo
);

565 if(
IPC_STATUS_OK
 !
t
)

567  
ERROR
;

570 
	`memt
(&
c_t
, 0, (
c_twk_t
));

571 
	`_y
(
c_t
.
home
, 
fo
.hostname, (ipc_set.hostname));

572 
	`_y
(
c_t
.
r_e
, 
fo
.interface_state, (ipc_set.interface_state));

574 if(
IP_PROTO_DYNAMIC
 =
fo
.
_o
)

576 
c_t
.
ai
 = 
ACTION_RELEASE
;

577 
t
 = 
	`m_c_t_sys_twkg
(&
c_t
);

578 if(
IPC_STATUS_OK
 !
t
)

580 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

581  
ERROR
;

585 
c_t
.
_o
 = 
IP_PROTO_STATIC
;

586 
	`memy
(&
c_t
.
tif
, &
fo
.netif, (info.netif));

587 
c_t
.
tif
.

 = 
addr
;

588 
c_t
.
tif
.
subt
 = 
mask
;

589 
c_t
.
tif
.
geway
= gateway;

591 
t
 = 
	`m_c_t_sys_twkg
(&
c_t
);

592 if(
IPC_STATUS_OK
 !
t
)

594 
t
 = 
ERROR
;

596  
t
;

597 
	}
}

616 
	$el_h3c_t_
(
u8_t
* 
p_
)

618 
_addr
 
addr
;

619 
_addr
 
mask
;

620 
_addr
 
geway
;

621 
u32_t
 
t
 = 
NO_ERROR
;

623 
	`memy
(&
addr
, 
p_
, 4);

625 
p_
 += 4;

626 
	`memy
(&
mask
, 
p_
, 4);

629 
p_
 += 4;

630 
	`memy
(&
geway
, 
p_
, 4);

632 
t
 = 
	`el__ossg
(
addr
, 
mask
, 
geway
);

634  
t
;

635 
	}
}

654 
	$el_h3c_t_deu_
(
u8_t
* 
p_
)

656 
u32_t
 
t
 = 
NO_ERROR
;

657 
_addr
 
addr
;

658 
_addr
 
mask
;

659 
_addr
 
geway
;

660 
u32_t
 
u32_
 = 
DEFAULT_IP
;

661 
u32_t
 
u32_mask
 = 
DEFAULT_MASK
;

662 
u32_t
 
u32_geway
 = 
DEFAULT_GW
;

664 
p_
 =_in;

666 
	`memy
(&
addr
, &
u32_
, 4);

667 
	`memy
(&
mask
, &
u32_mask
, 4);

668 
	`memy
(&
geway
, &
u32_geway
, 4);

669 
t
 = 
	`el__ossg
(
addr
, 
mask
, 
geway
);

670  
t
;

671 
	}
}

690 
	$el_h3c__oss
(
u8_t
* 
p_
)

692 
u32_t
 
t
 = 
NO_ERROR
;

693 
u8_t
 
subty
 = *
p_
;

694 
p_
 += 1;

695 
subty
)

699 
t
 = 
	`el_h3c_t_
(
p_
);

703 
t
 = 
	`el_h3c_t_deu_
(
p_
);

706 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

707 
t
 = 
ERROR
;

710  
t
;

711 
	}
}

730 
	$el_mgmtvn_ossg
(
u16_t
 
vnid
)

732 
u32_t
 
t
 = 
NO_ERROR
;

733 
sys_mvn_t
 
c_t_mvn
;

735 
c_t_mvn
.
m_vn
 = 
vnid
;

736 
c_t_mvn
.
vn_r
 = ipc_t_mvn.
m_vn
;

738 
t
 = 
	`m_c_t_sys_mvn
(&
c_t_mvn
);

739 if(
IPC_STATUS_OK
 !
t
)

741 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

742  
ERROR
;

744  
NO_ERROR
;

745 
	}
}

764 
	$el_h3c_mngt_vn_oss
(
u8_t
* 
p_
)

766 
u16_t
 
vnid
;

767 
t
 = 
NO_ERROR
;

768 
sys_twk_t
 
fo
;

769 
c_twk_t
 
c_t
;

771 
p_
 += 2;

772 
	`memy
(&
vnid
, 
p_
, 2);

773 
t
 = 
	`el_mgmtvn_ossg
(
vnid
);

774 if(
NO_ERROR
 !
t
)

776 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

777  
ERROR
;

779  
NO_ERROR
;

781 
	}
}

800 
	$el_h3c_t_pt_d
(
u32_t
 
pt_num
, u32_
d_mode
)

802 
u32_t
 
auteg
;

803 
u32_t
 
d
;

804 
u32_t
 
t
 = 
NO_ERROR
;

805 
u32_t
 
pt_id
 = 
pt_num
+1;

807 
d_mode
)

809 
H3C_PORT_MODE_SPEED_AUTO
:

810 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_AUTO
);

813 
H3C_PORT_MODE_SPEED_10M
:

814 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_10M
);

817 
H3C_PORT_MODE_SPEED_100M
:

818 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_100M
);

821 
H3C_PORT_MODE_SPEED_1000M
:

822 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_1000M
);

825 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

826 
t
 = 
ERROR
;

829 if(
NO_ERROR
 !
t
)

831 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

832  
ERROR
;

834 
_pt_mode
[
pt_id
-1].
dTy
 = 
d_mode
;

835  
t
;

836 
	}
}

855 
u32_t
 
	$el_h3c_d_oss
(
u8_t
* 
p_
)

857 
u32_t
 
t
 = 
NO_ERROR
;

858 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

859 
u32_t
 
d_mode
;

860 
p_
 += 1;

861 
d_mode
 = (
u32_t
)(*(
u16_t
 *)
p_
);

862 if(
uni_pt_auto_gٟti
 &(1<<
pt_num
))

864  
NO_ERROR
;

866 
t
 = 
	`el_h3c_t_pt_d
(
pt_num
, 
d_mode
);

867 if(
t
 !
NO_ERROR
)

869 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

872  
t
;

873 
	}
}

893 
	$el_h3c_t_pt_duex
(
u32_t
 
pt_num
, u32_
duex_mode
)

895 
u32_t
 
t
 = 
NO_ERROR
;

896 
u32_t
 
pt_id
 = 
pt_num
+1;

897 
duex_mode
)

899 
H3C_PORT_MODE_DUPLEX_AUTO
:

900 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_AUTO
);

903 
H3C_PORT_MODE_DUPLEX_HALF
:

904 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_HALF
);

907 
H3C_PORT_MODE_DUPLEX_FULL
:

908 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_FULL
);

911 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

912 
t
 = 
ERROR
;

916 if(
NO_ERROR
 !
t
)

918 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

919  
ERROR
;

921 
_pt_mode
[
pt_id
-1].
duexTy
 = 
duex_mode
;

922  
t
;

923 
	}
}

942 
	$el_h3c_duex_oss
(
u8_t
* 
p_
)

944 
u32_t
 
t
 = 
NO_ERROR
;

945 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

946 
u32_t
 
duex_mode
;

947 
p_
 += 1;

948 
duex_mode
 = (
u32_t
)(*
p_
);

949 if(
uni_pt_auto_gٟti
 &(1<<
pt_num
))

951  
NO_ERROR
;

953 
t
 = 
	`el_h3c_t_pt_duex
(
pt_num
, 
duex_mode
);

954 if(
t
 !
NO_ERROR
)

956 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

959  
t
;

960 
	}
}

979 
	$el_h3c_t_pt_mr
(
u32_t
 
pt_num
, u32_
mr_mode
)

981 
u32_t
 
t
 = 
NO_ERROR
;

982 
u32_t
 
pt_id
 = 
pt_num
+1;

983 
mr_mode
)

985 
H3C_PORT_MODE_MIRROR_BOTH
:

986 
t
 = 
	`DRV_AddMr
(
pt_id
, 
BOTH_MIRROR
);

989 
H3C_PORT_MODE_MIRROR_INBOUND
:

990 
t
 = 
	`DRV_AddMr
(
pt_id
, 
IN_MIRROR
);

993 
H3C_PORT_MODE_MIRROR_OUTBOUND
:

994 
t
 = 
	`DRV_AddMr
(
pt_id
, 
OUT_MIRROR
);

997 
H3C_PORT_MODE_MIRROR_UNDO
:

998 
t
 = 
	`DRV_DMr
(
pt_id
, 
BOTH_MIRROR
);

1001 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1002 
t
 = 
ERROR
;

1005  
t
;

1006 
	}
}

1025 
u32_t
 
	$el_h3c_mr_oss
(
u8_t
* 
p_
)

1027 
u32_t
 
t
 = 
NO_ERROR
;

1028 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1029 
u32_t
 
mr_mode
;

1030 
p_
 += 1;

1031 
mr_mode
 = (
u32_t
)(*
p_
);

1032 
p_
 += 1;

1033 
mr_mode
 <<= 8;

1034 
mr_mode
 |*
p_
;

1035 
t
 = 
	`el_h3c_t_pt_mr
(
pt_num
, 
mr_mode
);

1036 if(
t
 !
NO_ERROR
)

1038 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1041  
t
;

1042 
	}
}

1061 
	$el_h3c_t_pt_mڙ
(
u32_t
 
pt_num
, u32_
ai
)

1063 
u32_t
 
t
 = 
NO_ERROR
;

1064 
u32_t
 
pt_id
 = 
pt_num
+1;

1065 
ai
)

1067 
H3C_PORT_MODE_MONITOR_SET
:

1068 
t
 = 
	`DRV_SMڙ
(
pt_id
, 
ENABLE
);

1071 
H3C_PORT_MODE_MONITOR_UNDO
:

1072 
t
 = 
	`DRV_SMڙ
(
pt_id
, 
DISABLE
);

1076 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1077 
t
 = 
ERROR
;

1080  
t
;

1081 
	}
}

1099 
	$el_h3c_mڙ_oss
(
u8_t
* 
p_
)

1101 
u32_t
 
t
 = 
NO_ERROR
;

1102 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1103 
u32_t
 
subty
;

1104 
p_
 += 1;

1105 
subty
 = (
u32_t
)(*
p_
);

1106 
t
 = 
	`el_h3c_t_pt_mڙ
(
pt_num
, 
subty
);

1107 if(
t
 !
NO_ERROR
)

1109 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1112  
t
;

1113 
	}
}

1132 
	$el_h3c_t_pt_isީe
(
u32_t
 
pt_num
, u32_
ai
)

1134 
u32_t
 
t
 = 
NO_ERROR
;

1135 
ai
)

1137 
H3C_PORT_MODE_ISOLATE_SET
:

1138 
t
 = 
	`DRV_SPtIsީi
(
pt_num
+1, 
ENABLE
);

1140 
H3C_PORT_MODE_ISOLATE_UNDO
:

1141 
t
 = 
	`DRV_SPtIsީi
(
pt_num
+1, 
DISABLE
);

1144 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1145 
t
 = 
ERROR
;

1148  
t
;

1149 
	}
}

1167 
	$el_h3c_isީe_oss
(
u8_t
* 
p_
)

1169 
u32_t
 
t
 = 
NO_ERROR
;

1170 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1171 
u32_t
 
subty
;

1173 
p_
 += 1;

1174 
subty
 = (
u32_t
)(*
p_
);

1175 
t
 = 
	`el_h3c_t_pt_isީe
(
pt_num
, 
subty
);

1176 if(
t
 !
NO_ERROR
)

1178 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1181  
t
;

1182 
	}
}

1185 
	$el_h3c_t_pt_mdi
(
u32_t
 
pt_num
, u32_
subty
)

1187 
u32_t
 
t
 = 
NO_ERROR
;

1188 
u32_t
 
pt_id
 = 
pt_num
+1;

1189 
subty
)

1191 
H3C_PORT_MODE_MDI_AUTO
:

1192 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_AUTO
);

1195 
H3C_PORT_MODE_MDI_NORMAL
:

1196 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_NORMAL
);

1199 
H3C_PORT_MODE_MDI_ACROSS
:

1200 
t
 = 
	`Iol_SPtMdix
(
pt_id
, 
PORT_MDI_ACROSS
);

1203 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1204 
t
 = 
ERROR
;

1207  
t
;

1208 
	}
}

1210 
	$el_h3c_mdi_oss
(
u8_t
* 
p_
)

1212 
u32_t
 
t
 = 
NO_ERROR
;

1213 
u32_t
 
pt_num
 = (u32_t)(*
p_
);

1214 
u32_t
 
subty
;

1215 
p_
 += 1;

1216 
subty
 = (
u32_t
)(*
p_
);

1217 
t
 = 
	`el_h3c_t_pt_mdi
(
pt_num
, 
subty
);

1218 if(
t
 !
NO_ERROR
)

1220 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1223  
t
;

1224 
	}
}

1226 
	$fr_a_add_lol
(
u8_t
 
dei
, u8_
aTy
,u8_
ucRuID
, u8_t* 
ucVue
)

1228 
ii
;

1229 if(
dei
 > 2)

1231  
ERROR
;

1233 if(
NULL
 =
ucVue
)

1235  
ERROR
;

1237 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1239 if(
INVALID_8
 =
aFtA_li
[
ii
].
dei
)

1241 
aFtA_li
[
ii
].
dei
 = direction;

1242 
aFtA_li
[
ii
].
aruID
 = 
ucRuID
;

1243 
aFtA_li
[
ii
].
ty
 = 
aTy
;

1244 
	`memy
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 6);

1248 if(
MAX_FILTER_NUM
 =
ii
)

1250 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1251  
ERROR
;

1253  
NO_ERROR
;

1254 
	}
}

1255 
	$fr_a_g_loum
()

1257 
ii
;

1258 
cou
=0;

1259 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1261 if(
INVALID_8
 !
aFtA_li
[
ii
].
dei
)

1263 
cou
++;

1267  
cou
;

1268 
	}
}

1269 
	$fr_a_g_emyru
()

1271 
ii
;

1272 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1274 if(
INVALID_8
 =
aFtA_li
[
ii
].
dei
)

1280  
ii
;

1281 
	}
}

1283 
	$fr_a_d_lol
(
u8_t
 
dei
, u8_
aTy
, u8_t* 
ucVue
)

1285 
ii
;

1286 
t
 = 
NO_ERROR
;

1287 if(
dei
 > 2)

1289  
ERROR
;

1291 if(
NULL
 =
ucVue
)

1293  
ERROR
;

1295 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1297 if((
dei
 =
aFtA_li
[
ii
].dei&& (
aTy
 =aFtA_li[ii].
ty
))

1299 if((
ACL_TRUST_SMAC
==
aTy
|| (
ACL_TRUST_DMAC
==aclType))

1301 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 6))

1306 if((
ACL_TRUST_IPV4_SIP
==
aTy
|| (
ACL_TRUST_IPV4_DIP
==aclType))

1308 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 4))

1315 if(0 !
	`memcmp
(
aFtA_li
[
ii
].
vue
, 
ucVue
, 2))

1322 
	`H3C_DBG
("fr_a_d_lo%d\n",
aFtA_li
[
ii
].
aruID
);

1323 
t
=
	`Iol_DAFrByPt
(
INVALID_PORT
,
aFtA_li
[
ii
].
aruID
,aFtA_li[ii].
dei
);

1324 if(
t
 !
DRV_OK
)

1326 
	`H3C_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1327  
ERROR
;

1330 
aFtA_li
[
ii
].
ty
 = 
INVALID_8
;

1331 
aFtA_li
[
ii
].
dei
 = 
INVALID_8
;

1332 
	`memt
(
aFtA_li
[
ii
].
vue
, 0, 6);

1337  
NO_ERROR
;

1338 
	}
}

1340 
	$fr_a_r_lol
()

1342 
ii
;

1343 
t
;

1344 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

1346 if(
aFtA_li
[
ii
].
dei
 =
INVALID_8
)

1351 
t
=
	`Iol_DAFrByPt
(
INVALID_PORT
,
aFtA_li
[
ii
].
aruID
,aFtA_li[ii].
dei
);

1352 if(
t
 !
DRV_OK
)

1354 
	`H3C_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1355  
ERROR
;

1357 
aFtA_li
[
ii
].
ty
 = 
INVALID_8
;

1358 
aFtA_li
[
ii
].
dei
 = 
INVALID_8
;

1359 
	`memt
(
aFtA_li
[
ii
].
vue
, 0, 6);

1361 
	}
}

1362 
	$el_h3c_fr_oss
(
u8_t
* 
p_
)

1364 
u32_t
 
t
 = 
NO_ERROR
;

1365 
u32_t
 
frEmyEry
;

1366 
u32_t
 
cou
=0;

1367 
u32_t
 
aD
;

1368 
aToD
 = -1;

1369 
u32_t
 
frTy
 = 0;

1370 
ii
 = 0;

1371 
h3c_ck_fr_t
* 
p_ck_fr
 = (h3c_ck_fr_t*)
p_
;

1372 
u8_t
 
tmp_fr_vue
[6];

1374 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
, (p_packet_filter->value));

1376 
p_ck_fr
->
ty
)

1378 
H3C_PACKET_FILTER_TRUST_DMAC
:

1379 
frTy
 = 
ACL_TRUST_DMAC
;

1381 
H3C_PACKET_FILTER_TRUST_SMAC
:

1382 
frTy
 = 
ACL_TRUST_SMAC
;

1384 
H3C_PACKET_FILTER_TRUST_SIP
:

1385 
frTy
 = 
ACL_TRUST_IPV4_SIP
;

1387 
H3C_PACKET_FILTER_TRUST_DIP
:

1388 
frTy
 = 
ACL_TRUST_IPV4_DIP
;

1390 
H3C_PACKET_FILTER_TRUST_TCP_SPORT
:

1391 
frTy
 = 
ACL_TRUST_TCP_SPORT
;

1392 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1393 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1395 
H3C_PACKET_FILTER_TRUST_TCP_DPORT
:

1396 
frTy
 = 
ACL_TRUST_TCP_DPORT
;

1397 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1398 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1400 
H3C_PACKET_FILTER_TRUST_UDP_SPORT
:

1401 
frTy
 = 
ACL_TRUST_UDP_SPORT
;

1402 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1403 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1405 
H3C_PACKET_FILTER_TRUST_UDP_DPORT
:

1406 
frTy
 = 
ACL_TRUST_UDP_DPORT
;

1407 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1408 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1410 
H3C_PACKET_FILTER_TRUST_CVLAN
:

1411 
frTy
 = 
ACL_TRUST_CTAG_VID
;

1412 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1413 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1415 
H3C_PACKET_FILTER_TRUST_ETHTYPE
:

1416 
frTy
 = 
ACL_TRUST_ETHTYPE
;

1421 
	`memy
(
tmp_fr_vue
, 
p_ck_fr
->
vue
 + 2, 2);

1422 
	`memy
(
tmp_fr_vue
 + 2, 
p_ck_fr
->
vue
, 2);

1425  
ERROR
;

1427 if(
H3C_PACKET_FILTER_ENABLE_SET
 =
p_ck_fr
->
ai
) {

1429 if((
cou
=
	`fr_a_g_loum
())==
MAX_FILTER_NUM
)

1431  
ERROR
;

1434 
t
 = 
	`Iol_GUniUt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
frEmyEry
);

1435 if(
t
 !
DRV_OK
)

1437 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1438  
ERROR
;

1441 
frEmyEry
=
	`fr_a_g_emyru
();

1442 
	`H3C_DBG
("addry %d\n", 
frEmyEry
);

1443 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

1444 
frTy
,

1445 
p_ck_fr
->
di
,

1446 
tmp_fr_vue
);

1448 if(
t
 !
DRV_OK
)

1450 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1451  
ERROR
;

1453 
	`fr_a_add_lol
(
p_ck_fr
->
di
,

1454 
p_ck_fr
->
ty
,

1455 
frEmyEry
,

1456 
p_ck_fr
->
vue
);

1459 if(
H3C_PACKET_FILTER_DISABLE_SET
 =
p_ck_fr
->
ai
)

1461 
t
 = 
	`fr_a_d_lol
(
p_ck_fr
->
di
,

1462 
p_ck_fr
->
ty
,

1463 
p_ck_fr
->
vue
);

1464 if(
t
 !
NO_ERROR
)

1466 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1467  
ERROR
;

1472 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1473  
ERROR
;

1475  
NO_ERROR
;

1476 
	}
}

1478 
	$el_h3c_t_uni_s
(
u8_t
* 
p_
)

1480 
u32_t
 
t
 = 
NO_ERROR
;

1481 
u32_t
 
t
 = (u32_t)(*
p_
) + 1;

1482 
t
 = 
	`Iol_SMibCouRet
(
t
);

1483 if(
t
 !
DRV_OK
)

1485 
	`H3C_DBG
("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
);

1486  
ERROR
;

1488  
NO_ERROR
;

1489 
	}
}

1491 
	$m_h3c_t_mgmtvnif
(
u8_t
 *
p_
)

1493 
u32_t
 
t
 = 
NO_ERROR
;

1494 
ifdex_t
 
ifdex
;

1495 
iame
[64];

1496 
sys_mvn_t
 
fo_mvn
;

1498 
	`memt
(&
fo_mvn
, 0, (
sys_mvn_t
));

1499 if(
IPC_STATUS_OK
 !
	`m_c_g_sys_mvn
(&
fo_mvn
))

1501  
ERROR
;

1504 
	`rtf
(
iame
,
IF_L3VLAN_NAMEPREFIX
"%d",
fo_mvn
.
vn_r
);

1505 
	`IF_GByIFName
(
iame
,&
ifdex
);

1507 if(
H3C_MGMT_IF_SHUTDOWN_NO
 =*
p_
)

1509 
	`c_shutdown_tf
(
c_fd
,
ifdex
,
UNDOSHUTDOWN
);

1511 if(
H3C_MGMT_IF_SHUTDOWN
 =*
p_
)

1513 
	`c_shutdown_tf
(
c_fd
,
ifdex
,
SHUTDOWN
);

1517  
ERROR
;

1520  
NO_ERROR
;

1521 
	}
}

1522 
	$m_h3c_t_uni__ave
(
u8_t
 *
p_
)

1524 
h3c__ave_t
 *
p__ave
 = (h3c__ave_t*)
p_
;

1526  
ERROR
;

1528 
p__ave
->
a
)

1530 
H3C_ENABLE
:

1531 if(
OPL_OK
 !
	`odmMuiFaaveModeS
(1))

1533  
ERROR
;

1536 
H3C_DISABLE
:

1537 if(
OPL_OK
 !
	`odmMuiFaaveModeS
(0))

1539  
ERROR
;

1543  
ERROR
;

1546  
NO_ERROR
;

1548 
	}
}

1550 
	$m_h3c_t_uni_cfig
(
u8_t
 *
p_
)

1552 
u32_t
 
t
 = 
NO_ERROR
;

1553 
u8_t
* 
p_c
 = 
p_
;

1554 
p_
 += 6;

1555 
h3c_vb_t
 *
p_des
;

1558 i((
p_
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
-((
mpdu_hdr_t
)+(
h3c_hd_t
)))

1560 
	`H3C_DBG
("invalidacket size\n");

1563 
p_des
 = (
h3c_vb_t
*)
p_
;

1564 
p_des
->
af
)

1566 
OAM_H3C_EXT_LEAF_SPEED_SET
:

1567 
t
 = 
	`el_h3c_d_oss
(
p_
 + 4);

1569 
OAM_H3C_EXT_LEAF_DUPLEX_SET
:

1570 
t
 = 
	`el_h3c_duex_oss
(
p_
 + 4);

1572 
OAM_H3C_EXT_LEAF_MIRROR_SET
:

1573 
t
 = 
	`el_h3c_mr_oss
(
p_
 + 4);

1575 
OAM_H3C_EXT_LEAF_MONITOR_SET
:

1576 
t
 = 
	`el_h3c_mڙ_oss
(
p_
 + 4);

1578 
OAM_H3C_EXT_LEAF_ISOLATE_SET
:

1579 
t
 = 
	`el_h3c_isީe_oss
(
p_
 + 4);

1581 
OAM_H3C_EXT_LEAF_MDI_SET
:

1582 
t
 = 
	`el_h3c_mdi_oss
(
p_
 + 4);

1584 
OAM_H3C_EXT_LEAF_MCAST_FAST_LEAVE
:

1585 
t
 = 
	`m_h3c_t_uni__ave
(
p_
 + 4);

1594 
p_
 +(
p_des
->
width
+4);

1596 
	}
}

1598 
	$m_h3c_t_u_cfig
(
u8_t
 *
p_
)

1600 
u8_t
* 
p_c
 = 
p_
;

1601 
p_
 += 6;

1602 
h3c_vb_t
 *
p_des
;

1605 ()
	`fr_a_r_lol
();

1609 i((
p_
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
-((
mpdu_hdr_t
)+(
h3c_hd_t
)))

1611 
	`H3C_DBG
("invalidacket size\n");

1614 
p_des
 = (
h3c_vb_t
*)
p_
;

1615 
p_des
->
af
)

1617 
OAM_H3C_EXT_LEAF_MGMT_IP_CFG
:

1618 ()
	`el_h3c__oss
(
p_
 + 4);

1620 
OAM_H3C_EXT_LEAF_MGMT_VLAN
:

1621 ()
	`el_h3c_mngt_vn_oss
(
p_
 + 4);

1623 
OAM_H3C_EXT_LEAF_DHCP
:

1624 ()
	`el_h3c_dh_oss
(
p_
 + 4);

1626 
OAM_H3C_EXT_LEAF_FILTER_SET
:

1627 ()
	`el_h3c_fr_oss
(
p_
 + 4);

1629 
OAM_H3C_EXT_LEAF_MGMT_VLANIF
:

1630 ()
	`m_h3c_t_mgmtvnif
(
p_
 + 4);

1649 
p_
 +(
p_des
->
width
+4);

1651 
	}
}

1671 
	$el_h3c_t_q
(
u8_t
 *
p_
, u8_
bnch
, 
u16_t
 
af
)

1673 
u8_t
 *
p_out
;

1674 
u8_t
 * 
pucBuf
;

1675 
u32_t
 
dex
;

1676 
u32_t
 
t
 = 
ERROR
;

1677 #ide
CONFIG_PRODUCT_5500


1678 
af
)

1680 
OAM_H3C_EXT_LEAF_MGMT_IP_CFG
:

1681 
t
 = 
	`el_h3c__oss
(
p_
);

1683 
OAM_H3C_EXT_LEAF_MGMT_VLAN
:

1684 
t
 = 
	`el_h3c_mngt_vn_oss
(
p_
);

1686 
OAM_H3C_EXT_LEAF_DHCP
:

1687 
t
 = 
	`el_h3c_dh_oss
(
p_
);

1689 
OAM_H3C_EXT_LEAF_SPEED_SET
:

1690 
t
 = 
	`el_h3c_d_oss
(
p_
);

1692 
OAM_H3C_EXT_LEAF_SPEED_SET_1000M
:

1694 
OAM_H3C_EXT_LEAF_DUPLEX_SET
:

1695 
t
 = 
	`el_h3c_duex_oss
(
p_
);

1697 
OAM_H3C_EXT_LEAF_MIRROR_SET
:

1698 
t
 = 
	`el_h3c_mr_oss
(
p_
);

1700 
OAM_H3C_EXT_LEAF_MONITOR_SET
:

1701 
t
 = 
	`el_h3c_mڙ_oss
(
p_
);

1703 
OAM_H3C_EXT_LEAF_ISOLATE_SET
:

1704 
t
 = 
	`el_h3c_isީe_oss
(
p_
);

1706 
OAM_H3C_EXT_LEAF_MDI_SET
:

1707 
t
 = 
	`el_h3c_mdi_oss
(
p_
);

1709 
OAM_H3C_EXT_LEAF_FILTER_SET
:

1710 
t
 = 
	`el_h3c_fr_oss
(
p_
);

1712 
OAM_H3C_EXT_LEAF_UNI_STATS_RESET
:

1713 
t
 = 
	`el_h3c_t_uni_s
(
p_
);

1715 
OAM_H3C_EXT_LEAF_MGMT_VLANIF
:

1716 
t
 = 
	`m_h3c_t_mgmtvnif
(
p_
);

1718 
OAM_H3C_EXT_LEAF_MCAST_FAST_LEAVE
:

1719 
t
 = 
	`m_h3c_t_uni__ave
(
p_
);

1721 
OAM_H3C_EXT_LEAF_UNI_CONFIG
:

1722 if(0xf=
bnch
)

1724 ()
	`m_h3c_t_uni_cfig
(
p_
);

1726 
t
 = 
NO_ERROR
;

1728 
OAM_H3C_EXT_LEAF_ONU_CONFIG
:

1729 if(0xf=
bnch
)

1731 ()
	`m_h3c_t_u_cfig
(
p_
);

1733 
t
 = 
NO_ERROR
;

1740  
t
;

1741 
	}
}

1761 
	$el_h3c_pdu_oss
(

1762 
m_mPdu_t
 *
pOamPdu
,

1763 *
pFme
,

1764 
ngth
,

1765 *
pRlyBuf
,

1766 
bufL
,

1767 *
pRlyL
)

1769 
t
 = 
EPON_OAM_ERR_OK
;

1770 
h3c_hd_t
 *
p_h3c_hdr
;

1771 
h3c_hd_t
 *
p_out_h3c_hdr
;

1772 
u8_t
 *
p_by
;

1774 *
pRlyL
 = 0;

1775 if((
ngth
 < 
H3C_ORGSPEC_HDR_LEN
|| (
bufL
 < H3C_ORGSPEC_HDR_LEN))

1778  
EPON_OAM_ERR_PARAM
;

1781 
p_by
 = 
pFme
;

1782 
p_h3c_hdr
 = (
h3c_hd_t
*)
pFme
;

1783 
p_by
 +(
h3c_hd_t
);

1785 
p_out_h3c_hdr
 = (
h3c_hd_t
*)
pRlyBuf
;

1786 
	`memy
(
p_out_h3c_hdr
->
oui
, 
p_h3c_hdr
->oui, 3);

1787 
p_out_h3c_hdr
->
bnch
 = 
p_h3c_hdr
->branch;

1788 
p_out_h3c_hdr
->
af
 = 
p_h3c_hdr
->leaf;

1789 *
pRlyL
 +(
h3c_hd_t
);

1790 
pRlyBuf
 +(
h3c_hd_t
);

1792 
p_h3c_hdr
->
ext_code
)

1794 
OAM_H3C_EXT_OPCODE_GET_REQUEST
:

1795 
p_out_h3c_hdr
->
ext_code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

1796 
t
 = 
	`el_h3c_g_q
(
p_by
, 
p_h3c_hdr
->
bnch
,_h3c_hdr->
af
, 
pRlyBuf
, 
pRlyL
);

1798 
OAM_H3C_EXT_OPCODE_SET_REQUEST
:

1799 
p_out_h3c_hdr
->
ext_code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

1800 
t
 = 
	`el_h3c_t_q
(
p_by
, 
p_h3c_hdr
->
bnch
,_h3c_hdr->
af
);

1803 
p_out_h3c_hdr
->
ext_code
 = 
p_h3c_hdr
->ext_opcode;

1804 
	`H3C_DBG
("Unknow Ext. Opcod(%d)", 
p_h3c_hdr
->
ext_code
);

1807 
p_out_h3c_hdr
->
qu
[0]=
t
;

1808 if(
EPON_OAM_ERR_OK
 !
t
)

1811 *(
pRlyBuf
-5) = 0x04;

1814  
EPON_OAM_ERR_OK
;

1815 
	}
}

1817 
	$h3c_m_
()

1819 
i
, 
t
;

1820 
oui
[] = 
H3C_OAM_OUI
;

1821 
m_gScCb_t
 
gScCb
;

1824 
gScCb
.
oss
 = 
el_h3c_pdu_oss
;

1825 
t
 = 
	`_m_gScCb_g
(

1826 
EPON_OAM_CBTYPE_ORGSPEC
,

1827 
oui
,

1828 (*&
gScCb
);

1829 if(
EPON_OAM_ERR_OK
 !
t
)

1831 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1833  
EPON_OAM_ERR_UNKNOWN
;

1836 
c_fd
 = 
	`c__c
("eponoamd");

1837 if(
c_fd
 < 0)

1839 
	`tf
("%%d\n", 
__FUNCTION__
, 
__LINE__
);

1842  
EPON_OAM_ERR_OK
;

1843 
	}
}

	@vendor/huawei.c

9 
	~<dio.h
>

10 
	~<rg.h
>

11 
	~<dlib.h
>

12 
	~<mloc.h
>

13 
	~<sys/tys.h
>

14 
	~<sys/.h
>

15 
	~<sys/sock.h
>

16 
	~<t/.h
>

17 
	~<t/if.h
>

20 
	~"_m_cfig.h
"

21 
	~"_m_r.h
"

22 
	~"_m_db.h
"

23 
	~"_m_dbg.h
"

24 
	~"_m_rx.h
"

26 
	~"c_m.h
"

27 
	~"c_m_v.h
"

29 
	~"m.h
"

30 
	~"h3c.h
"

32 
	~"c_.h
"

33 
	~"m_lw.h
"

36 
	~"lw_drv_pub.h
"

37 
	~"lw_drv_q.h
"

38 
	~"huawei.h
"

39 
	~"yc.h
"

40 
	~"h3c.h
"

41 
	~"lw_cfig.h
"

43 
u16_t
 
g_usOutDaIdx
;

44 
u8_t
 
out_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

45 
u8_t
 
_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

46 
m__t
 
ms
;

47 
u8_t
 
huawei_oui
[];

50 
u8_t
 
uni_pt_auto_gٟti
;

52 
m_huawei__v_2_0_t
 
	ghuawei_pt__2_0
;

54 
	#MODULE
 
MOD_OAM


	)

57 
	#HW_DBG
(
rg
{\

	)

59 
tf
 
	grg
;\

63 
	#HW_DBG
(
rg
)

	)

66 
	$m_huawei__mgmt_vn_oss
(

67 
idIdx
,

68 

,

69 
c_vInt_t
 *
pVInt
,

70 
c_vDest_t
 
vDesc
,

71 *
pVCڏ_Tٮ_L
,

72 
c_vCڏ_t
 *
pVCڏ
)

74 
u32_t
 
t
 = 
NO_ERROR
;

75 
u8_t
 *
p_
 = 
pVCڏ
->
pVDa
;

77 
m_huawei__mgmt_vn_t_t
 *
p__mgmt_vn_cfig
;

78 
p__mgmt_vn_cfig
 = (
m_huawei__mgmt_vn_t_t
*)
p_
;

81 
p__mgmt_vn_cfig
 = (
m_huawei__mgmt_vn_t_t
*)
p_
;

82 
t
 = 
	`el__ossg
(
p__mgmt_vn_cfig
->
addr
,__mgmt_vn_cfig->
mask
,__mgmt_vn_cfig->
geway
);

83 if(
NO_ERROR
 !
t
)

85 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

86 
nd_r
;

88 
t
 = 
	`el_mgmtvn_ossg
(
p__mgmt_vn_cfig
->
vnid
);

89 if(
NO_ERROR
 !
t
)

91 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

92 
nd_r
;

94 
nd_r
:

95 if(
NO_ERROR
 !
t
)

97 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_VARNORESOURCE
;

101 
pVCڏ
->
vWidth
 = 
CTC_OAM_VAR_RESP_SETOK
;

104  
EPON_OAM_ERR_OK
;

105 
	}
}

108 
	$el_huawei_t_uni_r
(
u8_t
* 
p_
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

110 
u8_t
 
t
=
DRV_OK
, 
ucPtS
, 
ucPtE
;

111 
m_t_ڣ_t
 *
p_r
;

112 
m_huawei__v_2_0_t
 *
p_
;

114 
p_
 =_in;

116 if(
huawei_pt__2_0
.
vue
 == 200)

121 if(0xFF =
huawei_pt__2_0
.
vue
)

123 
ucPtS
 = 1;

124 
ucPtE
 = 
OAM_MAX_INSTANCE_ID
;

128 
ucPtS
 = 
huawei_pt__2_0
.
vue
;

129 
ucPtE
 = 
huawei_pt__2_0
.
vue
;

132 
p_
 = (
m_huawei__v_2_0_t
 *)
pRlyBuf
;

133 *
p_
 = 
huawei_pt__2_0
;

134 
pRlyBuf
 +(
m__v_2_0
);

135 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

136 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

137 
p_r
->
af
 = 
OAM_HUAWEI_EXT_LEAF_UNI_CLEAR
;

139 ; 
ucPtS
<=
ucPtE
; ucPortS++)

141 
t
 = 
	`Iol_SMibCouRet
(
ucPtS
);

144 if(
t
 =
DRV_OK
)

146 
p_r
->
diti
 = 
OAM_SET_OK
;

150 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

151 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

154 *
pGn
 = (
m_t_ڣ_t
+ (
m_huawei__v_2_0_t
);

155 
	}
}

157 
	$el_huawei_t_rgcheck
(
u8_t
* 
p_
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

159 
m_t_ڣ_t
 *
p_r
;

160 
m_huawei_rgcheck_t
* 
p_rgcheck
;

162 
u32_t
 
t
 = 
NO_ERROR
;

164 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

165 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

166 
p_r
->
af
 = 
OAM_HUAWEI_EXT_LEAF_SET_RINGCHECK
;

168 
p_rgcheck
 = (
m_huawei_rgcheck_t
*)
p_
;

170 
p_rgcheck
->
ai
)

172 
OAM_HUAWEI_EXT_LEAF_RINGCHECK_ENABLE
:

174 
t
 = 
NO_ERROR
;

176 
OAM_HUAWEI_EXT_LEAF_RINGCHECK_DISABLE
:

177 
t
 = 
NO_ERROR
;

180 
t
 = 
ERROR
;

184 if(
NO_ERROR
 =
t
)

186 
p_r
->
diti
 = 
OAM_SET_OK
;

190 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

193 *
pGn
 = (
m_t_ڣ_t
);

194 
	}
}

198 
	$el_huawei_g_tics_r
(
u8_t
* 
pRlyBuf
, 
u16_t
* 
pGn
)

200 
iStus
=0;

201 
m_u_tics_fo_t
 *
p_tics_fo
;

203 
p_tics_fo
 = (
m_u_tics_fo_t
*)
pRlyBuf
;

204 
p_tics_fo
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

205 
p_tics_fo
->
af
 = 
OAM_HUAWEI_EXT_LEAF_GET_OPTICS
;

206 
p_tics_fo
->
width
 = 0x0b;

216 
p_tics_fo
->
mtu
= 0x33;

217 
p_tics_fo
->
sulyVt
= 0x00000003;

218 
p_tics_fo
->
bsCut
= 0x000d;

219 
p_tics_fo
->
txPow
= 0x420a;

220 
p_tics_fo
->
rxPow
= 0x008a;

222 *
pGn
 = (
m_u_tics_fo_t
);

224 
	}
}

226 
	$el_huawei_g_h_s_r
(
u8_t
* 
pRlyBuf
, 
u16_t
* 
pGn
)

228 
m_huawei_pt_s_t
 *
p_pt_s
;

229 
m_huawei__v_2_0_t
 *
p_out_
;

230 
u32_t
 
t
 = 
NO_ERROR
;

231 
UNI_COUNTER_S
 
mibCous
;

234 
p_out_
 = (
m_huawei__v_2_0_t
*)
pRlyBuf
;

235 
	`memy
(
p_out_
, &
huawei_pt__2_0
, (
m_huawei__v_2_0_t
));

236 
pRlyBuf
 +(
m_huawei__v_2_0_t
);

238 
p_pt_s
 = (
m_huawei_pt_s_t
*)
pRlyBuf
;

239 
p_pt_s
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

240 
p_pt_s
->
af
 = 
OAM_HUAWEI_EXT_LEAF_GET_ETH_STATS
;

241 
p_pt_s
->
width
 = (
m_huawei_pt_s_t
) - 5;

243 
t
 = 
	`DRV_GPtMibCou
(
huawei_pt__2_0
.
vue
, &
mibCous
);

244 if(
t
 !
NO_ERROR
)

246 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

247 
nd_r
;

250 
p_pt_s
->
ifInTٮPkts
 +
mibCous
.
InBrd
;

251 
p_pt_s
->
ifInTٮPkts
 +
mibCous
.
InMui
;

252 
p_pt_s
->
ifInTٮPkts
 +
mibCous
.
InUni
;

253 
p_pt_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

254 
p_pt_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

255 
p_pt_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

256 
p_pt_s
->
ifInPauPkts
 = 
mibCous
.
InPau
;

257 
p_pt_s
->
ifInAlignmtEPkts
 = 
mibCous
.
InCrcE
;

259 
p_pt_s
->
ifInOvowsPkts
 = 
mibCous
.
InOvow
;

260 
p_pt_s
->
ifInUndsizePkts
 = 
mibCous
.
InUndow
;

262 
p_pt_s
->
ifInEthtOs
 = 
mibCous
.
uiRecOs
;

263 
p_pt_s
->
ifOutGoodOs
 = 
mibCous
.
uiTnsOs
;

265 
p_pt_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

266 
p_pt_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

267 
p_pt_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

268 
p_pt_s
->
ifOutPauPkts
 = 
mibCous
.
OutPau
;

269 
p_pt_s
->
ifOutTٮClisiPkts
 = 
mibCous
.
OutClisi
;

270 
p_pt_s
->
ifOutDayPkts
 = 
mibCous
.
OutLe
;

272 
nd_r
:

273 *
pGn
 = (
m_huawei_pt_s_t
)+(
m_huawei__v_2_0_t
);

275 
	}
}

277 
	$el_huawei_g_ecl_r
(
u8_t
* 
pRlyBuf
, 
u16_t
* 
pGn
)

279 
iStus
=0;

280 
m_t_ڣ_t
 *
p_r
;

282 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

283 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

284 
p_r
->
af
 = 0x00a1;

285 
p_r
->
diti
 = 0x04;

287 *
pGn
 = (
m_u_tics_fo_t
);

289 
	}
}

291 
	$huawei_ju_t_ڣ
(
u8_t
* 
p_
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

293 
m_t_ڣ_t
 *
p_r
;

294 
u32_t
 
t
 = 
NO_ERROR
;

295 
p_
 =_in;

297 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

298 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

299 
p_r
->
af
 = 0x00a4;

302 if(
NO_ERROR
 =
t
)

304 
p_r
->
diti
 = 
OAM_SET_OK
;

308 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

311 *
pGn
 = (
m_t_ڣ_t
);

312 
	}
}

315 
	$el_huawei_t_q
(
u8_t
* 
p_by
, u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

317 
u8_t
 *
p_c
 = 
p_by
;

318 
m_vb_dest_t
 *
p_des
;

319 
u16_t
 
gn
 = 0;

320 
huawei_pt__2_0
.
vue
 = 200;

324 i((
p_by
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
)

326 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

329 *
p_by
)

331 
OAM_BRANCH_INSTANCE_V_2_0
:

333 
	`memy
(&
huawei_pt__2_0
,
p_by
,(huawei_port_instance_2_0));

334 
p_by
 +(
m__v_2_0
);

335 if((
huawei_pt__2_0
.
vue
>
OAM_MAX_INSTANCE_ID
)

336 && (
huawei_pt__2_0
.
vue
 != 0xFF))

341 
OAM_BRANCH_EXTENDED_ATTRIB
:

342 
OAM_BRANCH_STANDARD_ATTRIB
:

343 
p_des
 = (
m_vb_dest_t
 *)
p_by
;

344 
p_des
->
af
)

346 
OAM_HUAWEI_EXT_LEAF_UNI_CLEAR
:

347 
	`el_huawei_t_uni_r
(
p_by
, 
pRlyBuf
, &
gn
);

348 
p_by
 +(
m_vb_dest_t
);

349 
pRlyL
 +
gn
;

350 
pRlyBuf
 +
gn
;

352 
OAM_HUAWEI_EXT_LEAF_SET_RINGCHECK
:

353 
	`el_huawei_t_rgcheck
(
p_by
, 
pRlyBuf
, &
gn
);

354 
p_by
 +(
m_vb_dest_t
);

355 
pRlyL
 +
gn
;

356 
pRlyBuf
 +
gn
;

359 
	`huawei_ju_t_ڣ
(
p_by
, 
pRlyBuf
, &
gn
);

360 
p_by
 +(
m_vb_dest_t
)+8;

361 
pRlyL
 +
gn
;

362 
pRlyBuf
 +
gn
;

365 
p_by
 +(
m_r_diti_t
);

369 
OAM_BRANCH_STANDARD_ACTION
:

370 
OAM_BRANCH_EXTENDED_ACTION
:

377 
	}
}

379 
	$el_huawei_g_q
(
u8_t
* 
p_by
, u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

381 
u8_t
 
size
 = (
m_vb_dest
);

382 
m_vb_dest_t
 *
p_des
;

384 
huawei_pt__2_0
.
vue
 = 200;

385 
u8_t
 *
p_c
 = 
p_by
;

386 
u16_t
 
gn
 = 0;

390 i((
p_by
 - 
p_c
>
OAM_MAXIMUM_PDU_SIZE
)

395 *
p_by
)

397 
OAM_BRANCH_INSTANCE_V_2_0
:

398 
huawei_pt__2_0
 = *((
m_huawei__v_2_0_t
*)
p_by
);

399 
p_by
 +(
m__v_2_0
);

400 if((
huawei_pt__2_0
.
vue
>
OAM_MAX_INSTANCE_ID
)

401 && (
huawei_pt__2_0
.
vue
 != 0xFF)

402 && (
huawei_pt__2_0
.
vue
 != 0x50)

403 && (
huawei_pt__2_0
.
vue
 != 0x51)

409 
OAM_BRANCH_EXTENDED_ATTRIB
:

410 
OAM_BRANCH_STANDARD_ATTRIB
:

411 
p_des
 = (
m_vb_dest_t
 *)
p_by
;

412 
p_des
->
af
)

414 
OAM_HUAWEI_EXT_LEAF_GET_OPTICS
:

415 
	`el_huawei_g_tics_r
(
pRlyBuf
, &
gn
);

416 
pRlyL
 +
gn
;

417 
pRlyBuf
 +
gn
;

419 
OAM_HUAWEI_EXT_LEAF_GET_ETH_STATS
:

420 
	`el_huawei_g_h_s_r
(
pRlyBuf
, &
gn
);

421 
pRlyL
 +
gn
;

422 
pRlyBuf
 +
gn
;

425 
	`el_huawei_g_ecl_r
(
pRlyBuf
, &
gn
);

426 
pRlyL
 +
gn
;

427 
pRlyBuf
 +
gn
;

430 
p_by
 +(
m_r_diti_t
);

433 
p_by
 +
size
;

440 
	}
}

443 
	$el_huawei_pdu_oss
(

444 
m_mPdu_t
 *
pOamPdu
,

445 *
pFme
,

446 
ngth
,

447 *
pRlyBuf
,

448 
bufL
,

449 *
pRlyL
)

452 
t
 = 
EPON_OAM_ERR_OK
;

453 
u8_t
 *
p_by
;

454 
huawei_hd_t
 *
p_huawei_hdr
;

455 
huawei_hd_t
 *
p_out_huawei_hdr
;

456 *
pRlyL
 = 0;

457 if((
ngth
 < 
HUAWEI_ORGSPEC_HDR_LEN
|| (
bufL
 < HUAWEI_ORGSPEC_HDR_LEN))

460  
EPON_OAM_ERR_PARAM
;

463 
p_by
 = 
pFme
;

464 
p_huawei_hdr
 = (
huawei_hd_t
*)
pFme
;

465 
p_by
 +(
huawei_hd_t
);

467 
p_out_huawei_hdr
 = (
huawei_hd_t
*)
pRlyBuf
;

468 
	`memy
(
p_out_huawei_hdr
->
oui
, 
p_huawei_hdr
->oui, 3);

470 *
pRlyL
 +(
huawei_hd_t
);

471 
pRlyBuf
 +(
huawei_hd_t
);

473 
p_huawei_hdr
->
ext_code
)

475 
OAM_HUAWEI_EXT_OPCODE_GET_REQUEST
:

476 
p_out_huawei_hdr
->
ext_code
 = 
OAM_HUAWEI_EXT_OPCODE_GET_RESPONSE
;

477 
	`el_huawei_g_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

479 
OAM_H3C_EXT_OPCODE_SET_REQUEST
:

480 
p_out_huawei_hdr
->
ext_code
 = 
OAM_HUAWEI_EXT_OPCODE_SET_RESPONSE
;

481 
	`el_huawei_t_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

487 
	}
}

489 
	$huawei_m_
()

491 
i
, 
t
;

492 
oui
[] = 
HUAWEI_OAM_OUI
;

493 
m_gScCb_t
 
gScCb
;

496 
gScCb
.
oss
 = 
el_huawei_pdu_oss
;

497 
t
 = 
	`_m_gScCb_g
(

498 
EPON_OAM_CBTYPE_ORGSPEC
,

499 
oui
,

500 (*&
gScCb
);

501 if(
EPON_OAM_ERR_OK
 !
t
)

503 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

505  
EPON_OAM_ERR_UNKNOWN
;

508  
EPON_OAM_ERR_OK
;

509 
	}
}

512 
	$huawei_pt_mode_g
(
u8_t
 *
p_
, u8_t* 
p_out
, 
u16_t
* 
pGn
)

514 
huawei_mode_out_t
 *
p_out_mode
;

515 
u16_t
* 
pt
 = 0;

516 
u32_t
 
pt_duex
 = 0;

517 
u32_t
 
pt_d
 = 0;

519 
pt
 = (
u16_t
*)
p_
;

520 
p_out_mode
 = (
huawei_mode_out_t
*)
p_out
;

522 ()
	`DRV_GPtDuex
(*
pt
+1, &
pt_duex
);

523 ()
	`DRV_GPtSed
(*
pt
+1, &
pt_d
);

525 
pt
 = (
u16_t
*)
p_
;

526 
p_out_mode
->
t
 = *
pt
;

528 
pt_duex
)

530 
DUPLEX_FULL
:

531 
p_out_mode
->
duex
 = 
OAM_HUAWEI_MODE_FULL
;

533 
DUPLEX_HALF
:

534 
p_out_mode
->
duex
 = 
OAM_HUAWEI_MODE_HALF
;

537 
p_out_mode
->
duex
 = 0XFF;

541 
pt_d
)

543 
SPEED_10M
:

544 
p_out_mode
->
d
 = 
OAM_HUAWEI_MODE_10M
;

546 
SPEED_100M
:

547 
p_out_mode
->
d
 = 
OAM_HUAWEI_MODE_100M
;

549 
SPEED_1000M
:

550 
p_out_mode
->
d
 = 
OAM_HUAWEI_MODE_1000M
;

553 
p_out_mode
->
d
 = 0xff;

556 
p_out_mode
->
rved5
 = 1;

557 
p_out_mode
->
rved6
 = 1;

558 
p_out_mode
->
rved7
 = 1;

559 
p_out_mode
->
rved8
 = 1;

560 
p_out_mode
->
rved11
 = 1;

561 
p_out_mode
->
rved13
 = 1;

562 *
pGn
 = (
huawei_mode_out_t
);

563 
	}
}

565 
	$huawei_pt_mode_t
(
u8_t
 *
p_
)

567 
huawei_mode_t_t
* 
p_mode_t
;

568 
u32_t
 
t
 = 
ERROR
;

570 
p_mode_t
 = (
huawei_mode_t_t
*)
p_
;

572 if(
uni_pt_auto_gٟti
 & (1<<
p_mode_t
->
pt
))

574  
NO_ERROR
;

576 #ide
CONFIG_PRODUCT_5500


577 
p_mode_t
->
duex
)

579 
OAM_HUAWEI_MODE_HALF
:

580 
t
 = 
	`DRV_SPtDuex
(
p_mode_t
->
pt
+1, 
DUPLEX_HALF
);

582 
OAM_HUAWEI_MODE_FULL
:

583 
t
 = 
	`DRV_SPtDuex
(
p_mode_t
->
pt
+1, 
DUPLEX_FULL
);

589 if(
DRV_OK
 !
t
)

591 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

592  
ERROR
;

595 
t
 = 
ERROR
;

596 #ide
CONFIG_PRODUCT_5500


597 
p_mode_t
->
d
)

599 
OAM_HUAWEI_MODE_10M
:

600 
t
 = 
	`DRV_SPtSed
(
p_mode_t
->
pt
+1, 
SPEED_10M
);

602 
OAM_HUAWEI_MODE_100M
:

603 
t
 = 
	`DRV_SPtSed
(
p_mode_t
->
pt
+1, 
SPEED_100M
);

605 
OAM_HUAWEI_MODE_1000M
:

606 
t
 = 
	`DRV_SPtSed
(
p_mode_t
->
pt
+1, 
SPEED_1000M
);

612 if(
DRV_OK
 !
t
)

614 
	`HW_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

615  
ERROR
;

618  
NO_ERROR
;

619 
	}
}

621 
	$el_huawei_pdu_oss2
(
u8_t
* 
p_by
, u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

623 
huawei_hd2_t
 *
p_hdr
;

624 
mpdu_hdr_t
 *
p_m_hdr
;

626 
huawei_hd2_t
 *
p_huawei_hdr
;

627 
huawei_mode_out_t
 *
p_out_mode
;

629 
u16_t
 
gn
 = 0;

630 
p_hdr
 = (
huawei_hd2_t
*)
p_by
;

631 
p_by
 +(
huawei_hd2_t
);

633 
p_huawei_hdr
 = (
huawei_hd2_t
*)
pRlyBuf
;

634 
	`memy
(
p_huawei_hdr
, 
p_hdr
, (
huawei_hd2_t
));

636 
p_huawei_hdr
->
ved2
 = 0x01;

637 
pRlyBuf
 +(
huawei_hd2_t
);

638 *
pRlyL
 +(
huawei_hd2_t
);

639 
p_huawei_hdr
->
bnch
)

641 
OAM_HUAWEI_PORT_MODE_GET
:

642 
	`huawei_pt_mode_g
(
p_by
, 
pRlyBuf
, &
gn
);

643 *
pRlyL
 +
gn
;

644 
pRlyBuf
 +
gn
;

646 
OAM_HUAWEI_PORT_MODE_SET
:

647 
	`huawei_pt_mode_t
(
p_by
);

653 
	}
}

656 
	$el_she_pdu_oss
(

657 
m_mPdu_t
 *
pOamPdu
,

658 *
pFme
,

659 
ngth
,

660 *
pRlyBuf
,

661 
bufL
,

662 *
pRlyL
)

664 
she_hd_t
 *
p_hdr
;

665 
u8_t
* 
p_by
;

667 if((
ngth
 < 
SHARE_ORGSPEC_HDR_LEN
|| (
bufL
 < SHARE_ORGSPEC_HDR_LEN))

670  
EPON_OAM_ERR_PARAM
;

673 
p_by
 = 
pFme
;

674 
p_hdr
 = (
she_hd_t
*)
pFme
;

676 *
pRlyL
 = 0;

677 
p_hdr
->
bnch
)

680 
	`el_huawei_pdu_oss2
(
p_by
, 
pRlyBuf
, 
pRlyL
);

683 
	`el_yc_pdu_oss2
(
p_by
, 
pRlyBuf
, 
pRlyL
);

690 
	}
}

692 
	$huawei_yc_m_
()

694 
i
, 
t
;

695 
oui
[] = 
SHARE_OAM_OUI
;

696 
m_gScCb_t
 
gScCb
;

699 
gScCb
.
oss
 = 
el_she_pdu_oss
;

700 
t
 = 
	`_m_gScCb_g
(

701 
EPON_OAM_CBTYPE_ORGSPEC
,

702 
oui
,

703 (*&
gScCb
);

704 if(
EPON_OAM_ERR_OK
 !
t
)

706 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

708  
EPON_OAM_ERR_UNKNOWN
;

711  
EPON_OAM_ERR_OK
;

712 
	}
}

	@vendor/raisecom.c

1 
	~<dio.h
>

2 
	~<rg.h
>

3 
	~<dlib.h
>

4 
	~<mloc.h
>

5 
	~<sys/tys.h
>

6 
	~<sys/.h
>

7 
	~<sys/sock.h
>

8 
	~<t/.h
>

9 
	~<t/if.h
>

12 
	~"_m_cfig.h
"

13 
	~"_m_r.h
"

14 
	~"_m_db.h
"

15 
	~"_m_dbg.h
"

16 
	~"_m_rx.h
"

18 
	~"c_m.h
"

19 
	~"c_m_v.h
"

21 
	~"m.h
"

22 
	~"h3c.h
"

24 
	~"c_.h
"

25 
	~"m_lw.h
"

26 
	~"icom.h
"

29 
	~"lw_drv_pub.h
"

30 
	~"lw_drv_q.h
"

31 
	~"sigl.h
"

32 
	~<lux/fr.h
>

33 
	~"mc_cڌ.h
"

34 
	~<lux/if_ck.h
>

35 
	~<lux/if_h.h
>

36 
	~<rs.h
>

37 
	~<sys/iol.h
>

38 
	~<vos_msq.h
>

39 
	~"vos_time.h
"

40 
	~"lw_cfig.h
"

42 
ut8
 
	ghoMac
[
MAC_ADDRESS_LENGTH
] = {0};

44 
	#MAX_FILTER_NUM
 32

	)

47 
u16_t
 
	gg_usOutDaIdx
;

48 
u8_t
 
	gout_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

51 
u8_t
 
	gicom_fm_v
[];

55 
	#RC_DBG
(
rg
{\

	)

57 
tf
 
	grg
;\

61 
	#RC_DBG
(
rg
)

	)

64 
rc_fr_a_t
 
	gfr_a_lol
[
MAX_FILTER_NUM
] =

66 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

67 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

68 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

69 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

70 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

71 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

72 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

73 {
INVALID_8
,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},{INVALID_8,{0},INVALID_8},

76 
rc_mac_ic_t
* 
	gg_rc_ic_mac
 = 
NULL
;

77 
rc_pt_mac_t
 * 
	gg_rc_pt_mac
 = 
NULL
;

79 
u8_t
 
	gucFDownCfig
 = 0;

81 
	#RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
\

	)

83 
	gp_out
 = &
out_da
[1];\

84 
memt
(
out_da
,0,
OAM_MAXIMUM_PDU_SIZE
);\

85 
icom_m_pdu_hdr
(
p_out
, 
p_icom
);\

86 
	gg_usOutDaIdx
 = (
icom_hd_out_t
)+1;\

87 
	gp_out
 +(
icom_hd_out_t
);\

91 
	$icom_m_pdu_hdr
(
u8_t
 *
r
, 
icom_hdr_t
 *
p_icom
)

93 
icom_hd_out_t
 *
p_hdr
;

95 
p_hdr
 = (
icom_hd_out_t
*)
r
;

96 
	`vosMemCpy
(
p_hdr
->
de
, 
p_icom
->
c
, 6);

97 
	`vosMemCpy
(
p_hdr
->
c
, 
hoMac
, 6);

98 
p_hdr
->
ty
 = 0xfefe;

99 
	}
}

101 
rc_pt_ic_mac_d
(
rc_mac_bd_t
 *
p_mac
);

104 
	$icom_g_devi_fomi
(
u8_t
 *
p_
)

106 
u8_t
 *
p_out
;

107 
icom_out_t
 *
p_i_out
;

108 
rc_devi_t
 *
p_devi_fo
;

109 
icom_hdr_t
 *
p_icom
;

110 *
pRa
 = 
NULL
;

112 
u8_t
 
tmp_hwev
[8] = {0};

117 
u8_t
 
mp_buf
[] =

121 
u8_t
 
ucHomame
[32] = {0};

123 
u8_t
 
mp_buf2
[] ={0x45,0x30,0x67,0x50,0xA0,0x08,0x03,0x1B,

128 
u8_t
 
mp_buf3
[6] = {0x01,0x00,0x00,0x00,0x00,0x00,};

129 
u8_t
 
fm_vsi
[] = {0x52,0x4F,0x41,0x50,0x20,0x56,

132 
p_icom
 = (
icom_hdr_t
*)
p_
;

133 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

135 ()
	`m_g_home
(
ucHomame
,31);

137 if(
	`GHdVsi
(
tmp_hwev
, (tmp_hwarever)) != 0)

139 
	`tf
("Get hard versionrror in oam!\n");

142 
tmp_hwev
[0] = 's';

144 
pRa
 = 
	`rchr
(
CONFIG_RELEASE_VER
, 'V');

145 if(
NULL
 =
pRa
)

147 
pRa
 = 
CONFIG_RELEASE_VER
;

149 
p_i_out
 = (
icom_out_t
*)
p_out
;

151 
p_i_out
->
p_code
 = 0x00000110;

152 
p_i_out
->
rved1
 = 0x20582314;

153 
p_i_out
->
rved2
 = 0x00fc0100;

154 
p_i_out
->
rved3
 = 0x00002000;

155 
p_i_out
->
af
 = 
p_icom
->leaf;

156 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

157 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

158 
g_usOutDaIdx
 +(
icom_out_t
);

159 
p_out
 +(
icom_out_t
);

160 
p_devi_fo
 = (
rc_devi_t
*)
p_out
;

162 
	`memy
(
p_devi_fo
->
rved
, 
mp_buf
, (temp_buf));

164 
	`memy
(
p_devi_fo
->
u_mac
, 
hoMac
, 6);

166 
	`memy
(
p_devi_fo
->
hw_vsi
, 
tmp_hwev
, 8);

169 
	`memy
(
p_devi_fo
->
sw_vsi
, 
pRa
, 16);

171 
	`memy
(
p_devi_fo
->
fw_vsi
, 
icom_fm_v
, 16);

173 
	`memy
(
p_devi_fo
->
home
, 
ucHomame
, (ucHomename));

175 
	`memy
(
p_devi_fo
->
rved2
, 
mp_buf2
, (temp_buf2));

177 
p_devi_fo
->
ash_size
 = 0x00800000;

178 
p_devi_fo
->
sdm
 = 0x01c5f000;

180 
	`memy
(
p_devi_fo
->
rved3
, 
mp_buf3
, (temp_buf3));

182 
p_devi_fo
->
swch_mode
 = 0x2088;

184 
	`memy
(
p_devi_fo
->
pf_vsi
, 
fm_vsi
, (platform_version));

185 
g_usOutDaIdx
 +(
rc_devi_t
);

186 
	}
}

188 
	$fr_a_add_lol
(
u8_t
 
aTy
,u8_
ucRuID
, u8_t* 
ucVue
)

190 
ii
;

191 if(
NULL
 =
ucVue
)

193  
ERROR
;

195 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

197 if(
INVALID_8
 =
fr_a_lol
[
ii
].
ty
)

199 
fr_a_lol
[
ii
].
aruID
 = 
ucRuID
;

200 
fr_a_lol
[
ii
].
ty
 = 
aTy
;

201 
	`memy
(
fr_a_lol
[
ii
].
vue
, 
ucVue
, 6);

205 if(
MAX_FILTER_NUM
 =
ii
)

207 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

208  
ERROR
;

210  
NO_ERROR
;

211 
	}
}

213 
	$fr_a_d_lol
(
u8_t
 
aTy
, u8_t* 
ucVue
)

215 
ii
;

216 
t
 = 
NO_ERROR
;

218 if(
NULL
 =
ucVue
)

220  
ERROR
;

222 
ii
=0; ii<
MAX_FILTER_NUM
; ii++)

224 if(
aTy
 =
fr_a_lol
[
ii
].
ty
)

226 if(!
	`memcmp
(
fr_a_lol
[
ii
].
vue
, 
ucVue
, 6))

228 
	`RC_DBG
(("Dru index %d\n", 
fr_a_lol
[
ii
].
aruID
));

229 
t
 = 
	`Iol_SUniUt32
(
DRV_CMD_ACL_DELETE_BY_ID
, 
fr_a_lol
[
ii
].
aruID
);

230 if(
t
 !
DRV_OK
)

232 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

233  
ERROR
;

235 
fr_a_lol
[
ii
].
ty
 = 
INVALID_8
;

236 
	`memt
(
fr_a_lol
[
ii
].
vue
, 0, 6);

241  
NO_ERROR
;

242 
	}
}

244 
	$icom_g_home
(
u8_t
 *
p_
)

246 
icom_hdr_t
 *
p_icom
;

247 
u8_t
 *
p_out
;

248 
icom_out_t
 *
p_i_out
;

249 
u8_t
 
home
[32] = {"EPN104N"};

251 
p_icom
 = (
icom_hdr_t
*)
p_
;

252 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

255 
p_i_out
 = (
icom_out_t
*)
p_out
;

258 
p_i_out
->
p_code
 = 0x00010014 + 
	`
(
home
);

261 
p_i_out
->
rved1
 = 0x00002314;

263 
p_i_out
->
rved2
 = 0x000000e0+(
	`
(
home
)<<16);

264 
p_i_out
->
rved3
 = 0x00002000;

265 
p_i_out
->
af
 = 
p_icom
->leaf;

266 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

267 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

268 
g_usOutDaIdx
 +(
icom_out_t
);

269 
p_out
 +(
icom_out_t
);

272 
	`memy
(
p_out
, 
home
, (hostname));

273 
g_usOutDaIdx
 +(
home
);

274 
	}
}

276 
	$g_uime
(
u32_t
 *
uime
)

278 
FILE
 *

;

279 
v
[64];

280 
u32_t
 
mp_time
;

282 

 = 
	`fݒ
("/proc/uptime", "r");

283 i(

 =
NULL
){

284  
GET_UPTIME_ERROR
;

286 
	`fgs
(
v
, (v), 

);

287 
	`fo
(

);

288 
mp_time
 = 
	`oul
(
v
, 
NULL
, 0);

289 *
uime
 = 
mp_time
;

290  
GET_UPTIME_SUCCESS
;

291 
	}
}

294 
	$icom_g_uime
(
u8_t
 *
p_
)

296 
icom_hdr_t
 *
p_icom
;

297 
u8_t
 *
p_out
;

298 
icom_out_t
 *
p_i_out
;

299 
u32_t
 
uUime
;

301 
p_icom
 = (
icom_hdr_t
*)
p_
;

302 
	`g_uime
(&
uUime
);

304 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

305 
p_i_out
 = (
icom_out_t
*)
p_out
;

307 
p_i_out
->
p_code
 = 0x00010018;

309 
p_i_out
->
rved1
 = 0x00002314;

310 
p_i_out
->
rved2
 = 0x000400e0;

311 
p_i_out
->
rved3
 = 0x00002000;

312 
p_i_out
->
af
 = 
p_icom
->leaf;

313 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

314 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

315 
g_usOutDaIdx
 +(
icom_out_t
);

316 
p_out
 +(
icom_out_t
);

319 
	`memy
(
p_out
, &
uUime
, 4);

320 
g_usOutDaIdx
 += 4;

321 
	}
}

324 
	$icom_g_vmt_1
(
u8_t
 *
p_
)

326 
icom_hdr_t
 *
p_icom
;

327 
u8_t
 *
p_out
;

328 
icom_out_t
 *
p_i_out
;

329 
u8_t
 
da_fld
;

330 
p_icom
 = (
icom_hdr_t
*)
p_
;

331 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

333 
p_i_out
 = (
icom_out_t
*)
p_out
;

335 
p_i_out
->
p_code
 = 0x00010018;

337 
p_i_out
->
rved1
 = 0x00002314;

338 
p_i_out
->
rved2
 = 0x000300e0;

339 
p_i_out
->
rved3
 = 0x00002000;

340 
p_i_out
->
af
 = 
p_icom
->leaf;

341 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

342 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

343 
g_usOutDaIdx
 +(
icom_out_t
);

344 
p_out
 +(
icom_out_t
);

347 
da_fld
 = 0x27;

348 
	`memy
(
p_out
, &
da_fld
, 1);

349 
g_usOutDaIdx
 += 1;

350 
	}
}

352 
	$icom_g_vmt_2
(
u8_t
 *
p_
)

354 
icom_hdr_t
 *
p_icom
;

355 
u8_t
 *
p_out
;

356 
icom_out_t
 *
p_i_out
;

357 
u8_t
 
da_fld
[] =

359 
p_icom
 = (
icom_hdr_t
*)
p_
;

360 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

362 
p_i_out
 = (
icom_out_t
*)
p_out
;

364 
p_i_out
->
p_code
 = 0x00010018;

366 
p_i_out
->
rved1
 = 0x00002314;

367 
p_i_out
->
rved2
 = 0x000400e0;

368 
p_i_out
->
rved3
 = 0x00002000;

369 
p_i_out
->
af
 = 
p_icom
->leaf;

370 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

371 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

372 
g_usOutDaIdx
 +(
icom_out_t
);

373 
p_out
 +(
icom_out_t
);

376 
	`memy
(
p_out
, 
da_fld
, (data_field));

377 
g_usOutDaIdx
 +(
da_fld
);

378 
	}
}

381 
	$icom_g_uk_ow_cڌ
(
u8_t
* 
p_
)

383 
icom_hdr_t
 *
p_icom
;

384 
u8_t
 *
p_out
;

385 
icom_out_t
 *
p_i_out
;

386 
u32_t
 *
p_ow_
;

387 
p_icom
 = (
icom_hdr_t
*)
p_
;

388 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

390 
p_i_out
 = (
icom_out_t
*)
p_out
;

392 
p_i_out
->
p_code
 = 0x00000018;

393 
p_i_out
->
rved1
 = 0x20482314;

394 
p_i_out
->
rved2
 = 0x000400e0;

395 
p_i_out
->
rved3
 = 0x00002000;

396 
p_i_out
->
af
 = 
p_icom
->leaf;

397 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

398 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

399 
g_usOutDaIdx
 +(
icom_out_t
);

400 
p_out
 +(
icom_out_t
);

402 
p_ow_
 = (
u32_t
*)
p_out
;

403 *
p_ow_
 = 
RAISECOM_DISABLE
;

404 
g_usOutDaIdx
 +(
u32_t
);

405 
	}
}

407 
	$icom_g_uk__lim
(
u8_t
* 
p_
)

409 
icom_hdr_t
 *
p_icom
;

410 
u8_t
 *
p_out
;

411 
icom_out_t
 *
p_i_out
;

412 
u32_t
 *
p__lim
;

413 
p_icom
 = (
icom_hdr_t
*)
p_
;

414 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

416 
p_i_out
 = (
icom_out_t
*)
p_out
;

418 
p_i_out
->
p_code
 = 0x00000018;

419 
p_i_out
->
rved1
 = 0x20482314;

420 
p_i_out
->
rved2
 = 0x000400e0;

421 
p_i_out
->
rved3
 = 0x00002000;

422 
p_i_out
->
af
 = 
p_icom
->leaf;

423 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

424 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

425 
g_usOutDaIdx
 +(
icom_out_t
);

426 
p_out
 +(
icom_out_t
);

428 
p__lim
 = (
u32_t
*)
p_out
;

429 *
p__lim
 = 100000;

430 
g_usOutDaIdx
 +(
u32_t
);

431 
	}
}

433 
	$icom_g_uk_shpg_lim
(
u8_t
* 
p_
)

435 
icom_hdr_t
 *
p_icom
;

436 
u8_t
 *
p_out
;

437 
icom_out_t
 *
p_i_out
;

438 
u32_t
 *
p__lim
;

439 
p_icom
 = (
icom_hdr_t
*)
p_
;

440 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

442 
p_i_out
 = (
icom_out_t
*)
p_out
;

444 
p_i_out
->
p_code
 = 0x00000018;

445 
p_i_out
->
rved1
 = 0x20482314;

446 
p_i_out
->
rved2
 = 0x000400e0;

447 
p_i_out
->
rved3
 = 0x00002000;

448 
p_i_out
->
af
 = 
p_icom
->leaf;

449 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

450 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

451 
g_usOutDaIdx
 +(
icom_out_t
);

452 
p_out
 +(
icom_out_t
);

454 
p__lim
 = (
u32_t
*)
p_out
;

455 *
p__lim
 = 100000;

456 
g_usOutDaIdx
 +(
u32_t
);

457 
	}
}

459 
	$icom_g_rug_cfig_1
(
u8_t
 *
p_
)

461 
icom_hdr_t
 *
p_icom
;

462 
u8_t
 *
p_out
;

463 
icom_out_t
 *
p_i_out
;

464 
u32_t
 *
p_vue
;

465 
p_icom
 = (
icom_hdr_t
*)
p_
;

466 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

468 
p_i_out
 = (
icom_out_t
*)
p_out
;

470 
p_i_out
->
p_code
 = 0x00000018;

471 
p_i_out
->
rved1
 = 0x20582314;

472 
p_i_out
->
rved2
 = 0x000400e0;

473 
p_i_out
->
rved3
 = 0x00002000;

474 
p_i_out
->
af
 = 
p_icom
->leaf;

475 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

476 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

477 
g_usOutDaIdx
 +(
icom_out_t
);

478 
p_out
 +(
icom_out_t
);

483 
	}
}

485 
	$icom_g_rug_cfig_2
(
u8_t
* 
p_
)

487 
icom_hdr_t
 *
p_icom
;

488 
u8_t
 *
p_out
;

489 
icom_out_t
 *
p_i_out
;

490 
u8_t
 
a_vue
[] = {0x01,0x00,0x00,0x00,0x00,0x01,0x05};

491 
p_icom
 = (
icom_hdr_t
*)
p_
;

492 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

494 
p_i_out
 = (
icom_out_t
*)
p_out
;

496 
p_i_out
->
p_code
 = 0x0000004c;

497 
p_i_out
->
rved1
 = 0x20582314;

498 
p_i_out
->
rved2
 = 0x003800e0;

499 
p_i_out
->
rved3
 = 0x00002000;

500 
p_i_out
->
af
 = 
p_icom
->leaf;

501 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

502 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

503 
g_usOutDaIdx
 +(
icom_out_t
);

504 
p_out
 +(
icom_out_t
);

509 
	`memy
(
p_out
, 
a_vue
, (p_out));

510 
g_usOutDaIdx
 +((
p_out
));

511 
	}
}

513 
	$icom_g_rug_cfig_3
(
u8_t
* 
p_
)

515 
icom_hdr_t
 *
p_icom
;

516 
u8_t
 *
p_out
;

517 
icom_out_t
 *
p_i_out
;

518 
u8_t
 
ab
 = 0;

519 
p_icom
 = (
icom_hdr_t
*)
p_
;

520 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

523 
p_i_out
 = (
icom_out_t
*)
p_out
;

525 
p_i_out
->
p_code
 = 0x00000018;

526 
p_i_out
->
rved1
 = 0x20582314;

527 
p_i_out
->
rved2
 = 0x000400e0;

528 
p_i_out
->
rved3
 = 0x00002000;

529 
p_i_out
->
af
 = 
p_icom
->leaf;

530 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

531 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

532 
g_usOutDaIdx
 +(
icom_out_t
);

533 
p_out
 +(
icom_out_t
);

539 *
p_out
 = 
ab
;

541 
g_usOutDaIdx
 +(
u8_t
);

542 
	}
}

544 
	$icom_g_rug_cfig_4
(
u8_t
* 
p_
)

546 
icom_hdr_t
 *
p_icom
;

547 
u8_t
 *
p_out
;

548 
icom_out_t
 *
p_i_out
;

549 
u8_t
 
a_vue
[] = {0xc0, 0xa8, 0x01, 0xfe, 0xff,0xff,0xff,0x00};

550 
p_icom
 = (
icom_hdr_t
*)
p_
;

551 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

553 
p_i_out
 = (
icom_out_t
*)
p_out
;

555 
p_i_out
->
p_code
 = 0x00000018;

556 
p_i_out
->
rved1
 = 0x20582314;

557 
p_i_out
->
rved2
 = 0x000400e0;

558 
p_i_out
->
rved3
 = 0x00002000;

559 
p_i_out
->
af
 = 
p_icom
->leaf;

560 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

561 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

562 
g_usOutDaIdx
 +(
icom_out_t
);

563 
p_out
 +(
icom_out_t
);

568 
	`memy
(
p_out
, 
a_vue
, (p_out));

569 
g_usOutDaIdx
 +((
p_out
));

570 
	}
}

572 
	$icom_g_rug_cfig_5
(
u8_t
 *
p_
)

574 
icom_hdr_t
 *
p_icom
;

575 
u8_t
 *
p_out
;

576 
icom_out_t
 *
p_i_out
;

578 
p_icom
 = (
icom_hdr_t
*)
p_
;

579 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

581 
p_i_out
 = (
icom_out_t
*)
p_out
;

583 
p_i_out
->
p_code
 = 0x00000018;

584 
p_i_out
->
rved1
 = 0x20582314;

585 
p_i_out
->
rved2
 = 0x000400e0;

586 
p_i_out
->
rved3
 = 0x00002000;

587 
p_i_out
->
af
 = 
p_icom
->leaf;

588 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

589 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

590 
g_usOutDaIdx
 +(
icom_out_t
);

591 
p_out
 +(
icom_out_t
);

592 
	}
}

593 
	$icom_g_rug_cfig_6
(
u8_t
 *
p_
)

595 
icom_hdr_t
 *
p_icom
;

596 
u8_t
 *
p_out
;

597 
icom_out_t
 *
p_i_out
;

598 
u8_t
 
a_vue
[] = {0x00, 0x5d, 0x2b, 0xa0};

599 
p_icom
 = (
icom_hdr_t
*)
p_
;

600 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

602 
p_i_out
 = (
icom_out_t
*)
p_out
;

604 
p_i_out
->
p_code
 = 0x00000018;

605 
p_i_out
->
rved1
 = 0x20582314;

606 
p_i_out
->
rved2
 = 0x000400e0;

607 
p_i_out
->
rved3
 = 0x00002000;

608 
p_i_out
->
af
 = 
p_icom
->leaf;

609 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

610 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

611 
g_usOutDaIdx
 +(
icom_out_t
);

612 
p_out
 +(
icom_out_t
);

617 
	`memy
(
p_out
, 
a_vue
, (p_out));

618 
g_usOutDaIdx
 +((
p_out
));

619 
	}
}

621 
	$icom_g_rug_cfig_7
(
u8_t
 *
p_
)

623 
icom_hdr_t
 *
p_icom
;

624 
u8_t
 *
p_out
;

625 
icom_out_t
 *
p_i_out
;

626 
u8_t
 
a_vue
[] = {0x00, 0x5d, 0x2b, 0xa0};

627 
p_icom
 = (
icom_hdr_t
*)
p_
;

628 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

630 
p_i_out
 = (
icom_out_t
*)
p_out
;

632 
p_i_out
->
p_code
 = 0x00000018;

633 
p_i_out
->
rved1
 = 0x20582314;

634 
p_i_out
->
rved2
 = 0x000400e0;

635 
p_i_out
->
rved3
 = 0x00002000;

636 
p_i_out
->
af
 = 
p_icom
->leaf;

637 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

638 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

639 
g_usOutDaIdx
 +(
icom_out_t
);

640 
p_out
 +(
icom_out_t
);

645 
	`memy
(
p_out
, 
a_vue
, (p_out));

646 
g_usOutDaIdx
 +((
p_out
));

647 
	}
}

649 
	$icom_g_rug_cfig_8
(
u8_t
* 
p_
)

651 
icom_hdr_t
 *
p_icom
;

652 
u8_t
 *
p_out
;

653 
icom_out_t
 *
p_i_out
;

654 
u8_t
 
a_vue
[] = {0x02};

655 
p_icom
 = (
icom_hdr_t
*)
p_
;

656 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

658 
p_i_out
 = (
icom_out_t
*)
p_out
;

660 
p_i_out
->
p_code
 = 0x00000018;

661 
p_i_out
->
rved1
 = 0x20582314;

662 
p_i_out
->
rved2
 = 0x000400e0;

663 
p_i_out
->
rved3
 = 0x00002000;

664 
p_i_out
->
af
 = 
p_icom
->leaf;

665 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

666 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

667 
g_usOutDaIdx
 +(
icom_out_t
);

668 
p_out
 +(
icom_out_t
);

673 
	`memy
(
p_out
, 
a_vue
, (p_out));

674 
g_usOutDaIdx
 +((
p_out
));

675 
	}
}

679 
	$icom_g_que
(
u8_t
 *
p_
)

681 
rc_mng__t
 *
p_
;

682 
icom_hdr_t
 *
p_icom
;

683 
u8_t
 *
p_out
;

684 
icom_out_t
 *
p_i_out
;

686 
p_icom
 = (
icom_hdr_t
*)
p_
;

688 
p_icom
->
af
)

690 
RAISECOM_LEAF_GET_DEVICE_INFO
:

691 
	`icom_g_devi_fomi
(
p_
);

693 
RAISECOM_LEAF_GET_HOSTNAME
:

695 
	`icom_g_home
(
p_
);

697 
RAISECOM_LEAF_GET_UPTIME
:

698 
	`icom_g_uime
(
p_
);

700 
RAISECOM_LEAF_GET_CURRENT
:

702 
	`icom_g_vmt_1
(
p_
);

704 
RAISECOM_LEAF_GET_TEMPARATURE
:

706 
	`icom_g_vmt_2
(
p_
);

708 
RAISECOM_LEAF_FLOW_CONTROL_UPLINK
:

710 
	`icom_g_uk_ow_cڌ
(
p_
);

712 
RAISECOM_LEAF_RATE_LIMIT_UPLINK
:

714 
	`icom_g_uk__lim
(
p_
);

716 
RAISECOM_LEAF_GET_SHAPPING
:

718 
	`icom_g_uk_shpg_lim
(
p_
);

721 
	`icom_g_rug_cfig_5
(
p_
);

725 
	`icom_g_rug_cfig_8
(
p_
);

730 
	}
}

732 
	$rc_g_uni_iic
(
u8_t
* 
p_
)

734 
icom_hdr_t
 *
p_icom
;

735 
u8_t
 *
p_out
;

736 
icom_out_t
 *
p_i_out
;

737 
rc_uni_iic_t
* 
p_pt_
;

738 
u32_t
 *
pt
 ;

739 
u16_t
 
ii
;

740 
u32_t
 
t
;

741 
UNI_COUNTER_S
 
mibCous
;

743 
p_icom
 = (
icom_hdr_t
*)
p_
;

744 
p_
 +(
icom_hdr_t
);

745 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

748 
pt
 = (
u32_t
*)(
p_
 + 2);

750 
p_i_out
 = (
icom_out_t
*)
p_out
;

751 
p_i_out
->
p_code
 = 0x0001012c;

753 
p_i_out
->
rved1
 = 0x00002314;

754 
p_i_out
->
rved2
 = 0x011800e0;

755 
p_i_out
->
rved3
 = 0x00002000;

756 
p_i_out
->
af
 = 
p_icom
->leaf;

757 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

758 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

759 
g_usOutDaIdx
 +(
icom_out_t
);

760 
p_out
 +(
icom_out_t
);

761 
p_pt_
 = (
rc_uni_iic_t
*)
p_out
;

762 
p_pt_
->
rved
 = 0x0100;

763 
p_pt_
->
pt
 = *port;

764 
p_pt_
->
rved3
 = 0x381b;

766 
ii
=0; ii<0x1b; ii++)

768 
p_pt_
->
rved4
[
ii
] = ii+1;

771 
	`memt
(
p_pt_
->
es
, 1, 27);

774 if((*
pt
 > 4) || (0 == *port))

776 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

777 
nd_r
;

780 
t
 = 
	`DRV_GPtMibCou
(*
pt
, &
mibCous
);

781 if(
t
 !
NO_ERROR
)

783 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

784 
nd_r
;

787 
p_pt_
->
ifInUPkts
 = 
mibCous
.
InUni
;

788 
p_pt_
->
ifInMPkts
 = 
mibCous
.
InMui
;

789 
p_pt_
->
ifInBPkts
 = 
mibCous
.
InBrd
;

790 
p_pt_
->
ifInPauPkts
 = 
mibCous
.
InPau
;

791 
p_pt_
->
ifInGoodOs
 = 
mibCous
.
uiRecOs
;

792 
p_pt_
->
ifInBadOs
 = 
mibCous
.
ulRevBadOs
;

793 
p_pt_
->
ifInUndsizePkts
 = 
mibCous
.
InUndow
;

795 
p_pt_
->
ifInFgmtsPkts
 = 0;

796 
p_pt_
->
ifInOvsizePkts
 = 
mibCous
.
InOvow
;

797 
p_pt_
->
ifInJabbsPkts
 = 0;

798 
p_pt_
->
ifInFCSEs
 = 
mibCous
.
InCrcE
;

801 
p_pt_
->
ifIn_64_Os
 = 0;

802 
p_pt_
->
ifIn_65_127_Os
 = 0;

803 
p_pt_
->
ifIn_128_255_Os
 = 0;

804 
p_pt_
->
ifIn_256_511_Os
 = 0;

805 
p_pt_
->
ifIn_512_1023_Os
 = 0;

806 
p_pt_
->
ifIn_1024_1518_Os
 = 0;

808 
p_pt_
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

809 
p_pt_
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

810 
p_pt_
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

811 
p_pt_
->
ifOutPauPkts
 = 
mibCous
.
OutPau
;

812 
p_pt_
->
ifOutGoodOs
 = 
mibCous
.
uiTnsOs
;

814 
p_pt_
->
ifInEPkts
 = 0;

815 
p_pt_
->
ifInDisrdPkts
 = 0;

816 
p_pt_
->
ifInUnkownPros
 = 0;

817 
p_pt_
->
ifOutEPkts
 = 0;

818 
p_pt_
->
ifOutDisrdPkts
 = 0;

820 
nd_r
:

821 
g_usOutDaIdx
 +(
rc_uni_iic_t
);

822 
	}
}

828 
	$icom_t_mng_
(
u8_t
 *
p_
)

830 
rc_mng__t
 *
p_
;

831 
icom_hdr_t
 *
p_icom
;

832 
u8_t
 *
p_out
;

833 
icom_out_t
 *
p_i_out
;

834 
rc_mng__t
 
mng__s
;

835 
u8_t
 
cmp_zo
[4] = {0};

836 
u8_t
 
ed_ag
 = 0;

839 if(!
ed_ag
)

841 
	`memt
(&
mng__s
, 0, (
rc_mng__t
));

842 
ed_ag
 = 1;

844 
p_icom
 = (
icom_hdr_t
*)
p_
;

846 
p_icom
->
af
)

848 
RAISECOM_LEAF_GET_STATISTICS
:

849 
	`rc_g_uni_iic
(
p_
);

854 
p_
 +(
icom_hdr_t
);

855 
p_
 = (
rc_mng__t
*)
p_
;

856 
p_
->
bnch
)

859 if(1 =
p_
->
af
)

861 
	`memy
(&(
mng__s
.
addr
), &(
p_
->ipaddr), 4);

863 if(2 =
p_
->
af
)

865 
	`memy
(&(
mng__s
.
mask
), &(
p_
->mask), 4);

867 if(6 =
p_
->
af
)

869 
	`memy
(&(
mng__s
.
mask
), &(
p_
->mask), 4);

870 
	`memy
(&(
mng__s
.
geway
), &(
p_
->gateway), 4);

871 if(0 !
	`memcmp
(
cmp_zo
, &
mng__s
.
addr
, 4))

873 
	`el__ossg
(
mng__s
.
addr
, mng__s.
mask
, mng__s.
geway
);

878 
	`el_h3c_t_deu_
(
p_
);

879 
	`el_mgmtvn_ossg
(1);

881 
	`memt
(&
mng__s
, 0, (
rc_mng__t
));

888 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

891 
p_i_out
 = (
icom_out_t
*)
p_out
;

893 
p_i_out
->
p_code
 = 0x00000014;

894 
p_i_out
->
rved1
 = 0x20582314;

895 
p_i_out
->
rved2
 = 0x000000e0;

896 
p_i_out
->
rved3
 = 0x00002000;

897 
p_i_out
->
af
 = 0x000073e9;

898 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

899 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

900 
g_usOutDaIdx
 +(
icom_out_t
);

901 
p_out
 +(
icom_out_t
);

903 
	}
}

905 
	$rc_t_lookback
(
u8_t
* 
p_
)

907 
u8_t
 *
p_out
;

908 
icom_out_t
 *
p_i_out
;

909 
icom_hdr_t
 *
p_icom
;

910 
rc_lookback_t
 *
p_lookback
;

912 
p_icom
 = (
icom_hdr_t
*)
p_
;

913 
p_
 +(
icom_hdr_t
);

914 
p_lookback
 = (
rc_lookback_t
*)
p_
;

916 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

917 
p_i_out
 = (
icom_out_t
*)
p_out
;

919 
p_i_out
->
p_code
 = 0x00000014;

920 
p_i_out
->
rved1
 = 0x20482314;

921 
p_i_out
->
rved2
 = 0x000000e0;

922 
p_i_out
->
rved3
 = 0x00002000;

923 
p_i_out
->
af
 = 
p_icom
->leaf;

924 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

925 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

926 
g_usOutDaIdx
 +(
icom_out_t
);

927 
	}
}

933 
	$icom_g_mng__2
(
u8_t
 *
p_
)

936 
u8_t
 *
p_out
;

937 
icom_out_t
 *
p_i_out
;

938 
sys_twk_t
 
fo
;

939 
icom_hdr_t
 *
p_icom
;

941 
rc_mng__out_t
 *
p_out_mng_
;

944 
p_icom
 = (
icom_hdr_t
*)
p_
;

946 
p_icom
->
af
)

948 
RAISECOM_LEAF_SET_LOOKBACK
:

950 
	`rc_t_lookback
(
p_
);

954 
	`icom_g_rug_cfig_2
(
p_
);

963 
p_
 +(
icom_hdr_t
);

964 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

965 
p_i_out
 = (
icom_out_t
*)
p_out
;

967 
p_i_out
->
p_code
 = 0x0000004c;

968 
p_i_out
->
rved1
 = 0x00002314;

969 
p_i_out
->
rved2
 = 0x003800e0;

970 
p_i_out
->
rved3
 = 0x00002000;

971 
p_i_out
->
af
 = 0x000073e9;

972 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

973 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

974 
g_usOutDaIdx
 +(
icom_out_t
);

975 
p_out
 +(
icom_out_t
);

976 
	`m_c_g_sys_twkg
(&
fo
);

977 
p_out_mng_
 = (
rc_mng__out_t
*)
p_out
;

979 
p_out_mng_
->
rved
 = 0x01000000;

980 
p_out_mng_
->
rved2
 = 0x00010600;

981 
p_out_mng_
->
addr
 = 
fo
.
tif
.

;

982 
p_out_mng_
->
mask

fo
.
tif
.
subt
;

983 
p_out_mng_
->
geway

fo
.
tif
.gateway;

984 
p_out_mng_
->
vn

fo
.
m_vn
;

985 
p_out_mng_
->
rved3
= 0x00000001;

989 
g_usOutDaIdx
 +(
rc_mng__out_t
);

991 
g_usOutDaIdx
 += 30;

993 
	}
}

996 
	$rc_t_pt_duex
(
u8_t
 
t
, u8_
mode
)

998 
t
 = 
NO_ERROR
;

999 
mode
)

1001 
RC_PORT_AUTO
:

1002 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_AUTO
);

1003 if(
t
 !
NO_ERROR
)

1005  
t
;

1007 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_AUTO
);

1008 if(
t
 !
NO_ERROR
)

1010  
t
;

1013 
RC_PORT_10HALF
:

1015 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_10M
);

1016 if(
t
 !
NO_ERROR
)

1018  
t
;

1020 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_HALF
);

1021 if(
t
 !
NO_ERROR
)

1023  
t
;

1027 
RC_PORT_10FULL
:

1029 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_10M
);

1030 if(
t
 !
NO_ERROR
)

1032  
t
;

1034 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_FULL
);

1035 if(
t
 !
NO_ERROR
)

1037  
t
;

1040 
RC_PORT_100HALF
:

1042 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_100M
);

1043 if(
t
 !
NO_ERROR
)

1045  
t
;

1047 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_HALF
);

1048 if(
t
 !
NO_ERROR
)

1050  
t
;

1053 
RC_PORT_100FULL
:

1055 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_100M
);

1056 if(
t
 !
NO_ERROR
)

1058  
t
;

1060 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_FULL
);

1061 if(
t
 !
NO_ERROR
)

1063  
t
;

1066 
RC_PORT_1000HALF
:

1068 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_1000M
);

1069 if(
t
 !
NO_ERROR
)

1071  
t
;

1073 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_HALF
);

1074 if(
t
 !
NO_ERROR
)

1076  
t
;

1079 
RC_PORT_1000FULL
:

1080 
t
 = 
	`DRV_SPtSed
(
t
, 
SPEED_1000M
);

1081 if(
t
 !
NO_ERROR
)

1083  
t
;

1085 
t
 = 
	`DRV_SPtDuex
(
t
, 
DUPLEX_FULL
);

1086 if(
t
 !
NO_ERROR
)

1088  
t
;

1093  
ERROR
;

1095 if(
RC_PORT_AUTO
 =
mode
)

1097 
m_abAutoNegEb
[
t
] = 1;

1101 
m_abAutoNegEb
[
t
] = 0;

1104  
NO_ERROR
;

1105 
	}
}

1107 
	$icom_t_pt_mode
(
u8_t
 *
p_
)

1109 
u8_t
 *
p_out
;

1110 
icom_out_t
 *
p_i_out
;

1111 
icom_hdr_t
 *
p_icom
;

1112 
rc_pt_d_duex_t
 *
p_pt_mode
;

1113 
t
 = 
NO_ERROR
;

1115 
p_icom
 = (
icom_hdr_t
*)
p_
;

1116 
p_
 +(
icom_hdr_t
);

1118 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1121 
p_pt_mode
 = (
rc_pt_d_duex_t
*)
p_
;

1122 
p_pt_mode
->
mode
)

1124 
RC_PORT_10HALF
:

1126 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_10M
);

1127 if(
t
 !
NO_ERROR
)

1129 
nd_r
;

1131 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_HALF
);

1132 if(
t
 !
NO_ERROR
)

1134 
nd_r
;

1138 
RC_PORT_10FULL
:

1140 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_10M
);

1141 if(
t
 !
NO_ERROR
)

1143 
nd_r
;

1145 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_FULL
);

1146 if(
t
 !
NO_ERROR
)

1148 
nd_r
;

1151 
RC_PORT_100HALF
:

1153 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_100M
);

1154 if(
t
 !
NO_ERROR
)

1156 
nd_r
;

1158 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_HALF
);

1159 if(
t
 !
NO_ERROR
)

1161 
nd_r
;

1164 
RC_PORT_100FULL
:

1166 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_100M
);

1167 if(
t
 !
NO_ERROR
)

1169 
nd_r
;

1171 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_FULL
);

1172 if(
t
 !
NO_ERROR
)

1174 
nd_r
;

1177 
RC_PORT_1000HALF
:

1179 #i
	`defed
(
CONFIG_BOSA
)

1180 
t
 = 
ERROR
;

1181 
nd_r
;

1183 #i
	`defed
(
CONFIG_PRODUCT_EPN104
)

1184 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_1000M
);

1185 if(
t
 !
NO_ERROR
)

1187 
nd_r
;

1189 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_HALF
);

1190 if(
t
 !
NO_ERROR
)

1192 
nd_r
;

1196 
RC_PORT_1000FULL
:

1197 #i
	`defed
(
CONFIG_PRODUCT_EPN204
)

1198 
t
 = 
ERROR
;

1199 
nd_r
;

1201 #i
	`defed
(
CONFIG_PRODUCT_EPN104
)

1202 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
SPEED_1000M
);

1203 if(
t
 !
NO_ERROR
)

1205 
nd_r
;

1207 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
DUPLEX_FULL
);

1208 if(
t
 !
NO_ERROR
)

1210 
nd_r
;

1216 
t
 = 
ERROR
;

1217 
nd_r
;

1221 
nd_r
:

1222 
m_abAutoNegEb
[
p_pt_mode
->
pt
] = 0;

1223 
p_i_out
 = (
icom_out_t
*)
p_out
;

1225 if(
NO_ERROR
 !
t
)

1227 
p_i_out
->
rved1
 = 0x00002314 +1;

1231 
p_i_out
->
rved1
 = 0x00002314;

1233 
p_i_out
->
p_code
 = 0x00010014;

1236 
p_i_out
->
rved2
 = 0x000000e0;

1237 
p_i_out
->
rved3
 = 0x00002000;

1238 
p_i_out
->
af
 = 
p_icom
->leaf;

1239 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1240 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1241 
g_usOutDaIdx
 +(
icom_out_t
);

1243 
	}
}

1245 
	$icom_t_mac_agg
(
u8_t
* 
p_
)

1247 
u8_t
 *
p_out
;

1248 
icom_out_t
 *
p_i_out
;

1249 
icom_hdr_t
 *
p_icom
;

1250 
t
 = 
NO_ERROR
;

1251 
u16_t
 *
aggTime
;

1253 
p_icom
 = (
icom_hdr_t
*)
p_
;

1254 
p_
 +(
icom_hdr_t
);

1256 
aggTime
 = (
u16_t
*)
p_
;

1257 if((*
aggTime
<
MIN_MAC_AGETIME
|| (*aggTime>
MAX_MAC_AGETIME
))

1260 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1261 
t
 = 
ERROR
;

1262 
nd_r
;

1265 
t
 = 
	`Iol_SMacAgeTime
(*
aggTime
*10);

1266 if(
t
 !
DRV_OK
)

1268 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1269 
t
 = 
ERROR
;

1270 
nd_r
;

1273 
nd_r
:

1275 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1276 
p_i_out
 = (
icom_out_t
*)
p_out
;

1278 if(
t
 !
NO_ERROR
)

1280 
p_i_out
->
rved1
 = 0x00002314+1;

1284 
p_i_out
->
rved1
 = 0x00002314;

1287 
p_i_out
->
p_code
 = 0x00010014;

1289 
p_i_out
->
rved2
 = 0x000000e0;

1290 
p_i_out
->
rved3
 = 0x00002000;

1291 
p_i_out
->
af
 = 
p_icom
->leaf;

1292 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1293 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1294 
g_usOutDaIdx
 +(
icom_out_t
);

1296 
	}
}

1299 
	$icom_g_pt_e
(
u8_t
* 
p_
)

1301 
u8_t
 *
p_out
;

1302 
icom_out_t
 *
p_i_out
;

1303 
icom_hdr_t
 *
p_icom
;

1304 
t
 = 
NO_ERROR
;

1305 
rc_pt_d_duex_t
* 
p_pt_mode
;

1306 
u16_t
 *
pt
;

1307 
u32_t
 
pt_duex
 = 0;

1308 
u32_t
 
pt_d
 = 0;

1309 
u32_t
 
lk_us
 = 0;

1311 
p_icom
 = (
icom_hdr_t
*)
p_
;

1312 
p_
 +(
icom_hdr_t
);

1314 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1315 
pt
 = (
u16_t
*)
p_
;

1316 
p_i_out
 = (
icom_out_t
*)
p_out
;

1318 
p_i_out
->
p_code
 = 0x00000018;

1319 
p_i_out
->
rved1
 = 0x6e582314;

1320 
p_i_out
->
rved2
 = 0x000400e0;

1321 
p_i_out
->
rved3
 = 0x00002000;

1322 
p_i_out
->
af
 = 
p_icom
->leaf;

1323 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1324 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1325 
g_usOutDaIdx
 +(
icom_out_t
);

1326 
p_out
 +(
icom_out_t
);

1330 ()
	`DRV_GPtDuex
(*
pt
, &
pt_duex
);

1331 ()
	`DRV_GPtSed
(*
pt
, &
pt_d
);

1334 
p_pt_mode
 = (
rc_pt_d_duex_t
*)
p_out
;

1335 ()
	`DRV_GPtLkStus
(*
pt
, &
lk_us
);

1337 if(
lk_us
 == 0)

1339 
p_pt_mode
->
mode
 = 0xff;

1340 
nd_r
;

1342 
p_pt_mode
->
pt
 = *port;

1343 
pt_d
)

1345 
SPEED_10M
:

1346 if(
DUPLEX_HALF
 =
pt_duex
)

1348 
p_pt_mode
->
mode
 = 
RC_PORT_10HALF
;

1352 
p_pt_mode
->
mode
 = 
RC_PORT_10FULL
;

1355 
SPEED_100M
:

1356 if(
DUPLEX_HALF
 =
pt_duex
)

1358 
p_pt_mode
->
mode
 = 
RC_PORT_100HALF
;

1362 
p_pt_mode
->
mode
 = 
RC_PORT_100FULL
;

1365 
SPEED_1000M
:

1366 if(
DUPLEX_HALF
 =
pt_duex
)

1368 
p_pt_mode
->
mode
 = 
RC_PORT_1000HALF
;

1372 
p_pt_mode
->
mode
 = 
RC_PORT_1000FULL
;

1376 
p_pt_mode
->
mode
 = 0xff;

1380 
nd_r
:

1381 
g_usOutDaIdx
 +(
rc_pt_d_duex_t
);

1382 
	}
}

1384 
	$icom_t_pt_isީe
(
u8_t
* 
p_
)

1386 
u8_t
 *
p_out
;

1387 
icom_out_t
 *
p_i_out
;

1388 
icom_hdr_t
 *
p_icom
;

1389 
t
 = 
NO_ERROR
;

1390 
rc_pt_isީe_t
* 
p_pt
;

1392 
p_icom
 = (
icom_hdr_t
*)
p_
;

1393 
p_
 +(
icom_hdr_t
);

1395 
p_pt
 = (
rc_pt_isީe_t
*)
p_
;

1397 if(
RAISECOM_ENABLE
 =
p_pt
->
a
)

1399 
t
 = 
	`DRV_SPtIsީi
(
p_pt
->
pt
, 
ENABLE
);

1400 if(
NO_ERROR
 !
t
)

1405 if(
RAISECOM_DISABLE
 =
p_pt
->
a
)

1407 
t
 = 
	`DRV_SPtIsީi
(
p_pt
->
pt
, 
DISABLE
);

1408 if(
NO_ERROR
 !
t
)

1417 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1419 
p_i_out
 = (
icom_out_t
*)
p_out
;

1421 
p_i_out
->
p_code
 = 0x00010014;

1422 
p_i_out
->
rved1
 = 0x00002314;

1423 
p_i_out
->
rved2
 = 0x000000e0;

1424 
p_i_out
->
rved3
 = 0x00002000;

1425 
p_i_out
->
af
 = 
p_icom
->leaf;

1426 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1427 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1428 
g_usOutDaIdx
 +(
icom_out_t
);

1429 
p_out
 +(
icom_out_t
);

1430 
	}
}

1432 
	$icom_t__0
(
u8_t
* 
p_
)

1434 
u8_t
 *
p_out
;

1435 
icom_out_t
 *
p_i_out
;

1436 
icom_hdr_t
 *
p_icom
;

1437 
t
 = 
NO_ERROR
;

1438 
sys_twk_t
 
fo
;

1440 
rc_mng__out_t
 *
p_out_mng_
;

1441 
p_icom
 = (
icom_hdr_t
*)
p_
;

1442 
p_
 +(
icom_hdr_t
);

1444 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1446 
p_i_out
 = (
icom_out_t
*)
p_out
;

1448 
p_i_out
->
p_code
 = 0x0000001c;

1450 
p_i_out
->
rved1
 = 0x00002314;

1451 
p_i_out
->
rved2
 = 0x000800e0;

1452 
p_i_out
->
rved3
 = 0x00002000;

1453 
p_i_out
->
af
 = 0x0000102c;

1454 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1455 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1456 
g_usOutDaIdx
 +(
icom_out_t
);

1457 
p_out
 +(
icom_out_t
);

1458 
	`m_c_g_sys_twkg
(&
fo
);

1459 
p_out_mng_
 = (
rc_mng__out_t
*)
p_out
;

1461 
	`memy
(
p_out
, &
fo
.
tif
.

, 4);

1462 
	`memy
(
p_out
+4, &
fo
.
tif
.
subt
, 4);

1463 
g_usOutDaIdx
 += 8;

1464 
	}
}

1467 
	$icom_uni_iics
(
u8_t
 *
p_
)

1469 
u8_t
 *
p_out
;

1470 
icom_out_t
 *
p_i_out
;

1471 
icom_hdr_t
 *
p_icom
;

1472 
t
 = 
NO_ERROR
;

1473 
rc_uni_r_t
 *
p_r
;

1475 
p_icom
 = (
icom_hdr_t
*)
p_
;

1476 
p_
 +(
icom_hdr_t
);

1477 
p_r
 = (
rc_uni_r_t
*)
p_
;

1479 if(
RAISECOM_SET
 =
p_r
->
a
)

1481 
t
 = 
	`Iol_SMibCouRet
(
p_r
->
pt
);

1482 if(
t
 !
DRV_OK
)

1484 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1485 
nd_r
;

1489 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1491 
p_i_out
 = (
icom_out_t
*)
p_out
;

1493 
p_i_out
->
p_code
 = 0x0000001c;

1494 
p_i_out
->
rved1
 = 0x00002314;

1495 
p_i_out
->
rved2
 = 0x000400e0;

1496 
p_i_out
->
rved3
 = 0x00002000;

1497 
p_i_out
->
af
 = 
p_icom
->leaf;

1498 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1499 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1500 
nd_r
:

1501 
g_usOutDaIdx
 +(
icom_out_t
);

1502 
	}
}

1504 
	$icom_mui_di
(
u8_t
 *
p_
)

1506 
u8_t
 *
p_out
;

1507 
icom_out_t
 *
p_i_out
;

1508 
icom_hdr_t
 *
p_icom
;

1509 
t
 = 
NO_ERROR
;

1511 
p_icom
 = (
icom_hdr_t
*)
p_
;

1512 
p_
 +(
icom_hdr_t
);

1514 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1515 
p_i_out
 = (
icom_out_t
*)
p_out
;

1517 
p_i_out
->
p_code
 = 0x00010180;

1518 
p_i_out
->
rved1
 = 0x00002314;

1519 
p_i_out
->
rved2
 = 0x016c00e0;

1520 
p_i_out
->
rved3
 = 0x00002000;

1521 
p_i_out
->
af
 = 
p_icom
->leaf;

1522 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1523 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1524 
g_usOutDaIdx
 +(
icom_out_t
);

1526 
g_usOutDaIdx
 = 414;

1527 
	}
}

1529 
	$icom_t_ʑ
(
u8_t
* 
p_
)

1531 
u8_t
 *
p_out
;

1532 
icom_out_t
 *
p_i_out
;

1533 
icom_hdr_t
 *
p_icom
;

1534 
t
 = 
NO_ERROR
;

1535 
pid_t
 
pid
 = 0;

1537 
p_icom
 = (
icom_hdr_t
*)
p_
;

1538 
p_
 +(
icom_hdr_t
);

1540 *
p_
)

1542 
RAISECOM_ENABLE
:

1544 if(
IPC_STATUS_OK
 !
	`m_c_vtysh_nvm_t
("telnet_service_enabled", "enable"))

1546 
t
 = 
ERROR
;

1549 
RAISECOM_DISABLE
:

1551 if((
pid
 = 
	`g_pid_by_me
("vtysh")) > 0)

1553 if(-1 =
	`kl
(
pid
, 
SIGUSR2
))

1555 
t
 = 
ERROR
;

1560 
t
 = 
ERROR
;

1564 
t
 = 
ERROR
;

1568 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1569 
p_i_out
 = (
icom_out_t
*)
p_out
;

1571 
p_i_out
->
p_code
 = 0x00000014;

1572 
p_i_out
->
rved1
 = 0x20482314;

1573 
p_i_out
->
rved2
 = 0x000000e0;

1574 
p_i_out
->
rved3
 = 0x00002000;

1575 
p_i_out
->
af
 = 
p_icom
->leaf;

1576 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1577 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1578 
g_usOutDaIdx
 +(
icom_out_t
);

1580 
	}
}

1582 
	$icom_r_mac_b
(
u8_t
* 
p_
)

1584 
u8_t
 *
p_out
;

1585 
icom_out_t
 *
p_i_out
;

1586 
icom_hdr_t
 *
p_icom
;

1587 
t
 = 
NO_ERROR
;

1588 
u32_t
 *
p_a
;

1589 
mac_dump_u_b_t
 
mpMacTab
[2048];

1590 
u32_t
 
mac_cou
;

1591 
u32_t
 
ii
;

1592 
rc_mac_bd_t
 
d_mac
;

1594 
p_icom
 = (
icom_hdr_t
*)
p_
;

1595 
p_
 +(
icom_hdr_t
);

1597 
t
 = 
	`ad_mac_u_dump
(
mpMacTab
, &
mac_cou
);

1598 if(
DRV_OK
 !
t
)

1600 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1603 
p_a
 = (
u32_t
*)
p_
;

1604 *
p_a
)

1606 
MAC_TYPE_DYNAMIC
:

1607 
ii
=0; ii<
mac_cou
; ii++)

1609 if(!(
mpMacTab
[
ii
].
ag
 & 0x04))

1611 
	`memy
(
d_mac
.
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1612 
d_mac
.
vn
 = 0;

1613 
d_mac
.
pt
 = 
mpMacTab
[
ii
].
t
;

1614 
	`rc_pt_ic_mac_d
(&
d_mac
);

1618 
MAC_TYPE_STATIC
:

1619 
ii
=0; ii<
mac_cou
; ii++)

1621 if(
mpMacTab
[
ii
].
ag
 & 0x04)

1623 
	`memy
(
d_mac
.
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1624 
d_mac
.
vn
 = 0;

1625 
d_mac
.
pt
 = 
mpMacTab
[
ii
].
t
;

1626 
	`rc_pt_ic_mac_d
(&
d_mac
);

1630 
MAC_TYPE_ALL
:

1631 
ii
=0; ii<
mac_cou
; ii++)

1633 
	`memy
(
d_mac
.
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1634 
d_mac
.
vn
 = 0;

1635 
d_mac
.
pt
 = 
mpMacTab
[
ii
].
t
;

1636 
	`rc_pt_ic_mac_d
(&
d_mac
);

1641 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1642 
p_i_out
 = (
icom_out_t
*)
p_out
;

1644 
p_i_out
->
p_code
 = 0x00000014;

1645 
p_i_out
->
rved1
 = 0x20482314;

1646 
p_i_out
->
rved2
 = 0x000000e0;

1647 
p_i_out
->
rved3
 = 0x00002000;

1648 
p_i_out
->
af
 = 
p_icom
->leaf;

1649 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1650 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1651 
g_usOutDaIdx
 +(
icom_out_t
);

1653 
	}
}

1655 
	$icom_d_hd
(
u8_t
* 
p_
)

1657 
u8_t
 *
p_out
;

1658 
icom_out_t
 *
p_i_out
;

1659 
icom_hdr_t
 *
p_icom
;

1660 
t
 = 
NO_ERROR
;

1661 
u32_t
 *
p_vue
;

1663 
p_icom
 = (
icom_hdr_t
*)
p_
;

1664 
p_
 +(
icom_hdr_t
);

1665 
p_vue
 = (
u32_t
*)
p_
;

1667 *
p_vue
)

1669 
RAISECOM_ENABLE
:

1671 
RAISECOM_DISABLE
:

1677 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1678 
p_i_out
 = (
icom_out_t
*)
p_out
;

1680 
p_i_out
->
p_code
 = 0x00000014;

1681 
p_i_out
->
rved1
 = 0x20482314;

1682 
p_i_out
->
rved2
 = 0x000000e0;

1683 
p_i_out
->
rved3
 = 0x00002000;

1684 
p_i_out
->
af
 = 
p_icom
->leaf;

1685 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1686 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1687 
g_usOutDaIdx
 +(
icom_out_t
);

1688 
	}
}

1691 
	$icom_uk_hd
(
u8_t
* 
p_
)

1693 
u8_t
 *
p_out
;

1694 
icom_out_t
 *
p_i_out
;

1695 
icom_hdr_t
 *
p_icom
;

1696 
t
 = 
NO_ERROR
;

1698 
p_icom
 = (
icom_hdr_t
*)
p_
;

1699 
p_
 +(
icom_hdr_t
);

1701 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1702 
p_i_out
 = (
icom_out_t
*)
p_out
;

1704 
p_i_out
->
p_code
 = 0x00000014;

1705 
p_i_out
->
rved1
 = 0x20582314;

1706 
p_i_out
->
rved2
 = 0x000000e0;

1707 
p_i_out
->
rved3
 = 0x00002000;

1708 
p_i_out
->
af
 = 
p_icom
->leaf;

1709 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1710 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1711 
g_usOutDaIdx
 +(
icom_out_t
);

1712 
	}
}

1718 
	$icom_t_bnch1
(
u8_t
* 
p_
)

1720 
u8_t
 *
p_out
;

1721 
icom_out_t
 *
p_i_out
;

1722 
icom_hdr_t
 *
p_icom
;

1723 
rc__ave_t
 *
p_ave
;

1724 
t
 = 
NO_ERROR
;

1726 
p_icom
 = (
icom_hdr_t
*)
p_
;

1728 
p_icom
->
af
)

1730 
RAISECOM_LEAF_SET_PORT_MODE
:

1732 
	`icom_t_pt_mode
(
p_
);

1734 
RAISECOM_LEAF_SET_MAC_AGING
:

1736 
	`icom_t_mac_agg
(
p_
);

1738 
RAISECOM_LEAF_GET_PORT_MODE
:

1740 
	`icom_g_pt_e
(
p_
);

1742 
RAISECOM_LEAF_SET_PORT_ISOLATION
:

1744 
	`icom_t_pt_isީe
(
p_
);

1748 
	`icom_t__0
(
p_
);

1750 
RAISECOM_LEAF_SET_STATISTICS_CLEAR
:

1752 
	`icom_uni_iics
(
p_
);

1754 
RAISECOM_LEAF_GET_MCAST_MAC
:

1756 
	`icom_mui_di
(
p_
);

1758 
RAISECOM_LEAF_SET_TELNET
:

1760 
	`icom_t_ʑ
(
p_
);

1762 
RAISECOM_LEAF_SET_MAC_CLEAR
:

1764 
	`icom_r_mac_b
(
p_
);

1766 
RAISECOM_LEAF_SET_DLF
:

1768 
	`icom_d_hd
(
p_
);

1770 
RAISECOM_LEAF_SET_UPLINK_FLOW
:

1772 
	`icom_uk_hd
(
p_
);

1776 
	`icom_g_rug_cfig_3
(
p_
);

1779 
	`icom_g_rug_cfig_4
(
p_
);

1782 
	`icom_g_rug_cfig_6
(
p_
);

1785 
	`icom_g_rug_cfig_7
(
p_
);

1788 
RAISECOM_LEAF_SET_FASTLEAVE
:

1790 
p_
 +(
icom_hdr_t
);

1791 
p_ave
 = (
rc__ave_t
*)
p_
;

1792 if(
RAISECOM_ENABLE
 =
p_ave
->
mode
)

1794 ()
	`odmMuiFaaveModeS
(1);

1796 if(
RAISECOM_DISABLE
 =
p_ave
->
mode
)

1798 ()
	`odmMuiFaaveModeS
(0);

1805 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1806 
p_i_out
 = (
icom_out_t
*)
p_out
;

1808 
p_i_out
->
p_code
 = 0x00000014;

1809 
p_i_out
->
rved1
 = 0x20582314;

1810 
p_i_out
->
rved2
 = 0x000000e0;

1811 
p_i_out
->
rved3
 = 0x00002000;

1812 
p_i_out
->
af
 = 
p_icom
->leaf;

1813 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1814 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1815 
g_usOutDaIdx
 +(
icom_out_t
);

1816 
	}
}

1818 
	$icom_t_fr_f_vn
(
u8_t
* 
p_
)

1820 
u8_t
 *
p_out
;

1821 
icom_out_t
 *
p_i_out
;

1822 
icom_hdr_t
 *
p_icom
;

1823 
t
 = 
NO_ERROR
;

1824 
u32_t
 
frEmyEry
;

1825 
rc_fr_3_t
 *
p_fr3
;

1826 
u32_t
 
uVue_t
;

1827 
u8_t
 
aVue_t
[6] = {0};

1830 
p_icom
 = (
icom_hdr_t
*)
p_
;

1831 
p_
 +(
icom_hdr_t
);

1834 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

1835 
p_i_out
 = (
icom_out_t
*)
p_out
;

1839 
p_fr3
 = (
rc_fr_3_t
*)
p_
;

1841 
uVue_t
 = 
p_fr3
->
vn
;

1842 
	`memy
(
aVue_t
, &
uVue_t
, 4);

1843 if((
p_fr3
->
vn
 < 1) || (p_filter3->vlan > 4094))

1845 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1848 if(
RAISECOM_NO
 =
p_fr3
->
ai
)

1850 
	`fr_a_d_lol
(
ACL_TRUST_CTAG_VID
, 
aVue_t
);

1852 if(
RAISECOM_SET
 =
p_fr3
->
ai
)

1854 
t
 = 
	`Iol_GUniUt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
frEmyEry
);

1855 if(
t
 !
DRV_OK
)

1857 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1861 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

1862 
ACL_TRUST_CTAG_VID
,

1863 
ACL_DIRECTION_BOTH
,

1864 &
uVue_t
);

1865 if(
t
 !
DRV_OK
)

1867 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1870 
	`fr_a_add_lol
(
ACL_TRUST_CTAG_VID
, 
frEmyEry
, 
aVue_t
);

1873 
p_i_out
 = (
icom_out_t
*)
p_out
;

1874 
p_i_out
->
p_code
 = 0x00080014;

1875 
p_i_out
->
rved1
 = 0x00002314;

1876 
p_i_out
->
rved2
 = 0x000000e0;

1877 
p_i_out
->
rved3
 = 0x00002000;

1878 
p_i_out
->
af
 = 
p_icom
->leaf;

1879 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

1880 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

1881 
g_usOutDaIdx
 +=(
icom_out_t
);

1884 
	}
}

1887 
	$rc_g_mac
(
u16_t
 
ty
, u16_
pt
, 
u32_t
 *
p_macNum
)

1889 
t
 = 
NO_ERROR
;

1890 
mac_dump_u_b_t
 
mpMacTab
[2048];

1891 
u32_t
 
mac_cou
;

1892 
u32_t
 
tٮ_mac
 = 0;

1893 
rc_pt_mac_t
* 
p_lMacTab
 = 
NULL
;

1894 
u32_t
 
ii
;

1896 if(
ty
 > 
MAC_TYPE_STATIC
)

1898 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1899  
ERROR
;

1902 if((
pt
 > 
MAC_TYPE_PORT_UNI_4
&& (p܈!
MAC_TYPE_PORT_UPLINK
))

1904 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1905  
ERROR
;

1908 if(
NULL
 =
g_rc_pt_mac
)

1910 
t
 = 
	`ad_mac_u_dump
(
mpMacTab
, &
mac_cou
);

1912 if(
DRV_OK
 !
t
)

1914 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1915  
ERROR
;

1917 
	`RC_DBG
(("MACum %d\n", 
mac_cou
));

1919 if(0 =
mac_cou
)

1922  
NO_ERROR
;

1925 
g_rc_pt_mac
 = 
	`mloc
(
mac_cou
*(
rc_pt_mac_t
));

1928 if(
NULL
 !
g_rc_pt_mac
)

1930 
	`RC_DBG
(("Alloc memory successfully\n"));

1931 
tٮ_mac
 = 0;

1932 
p_lMacTab
 = 
g_rc_pt_mac
;

1934 
ii
=0; ii<
mac_cou
; ii++)

1937 if(
MAC_TYPE_DYNAMIC
 =
ty
)

1940 if((
mpMacTab
[
ii
].
ag
) & 0x04)

1944 if((
pt
 <
MAC_TYPE_PORT_UNI_4
&& (p܈!
MAC_TYPE_PORT_ALL
))

1948 if(
mpMacTab
[
ii
].
t
 !
pt
)

1954 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1955 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

1956 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

1958 
p_lMacTab
->
aggLe
 = 0x30;

1959 
p_lMacTab
 += 1;

1960 
tٮ_mac
 += 1;

1963 if(
MAC_TYPE_PORT_UPLINK
 =
pt
)

1966 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1967 if(
mpMacTab
[
ii
].
t
 != 5)

1969 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

1974 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1975 
p_lMacTab
->
pt
 = 0x80000000;

1976 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

1978 
p_lMacTab
->
aggLe
 = 0x30;

1979 
p_lMacTab
 += 1;

1980 
tٮ_mac
 += 1;

1986 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

1987 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

1989 
p_lMacTab
->
aggLe
 = 0x30;

1990 if(5 =
mpMacTab
[
ii
].
t
)

1998 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

2000 
p_lMacTab
 += 1;

2001 
tٮ_mac
 += 1;

2006 if(
MAC_TYPE_STATIC
 =
ty
)

2009 if(0 =((
mpMacTab
[
ii
].
ag
) & 0x04))

2013 if((
pt
 <
MAC_TYPE_PORT_UNI_4
&& (p܈!
MAC_TYPE_PORT_ALL
))

2017 if(
mpMacTab
[
ii
].
t
 !
pt
)

2023 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2024 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2026 
p_lMacTab
->
aggLe
 = 0xffff;

2027 if(5 =
mpMacTab
[
ii
].
t
)

2034 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

2036 
p_lMacTab
 += 1;

2037 
tٮ_mac
 += 1;

2040 if(
MAC_TYPE_PORT_UPLINK
 =
pt
)

2043 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2044 if(
mpMacTab
[
ii
].
t
 != 5)

2046 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2051 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2052 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2053 
p_lMacTab
->
pt
 = 0x80000000;

2054 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2056 
p_lMacTab
->
aggLe
 = 0xffff;

2057 
p_lMacTab
 += 1;

2058 
tٮ_mac
 += 1;

2063 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2064 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2066 
p_lMacTab
->
aggLe
 = 0xffff;

2068 if(5 =
mpMacTab
[
ii
].
t
)

2075 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

2077 
p_lMacTab
 += 1;

2078 
tٮ_mac
 += 1;

2084 if((
pt
 <
MAC_TYPE_PORT_UNI_4
&& (p܈!
MAC_TYPE_PORT_ALL
))

2088 if(
mpMacTab
[
ii
].
t
 !
pt
)

2094 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2095 if(0 =((
mpMacTab
[
ii
].
ag
) & 0x04))

2097 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

2098 
p_lMacTab
->
aggLe
 = 0x30;

2102 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2103 
p_lMacTab
->
aggLe
 = 0xffff;

2106 if(5 =
mpMacTab
[
ii
].
t
)

2113 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

2117 if(
MAC_TYPE_PORT_UPLINK
 =
pt
)

2120 if(
mpMacTab
[
ii
].
t
 != 5)

2122 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2127 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2128 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2129 
p_lMacTab
->
pt
 = 0x80000000;

2130 if(0 =((
mpMacTab
[
ii
].
ag
) & 0x04))

2132 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

2133 
p_lMacTab
->
aggLe
 = 0x30;

2137 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2138 
p_lMacTab
->
aggLe
 = 0xffff;

2145 if(5 =
mpMacTab
[
ii
].
t
)

2147 
p_lMacTab
->
pt
 = 0x80000000;

2152 
p_lMacTab
->
pt
 = 1<<(
mpMacTab
[
ii
].
t
-1);

2155 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2156 if(0 =((
mpMacTab
[
ii
].
ag
) & 0x04))

2158 
p_lMacTab
->
ty
 = 
MAC_TYPE_DYNAMIC
;

2159 
p_lMacTab
->
aggLe
 = 0x30;

2163 
p_lMacTab
->
ty
 = 
MAC_TYPE_STATIC
;

2164 
p_lMacTab
->
aggLe
 = 0xffff;

2167 
p_lMacTab
 += 1;

2168 
tٮ_mac
 += 1;

2171 *
p_macNum
 = 
tٮ_mac
;

2175 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2176  
ERROR
;

2179 
	}
}

2181 
	$icom_l2addss_quy
(
u8_t
* 
p_
)

2183 
icom_hdr_t
 *
p_icom
;

2184 
u8_t
 *
p_out
;

2185 
icom_out_t
 *
p_i_out
;

2186 
rc_l2mac__t
 *
p_mac_
;

2187 
rc_l2mac_t
 *
p_macEry
;

2188 
u16_t
 
ii
;

2189 
t
 = 
NO_ERROR
;

2190 
rc_pt_mac_t
* 
p_lMacTab
 = 
NULL
;

2191 
u32_t
 
tٮMacNum
 = 0;

2192 
u32_t
 
ndMacNum
 = 0;

2193 
rc_l2mac_fd_t
 *
p_mac_fed
;

2195 
p_icom
 = (
icom_hdr_t
*)
p_
;

2196 
p_
 +(
icom_hdr_t
);

2198 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2200 
p_i_out
 = (
icom_out_t
*)
p_out
;

2201 
p_i_out
->
p_code
 = 0x00010338;

2203 
p_i_out
->
rved1
 = 0x00002314;

2204 
p_i_out
->
rved2
 = 0x032400e0;

2205 
p_i_out
->
rved3
 = 0x00002000;

2206 
p_i_out
->
af
 = 
p_icom
->leaf;

2207 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2208 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2209 
g_usOutDaIdx
 +=(
icom_out_t
);

2210 
p_out
 +(
icom_out_t
);

2215 
p_mac_
 = (
rc_l2mac__t
*)
p_
;

2218 i(
NULL
 =
g_rc_pt_mac
)

2220 
t
 = 
	`rc_g_mac
(
p_mac_
->
macTy
&0x000000FF, (p_mac_->macTy&0x0000FF00)>>8, &
tٮMacNum
);

2221 if(
t
 !
NO_ERROR
)

2223 
nd_r
;

2225 if(0 =
tٮMacNum
)

2227 
nd_r
;

2231 
p_macEry
 = (
rc_l2mac_t
*)
p_out
;

2232 
p_out
 +(
rc_l2mac_t
);

2233 
p_mac_fed
 = (
rc_l2mac_fd_t
*)
p_out
;

2235 
p_lMacTab
 = 
g_rc_pt_mac
+
ndMacNum
;

2237 if((
tٮMacNum
-
ndMacNum
> 
p_mac_
->
maxMac
)

2240 
ii
=0; ii<
p_mac_
->
maxMac
-1; ii++)

2242 
	`memy
(
p_mac_fed
->
mac
, 
p_lMacTab
->mac, 6);

2243 
p_mac_fed
->
rved
 = 0xffff;

2244 
p_mac_fed
->
pt
 = 
p_lMacTab
->port;

2245 
p_mac_fed
->
aggLe
 = 
p_lMacTab
->agingLeft;

2246 
p_mac_fed
->
ty
 = 
p_lMacTab
->type;

2247 
p_mac_fed
->
rved2
 = 0x01;

2250 
p_mac_fed
 += 1;

2251 
p_lMacTab
 += 1;

2253 
ndMacNum
 +(
p_mac_
->
maxMac
-1);

2254 
p_macEry
->
macMax
 = 
p_mac_
->
maxMac
;

2255 
p_macEry
->
macNum
 = 
p_mac_
->
maxMac
-1;

2260 
ii
=0; ii<
tٮMacNum
 && ii<ٮMacNum-
ndMacNum
); ii++)

2262 
	`memy
(
p_mac_fed
->
mac
, 
p_lMacTab
->mac, 6);

2263 
p_mac_fed
->
rved
 = 0xffff;

2264 
p_mac_fed
->
pt
 = 
p_lMacTab
->port;

2265 
p_mac_fed
->
aggLe
 = 
p_lMacTab
->agingLeft;

2266 
p_mac_fed
->
ty
 = 
p_lMacTab
->type;

2267 
p_mac_fed
->
rved2
 = 0x01;

2270 
p_mac_fed
 += 1;

2271 
p_lMacTab
 += 1;

2273 
p_macEry
->
macNum
 = (
tٮMacNum
<ٮMacNum-
ndMacNum
)?totalMacNum:(totalMacNum-sendMacNum));

2275 
ndMacNum
 = 
tٮMacNum
;

2276 
p_macEry
->
macMax
 = 0;

2279 
nd_r
:

2281 if(
ndMacNum
 >
tٮMacNum
)

2283 if(
NULL
 !
g_rc_pt_mac
)

2285 
	`
(
g_rc_pt_mac
);

2286 
	`RC_DBG
(("free memory successfully\n"));

2287 
g_rc_pt_mac
 = 
NULL
;

2289 
ndMacNum
 = 0;

2290 
tٮMacNum
 = 0;

2292 
g_usOutDaIdx
 = 854;

2293 
	}
}

2295 
	$icom_t_igmp_quy
(
u8_t
* 
p_
)

2297 
icom_hdr_t
 *
p_icom
;

2298 
u8_t
 *
p_out
;

2299 
icom_out_t
 *
p_i_out
;

2300 
t
 = 
NO_ERROR
;

2301 
rc_igmp_t
* 
p_igmp
;

2302 
p_icom
 = (
icom_hdr_t
*)
p_
;

2303 
p_
 +(
icom_hdr_t
);

2305 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2307 
p_igmp
 = (
rc_igmp_t
*)
p_
;

2309 
p_i_out
 = (
icom_out_t
*)
p_out
;

2310 
p_i_out
->
p_code
 = 0x00000014;

2311 
p_i_out
->
rved1
 = 0x20482314;

2312 
p_i_out
->
rved2
 = 0x000000e0;

2313 
p_i_out
->
rved3
 = 0x00002000;

2314 
p_i_out
->
af
 = 
p_icom
->leaf;

2315 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2316 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2317 
g_usOutDaIdx
 +=(
icom_out_t
);

2318 
p_out
 +(
icom_out_t
);

2319 
	}
}

2322 
	$icom_t_mac_lim
(
u8_t
* 
p_
)

2324 
icom_hdr_t
 *
p_icom
;

2325 
u8_t
 *
p_out
;

2326 
icom_out_t
 *
p_i_out
;

2327 
t
 = 
NO_ERROR
;

2328 
rc_uni_mac_lim_t
* 
p_mac_lim
;

2329 
p_icom
 = (
icom_hdr_t
*)
p_
;

2330 
p_
 +(
icom_hdr_t
);

2332 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2334 
p_mac_lim
 = (
rc_uni_mac_lim_t
*)
p_
;

2335 if(
p_mac_lim
->
mac_lim
 == 0xffffffff)

2338 
t
 = 
	`Iol_SMacLLim
(
p_mac_lim
->
pt
, 0, 
TRUE
);

2342 
t
 = 
	`Iol_SMacLLim
(
p_mac_lim
->
pt
,_mac_lim->
mac_lim
, 
TRUE
);

2344 
p_i_out
 = (
icom_out_t
*)
p_out
;

2346 if(
t
 !
DRV_OK
)

2348 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2349 
p_i_out
->
rved1
 = 0x20482314 + 1;

2353 
p_i_out
->
rved1
 = 0x20482314;

2355 
p_i_out
->
p_code
 = 0x00000014;

2357 
p_i_out
->
rved2
 = 0x000000e0;

2358 
p_i_out
->
rved3
 = 0x00002000;

2359 
p_i_out
->
af
 = 
p_icom
->leaf;

2360 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2361 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2362 
g_usOutDaIdx
 +=(
icom_out_t
);

2363 
p_out
 +(
icom_out_t
);

2364 
	}
}

2367 
	$icom_t_cfig
(
u8_t
* 
p_
)

2369 
u8_t
 *
p_out
;

2370 
t
 = 
NO_ERROR
;

2371 
icom_out_t
 *
p_i_out
;

2372 
icom_hdr_t
 *
p_icom
;

2373 
u8_t
 
mp_buf2
[] = {

2382 
u8_t
 
mp_buf4
[] = {

2392 
p_icom
 = (
icom_hdr_t
*)
p_
;

2393 #ide
CONFIG_PRODUCT_5500


2394 
p_icom
->
af
)

2396 
RAISECOM_LEAF_SET_FILTER_BY_VLAN
:

2398 
	`icom_t_fr_f_vn
(
p_
);

2400 
RAISECOM_LEAF_GET_L2ADDRESS
:

2401 
	`icom_l2addss_quy
(
p_
);

2403 
RAISECOM_LEAF_SET_IGMP_INTERVEL
:

2404 
	`icom_t_igmp_quy
(
p_
);

2406 
RAISECOM_LEAF_SET_MAC_LIMIT
:

2407 
	`icom_t_mac_lim
(
p_
);

2419 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2420 
	`memy
(
p_out
, 
mp_buf4
, (temp_buf4));

2421 
g_usOutDaIdx
 +(
mp_buf4
);

2423 
	}
}

2424 
	$rc_pt_ic_mac_add
(
rc_mac_bd_t
* 
p_bd_mac
)

2426 
u32_t
 
t
;

2427 
mac_u_t
 
g_mac_addss
;

2428 
mac_u_t
 
t_mac_addss
;

2434 
	`memt
(&
g_mac_addss
, 0, (
mac_u_t
));

2436 if(
	`CTC_CheckVidVidFLgcPt
(
p_bd_mac
->
pt
,_bd_mac->
vn
, &
vnMode
, &
vnExi
))

2438  
ERROR
;

2442 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

2444 
t
 = 
	`Iol_GMacUMac
(0, 
p_bd_mac
->
mac
, &
g_mac_addss
);

2446 if(
vnExi
)

2448 
t
 = 
	`Iol_GMacUMac
(
p_bd_mac
->
vn
,_bd_mac->
mac
 , &
g_mac_addss
);

2452  
ERROR
;

2455 
t
 = 
	`Iol_GMacUMac
(
p_bd_mac
->
vn
,_bd_mac->
mac
 , &
g_mac_addss
);

2458 if(
DRV_OK
 =
t
)

2460 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2461  
ERROR
;

2464 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
t
)

2467 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

2468 
t_mac_addss
.
lgcPt
 = 
p_bd_mac
->
pt
;

2469 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_bd_mac
->
mac
 , (
mac_addss_t
));

2470 
t_mac_addss
.
tdVid
 = 
p_bd_mac
->
vn
;

2471 
t_mac_addss
.
ucStic
 = 1;

2473 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

2474 if(
t
 !
DRV_OK
)

2476 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2477  
ERROR
;

2479  
NO_ERROR
;

2481 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2482  
ERROR
;

2483 
	}
}

2486 
	$rc_pt_ic_mac_d
(
rc_mac_bd_t
 *
p_mac
)

2488 
u32_t
 
t
 = 
NO_ERROR
;

2489 
mac_u_t
 
g_mac_addss
;

2495 if(
	`CTC_CheckVidVidFLgcPt
(
p_mac
->
pt
,_mac->
vn
, &
vnMode
, &
vnExi
))

2497  
ERROR
;

2500 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

2502 
t
 = 
	`Iol_GMacUMac
(0, 
p_mac
->
mac
, &
g_mac_addss
);

2504 if(
vnExi
)

2506 
t
 = 
	`Iol_GMacUMac
(
p_mac
->
vn
,_mac->
mac
, &
g_mac_addss
);

2510  
ERROR
;

2513 
t
 = 
	`Iol_GMacUMac
(
p_mac
->
vn
,_mac->
mac
, &
g_mac_addss
);

2516 if(
DRV_OK
 !
t
)

2519  
NO_ERROR
;

2522 
t
 = 
	`Iol_SMacDUMac
(
g_mac_addss
);

2523 if(
DRV_OK
 !=
t
)

2525 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2526  
ERROR
;

2529  
NO_ERROR
;

2530 
	}
}

2533 
	$rc_mac_ic_di
(
u8_t
* 
p_
)

2535 
u8_t
 *
p_out
;

2536 
icom_out_t
 *
p_i_out
;

2537 
icom_hdr_t
 *
p_icom
;

2538 
t
 = 
NO_ERROR
;

2539 
u32_t
 
mac_cou
;

2540 
rc_mac_ic_t
* 
p_lMacTab
 = 
NULL
;

2541 
u32_t
 
nd_mac
 = 0;

2542 
u32_t
 
tٮ_mac
 = 0;

2543 
u32_t
 
ii
 = 0;

2544 
mac_dump_u_b_t
 
mpMacTab
[2048];

2545 
rc_mac_out_ic_t
 *
p_out_mac
;

2547 
p_icom
 = (
icom_hdr_t
*)
p_
;

2548 
p_
 +(
icom_hdr_t
);

2550 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2552 
p_i_out
 = (
icom_out_t
*)
p_out
;

2553 
p_i_out
->
p_code
 = 0x00010588;

2554 
p_i_out
->
rved1
 = 0x00002314;

2555 
p_i_out
->
rved2
 = 0x057400e0;

2556 
p_i_out
->
rved3
 = 0x00002000;

2557 
p_i_out
->
af
 = 
p_icom
->leaf;

2558 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2559 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2560 
g_usOutDaIdx
 +(
icom_out_t
);

2561 
p_out
 +(
icom_out_t
);

2563 if(
NULL
 =
g_rc_ic_mac
)

2565 
t
 = 
	`ad_mac_u_dump
(
mpMacTab
, &
mac_cou
);

2566 if(
DRV_OK
 !
t
)

2568 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2569 
nd_r
;

2572 if(0 =
mac_cou
)

2575 
nd_r
;

2578 
g_rc_ic_mac
 = 
	`mloc
(
mac_cou
*(
rc_mac_ic_t
));

2581 if(
NULL
 !
g_rc_ic_mac
)

2583 
	`RC_DBG
(("Alloc successfully\n"));

2584 
tٮ_mac
 = 0;

2585 
nd_mac
 = 0;

2586 
p_lMacTab
 = 
g_rc_ic_mac
;

2588 
ii
=0; ii<
mac_cou
; ii++)

2591 if((
mpMacTab
[
ii
].
ag
) & 0x04)

2594 
	`memy
(
p_lMacTab
->
mac
, 
mpMacTab
[
ii
].
mac_addr
, 6);

2595 
p_lMacTab
->
pt
 = 
mpMacTab
[
ii
].
t
;

2596 
p_lMacTab
 += 1;

2597 
tٮ_mac
 += 1;

2598 
	`RC_DBG
(("P܈[%d]\t", 
mpMacTab
[
ii
].
t
));

2599 
	`RC_DBG
(("Macdress: %02x%02x-%02x%02x-%02x%02x\n",

2600 
mpMacTab
[
ii
].
mac_addr
[0],tempMacTable[ii].mac_addr[1],

2601 
mpMacTab
[
ii
].
mac_addr
[2],tempMacTable[ii].mac_addr[3],

2602 
mpMacTab
[
ii
].
mac_addr
[4],tempMacTable[ii].mac_addr[5]

2610 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2611 
nd_r
;

2616 if(
nd_mac
 >
tٮ_mac
)

2618 if(
NULL
 !
g_rc_ic_mac
)

2620 
	`
(
g_rc_ic_mac
);

2621 
g_rc_ic_mac
 = 
NULL
;

2623 
nd_mac
 = 0;

2624 
tٮ_mac
 = 0;

2625 
nd_r
;

2629 
p_lMacTab
 = 
g_rc_ic_mac
 + 
nd_mac
;

2630 
p_out_mac
 = (
rc_mac_out_ic_t
*)
p_out
;

2631 
p_out_mac
->
rved
 = 0x0001;

2632 
p_out_mac
->
pt
 = 
p_lMacTab
->port;

2633 
	`memy
(
p_out_mac
->
mac
, 
p_lMacTab
->mac, 6);

2634 
nd_mac
++;

2636 
nd_r
:

2638 
g_usOutDaIdx
 = 1446;

2639 
	}
}

2642 
	$rc_mac_ic_oss
(
u8_t
* 
p_
)

2644 
u8_t
 *
p_out
;

2645 
icom_out_t
 *
p_i_out
;

2646 
icom_hdr_t
 *
p_icom
;

2647 
t
 = 
NO_ERROR
;

2648 
rc_ic_mac_t
* 
p_mac
;

2649 
rc_mac_bd_t
 
bd_mac
;

2651 
p_icom
 = (
icom_hdr_t
*)
p_
;

2652 
p_mac
 = (
rc_ic_mac_t
*)(
p_
 + (
icom_hdr_t
));

2653 
p_mac
->
a
)

2655 
MAC_BIND_SET
:

2656 
	`memt
(&
bd_mac
, 0, (
rc_mac_bd_t
));

2657 
	`memy
(
bd_mac
.
mac
, 
p_mac
->mac, 6);

2658 
bd_mac
.
pt
 = 
p_mac
->port;

2659 ()
	`rc_pt_ic_mac_add
(&
bd_mac
);

2661 
MAC_BIND_SET_UNDO
:

2662 
	`memt
(&
bd_mac
, 0, (
rc_mac_bd_t
));

2663 
	`memy
(
bd_mac
.
mac
, 
p_mac
->mac, 6);

2664 
bd_mac
.
pt
 = 
p_mac
->port;

2665 ()
	`rc_pt_ic_mac_d
(&
bd_mac
);

2667 
MAC_STATIC_DISP
:

2668 
	`rc_mac_ic_di
(
p_
);

2674 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2675 
p_i_out
 = (
icom_out_t
*)
p_out
;

2677 
p_i_out
->
p_code
 = 0x00000014;

2678 
p_i_out
->
rved1
 = 0x20582314;

2679 
p_i_out
->
rved2
 = 0x000000e0;

2680 
p_i_out
->
rved3
 = 0x00002000;

2681 
p_i_out
->
af
 = 
p_icom
->leaf;

2682 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2683 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2684 
g_usOutDaIdx
 +(
icom_out_t
);

2685 
	}
}

2687 
	$rc_mac_g_ic_mui
(
u8_t
* 
p_
)

2689 
u8_t
 *
p_out
;

2690 
icom_out_t
 *
p_i_out
;

2691 
sys_twk_t
 
fo
;

2692 
icom_hdr_t
 *
p_icom
;

2693 
t
 = 
NO_ERROR
;

2695 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2696 
p_i_out
 = (
icom_out_t
*)
p_out
;

2698 
p_i_out
->
p_code
 = 0x00010540;

2699 
p_i_out
->
rved1
 = 0x00002314;

2700 
p_i_out
->
rved2
 = 0x052c00e0;

2701 
p_i_out
->
rved3
 = 0x00002000;

2702 
p_i_out
->
af
 = 
p_icom
->leaf;

2703 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2704 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2705 
g_usOutDaIdx
 +(
icom_out_t
);

2706 
	}
}

2709 
	$icom_dowd_cfig_1
(
u8_t
* 
p_
)

2711 
u8_t
 *
p_out
;

2712 
icom_out_t
 *
p_i_out
;

2713 
sys_twk_t
 
fo
;

2714 
icom_hdr_t
 *
p_icom
;

2715 
t
 = 
NO_ERROR
;

2716 
rc_mng_vn_t
 * 
p_mng_vn
;

2718 
p_icom
 = (
icom_hdr_t
*)
p_
;

2719 
p_icom
->
af
)

2721 
RAISECOM_LEAF_SET_MNG_VLAN
:

2722 
p_mng_vn
 = (
rc_mng_vn_t
*)(
p_
 + (
icom_hdr_t
));

2723 if((
p_mng_vn
->
vn
<1) || (p_mng_vlan->vlan>4094))

2725 
	`RC_DBG
(("MANAGEMENT VLAN PARAMETERS ERROR!\n"));

2729 
t
 = 
	`el_mgmtvn_ossg
(
p_mng_vn
->
vn
);

2730 if(
t
 !
NO_ERROR
)

2732 
	`RC_DBG
(("MANAGEMENT VLAN SET FAILED!\n"));

2736 
RAISECOM_LEAF_SET_STATIC_MAC
:

2738 
	`rc_mac_ic_oss
(
p_
);

2740 
RAISECOM_LEAF_GET_MULTICAST_MAC
:

2743 
	`rc_mac_g_ic_mui
(
p_
);

2749 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

2750 
p_i_out
 = (
icom_out_t
*)
p_out
;

2752 
p_i_out
->
p_code
 = 0x00000014;

2753 
p_i_out
->
rved1
 = 0x20582314;

2754 
p_i_out
->
rved2
 = 0x000000e0;

2755 
p_i_out
->
rved3
 = 0x00002000;

2756 
p_i_out
->
af
 = 0x000073e9;

2757 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

2758 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

2759 
g_usOutDaIdx
 +(
icom_out_t
);

2761 
	}
}

2766 
	$rc_t_ass_mk_l2
(
rc_ass_mk_t
* 
p_mk
, 
rc_ass_mk_l2_t
* 
p_fed
)

2768 
u8_t
 
aucZo
[6] = {0};

2769 
m_asmk_rubody_t
 
sRu
;

2770 
m_asmk_fldbody_t
 
sFld
;

2772 if((
NULL
==
p_fed
|| (NULL==
p_mk
))

2778 
sRu
.
hPriMk
 = (
p_mk
->
i
 & 0x0f);

2779 
sRu
.
edOfRu
 = 1;

2780 
sRu
.
nOfRu
 = 0x0b;

2781 
sRu
.
numOfFld
 = 1;

2782 
sRu
.
queueMd
 = 
p_mk
->
queue_m
;

2783 if(
p_fed
->
h_ty
 != 0)

2785 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_ETHER_TYPE
;

2786 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2787 
sFld
.
mchVue
[4] = (
u8_t
)(
p_fed
->
h_ty
>>8);

2788 
sFld
.
mchVue
[5] = (
u8_t
)(
p_fed
->
h_ty
);

2789 
y
;

2791 if(
	`memcmp
(
p_fed
->
smac
, 
aucZo
, (aucZero)))

2793 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_SA_MAC
;

2794 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2795 
	`memy
(
sFld
.
mchVue
, 
p_fed
->
smac
, 6);

2796 
y
;

2799 if(
	`memcmp
(
p_fed
->
dmac
, 
aucZo
, (aucZero)))

2801 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_DA_MAC
;

2802 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2803 
	`memy
(
sFld
.
mchVue
, 
p_fed
->
smac
, 6);

2804 
y
;

2809 
y
:

2810 i(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPc
(
p_mk
->
pt_dex
&0xf, 0, &
sRu
, &
sFld
))

2812 
	`tf
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

2815 
	}
}

2817 
	$rc_t_ass_mk_l3
(
rc_ass_mk_t
* 
p_mk
, 
rc_ass_mk_l3_t
* 
p_fed
)

2819 
m_asmk_rubody_t
 
sRu
;

2820 
m_asmk_fldbody_t
 
sFld
;

2822 if((
NULL
==
p_fed
|| (NULL==
p_mk
))

2828 
sRu
.
hPriMk
 = (
p_mk
->
i
 & 0x0f) - 0x8;

2829 
sRu
.
edOfRu
 = 1;

2830 
sRu
.
nOfRu
 = 0x0b;

2831 
sRu
.
numOfFld
 = 1;

2832 
sRu
.
queueMd
 = 
p_mk
->
queue_m
;

2833 if(
p_fed
->
_ty
 != 0)

2835 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_IP_TYPE
;

2836 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2837 
sFld
.
mchVue
[5] = 
p_fed
->
_ty
;

2838 
y
;

2840 if(
p_fed
->
s
!= 0)

2842 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_SRC_IP
;

2843 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2844 
	`memy
(&
sFld
.
mchVue
[2], &(
p_fed
->
s
), 4);

2845 
y
;

2848 if(
p_fed
->
l4_t
 != 0)

2850 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_L4_SRC_PORT
;

2851 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2852 
sFld
.
mchVue
[4] = (
u8_t
)(
p_fed
->
l4_t
 >> 8);

2853 
sFld
.
mchVue
[5] = (
u8_t
)(
p_fed
->
l4_t
);

2854 
y
;

2857 if(
p_fed
->
d
 != 0)

2859 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_DST_IP
;

2860 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2861 
	`memy
(&
sFld
.
mchVue
[2], &(
p_fed
->
d
), 4);

2862 
y
;

2865 if(
p_fed
->
l4_dpt
 != 0)

2867 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_L4_DST_PORT
;

2868 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2869 
sFld
.
mchVue
[4] = (
u8_t
)(
p_fed
->
l4_dpt
 >> 8);

2870 
sFld
.
mchVue
[5] = (
u8_t
)(
p_fed
->
l4_dpt
);

2871 
y
;

2875 
y
:

2876 i(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPc
(
p_mk
->
pt_dex
&0xf, 0, &
sRu
, &
sFld
))

2878 
	`tf
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

2881 
	}
}

2883 
	$rc_t_ass_mk_ds
(
rc_ass_mk_t
* 
p_mk
)

2885 
m_asmk_rubody_t
 
sRu
;

2886 
m_asmk_fldbody_t
 
sFld
;

2887 if(
NULL
 =
p_mk
)

2891 
sRu
.
hPriMk
 = (
p_mk
->
i
&0x0f);

2892 
sRu
.
edOfRu
 = 1;

2893 
sRu
.
nOfRu
 = 0x0b;

2894 
sRu
.
numOfFld
 = 1;

2895 
sRu
.
queueMd
 = 
p_mk
->
queue_m
;

2897 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_IP_DSCP
;

2898 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2899 
sFld
.
mchVue
[5] = 
p_mk
->
vue_dex
;

2901 i(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPc
(
p_mk
->
pt_dex
&0xf, 0, &
sRu
, &
sFld
))

2903 
	`tf
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

2905 
	}
}

2907 
	$rc_t_ass_mk_vn
(
rc_ass_mk_t
* 
p_mk
)

2909 
m_asmk_rubody_t
 
sRu
;

2910 
m_asmk_fldbody_t
 
sFld
;

2911 if(
NULL
 =
p_mk
)

2915 
sRu
.
hPriMk
 = (
p_mk
->
i
 & 0x0f) - 0x8;

2916 
sRu
.
edOfRu
 = 1;

2917 
sRu
.
nOfRu
 = 0x0b;

2918 
sRu
.
numOfFld
 = 1;

2919 
sRu
.
queueMd
 = 
p_mk
->
queue_m
;

2921 
sFld
.
fldSe
 = 
OAM_CTC_CLS_FIELD_TYPE_VLAN_ID
;

2922 
sFld
.
ݔ
 = 
OAM_CLF_EQUAL
;

2923 
sFld
.
mchVue
[4] = (
u8_t
)(
p_mk
->
vue_dex
 >> 8);

2924 
sFld
.
mchVue
[5] = (
u8_t
)(
p_mk
->
vue_dex
);

2925 i(
NO_ERROR
 !
	`DRV_CtcAddClfRmkByPc
(
p_mk
->
pt_dex
&0xf, 0, &
sRu
, &
sFld
))

2927 
	`tf
("\nfunc:%s,e:%d\n",
__FUNCTION__
, 
__LINE__
);

2929 
	}
}

2940 
	$rc_ass_mk_oss
(
u8_t
* 
p_
)

2942 
u8_t
 
ii
 = 0;

2943 
u8_t
 
j
 = 0;

2944 
u8_t
 
k
;

2945 
rc_ass_mk_t
* 
p_ass_hd
;

2946 
u8_t
 
rusNum
 = 0;

2947 
u8_t
* 
p_c
 = 
p_
;

2948 
rc_ass_mk_l2_t
* 
p_fed
;

2949 
rc_ass_mk_l3_t
* 
p_l3_fed
;

2950 
u8_t
 *
p_pos_fed
;

2951 
rc_ass_dex_t
 
auiCss
[4];

2953 if(
NULL
 =
p_
)

2958 if(
ucFDownCfig
 != 0)

2963 
ucFDownCfig
 = 1;

2964 
	`memt
(&
auiCss
, 0, (
rc_ass_dex_t
)*4);

2967 
ii
=0; ii<4; ii++)

2969 
p_ass_hd
 = (
rc_ass_mk_t
*)
p_
;

2971 if((
p_ass_hd
->
pt_dex
&0xfffffff0) != 0x009a24f0)

2975 
auiCss
[
ii
].
ass_ty
 = 
p_ass_hd
->
i
&0xf0;

2976 
auiCss
[
ii
].
uiIndex
 = 
p_ass_hd
->
vue_dex
;

2977 
p_
 +(
rc_ass_mk_t
);

2978 
rusNum
 ++;

2981 
p_ass_hd
 = (
rc_ass_mk_t
*)
p_c
;

2982 
ii
=0; ii<
rusNum
; ii++)

2984 
p_ass_hd
->
i
 & 0xf0)

2988 
p_pos_fed
 = (
p_c
 + (
rc_ass_mk_t
)*
rusNum
);

2991 
j
=0; j<
rusNum
; j++)

2993 
p_fed
 = (
rc_ass_mk_l2_t
*)
p_pos_fed
;

2994 if(
p_ass_hd
->
vue_dex
 =
p_fed
->value_index)

2996 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

2997 
	`rc_t_ass_mk_l2
(
p_ass_hd
, 
p_fed
);

3004 
k
=0; k<
rusNum
; k++)

3006 if(
auiCss
[
k
].
uiIndex
 =
p_fed
->
vue_dex
)

3011 if(
k
 =
rusNum
)

3013 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3016 if(
auiCss
[
k
].
ass_ty
 == 0x10)

3019 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3020 
p_pos_fed
 +(
rc_ass_mk_l2_t
);

3022 if(
auiCss
[
k
].
ass_ty
 == 0x00)

3025 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3026 
p_pos_fed
 +(
rc_ass_mk_l3_t
);

3030 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3038 
p_pos_fed
 = (
p_c
 + (
rc_ass_mk_t
)*
rusNum
);

3039 
j
=0; j<
rusNum
; j++)

3041 
p_l3_fed
 = (
rc_ass_mk_l3_t
*)
p_pos_fed
;

3042 if(
p_ass_hd
->
vue_dex
 =
p_l3_fed
->value_index)

3044 
	`rc_t_ass_mk_l3
(
p_ass_hd
, 
p_l3_fed
);

3045 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3052 
k
=0; k<
rusNum
; k++)

3054 if(
auiCss
[
k
].
uiIndex
 =
p_l3_fed
->
vue_dex
)

3059 
	`RC_DBG
(("[FILE] %[LINE] %d %d\n", 
__FILE__
, 
__LINE__
, 
p_ass_hd
->
vue_dex
));

3060 if(
k
 =
rusNum
)

3062 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3065 if(
auiCss
[
k
].
ass_ty
 == 0x10)

3068 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3069 
p_pos_fed
 +(
rc_ass_mk_l2_t
);

3071 if(
auiCss
[
k
].
ass_ty
 == 0x00)

3074 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3075 
p_pos_fed
 +(
rc_ass_mk_l3_t
);

3079 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3086 
	`rc_t_ass_mk_ds
(
p_ass_hd
);

3089 
	`rc_t_ass_mk_vn
(
p_ass_hd
);

3093 
p_ass_hd
++;

3095 
	}
}

3099 
	$icom_dowd_cfig_2
(
u8_t
* 
p_
)

3101 
u8_t
 *
p_out
;

3102 
icom_out_t
 *
p_i_out
;

3103 
icom_hdr_t
 *
p_icom
;

3104 
iR
 = 
NO_ERROR
;

3105 
rc_cfig_down_u_t
* 
p_u
;

3106 
rc_cfig_down_pt_t
* 
p_pt
;

3107 
u32_t
 
ai
 = 0;

3108 
u32_t
 
iܙy
;

3109 
u32_t
 
deu_vn
;

3110 
u32_t
 
vi
[32];

3111 
u32_t
 
vnIndex
 = 0;

3112 
u8_t
 *
p_pos_mk
;

3113 
ii
 = 0;

3114 
j
 = 0;

3115 
t
;

3116 
u32_t
 
deuTag
, 
dTag
, 
wTag
;

3117 
u32_t
 
uiVnPa
;

3118 
rc_i__t
 *
p_i_
;

3119 
u8_t
 *
p_c
;

3120 
u16_t
 
i_ru_num
 = 0;

3122 
p_icom
 = (
icom_hdr_t
*)
p_
;

3123 
p_
 +(
icom_hdr_t
);

3125 
p_u
 = (
rc_cfig_down_u_t
*)
p_
;

3126 
p_
 +(
rc_cfig_down_u_t
);

3127 
p_c
 = 
p_
;

3129 
iR
 = 
	`odmMuiSwchS
(
p_u
->
mvn_mode
);

3130 
	`RC_DBG
(("muti vmod%s\n", 
p_u
->
mvn_mode
==0?"snooping":"ctc-ctrl"));

3131 i(
NO_ERROR
 !
iR
)

3133 
	`RC_DBG
(("\nFailedo set MULTICAST vlan.\n"));

3137 
p_i_
 = (
rc_i__t
*)(
p_c
 + (
rc_cfig_down_pt_t
)*4);

3139 
j
=0; j<32; j++)

3142 if(
p_i_
->
dex
 == 0x009a)

3145 if((
p_i_
->
dTag
&0xffff0000) != 0)

3150 
i_ru_num
++;

3151 
p_i_
++;

3154 
	`RC_DBG
(("iڃny %d\n", 
i_ru_num
));

3155 
t
=1;port<=4;port++)

3157 
p_pt
 = (
rc_cfig_down_pt_t
*)
p_
;

3158 
p_
 +(
rc_cfig_down_pt_t
);

3160 
	`RC_DBG
(("S܈%dhy_adm_ %x\n", 
t
, 
p_pt
->
phy_adm_
));

3161 
ai
 = (
p_pt
->
phy_adm_
 & 
RC_CONFIG_FLOW_CONTROL_MASK
)==0?0:1;

3163 ()
	`DRV_SPtFlowCl
(
t
, 
ai
);

3165 
	`RC_DBG
(("p܈%d flow cڌ %s\n", 
t
, 
ai
==1?"enable":"disable"));

3167 
ai
 = (
p_pt
->
phy_adm_
 & 
RC_CONFIG_PHY_STATE_MASK
)==0?0:1;

3168 ()
	`DRV_SPtLkS
 (
t
, 
ai
);

3169 
	`RC_DBG
(("p܈%dhy s %s\n", 
t
, 
ai
==0?"enable":"disable"));

3170 
	`DRV_SPtLeRe
(
t
, 
DIRECT_IN
, 
p_pt
->
picg__c
);

3171 
	`DRV_SPtLeRe
(
t
, 
DIRECT_OUT
, 
p_pt
->
picg_ex_c
);

3172 (
p_pt
->
phy_adm_
 & 
RC_CONFIG_VLAN_MODE_MASK
) >> 4)

3175 
iR
 = 
	`CTC_DRV_STntVn
(
t
);

3176 
	`RC_DBG
(("p܈%dnmode\n", 
t
));

3177 i(
NO_ERROR
 !
iR
)

3179 
	`RC_DBG
(("\nFaedأvf܅܈%d.\n",
t
));

3183 
iܙy
 = 
p_pt
->
tiveVn
>>13;

3184 
deu_vn
 = (
p_pt
->
tiveVn
&0x1fff)>>1;

3186 
iR
 = 
	`CTC_DRV_STagVn
(
t
, 
deu_vn
, 
iܙy
);

3187 
	`RC_DBG
(("p܈%daged mode\n", 
t
));

3188 i(
NO_ERROR
 !
iR
)

3190 
	`RC_DBG
(("\nFaedأg vf܅܈%d.\n",
t
));

3194 
	`vosMemS
(
vi
, 0, (vlanlist));

3195 
vnIndex
 = 0;

3196 
ii
=0; ii<8; ii++)

3199 
p_i_
 = (
rc_i__t
*)(
p_c
 + (
rc_cfig_down_pt_t
)*4);

3200 if(0 =
p_pt
->
vn_e_dex
[
ii
])

3205 
j
=0; j<
i_ru_num
; j++)

3209 if(
p_i_
->
dex
 =
p_pt
->
vn_e_dex
[
ii
])

3211 
dTag
 = (
p_i_
->oldTag&0x1FFF)>>1;

3212 
wTag
 = (
p_i_
->newTag&0x1FFF)>>1;

3213 
vi
[
vnIndex
++] = 
dTag
;

3214 
vi
[
vnIndex
++] = 
wTag
;

3217 if(
p_i_
->
dex
 == 0x009a)

3220 if((
p_i_
->
dTag
&0xffff0000) != 0)

3225 
p_i_
++;

3228 
deuTag
 = (
p_pt
->
tiveVn
&0x1fff)>>1;

3229 
iR
 = 
	`CTC_DRV_STniVn
(
t
, 
deuTag
, 
vi
, (
vnIndex
/2), \

3230 
CTC_VLAN_MODE_TRANSLATION
);

3231 i(
NO_ERROR
 !
iR
)

3233 
	`RC_DBG
(("\nFaedأi f܅܈%d.\n",
t
));

3240 
ai
 = (
p_pt
->
phy_adm_
 & 
RC_CONFIG_ISOLATION_MASK
)==0?0:1;

3241 ()
	`DRV_SPtIsީi
(
t
, 
ai
);

3243 
iR
 = 
	`rc_t_pt_duex
(
t
, 
p_pt
->
mode
);

3245 
ai
 = (
RC_CONFIG_MVLAN_STRIP_MASK
 & 
p_pt
->
mvn_g_r
)==0 ?0:1;

3246 
iR
 = 
	`odmMuiTagrS
(
t
,
ai
);

3247 i(
NO_ERROR
 !
iR
)

3249 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3252 
ai
 = (
RC_CONFIG_MVLAN_FASTLEAVE_MASK
 & 
p_pt
->
mvn_g_r
)==0 ?0:1;

3253 ()
	`odmMuiFaaveModeS
(
ai
);

3254 
	`RC_DBG
(("p܈%d faav%s\n", 
t
, 
ai
==0?"disable":"enable"));

3256 
	`RC_DBG
(("p܈%d max grou%d\n", 
t
, 
p_pt
->
mvn_chl
));

3257 
iR
 = 
	`odmMuiGroupMaxNumS
(
t
, 
p_pt
->
mvn_chl
);

3258 i(
NO_ERROR
 !
iR
)

3260 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3263 
	`odmMuiVnCˬ
(
t
);

3265 
BOOL
 
	`CTC_CheckVidVidFMcvn
(
u32_t
 
uiMcVid
);

3266 if(
p_pt
->
mvn
)

3268 i(
TRUE
 =
	`CTC_CheckVidVidFMcvn
(
p_pt
->
mvn
))

3270 
	`RC_DBG
(("%s, %d\n", 
__FILE__
, 
__LINE__
));

3271 
	`odmMuiVnAdd
(
t
, 
p_pt
->
mvn
);

3275 
	`tf
("p܈%d mui v%d\n", 
t
, 
p_pt
->
mvn
);

3276 
	`tf
("p܈%dicg_ex_c %d\n", 
t
, 
p_pt
->
picg_ex_c
);

3277 
	`tf
("p܈%dicg_ex_p %d\n", 
t
, 
p_pt
->
picg_ex_p
);

3278 
	`tf
("p܈%dicg__cb%d\n\n", 
t
, 
p_pt
->
picg__cbs
);

3281 
ai
 = 
p_pt
->
ass_mk
==0 ? 0:1;

3282 
	`RC_DBG
(("p܈%d csmk %s\n", 
t
, 
ai
==0?"disable":"enable"));

3283 if(
ai
)

3285 
	`RC_DBG
(("p܈%d csmk %d\n", 
t
, 
p_pt
->
ass_mk
));

3291 
p_pos_mk
 = (
p_c
 + (
rc_cfig_down_pt_t
)*4 + 
i_ru_num
*(
rc_i__t
));

3293 
	`rc_ass_mk_oss
(
p_pos_mk
);

3296 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3297 
p_i_out
 = (
icom_out_t
*)
p_out
;

3298 
p_i_out
->
p_code
 = 0x00000014;

3299 
p_i_out
->
rved1
 = 0x20582314;

3300 
p_i_out
->
rved2
 = 0x00000100;

3301 
p_i_out
->
rved3
 = 0x00002000;

3302 
p_i_out
->
af
 = 0x00001005;

3303 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3304 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3305 
g_usOutDaIdx
 +(
icom_out_t
);

3307 
	}
}

3308 
	$icom_dowd_cfig_f_i
(
u8_t
* 
p_
)

3310 
u8_t
 *
p_out
;

3311 
icom_out_t
 *
p_i_out
;

3312 
icom_hdr_t
 *
p_icom
;

3314 
u8_t
 * 
p_pos
 = 
NULL
;

3315 
u8_t
 
cmp_vue
[6] = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff};

3316 
p_icom
 = (
icom_hdr_t
*)
p_
;

3319 #ide
CONFIG_PRODUCT_5500


3321 
p_pos
 = 
p_
 + (
rc_cfig_down_u_t
+ (
icom_hdr_t
)-8;

3322 if(!
	`memcmp
(
p_pos
, 
cmp_vue
, 6))

3324 
	`icom_dowd_cfig_2
(
p_
);

3325 
nd_r
;

3328 
p_pos
 = 
p_
 + (
rc_cfig_down_u_t
+ (
icom_hdr_t
);

3329 if(!
	`memcmp
(
p_pos
, 
cmp_vue
, 6))

3331 
	`icom_dowd_cfig_2
(
p_
 + 8);

3332 
nd_r
;

3336 
p_pos
 = 
p_
 + (
rc_cfig_down_u_t
+ (
icom_hdr_t
)+8;

3337 if(!
	`memcmp
(
p_pos
, 
cmp_vue
, 6))

3339 
	`icom_dowd_cfig_2
(
p_
 + 16);

3340 
nd_r
;

3344 
p_pos
 = 
p_
 + (
rc_cfig_down_u_t
+ (
icom_hdr_t
)+16;

3345 if(!
	`memcmp
(
p_pos
, 
cmp_vue
, 6))

3347 
	`icom_dowd_cfig_2
(
p_
 + 24);

3348 
nd_r
;

3352 
p_pos
 = 
p_
 + (
rc_cfig_down_u_t
+ (
icom_hdr_t
)+24;

3353 if(!
	`memcmp
(
p_pos
, 
cmp_vue
, 6))

3355 
	`icom_dowd_cfig_2
(
p_
 + 32);

3356 
nd_r
;

3360 
p_icom
->
p_code
)

3376 
	`icom_dowd_cfig_2
(
p_
 + 16);

3396 
	`icom_dowd_cfig_2
(
p_
 + 24);

3405 
	`icom_dowd_cfig_2
(
p_
 + 32);

3409 
	`icom_dowd_cfig_2
(
p_
 + 8);

3412 
	`icom_dowd_cfig_2
(
p_
);

3418 
nd_r
:

3420 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3421 
p_i_out
 = (
icom_out_t
*)
p_out
;

3422 
p_i_out
->
p_code
 = 0x00000014;

3423 
p_i_out
->
rved1
 = 0x20582314;

3424 
p_i_out
->
rved2
 = 0x00000100;

3425 
p_i_out
->
rved3
 = 0x00002000;

3426 
p_i_out
->
af
 = 0x00001005;

3427 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3428 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3429 
g_usOutDaIdx
 +(
icom_out_t
);

3430 
	}
}

3449 
	$icom_t_fr
(
u8_t
* 
p_
)

3451 
u8_t
 *
p_out
;

3452 
icom_out_t
 *
p_i_out
;

3453 
icom_hdr_t
 *
p_icom
;

3454 
rc_fr_1_t
 *
p_fr1
 = 
NULL
;

3455 
rc_fr_2_t
 *
p_fr2
 = 
NULL
;

3456 
t
 = 
NO_ERROR
;

3457 
u32_t
 
uVue_t
 = 0;

3458 
u8_t
 
aVue_t
[6] = {0};

3459 
u8_t
 
zos
[6];

3460 
u8_t
 
frTy
 = 0;

3461 
u32_t
 
frEmyEry
;

3462 
u8_t
 
a
;

3463 
u8_t
 
pt
;

3464 
p_icom
 = (
icom_hdr_t
*)
p_
;

3465 
p_
 +(
icom_hdr_t
);

3467 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3469 
p_icom
->
af
)

3473 
p_fr1
 = (
rc_fr_1_t
 *)
p_
;

3474 
a
 = 
p_fr1
->
ai
;

3475 
pt
 = 
p_fr1
->port;

3477 if(0 !
p_fr1
->
_
)

3479 
frTy
 = 
ACL_TRUST_IPV4_PROTOCOL
;

3480 
uVue_t
 = 
p_fr1
->
_
;

3483 if(0 !
p_fr1
->
t
)

3485 
frTy
 = 
ACL_TRUST_TCP_SPORT
;

3486 
uVue_t
 = 
p_fr1
->
t
;

3489 if(0 !
p_fr1
->
dpt
)

3491 
frTy
 = 
ACL_TRUST_TCP_DPORT
;

3492 
uVue_t
 = 
p_fr1
->
dpt
;

3495 if(0 !
p_fr1
->
s
)

3497 
frTy
 = 
ACL_TRUST_IPV4_SIP
;

3498 
uVue_t
 = 
p_fr1
->
s
;

3501 if(0 !
p_fr1
->
d
)

3503 
frTy
 = 
ACL_TRUST_IPV4_DIP
;

3504 
uVue_t
 = 
p_fr1
->
d
;

3509 
p_fr2
 = (
rc_fr_2_t
*)
p_
;

3510 
a
 = 
p_fr2
->
ai
;

3511 
pt
 = (
u8_t
)(
p_fr2
->port);

3513 
	`memt
(
zos
, 0, 6);

3514 if(0 !
p_fr2
->
h_ty
)

3516 
frTy
 = 
ACL_TRUST_ETHTYPE
;

3517 
uVue_t
 = 
p_fr2
->
h_ty
;

3520 if(
	`memcmp
(
zos
, 
p_fr2
->
smac
, 6))

3522 
frTy
 = 
ACL_TRUST_SMAC
;

3523 
	`memy
(
aVue_t
, 
p_fr2
->
smac
, 6);

3526 if(
	`memcmp
(
zos
, 
p_fr2
->
dmac
, 6))

3528 
	`memy
(
aVue_t
, 
p_fr2
->
dmac
, 6);

3529 
frTy
 = 
ACL_TRUST_DMAC
;

3533 
	`RC_DBG
(("%S UNKOWN BRANTCH [%x]\n", 
__FILE__
, 
p_icom
->
af
));

3536 if(0 !
frTy
)

3539 if(
RAISECOM_NO
 =
a
)

3541 if((
ACL_TRUST_DMAC
!=
frTy
&& (
ACL_TRUST_SMAC
!=filterType))

3546 
	`memy
(
aVue_t
, &
uVue_t
, 4);

3550 if((
ACL_TRUST_TCP_DPORT
==
frTy
|| (
ACL_TRUST_TCP_SPORT
==filterType))

3552 
	`fr_a_d_lol
((
u8_t
)
frTy
+2, 
aVue_t
);

3555 
	`fr_a_d_lol
((
u8_t
)
frTy
, 
aVue_t
);

3557 if(
RAISECOM_SET
 =
a
)

3559 
t
 = 
	`Iol_GUniUt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
frEmyEry
);

3560 if(
t
 !
DRV_OK
)

3562 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3565 if((
ACL_TRUST_DMAC
==
frTy
|| (
ACL_TRUST_SMAC
==filterType))

3568 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

3569 
frTy
,

3570 
ACL_DIRECTION_BOTH
,

3571 
aVue_t
);

3572 
	`RC_DBG
(("mac : %02x%02x-%02x%02x-%02x%02x\n",

3573 
aVue_t
[0],aValue_set[1],

3574 
aVue_t
[2],aValue_set[3],

3575 
aVue_t
[4],

3576 
aVue_t
[5]

3578 
	`fr_a_add_lol
((
u8_t
)
frTy
, 
frEmyEry
, 
aVue_t
);

3584 
	`memy
(
aVue_t
, &
uVue_t
, 4);

3585 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

3586 
frTy
,

3587 
ACL_DIRECTION_BOTH
,

3588 &
uVue_t
);

3590 
t
 = 
	`fr_a_add_lol
(
frTy
, 
frEmyEry
, 
aVue_t
);

3591 if(
NO_ERROR
 !
t
)

3593 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3598 if((
ACL_TRUST_TCP_DPORT
==
frTy
|| (
ACL_TRUST_TCP_SPORT
==filterType))

3600 
t
 = 
	`Iol_GUniUt32
(
DRV_CMD_ACL_GET_EMPTY_ENTRY
, &
frEmyEry
);

3601 if(
t
 !
DRV_OK
)

3603 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3606 
t
 = 
	`Iol_AddAFr
(
INVALID_PORT
, 
frEmyEry
,

3607 
frTy
+2,

3608 
ACL_DIRECTION_BOTH
,

3609 &
uVue_t
);

3611 
t
 = 
	`fr_a_add_lol
(
frTy
+2, 
frEmyEry
, 
aVue_t
);

3612 if(
NO_ERROR
 !
t
)

3614 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3623 
	`RC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

3627 
p_i_out
 = (
icom_out_t
*)
p_out
;

3628 
p_i_out
->
p_code
 = 0x00640014;

3629 
p_i_out
->
rved1
 = 0x61742314;

3630 
p_i_out
->
rved2
 = 0x000000e0;

3631 
p_i_out
->
rved3
 = 0x00002000;

3632 
p_i_out
->
af
 = 
p_icom
->leaf;

3633 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3634 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3635 
g_usOutDaIdx
 +(
icom_out_t
);

3637 
	}
}

3639 
	$icom_t_mr_mڙ
(
u8_t
* 
p_
)

3641 
u8_t
 *
p_out
;

3642 
icom_out_t
 *
p_i_out
;

3643 
icom_hdr_t
 *
p_icom
;

3644 
rc_pt_mr_t
 * 
p_pt_mr
;

3645 
rc_pt_mڙ_t
 *
p_pt_mڙ
;

3646 
u32_t
 
t
;

3647 
u8_t
 
dex
;

3648 
u8_t
 
mr_dei
;

3649 
t
 = 
NO_ERROR
;

3650 
timev
 
ϡTV
;

3651 
timev
 
nowTV
;

3652 
u8_t
 
mr__ag
 = 0;

3653 
mr_ai
 = 0;

3654 
u8_t
 
mڙ_pt_s
 = 0;

3655 
rc_mr_a_t
 *
p_mr_a
;

3658 
p_icom
 = (
icom_hdr_t
*)
p_
;

3659 
p_
 +(
icom_hdr_t
);

3667 
p_pt_mr
 = (
rc_pt_mr_t
*)
p_
;

3668 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3670 
p_pt_mr
->
mode
)

3676 
p_mr_a
 = (
rc_mr_a_t
*)
p_
;

3678 if(
p_mr_a
->
a
 == 2)

3680 
dex
=1; index<5; index++)

3682 if(
mڙ_pt_s
 =
dex
)

3686 ()
	`DRV_DMr
(
dex
+1, 
BOTH_MIRROR
);

3688 ()
	`DRV_SMڙ
(
mڙ_pt_s
+1 , 0);

3690 
mڙ_pt_s
 = 0;

3691 
nd_r
;

3695 
p_pt_mڙ
 = (
rc_pt_mڙ_t
*)
p_
;

3697 if(
mڙ_pt_s
 && (mڙ_pt_!
p_pt_mڙ
->
pt
))

3700 
t
 = 
ERROR
;

3701 
nd_r
;

3703 
mڙ_pt_s
 = 
p_pt_mڙ
->
pt
;

3705 ()
	`DRV_SMڙ
(
p_pt_mڙ
->
pt
+1, 1);

3706 
nd_r
;

3710 if((0!=
p_pt_mr
->
gss_mask_uk
|| !
mڙ_pt_s
)

3712 
t
 = 
ERROR
;

3713 
nd_r
;

3716 
p_pt_mr
->
gss_mask
)

3719 
t
 = 1;

3720 
mr__ag
 = 1;

3721 
mr_ai
 = 1;

3725 
t
 = 2;

3726 
mr__ag
 = 1;

3727 
mr_ai
 = 1;

3730 
t
 = 3;

3731 
mr__ag
 = 1;

3732 
mr_ai
 = 1;

3735 
t
 = 4;

3736 
mr__ag
 = 1;

3737 
mr_ai
 = 1;

3740 
t
 = 0;

3744 
t
 = 
ERROR
;

3745 
nd_r
;

3749 
	`gtimeofday
 (&
ϡTV
, 
NULL
);

3750 
mr_dei
 = 
IN_MIRROR
;

3758 if((0!=
p_pt_mr
->
egss_mask_uk
|| !
mڙ_pt_s
)

3760 
t
 = 
ERROR
;

3761 
nd_r
;

3764 
p_pt_mr
->
egss_mask
)

3767 
t
 = 1;

3768 
mr_ai
 = 1;

3772 
t
 = 2;

3773 
mr_ai
 = 1;

3776 
t
 = 3;

3777 
mr_ai
 = 1;

3780 
t
 = 4;

3781 
mr_ai
 = 1;

3785 
t
 = 0;

3788 
t
 = 
ERROR
;

3789 
nd_r
;

3792 
	`gtimeofday
(&
nowTV
, 
NULL
);

3793 if(
mr__ag
)

3795 if(((
nowTV
.
tv_c
-
ϡTV
.tv_sec)*1000000 +nowTV.tv_sec-lastTV.tv_sec) > 2000000)

3799 
mr_dei
 = 
OUT_MIRROR
;

3803 
mr_dei
 = 
BOTH_MIRROR
;

3808 if(((
nowTV
.
tv_c
-
ϡTV
.tv_sec)*1000000 +nowTV.tv_sec-lastTV.tv_sec) > 2000000)

3810 
mr_dei
 = 
OUT_MIRROR
;

3814 
mr_dei
 = 
BOTH_MIRROR
;

3818 
mr__ag
 = 0;

3821 
t
 = 
ERROR
;

3822 
nd_r
;

3826 if(1 =
mr_ai
)

3829 if(
mڙ_pt_s
 =
t
)

3831 
t
 = 
ERROR
;

3832 
nd_r
;

3836 ()
	`DRV_DMr
(
t
+1, 
BOTH_MIRROR
);

3838 ()
	`DRV_AddMr
(
t
+1, 
mr_dei
);

3843 
dex
=1; index<=4; index++)

3845 if(
mڙ_pt_s
 =
dex
)

3850 ()
	`DRV_DMr
(
dex
+1, 
mr_dei
);

3854 
nd_r
:

3855 
p_i_out
 = (
icom_out_t
*)
p_out
;

3856 
p_i_out
->
p_code
 = 0x00000014;

3857 if(
NO_ERROR
 !
t
)

3859 
p_i_out
->
rved1
 = 0x00002314 +1;

3863 
p_i_out
->
rved1
 = 0x00002314;

3865 
p_i_out
->
rved2
 = 0x000000e0;

3866 
p_i_out
->
rved3
 = 0x00002000;

3867 
p_i_out
->
af
 = 
p_icom
->leaf;

3868 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3869 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3870 
g_usOutDaIdx
 +(
icom_out_t
);

3871 
	}
}

3874 
	$icom_t_home
(
u8_t
* 
p_
)

3876 
u8_t
 *
p_out
;

3877 
icom_out_t
 *
p_i_out
;

3878 
icom_hdr_t
 *
p_icom
;

3879 
u8_t
 
cHoName
[16 + 1]={0};

3880 
t
 = 
ERROR
;

3881 
u16_t
 
home_n
 = 0;

3883 
p_icom
 = (
icom_hdr_t
*)
p_
;

3884 
p_
 +(
icom_hdr_t
);

3887 if(*(
p_
+16) != 0)

3889 
nd_r
;

3892 if(!
	`iha
(*
p_
))

3894 
nd_r
;

3896 
	`memy
(
cHoName
, 
p_
, 16);

3899 
nd_r
:

3900 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3902 
p_i_out
 = (
icom_out_t
*)
p_out
;

3903 
p_i_out
->
p_code
 = 0x00000014;

3904 if(
t
 !
NO_ERROR
)

3906 
p_i_out
->
rved1
 = 0x00002314 + 1;

3910 
p_i_out
->
rved1
 = 0x00002314;

3912 
p_i_out
->
rved2
 = 0x000000e0;

3913 
p_i_out
->
rved3
 = 0x00002000;

3914 
p_i_out
->
af
 = 
p_icom
->leaf;

3915 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3916 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3917 
g_usOutDaIdx
 +(
icom_out_t
);

3918 
	}
}

3920 
	$icom_iic
(
u8_t
* 
p_
)

3922 
u8_t
 *
p_out
;

3923 
icom_out_t
 *
p_i_out
;

3924 
icom_hdr_t
 *
p_icom
;

3926 
p_icom
 = (
icom_hdr_t
*)
p_
;

3927 
p_
 +(
icom_hdr_t
);

3929 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3931 
p_i_out
 = (
icom_out_t
*)
p_out
;

3932 
p_i_out
->
p_code
 = 0x0000012c;

3933 
p_i_out
->
rved1
 = 0xfc982314;

3934 
p_i_out
->
rved2
 = 0x011800e0;

3935 
p_i_out
->
rved3
 = 0x00002000;

3936 
p_i_out
->
af
 = 
p_icom
->leaf;

3937 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3938 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3939 
g_usOutDaIdx
 +(
icom_out_t
);

3942 
	}
}

3945 
	$icom_t_ng_
(
u8_t
* 
p_
)

3947 
u8_t
 *
p_out
;

3948 
icom_out_t
 *
p_i_out
;

3949 
icom_hdr_t
 *
p_icom
;

3951 
p_icom
 = (
icom_hdr_t
*)
p_
;

3952 
p_
 +(
icom_hdr_t
);

3954 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3956 
p_i_out
 = (
icom_out_t
*)
p_out
;

3957 
p_i_out
->
p_code
 = 0x00000014;

3958 
p_i_out
->
rved1
 = 0x00002314;

3959 
p_i_out
->
rved2
 = 0x000000e0;

3960 
p_i_out
->
rved3
 = 0x00002000;

3961 
p_i_out
->
af
 = 
p_icom
->leaf;

3962 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3963 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3964 
g_usOutDaIdx
 +(
icom_out_t
);

3967 
	}
}

3969 
	$icom_t_p
(
u8_t
* 
p_
)

3971 
u8_t
 *
p_out
;

3972 
icom_out_t
 *
p_i_out
;

3973 
icom_hdr_t
 *
p_icom
;

3975 
p_icom
 = (
icom_hdr_t
*)
p_
;

3976 
p_
 +(
icom_hdr_t
);

3978 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

3980 
p_i_out
 = (
icom_out_t
*)
p_out
;

3981 
p_i_out
->
p_code
 = 0x00000014;

3982 
p_i_out
->
rved1
 = 0x00002314;

3983 
p_i_out
->
rved2
 = 0x000000e0;

3984 
p_i_out
->
rved3
 = 0x00002000;

3985 
p_i_out
->
af
 = 
p_icom
->leaf;

3986 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

3987 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

3988 
g_usOutDaIdx
 +(
icom_out_t
);

3990 
	}
}

3993 
	$icom_t_ic_mu_mac
(
u8_t
* 
p_
)

3995 
u8_t
 *
p_out
;

3996 
icom_out_t
 *
p_i_out
;

3997 
icom_hdr_t
 *
p_icom
;

3998 
rc_mac_ic_mul_t
* 
p_mac
;

3999 
rc_mac_bd_t
 
bd_mac
;

4000 
u8_t
 
pt
 = 0;

4002 
p_icom
 = (
icom_hdr_t
*)
p_
;

4003 
p_
 +(
icom_hdr_t
);

4004 
p_mac
 = (
rc_mac_ic_mul_t
*)
p_
;

4006 
p_mac
->
pt_mask
)

4009 
pt
 = 1;

4012 
pt
 = 2;

4015 
pt
 = 3;

4018 
pt
 = 4;

4020 
defu
:

4024 
p_mac
->
a
)

4026 
MAC_BIND_SET
:

4027 
	`memt
(&
bd_mac
, 0, (
rc_mac_bd_t
));

4028 
	`memy
(
bd_mac
.
mac
, 
p_mac
->mac, 6);

4029 
bd_mac
.
pt
 =ort;

4030 
bd_mac
.
vn

p_mac
->vlan;

4031 
	`rc_pt_ic_mac_add
(&
bd_mac
);

4033 
MAC_BIND_SET_UNDO
:

4034 
	`memt
(&
bd_mac
, 0, (
rc_mac_bd_t
));

4035 
	`memy
(
bd_mac
.
mac
, 
p_mac
->mac, 6);

4036 
bd_mac
.
vn

p_mac
->vlan;

4037 
	`rc_pt_ic_mac_d
(&
bd_mac
);

4043 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4045 
p_i_out
 = (
icom_out_t
*)
p_out
;

4046 
p_i_out
->
p_code
 = 0x00010014;

4047 
p_i_out
->
rved1
 = 0x00002314;

4048 
p_i_out
->
rved2
 = 0x000000e0;

4049 
p_i_out
->
rved3
 = 0x00002000;

4050 
p_i_out
->
af
 = 
p_icom
->leaf;

4051 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4052 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4053 
g_usOutDaIdx
 +(
icom_out_t
);

4055 
	}
}

4058 
	$rc_dh_ti82_oss
(
u8_t
* 
p_
)

4060 
u8_t
 *
p_out
;

4061 
icom_out_t
 *
p_i_out
;

4062 
icom_hdr_t
 *
p_icom
;

4063 
rc_dh_t
* 
p_dh_ti82
;

4064 
rc_dh_ti82_fld_t
 *
p_ti82_fld
;

4065 
rc_dh_ti82_mode_t
* 
p_ti82_mode
;

4067 
p_icom
 = (
icom_hdr_t
*)
p_
;

4068 
p_
 +(
icom_hdr_t
);

4070 
p_dh_ti82
 = (
rc_dh_t
*)
p_
;

4072 
p_dh_ti82
->
bnch
)

4079 
p_ti82_mode
 = (
rc_dh_ti82_mode_t
*)
p_
;

4080 
p_ti82_mode
->
mode
)

4106 
p_ti82_fld
 = (
rc_dh_ti82_fld_t
*)
p_
;

4112 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4114 
p_i_out
 = (
icom_out_t
*)
p_out
;

4115 
p_i_out
->
p_code
 = 0x00000014;

4116 
p_i_out
->
rved1
 = 0x20482314;

4117 
p_i_out
->
rved2
 = 0x000000e0;

4118 
p_i_out
->
rved3
 = 0x00002000;

4119 
p_i_out
->
af
 = 
p_icom
->leaf;

4120 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4121 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4122 
g_usOutDaIdx
 +(
icom_out_t
);

4123 
	}
}

4126 
	$icom_dh_fmi
(
u8_t
* 
p_
)

4128 
u8_t
 *
p_out
;

4129 
icom_out_t
 *
p_i_out
;

4130 
icom_hdr_t
 *
p_icom
;

4132 
p_icom
 = (
icom_hdr_t
*)
p_
;

4133 
p_
 +(
icom_hdr_t
);

4135 
p_icom
->
af
)

4139 
	`rc_dh_ti82_oss
(
p_
);

4145 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4147 
p_i_out
 = (
icom_out_t
*)
p_out
;

4148 
p_i_out
->
p_code
 = 0x00000014;

4149 
p_i_out
->
rved1
 = 0x20482314;

4150 
p_i_out
->
rved2
 = 0x000000e0;

4151 
p_i_out
->
rved3
 = 0x00002000;

4152 
p_i_out
->
af
 = 
p_icom
->leaf;

4153 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4154 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4155 
g_usOutDaIdx
 +(
icom_out_t
);

4156 
	}
}

4158 
	$rc_dh_y
(
u8_t
* 
p_
)

4160 
u8_t
 *
p_out
;

4161 
icom_out_t
 *
p_i_out
;

4162 
icom_hdr_t
 *
p_icom
;

4163 
rc_dh_t
* 
p_dh_y
;

4164 
rc_dh_a_t
* 
p_a
;

4166 
p_icom
 = (
icom_hdr_t
*)
p_
;

4167 
p_
 +(
icom_hdr_t
);

4169 
p_dh_y
 = (
rc_dh_t
*)
p_
;

4170 
p_dh_y
->
bnch
)

4175 
p_a
 = (
rc_dh_a_t
*)
p_
;

4176 
p_a
->
a
)

4178 
RAISECOM_ENABLE
:

4180 
RAISECOM_DISABLE
:

4189 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4191 
p_i_out
 = (
icom_out_t
*)
p_out
;

4192 
p_i_out
->
p_code
 = 0x00000014;

4193 
p_i_out
->
rved1
 = 0x20482314;

4194 
p_i_out
->
rved2
 = 0x000000e0;

4195 
p_i_out
->
rved3
 = 0x00002000;

4196 
p_i_out
->
af
 = 
p_icom
->leaf;

4197 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4198 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4199 
g_usOutDaIdx
 +(
icom_out_t
);

4200 
	}
}

4204 
	$icom_dh_y
(
u8_t
* 
p_
)

4206 
u8_t
 *
p_out
;

4207 
icom_out_t
 *
p_i_out
;

4208 
icom_hdr_t
 *
p_icom
;

4210 
p_icom
 = (
icom_hdr_t
*)
p_
;

4212 
p_icom
->
af
)

4216 
	`rc_dh_y
(
p_
);

4221 
p_
 +(
icom_hdr_t
);

4222 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4224 
p_i_out
 = (
icom_out_t
*)
p_out
;

4225 
p_i_out
->
p_code
 = 0x00000014;

4226 
p_i_out
->
rved1
 = 0x20482314;

4227 
p_i_out
->
rved2
 = 0x000000e0;

4228 
p_i_out
->
rved3
 = 0x00002000;

4229 
p_i_out
->
af
 = 
p_icom
->leaf;

4230 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4231 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4232 
g_usOutDaIdx
 +(
icom_out_t
);

4233 
	}
}

4235 
	$rc_dh_oݚg
(
u8_t
* 
p_
)

4237 
u8_t
 *
p_out
;

4238 
icom_out_t
 *
p_i_out
;

4239 
icom_hdr_t
 *
p_icom
;

4240 
rc_dh_t
* 
p_dh_y
;

4241 
rc_dh_a_t
* 
p_a
;

4242 
rc_dh_oݚg_t
 *
p_oݚg
;

4244 
p_icom
 = (
icom_hdr_t
*)
p_
;

4245 
p_
 +(
icom_hdr_t
);

4247 
p_dh_y
 = (
rc_dh_t
*)
p_
;

4249 
p_dh_y
->
bnch
)

4253 
p_a
 = (
rc_dh_a_t
*)
p_
;

4254 
p_a
->
a
)

4256 
RAISECOM_ENABLE
:

4258 
RAISECOM_DISABLE
:

4265 
p_oݚg
 = (
rc_dh_oݚg_t
*)
p_
;

4266 
p_oݚg
->
a
)

4268 
RAISECOM_ENABLE
:

4270 
RAISECOM_DISABLE
:

4279 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4281 
p_i_out
 = (
icom_out_t
*)
p_out
;

4282 
p_i_out
->
p_code
 = 0x00000014;

4283 
p_i_out
->
rved1
 = 0x20482314;

4284 
p_i_out
->
rved2
 = 0x000000e0;

4285 
p_i_out
->
rved3
 = 0x00002000;

4286 
p_i_out
->
af
 = 
p_icom
->leaf;

4287 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4288 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4289 
g_usOutDaIdx
 +(
icom_out_t
);

4290 
	}
}

4294 
	$icom_dh_oݚg
(
u8_t
* 
p_
)

4296 
u8_t
 *
p_out
;

4297 
icom_out_t
 *
p_i_out
;

4298 
icom_hdr_t
 *
p_icom
;

4300 
p_icom
 = (
icom_hdr_t
*)
p_
;

4301 
p_
 +(
icom_hdr_t
);

4303 
p_icom
->
af
)

4307 
	`rc_dh_oݚg
(
p_
);

4313 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4315 
p_i_out
 = (
icom_out_t
*)
p_out
;

4316 
p_i_out
->
p_code
 = 0x00000014;

4317 
p_i_out
->
rved1
 = 0x20482314;

4318 
p_i_out
->
rved2
 = 0x000000e0;

4319 
p_i_out
->
rved3
 = 0x00002000;

4320 
p_i_out
->
af
 = 
p_icom
->leaf;

4321 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4322 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4323 
g_usOutDaIdx
 +(
icom_out_t
);

4324 
	}
}

4327 
	$icom_p
(
u8_t
* 
p_
)

4329 
u8_t
 *
p_out
;

4330 
icom_out_t
 *
p_i_out
;

4331 
icom_hdr_t
 *
p_icom
;

4333 
p_icom
 = (
icom_hdr_t
*)
p_
;

4334 
p_
 +(
icom_hdr_t
);

4336 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4338 
p_i_out
 = (
icom_out_t
*)
p_out
;

4339 
p_i_out
->
p_code
 = 0x00000014;

4340 
p_i_out
->
rved1
 = 0x20482314;

4341 
p_i_out
->
rved2
 = 0x000000e0;

4342 
p_i_out
->
rved3
 = 0x00002000;

4343 
p_i_out
->
af
 = 
p_icom
->leaf;

4344 
p_i_out
->
qu_l
 = 
p_icom
->sequence_l;

4345 
p_i_out
->
qu_s
 = 
p_icom
->sequence_s;

4346 
g_usOutDaIdx
 +(
icom_out_t
);

4347 
	}
}

4349 
	$icom_nd_unkown_60_1
(
u8_t
* 
p_
)

4351 
u8_t
 *
p_out
;

4352 
icom_out_t
 *
p_i_out
;

4353 
icom_hdr_t
 *
p_icom
;

4354 
u8_t
 
mp_buf
[] =

4360 
p_icom
 = (
icom_hdr_t
*)
p_
;

4361 
p_
 +(
icom_hdr_t
);

4363 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4365 
p_i_out
 = (
icom_out_t
*)
p_out
;

4366 
p_i_out
->
p_code
 = 0x00b00060;

4367 
p_i_out
->
rved1
 = 0xc0a82014;

4368 
p_i_out
->
rved2
 = 0x004c03e0;

4369 
p_i_out
->
rved3
 = 0x00002000;

4371 
p_i_out
->
af
 = 0x200a;

4372 
p_i_out
->
qu_l
 = 0;

4373 
p_i_out
->
qu_s
 = 0;

4374 
g_usOutDaIdx
 +(
icom_out_t
);

4375 
p_out
 +(
icom_out_t
);

4377 
	`memy
(
p_out
, 
mp_buf
, (temp_buf));

4378 
g_usOutDaIdx
 += 76;

4380 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

4381 
g_usOutDaIdx
 = 0;

4382 
	}
}

4384 
	$icom_nd_unkown_60_0
(
u8_t
* 
p_
)

4386 
u8_t
 *
p_out
;

4387 
icom_out_t
 *
p_i_out
;

4388 
icom_hdr_t
 *
p_icom
;

4389 
u8_t
 
mp_buf
[] =

4396 
p_icom
 = (
icom_hdr_t
*)
p_
;

4397 
p_
 +(
icom_hdr_t
);

4399 
	`RAISECOM_HEADER_PROCESS
(
p_out
, 
p_icom
);

4401 
p_i_out
 = (
icom_out_t
*)
p_out
;

4402 
p_i_out
->
p_code
 = 0x00b00060;

4403 
p_i_out
->
rved1
 = 0x2014;

4404 
p_i_out
->
rved2
 = 0x004c03e0;

4405 
p_i_out
->
rved3
 = 0x00002000;

4407 
p_i_out
->
af
 = 0x200a;

4408 
p_i_out
->
qu_l
 = 0;

4409 
p_i_out
->
qu_s
 = 0;

4410 
g_usOutDaIdx
 +(
icom_out_t
);

4411 
p_out
 +(
icom_out_t
);

4413 
	`memy
(
p_out
, 
mp_buf
, (temp_buf));

4414 
g_usOutDaIdx
 += 76;

4416 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

4417 
g_usOutDaIdx
 = 0;

4418 
	}
}

4421 
	$el_rc_pdu_ive
(
u8_t
 *
p_
, 
u16_t
 
ngth
)

4423 
icom_hdr_t
 *
p_icom
;

4425 *
pucBuf
;

4426 
u8_t
 *
pbuf
;

4427 
u32_t
 
dex
;

4428 
u8_t
 *
p_out
;

4429 
icom_out_t
 *
p_i_out
;

4431 
p_icom
 = (
icom_hdr_t
*)
p_
;

4432 #ide
CONFIG_PRODUCT_5500


4434 if(0x00001002 =
p_icom
->
af
)

4437 
	`icom_t_home
(
p_
);

4438 
nd_r
;

4441 if(0x00001005 =
p_icom
->
af
)

4443 
	`icom_dowd_cfig_f_i
(
p_
);

4444 
nd_r
;

4446 
p_icom
->
p_code
)

4449 
	`icom_g_que
(
p_
);

4452 
	`icom_t_cfig
(
p_
);

4454 #ide
CONFIG_PRODUCT_5500


4456 
	`icom_t_mng_
(
p_
);

4459 
	`icom_dowd_cfig_1
(
p_
);

4462 
	`icom_g_mng__2
(
p_
);

4465 
	`icom_t_bnch1
(
p_
);

4469 
	`icom_t_fr
(
p_
);

4473 
	`icom_t_mr_mڙ
(
p_
);

4478 
	`icom_t_p
(
p_
);

4482 
	`icom_t_ic_mu_mac
(
p_
);

4485 
	`icom_dh_fmi
(
p_
);

4488 
	`icom_dh_y
(
p_
);

4491 
	`icom_dh_oݚg
(
p_
);

4494 
	`icom_p
(
p_
);

4501 
nd_r
:

4502 if(
g_usOutDaIdx
 < 70)

4504 
	`memt
(&
out_da
[
g_usOutDaIdx
], 0, 
OAM_MINIMIZE_PDU_SIZE
 - g_usOutDataIdx);

4505 
g_usOutDaIdx
 = 70;

4507 
out_da
[0] = 
OAM_LOGIG_PON_PORT
;

4508 
	`el_ho_nd
(
out_da
, 
g_usOutDaIdx
);

4509 
g_usOutDaIdx
 = 0;

4511 
	}
}

4514 
sock_fr
 
	gm_rc_bpf_fr
 [] = {

4516 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 12),

4517 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 2),

4518 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 13 ),

4519 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 4, 0),

4521 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 12 + 4),

4522 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 3),

4523 
BPF_STMT
 (
BPF_LD
 + 
BPF_B
 + 
BPF_ABS
, 13 + 4),

4524 
BPF_JUMP
 (
BPF_JMP
 + 
BPF_JEQ
 + 
BPF_K
,0xfe, 0, 1),

4526 
BPF_STMT
(
BPF_RET
+
BPF_K
,0x7fffffff),

4528 
BPF_STMT
(
BPF_RET
+
BPF_K
,0),

4531 
VOID
 
	$rc_tup_sock_fr
(
INT
 
s
)

4533 
sock_rog
 
p
;

4537 
p
.
n
 = (
m_rc_bpf_fr
)/ (
sock_fr
);

4538 
p
.
fr
 = 
m_rc_bpf_fr
;

4540 
	`tsockt

s
, 
SOL_SOCKET
, 
SO_ATTACH_FILTER
, &
p
, (p));

4543 
	}
}

4545 
	$m_icom_pkt_oss
(* 
pkt
, 
UINT16
 
n
)

4547 
ho_bound_hdr_t
 *
pInHd
 = 
NULL
;

4548 
UINT8
 
ucPt
;

4549 
UINT32
 
dex
;

4550 *
pucBuf
;

4552 i(
NULL
 =
pkt
 || 0 =
n
)

4555 
pucBuf
 = (*)
pkt
;

4557 
	`tf
("\r\nRcv Pkom PON/GE,=%u\r\n",
n
);

4559 
dex
 = 0; index < 
n
; index++)

4561 if((
dex
 != 0) && (index%16 == 0))

4563 
	`tf
("\r\n%02x ",(
UINT8
)
pucBuf
[
dex
]);

4567 
	`tf
("%02x ",(
UINT8
)
pucBuf
[
dex
]);

4570 
	`tf
("\r\n");

4572 if(((
UINT8
)
pucBuf
[16 + 4] == 0xfe) && ((UINT8)pucBuf[17 + 4] == 0xfe))

4574 
	`el_rc_pdu_ive
((
UINT8
 *)
pkt
 + 4, 
n
 - 4);

4577 
	}
}

4579 
INT16
 
	$m_ho_sock_cv
(
sock_fd
)

4581 
	#CPU_HEAD_LEN
 4

	)

4582 
ho_bound_hdr_t
 *
r_pkt_hdr
;

4583 
m_rcv_pkt
[2048];

4584 * 
pBuff
 = 
m_rcv_pkt
;

4585 
ho_bound_hdr_t
 *
pInHd
 = (ho_bound_hdr_*)
pBuff
;

4587 
INT32
 
usL
;

4588 
INT32
 
cou
=0;

4590 
msghdr
 
msg
;

4591 
iovec
 
iov
;

4592 
mw_l2_l_s
 
l2_l
;

4595 
pBuff
[0]=0;

4596 
pBuff
[1]=0;

4597 
pBuff
[2]=0;

4598 
pBuff
[3]=0;

4600 
	`memt
(&
msg
, 0, (msg));

4601 
	`memt
(&
iov
, 0, (iov));

4602 
	`memt
(&
l2_l
, 0, (l2_ctl));

4603 
iov
.
iov_ba
 = (*)&
pBuff
[
CPU_HEAD_LEN
];

4604 
iov
.
iov_n
 = 2048-
CPU_HEAD_LEN
;

4605 
msg
.
msg_iov
 = &
iov
;

4606 
msg
.
msg_iovn
 = 1;

4607 
msg
.
msg_cڌ
 = &
l2_l
;

4608 
msg
.
msg_cڌn
 = (
l2_l
);

4610 (
usL
 = 
	`cvmsg
(
sock_fd
, &
msg
, 0)) > 0)

4612 
usL
+=
CPU_HEAD_LEN
;

4614 
pInHd
->
t
 = 
l2_l
.
l_pt
;

4615 
pInHd
->
rved
 = 0;

4618 
	`m_icom_pkt_oss
((*)
pBuff
, 
usL
);

4620 
r_pkt_hdr
 = (
ho_bound_hdr_t
 *)
pBuff
;

4624 
	`tf
("\r Packeteceived from Host interface:\n"

4626 ,
r_pkt_hdr
->
t
);

4628 
cou
++;

4629 i(
cou
 > 32)

4632 
msg
.
msg_cڌ
 = &
l2_l
;

4633 
msg
.
msg_cڌn
 = (
l2_l
);

4637 
	}
}

4641 *
	$_m_icom_thad
(*
gu
)

4643 
w_sock
;

4644 
sockaddr_
 
l
;

4645 
ieq
 
ifru
;

4647 
w_sock
 = 
	`sock
(
PF_PACKET
, 
SOCK_RAW
, 
	`hts
(
ETH_P_ALL
));

4648 i(0 > 
w_sock
){

4649 
	`tf
("raw_socket socket createrror!\n");

4653 
	`ry
(
ifru
.
i_me
, "eth0");

4654 
	`iol
(
w_sock
, 
SIOCGIFINDEX
, &
ifru
);

4656 
	`rc_tup_sock_fr
(
w_sock
);

4658 
	`memt
&
l
, 0, (sll) );

4659 
l
.
l_my
 = 
AF_PACKET
;

4660 
l
.
l_ifdex
 = 
ifru
.
i_ifdex
;

4661 
l
.
l_oc
 = 
	`hts
(
ETH_P_ALL
);

4663 if(
	`bd
(
w_sock
, (
sockaddr
 *&
l
, (sll)) == -1 ){

4664 
	`tf
("\nraw_socket bind createrror!\n");

4669 if(
	`vosHWAddrG
("h0", 
hoMac
!
NO_ERROR
) {

4670  
OPL_ERROR
;

4674 
	`m_ho_sock_cv
(
w_sock
);

4675 
	`vosUS˕
(1000);

4678 
	`vosThadEx
(0);

4679 
	}
}

	@vendor/yotc.c

1 
	~<dio.h
>

2 
	~<rg.h
>

3 
	~<dlib.h
>

4 
	~<mloc.h
>

5 
	~<sys/tys.h
>

6 
	~<sys/.h
>

7 
	~<sys/sock.h
>

8 
	~<t/.h
>

9 
	~<t/if.h
>

12 
	~"_m_cfig.h
"

13 
	~"_m_r.h
"

14 
	~"_m_db.h
"

15 
	~"_m_dbg.h
"

16 
	~"_m_rx.h
"

18 
	~"c_m.h
"

19 
	~"c_m_v.h
"

21 
	~"m.h
"

22 
	~"h3c.h
"

24 
	~"c_.h
"

25 
	~"m_lw.h
"

28 
	~"lw_drv_pub.h
"

29 
	~"lw_drv_q.h
"

30 
	~"yc.h
"

31 
	~"lw_cfig.h
"

34 
	#MODULE
 
MOD_OAM


	)

36 
	#MAX_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

38 
c_fd
;

41 
	#YOTC_DBG
(
rg
{\

	)

43 
tf
 
	grg
;\

47 
	#YOTC_DBG
(
rg
)

	)

50 
	#EOPL_YOTC_HEADER_PROCESS
(
code
)\

	)

52 
	gp_out
 = &
out_da
[0]; \

53 
el_m_pdu_hdr
(
p_out
, 
ms
.
ags
, 
OAM_CODE_ORG_SPEC
); \

54 
	gp_out
 +(
mpdu_hdr_t
); \

55 
vosMemCpy
(((
yc_hd_t
*)
p_out
)->
oui
, 
yc_oui
, 3); \

56 ((
	gyc_hd_t
*)
	gp_out
)->
	gext_code
 = 
code
; \

57 
	gp_out
 +(
yc_hd_t
); \

58 
	gg_usOutDaIdx
 = (
mpdu_hdr_t
+ (
yc_hd_t
); \

67 
INT32
 
	$_CTC_GPtVnModeCfg
(
UINT32
 
uiLPtId
, 
CTC_VLAN_CFG_S
 *
pCtcVnMode
)

69 i((!
	`IsVidLgcPt
(
uiLPtId
)) ||

70 (
NULL
 =
pCtcVnMode
))

72 
	`tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

73  
ERROR
;

76 i(
DRV_OK
 !
	`Iol_c_g_a_ru
(
uiLPtId
, 
pCtcVnMode
))

78 
	`tf
("func:%s,le:%d.\n",
__FUNCTION__
,
__LINE__
);

79  
ERROR
;

82  
NO_ERROR
;

83 
	}
}

86 
	$el_yc_t_pt_s_t
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

88 
u32_t
 
t
 = 
NO_ERROR
;

89 
m_t_ڣ_t
 *
p_r
;

90 
yc_s_t_t
* 
p_s_t
;

91 
u32_t
 
t
;

92 
t
 = 
NO_ERROR
;

94 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

95 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

96 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_STATS
;

98 
p_s_t
(
yc_s_t_t
*)
p_
;

99 
t
 = (
u32_t
)(
p_s_t
->
pt
);

100 
t
 = 
	`Iol_SMibCouRet
(
t
);

101 if(
DRV_OK
 !
t
)

103 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

107 
p_r
->
diti
 = 
OAM_SET_OK
;

109 *
gn
 = (
yc_s_t_t
);

111 
	}
}

113 
	$el_yc_t_pt_mode
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

115 
u32_t
 
t
 = 
NO_ERROR
;

116 
m_t_ڣ_t
 *
p_r
;

117 
yc_pt_mode_t
* 
p_pt_mode
;

118 
u32_t
 
pt_mode_duex
 = 0;

119 
u32_t
 
pt_mode_d
 = 0;

120 
t
 = 
NO_ERROR
;

122 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

123 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

124 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_PORT_MODE
;

126 
p_pt_mode
 = (
yc_pt_mode_t
*)
p_
;

127 
p_pt_mode
->
mode
)

129 
YOTC_PORT_MODE_10HALF
:

130 
pt_mode_duex
 = 
DUPLEX_HALF
;

131 
pt_mode_d
 = 
SPEED_10M
;

133 
YOTC_PORT_MODE_10FULL
:

134 
pt_mode_duex
 = 
DUPLEX_FULL
;

135 
pt_mode_d
 = 
SPEED_10M
;

137 
YOTC_PORT_MODE_100HALF
:

138 
pt_mode_duex
 = 
DUPLEX_HALF
;

139 
pt_mode_d
 = 
SPEED_100M
;

141 
YOTC_PORT_MODE_100FULL
:

142 
pt_mode_duex
 = 
DUPLEX_FULL
;

143 
pt_mode_d
 = 
SPEED_100M
;

145 
YOTC_PORT_MODE_1G
:

146 
pt_mode_d
 = 
SPEED_1000M
;

148 
YOTC_PORT_MODE_AUTO
:

149 
pt_mode_duex
 = 
DUPLEX_AUTO
;

150 
pt_mode_d
 = 
SPEED_AUTO
;

153 
t
 = 
ERROR
;

154 
nd_r
;

158 
t
 = 
	`DRV_SPtSed
(
p_pt_mode
->
pt
, 
pt_mode_d
);

159 if(
NO_ERROR
 !
t
)

161 
nd_r
;

164 
t
 = 
	`DRV_SPtDuex
(
p_pt_mode
->
pt
, 
pt_mode_duex
);

166 
nd_r
:

167 if(
NO_ERROR
 !
t
)

169 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

173 
p_r
->
diti
 = 
OAM_SET_OK
;

178 *
gn
 = (
m_t_ڣ_t
);

180 
	}
}

182 
	$el_yc_t_u_adm
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

184 
u32_t
 
t
 = 
NO_ERROR
;

185 
m_t_ڣ_t
 *
p_r
;

186 
yc_adm_t
* 
p_adm
;

187 
ul_addr
 ;

188 
ul_mask
 ;

190 
t
 = 
NO_ERROR
;

192 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

193 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

194 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_ADMIN_IP
;

196 
p_adm
 = (
yc_adm_t
*)
p_
;

198 if(!
	`vid_
(
p_adm
->
addr
|| !
	`vid_subt_mask
_adm->addr,_adm->
mask
))

200 
t
 = 
ERROR
;

201 
nd_r
;

203 
ul_addr
 = 
p_adm
->
addr
.
s_addr
;

204 
ul_mask
 = 
p_adm
->
mask
.
s_addr
;

207 if(0==(
ul_addr
 & (~
ul_mask
)))

209 
t
 = 
ERROR
;

210 
nd_r
;

214 if((
ul_addr
 & (~
ul_mask
)) == (0xffffffff & (~ul_mask)))

216 
t
 = 
ERROR
;

217 
nd_r
;

220 
t
 = 
	`el__ossg
(
p_adm
->
addr
,_adm->
mask
,_adm->
geway
);

222 
nd_r
:

223 if(
NO_ERROR
 !
t
)

225 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

229 
p_r
->
diti
 = 
OAM_SET_OK
;

231 *
gn
 = (
m_t_ڣ_t
);

233 
	}
}

235 
	$el_yc_t_u_admvn
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

237 
u32_t
 
t
 = 
NO_ERROR
;

238 
m_t_ڣ_t
 *
p_r
;

239 
yc_admvn_t
* 
p_vn
;

241 
t
 = 
NO_ERROR
;

243 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

244 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

245 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_ADMIN_VLAN
;

247 
p_vn
 = (
yc_admvn_t
*)
p_
;

249 
t
 = 
	`el_mgmtvn_ossg
(
p_vn
->
vn
&0x0fff);

251 if(
NO_ERROR
 !
t
)

253 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

257 
p_r
->
diti
 = 
OAM_SET_OK
;

259 *
gn
 = (
m_t_ڣ_t
);

261 
	}
}

263 
	$el_yc_t_mac_agg
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

265 
u32_t
 
t
 = 
NO_ERROR
;

266 
m_t_ڣ_t
 *
p_r
;

267 
yc_mac_agg_t
* 
p_agg
;

269 
t
 = 
NO_ERROR
;

271 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

272 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

273 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_MAC_AGING
;

275 
p_agg
 = (
yc_mac_agg_t
*)
p_
;

278 if((
p_agg
->
aggTime
<
MIN_MAC_AGETIME
|| (p_agg->aggTime>
MAX_MAC_AGETIME
))

280 
t
 = 
ERROR
;

281 
nd_r
;

283 
t
 = 
	`Iol_SMacAgeTime
(
p_agg
->
aggTime
*10);

284 
nd_r
:

285 if(
t
 !
DRV_OK
)

287 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

291 
p_r
->
diti
 = 
OAM_SET_OK
;

293 *
gn
 = (
m_t_ڣ_t
);

295 
	}
}

297 
	$el_yc_t_mac_lim
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

299 
u32_t
 
t
 = 
NO_ERROR
;

300 
m_t_ڣ_t
 *
p_r
;

301 
yc_mac_lim_t
* 
p_lim
;

303 
t
 = 
NO_ERROR
;

305 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

306 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

307 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_MAC_LIMIT
;

309 
p_lim
 = (
yc_mac_lim_t
*)
p_
;

311 if(
p_lim
->
numLim
 >= 0xfa)

313 
t
 = 
ERROR
;

314 
nd_r
;

316 
t
 = 
	`Iol_SMacLLim
(
p_lim
->
pt
,_lim->
numLim
, 
TRUE
);

318 
nd_r
:

319 if(
t
 !
DRV_OK
)

321 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

322 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

326 
p_r
->
diti
 = 
OAM_SET_OK
;

329 *
gn
 = (
m_t_ڣ_t
);

331 
	}
}

333 
	$yc_whe_mac_add
(
yc_mac_t
* 
p_whe
)

335 
u32_t
 
t
;

336 
mac_u_t
 
g_mac_addss
;

337 
mac_u_t
 
t_mac_addss
;

340 if(
p_whe
->
mac
[0] & 0x01)

342  
ERROR
;

345 if(!(!
p_whe
->
mac
[0] || !p_white->mac[1] | !p_white->mac[2] |

346 !
p_whe
->
mac
[3] || !p_white->mac[4] | !p_white->mac[5]))

348  
ERROR
;

351 
	`memt
(&
g_mac_addss
, 0, (
mac_u_t
));

352 
t
 = 
	`Iol_GMacUMac
(0, 
p_whe
->
mac
 , &
g_mac_addss
);

353 if(
DRV_OK
 =
t
)

355 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

356  
ERROR
;

359 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
t
)

362 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

363 
t_mac_addss
.
lgcPt
 = 
p_whe
->
pt
;

364 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_whe
->
mac
 , (
mac_addss_t
));

365 
t_mac_addss
.
tdVid
 = 0;

366 
t_mac_addss
.
ucStic
 = 1;

368 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

369 if(
t
 !
DRV_OK
)

371 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

372  
ERROR
;

374  
NO_ERROR
;

376 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

377  
ERROR
;

378 
	}
}

380 
	$yc_whe_mac_d
(
yc_mac_t
* 
p_whe
)

382 
u32_t
 
t
 = 
NO_ERROR
;

383 
mac_u_t
 
g_mac_addss
;

385 
t
 = 
	`Iol_GMacUMac
(0, 
p_whe
->
mac
, &
g_mac_addss
);

386 if(
DRV_OK
 !
t
)

389  
NO_ERROR
;

392 
t
 = 
	`Iol_SMacDUMac
(
g_mac_addss
);

393 if(
DRV_OK
 !=
t
)

395 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

396  
ERROR
;

398  
NO_ERROR
;

399 
	}
}

403 
	$el_yc_t_whe_mac
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

405 
u32_t
 
t
 = 
NO_ERROR
;

406 
m_t_ڣ_t
 *
p_r
;

407 
yc_mac_t
* 
p_whe
;

409 
t
 = 
NO_ERROR
;

411 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

412 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

413 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_MAC_WHITE
;

415 
p_whe
 = (
yc_mac_t
*)
p_
;

417 
p_whe
->
ai
)

419 
OAM_YOTC_ENABLE
:

420 
t
 = 
	`yc_whe_mac_add
(
p_whe
);

422 
OAM_YOTC_DISABLE
:

423 
t
 = 
	`yc_whe_mac_d
(
p_whe
);

426 
t
 = 
ERROR
;

430 if(
t
 !
NO_ERROR
)

432 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

433 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

437 
p_r
->
diti
 = 
OAM_SET_OK
;

440 *
gn
 = (
m_t_ڣ_t
);

442 
	}
}

443 
CTC_VLAN_MODE_E
 
c_vn_mode
;

446 
	$el_yc_t_pt_unk
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

448 
u32_t
 
t
;

449 
m_t_ڣ_t
 *
p_r
;

450 
yc_pt_unk_t
* 
p_unk
;

451 
CTC_VLAN_CFG_S
 
CtcVnMode
;

452 
i
;

453 
u32_t
 
vi
[32] = {0};

454 
u32_t
 
deuTag
;

455 
u32_t
 
vnIndex
;

456 
fd
;

458 
t
 = 
NO_ERROR
;

459 
fd
 = 0;

461 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

462 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

463 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_VLAN_TRUNK
;

465 
p_unk
 = (
yc_pt_unk_t
*)
p_
;

467 
	`memt
(&
CtcVnMode
, 0, (
CTC_VLAN_CFG_S
));

468 
	`_CTC_GPtVnModeCfg
(
p_unk
->
pt
, &
CtcVnMode
);

470 
i
=0; i<
CTC_VLAN_TRANSL_PAIR_NUM_MAX
; i++)

472 
	`tf
("vn_li[%d]=%d\n", 
i
, 
CtcVnMode
.
vn_li
[i]);

474 
	`tf
("CtcVnMode.mode=%d\n", 
CtcVnMode
.
mode
);

476 
deuTag
 = 
CtcVnMode
.
deu_vn
 | (CtcVnMode.
uiPriܙy
<<13);

477 
	`YOTC_DBG
(("port=%d,ype=%04x,riority=%d, vlanid=%d,ction=%04x\n", \

478 
p_unk
->
pt
,_unk->
ty
,_unk->
i
,_unk->
vnid
,_unk->
ai
));

480 
deuTag
 |((
UINT32
)
p_unk
->
ty
<<16);

481 
vnIndex
 = 0;

482 
p_unk
->
ai
 & 0xff00)

484 
OAM_YOTC_TRUNK_ADD
:

485 
vnIndex
 = 0;

486 
i
=0; i<
CtcVnMode
.
numb_of_s
 && (i<8); i++)

488 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

489 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

492 i(
vnIndex
 > 14)

494 
t
 = 
ERROR
;

495 
nd_r
;

498 
vi
[
vnIndex
++] = (
UINT32
)
p_unk
->
vnid
 & 0xfff;

499 
vi
[
vnIndex
++] = (
UINT32
)
p_unk
->
vnid
 & 0xfff;

501 
OAM_YOTC_TRUNK_DEL
:

502 
vnIndex
 = 0;

503 
i
=0; i<
CtcVnMode
.
numb_of_s
 && (i<8); i++)

506 if(
p_unk
->
vnid
 =
CtcVnMode
.
vn_li
[
i
<<1])

508 
fd
 = 1;

511 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

512 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

514 i(
vnIndex
 > 16)

516 
t
 = 
ERROR
;

517 
nd_r
;

521 if(0 =
fd
)

523 
t
 = 
ERROR
;

524 
nd_r
;

527 
OAM_YOTC_TRUNK_PVID
:

530 if(
c_vn_mode
 !
CTC_VLAN_MODE_TRUNK
)

532 
deuTag
 = ((
UINT32
)(
p_unk
->
ty
<<16| (UINT32_unk->
vnid
) | \

533 ((
UINT32
)
p_unk
->
i
<<13);

537 
i
=0; i<
CtcVnMode
.
numb_of_s
 && (i<8); i++)

539 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

540 
vi
[
vnIndex
++] = 
CtcVnMode
.
vn_li
[
i
<<1];

543 i(
vnIndex
 > 16)

545 
t
 = 
ERROR
;

546 
nd_r
;

549 
deuTag
 = ((
UINT32
)(
p_unk
->
ty
<<16| (UINT32_unk->
vnid
) | \

550 ((
UINT32
)
p_unk
->
i
<<13);

554 
t
 = 
ERROR
;

555 
nd_r
;

560 
i
=0; i<
CTC_VLAN_TRANSL_PAIR_NUM_MAX
; i++)

562 
	`tf
("vi[%d]=%d\n", 
i
, 
vi
[i]);

566 
t
 = 
	`CTC_DRV_STniVn
(
p_unk
->
pt
, 
deuTag
, 
vi
, (
vnIndex
/2), 
CTC_VLAN_MODE_TRUNK
);

567 i(
NO_ERROR
 !
t
)

569 
t
 = 
ERROR
;

570 
nd_r
;

573 
nd_r
:

574 if(
t
 !
NO_ERROR
)

576 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

577 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

581 
p_r
->
diti
 = 
OAM_SET_OK
;

584 *
gn
 = (
m_t_ڣ_t
);

586 
	}
}

589 
	$el_yc_t_u_upgde
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

591 
yc_u_upgde_t
* 
p_upgde
;

592 
u32_t
 
t
 = 
NO_ERROR
;

593 
m_t_ڣ_t
 *
p_r
;

595 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

596 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

597 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_UPGRADE
;

599 
p_upgde
 = (
yc_u_upgde_t
*)
p_
;

600 
p_r
->
diti
 = 
OAM_SET_OK
;

602 *
gn
 = (
m_t_ڣ_t
);

603 
	}
}

606 
	$el_yc_t_bck_mac
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

608 
u32_t
 
t
 = 
NO_ERROR
;

609 
m_t_ڣ_t
 *
p_r
;

610 
yc_mac_t
* 
p_bck
;

612 
t
 = 
NO_ERROR
;

614 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

615 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

616 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_MAC_BLACK
;

618 
p_bck
 = (
yc_mac_t
*)
p_
;

620 
p_bck
->
ai
)

622 
OAM_YOTC_ENABLE
:

623 
t
 = 
	`yc_whe_mac_add
(
p_bck
);

625 
OAM_YOTC_DISABLE
:

626 
t
 = 
	`yc_whe_mac_d
(
p_bck
);

629 
t
 = 
ERROR
;

633 if(
t
 !
NO_ERROR
)

635 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

636 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

640 
p_r
->
diti
 = 
OAM_SET_OK
;

643 *
gn
 = (
m_t_ڣ_t
);

645 
	}
}

648 
	$el_yc_t_pt_isީe
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

650 
u32_t
 
t
 = 
NO_ERROR
;

651 
m_t_ڣ_t
 *
p_r
;

652 
yc_pt_isީe_t
* 
p_pt_isީe
;

653 
u32_t
 
ulPt
;

655 
t
 = 
NO_ERROR
;

657 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

658 
p_r
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

659 
p_r
->
af
 = 
OAM_YOTC_EXT_LEAF_ISOLATE
;

661 
p_pt_isީe
 = (
yc_pt_isީe_t
*)
p_
;

663 
ulPt
 = 1; ulP܈<
MAX_NUM_OF_PORTS
; ulPort++)

665 
t
 = 
	`DRV_SPtIsީi
(
ulPt
, 
p_pt_isީe
->
ai
);

666 if(
NO_ERROR
 !
t
)

672 if(
NO_ERROR
 !
t
)

674 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

678 
p_r
->
diti
 = 
OAM_SET_OK
;

681 *
gn
 = (
m_t_ڣ_t
);

683 
	}
}

687 
	$yc_g_u_tics
(
u8_t
* 
ybuf
, 
u16_t
 *
gn
)

689 
yc_tics_t
 *
p_tics
;

690 
u16_t
 
vcc
;

691 
u16_t
 
cut
;

692 
u16_t
 
txPow
;

693 
u16_t
 
rxPow
;

694 
sVue
;

695 
u16_t
 
mtu
;

698 ()
	`Drv_GOicsTnsmPow
(&
txPow
);

699 ()
	`Drv_GOicsReivePow
(&
rxPow
);

700 ()
	`Drv_GOicsTemtu
(&
sVue
, &
vcc
, &
cut
);

703 i(
sVue
 > 0)

705 
mtu
 = 
sVue
;

709 
mtu
 = 0;

712 
p_tics
 = (
yc_tics_t
*)
ybuf
;

713 
p_tics
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

714 
p_tics
->
af
 = 
OAM_YOTC_EXT_LEAF_OPTICS
;

715 
p_tics
->
width
 = 10;

716 
p_tics
->
ivTemp
 = 
mtu
;

717 
p_tics
->
sulyVt
 = 
vcc
;

718 
p_tics
->
rxPow
 =xPower;

719 
p_tics
->
bsCut
 = 
cut
;

720 
p_tics
->
txPow
 =xPower;

722 
nd_r
:

723 *
gn
 = (
yc_tics_t
);

724 
	}
}

726 
	$yc_g_u_pt_s
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

728 
t
 = 
NO_ERROR
;

729 
yc_pt_s_t
* 
p_s
;

730 
yc_pt_t
 *
p_pt
;

731 
UNI_COUNTER_S
 
mibCous
;

733 
p_s
 = (
yc_pt_s_t
*)
ybuf
;

734 
p_s
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

735 
p_s
->
af
 = 
OAM_YOTC_EXT_LEAF_STATS
;

736 
p_s
->
width
 = (
yc_pt_s_t
)-4;

738 
p_pt
 = (
yc_pt_t
*)
p_
;

740 
t
 = 
	`DRV_GPtMibCou
(
p_pt
->
pt
, &
mibCous
);

741 if(
t
 !
NO_ERROR
)

743 
	`YOTC_DBG
(("[FILE] %[LINE] %d\n", 
__FILE__
, 
__LINE__
));

744 
nd_r
;

746 
p_s
->
ifInOs
 = 
mibCous
.
uiRecOs
;

747 
p_s
->
ifInTٮPkts
 = 
mibCous
.
InBrd
+mibCous.
InMui
+mibCous.
InUni
;

748 
p_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

749 
p_s
->
ifInMPkts
 = 
mibCous
.
InMui
;

750 
p_s
->
ifInBPkts
 = 
mibCous
.
InBrd
;

751 
p_s
->
ifInRxDisrdPkts
 = 0;

753 
p_s
->
ifInRusPkts
 = 
mibCous
.
InUndow
;

754 
p_s
->
ifInEPkts
 = 0;

755 
p_s
->
ifInGsPkts
 = 
mibCous
.
InOvow
;

756 
p_s
->
ifInUnknowPkts
 = 0;

757 
p_s
->
ifInCRCPkts
 = 
mibCous
.
InCrcE
;

759 
p_s
->
ifOutOs
 = 
mibCous
.
uiTnsOs
;

760 
p_s
->
ifOutTٮPkts
 = 
mibCous
.
OutBrd
+mibCous.
OutMui
+mibCous.
OutUni
;

761 
p_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

762 
p_s
->
ifOutMPkts
 = 
mibCous
.
OutMui
;

763 
p_s
->
ifOutBPkts
 = 
mibCous
.
OutBrd
;

765 
nd_r
:

766 *
gn
 = (
yc_pt_s_t
);

768 
	}
}

773 
	$yc_g_u_pt_rp
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

775 
t
 = 
NO_ERROR
;

776 
yc_rp_t
 *
p_rp
;

777 
yc_pt_t
 *
p_pt
;

779 
p_pt
 = (
yc_pt_t
*)
p_
;

780 
p_rp
 = (
yc_rp_t
*)
ybuf
;

781 
p_rp
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

782 
p_rp
->
af
 = 
OAM_YOTC_EXT_LEAF_RSTP
;

783 
p_rp
->
width
 = 0x02;

784 
p_rp
->
vue
 = 0x20;

786 *
gn
 = (
yc_rp_t
);

788 
	}
}

790 
	$yc_g_u_pt_e
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

792 
t
 = 
NO_ERROR
;

793 
yc_pt_e_t
* 
p_e
;

794 
yc_pt_t
 *
p_pt
;

795 
u32_t
 
pt_duex
 = 0;

796 
u32_t
 
pt_d
 = 0;

797 
u32_t
 
lk_us
 = 0;

799 
p_pt
 = (
yc_pt_t
*)
p_
;

801 
p_e
 = (
yc_pt_e_t
*)
ybuf
;

802 
p_e
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

803 
p_e
->
af
 = 
OAM_YOTC_EXT_LEAF_ETH_STATE
;

804 
p_e
->
width
 = 2;

805 
t
 = 
	`DRV_GPtLkStus
(
p_pt
->
pt
, &
lk_us
);

806 if((
t
==
NO_ERROR
&& 
lk_us
)

808 ()
	`DRV_GPtDuex
(
p_pt
->
pt
, &
pt_duex
);

809 ()
	`DRV_GPtSed
(
p_pt
->
pt
, &
pt_d
);

810 
pt_d
)

812 
SPEED_10M
:

813 
pt_duex
)

815 
DUPLEX_HALF
:

816 
p_e
->
mode
 = 
YOTC_PORT_MODE_10HALF
;

818 
DUPLEX_FULL
:

819 
p_e
->
mode
 = 
YOTC_PORT_MODE_10FULL
;

823 
p_e
->
mode
 = 0XFF;

827 
SPEED_100M
:

828 
pt_duex
)

830 
DUPLEX_HALF
:

831 
p_e
->
mode
 = 
YOTC_PORT_MODE_100HALF
;

833 
DUPLEX_FULL
:

834 
p_e
->
mode
 = 
YOTC_PORT_MODE_100FULL
;

837 
p_e
->
mode
 = 0XFF;

841 
SPEED_1000M
:

842 
p_e
->
mode
 = 
YOTC_PORT_MODE_1G
;

845 
p_e
->
mode
 = 0XFF;

852 
p_e
->
mode
 = 0xff;

854 *
gn
 = (
yc_pt_e_t
);

856 
	}
}

858 
	$yc_g_u_unknown
(
u8_t
* 
ybuf
, 
u16_t
 *
gn
)

860 
t
 = 
NO_ERROR
;

861 
yc_rp_t
 *
p_rp
;

863 
p_rp
 = (
yc_rp_t
*)
ybuf
;

864 
p_rp
->
bnch
 = 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
;

865 
p_rp
->
af
 = 0x0071;

866 
p_rp
->
width
 = 0x87;

867 
p_rp
->
vue
 = 0x00;

869 *
gn
 = (
yc_rp_t
);

871 
	}
}

875 
	$el_yc_g_q
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
pRlyL
)

877 
m_vb_dest_t
 *
p_v_desc
;

878 
u16_t
 
gn
 = 0;

881 *
p_
)

883 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
:

884 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

885 
p_v_desc
->
af
)

887 
OAM_YOTC_EXT_LEAF_OPTICS
:

888 
	`yc_g_u_tics
(
ybuf
, &
gn
);

889 
p_
 +(
m_vb_dest_t
);

890 
ybuf
 +
gn
;

891 *
pRlyL
 +
gn
;

893 
OAM_YOTC_EXT_LEAF_STATS
:

894 
	`yc_g_u_pt_s
(
p_
, 
ybuf
, &
gn
);

895 
p_
 +(
yc_pt_t
);

896 
ybuf
 +
gn
;

897 *
pRlyL
 +
gn
;

899 
OAM_YOTC_EXT_LEAF_RSTP
:

900 
	`yc_g_u_pt_rp
(
p_
, 
ybuf
, &
gn
);

901 
p_
 +(
yc_pt_t
);

902 
ybuf
 +
gn
;

903 *
pRlyL
 +
gn
;

905 
OAM_YOTC_EXT_LEAF_ETH_STATE
:

906 
	`yc_g_u_pt_e
(
p_
, 
ybuf
, &
gn
);

907 
p_
 +(
yc_pt_t
);

908 
ybuf
 +
gn
;

909 *
pRlyL
 +
gn
;

912 
	`yc_g_u_unknown
(
ybuf
, &
gn
);

913 
p_
 +(
m_vb_dest_t
);

914 
ybuf
 +
gn
;

915 *
pRlyL
 +
gn
;

925 
	}
}

927 
	$yc_ju_ڣ
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
gn
)

929 
yc_u_upgde_t
* 
p_upgde
;

930 
u32_t
 
t
 = 
NO_ERROR
;

931 
m_t_ڣ_t
 *
p_r
;

933 
p_r
 = (
m_t_ڣ_t
*)
ybuf
;

934 
p_upgde
 = (
yc_u_upgde_t
*)
p_
;

935 
p_r
->
bnch
 = 
p_upgde
->branch;

936 
p_r
->
af
 = 
p_upgde
->leaf;

937 
p_r
->
diti
 = 
OAM_SET_OK
;

939 *
gn
 = (
m_t_ڣ_t
);

940 
	}
}

941 
	$el_yc_t_q
(
u8_t
* 
p_
, u8_t* 
ybuf
, 
u16_t
 *
yn
)

943 
m_vb_dest_t
 *
p_v_desc
;

944 
yc_u_upgde_t
* 
p_upgde
;

945 
u16_t
 
gn
 = 0;

947 #ide
CONFIG_PRODUCT_5500


950 *
p_
)

952 
OAM_YOTC_BRANCH_EXTENDED_ATTRIB
:

953 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

954 
p_v_desc
->
af
)

956 
OAM_YOTC_EXT_LEAF_STATS
:

957 
	`el_yc_t_pt_s_t
(
p_
, 
ybuf
, &
gn
);

958 
p_
 +(
yc_s_t_t
);

959 
ybuf
 +
gn
;

960 *
yn
 +
gn
;

962 
OAM_YOTC_EXT_LEAF_PORT_MODE
:

963 
	`el_yc_t_pt_mode
(
p_
, 
ybuf
, &
gn
);

964 
p_
 +(
yc_pt_mode_t
);

965 
ybuf
 +
gn
;

966 *
yn
 +
gn
;

968 
OAM_YOTC_EXT_LEAF_ISOLATE
:

969 
	`el_yc_t_pt_isީe
(
p_
, 
ybuf
, &
gn
);

970 
p_
 +(
yc_pt_isީe_t
);

971 
ybuf
 +
gn
;

972 *
yn
 +
gn
;

974 
OAM_YOTC_EXT_LEAF_ADMIN_IP
:

975 
	`el_yc_t_u_adm
(
p_
, 
ybuf
, &
gn
);

976 
p_
 +(
yc_adm_t
);

977 
ybuf
 +
gn
;

978 *
yn
 +
gn
;

980 
OAM_YOTC_EXT_LEAF_ADMIN_VLAN
:

981 
	`el_yc_t_u_admvn
(
p_
, 
ybuf
, &
gn
);

982 
p_
 +(
yc_admvn_t
);

983 
ybuf
 +
gn
;

984 *
yn
 +
gn
;

986 
OAM_YOTC_EXT_LEAF_MAC_AGING
:

987 
	`el_yc_t_mac_agg
(
p_
, 
ybuf
, &
gn
);

988 
p_
 +(
yc_mac_agg_t
);

989 
ybuf
 +
gn
;

990 *
yn
 +
gn
;

992 
OAM_YOTC_EXT_LEAF_MAC_LIMIT
:

993 
	`el_yc_t_mac_lim
(
p_
, 
ybuf
, &
gn
);

994 
p_
 +(
yc_mac_lim_t
);

995 
ybuf
 +
gn
;

996 *
yn
 +
gn
;

998 
OAM_YOTC_EXT_LEAF_MAC_BLACK
:

999 
	`el_yc_t_bck_mac
(
p_
, 
ybuf
, &
gn
);

1000 
p_
 +(
yc_mac_t
);

1001 
ybuf
 +
gn
;

1002 *
yn
 +
gn
;

1004 
OAM_YOTC_EXT_LEAF_MAC_WHITE
:

1005 
	`el_yc_t_whe_mac
(
p_
, 
ybuf
, &
gn
);

1006 
p_
 +(
yc_mac_t
);

1007 
ybuf
 +
gn
;

1008 *
yn
 +
gn
;

1011 
OAM_YOTC_EXT_LEAF_VLAN_TRUNK
:

1012 
	`el_yc_t_pt_unk
(
p_
, 
ybuf
, &
gn
);

1013 
p_
 +(
yc_mac_t
);

1014 
ybuf
 +
gn
;

1015 *
yn
 +
gn
;

1018 
OAM_YOTC_EXT_LEAF_UPGRADE
:

1019 
p_upgde
 = (
yc_u_upgde_t
*)
p_
;

1020 
	`el_yc_t_u_upgde
(
p_
, 
ybuf
, &
gn
);

1021 
p_
 +(
yc_u_upgde_t
);

1022 
p_
 +
p_upgde
->
width
;

1023 
ybuf
 +
gn
;

1024 *
yn
 +
gn
;

1027 
	`yc_ju_ڣ
(
p_
, 
ybuf
, &
gn
);

1028 
p_upgde
 = (
yc_u_upgde_t
*)
p_
;

1029 
p_
 +(
yc_u_upgde_t
);

1030 
p_
 +
p_upgde
->
width
;

1031 
ybuf
 +
gn
;

1032 *
yn
 +
gn
;

1043 
	}
}

1046 
	$el_yc_pdu_oss
(

1047 
m_mPdu_t
 *
pOamPdu
,

1048 *
pFme
,

1049 
ngth
,

1050 *
pRlyBuf
,

1051 
bufL
,

1052 *
pRlyL
)

1054 
t
 = 
EPON_OAM_ERR_OK
;

1055 
u8_t
 *
p_by
 = 
pFme
;

1057 
yc_hd_t
 *
p_yc_hdr
;

1058 
yc_hd_t
 *
p_out_yc_hdr
;

1060 if((
ngth
 < 
YOTC_ORGSPEC_HDR_LEN
|| (
bufL
 < YOTC_ORGSPEC_HDR_LEN))

1063  
EPON_OAM_ERR_PARAM
;

1066 if((
NULL
==
pOamPdu
|| (NULL==
pFme
|| (NULL==
pRlyBuf
|| (NULL==
pRlyL
))

1068  
EPON_OAM_ERR_PARAM
;

1071 *
pRlyL
 = 0;

1073 
p_by
 = 
pFme
;

1074 
p_yc_hdr
 = (
yc_hd_t
*)
pFme
;

1075 
p_by
 +(
yc_hd_t
);

1077 
p_out_yc_hdr
 = (
yc_hd_t
*)
pRlyBuf
;

1078 
	`memy
(
p_out_yc_hdr
->
oui
, 
p_yc_hdr
->oui, 3);

1080 *
pRlyL
 +(
yc_hd_t
);

1081 
pRlyBuf
 +(
yc_hd_t
);

1083 
p_yc_hdr
->
ext_code
)

1085 
OAM_YOTC_EXT_OPCODE_GET_REQUEST
:

1086 
p_out_yc_hdr
->
ext_code
 = 
OAM_YOTC_EXT_OPCODE_GET_RESPONSE
;

1087 
	`el_yc_g_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

1089 
OAM_YOTC_EXT_OPCODE_SET_REQUEST
:

1090 
p_out_yc_hdr
->
ext_code
 = 
OAM_YOTC_EXT_OPCODE_SET_RESPONSE
;

1091 
	`el_yc_t_q
(
p_by
, 
pRlyBuf
, 
pRlyL
);

1094 
p_out_yc_hdr
 = (
yc_hd_t
*)
pRlyBuf
;

1095 
	`memy
(
p_out_yc_hdr
->
oui
, 
p_yc_hdr
->oui, 3);

1096 
p_out_yc_hdr
->
ext_code
 = 
p_yc_hdr
->ext_opcode;

1098 *
pRlyL
 = (
yc_hd_t
);

1102  
t
;

1103 
	}
}

1105 
	$el_yc_pdu_oss2
(
u8_t
* 
p_by
, u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

1107 
u8_t
 
mp_buf
[] = {0x74, 0x01, 0x63, 0x00, 0x00,0x01, 0x00,

1109 
u8_t
 
she_oui
[3] = {0x00, 0x0c, 0xd5};

1110 
	`memy
(
pRlyBuf
, 
she_oui
, 3);

1111 
pRlyBuf
 += 3;

1112 
	`memy
(
pRlyBuf
, 
mp_buf
, (temp_buf));

1113 *
pRlyL
 +(
mp_buf
) + 3;

1115 
	}
}

1118 
	$yc_m_
()

1120 
i
, 
t
;

1121 
oui
[] = 
YOTC_OAM_OUI
;

1122 
m_gScCb_t
 
gScCb
;

1125 
gScCb
.
oss
 = 
el_yc_pdu_oss
;

1126 
t
 = 
	`_m_gScCb_g
(

1127 
EPON_OAM_CBTYPE_ORGSPEC
,

1128 
oui
,

1129 (*&
gScCb
);

1130 if(
EPON_OAM_ERR_OK
 !
t
)

1132 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

1134  
EPON_OAM_ERR_UNKNOWN
;

1137  
EPON_OAM_ERR_OK
;

1138 
	}
}

	@vendor/zte.c

9 
	~<dio.h
>

10 
	~<rg.h
>

11 
	~<dlib.h
>

12 
	~<mloc.h
>

13 
	~<sys/tys.h
>

14 
	~<sys/.h
>

15 
	~<sys/sock.h
>

16 
	~<t/.h
>

17 
	~<t/if.h
>

20 
	~"_m_cfig.h
"

21 
	~"_m_r.h
"

22 
	~"_m_db.h
"

23 
	~"_m_dbg.h
"

24 
	~"_m_rx.h
"

26 
	~"m.h
"

27 
	~"h3c.h
"

29 
	~"c_.h
"

30 
	~"m_lw.h
"

33 
	~"lw_drv_pub.h
"

34 
	~"lw_drv_q.h
"

35 
	~"z.h
"

37 
	~<f.h
>

38 
	~"h3c.h
"

39 
	~"mc_cڌ.h
"

40 
	~"defs.h
"

41 
	~"syem.h
"

42 
	~"s.h
"

43 
	~"vos_thad.h
"

44 
	~"cn_u_io.h
"

45 
	~"vos_time.h
"

46 
	~"vos_libc.h
"

47 
	~"vos_loc.h
"

48 
	~<sigl.h
>

49 
	~"lw_cfig.h
"

50 
	~"c_m.h
"

51 
	#OAM_SUPPORT_ZTE_EXT
 1

	)

52 #ifde
OAM_SUPPORT_ZTE_EXT


56 
	#UPSTREAM_BUFFER_DEFAULT
 16383

	)

57 
	#DOWNSTREAM_BUFFER_DEFAULT
 16383

	)

59 
	#UPSTREAM_BUFFER_MAX
 16383

	)

60 
	#DOWNSTREAM_BUFFER_MAX
 16383

	)

61 
	#STREAM_BUFFER_MAX
 16383

	)

62 
	#INVALID_16
 0XFFFF

	)

64 
	#CFG_HG_SECTION
 "G"

	)

65 
	#CFG_HG_IN_NET_STATE
 "In_t_e"

	)

66 
	#CFG_HG_IN_NET_STATE_DEFAULT
 0

	)

68 
	#CFG_HG_IN_NET_PORT
 "In_t_pt"

	)

69 
	#CFG_HG_IN_NET_PORT_DEFAULT
 0

	)

72 
	#MAX_UMAC_NUM
 2048

	)

73 
	#UINT32
 
u32_t


	)

75 
	#ODM_NUM_OF_PORTS
 
MAX_PORT_NUM


	)

78 
	mZTE_PORT_MODE_AUTO
 = 0x00,

79 
	mZTE_PORT_MODE_10M_HALF
 = 0x01,

80 
	mZTE_PORT_MODE_10M_FULL
 = 0x02,

81 
	mZTE_PORT_MODE_100M_HALF
 = 0x03,

82 
	mZTE_PORT_MODE_100M_FULL
 = 0x04,

83 
	mZTE_PORT_MODE_1000M
 = 0x05,

84 
	mZTE_PORT_MODE_10G
 = 0x06,

85 }
	tZTE_PORT_MODE_t
;

88 
u8_t
 
	miics_ai
;

89 
UINT32
 
	miics_rva
;

90 
UINT32
 
	miics_duti_time
;

91 }
	tiics_pt_t
;

93 
iics_pt_t
 
	giics_pt
[
ODM_NUM_OF_PORTS
]=

102 
UINT64
 
	maifInOs
;

103 
UINT64
 
	maifInUPkts
;

104 
UINT64
 
	maifInNUPkts
;

105 
UINT64
 
	maifInDisrds
;

106 
UINT64
 
	maifInEs
;

107 
UINT64
 
	maifOutOs
;

108 
UINT64
 
	maifOutUPkts
;

109 
UINT64
 
	maifOutNUPkts
;

110 
UINT64
 
	maifOutDisrds
;

111 
UINT64
 
	maifOutEs
;

112 }
	tiics_cou_t
;

114 
iics_cou_t
 
	giics_cou1
[
ODM_NUM_OF_PORTS
];

115 
iics_cou_t
 
	giics_cou2
[
ODM_NUM_OF_PORTS
];

117 
	giics_pt_num
[
ODM_NUM_OF_PORTS
] = {0};

118 
VOS_THREAD_t
 
	gptStiicsThadId
[
ODM_NUM_OF_PORTS
] = {0};

121 
m_z_pt_mode_t
 
	gub_z_pt_mode
[
ODM_NUM_OF_PORTS
+1];

124 
m_z_uni_isީi_t
 
	gub_z_uni_isީi
;

128 
m_z_pmac_buff_cfg_t
 
	gub_z_pmac_buff_cfg
[2];

131 
m_z_pmac_ds_shg_t
 
	gub_z_pmac_ds_shg
;

134 
m_z_hg_acss_fo_t
 
	gub_z_hg_acss_fo
[
ODM_NUM_OF_PORTS
+1];

137 #i
defed
(
ONU_4PORT_88E6045
)||defed(
ONU_4PORT_88E6046
)||defed(
ONU_4PORT_88E6097
)||defed(
ONU_4PORT_AR8306
)||defed(
ONU_4PORT_AR8228
)||defed(
ONU_4PORT_AR8327
)

138 
OPL_CNT_t
 
g_aCSwhPt
[
ODM_NUM_OF_PORTS
][
CNT_SWH_PORT_NUM
];

140 
OPL_CNT_t
 
g_aCGe
[
DAL_CNT_GE_NUM
];

145 
	#NEED_MATCH
 0x01

	)

146 
	#NO_NEED_MATCH
 0x00

	)

149 
	mOPEN_TX_ACTION
,

150 
	mCLOSE_TX_ACTION
,

151 
	mCLOSE_MODULE_ACTION
,

154 
m__v_t_2_0
 
pt__2_0
;

156 
	ggLarCfigFg
 = 0;

157 
UINT32
 
	ggTxLarCloDuti
 = 0;

159 
OPL_CNT_t
 
g_aCMp
[
DAL_CNT_MPCP_NUM
];

160 
OPL_CNT_t
 
g_aCP
[
DAL_CNT_PON_NUM
];

161 
u16_t
 
g_usArmOutDaIdx
;

162 
m__t
 
ms
;

163 
u8_t
 
m_out_da
[
OAM_MAXIMUM_PDU_SIZE
+1];

164 
u8_t
 
_da
[
OAM_MAXIMUM_PDU_SIZE
+4];

165 
u8_t
 
z_oui
[3];

167 
	#MAC_ASC_F
 "%02X%02X%02X%02X%02X%02X"

	)

168 
	#MACPRINT
(
mac
mac[5],mac[4],mac[3],mac[2],mac[1],mac[0]

	)

169 
	#CFG_HG_CFG
 "/cfg/hg.cf"

	)

171 
	#EOPL_ZTE_HEADER_PROCESS
(
code
,
ty
,
pt
\

	)

173 if(0 =
g_usOutDaIdx
){ \

174 
p_out
 = &
out_da
[0]; \

175 
el_m_pdu_hdr
(
p_out
, 
ms
.
ags
, 
OAM_CODE_ORG_SPEC
); \

176 
	gp_out
 +(
mpdu_hdr_t
); \

177 
vosMemCpy
(((
z_hd_t
*)
p_out
)->
oui
, 
z_oui
, 3); \

178 ((
	gz_hd_t
*)
	gp_out
)->
	gext_code
 = 
code
; \

179 ((
	gz_hd_t
*)
	gp_out
)->
	gty
 = 
ty
; \

180 ((
	gz_hd_t
*)
	gp_out
)->
	gpt
 = 
pt
; \

181 
	gp_out
 +(
z_hd_t
); \

182 
	gg_usOutDaIdx
 = (
mpdu_hdr_t
+ (
z_hd_t
); \

185 
	gp_out
 = &
out_da
[
g_usOutDaIdx
]; \

212 
	$lock_g
(
fd
, 
cmd
, 
ty
, 
off_t
 
offt
, 
wh
, off_
n
)

214 
ock
 
lock
;

216 
lock
.
l_ty
 = 
ty
;

217 
lock
.
l_t
 = 
offt
;

218 
lock
.
l_wh
 = 
wh
;

219 
lock
.
l_n
 = 
n
;

221 (
	`f
(
fd
, 
cmd
, &
lock
) );

222 
	}
}

224 
	#ad_lock
(
fd
, 
offt
, 
wh
, 
n
\

	)

225 
	$lock_g
(
fd
, 
F_SETLK
, 
F_RDLCK
, 
offt
, 
wh
, 
n
)

226 
	#wre_lock
(
fd
, 
offt
, 
wh
, 
n
\

	)

227 
	$lock_g
(
fd
, 
F_SETLK
, 
F_WRLCK
, 
offt
, 
wh
, 
n
)

228 
	#UNLOCK
(
fd
, 
offt
, 
wh
, 
n
)\

	)

229 
	$lock_g
(
fd
, 
F_SETLK
, 
F_UNLCK
, 
offt
, 
wh
, 
n
)

231 
mac_fd
 = -1;

234 
	$z_c_g_pt_dex
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_ptS
, u8_*
p_ptE
)

236 if((
NULL
==
p_
|| (NULL==
p_ptS
|| (NULL==
p_ptE
))

238  
ERROR
;

240 if(0xf=
p_
->
vDa
[0])

242 *
p_ptS
 = 1;

243 *
p_ptE
 = 
ODM_NUM_OF_PORTS
;

244  
NO_ERROR
;

246 if((
p_
->
vDa
[0] <
ODM_NUM_OF_PORTS
) && (p_instance->varData[0] != 0))

248 *
p_ptS
 = 
p_
->
vDa
[0];

249 *
p_ptE
 = 
p_
->
vDa
[0];

250  
NO_ERROR
;

252  
ERROR
;

253 
	}
}

272 
	$wre_mac_u_dump
()

275 
mac_cou
;

276 
t
 = 
NO_ERROR
;

277 
ock
 
lock
;

279 
	`memt
(&
lock
, 0, (
ock
));

280 
mac_dump_u_b_t
 
mpMacTab
[
MAX_UMAC_NUM
];

281 
	`memt
(
mpMacTab
, 0, (tempMacTable));

282 
	`Iol_GMacDumpU
(
mpMacTab
, &
mac_cou
);

284 if(
	`f
(
mac_fd
, 
F_GETLK
, &
lock
) < 0)

286  
ERROR
;

288 if(
F_UNLCK
 =
lock
.
l_ty
)

290 if(
	`wre_lock
(
mac_fd
, 0, 
SEEK_SET
, 0) < 0)

292 
t
 = 
ERROR
;

293 
uockfe
;

295 if(
	`run
(
mac_fd
, 0) < 0)

297 
t
 = 
ERROR
;

298 
uockfe
;

300 if(
	`lek
(
mac_fd
, 0, 
SEEK_SET
) < 0)

302 
t
 = 
ERROR
;

303 
uockfe
;

307 if((
u32_t
!
	`wre
(
mac_fd
, &
mac_cou
, (u32_t)))

309 
t
 = 
ERROR
;

310 
uockfe
;

313 if(
mac_cou
 * (
mac_dump_u_b_t
!(
u32_t
)
	`wre
(
mac_fd
, 
mpMacTab
, (mac_dump_ucast_tab_t)*mac_count))

315 
t
 = 
ERROR
;

316 
uockfe
;

318 
uockfe
:

319 
	`UNLOCK
(
mac_fd
, 0, 
SEEK_SET
, 0);

322  
t
;

324  
NO_ERROR
;

325 
	}
}

344 
	$ad_mac_u_dump
(
mac_dump_u_b_t
* 
pMacTab
, 
u32_t
* 
pmac_cou
 )

347 
mac_cou
 = 1;

348 
t
 = 
NO_ERROR
;

349 
ock
 
lock
;

350 
mac_dump_u_b_t
* 
pTempMacTab
 = 
pMacTab
;

352 
	`memt
(&
lock
, 0, (
ock
));

353 if((
t
 = 
	`f
(
mac_fd
, 
F_GETLK
, &
lock
)) < 0)

355  
ERROR
;

357 if(
F_UNLCK
 =
lock
.
l_ty
)

359 if(
	`ad_lock
(
mac_fd
, 0, 
SEEK_SET
, 0) < 0)

361 
t
 = 
ERROR
;

362 
uock_r
;

365 if(
	`lek
(
mac_fd
, 0, 
SEEK_SET
) < 0)

367 
t
 = 
ERROR
;

368 
uock_r
;

372 if(4 !
	`ad
(
mac_fd
, &
mac_cou
, (
u32_t
)))

374 
t
 = 
ERROR
;

375 
uock_r
;

377 if(
mac_cou
 > 
MAX_UMAC_NUM
)

379 
t
 = 
ERROR
;

380 
uock_r
;

382 *
pmac_cou
 = 
mac_cou
;

383 if((
mac_dump_u_b_t
)*
mac_cou
 !(
u32_t
)
	`ad
(
mac_fd
, 
pTempMacTab
, (mac_dump_ucast_tab_t)*mac_count))

385 
t
 = 
ERROR
;

387 
uock_r
:

388 
	`UNLOCK
(
mac_fd
, 0, 
SEEK_SET
, 0);

390  
t
;

392 *
pmac_cou
 = 0;

393 
	`Iol_GMacDumpU
(
pMacTab
, 
pmac_cou
);

395  
NO_ERROR
;

396 
	}
}

415 
	$r_mac_fr
()

417 
u32_t
 
mac_cou
;

418 
u32_t
 
dex
 = 0;

419 
mac_dump_u_b_t
 
mac_b
[2048];

420 
mac_u_t
 
mac_to_d
;

421 
	`memt
(
mac_b
, 0, (
mac_dump_u_b_t
)*2048);

423 
	`ad_mac_u_dump
(
mac_b
, &
mac_cou
);

424 
	`memt
(&
mac_to_d
, 0, (
mac_u_t
));

426 
dex
=0; index<
mac_cou
; index++)

429 if(0 =
mac_b
[
dex
].
t
)

431 
mac_to_d
.
lgcPt
 = 0;

432 
	`memy
(
mac_to_d
.
mac_addr
, 
mac_b
[
dex
].mac_addr, (
mac_addss_t
));

433 
mac_to_d
.
tdVid
 = 
mac_b
[
dex
].
vid
;

436 
	}
}

437 
	$r_mac_ic
(
u8_t
 
pt_id
)

439 
u32_t
 
mac_cou
;

440 
u32_t
 
dex
 = 0;

441 
mac_dump_u_b_t
 
mac_b
[2048];

442 
mac_u_t
 
mac_to_d
;

443 
	`memt
(
mac_b
, 0, (
mac_dump_u_b_t
)*2048);

444 
	`ad_mac_u_dump
(
mac_b
, &
mac_cou
);

445 
	`memt
(&
mac_to_d
, 0, (
mac_u_t
));

446 
dex
=0; index<
mac_cou
; index++)

448 if((
pt_id
==
mac_b
[
dex
].
t
&& (mac_b[dex].
ag
&0x04))

450 
mac_to_d
.
lgcPt
 = 
pt_id
;

451 
	`memy
(
mac_to_d
.
mac_addr
, 
mac_b
[
dex
].mac_addr, (
mac_addss_t
));

452 
mac_to_d
.
tdVid
 = 
mac_b
[
dex
].
vid
;

453 
	`Iol_SMacDUMac
(
mac_to_d
);

456 
	}
}

459 
	$rzorg
(* 
c
, * 
d
,
n
)

461 
pos
=0;

462 
i
=0;

463 
c
[
pos
] =0 &&os< 
n
)

465 
pos
 ++ ;

467 
i
=0;i<(
n
-
pos
);i++)

469 
d
[
i
]=
c
[i+
pos
];

471 
	}
}

474 
u32_t
 
	$ub_z_g_u_
(
u8_t
 *
p_u_
)

478 
	}
}

480 
	$el_z_g_u_sut
(
u8_t
 
ty
,u8_
pt
, u8_t*
pRlyBuf
, 
u16_t
* 
pGn
)

482 
m_z_u_soupt_t
 *
p_u_soupt
;

483 
m_r_diti_t
 *
p_g_r
;

485 *
pGn
 = 0;

486 
p_u_soupt
 = (
m_z_u_soupt_t
*)
pRlyBuf
;

487 
p_u_soupt
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

488 
p_u_soupt
->
af
 = 
OAM_ZTE_EXT_LEAF_ONU_SUPPORT
;

489 
p_u_soupt
->
is_soupt
 = 0x01;

491 
p_u_soupt
->
width
 = (
m_z_u_soupt_t
)-4;

492 *
pGn
 +(
m_z_u_soupt_t
);

493 
	}
}

495 
	$el_z_g_u_
(
u8_t
 
ty
,u8_
pt
, u8_t*
pRlyBuf
, 
u16_t
* 
pGn
)

497 
m_z_u__t
 *
p_u_
;

498 
m_r_diti_t
 *
p_g_r
;

499 
u8_t
 
mRCode
;

500 
u32_t
 
t
;

502 *
pGn
 = 0;

503 
p_u_
 = (
m_z_u__t
*)
pRlyBuf
;

504 
p_u_
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

505 
p_u_
->
af
 = 
OAM_ZTE_EXT_LEAF_ONU_SN
;

507 
t
 = 
	`ub_z_g_u_
(
p_u_
->

);

508 if(
t
!
NO_ERROR
)

510 
p_u_
->
width
 = 
OAM_BAD_PARAM_VALUE
;

511 *
pGn
 += 4;

515 
p_u_
->
width
 = (
m_z_u__t
)-4;

516 *
pGn
 +(
m_z_u__t
);

518 
	}
}

521 
	mZTE_CONFIG_MANAGE_INVALID
 = 0x00,

522 
	mZTE_CONFIG_MANAGE_SAVE
 = 0x01,

523 
	mZTE_CONFIG_MANAGE_ERASE
 = 0x02,

524 
	mZTE_CONFIG_MANAGE_RESTOR_FACTORY
 = 0x03,

525 }
	tZTE_CONFIG_MANAGE_TYPE_t
;

527 
ZTE_CONFIG_MANAGE_TYPE_t
 
	ggCfigMageTy
;

529 * 
	$ACfigPamThad
(*
pszPm
)

531 
t
 = 0;

532 
	`vosS˕
(1);

533 if(
gCfigMageTy
 =
ZTE_CONFIG_MANAGE_RESTOR_FACTORY
){

535 
	`vosCfigE
();

536 
	`vosS˕
(1);

538 
t
 = 
	`odmSysRet
();

540 
gCfigMageTy
 = 
ZTE_CONFIG_MANAGE_INVALID
;

542 if(
gCfigMageTy
 =
ZTE_CONFIG_MANAGE_SAVE
){

544 i(
	`vosCfigSave
(
NULL
) < 0)

549 
gCfigMageTy
 = 
ZTE_CONFIG_MANAGE_INVALID
;

552 
	`vosThadEx
(0);

553  
NULL
;

554 
	}
}

555 
	$el_z_t_cfig_m
(
u8_t
 *
p_
,u8_
ty
,u8_
pt
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

557 
u32_t
 
t
 = 
OK
;

559 
m_t_ڣ_t
 *
p_r
;

560 
m_z_u_cfig_m_t
 *
p_z_cfig_m
;

562 *
pGn
 = 0;

564 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

565 
p_r
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

566 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_CONFIG_PARAM
;

568 
p_z_cfig_m
 = (
m_z_u_cfig_m_t
 *)
p_
;

570 
gCfigMageTy
 = 
p_z_cfig_m
->
ai
;

572 if(
gCfigMageTy
 < 1 || gConfigManageType > 3){

573 
p_r
->
diti
 = 
OAM_NO_PARAM
;

574 *
pGn
 += 4;

577 i(0 =
	`vosThadCe
("tRFa", 
OP_VOS_THREAD_STKSZ
, 100,

578 
ACfigPamThad
, 
NULL
))

580 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "Create AfterConfigResetThreadhread failed\n");

581 
t
 = 
ERROR
;

584 if(!
t
)

586 
p_r
->
diti
 = 
OAM_SET_OK
;

590 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

593 *
pGn
 += 4;

596 
	}
}

601 
u8_t
 
	gub_z_ty_c_k1
;

602 
u8_t
 
	gub_z_ty_c_k2
;

604 
u32_t
 
	$ub_z_t_ty_c
(
u8_t
 
k1
, u8_
k2
)

606 
ub_z_ty_c_k1
 = 
k1
;

607 
ub_z_ty_c_k2
 = 
k2
;

609  
NO_ERROR
;

610 
	}
}

612 
u32_t
 
	$ub_z_g_ty_c
(
u8_t
 *
p_k1
, u8_*
p_k2
)

614 *
p_k1
 = 
ub_z_ty_c_k1
;

615 *
p_k2
 = 
ub_z_ty_c_k2
;

617  
NO_ERROR
;

618 
	}
}

620 
	$el_z_t_ty_c
(
u8_t
 *
p_
,u8_
ty
,u8_
pt
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

622 
u32_t
 
t
;

623 
m_t_ڣ_t
 *
p_r
;

624 
m_z_ty_c_t
 *
p_z_ty_c
;

626 *
pGn
 = 0;

627 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

628 
p_r
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

629 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_TYPE_C_SET
;

631 
p_z_ty_c
 = (
m_z_ty_c_t
 *)
p_
;

633 
t
 = 
	`ub_z_t_ty_c
(
p_z_ty_c
->
k1
,_z_ty_c->
k2
);

634 if(!
t
)

636 
p_r
->
diti
 = 
OAM_SET_OK
;

640 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

643 *
pGn
 += 4;

645 
	}
}

647 
	$el_z_g_ty_c
(
u8_t
 
ty
,u8_
pt
, u8_t*
pRlyBuf
, 
u16_t
* 
pGn
)

649 
m_z_ty_c_t
 *
p_ty_c
;

650 
u32_t
 
t
;

652 *
pGn
 = 0;

653 
p_ty_c
 = (
m_z_ty_c_t
 *)
pRlyBuf
;

654 
p_ty_c
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

655 
p_ty_c
->
af
 = 
OAM_ZTE_EXT_LEAF_TYPE_C_GET
;

656 
p_ty_c
->
width
 = 2;

658 
t
 = 
	`ub_z_g_ty_c
(&
p_ty_c
->
k1
, &p_ty_c->
k2
);

660 *
pGn
 +
p_ty_c
->
width
 + 4;

661 
	}
}

665 
	$el_z_m_pt
(
u8_t
 
pt_id
, 
u16_t
 
m_id
)

667 
u8_t
 *
p_out
;

668 
m__v_t_2_0
 *
p_
;

669 
m_z_m_fo_t
 *
p_z_m_fo
;

670 
u32_t
 
t
;

672 if(0 =
g_usArmOutDaIdx
)

674 
	`el_c_hd
(
OAM_EXT_CODE_GET_RESPONSE
);

675 
p_out
 = &
m_out_da
[0];

676 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

677 
g_usArmOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

681 
p_out
 = &
m_out_da
[
g_usArmOutDaIdx
];

684 
p_
 = (
m__v_t_2_0
 *)
p_out
;

685 
p_out
 +(
m__v_t_2_0
);

686 
g_usOutDaIdx
 +(
m__v_t_2_0
);

688 
p_
->
bnch
 = 0x36;

689 
p_
->
af
 = 0x0001;

690 
p_
->
width
 = 0x01;

691 
p_
->
vue
 = 
pt_id
;

693 
p_z_m_fo
 = (
m_z_m_fo_t
*)
p_out
;

694 
p_z_m_fo
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

695 
p_z_m_fo
->
af
 = 
OAM_ZTE_EXT_LEAF_ALARM_INFO
;

696 
p_z_m_fo
->
width
 = 5;

697 
p_z_m_fo
->
m_id
 =larm_id;

699 
g_usArmOutDaIdx
 +
p_z_m_fo
->
width
 + 4;

701  
t
;

702 
	}
}

705 
u8_t
 
	gub_z_m_cfg
;

707 
u32_t
 
	$ub_z_g_m_cfg
(
u8_t
 *
p_m_cfg
)

709 *
p_m_cfg
 = 
ub_z_m_cfg
;

711  
NO_ERROR
;

712 
	}
}

714 
u32_t
 
	$ub_z_t_m_cfg
(
u8_t
 
m_cfg
)

716 if(
m_cfg
 !
ub_z_m_cfg
)

719 if(
m_cfg
 == 1)

721 
	`odmArmThadIn
();

725 
	`odmArmThadShutdown
();

730 
ub_z_m_cfg
 = 
m_cfg
;

732  
NO_ERROR
;

733 
	}
}

735 
	$el_z_g_m_cfg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

737 
m_z_m_cfg_t
 *
p_z_m_cfg
;

738 
m_r_diti_t
 *
p_g_r
;

740 
u8_t
 
mRCode
;

741 
u8_t
 
m_cfig
;

742 
u32_t
 
t
;

745 
t
 = 
	`ub_z_g_m_cfg
(&
m_cfig
);

747 if(
t
 !
NO_ERROR
)

749 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

750 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

751 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

752 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

753 
p_g_r
->
v_diti
 = 
mRCode
;

755 *
pGn
 = 4;

759 
p_z_m_cfg
 = (
m_z_m_cfg_t
*)
pRlybuf
;

760 
p_z_m_cfg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

761 
p_z_m_cfg
->
af
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

762 
p_z_m_cfg
->
width
 = 1;

764 
p_z_m_cfg
->
m_cfig
 =larm_config;

766 *
pGn
 = 
p_z_m_cfg
->
width
 + 4;

768 
	}
}

770 
	$el_z_t_m_cfg
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

772 
u8_t
 
t
;

773 
m_t_ڣ_t
 *
p_r
;

774 
m_z_m_cfg_t
 *
p_z_m_cfg
;

777 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

778 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

779 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_ALARM_CFG
;

781 
p_z_m_cfg
 = (
m_z_m_cfg_t
 *)
p_
;

783 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "m cfig = %d\n", 
p_z_m_cfg
->
m_cfig
);

785 
t
 = 
	`ub_z_t_m_cfg
(
p_z_m_cfg
->
m_cfig
);

786 if(
t
 =
OPL_OK
)

788 
p_r
->
diti
 = 
OAM_SET_OK
;

792 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

795 *
pGn
 = 4;

798 
	}
}

801 
m_z_upgde__t
 
	gub_z_upgde_
;

803 
u32_t
 
	$ub_z_g_upgde_
(
m_z_upgde__t
 *
p_upgde_
)

806 
p_upgde_
->
_addr
 = 
ub_z_upgde_
.ip_addr;

807 
p_upgde_
->
_mask
 = 
ub_z_upgde_
.ip_mask;

808 
p_upgde_
->
geway
 = 
ub_z_upgde_
.gateway;

809 
p_upgde_
->
vnid
 = 
ub_z_upgde_
.vlanid;

810 
	`vosMemCpy
(&
p_upgde_
->
uame
, 
ub_z_upgde_
.username, 8);

811 
	`vosMemCpy
(&
p_upgde_
->
sswd
, 
ub_z_upgde_
.password, 8);

812 
p_upgde_
->
ai
 = 
ub_z_upgde_
.action;

813 
p_upgde_
->
v_num
 = 
ub_z_upgde_
.ver_num;

814 
	`vosMemCpy
(&
p_upgde_
->
v_me1
, 
ub_z_upgde_
.ver_name1, 16);

815 
	`vosMemCpy
(&
p_upgde_
->
v_me2
, 
ub_z_upgde_
.ver_name2, 16);

816 
	`vosMemCpy
(&
p_upgde_
->
v_me3
, 
ub_z_upgde_
.ver_name3, 16);

818  
NO_ERROR
;

819 
	}
}

821 
u32_t
 
	$ub_z_t_upgde_
(
m_z_upgde__t
 *
p_upgde_
)

823 
ub_z_upgde_
.
_addr
 = 
p_upgde_
->ip_addr;

824 
ub_z_upgde_
.
_mask
 = 
p_upgde_
->ip_mask;

825 
ub_z_upgde_
.
geway
 = 
p_upgde_
->gateway;

826 
ub_z_upgde_
.
vnid
 = 
p_upgde_
->vlanid;

827 
	`vosMemCpy
(&
ub_z_upgde_
.
uame
, &
p_upgde_
->username, 8);

828 
	`vosMemCpy
(&
ub_z_upgde_
.
sswd
, &
p_upgde_
->password, 8);

829 
ub_z_upgde_
.
ai
 = 
p_upgde_
->action;

830 
ub_z_upgde_
.
v_num
 = 
p_upgde_
->ver_num;

831 
	`vosMemCpy
(&
ub_z_upgde_
.
v_me1
, &
p_upgde_
->ver_name1, 16);

832 
	`vosMemCpy
(&
ub_z_upgde_
.
v_me2
, &
p_upgde_
->ver_name2, 16);

833 
	`vosMemCpy
(&
ub_z_upgde_
.
v_me3
, &
p_upgde_
->ver_name3, 16);

835  
NO_ERROR
;

836 
	}
}

838 
	$el_z_g_upgde_
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

840 
m_z_upgde__t
 *
p_upgde_
;

841 
m_z_upgde__t
 
u_upgde_
;

842 
m_r_diti_t
 *
p_g_r
;

843 
u32_t
 
t
;

844 
u8_t
 
mRCode
;

847 
t
 = 
	`ub_z_g_upgde_
(&
u_upgde_
);

849 if(
t
 !
NO_ERROR
)

851 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

852 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

853 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

854 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

855 
p_g_r
->
v_diti
 = 
mRCode
;

857 *
pGn
 = 4;

862 
p_upgde_
 = (
m_z_upgde__t
*)
pRlybuf
;

863 
p_upgde_
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

864 
p_upgde_
->
af
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

865 
p_upgde_
->
width
 = 80;

867 
p_upgde_
->
_addr
 = 
u_upgde_
.ip_addr;

868 
p_upgde_
->
_mask
 = 
u_upgde_
.ip_mask;

869 
p_upgde_
->
geway
 = 
u_upgde_
.gateway;

870 
p_upgde_
->
vnid
 = 
u_upgde_
.vlanid;

871 
	`vosMemCpy
(&
p_upgde_
->
uame
, 
u_upgde_
.username, 8);

872 
	`vosMemCpy
(&
p_upgde_
->
sswd
, 
u_upgde_
.password, 8);

873 
p_upgde_
->
ai
 = 
u_upgde_
.action;

874 
p_upgde_
->
v_num
 = 
u_upgde_
.ver_num;

875 
	`vosMemCpy
(&
p_upgde_
->
v_me1
, 
u_upgde_
.ver_name1, 16);

876 
	`vosMemCpy
(&
p_upgde_
->
v_me2
, 
u_upgde_
.ver_name2, 16);

877 
	`vosMemCpy
(&
p_upgde_
->
v_me3
, 
u_upgde_
.ver_name3, 16);

878 
p_upgde_
->
width
 = 
OAM_SET_BAD_PARAMETERS
;

881 *
pGn
 = 1 + 4;

884 
	}
}

886 
	$el_z_t_upgde_
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

888 
u8_t
 
t
;

889 
m_t_ڣ_t
 *
p_r
;

890 
m_z_upgde__t
 *
p_z_upgde_
;

893 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

894 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

895 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

897 
p_z_upgde_
 = (
m_z_upgde__t
 *)
p_
;

900 
t
 = 
	`ub_z_t_upgde_
(
p_z_upgde_
);

901 if(
t
 =
OPL_OK
)

903 
p_r
->
diti
 = 
OAM_SET_OK
;

907 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

910 *
pGn
 = 4;

914 
	}
}

917 
u32_t
 
	$ub_z_g_mac_addr_lim
(
u8_t
 
pt_id
, 
u16_t
 *
p_lim_num
)

919 
u32_t
 
t
;

920 
u32_t
 
mac_lim_num
;

921 
u32_t
 
mac_lim_ab
;

923 
t
 = 
	`odmPtMacLimNumEbG
(
pt_id
, &
mac_lim_ab
, &
mac_lim_num
);

925 if(
t
 !
NO_ERROR
)

926  
t
;

928 *
p_lim_num
 = 
mac_lim_num
;

930  
NO_ERROR
;

931 
	}
}

933 
u32_t
 
	$ub_z_t_mac_addr_lim
(
u8_t
 
pt_id
, 
u16_t
 
lim_num
)

935 
u32_t
 
t
;

937 if(
lim_num
 == 0xFFFF)

941 
t
 = 
	`Iol_SMacLLim
(
pt_id
, 
MAC_LEARNING_UNLIMIT
, 
TRUE
);

943 if(
t
 !
DRV_OK
)

945  
ERROR
;

947  
NO_ERROR
;

951 
t
 = 
	`Iol_SMacLLim
(
pt_id
, 
lim_num
, 
TRUE
);

952 if(
t
 !
DRV_OK
)

954  
ERROR
;

956 
t
 = 
NO_ERROR
;

959  
t
;

960 
	}
}

962 
	$el_z_g_mac_addr_lim
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

964 
u8_t
 
t
;

965 
u8_t
 
ucPtS
;

966 
u8_t
 
ucPtE
;

967 
u8_t
 
mRCode
;

968 
m_r_diti_t
 *
p_g_r
;

969 
m__v_t_2_0
 *
p_
;

970 
m_z_mac_lim_t
 *
p_z_mac_lim
;

971 
u16_t
 
ab
;

972 
u16_t
 
lim_num
;

974 if(0xFF =
pt__2_0
.
vue
)

976 
ucPtS
 = 1;

977 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

981 
ucPtS
 = 
pt__2_0
.
vue
;

982 
ucPtE
 = 
pt__2_0
.
vue
;

984 *
pGn
 = 0;

985 ; 
ucPtS
<=
ucPtE
; ucPortS++)

987 
pt__2_0
.
vue
 = 
ucPtS
;

988 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

989 *
p_
 = 
pt__2_0
;

990 
pRlybuf
 +(
m__v_t_2_0
);

991 *
pGn
 +(
m__v_t_2_0
);

993 
t
 = 
	`ub_z_g_mac_addr_lim
(
ucPtS
, &
lim_num
);

995 if(
t
 !
NO_ERROR
)

997 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

998 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

999 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1000 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
;

1001 
p_g_r
->
v_diti
 = 
mRCode
;

1003 *
pGn
 += 4;

1007 
p_z_mac_lim
 = (
m_z_mac_lim_t
*)
pRlybuf
;

1008 
p_z_mac_lim
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1009 
p_z_mac_lim
->
af
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
;

1010 
p_z_mac_lim
->
width
 = 2;

1011 
p_z_mac_lim
->
lim_num
 =imit_num;

1013 *
pGn
 +
p_z_mac_lim
->
width
 + 4;

1017 
	}
}

1019 
	$el_z_t_mac_addr_lim
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

1021 
u8_t
 
t
, 
ucPtS
, 
ucPtE
;

1022 
m_t_ڣ_t
 *
p_r
;

1023 
m__v_t_2_0
 *
p_
;

1024 
m_z_mac_lim_t
 *
p_z_mac_lim
;

1026 
t
=
OPL_OK
;

1027 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

1028 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1029 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
;

1032 if(0xFF =
pt__2_0
.
vue
)

1034 
ucPtS
 = 1;

1035 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

1039 
ucPtS
 = 
pt__2_0
.
vue
;

1040 
ucPtE
 = 
pt__2_0
.
vue
;

1042 if(
EPON_OAM_ERR_PARAM
 =
t
)

1044  
EPON_OAM_ERR_OK
;

1047 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

1049 
t
 = 
ERROR
;

1050 
nd_r
;

1052 *
pGn
 = 0;

1054 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

1055 *
p_
 = 
pt__2_0
;

1056 
pRlybuf
 +(
m__v_t_2_0
);

1057 *
pGn
 +(
m__v_t_2_0
);

1060 
p_z_mac_lim
 = (
m_z_mac_lim_t
 *)
p_
;

1061 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1063 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "p܈%d: s malimum = %d\n", 
ucPtS
, 
p_z_mac_lim
->
lim_num
);

1064 
t
 = 
	`ub_z_t_mac_addr_lim
(
ucPtS
, 
p_z_mac_lim
->
lim_num
);

1065 if(
t
 !
NO_ERROR
)

1066 
nd_r
;

1068 
nd_r
:

1069 if(
t
 =
OPL_OK
)

1071 
p_r
->
diti
 = 
OAM_SET_OK
;

1073 i(
t
 =
ERR_INVALID_PARAMETERS
){

1074 
p_r
->
diti
 = 
OAM_SET_BAD_PARAMETERS
;

1078 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1081 *
pGn
 = (
m_t_ڣ_t
);

1082 
	}
}

1085 
u32_t
 
	$ub_z_g_mac_addr_agg_time
(
u32_t
 *
p_agg_time
)

1087 
u32_t
 
t
;

1089 
t
 = 
	`odmFdbAggTimeG
(
p_agg_time
);

1091  
t
;

1092 
	}
}

1094 
u32_t
 
	$ub_z_t_mac_addr_agg_time
(
u32_t
 
agg_time
)

1096 
u32_t
 
t
;

1099 if((
agg_time
<
MIN_MAC_AGETIME
|| (agg_time>
MAX_MAC_AGETIME
))

1101  
ERROR
;

1103 
t
 = 
	`Iol_SMacAgeTime
(
agg_time
*10);

1105 if(
t
 !
DRV_OK
)

1107  
ERROR
;

1110  
t
;

1111 
	}
}

1113 
	$el_z_g_mac_addr_agg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

1115 
u8_t
 
mRCode
;

1116 
m_r_diti_t
 *
p_g_r
;

1117 
m_z_mac_agg_t
 *
p_z_mac_agg
;

1118 
u32_t
 
t
;

1121 
p_z_mac_agg
 = (
m_z_mac_agg_t
 *)
pRlybuf
;

1122 
p_z_mac_agg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1123 
p_z_mac_agg
->
af
 = 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
;

1125 
t
 = 
	`ub_z_g_mac_addr_agg_time
(&
p_z_mac_agg
->
agg_time
);

1127 if(
t
 !
NO_ERROR
)

1129 
p_z_mac_agg
->
width
 = 
OAM_GET_NO_RESOURCE
;

1130 *
pGn
 = 4;

1134 
p_z_mac_agg
->
width
 = (
m_z_mac_agg_t
);

1135 *
pGn
 = 
p_z_mac_agg
->
width
 + 4;

1138 
	}
}

1140 
	$el_z_t_mac_addr_agg
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

1142 
u8_t
 
t
;

1143 
m_t_ڣ_t
 *
p_r
;

1144 
m_z_mac_agg_t
 *
p_z_mac_agg
;

1147 
p_z_mac_agg
 = (
m_z_mac_agg_t
 *)
p_
;

1149 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

1150 
p_r
->
bnch
 = 
p_z_mac_agg
->branch;

1151 
p_r
->
af
 = 
p_z_mac_agg
->leaf;

1153 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "maaddaggim%d\n", 
p_z_mac_agg
->
agg_time
);

1155 
t
 = 
	`ub_z_t_mac_addr_agg_time
(
p_z_mac_agg
->
agg_time
);

1156 if(
t
 =
OPL_OK
)

1158 
p_r
->
diti
 = 
OAM_SET_OK
;

1162 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1165 *
pGn
 = 4;

1168 
	}
}

1172 
u32_t
 
	$ub_z_pt_mac_fr_y_add
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_pt_mac_fr_y_t
 *
p_y
)

1174  
NO_ERROR
;

1175 
	}
}

1177 
u32_t
 
	$ub_z_pt_mac_fr_y_d
(
u8_t
 
pt_id
, u8_
y_id
)

1180  
NO_ERROR
;

1181 
	}
}

1183 
u32_t
 
	$ub_z_pt_mac_fr_y_g
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_pt_mac_fr_y_t
 *
p_y
)

1185 
u16_t
 
vn_id
;

1186 
u8_t
 
mac_addr_r
[32];

1187 
u32_t
 
t
;

1189 
t
 = 
	`odmPtMacFrEryG
(
pt_id
, 
y_id
, &
vn_id
, 
mac_addr_r
);

1191 if(
t
 !
NO_ERROR
)

1192  
t
;

1194 
p_y
->
vn_id
 = vlan_id;

1197 
	`vosSToMac
(
mac_addr_r
, 
p_y
->
mac_addr
);

1200  
NO_ERROR
;

1201 
	}
}

1203 
u32_t
 
	$ub_z_pt_mac_fr_add
(
u8_t
 
pt_id
, 
m_z_pt_mac_fr_y_t
 *
p_y
)

1205 
u8_t
 
num_of_s
;

1206 
u32_t
 
t
;

1207 
u16_t
 
vn_id
;

1208 
u8_t
 
mac_addr_r
[32];

1213 
mac_u_t
 
t_mac_addss
;

1214 
pt_id
 =ort_id;

1215 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

1217 
t_mac_addss
.
lgcPt
 = 0;

1218 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_y
->mac_addr, (
mac_addss_t
));

1219 
t_mac_addss
.
tdVid
 = 
p_y
->
vn_id
;

1221 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1223  
ERROR
;

1227 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1229 
t_mac_addss
.
tdVid
 = 0;

1231 if(!
vnExi
)

1233  
ERROR
;

1239 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

1240 if(
t
 !
DRV_OK
)

1242  
ERROR
;

1244  
NO_ERROR
;

1245 
	}
}

1247 
u32_t
 
	$ub_z_pt_mac_fr_d
(
u8_t
 
pt_id
, 
m_z_pt_mac_fr_y_t
 *
p_y
)

1249 
u32_t
 
t
;

1250 
u8_t
 
num_of_y
;

1251 
u16_t
 
vn_id
;

1252 
u8_t
 
mac_addr_r
[32];

1253 
mac_u_t
 
mac_addss_y
;

1258 
	`memt
(&
mac_addss_y
, 0, (
mac_u_t
));

1260 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1262  
ERROR
;

1265 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1267 
t
 = 
	`Iol_GMacUMac
(0, 
p_y
->
mac_addr
, &
mac_addss_y
);

1269 if(
vnExi
)

1271 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
mac_addss_y
);

1275  
ERROR
;

1278 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
mac_addss_y
);

1281 if(
DRV_OK
 !
t
)

1284  
NO_ERROR
;

1287 if(0 =
mac_addss_y
.
lgcPt
)

1289 
t
 = 
	`Iol_SMacDUMac
(
mac_addss_y
);

1290 if(
DRV_OK
 !=
t
)

1292  
ERROR
;

1295  
NO_ERROR
;

1296 
	}
}

1298 
u32_t
 
	$ub_z_pt_mac_fr_r
(
u8_t
 
pt_id
)

1300 
	`r_mac_fr
();

1301  
NO_ERROR
;

1302 
	}
}

1304 
u32_t
 
	$ub_z_pt_mac_fr_num_g
(
u8_t
 
pt_id
, u8_*
p_y_num
)

1306 
u32_t
 
t
;

1307 
u8_t
 
y_num
;

1310 
t
 = 
	`odmPtMacFrNumG
(
pt_id
, &
y_num
);

1313 if(
t
 !
NO_ERROR
)

1314  
t
;

1316 *
p_y_num
 = 
y_num
;

1318  
NO_ERROR
;

1319 
	}
}

1322 
	$el_z_g_pt_mac_fr
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

1324 
u8_t
 
t
;

1325 
u8_t
 
ucPtS
;

1326 
u8_t
 
ucPtE
;

1327 
u8_t
 
mRCode
;

1328 
m__v_t_2_0
 *
p_
;

1329 
m_z_pt_mac_fr_t
 *
p_z_pt_mac_fr
;

1330 
m_r_diti_t
 * 
p_g_r
;

1331 
u8_t
 
num_of_s
;

1332 
m_z_pt_mac_fr_y_t
 *
p_z_mac_fr_y
;

1333 
u8_t
 
i
;

1335 
t
 = 
NO_ERROR
;

1337 if(0xFF =
pt__2_0
.
vue
)

1339 
ucPtS
 = 1;

1340 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

1344 
ucPtS
 = 
pt__2_0
.
vue
;

1345 
ucPtE
 = 
pt__2_0
.
vue
;

1348 *
pGn
 = 0;

1349 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1351 
pt__2_0
.
vue
 = 
ucPtS
;

1352 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

1353 *
p_
 = 
pt__2_0
;

1354 
pRlybuf
 +(
m__v_t_2_0
);

1355 *
pGn
 +(
m__v_t_2_0
);

1357 
t
 = 
	`ub_z_pt_mac_fr_num_g
(
ucPtS
, &
num_of_s
);

1359 if(
t
 !
NO_ERROR
)

1361 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

1362 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

1363 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1364 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1365 
p_g_r
->
v_diti
 = 
mRCode
;

1367 *
pGn
 +(
m__v_t_2_0
);

1371 
p_z_pt_mac_fr
 = (
m_z_pt_mac_fr_t
 *)
pRlybuf
;

1372 
pRlybuf
 +(
m_z_pt_mac_fr_y_t
);

1374 
p_z_pt_mac_fr
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1375 
p_z_pt_mac_fr
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1376 
p_z_pt_mac_fr
->
ai
 = 0x03;

1379 
p_z_pt_mac_fr
->
num_of_s
 =um_of_entries;

1380 
p_z_pt_mac_fr
->
width
 = 2 + 8 * 
num_of_s
;

1383 
i
 = 0; i < 
num_of_s
; i++)

1386 
p_z_mac_fr_y
 = (
m_z_pt_mac_fr_y_t
 *)
pRlybuf
;

1388 
t
 = 
	`ub_z_pt_mac_fr_y_g
(
ucPtS
, 
i
, 
p_z_mac_fr_y
);

1390 if(
t
 !
NO_ERROR
)

1392 
p_z_pt_mac_fr
->
width
 = 
OAM_GET_NO_RESOURCE
;

1393 *
pGn
 += 4;

1398 
pRlybuf
 +(
m_z_pt_mac_fr_y_t
);

1402 *
pGn
 +
p_z_pt_mac_fr
->
width
 + 4;

1408 
	}
}

1410 
	$el_z_t_pt_mac_fr
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

1412 
u8_t
 
ucPtS
, 
ucPtE
, 
curPtId
;

1413 
m_t_ڣ_t
 *
p_r
;

1414 
m__v_t_2_0
 *
p_
;

1415 
m_z_pt_mac_fr_t
 *
p_z_pt_mac_fr
;

1416 
m_z_pt_mac_fr_y_t
 *
p_z_mac_fr_y
;

1417 
u8_t
 
num_of_s
;

1418 
u8_t
 
i
;

1419 
u32_t
 
t
;

1421 
t
=
OPL_OK
;

1422 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

1423 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1424 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
;

1427 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

1429 
t
 = 
ERROR
;

1430 
nd_r
;

1433 *
pGn
 = 0;

1435 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

1436 *
p_
 = 
pt__2_0
;

1437 
pRlybuf
 +(
m__v_t_2_0
);

1441 
p_z_pt_mac_fr
 = (
m_z_pt_mac_fr_t
 *)
p_
;

1442 
p_
 +(
m_z_pt_mac_fr_t
);

1444 
num_of_s
 = 
p_z_pt_mac_fr
->num_of_entries;

1446 
p_z_mac_fr_y
 = (
m_z_pt_mac_fr_y_t
 *)
p_
;

1448 if(
p_z_pt_mac_fr
->
ai
 == 0x00)

1450 
i
 = 0; i < 
num_of_s
; i++)

1452 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

1454 
t
 = 
	`ub_z_pt_mac_fr_d
(
curPtId
, 
p_z_mac_fr_y
);

1455 if(
t
 !
NO_ERROR
)

1456 
nd_r
;

1459 
p_z_mac_fr_y
++;

1462 if(
p_z_pt_mac_fr
->
ai
 == 0x01)

1464 
i
 = 0; i < 
num_of_s
; i++)

1466 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

1468 
t
 = 
	`ub_z_pt_mac_fr_add
(
curPtId
, 
p_z_mac_fr_y
);

1469 if(
t
 !
NO_ERROR
)

1470 
nd_r
;

1473 
p_z_mac_fr_y
++;

1476 if(
p_z_pt_mac_fr
->
ai
 == 0x02)

1478 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1480 
t
 = 
	`ub_z_pt_mac_fr_r
(
ucPtS
);

1481 if(
t
 !
NO_ERROR
)

1482 
nd_r
;

1486 
nd_r
:

1487 if(
t
 =
OPL_OK
)

1489 
p_r
->
diti
 = 
OAM_SET_OK
;

1493 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1496 *
pGn
 = (
m_t_ڣ_t
+ (
m__v_t_2_0
);

1499 
	}
}

1502 
u32_t
 
	$ub_z_pt_mac_bdg_y_add
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_pt_mac_bdg_y_t
 *
p_y
)

1505  
NO_ERROR
;

1506 
	}
}

1508 
u32_t
 
	$ub_z_pt_mac_bdg_y_d
(
u8_t
 
pt_id
, u8_
y_id
)

1511  
NO_ERROR
;

1512 
	}
}

1514 
u32_t
 
	$ub_z_pt_mac_bdg_y_g
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_pt_mac_bdg_y_t
 *
p_y
)

1516 
u16_t
 
vn_id
;

1517 
u8_t
 
mac_addr_r
[32];

1518 
u32_t
 
t
;

1520 
t
 = 
	`odmPtBdMacEryG
(
pt_id
, 
y_id
, &
vn_id
, 
mac_addr_r
);

1522 if(
t
 !
NO_ERROR
)

1523  
t
;

1525 
p_y
->
vn_id
 = vlan_id;

1527 
	`vosSToMac
(
mac_addr_r
, 
p_y
->
mac_addr
);

1529  
NO_ERROR
;

1531 
	}
}

1534 
u32_t
 
	$ub_z_pt_mac_bdg_add
(
u8_t
 
pt_id
, 
m_z_pt_mac_bdg_y_t
 *
p_y
)

1536 
u32_t
 
t
;

1541 
mac_u_t
 
t_mac_addss
;

1542 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

1543 
t_mac_addss
.
lgcPt
 = 
pt_id
;

1544 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_y
->mac_addr, (
mac_addss_t
));

1545 
t_mac_addss
.
tdVid
 = 
p_y
->
vn_id
;

1548 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1550  
ERROR
;

1553 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1555 
t_mac_addss
.
tdVid
 = 0;

1557 i(!
vnExi
)

1559  
ERROR
;

1563 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

1564 if(
t
 !
DRV_OK
)

1566  
ERROR
;

1568  
NO_ERROR
;

1569 
	}
}

1571 
u32_t
 
	$ub_z_pt_mac_bdg_d
(
u8_t
 
pt_id
, 
m_z_pt_mac_bdg_y_t
 *
p_y
)

1573 
u32_t
 
t
;

1575 
mac_u_t
 
mac_addss_y
;

1577 
UINT8
 
vnExi
 = 0;

1578 
UINT8
 
vnMode
 = 0;

1579 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1581  
ERROR
;

1584 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1586 
t
 = 
	`Iol_GMacUMac
(0, 
p_y
->
mac_addr
, &
mac_addss_y
);

1588 if(
vnExi
)

1590 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
mac_addss_y
);

1594  
ERROR
;

1598 
	`memt
(&
mac_addss_y
, 0, (
mac_u_t
));

1599 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
mac_addss_y
);

1602 if(
DRV_OK
 !
t
)

1605  
NO_ERROR
;

1609 if(
mac_addss_y
.
lgcPt
 =
pt_id
)

1611 
t
 = 
	`Iol_SMacDUMac
(
mac_addss_y
);

1612 if(
DRV_OK
 !=
t
)

1614  
ERROR
;

1618  
NO_ERROR
;

1619 
	}
}

1621 
u32_t
 
	$ub_z_pt_mac_bdg_r
(
u8_t
 
pt_id
)

1623 
u32_t
 
t
;

1624 
mac_de_t
 
bdg_mac_r
;

1625 
	`memt
(&
bdg_mac_r
, 0, (
mac_de_t
));

1627 
bdg_mac_r
.
ushByPt
 = 
ENABLE
;

1628 
bdg_mac_r
.
ushSticAddr
 = 
DISABLE
;

1629 
bdg_mac_r
.
pt
 = 
pt__2_0
.
vue
;

1631 
t
 = 
	`Iol_SMacFlushUMac
(
bdg_mac_r
);

1633  
t
;

1635 
	}
}

1637 
u32_t
 
	$ub_z_pt_mac_bdg_num_g
(
u8_t
 
pt_id
, u8_*
p_y_num
)

1639 
u32_t
 
t
;

1640 
u8_t
 
y_num
;

1643 
t
 = 
	`odmPtBdMacNumG
(
pt_id
, &
y_num
);

1646 if(
t
 !
NO_ERROR
)

1647  
t
;

1649 *
p_y_num
 = 
y_num
;

1651  
NO_ERROR
;

1653 
	}
}

1656 
	$el_z_g_pt_mac_bdg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

1658 
u8_t
 
ucPtS
;

1659 
u8_t
 
ucPtE
;

1660 
u8_t
 
mRCode
;

1661 
m_r_diti_t
 *
p_g_r
;

1662 
m__v_t_2_0
 *
p_
;

1663 
m_z_pt_mac_bdg_t
 *
p_z_pt_mac_bdg
;

1664 
m_z_pt_mac_bdg_y_t
 *
p_z_mac_bdg_y
;

1665 
u8_t
 
i
;

1666 
u32_t
 
t
;

1667 
u8_t
 
num_of_s
;

1669 
t
 = 
NO_ERROR
;

1671 if(0xFF =
pt__2_0
.
vue
)

1673 
ucPtS
 = 1;

1674 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

1678 
ucPtS
 = 
pt__2_0
.
vue
;

1679 
ucPtE
 = 
pt__2_0
.
vue
;

1682 *
pGn
 = 0;

1683 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1685 
pt__2_0
.
vue
 = 
ucPtS
;

1686 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

1687 *
p_
 = 
pt__2_0
;

1688 
pRlybuf
 +(
m__v_t_2_0
);

1689 *
pGn
 +(
m__v_t_2_0
);

1691 
t
 = 
	`ub_z_pt_mac_bdg_num_g
(
ucPtS
, &
num_of_s
);

1693 if(
t
 !
NO_ERROR
)

1695 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

1696 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

1697 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1698 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1699 
p_g_r
->
v_diti
 = 
mRCode
;

1701 *
pGn
 += 4;

1705 
p_z_pt_mac_bdg
 = (
m_z_pt_mac_bdg_t
*)
pRlybuf
;

1706 *
pRlybuf
 +(
m_z_pt_mac_bdg_t
);

1708 
p_z_pt_mac_bdg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1709 
p_z_pt_mac_bdg
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1710 
p_z_pt_mac_bdg
->
ai
 = 0x03;

1712 
p_z_pt_mac_bdg
->
num_of_s
 =um_of_entries;

1713 
p_z_pt_mac_bdg
->
width
 = 2 + 8 * 
num_of_s
;

1715 
i
 = 0; i < 
num_of_s
; i++)

1717 
p_z_mac_bdg_y
 = (
m_z_pt_mac_bdg_y_t
 *)
pRlybuf
;

1719 
t
 = 
	`ub_z_pt_mac_bdg_y_g
(
ucPtS
, 
i
, 
p_z_mac_bdg_y
);

1720 if(
t
 !
NO_ERROR
)

1722 
p_z_pt_mac_bdg
->
width
 = 
OAM_GET_NO_RESOURCE
;

1723 *
pGn
 += 4;

1726 
pGn
 +(
m_z_pt_mac_bdg_y_t
);

1730 *
pGn
 +
p_z_pt_mac_bdg
->
width
 + 4;

1734 
	}
}

1736 
	$el_z_t_pt_mac_bdg
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

1738 
u8_t
 
ucPtS
, 
ucPtE
, 
curPtId
;

1739 
m_t_ڣ_t
 *
p_r
;

1740 
m__v_t_2_0
 *
p_
;

1741 
m_z_pt_mac_bdg_t
 *
p_z_pt_mac_bdg
;

1742 
m_z_pt_mac_bdg_y_t
 *
p_z_mac_bdg_y
;

1743 
u8_t
 
num_of_s
;

1744 
u8_t
 
i
;

1745 
u32_t
 
t
;

1747 
t
=
OPL_OK
;

1748 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

1749 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

1750 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
;

1752 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

1754 
t
 = 
ERROR
;

1755 
nd_r
;

1758 *
pGn
 = 0;

1760 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

1761 *
p_
 = 
pt__2_0
;

1762 
pRlybuf
 +(
m__v_t_2_0
);

1763 *
pGn
 +(
m__v_t_2_0
);

1766 
p_z_pt_mac_bdg
 = (
m_z_pt_mac_bdg_t
 *)
p_
;

1767 
p_
 +(
m_z_pt_mac_bdg_t
);

1769 
num_of_s
 = 
p_z_pt_mac_bdg
->num_of_entries;

1771 
p_z_mac_bdg_y
 = (
m_z_pt_mac_bdg_y_t
 *)
p_
;

1773 if(
p_z_pt_mac_bdg
->
ai
 == 0x00)

1775 
i
 = 0; i < 
num_of_s
; i++)

1777 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

1779 
t
 = 
	`ub_z_pt_mac_bdg_d
(
curPtId
, 
p_z_mac_bdg_y
);

1780 if(
t
 !
NO_ERROR
)

1781 
nd_r
;

1784 
p_z_mac_bdg_y
++;

1787 if(
p_z_pt_mac_bdg
->
ai
 == 0x01)

1789 
i
 = 0; i < 
num_of_s
; i++)

1791 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

1793 
t
 = 
	`ub_z_pt_mac_bdg_add
(
curPtId
, 
p_z_mac_bdg_y
);

1794 if(
t
 !
NO_ERROR
)

1795 
nd_r
;

1798 
p_z_mac_bdg_y
++;

1801 if(
p_z_pt_mac_bdg
->
ai
 == 0x02)

1803 ; 
ucPtS
<=
ucPtE
; ucPortS++)

1805 
t
 = 
	`ub_z_pt_mac_bdg_r
(
ucPtS
);

1806 if(
t
 !
NO_ERROR
)

1807 
nd_r
;

1811 
nd_r
:

1812 if(
t
 =
OPL_OK
)

1814 
p_r
->
diti
 = 
OAM_SET_OK
;

1818 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

1821 *
pGn
 +(
m_t_ڣ_t
)+(
m__v_t_2_0
);

1824 
	}
}

1828 
u32_t
 
	$ub_z_pt_ic_mac_y_add
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_ic_mac_y_t
 *
p_y
)

1831  
NO_ERROR
;

1832 
	}
}

1834 
u32_t
 
	$ub_z_pt_ic_mac_y_d
(
u8_t
 
pt_id
, u8_
y_id
)

1837  
NO_ERROR
;

1838 
	}
}

1840 
u32_t
 
	$ub_z_pt_ic_mac_y_g
(
u8_t
 
pt_id
, u8_
y_id
, 
m_z_ic_mac_y_t
 *
p_y
)

1842 
u16_t
 
vn_id
;

1843 
u8_t
 
mac_addr_r
[32];

1844 
u32_t
 
t
;

1846 
t
 = 
	`odmPtSticMacEryG
(
pt_id
, 
y_id
, &
vn_id
, 
mac_addr_r
);

1848 if(
t
 !
NO_ERROR
)

1849  
t
;

1851 
p_y
->
vn_id
 = vlan_id;

1853 
	`vosSToMac
(
mac_addr_r
, 
p_y
->
mac_addr
);

1855  
NO_ERROR
;

1856 
	}
}

1858 
u32_t
 
	$ub_z_pt_ic_mac_num_g
(
u8_t
 
pt_id
, u8_*
p_y_num
)

1860 
u32_t
 
t
;

1861 
u8_t
 
y_num
;

1864 
t
 = 
	`odmPtSticMacNumG
(
pt_id
, &
y_num
);

1866 if(
t
 !
NO_ERROR
)

1867  
t
;

1869 *
p_y_num
 = 
y_num
;

1871  
NO_ERROR
;

1873 
	}
}

1876 
u32_t
 
	$ub_z_pt_ic_mac_add
(
u8_t
 
pt_id
, 
m_z_ic_mac_y_t
 *
p_y
)

1878 
u32_t
 
t
;

1879 
mac_u_t
 
g_mac_addss
;

1880 
mac_u_t
 
t_mac_addss
;

1883 
UINT8
 
vnMode
= 0;

1884 
UINT8
 
vnExi
= 0;

1885 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1887  
ERROR
;

1890 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1892 
t
 = 
	`Iol_GMacUMac
(0, 
p_y
->
mac_addr
, &
g_mac_addss
);

1894 if(
vnExi
)

1897 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
g_mac_addss
);

1901  
ERROR
;

1904 
	`memt
(&
g_mac_addss
, 0, (
mac_u_t
));

1905 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
g_mac_addss
);

1908 if(
DRV_OK
 =
t
)

1910  
ERROR
;

1912 if(
DRV_ERR_MAC_ADDR_NOT_FOUND
 =
t
)

1914 
	`memt
(&
t_mac_addss
, 0, (
mac_u_t
));

1915 
t_mac_addss
.
lgcPt
 = 
pt_id
;

1916 
	`memy
(
t_mac_addss
.
mac_addr
, 
p_y
->mac_addr, (
mac_addss_t
));

1918 
t_mac_addss
.
tdVid
 = 
p_y
->
vn_id
;

1920 
t_mac_addss
.
ucStic
 = 1;

1921 
t
 = 
	`Iol_SMacAddUMac
(
t_mac_addss
);

1922 if(
t
 !
DRV_OK
)

1924  
ERROR
;

1926  
NO_ERROR
;

1928  
ERROR
;

1929 
	}
}

1931 
u32_t
 
	$ub_z_pt_ic_mac_d
(
u8_t
 
pt_id
, 
m_z_ic_mac_y_t
 *
p_y
)

1933 
u32_t
 
t
 = 
NO_ERROR
;

1934 
u8_t
 
num_of_y
;

1935 
u16_t
 
vn_id
;

1936 
u8_t
 
mac_addr_r
[32];

1937 
mac_u_t
 
g_mac_addss
;

1940 
u8_t
 
vnMode
 = 0;

1941 
u8_t
 
vnExi
 = 0;

1943 if(
	`CTC_CheckVidVidFLgcPt
(
pt_id
, 
p_y
->
vn_id
, &
vnMode
, &
vnExi
))

1945  
ERROR
;

1948 if(
CTC_VLAN_MODE_TRANSPARENT
 =
vnMode
)

1950 
t
 = 
	`Iol_GMacUMac
(0, 
p_y
->
mac_addr
, &
g_mac_addss
);

1957 
t
 = 
	`Iol_GMacUMac
(
p_y
->
vn_id
,_y->
mac_addr
, &
g_mac_addss
);

1960 if(
DRV_OK
 !
t
)

1963  
NO_ERROR
;

1966 if(
g_mac_addss
.
lgcPt
 =
pt_id
)

1968 
t
 = 
	`Iol_SMacDUMac
(
g_mac_addss
);

1969 if(
DRV_OK
 !=
t
)

1971  
ERROR
;

1974  
NO_ERROR
;

1975 
	}
}

1977 
u32_t
 
	$ub_z_pt_ic_mac_r
(
u8_t
 
pt_id
)

1980 
u32_t
 
t
;

1981 
mac_de_t
 
ic_mac_r
;

1982 
	`memt
(&
ic_mac_r
, 0, (
mac_de_t
));

1983 
ic_mac_r
.
ushSticAddr
 = 
ENABLE
;

1984 
ic_mac_r
.
ushByPt
 = 
ENABLE
;

1985 
ic_mac_r
.
pt
 = 
pt__2_0
.
vue
;

1986 
t
 = 
	`Iol_SMacFlushUMac
(
ic_mac_r
);

1987 if(
DRV_OK
 !
t
)

1989  
ERROR
;

1992 
	`r_mac_ic
(
pt_id
);

1994  
NO_ERROR
;

1995 
	}
}

1998 
	$el_z_g_ic_mac_cfg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

2000 
u8_t
 
ucPtS
;

2001 
u8_t
 
ucPtE
;

2002 
u8_t
 
mRCode
;

2003 
m_r_diti_t
 *
p_g_r
;

2004 
m__v_t_2_0
 *
p_
;

2005 
m_z_ic_mac_cfg_t
 *
p_z_pt_ic_mac
;

2006 
m_z_ic_mac_y_t
 *
p_z_ic_mac_y
;

2007 
u8_t
 
i
;

2008 
u32_t
 
t
;

2009 
u8_t
 
num_of_s
;

2011 
t
 = 
NO_ERROR
;

2013 if(0xFF =
pt__2_0
.
vue
)

2015 
ucPtS
 = 1;

2016 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

2020 
ucPtS
 = 
pt__2_0
.
vue
;

2021 
ucPtE
 = 
pt__2_0
.
vue
;

2024 *
pGn
 = 0;

2025 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2028 
pt__2_0
.
vue
 = 
ucPtS
;

2029 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

2030 *
p_
 = 
pt__2_0
;

2031 
pRlybuf
 +(
m__v_t_2_0
);

2032 *
pGn
 +(
m__v_t_2_0
);

2034 
t
 = 
	`ub_z_pt_ic_mac_num_g
(
ucPtS
, &
num_of_s
);

2036 if(
t
 !
NO_ERROR
)

2038 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

2039 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

2040 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2041 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2042 
p_g_r
->
v_diti
 = 
mRCode
;

2043 *
pGn
 += 4;

2047 
p_z_pt_ic_mac
 = (
m_z_ic_mac_cfg_t
*)
pRlybuf
;

2048 
pRlybuf
 +(
m_z_ic_mac_cfg_t
);

2050 
p_z_pt_ic_mac
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2051 
p_z_pt_ic_mac
->
af
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2052 
p_z_pt_ic_mac
->
ai
 = 0x03;

2055 
p_z_pt_ic_mac
->
num_of_s
 =um_of_entries;

2056 
p_z_pt_ic_mac
->
width
 = 2 + 8 * 
num_of_s
;

2058 
i
 = 0; i < 
num_of_s
; i++)

2060 
p_z_ic_mac_y
 = (
m_z_ic_mac_y_t
 *)
pRlybuf
;

2062 
t
=
	`ub_z_pt_ic_mac_y_g
(
ucPtS
, 
i
, 
p_z_ic_mac_y
);

2063 if(
t
 !
NO_ERROR
)

2065 
p_z_pt_ic_mac
->
width
 = 
OAM_GET_NO_RESOURCE
;

2066 *
pGn
 += 4;

2069 
pRlybuf
 +(
m_z_ic_mac_y_t
);

2073 *
pGn
 +
p_z_pt_ic_mac
->
width
 + 4;

2077 
	}
}

2079 
	$el_z_t_ic_mac_cfg
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

2081 
u8_t
 
ucPtS
, 
ucPtE
, 
curPtId
;

2082 
m_t_ڣ_t
 *
p_r
;

2083 
m__v_t_2_0
 *
p_
;

2084 
m_z_ic_mac_cfg_t
 *
p_z_ic_mac
;

2085 
m_z_ic_mac_y_t
 *
p_z_ic_mac_y
;

2086 
u8_t
 
num_of_s
;

2087 
u8_t
 
i
;

2088 
u32_t
 
t
;

2090 
t
=
OPL_OK
;

2091 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

2092 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2093 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
;

2095 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

2097 
t
 = 
ERROR
;

2098 
nd_r
;

2101 *
pGn
 = 0;

2103 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

2104 *
p_
 = 
pt__2_0
;

2105 
pRlybuf
 +(
m__v_t_2_0
);

2106 *
pGn
 +(
m__v_t_2_0
);

2109 
p_z_ic_mac
 = (
m_z_ic_mac_cfg_t
 *)
p_
;

2110 
p_
 +(
m_z_ic_mac_cfg_t
);

2112 
num_of_s
 = 
p_z_ic_mac
->num_of_entries;

2114 
p_z_ic_mac_y
 = (
m_z_ic_mac_y_t
 *)
p_
;

2116 if(
p_z_ic_mac
->
ai
 == 0x00)

2118 
i
 = 0; i < 
num_of_s
; i++)

2120 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

2122 
t
 = 
	`ub_z_pt_ic_mac_d
(
curPtId
, 
p_z_ic_mac_y
);

2123 if(
t
 !
NO_ERROR
)

2124 
nd_r
;

2127 
p_z_ic_mac_y
++;

2130 if(
p_z_ic_mac
->
ai
 == 0x01)

2132 
i
 = 0; i < 
num_of_s
; i++)

2134 
curPtId
=
ucPtS
; curPtId<=
ucPtE
; curPortId++)

2136 
t
 = 
	`ub_z_pt_ic_mac_add
(
curPtId
, 
p_z_ic_mac_y
);

2137 if(
t
 !
NO_ERROR
)

2138 
nd_r
;

2141 
p_z_ic_mac_y
++;

2144 if(
p_z_ic_mac
->
ai
 == 0x02)

2146 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2148 
t
 = 
	`ub_z_pt_ic_mac_r
(
ucPtS
);

2149 if(
t
 !
NO_ERROR
)

2150 
nd_r
;

2154 
nd_r
:

2155 if(
t
 =
OPL_OK
)

2157 
p_r
->
diti
 = 
OAM_SET_OK
;

2161 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

2164 *
pGn
 +(
m_t_ڣ_t
)+(
m__v_t_2_0
);

2167 
	}
}

2170 
u32_t
 
	$ub_z_g_uni_isީi
(
m_z_uni_isީi_t
 *
p_uni_isީi
)

2172 
u8_t
 
isީi
;

2173 
u32_t
 
t
 = 
ERROR
;

2175 
t
 = 
	`odmGLolSwch
(
ODM_START_PORT_NUN
, &
isީi
);

2177 if(
t
 !
NO_ERROR
)

2178  
t
;

2180 
p_uni_isީi
->
isީi
 = isolation?0:1;

2182  
NO_ERROR
;

2183 
	}
}

2185 
u32_t
 
	$ub_z_t_uni_isީi
(
m_z_uni_isީi_t
 *
p_uni_isީi
)

2187 
u8_t
 
pt_id
;

2188 
u32_t
 
t
;

2190 
pt_id
 = 
ODM_START_PORT_NUN
;t_id <
ODM_NUM_OF_PORTS
;ort_id++)

2192 
t
 = 
	`DRV_SPtIsީi
(
pt_id
, 
p_uni_isީi
->
isީi
?1:0);

2193 if(
t
 !
NO_ERROR
)

2194  
t
;

2197  
NO_ERROR
;

2198 
	}
}

2200 
	$el_z_g_uni_isީi
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

2202 
u8_t
 
mRCode
;

2203 
m_r_diti_t
 *
p_g_r
;

2204 
m_z_uni_isީi_t
 *
p_z_uni_isީi
;

2205 
m_z_uni_isީi_t
 
uni_isީi
;

2206 
u32_t
 
t
;

2209 
t
 = 
	`ub_z_g_uni_isީi
(&
uni_isީi
);

2210 *
pGn
 = 0;

2211 if(
t
 !
NO_ERROR
)

2213 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

2214 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

2215 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2216 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2217 
p_g_r
->
v_diti
 = 
mRCode
;

2218 *
pGn
 += 4;

2224 
p_z_uni_isީi
 = (
m_z_uni_isީi_t
 *)
pRlybuf
;

2225 
p_z_uni_isީi
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2226 
p_z_uni_isީi
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2227 
p_z_uni_isީi
->
width
 = 1;

2228 
p_z_uni_isީi
->
isީi
 = 
uni_isީi
.isolation;

2230 *
pGn
 +
p_z_uni_isީi
->
width
 + 4;

2234 
	}
}

2236 
	$el_z_t_uni_isީi
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

2238 
u8_t
 
t
;

2239 
m_t_ڣ_t
 *
p_r
;

2240 
m_z_uni_isީi_t
 *
p_z_uni_isީi
;

2242 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

2243 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2244 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
;

2246 
p_z_uni_isީi
 = (
m_z_uni_isީi_t
 *)
p_
;

2248 
t
 = 
	`ub_z_t_uni_isީi
(
p_z_uni_isީi
);

2249 if(
t
 =
OPL_OK
)

2251 
p_r
->
diti
 = 
OAM_SET_OK
;

2255 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

2258 *
pGn
 = 4;

2261 
	}
}

2263 
u32_t
 
	$ub_z_g_uni_h_s
(
u8_t
 
pt_id
, 
m_z_u_h_s_t
 *
p_h_s
)

2265 
UNI_COUNTER_S
 
mibCous
;

2266 
u32_t
 
t
 = 
NO_ERROR
;

2267 
t
 = 
	`DRV_GPtMibCou
(
pt_id
, &
mibCous
);

2268 if(
t
 !
NO_ERROR
)

2269  
t
;

2270 
p_h_s
->
ifInOs
 = 
mibCous
.
uiRecOs
;

2271 
p_h_s
->
ifInUPkts
 = 
mibCous
.
InUni
;

2272 
p_h_s
->
ifInNUPkts
 = 
mibCous
.
InMui
 + mibCous.
InBrd
;

2273 
p_h_s
->
ifInDisrds
 = 
mibCous
.
ulInDrݳd
;

2275 
p_h_s
->
ifInEs
 = 0;

2276 
p_h_s
->
ifOutOs
 = 
mibCous
.
uiTnsOs
;

2277 
p_h_s
->
ifOutUPkts
 = 
mibCous
.
OutUni
;

2278 
p_h_s
->
ifOutNUPkts
 = 
mibCous
.
OutMui
+mibCous.
OutBrd
;

2279 
p_h_s
->
ifOutDisrds
 = 0;

2280 
p_h_s
->
ifOutEs
 = 0;

2282  
NO_ERROR
;

2283 
	}
}

2285 
	$el_z_g_u_h_s
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

2287 
u32_t
 
t
;

2288 
u8_t
 
ucPtS
;

2289 
u8_t
 
ucPtE
;

2290 
u8_t
 
mRCode
;

2291 
m_r_diti_t
 *
p_g_r
;

2292 
m__v_t_2_0
 *
p_
;

2293 
m_z_u_h_s_t
 *
p_z_pt_h_s
;

2294 
m_z_u_h_s_t
 
z_pt_h_s
;

2296 
t
 = 
NO_ERROR
;

2298 if(0xFF =
pt__2_0
.
vue
)

2300 
ucPtS
 = 1;

2301 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

2305 
ucPtS
 = 
pt__2_0
.
vue
;

2306 
ucPtE
 = 
pt__2_0
.
vue
;

2309 *
pGn
 = 0;

2310 ; 
ucPtS
<=
ucPtE
; ucPortS++)

2312 
pt__2_0
.
vue
 = 
ucPtS
;

2313 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

2314 *
p_
 = 
pt__2_0
;

2315 
pRlybuf
 +(
m__v_t_2_0
);

2316 *
pGn
 +(
m__v_t_2_0
);

2318 
t
 = 
	`ub_z_g_uni_h_s
(
ucPtS
, &
z_pt_h_s
);

2320 if(
t
 !
NO_ERROR
)

2322 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

2323 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

2324 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2325 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
;

2326 
p_g_r
->
v_diti
 = 
mRCode
;

2327 *
pGn
 += 4;

2331 
p_z_pt_h_s
 = (
m_z_u_h_s_t
 *)
pRlybuf
;

2332 
p_z_pt_h_s
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2333 
p_z_pt_h_s
->
af
 = 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
;

2334 
p_z_pt_h_s
->
width
 = 112;

2336 
p_z_pt_h_s
->
ifInOs
 = 
z_pt_h_s
.ifInOctets;

2337 
p_z_pt_h_s
->
ifInUPkts
 = 
z_pt_h_s
.ifInUcastPkts;

2338 
p_z_pt_h_s
->
ifInNUPkts
 = 
z_pt_h_s
.ifInNUcastPkts;

2339 
p_z_pt_h_s
->
ifInDisrds
 = 
z_pt_h_s
.ifInDiscards;

2340 
p_z_pt_h_s
->
ifInEs
 = 
z_pt_h_s
.ifInErrors;

2341 
p_z_pt_h_s
->
ifOutOs
 = 
z_pt_h_s
.ifOutOctets;

2342 
p_z_pt_h_s
->
ifOutUPkts
 = 
z_pt_h_s
.ifOutUcastPkts;

2343 
p_z_pt_h_s
->
ifOutNUPkts
 = 
z_pt_h_s
.ifOutNUcastPkts;

2344 
p_z_pt_h_s
->
ifOutDisrds
 = 
z_pt_h_s
.ifOutDiscards;

2345 
p_z_pt_h_s
->
ifOutEs
 = 
z_pt_h_s
.ifOutErrors;

2347 *
pGn
 +
p_z_pt_h_s
->
width
 + 4;

2351 
	}
}

2354 
u32_t
 
	$ub_z_g_pt_mode
(
u8_t
 
pt_id
, 
m_z_pt_mode_t
 *
p_z_pt_mode
)

2356 
u32_t
 
t
;

2357 
u32_t
 
duex
;

2358 
u32_t
 
d
;

2359 
u32_t
 
lk_us
;

2362 
t
 = 
	`DRV_GPtLkStus
(
pt_id
, &
lk_us
);

2363 if(
t
 !
NO_ERROR
)

2364  
t
;

2365 
t
 = 
	`DRV_GPtSed
(
pt_id
, &
d
);

2366 if(
t
 !
NO_ERROR
)

2367  
t
;

2369 
t
 = 
	`DRV_GPtDuex
(
pt_id
, &
duex
);

2370 if(
t
 !
NO_ERROR
)

2371  
t
;

2373 if(
lk_us
 == 0)

2375 
p_z_pt_mode
->
pt_mode
 = 0xff;

2377 if(
d
 =
SPEED_10M
)

2379 if(
duex
 =
DUPLEX_HALF
)

2381 
p_z_pt_mode
->
pt_mode
 = 
ZTE_PORT_MODE_10M_HALF
;

2385 
p_z_pt_mode
->
pt_mode
 = 
ZTE_PORT_MODE_10M_FULL
;

2388 if(
d
 =
SPEED_100M
)

2390 if(
duex
 =
DUPLEX_HALF
)

2392 
p_z_pt_mode
->
pt_mode
 = 
ZTE_PORT_MODE_100M_HALF
;

2396 
p_z_pt_mode
->
pt_mode
 = 
ZTE_PORT_MODE_100M_FULL
;

2399 if(
d
 =
SPEED_1000M
)

2401 
p_z_pt_mode
->
pt_mode
 = 
ZTE_PORT_MODE_1000M
;

2404  
NO_ERROR
;

2405 
	}
}

2407 
u32_t
 
	$ub_z_t_pt_mode
(
u8_t
 
pt_id
, u8_
p_z_pt_mode
)

2409 
u8_t
 
pt_mode
;

2410 
u32_t
 
t
 = 
NO_ERROR
;

2412 
pt_mode
 = 
p_z_pt_mode
-1;

2421 
pt_mode
)

2423 
ZTE_PORT_MODE_AUTO
:

2424 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_AUTO
);

2425 if(
t
 !
NO_ERROR
)

2426  
t
 ;

2427 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
DUPLEX_AUTO
);

2430 
ZTE_PORT_MODE_10M_HALF
:

2431 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_10M
);

2432 if(
t
 !
NO_ERROR
)

2433  
t
;

2435 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_HALF
);

2436 if(
t
 !
NO_ERROR
)

2437  
t
;

2440 
ZTE_PORT_MODE_10M_FULL
:

2442 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_10M
);

2443 if(
t
 !
NO_ERROR
)

2444  
t
;

2446 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_FULL
);

2447 if(
t
 !
NO_ERROR
)

2448  
t
;

2452 
ZTE_PORT_MODE_100M_HALF
:

2454 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_100M
);

2455 if(
t
 !
NO_ERROR
)

2456  
t
;

2458 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_HALF
);

2459 if(
t
 !
NO_ERROR
)

2460  
t
;

2464 
ZTE_PORT_MODE_100M_FULL
:

2465 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_100M
);

2466 if(
t
 !
NO_ERROR
)

2467  
t
;

2469 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_FULL
);

2470 if(
t
 !
NO_ERROR
)

2471  
t
;

2475 
ZTE_PORT_MODE_1000M
:

2477 
t
 = 
	`DRV_SPtSed
(
pt_id
, 
SPEED_1000M
);

2478 if(
t
 !
NO_ERROR
)

2479  
t
;

2481 
t
 = 
	`DRV_SPtDuex
(
pt_id
, 
DUPLEX_AUTO
);

2482 if(
t
 !
NO_ERROR
)

2483  
t
;

2486 
t
 = 
ERR_INVALID_PARAMETERS
;

2489  
t
;

2490 
	}
}

2494 
u8_t
 
	gt_pt_id
 = 0;

2495 
u8_t
 
	gt_pt_mode
 = 0;

2497 *
	$APtModeThad
(* 
pszPam
)

2499 
t
=0;

2501 
	`vosS˕
(1);

2502 if(
t_pt_mode
 != 0)

2504 
t
 = 
	`ub_z_t_pt_mode
(
t_pt_id
 , 
t_pt_mode
);

2505 if(
t
 =
NO_ERROR
)

2507 
t_pt_mode
 = 0;

2508 
t_pt_id
 = 0;

2511 
	`vosThadEx
(0);

2512  
NULL
;

2513 
	}
}

2517 
	$el_z_g_pt_mode
(
u8_t
 
ty
,u8_
pt
, u8_t*
pRlyBuf
, 
u16_t
* 
pGn
)

2519 
u8_t
 
t
;

2520 
u8_t
 
mRCode
;

2521 
m_r_diti_t
 *
p_g_r
;

2522 
m__v_t_2_0
 *
p_
;

2523 
m_z_pt_mode_t
 *
p_z_pt_mode
;

2524 
m_z_pt_mode_t
 
pt_mode
;

2526 *
pGn
 = 0;

2527 
p_z_pt_mode
 = (
m_z_pt_mode_t
 *)
pRlyBuf
;

2528 
p_z_pt_mode
->
bnch
 = 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
;

2529 
p_z_pt_mode
->
af
 = 
OAM_ZTE_EXT_LEAF_GET_PORT_MODE
;

2531 if
ty
!=0x01 || 
pt
 > 
ODM_NUM_OF_PORTS
 ||܈< 
ODM_START_PORT_NUN
)

2533 
p_z_pt_mode
->
width
 = 
OAM_BAD_PARAM_VALUE
;

2534 *
pGn
 += 4;

2538 
t
 = 
	`ub_z_g_pt_mode
(
pt
, 
p_z_pt_mode
);

2540 if(
t
 !
NO_ERROR
)

2542 
p_z_pt_mode
->
width
 = 
OAM_BAD_PARAM_VALUE
;

2544 *
pGn
 += 4;

2549 
p_z_pt_mode
->
width
 = 1;

2550 
p_z_pt_mode
->
pt_mode
 =_zte_port_mode->port_mode+1;

2552 *
pGn
 +
p_z_pt_mode
->
width
 + 4;

2556 
	}
}

2558 
	$el_z_t_pt_mode
(
u8_t
 *
p_
,u8_
ty
,u8_
pt
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

2560 
u32_t
 
t
;

2561 
m_t_ڣ_t
 *
p_r
;

2562 
m__v_t_2_0
 *
p_
;

2563 
m_z_pt_mode_t
 *
p_z_pt_mode
;

2565 
t
=
OPL_OK
;

2567 *
pGn
 = 0;

2568 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

2569 
p_r
->
bnch
 = 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
;

2570 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_SET_PORT_MODE
;

2572 if
ty
!=0x01 || 
pt
 > 
ODM_NUM_OF_PORTS
 ||܈< 
ODM_START_PORT_NUN
)

2574 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2575 *
pGn
 += 4;

2579 
p_z_pt_mode
 = (
m_z_pt_mode_t
 *)
p_
;

2583 
t_pt_id
 = 
pt
;

2584 
t_pt_mode
 = 
p_z_pt_mode
->
pt_mode
;

2586 if
t_pt_mode
 > 0x06)

2588 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2589 *
pGn
 += 4;

2594 #i
	`defed
(
CONFIG_BOSA
)

2595 if
t_pt_mode
 > 0x05)

2597 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2598 *
pGn
 += 4;

2602 i(
NULL
 =
	`vosThadCe
("tPtMode", 
OP_VOS_THREAD_STKSZ
, 110,

2603 (*)
APtModeThad
, 
NULL
))

2605 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
," create AfterPortModeThreadhread failed\n");

2606 
t
 = 
ERROR
;

2609 if
pt
 > 0x06)

2611 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2612 *
pGn
 += 4;

2617 #i
	`defed
(
CONFIG_BOSA
)

2618 if
p_z_pt_mode
->
pt_mode
 > 0x05)

2620 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2621 *
pGn
 += 4;

2626 
t
 = 
	`ub_z_t_pt_mode
(
pt
 , 
p_z_pt_mode
->
pt_mode
);

2630 if(!
t
)

2632 
p_r
->
diti
 = 
OAM_SET_OK
;

2636 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

2639 *
pGn
 +(
m_t_ڣ_t
);

2642 
	}
}

2645 
	#OAM_MAX_MAC_NUM
 200

	)

2646 
	#MAX_ENTITY
 17

	)

2649 
u16_t
 
	mwidth
;

2650 
u16_t
 
	mndom_vue
;

2651 
u16_t
 
	mqu_num
;

2652 
u16_t
 
	mtٮ_addr_num
;

2653 }
	t__ibu__
((
	t__cked__
))
	tmac_b_hd_t
;

2657 *
	mpMacPo
;

2658 
	mmacPos
;

2659 
u32_t
 
	mmacCou
;

2660 }
	tmac_b_t
;

2663 
mac_b_hd_t
 
	mmacHd
;

2664 
mac_b_t
 
	micUniTab
;

2665 
mac_b_t
 
	mdymUniTab
;

2666 
mac_b_t
 
	mmuiTab
;

2667 }
	tmac_b_vue_t
;

2670 
mac_b_vue_t
 
	ggMacPooVue
 = {.
macHd
.
ndom_vue
 = 0xffff};

2673 
	#IS_MULTICAST_MACADDR
(
mac
(((mac)[0] & 0x1=1)

	)

2676 
	#IS_BROADCAST_MACADDR
(
mac
(((mac)[0] =0xFF&& \

	)

2677 ((
	gmac
)[1] =0xFF&& ((
mac
)[2] == 0xFF) && \

2678 ((
mac
)[3] == 0xFF) && ((mac)[4] == 0xFF) && \

2679 ((
mac
)[5] == 0xFF))

2681 
	$_mac_po
(
u16_t
 
ndomVue
)

2683 
gMacPooVue
.
macHd
.
ndom_vue
 = 
ndomVue
;

2684 
gMacPooVue
.
macHd
.
qu_num
 = 0;

2685 
gMacPooVue
.
macHd
.
tٮ_addr_num
 = 0;

2687 
gMacPooVue
.
icUniTab
.
macCou
 = 0;

2688 
gMacPooVue
.
dymUniTab
.
macCou
 = 0;

2689 
gMacPooVue
.
muiTab
.
macCou
 = 0;

2690 
gMacPooVue
.
icUniTab
.
macPos
 = 0;

2691 
gMacPooVue
.
dymUniTab
.
macPos
 = 0;

2692 
gMacPooVue
.
muiTab
.
macPos
 = 0;

2695 
gMacPooVue
.
macHd
.
tٮ_addr_num
 = 0;

2697 if(
gMacPooVue
.
muiTab
.
pMacPo
 =
NULL
)

2699 
gMacPooVue
.
muiTab
.
pMacPo
 = 
	`vosAoc
(((
m_z_uni_mac_quy_y_t
)+2)*
OAM_MAX_MAC_NUM
);

2702 if(
gMacPooVue
.
dymUniTab
.
pMacPo
 =
NULL
)

2704 
gMacPooVue
.
dymUniTab
.
pMacPo
 = 
	`vosAoc
(((
m_z_uni_mac_quy_y_t
)+2)*
OAM_MAX_MAC_NUM
);

2707 if(
gMacPooVue
.
icUniTab
.
pMacPo
 =
NULL
)

2709 
gMacPooVue
.
icUniTab
.
pMacPo
 = 
	`vosAoc
(((
m_z_uni_mac_quy_y_t
)+2)*
OAM_MAX_MAC_NUM
);

2711 
	}
}

2714 
	$add_mac_ty
(
mac_dump_u_b_t
 *
pmacEry
, 
mac_b_vue_t
 *
pMacPoVue
)

2716 
pos
 = 0;

2717 
ty
;

2718 if(
	`IS_MULTICAST_MACADDR
(
pmacEry
->
mac_addr
))

2720 if(
	`IS_BROADCAST_MACADDR
((
pmacEry
->
mac_addr
)))

2723 if(
pMacPoVue
->
muiTab
.
macCou
 < 
OAM_MAX_MAC_NUM
)

2725 
pos
 = 
pMacPoVue
->
muiTab
.
macCou
 * (
m_z_uni_mac_quy_y_t
);

2726 
	`memy
(&
pMacPoVue
->
muiTab
.
pMacPo
[
pos
], &
pmacEry
->
mac_addr
[0], (
m_z_uni_mac_quy_y_t
));

2727 
pMacPoVue
->
muiTab
.
macCou
 ++;

2737 
pmacEry
->
ag
 & 0x04)

2740 if(
pMacPoVue
->
dymUniTab
.
macCou
 < 
OAM_MAX_MAC_NUM
)

2742 
pos
 = 
pMacPoVue
->
dymUniTab
.
macCou
*8;

2743 
	`memy
(&
pMacPoVue
->
dymUniTab
.
pMacPo
[
pos
], &
pmacEry
->
mac_addr
[0], (
m_z_uni_mac_quy_y_t
));

2744 
	`memy
(&
pMacPoVue
->
dymUniTab
.
pMacPo
[
pos
+6], &
pmacEry
->
vid
, 2);

2745 
pMacPoVue
->
dymUniTab
.
macCou
++;

2755 if(
pMacPoVue
->
icUniTab
.
macCou
 < 
OAM_MAX_MAC_NUM
)

2757 
pos
 = 
pMacPoVue
->
icUniTab
.
macCou
 * 8;

2758 
	`memy
(&
pMacPoVue
->
icUniTab
.
pMacPo
[
pos
], &
pmacEry
->
mac_addr
[0], (
m_z_uni_mac_quy_y_t
) );

2759 
	`memy
(&
pMacPoVue
->
icUniTab
.
pMacPo
[
pos
+6], &
pmacEry
->
vid
, 2);

2760 
pMacPoVue
->
icUniTab
.
macCou
 ++;

2773 
	}
}

2775 
	$mac_sour_
()

2777 
	`vosFe
(
gMacPooVue
.
icUniTab
.
pMacPo
);

2778 
gMacPooVue
.
icUniTab
.
pMacPo
 = 
NULL
;

2780 
	`vosFe
(
gMacPooVue
.
dymUniTab
.
pMacPo
);

2781 
gMacPooVue
.
dymUniTab
.
pMacPo
 = 
NULL
;

2783 
	`vosFe
(
gMacPooVue
.
muiTab
.
pMacPo
);

2784 
gMacPooVue
.
muiTab
.
pMacPo
 = 
NULL
;

2785 
	}
}

2787 
	$add_mac_block_ty
(
m_z_uni_mac_quy_block_t
 *
mac_block
, 
mac_b_t
 *
pMacPoVue
, 
have_cyed_num
)

2790 
y_num
 = 0;

2791 
tٮ_cy_num
 = 
have_cyed_num
;

2792 
u16_t
 
mpVid
 = 0;

2793 if((
pMacPoVue
->
macCou
 -MacPoVue->
macPos
/8) > 0)

2795 
	`memy
(
mac_block
->
mac_vue
, &
pMacPoVue
->
pMacPo
[pMacPoVue->
macPos
], (
m_z_uni_mac_quy_y_t
));

2796 
	`memy
(&
mpVid
, &
pMacPoVue
->
pMacPo
[pMacPoVue->
macPos
 + 6], 2);

2797 
mac_block
->
addr_ty
 = (
u32_t
)
mpVid
;

2798 
pMacPoVue
->
macPos
 += 8;

2802 
	}
}

2805 
u16_t
 
	$g_mac_ty
(
m_z_uni_mac_quy_block_t
 *
mac_block
, 
u16_t
 
ndomVue
)

2808 
nR
;

2809 
y_num
 = 0;

2810 
tٮ_y_num
 = 0;

2811 
m_z_uni_mac_quy_block_t
 *
mac_block_hd
 = 
mac_block
;

2812 
u32_t
 
maxRecyeTime
 = 
OAM_MAX_MAC_NUM
 * 3;

2813 
width
 = 8;

2814 
block_hd_size
 = 8;

2815 
OPL_STATUS
 
rv
=0;

2816 
_ag
 = 0;

2817 
UINT32
 

 = 0;

2818 
BOOL
 
bFd
 = 
FALSE
;

2819 
u32_t
 
mac_cou
;

2821 
mac_dump_u_b_t
 
mac_b
[2048];

2823 if(
gMacPooVue
.
macHd
.
ndom_vue
 !
ndomVue
)

2825 
	`_mac_po
(
ndomVue
);

2826 
	`memt
(
mac_b
, 0, (mac_table));

2827 
	`ad_mac_u_dump
(
mac_b
, &
mac_cou
);

2829 
maxRecyeTime
=0; maxRecyeTime<
mac_cou
; maxRecycleTime++)

2832 if(
mac_b
[
maxRecyeTime
].
t
 =
pt__2_0
.
vue
)

2834 
nR
 = 
	`add_mac_ty
(&
mac_b
[
maxRecyeTime
], &
gMacPooVue
);

2835 if(
nR
 !
OPL_OK
)

2837 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "add_mac_entity fail.\r\n");

2838 
gMacPooVue
.
macHd
.
ndom_vue
 = 0xffff;

2839 
	`mac_sour_
();

2846 
tٮ_y_num
 < 
MAX_ENTITY
)

2848 
y_num
 = 
	`add_mac_block_ty
(
mac_block_hd
,&
gMacPooVue
.
dymUniTab
, 
tٮ_y_num
);

2849 if(
y_num
 != 0)

2851 
mac_block_hd
->
addr_num
 = 1;

2852 
tٮ_y_num
++;

2853 
mac_block_hd
 =(
m_z_uni_mac_quy_block_t
 *)&mac_block_hd->
mac_vue
[1];

2859 
tٮ_y_num
 < 
MAX_ENTITY
)

2861 
y_num
 = 
	`add_mac_block_ty
(
mac_block_hd
, &
gMacPooVue
.
muiTab
, 
tٮ_y_num
);

2862 if(
y_num
 != 0)

2864 
tٮ_y_num
++;

2865 
mac_block_hd
->
addr_num
 = 1;

2866 
mac_block_hd
->
addr_ty
 |= 0x2000;

2867 
mac_block_hd
 =(
m_z_uni_mac_quy_block_t
 *)&mac_block_hd->
mac_vue
[1];

2873 
tٮ_y_num
 < 
MAX_ENTITY
)

2875 
y_num
 = 
	`add_mac_block_ty
(
mac_block_hd
, &
gMacPooVue
.
icUniTab
, 
tٮ_y_num
);

2876 if(
y_num
 != 0)

2878 
tٮ_y_num
++;

2879 
mac_block_hd
->
addr_num
 = 1;

2880 
mac_block_hd
->
addr_ty
 |= 0x1000;

2881 
mac_block_hd
 =(
m_z_uni_mac_quy_block_t
 *)&mac_block_hd->
mac_vue
[1];

2887 
width
+=
tٮ_y_num
*14;

2889 
gMacPooVue
.
macHd
.
qu_num
++;

2891 
gMacPooVue
.
macHd
.
tٮ_addr_num
 = 
tٮ_y_num
;

2894 if(
gMacPooVue
.
muiTab
.
macCou
 != 0 )

2896 if(
gMacPooVue
.
muiTab
.
macCou
 <gMacPooVue.muiTab.
macPos
/((
m_z_uni_mac_quy_y_t
)+2))

2897 
_ag
 = 1;

2899 if(
gMacPooVue
.
icUniTab
.
macCou
 != 0 )

2901 if(
gMacPooVue
.
icUniTab
.
macCou
 <gMacPooVue.icUniTab.
macPos
/((
m_z_uni_mac_quy_y_t
)+2))

2902 
_ag
 = 1;

2904 if(
gMacPooVue
.
dymUniTab
.
macCou
 <gMacPooVue.dymUniTab.
macPos
/((
m_z_uni_mac_quy_y_t
)+2))

2906 
_ag
 = 1;

2909 if(
_ag
)

2911 
gMacPooVue
.
macHd
.
qu_num
 |= 0x8000;

2912 
	`mac_sour_
();

2915  
width
;

2916 
	}
}

2919 
	$el_z_g_uni_mac_quy
(
u8_t
* 
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

2921 
u8_t
 
t
;

2922 
u8_t
 
ucPtS
;

2923 
u8_t
 
ucPtE
;

2924 
u16_t
 
ndom_vue
;

2925 
m__v_t_2_0
 *
p_
;

2926 
m_z_uni_mac_quy_t
 *
p_z_mac_quy_
;

2927 
m_z_uni_mac_quy_t
 *
p_z_mac_quy_out
;

2928 
m_z_uni_mac_quy_block_t
 *
p_z_mac_quy_block
;

2929 
u16_t
 
width
 = 0;

2931 *
pGn
 = 0;

2934 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

2935 *
p_
 = 
pt__2_0
;

2936 
pRlybuf
 +(
m__v_t_2_0
);

2937 *
pGn
 +(
m__v_t_2_0
);

2939 
p_z_mac_quy_
 = (
m_z_uni_mac_quy_t
 *)
p_
;

2940 
ndom_vue
 = 
p_z_mac_quy_
->random_value;

2943 
p_z_mac_quy_out
 = (
m_z_uni_mac_quy_t
 *)
pRlybuf
;

2944 
p_z_mac_quy_out
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

2945 
p_z_mac_quy_out
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_MAC_QUERY
;

2947 
pRlybuf
 +(
m_z_uni_mac_quy_t
);

2949 
p_z_mac_quy_block
 = (
m_z_uni_mac_quy_block_t
 *)
pRlybuf
;

2951 
width
 = 
	`g_mac_ty
(
p_z_mac_quy_block
, 
ndom_vue
);

2953 if(
width
 =
INVALID_16
)

2955 
p_z_mac_quy_out
->
_code
 = 
OAM_SET_NO_RESOURCE
;

2956 *
pGn
 += 4;

2959 
p_z_mac_quy_out
->
_code
 = 
OAM_SET_OK
;

2960 
p_z_mac_quy_out
->
width
 = width;

2961 
p_z_mac_quy_out
->
ndom_vue
 =andom_value;

2963 
p_z_mac_quy_out
->
q_no
 = 
gMacPooVue
.
macHd
.
qu_num
 - 1;

2964 
p_z_mac_quy_out
->
tٮ_num
 = 
gMacPooVue
.
macHd
.
tٮ_addr_num
;

2967 *
pGn
 +
p_z_mac_quy_out
->
width
 + 4;

2970 
	}
}

2973 
u32_t
 
	$ub_z_g_pmac_ds_shg
(
m_z_pmac_ds_shg_t
 *
p_z_pmac_ds_shg
)

2975 
UINT32
 
c
 =0;

2976 
UINT32
 
cbs
 =0;

2978 #i
	`defed
(
ONU_4PORT_88E6045
)||defed(
ONU_4PORT_88E6046
)||defed(
ONU_4PORT_88E6097
)||defed(
ONU_4PORT_AR8306
)||defed(
ONU_4PORT_AR8228
)||defed(
ONU_4PORT_AR8327
)

2979 
	`odmPUsShgG
(&
p_z_pmac_ds_shg
->
ds__ݔ
,&
c
,&
cbs
);

2982 
	`vosMemCpy
(&
p_z_pmac_ds_shg
->
ds__c
[0], &
c
,3);

2983 
	`vosMemCpy
(&
p_z_pmac_ds_shg
->
ds__cbs
[0], &
cbs
, 3);

2985  
NO_ERROR
;

2986 
	}
}

2988 
u32_t
 
	$ub_z_t_pmac_ds_shg
(
m_z_pmac_ds_shg_t
 *
p_z_pmac_ds_shg
)

2990 
UINT32
 
c
 = 0;

2991 
UINT32
 
cbs
 = 0;

2992 #i
	`defed
(
ONU_4PORT_88E6045
)||defed(
ONU_4PORT_88E6046
)||defed(
ONU_4PORT_88E6097
)||defed(
ONU_4PORT_AR8306
)||defed(
ONU_4PORT_AR8228
)||defed(
ONU_4PORT_AR8327
)

2994 
	`vosMemCpy
(&
c
 , &
p_z_pmac_ds_shg
->
ds__c
[0],3);

2995 
	`vosMemCpy
(&
cbs
 , &
p_z_pmac_ds_shg
->
ds__cbs
[0],3);

2999 
	`odmPUsShgS
(
p_z_pmac_ds_shg
->
ds__ݔ
,
c
,
cbs
);

3002  
NO_ERROR
;

3003 
	}
}

3005 
	$el_z_g_pmac_ds_shg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

3007 
u8_t
 
t
;

3008 
u8_t
 
mRCode
;

3009 
m_r_diti_t
 *
p_g_r
;

3010 
m__v_t_2_0
 *
p_
;

3011 
m_z_pmac_ds_shg_t
 *
p_z_pmac_ds_shg
;

3012 
m_z_pmac_ds_shg_t
 
pmac_ds_shg
;

3014 
t
 = 
NO_ERROR
;

3015 *
pGn
= 0;

3016 
t
 = 
	`ub_z_g_pmac_ds_shg
(&
pmac_ds_shg
);

3018 if(
t
 !
NO_ERROR
)

3020 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

3021 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

3022 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3023 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3024 
p_g_r
->
v_diti
 = 
mRCode
;

3025 *
pGn
 += 4;

3030 
p_z_pmac_ds_shg
 = (
m_z_pmac_ds_shg_t
 *)
pRlybuf
;

3031 
p_z_pmac_ds_shg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3032 
p_z_pmac_ds_shg
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3034 if(
pmac_ds_shg
.
ds__ݔ
 == 0x00)

3036 
p_z_pmac_ds_shg
->
width
 = 1;

3037 
p_z_pmac_ds_shg
->
ds__ݔ
 = 0x00;

3039 if(
pmac_ds_shg
.
ds__ݔ
 == 0x01)

3041 
p_z_pmac_ds_shg
->
width
 = 7;

3042 
p_z_pmac_ds_shg
->
ds__ݔ
 = 0x01;

3044 
	`vosMemCpy
(&
p_z_pmac_ds_shg
->
ds__c
[0],

3045 &
pmac_ds_shg
.
ds__c
[0],

3048 
	`vosMemCpy
(&
p_z_pmac_ds_shg
->
ds__cbs
[0],

3049 &
pmac_ds_shg
.
ds__cbs
[0],

3053 *
pGn
 +
p_z_pmac_ds_shg
->
width
 + 4;

3057 
	}
}

3059 
	$el_z_t_pmac_ds_shg
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3061 
m_t_ڣ_t
 *
p_r
;

3062 
m__v_t_2_0
 *
p_
;

3063 
m_z_pmac_ds_shg_t
 *
p_z_pmac_ds_shg
;

3064 
u32_t
 
t
;

3066 
t
 = 
NO_ERROR
;

3068 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

3069 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3070 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
;

3072 
p_z_pmac_ds_shg
 = (
m_z_pmac_ds_shg_t
 *)
p_
;

3074 
t
 = 
	`ub_z_t_pmac_ds_shg
(
p_z_pmac_ds_shg
);

3076 if(
t
 !
NO_ERROR
)

3077 
nd_r
;

3079 
nd_r
:

3081 if(
t
 =
OPL_OK
)

3083 
p_r
->
diti
 = 
OAM_SET_OK
;

3087 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

3090 *
pGn
 = (
m_t_ڣ_t
);

3091 
	}
}

3093 
u32_t
 
	$ub_z_g_pmac_buff_cfg
(
u8_t
 
dei
, 
m_z_pmac_buff_cfg_t
 *
p_z_pmac_buff_cfg
)

3095 
UINT16
 
bufsize
 = 0;

3096 
UINT32
 
bufsize_by
 = 0;

3097 
t
 = 0;

3101 
bufsize_by
 = 
bufsize
*60;

3103 
p_z_pmac_buff_cfg
->
buff_size
[0] = (
bufsize_by
>>16) & 0xff;

3104 
p_z_pmac_buff_cfg
->
buff_size
[1] = (
bufsize_by
>>8) & 0xff;

3105 
p_z_pmac_buff_cfg
->
buff_size
[2] = 
bufsize_by
 & 0xff;

3108  
t
;

3109 
	}
}

3111 
u32_t
 
	$ub_z_t_pmac_buff_cfg
(
m_z_pmac_buff_cfg_t
 *
p_z_pmac_buff_cfg
)

3113 
u8_t
 
dei
 =0;

3114 
u8_t
 
diti
 = 0;

3115 
UINT32
 
bufsize
 = 0;

3116 
t
=0;

3117 
dei
 = 
p_z_pmac_buff_cfg
->direction;

3118 
diti
 = 
p_z_pmac_buff_cfg
->
mgmt_diti
;

3120 
bufsize
 = (
p_z_pmac_buff_cfg
->
buff_size
[0] <<16 )+(_zte_pmac_buff_cfg->buff_size[1]<<8)+(p_zte_pmac_buff_cfg->buff_size[2]);

3124 
bufsize
 = bufsize/60;

3125 if(
bufsize
 > 
STREAM_BUFFER_MAX
)

3127  
OPL_ERROR
;

3129 if(
diti
 ==0x00)

3132 if(
dei
 =
DOWN_STREAM
)

3134 
t

	`odmQueueLimS
(
dei
 , 0, 
DOWNSTREAM_BUFFER_DEFAULT
);

3136 if(
dei
 =
UP_STREAM
)

3138 
t

	`odmQueueLimS
(
dei
 , 0, 
UPSTREAM_BUFFER_DEFAULT
);

3140 if(
dei
 == 0x02)

3142 
t
 = 
	`odmQueueLimS
(
DOWN_STREAM
 , 0, 
DOWNSTREAM_BUFFER_DEFAULT
);

3143 if(
t
 !
OPL_OK
)

3145 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"le:%d\n", 
__LINE__
);

3146  
t
;

3149 
t
 = 
	`odmQueueLimS
(
UP_STREAM
 , 0, 
UPSTREAM_BUFFER_DEFAULT
);

3150 if(
t
 !
OPL_OK
)

3152 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"le:%d\n", 
__LINE__
);

3153  
t
;

3160 
t
 = 
OPL_ERROR
;

3164 if(
diti
 ==0x01)

3166 if(
dei
 == 0x02)

3169 
t
 = 
	`odmQueueLimS
(
DOWN_STREAM
 , 0, 
bufsize
);

3170 if(
t
 !
OPL_OK
)

3172 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"le:%d\n", 
__LINE__
);

3173  
t
;

3176 
t
 = 
	`odmQueueLimS
(
UP_STREAM
 , 0, 
bufsize
);

3177 if(
t
 !
OPL_OK
)

3179 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,"le:%d\n", 
__LINE__
);

3180  
t
;

3185 if(
dei
 == 0x00 || direction == 0x01)

3188 
t
 = 
	`odmQueueLimS
(
dei
 , 0, 
bufsize
);

3193 
t
 = 
OPL_ERROR
;

3197  
t
;

3199 
	}
}

3201 
	$el_z_g_pmac_buff_cfg
(
u8_t
* 
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3203 
u8_t
 
t
;

3204 
m__v_t_2_0
 *
p_
;

3205 
m_z_pmac_buff_cfg_t
 *
p_z_pmac_buff_cfg
;

3206 
m_z_pmac_buff_cfg_t
 
pmac_buff_cfg
;

3207 
u8_t
 
dei
 = 0;

3208 
u8_t
 
diti
 = 0;

3210 
t
 = 
NO_ERROR
;

3211 *
pGn
 = 0;

3212 
p_z_pmac_buff_cfg
 = (
m_z_pmac_buff_cfg_t
 *)
p_
;

3213 
dei
 = 
p_z_pmac_buff_cfg
->direction;

3214 
diti
 = 
p_z_pmac_buff_cfg
->
mgmt_diti
;

3216 
p_z_pmac_buff_cfg
 = (
m_z_pmac_buff_cfg_t
 *)
pRlybuf
;

3217 
p_z_pmac_buff_cfg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3218 
p_z_pmac_buff_cfg
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
;

3220 
t
 = 
	`ub_z_g_pmac_buff_cfg
(
dei
, &
pmac_buff_cfg
);

3221 if(
t
 !
OPL_OK
)

3223 
p_z_pmac_buff_cfg
->
width
 = 
OAM_GET_NO_RESOURCE
;

3224 *
pGn
 += 4;

3228 
p_z_pmac_buff_cfg
->
dei
 = direction;

3231 
p_z_pmac_buff_cfg
->
mgmt_diti
 = 
diti
 ;

3233 
p_z_pmac_buff_cfg
->
width
 = 5;

3235 
	`vosMemCpy
(&
p_z_pmac_buff_cfg
->
buff_size
[0],&
pmac_buff_cfg
.buff_size[0], 3);

3237 *
pGn
 +
p_z_pmac_buff_cfg
->
width
 + 4;

3238 
	}
}

3240 
	$el_z_t_pmac_buff_cfg
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3242 
m_t_ڣ_t
 *
p_r
;

3243 
m__v_t_2_0
 *
p_
;

3244 
m_z_pmac_buff_cfg_t
 *
p_z_pmac_buff_cfg
;

3245 
u32_t
 
t
;

3247 
t
 = 
NO_ERROR
;

3249 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

3250 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3251 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
;

3253 
p_z_pmac_buff_cfg
 = (
m_z_pmac_buff_cfg_t
 *)
p_
;

3255 
t
 = 
	`ub_z_t_pmac_buff_cfg
(
p_z_pmac_buff_cfg
);

3258 if(
t
 =
OPL_OK
)

3260 
p_r
->
diti
 = 
OAM_SET_OK
;

3264 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

3267 *
pGn
 = (
m_t_ڣ_t
);

3268 
	}
}

3271 
m_z_pmac_buff_cfg_t
 
	gub_z_pmac_buff_quy
;

3273 
u32_t
 
	$ub_z_g_pmac_buff_quy
(
m_z_pmac_buff_quy_t
 *
p_z_pmac_buff_quy
)

3275 
UINT32
 
ds_bufsize
 = 
DOWNSTREAM_BUFFER_MAX
*60;

3276 
UINT32
 
us_bufsize
 = 
UPSTREAM_BUFFER_MAX
 *60;

3278 
p_z_pmac_buff_quy
->
buff_mgmt_by
 =0x01;

3280 
p_z_pmac_buff_quy
->
ds_buff_max
[0] = (
ds_bufsize
>>16) & 0xff;

3281 
p_z_pmac_buff_quy
->
ds_buff_max
[1] = (
ds_bufsize
>>8) & 0xff;

3282 
p_z_pmac_buff_quy
->
ds_buff_max
[2] = 
ds_bufsize
 & 0xff;

3284 
p_z_pmac_buff_quy
->
us_buff_max
[0] = (
us_bufsize
>>16) & 0xff;

3285 
p_z_pmac_buff_quy
->
us_buff_max
[1] = (
us_bufsize
>>8) & 0xff;

3286 
p_z_pmac_buff_quy
->
us_buff_max
[2] = 
us_bufsize
 & 0xff;

3288  
NO_ERROR
;

3289 
	}
}

3291 
	$el_z_g_pmac_buff_quy
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

3293 
u32_t
 
t
;

3294 
m__v_t_2_0
 *
p_
;

3295 
m_z_pmac_buff_quy_t
 *
p_z_pmac_buff_quy
;

3296 
m_z_pmac_buff_quy_t
 
pmac_buff_quy
;

3298 
t
 = 
NO_ERROR
;

3299 *
pGn
 = 0;

3300 
	`memt
(&
pmac_buff_quy
,0,(
m_z_pmac_buff_quy_t
));

3302 
p_z_pmac_buff_quy
 = (
m_z_pmac_buff_quy_t
 *)
pRlybuf
;

3303 
p_z_pmac_buff_quy
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3304 
p_z_pmac_buff_quy
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
;

3305 
p_z_pmac_buff_quy
->
width
 = 13;

3307 
t
 = 
	`ub_z_g_pmac_buff_quy
(&
pmac_buff_quy
);

3308 if(
t
 !
NO_ERROR
)

3310 
p_z_pmac_buff_quy
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3311 
p_z_pmac_buff_quy
->
af
 = 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
;

3312 
p_z_pmac_buff_quy
->
width
 = 
OAM_GET_NO_RESOURCE
;

3313 *
pGn
 += 4;

3318 
p_z_pmac_buff_quy
->
buff_mgmt_by
 = 
pmac_buff_quy
.buff_mgmt_capability;

3320 
	`vosMemCpy
(&
p_z_pmac_buff_quy
->
ds_buff_m
[0],

3321 &
pmac_buff_quy
.
ds_buff_m
[0],

3324 
	`vosMemCpy
(&
p_z_pmac_buff_quy
->
ds_buff_max
[0],

3325 &
pmac_buff_quy
.
ds_buff_max
[0],

3328 
	`vosMemCpy
(&
p_z_pmac_buff_quy
->
us_buff_m
[0],

3329 &
pmac_buff_quy
.
us_buff_m
[0],

3332 
	`vosMemCpy
(&
p_z_pmac_buff_quy
->
us_buff_max
[0],

3333 &
pmac_buff_quy
.
us_buff_max
[0],

3336 *
pGn
 +
p_z_pmac_buff_quy
->
width
 + 4;

3339 
	}
}

3344 
u32_t
 
	$ub_z_g_uni_s_cfg
(
u8_t
 
pt_id
, 
m_z_uni_s_cfg_t
 *
p_z_uni_s_cfg
)

3347 if(
iics_pt
[
pt_id
].
iics_duti_time
==0)

3349 
p_z_uni_s_cfg
->
width
=8;

3351 
p_z_uni_s_cfg
->
ai
=0;

3352 
	`memt
(&
p_z_uni_s_cfg
->
s_rv
[0],0,3);

3353 
p_z_uni_s_cfg
->
s_duti
=0;

3358 
p_z_uni_s_cfg
->
width
=8;

3360 
p_z_uni_s_cfg
->
ai
=
iics_pt
[
pt_id
].
iics_ai
;

3362 
p_z_uni_s_cfg
->
s_rv
[0]=
iics_pt
[
pt_id
].
iics_rva
 >>16 & 0xFF;

3363 
p_z_uni_s_cfg
->
s_rv
[1]=
iics_pt
[
pt_id
].
iics_rva
 >>8 & 0xFF;

3364 
p_z_uni_s_cfg
->
s_rv
[2]=
iics_pt
[
pt_id
].
iics_rva
 & 0xFF;

3366 
p_z_uni_s_cfg
->
s_duti
=
iics_pt
[
pt_id
].
iics_duti_time
;

3370  
NO_ERROR
;

3371 
	}
}

3374 
	$haddStiicsCou
(
u8_t
 
pt
 , 
iics_cou_t
 * 
iics_cou
)

3376 
t
;

3377 
m_z_u_h_s_t
 
z_pt_h_s
;

3379 
	`memt
(&
z_pt_h_s
, 0 , (
m_z_u_h_s_t
));

3381 
t
 = 
	`ub_z_g_uni_h_s
(
pt
, &
z_pt_h_s
);

3383 i(
t
 !
NO_ERROR
)

3385 
	`OP_DEBUG

DEBUG_LEVEL_DEBUGGING
,"OAM ZTE: stub_zte_get_uni_eth_stats failed" );

3386  
t
;

3388 
iics_cou
->
aifOutOs
 = 
z_pt_h_s
.
ifOutOs
;

3390 
iics_cou
->
aifOutUPkts
 = 
z_pt_h_s
.
ifOutUPkts
;

3392 
iics_cou
->
aifOutNUPkts
 = 
z_pt_h_s
.
ifOutNUPkts
;

3395 
iics_cou
->
aifOutEs
 = 
z_pt_h_s
.
ifOutEs
;

3397 
iics_cou
->
aifInOs

z_pt_h_s
.
ifInOs
;

3399 
iics_cou
->
aifInUPkts
 =
z_pt_h_s
.
ifInUPkts
;

3401 
iics_cou
->
aifInNUPkts
 = 
z_pt_h_s
.
ifInNUPkts
;

3404 
iics_cou
->
aifInEs
 = 
z_pt_h_s
.
ifInEs
;

3406  
OK
;

3408 
	}
}

3411 *
	$haddStiicsCPt
(* 
hm
)

3413 
pt
 = *((*)
hm
);

3414 
u8_t
 
ai
=
iics_pt
[
pt
].
iics_ai
;

3415 
UINT32
 
duime
=
iics_pt
[
pt
].
iics_duti_time
*1000;

3416 
UINT32
 
rv
=
iics_pt
[
pt
].
iics_rva
;

3417 
iics_cou_t
 *
pCou
[2];

3418 
i
 = 0;

3420 
	`memt
(&
iics_cou1
[
pt
],0,(
iics_cou_t
));

3421 
	`memt
(&
iics_cou2
[
pt
],0,(
iics_cou_t
));

3422 
pCou
[0] = &
iics_cou1
[
pt
];

3423 
pCou
[1] = &
iics_cou2
[
pt
];

3427 
ai
=
iics_pt
[
pt
].
iics_ai
;

3428 if(
ai
==0x01)

3430 
duime
=
iics_pt
[
pt
].
iics_duti_time
*1000;

3431 
rv
=
iics_pt
[
pt
].
iics_rva
;

3433 
iics_pt
[
pt
].
iics_ai
==0x01 && 
duime
>=
rv
)

3435 
	`haddStiicsCou
(
pt
, 
pCou
[
i
]);

3436 
	`up
(
rv
*1000);

3438 
duime
=
iics_pt
[
pt
].
iics_duti_time
*1000;

3439 
rv
=
iics_pt
[
pt
].
iics_rva
;

3441 
duime
-=
rv
;

3442 if(
iics_pt
[
pt
].
iics_ai
==0x01)

3444 
iics_pt
[
pt
].
iics_duti_time
=
duime
/1000;

3446 if(
duime
< 
rv
)

3448 
iics_pt
[
pt
].
iics_ai
=0;

3449 
iics_pt
[
pt
].
iics_rva
=0;

3450 
iics_pt
[
pt
].
iics_duti_time
=0;

3453 
i
 = (++i)%2;

3457 
	`vosUS˕
(100*1000);

3459 
	`vosThadEx
(0);

3460  
NULL
;

3461 
	}
}

3463 
u32_t
 
	$ub_z_t_uni_s_cfg
(
u8_t
 
pt_id
, 
m_z_uni_s_cfg_t
 *
p_z_uni_s_cfg
)

3465 
u8_t
 
ai
=0;

3466 
t
=
NO_ERROR
;

3467 
rv
=0;

3468 
UINT32
 
duime
 = 0;

3470 
ai

p_z_uni_s_cfg
->action;

3471 
rv
=((
p_z_uni_s_cfg
->
s_rv
[0]<<16)|(p_zte_uni_stats_cfg->stats_interval[1]<<8)|(p_zte_uni_stats_cfg->stats_interval[2]));

3472 
duime
 = 
p_z_uni_s_cfg
->
s_duti
;

3474 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "hai=0x%x iv = 0x%x duim0x%x\n",
ai
,
rv
,
duime
);

3476 if(
rv
 >= 1000)

3479 if(
ai
==0x00)

3481 
iics_pt
[
pt_id
].
iics_ai
=0;

3483 if(
ai
==0x01)

3485 
iics_pt
[
pt_id
].
iics_ai
=
p_z_uni_s_cfg
->
ai
;

3487 
iics_pt
[
pt_id
].
iics_rva
((
p_z_uni_s_cfg
->
s_rv
[0]<<16)|(p_zte_uni_stats_cfg->stats_interval[1]<<8)|(p_zte_uni_stats_cfg->stats_interval[2]));

3489 
iics_pt
[
pt_id
].
iics_duti_time

p_z_uni_s_cfg
->
s_duti
;

3491 if(
ptStiicsThadId
[
pt_id
]==
NULL
)

3493 
iics_pt_num
[
pt_id
] =ort_id;

3494 
ptStiicsThadId
[
pt_id
] = 
	`vosThadCe
("tPortStats",

3495 
OP_VOS_THREAD_STKSZ
, 90, (*)
haddStiicsCPt
,

3496 (*)&
iics_pt_num
[
pt_id
]);

3497 if(
ptStiicsThadId
[
pt_id
] =
NULL
)

3499 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
,

3501 
t
 = 
ERROR
;

3509 
t
 = 
ERROR
;

3513  
t
;

3515 
	}
}

3518 
	$el_z_g_uni_s_cfg
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

3520 
u8_t
 
t
;

3521 
u8_t
 
ucPtS
;

3522 
u8_t
 
ucPtE
;

3523 
m__v_t_2_0
 *
p_
;

3524 
m_z_uni_s_cfg_t
 *
p_z_uni_s_cfg
;

3525 
m_z_uni_s_cfg_t
 
z_uni_s_cfg
;

3527 
t
 = 
NO_ERROR
;

3529 if(0xFF =
pt__2_0
.
vue
)

3531 
ucPtS
 = 1;

3532 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

3536 
ucPtS
 = 
pt__2_0
.
vue
;

3537 
ucPtE
 = 
pt__2_0
.
vue
;

3540 *
pGn
 = 0;

3541 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3543 
pt__2_0
.
vue
 = 
ucPtS
;

3544 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

3545 *
p_
 = 
pt__2_0
;

3546 
pRlybuf
 +(
m__v_t_2_0
);

3547 *
pGn
 +(
m__v_t_2_0
);

3549 
p_z_uni_s_cfg
 = (
m_z_uni_s_cfg_t
 *)
pRlybuf
;

3550 
p_z_uni_s_cfg
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3551 
p_z_uni_s_cfg
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
;

3553 
t
 = 
	`ub_z_g_uni_s_cfg
(
ucPtS
-1, &
z_uni_s_cfg
);

3554 if(
t
 !
NO_ERROR
)

3558 
p_z_uni_s_cfg
->
width
 = 
z_uni_s_cfg
.width;

3559 
p_z_uni_s_cfg
->
ai
 = 
z_uni_s_cfg
.action;

3561 
	`vosMemCpy
(&
p_z_uni_s_cfg
->
s_rv
[0], &
z_uni_s_cfg
.stats_interval[0],3);

3563 
p_z_uni_s_cfg
->
s_duti
 = 
z_uni_s_cfg
.stats_duration;

3565 *
pGn
 +
p_z_uni_s_cfg
->
width
 + 4;

3569 
	}
}

3572 
	$el_z_t_uni_s_cfg
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3574 
u8_t
 
t
, 
ucPtS
, 
ucPtE
;

3575 
m_t_ڣ_t
 *
p_r
;

3576 
m__v_t_2_0
 *
p_
;

3577 
m_z_uni_s_cfg_t
 *
p_z_uni_s_cfg
;

3579 
t
=
OPL_OK
;

3580 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

3581 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3582 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
;

3584 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

3586 
t
 = 
ERROR
;

3587 
nd_r
;

3590 *
pGn
 = 0;

3592 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

3593 *
p_
 = 
pt__2_0
;

3594 
pRlybuf
 +(
m__v_t_2_0
);

3595 *
pGn
 +(
m__v_t_2_0
);

3600 
p_z_uni_s_cfg
 = (
m_z_uni_s_cfg_t
 *)
p_
;

3601 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3603 
t
 = 
	`ub_z_t_uni_s_cfg
(
ucPtS
-1, 
p_z_uni_s_cfg
);

3604 if(
t
 !
NO_ERROR
)

3605 
nd_r
;

3608 
nd_r
:

3610 if(
t
 =
OPL_OK
)

3612 
p_r
->
diti
 = 
OAM_SET_OK
;

3616 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

3619 *
pGn
(
m_t_ڣ_t
+ (
m__v_t_2_0
);

3622 
	}
}

3625 
u32_t
 
	$ub_z_t_uni_s_t
(
u8_t
 
pt_id
, 
m_z_uni_s_t_t
 *
p_z_uni_s_cfg
)

3627 
t
=
NO_ERROR
;

3628 if(
p_z_uni_s_cfg
->
t
==0x00)

3630 
t
 = 
	`Iol_SMibCouRet
(
pt_id
);

3631 if(
t
 !
DRV_OK
)

3632  
ERROR
;

3634  
NO_ERROR
;

3635 
	}
}

3637 
	$el_z_t_uni_s_t
(
c_vInt_t
 *
p_
, 
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3639 
u8_t
 
t
, 
ucPtS
, 
ucPtE
;

3640 
m_t_ڣ_t
 *
p_r
;

3641 
m__v_t_2_0
 *
p_
;

3642 
m_z_uni_s_t_t
 *
p_z_uni_s_t
;

3644 
t
=
OPL_OK
;

3645 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

3646 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3647 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_RESET
;

3649 if(
	`z_c_g_pt_dex
(
p_
, &
ucPtS
, &
ucPtE
!
NO_ERROR
)

3651 
t
 = 
ERROR
;

3652 
nd_r
;

3655 *
pGn
 = 0;

3657 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

3658 *
p_
 = 
pt__2_0
;

3659 
pRlybuf
 +(
m__v_t_2_0
);

3660 *
pGn
 +(
m__v_t_2_0
);

3665 
p_z_uni_s_t
 = (
m_z_uni_s_t_t
 *)
p_
;

3666 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3668 
t
 = 
	`ub_z_t_uni_s_t
(
ucPtS
, 
p_z_uni_s_t
);

3669 if(
t
 !
NO_ERROR
)

3670 
nd_r
;

3673 
nd_r
:

3675 if(
t
 =
OPL_OK
)

3677 
p_r
->
diti
 = 
OAM_SET_OK
;

3681 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

3684 *
pGn
 = (
m_t_ڣ_t
+ (
m__v_t_2_0
);

3687 
	}
}

3690 
u8_t
 
	$ub_z_g_uni_s_quy
(
u8_t
 
pt_id
, 
m_z_uni_s_quy_t
 *
p_z_uni_s_quy
)

3693 if(
iics_pt
[
pt_id
].
iics_ai
==1 && stiics_pt[pt_id].
iics_duti_time
!=0)

3695 
p_z_uni_s_quy
->
c_diti
 = 0x01;

3699 
p_z_uni_s_quy
->
c_diti
 = 0x00;

3702 
p_z_uni_s_quy
->
ifOutOs
 = 
	`abs
(
iics_cou2
[
pt_id
].
aifOutOs
 - 
iics_cou1
[port_id].staifOutOctets);

3704 
p_z_uni_s_quy
->
ifOutUPkts
 =
	`abs
(
iics_cou2
[
pt_id
].
aifOutUPkts
 - 
iics_cou1
[port_id].staifOutUcastPkts);

3706 
p_z_uni_s_quy
->
ifOutNUPkts
=
	`abs
(
iics_cou2
[
pt_id
].
aifOutNUPkts
 - 
iics_cou1
[port_id].staifOutNUcastPkts);

3708 
p_z_uni_s_quy
->
ifOutEs
 =
	`abs

iics_cou2
[
pt_id
].
aifOutEs
-
iics_cou1
[port_id].staifOutErrors);

3710 
p_z_uni_s_quy
->
ifInOs
 = 
	`abs
(
iics_cou2
[
pt_id
].
aifInOs
-
iics_cou1
[port_id].staifInOctets);

3712 
p_z_uni_s_quy
->
ifInUPkts
 = 
	`abs
(
iics_cou2
[
pt_id
].
aifInUPkts
-
iics_cou1
[port_id].staifInUcastPkts);

3714 
p_z_uni_s_quy
->
ifInNUPkts

	`abs
(
iics_cou2
[
pt_id
].
aifInNUPkts
-
iics_cou1
[port_id].staifInNUcastPkts);

3716 
p_z_uni_s_quy
->
ifInEs
 =
	`abs
(
iics_cou2
[
pt_id
].
aifInEs
-
iics_cou1
[port_id].staifInErrors);

3719  
NO_ERROR
;

3720 
	}
}

3722 
	$el_z_g_uni_s_quy
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

3724 
u8_t
 
t
;

3725 
u8_t
 
ucPtS
;

3726 
u8_t
 
ucPtE
;

3727 
m__v_t_2_0
 *
p_
;

3728 
m_z_uni_s_quy_t
 *
p_z_uni_s_quy
;

3729 
m_z_uni_s_quy_t
 
z_uni_s_quy
;

3731 
t
 = 
NO_ERROR
;

3733 
	`memt
(&
z_uni_s_quy
,0,(
m_z_uni_s_quy_t
));

3735 if(0xFF =
pt__2_0
.
vue
)

3737 
ucPtS
 = 1;

3738 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

3742 
ucPtS
 = 
pt__2_0
.
vue
;

3743 
ucPtE
 = 
pt__2_0
.
vue
;

3746 *
pGn
 = 0;

3747 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3750 
pt__2_0
.
vue
 = 
ucPtS
;

3751 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

3752 *
p_
 = 
pt__2_0
;

3753 
pRlybuf
 +(
m__v_t_2_0
);

3754 *
pGn
 +(
m__v_t_2_0
);

3756 
p_z_uni_s_quy
 = (
m_z_uni_s_quy_t
*)
pRlybuf
;

3757 
p_z_uni_s_quy
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3758 
p_z_uni_s_quy
->
af
 = 
OAM_ZTE_EXT_LEAF_UNI_STATS_QUERY
;

3759 
p_z_uni_s_quy
->
width
 = 81;

3761 
t
 = 
	`ub_z_g_uni_s_quy
(
ucPtS
-1, &
z_uni_s_quy
);

3762 if(
t
 !
OPL_OK
)

3766 
p_z_uni_s_quy
->
c_diti
 = 
z_uni_s_quy
.collect_indication;

3767 
p_z_uni_s_quy
->
ifInOs
 = 
z_uni_s_quy
.ifInOctets;

3768 
p_z_uni_s_quy
->
ifInUPkts
 = 
z_uni_s_quy
.ifInUcastPkts;

3769 
p_z_uni_s_quy
->
ifInNUPkts
 = 
z_uni_s_quy
.ifInNUcastPkts;

3770 
p_z_uni_s_quy
->
ifInDisrds
 = 
z_uni_s_quy
.ifInDiscards;

3771 
p_z_uni_s_quy
->
ifInEs
 = 
z_uni_s_quy
.ifInErrors;

3772 
p_z_uni_s_quy
->
ifOutOs
 = 
z_uni_s_quy
.ifOutOctets;

3773 
p_z_uni_s_quy
->
ifOutUPkts
 = 
z_uni_s_quy
.ifOutUcastPkts;

3774 
p_z_uni_s_quy
->
ifOutNUPkts
 = 
z_uni_s_quy
.ifOutNUcastPkts;

3775 
p_z_uni_s_quy
->
ifOutDisrds
 = 
z_uni_s_quy
.ifOutDiscards;

3776 
p_z_uni_s_quy
->
ifOutEs
 = 
z_uni_s_quy
.ifOutErrors;

3778 *
pGn
 +
p_z_uni_s_quy
->
width
 + 4;

3782 
	}
}

3786 *
	$thad_cfig_ϣr_tx
(*
g
)

3790 
	`vosUS˕
(100*1000);

3791 if(
gLarCfigFg
 == 0)

3793 
	`vosUS˕
(100*1000);

3795 if(
gTxLarCloDuti
 != 0)

3799 
	`vosS˕
(
gTxLarCloDuti
);

3801 
	`odmPTxPowDown
(1);

3805 
gLarCfigFg
 = 1;

3808 
	`vosThadEx
(0);

3809  
NULL
;

3810 
	}
}

3813 
	$ub_z_t_tx_ϣr_cr
(
m_z_tx_ϣr_cڌ_t
 *
p_z_tx_ϣr_cڌ
)

3815 
VOS_THREAD_t
 
thad_id
 = 
NULL
;

3817 
t
=
ERROR
;

3818 
UINT8
 
ϣ_e
 =0 ;

3819 
u8_t
 
mac
[6] = {0};

3820 if(
p_z_tx_ϣr_cڌ
->
mchmac_
 =
NEED_MATCH
)

3823 
t
 = 
	`odmPMacIdG
(
mac
);

3825 if(
t
 !
OK
)

3827  
t
;

3829 if(
	`vosMemCmp
(
mac
,
p_z_tx_ϣr_cڌ
->
p_mac_vue
,(mac))!=0)

3831 
t
 = 
ERROR
;

3832  
t
;

3835 
p_z_tx_ϣr_cڌ
->
ai
)

3837 
OPEN_TX_ACTION
:

3838 
ϣ_e
 = 0;

3840 
CLOSE_TX_ACTION
:

3841 
ϣ_e
 = 1;

3843 
CLOSE_MODULE_ACTION
:

3844 
t
 = -5;

3845  
t
;

3850 if(
ϣ_e
 == 0)

3853 
	`odmPTxPowDown
(
ϣ_e
);

3858 
gLarCfigFg
 = 0;

3861 if(
p_z_tx_ϣr_cڌ
->
ai
!
OPEN_TX_ACTION
)

3863 
gTxLarCloDuti
 = 
p_z_tx_ϣr_cڌ
->
duime
;

3865 if(
thad_id
 =
NULL
)

3867 
thad_id
 = 
	`vosThadCe
("tLarCl", 
OP_VOS_THREAD_STKSZ
, 90,

3868 (*)
thad_cfig_ϣr_tx
, 
NULL
);

3869 if(
thad_id
 =
NULL
)

3871 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "Createheaskhread_config_laser_tx failed");

3872 
t
 = 
ERROR
;

3876  
t
;

3877 
	}
}

3879 
	$el_z_t_tx_ϣr_cr
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

3881 
t
;

3882 
m_t_ڣ_t
 *
p_r
;

3883 
m_z_tx_ϣr_cڌ_t
 *
p_z_tx_ϣr_cڌ
;

3885 
t
=
OPL_OK
;

3887 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

3888 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3889 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
;

3891 
p_z_tx_ϣr_cڌ
 = (
m_z_tx_ϣr_cڌ_t
 *)
p_
;

3893 
t
 = 
	`ub_z_t_tx_ϣr_cr
(
p_z_tx_ϣr_cڌ
);

3896 if(
t
 =
NO_ERROR
)

3898 
p_r
->
diti
 = 
OAM_SET_OK
;

3900 if(
t
 == -5)

3902 
p_r
->
diti
 = 
OAM_SET_BAD_PARAMETERS
;

3906 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

3908 *
pGn
 = (
m_t_ڣ_t
);

3911 
	}
}

3913 
	su_s_s
{

3914 
p_iics_t
 
	mp_iics
;

3915 
pt_iics_t
 
	mpt_iics
[
ODM_NUM_OF_PORTS
];

3916 }
	tu_s_t
;

3918 
OPL_STATUS
 
	$odmOnuRlStiicG
(
u_s_t
 * 
s
)

3920 
p_iics_t
 * 
pSts
;

3921 
UINT8
 
Index
;

3924 
	`odmPStsG
(&
s
->
p_iics
);

3927 
Index
 = 0; Index < 
ODM_NUM_OF_PORTS
; Index++)

3930 
	`odmPSgPtStsG
(
Index
, &
s
->
pt_iics
[Index]);

3934  
OK
;

3935 
	}
}

3939 
u32_t
 
	$ub_z_g_p_pt_s_1
(
u8_t
 
pt_id
, 
m_z_p_s_ics_1_t
 *
p_z_p_s_quy
)

3941 
u_s_t
 
s
;

3942 
	`vosMemS
(&
s
,0,(
u_s_t
));

3944 
	`odmOnuRlStiicG
(&
s
);

3946 
p_z_p_s_quy
->
FmesTnsmdOK
 = 
s
.
p_iics
.
FmeTx
;

3947 
p_z_p_s_quy
 ->
OsTnsmdOK
 = 
s
.
p_iics
.
OsTx
;

3948 
p_z_p_s_quy
->
MuiFmesXmdOK

s
.
p_iics
.
OsTxTRe
;

3949 
p_z_p_s_quy
->
BrdFmesXmdOK
 = 
s
.
p_iics
.
OsTxRe
;

3950 
p_z_p_s_quy
->
FmesReivedOK
 = 
s
.
p_iics
.
FmeRx
;

3951 
p_z_p_s_quy
->
OsReivedOK
 = 
s
.
p_iics
.
OsRx
;

3952 
p_z_p_s_quy
->
MuiFmesReivedOK
 = 
s
.
p_iics
.
OsRxTRe
;

3953 
p_z_p_s_quy
->
BrdFmesReivedOK
 = 
s
.
p_iics
.
OsRxRe
;

3955  
NO_ERROR
;

3956 
	}
}

3958 
	$el_z_g_p_ics_1
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

3960 
u32_t
 
t
;

3961 
u8_t
 
ucPtS
;

3962 
u8_t
 
ucPtE
;

3963 
u8_t
 
mRCode
;

3964 
m_r_diti_t
 *
p_g_r
;

3965 
m__v_t_2_0
 *
p_
;

3966 
m_z_p_s_ics_1_t
 *
p_z_p_h_s
;

3967 
m_z_p_s_ics_1_t
 
z_p_h_s
;

3969 
t
 = 
NO_ERROR
;

3971 
	`vosMemS
(&
z_p_h_s
,0,(
m_z_p_s_ics_1_t
));

3972 if(0xFF =
pt__2_0
.
vue
)

3974 
ucPtS
 = 1;

3975 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

3979 
ucPtS
 = 
pt__2_0
.
vue
;

3980 
ucPtE
 = 
pt__2_0
.
vue
;

3982 *
pGn
 = 0;

3983 ; 
ucPtS
<=
ucPtE
; ucPortS++)

3986 
pt__2_0
.
vue
 = 
ucPtS
;

3987 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

3988 *
p_
 = 
pt__2_0
;

3989 
pRlybuf
 +(
m__v_t_2_0
);

3990 *
pGn
 +(
m__v_t_2_0
);

3992 
t
 = 
	`ub_z_g_p_pt_s_1
(
ucPtS
-1, &
z_p_h_s
);

3994 if(
t
 !
NO_ERROR
)

3996 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

3997 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

3998 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

3999 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
;

4000 
p_g_r
->
v_diti
 = 
mRCode
;

4001 *
pGn
 += 4;

4005 
p_z_p_h_s
 = (
m_z_p_s_ics_1_t
 *)
pRlybuf
;

4006 
p_z_p_h_s
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4007 
p_z_p_h_s
->
af
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
;

4008 
p_z_p_h_s
->
width
 = 112;

4011 
p_z_p_h_s
->
FmesTnsmdOK
 = 
z_p_h_s
.FramesTransmittedOK;

4012 
p_z_p_h_s
 ->
OsTnsmdOK
 = 
z_p_h_s
.OctetsTransmittedOK;

4013 
p_z_p_h_s
->
MuiFmesXmdOK
=
z_p_h_s
.MulticastFramesXmittedOK;

4014 
p_z_p_h_s
->
BrdFmesXmdOK
 = 
z_p_h_s
.BroadcastFramesXmittedOK;

4015 
p_z_p_h_s
->
FmesReivedOK
 = 
z_p_h_s
.FramesReceivedOK;

4016 
p_z_p_h_s
->
OsReivedOK
 =
z_p_h_s
.OctetsReceivedOK;

4017 
p_z_p_h_s
->
MuiFmesReivedOK
 =
z_p_h_s
.MulticastFramesReceivedOK;

4018 
p_z_p_h_s
->
BrdFmesReivedOK
 = 
z_p_h_s
.BroadcastFramesReceivedOK;

4020 *
pGn
 +
p_z_p_h_s
->
width
 + 4;

4024 
	}
}

4028 
u32_t
 
	$ub_z_g_p_pt_s_2
(
u8_t
 
pt_id
, 
m_z_p_s_ics_2_t
 *
p_z_p_s_quy
)

4030 
u64_t
 
mp
=0;

4033 
mp
=0;

4035 
mp
=0;

4038 
mp
=0;

4041 
mp
=0;

4046  
NO_ERROR
;

4047 
	}
}

4049 
	$el_z_g_p_ics_2
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

4051 
u32_t
 
t
;

4052 
u8_t
 
ucPtS
;

4053 
u8_t
 
ucPtE
;

4054 
u8_t
 
mRCode
;

4055 
m_r_diti_t
 *
p_g_r
;

4056 
m__v_t_2_0
 *
p_
;

4057 
m_z_p_s_ics_2_t
 *
p_z_p_h_s
;

4058 
m_z_p_s_ics_2_t
 
z_p_h_s
;

4060 
t
 = 
NO_ERROR
;

4062 
	`vosMemS
(&
z_p_h_s
,0,(
m_z_p_s_ics_2_t
));

4063 if(0xFF =
pt__2_0
.
vue
)

4065 
ucPtS
 = 1;

4066 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

4070 
ucPtS
 = 
pt__2_0
.
vue
;

4071 
ucPtE
 = 
pt__2_0
.
vue
;

4074 *
pGn
 = 0;

4075 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4078 
pt__2_0
.
vue
 = 
ucPtS
;

4079 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

4080 *
p_
 = 
pt__2_0
;

4081 
pRlybuf
 +(
m__v_t_2_0
);

4082 *
pGn
 +(
m__v_t_2_0
);

4084 
t
 = 
	`ub_z_g_p_pt_s_2
(
ucPtS
-1, &
z_p_h_s
);

4086 if(
t
 !
NO_ERROR
)

4088 
mRCode
 = 
OAM_GET_NO_RESOURCE
;

4089 
p_g_r
 = (
m_r_diti_t
 *)
pRlybuf
;

4090 
p_g_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4091 
p_g_r
->
af
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
;

4092 
p_g_r
->
v_diti
 = 
mRCode
;

4093 *
pGn
 += 4;

4097 
p_z_p_h_s
 = (
m_z_p_s_ics_2_t
 *)
pRlybuf
;

4098 
p_z_p_h_s
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4099 
p_z_p_h_s
->
af
 = 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
;

4100 
p_z_p_h_s
->
width
 = 120;

4103 
p_z_p_h_s
->
MPCPRxGe
 = 
z_p_h_s
.MPCPRxGate;

4104 
p_z_p_h_s
 ->
MPCPRxRegi
 = 
z_p_h_s
.MPCPRxRegister;

4106 
p_z_p_h_s
->
MPCPTxRegi
=
z_p_h_s
.MPCPTxRegister;

4108 
p_z_p_h_s
->
FECCܻedBlocks
 =
z_p_h_s
.FECCorrectedBlocks;

4110 
p_z_p_h_s
->
FECUncܻabBlocks
=
z_p_h_s
.FECUncorrectableBlocks;

4112 *
pGn
 +
p_z_p_h_s
->
width
 + 4;

4116 
	}
}

4120 
u32_t
 
	$el_z_hg_pt
(
u8_t
 
pt_id
, 
u16_t
 
msg_id
, u8_*
msg_fo
, u8_
msg_n
)

4122 
u8_t
 *
p_out
;

4123 
m__v_t_2_0
 *
p_
;

4124 
m_z_hg_pt_t
 *
p_z_msg_fo
;

4125 
u32_t
 
t
;

4127 if(0 =
g_usArmOutDaIdx
)

4129 
	`el_c_hd
(
OAM_EXT_CODE_GET_RESPONSE
);

4130 
p_out
 = &
m_out_da
[0];

4131 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4132 
g_usArmOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4136 
p_out
 = &
m_out_da
[
g_usArmOutDaIdx
];

4139 
p_
 = (
m__v_t_2_0
 *)
p_out
;

4140 
p_out
 +(
m__v_t_2_0
);

4141 
g_usOutDaIdx
 +(
m__v_t_2_0
);

4143 
p_
->
bnch
 = 0x36;

4144 
p_
->
af
 = 0x0001;

4145 
p_
->
width
 = 0x01;

4146 
p_
->
vue
 = 
pt_id
;

4148 
p_z_msg_fo
 = (
m_z_hg_pt_t
 *)
p_out
;

4149 
p_z_msg_fo
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4150 
p_z_msg_fo
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_REPORT
;

4151 
p_z_msg_fo
->
width
 = 2 + 
msg_n
;

4152 
p_z_msg_fo
->
msg_id
 = msg_id;

4154 
	`vosMemCpy
(&
p_z_msg_fo
->
msg_fo
[0], msg_fo, 
msg_n
);

4156 
g_usArmOutDaIdx
 +
p_z_msg_fo
->
width
 + 4;

4158 
	`OamFmeSd
(
m_out_da
, 
g_usArmOutDaIdx
);

4159 
g_usArmOutDaIdx
 = 0;

4161  
t
;

4162 
	}
}

4167 
u8_t
 
	gub_z_hg_mac_num
;

4168 
m_z_hg_mac_y_t
 
	gub_z_hg_mac_fo
[32];

4170 
u32_t
 
	$ub_z_hg_mac_y_num_g
(
u8_t
 *
p_y_num
)

4172 *
p_y_num
 = 
ub_z_hg_mac_num
;

4174  
NO_ERROR
;

4175 
	}
}

4177 
u32_t
 
	$ub_z_hg_mac_y_g
(
u8_t
 
y_id
, 
m_z_hg_mac_y_t
 *
p_hg_mac_y
)

4179 
	`vosMemCpy
(
p_hg_mac_y
, &
ub_z_hg_mac_fo
[
y_id
], (
m_z_hg_mac_y_t
));

4181  
NO_ERROR
;

4182 
	}
}

4184 
u32_t
 
	$ub_z_hg_mac_y_add
(
u8_t
 
y_id
, 
m_z_hg_mac_y_t
 *
p_hg_mac_y
)

4186 
u32_t
 
t
;

4188 
	`vosMemCpy
(&
ub_z_hg_mac_fo
[
y_id
], 
p_hg_mac_y
, (
m_z_hg_mac_y_t
));

4190 
ub_z_hg_mac_num
++;

4192  
NO_ERROR
;

4193 
	}
}

4195 
u32_t
 
	$ub_z_hg_mac_y_d
(
u8_t
 
y_id
)

4198 
u8_t
 
i
;

4200 
i
 = 
y_id
+1; i < 
ub_z_hg_mac_num
; i++)

4203 
	`vosMemCpy
(&
ub_z_hg_mac_fo
[
i
-1],

4204 &
ub_z_hg_mac_fo
[
i
],

4205 (
m_z_hg_mac_y_t
));

4208 
	`vosMemS
(&
ub_z_hg_mac_fo
[
i
],

4210 (
m_z_hg_mac_y_t
));

4213 
ub_z_hg_mac_num
--;

4215  
NO_ERROR
;

4216 
	}
}

4218 
u32_t
 
	$ub_z_hg_mac_add
(
m_z_hg_mac_y_t
 *
p_hg_mac_y
)

4220 
u32_t
 
t
;

4221 
u8_t
 
num_of_s
;

4222 
u8_t
 
w_y_id
;

4223 
u8_t
 
i
 = 0;

4224 
m_z_hg_mac_y_t
 
hg_mac_y
;

4226 
t
 = 
	`ub_z_hg_mac_y_num_g
(&
num_of_s
);

4227 if(
t
 !
NO_ERROR
)

4230 if(
num_of_s
 == 32)

4235 
w_y_id
 = 
num_of_s
;

4237 
i
 = 0; i < 
num_of_s
; i++)

4239 
t
 = 
	`ub_z_hg_mac_y_g
(
i
, &
hg_mac_y
);

4240 if(
t
 !
NO_ERROR
)

4243 if(
	`vosMemCmp
(&
hg_mac_y
, 
p_hg_mac_y
, (
m_z_hg_mac_y_t
)) == 0)

4247 if(
i
 =
num_of_s
)

4248 
t
 = 
	`ub_z_hg_mac_y_add
(
w_y_id
, 
p_hg_mac_y
);

4250  
t
;

4251 
	}
}

4253 
u32_t
 
	$ub_z_hg_mac_d
(
m_z_hg_mac_y_t
 *
p_hg_mac_y
)

4255 
u8_t
 
num_of_s
;

4256 
u8_t
 
hg_mac_id
;

4257 
u32_t
 
t
;

4258 
u8_t
 
i
;

4259 
m_z_hg_mac_y_t
 
hg_mac_y
;

4261 
t
 = 
	`ub_z_hg_mac_y_num_g
(&
num_of_s
);

4262 if(
t
 !
NO_ERROR
)

4265 if(
num_of_s
 == 0)

4268 
hg_mac_id
 = 
num_of_s
;

4270 
i
 = 0; i < 
num_of_s
; i++)

4272 
t
 = 
	`ub_z_hg_mac_y_g
(
i
, &
hg_mac_y
);

4274 if(
	`vosMemCmp
(
p_hg_mac_y
, &
hg_mac_y
, (
m_z_hg_mac_y_t
)) == 0)

4276 
t
 = 
	`ub_z_hg_mac_y_d
(
i
);

4280  
NO_ERROR
;

4281 
	}
}

4283 
u32_t
 
	$ub_z_hg_mac_r
()

4285 
u32_t
 
t
;

4286 
u8_t
 
i
;

4288 
i
 = 0; i < 32; i++)

4290 
	`vosMemS
(&
ub_z_hg_mac_fo
[
i
],

4292 (
m_z_hg_mac_y_t
));

4295  
NO_ERROR
;

4296 
	}
}

4298 
	$el_z_g_hg_mac_fo
()

4300 
u32_t
 
t
;

4301 
u8_t
 *
p_out
;

4302 
m_z_hg_mac_fo_t
 *
p_z_hg_mac_fo
;

4303 
m_z_hg_mac_fo_t
 
z_hg_mac_fo
;

4304 
m_z_hg_mac_y_t
 *
p_z_hg_mac_y
;

4305 
m_z_hg_mac_y_t
 
z_hg_mac_y
;

4306 
u8_t
 
num_of_s
;

4307 
u8_t
 
i
;

4309 
t
 = 
NO_ERROR
;

4311 if(0 =
g_usOutDaIdx
)

4313 
	`el_c_hd
(
OAM_EXT_CODE_GET_RESPONSE
);

4314 
p_out
 = &
out_da
[0];

4315 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4316 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4320 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4323 
p_z_hg_mac_fo
 = (
m_z_hg_mac_fo_t
 *)
p_out
;

4324 
p_out
 +(
m_z_hg_mac_fo_t
);

4326 
p_z_hg_mac_fo
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4327 
p_z_hg_mac_fo
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
;

4329 
t
 = 
	`ub_z_hg_mac_y_num_g
(&
num_of_s
);

4330 if(
t
 !
OPL_OK
)

4332 
g_usOutDaIdx
 = 0;

4336 
p_z_hg_mac_fo
->
ai
 = 0x03;

4337 
p_z_hg_mac_fo
->
num_of_s
 =um_of_entries;

4338 
p_z_hg_mac_fo
->
width
 = 2 + 6 * 
num_of_s
;

4340 
i
 = 0; i < 
num_of_s
; i++)

4342 
p_z_hg_mac_y
 = (
m_z_hg_mac_y_t
 *)
p_out
;

4343 
p_out
 +(
m_z_hg_mac_y_t
);

4345 
	`ub_z_hg_mac_y_g
(
i
, 
p_z_hg_mac_y
);

4348 
g_usOutDaIdx
 +
p_z_hg_mac_fo
->
width
 + 4;

4352 
	}
}

4353 
	$el_z_t_hg_mac_fo
(
u8_t
 *
p_
)

4355 
u8_t
 *
p_out
;

4356 
m_t_ڣ_t
 *
p_r
;

4357 
m__v_t_2_0
 *
p_
;

4358 
m_z_hg_mac_fo_t
 *
p_z_hg_mac_fo
;

4359 
m_z_hg_mac_y_t
 *
p_z_hg_mac_y
;

4360 
u8_t
 
num_of_s
;

4361 
u8_t
 
i
;

4362 
u32_t
 
t
;

4364 
t
=
OPL_OK
;

4366 if(0 =
g_usOutDaIdx
)

4368 
	`el_c_hd
(
OAM_EXT_CODE_SET_RESPONSE
);

4369 
p_out
 = &
out_da
[0];

4370 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4371 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4375 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4378 
p_r
 = (
m_t_ڣ_t
*)
p_out
;

4379 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4380 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
;

4382 
p_z_hg_mac_fo
 = (
m_z_hg_mac_fo_t
 *)
p_
;

4383 
p_
 +(
m_z_hg_mac_fo_t
);

4385 
num_of_s
 = 
p_z_hg_mac_fo
->num_of_entries;

4387 
p_z_hg_mac_y
 = (
m_z_hg_mac_y_t
 *)
p_
;

4389 if(
p_z_hg_mac_fo
->
ai
 == 0x00)

4391 
i
 = 0; i < 
num_of_s
; i++)

4393 
t
 = 
	`ub_z_hg_mac_d
(
p_z_hg_mac_y
);

4394 if(
t
 !
NO_ERROR
)

4395 
nd_r
;

4397 
p_z_hg_mac_y
++;

4400 if(
p_z_hg_mac_fo
->
ai
 == 0x01)

4402 
i
 = 0; i < 
num_of_s
; i++)

4404 
t
 = 
	`ub_z_hg_mac_add
(
p_z_hg_mac_y
);

4405 if(
t
 !
NO_ERROR
)

4406 
nd_r
;

4408 
p_z_hg_mac_y
++;

4411 if(
p_z_hg_mac_fo
->
ai
 == 0x02)

4413 
t
 = 
	`ub_z_hg_mac_r
();

4414 if(
t
 !
NO_ERROR
)

4415 
nd_r
;

4418 
nd_r
:

4419 if(
t
 =
OPL_OK
)

4421 
p_r
->
diti
 = 
OAM_SET_OK
;

4425 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

4428 
p_out
 +(
m_t_ڣ_t
);

4429 
g_usOutDaIdx
 +(
m_t_ڣ_t
);

4432 
	}
}

4435 
m_z_hg_mgmt_vn_t
 
	gub_z_hg_mgmt_vn
;

4437 
u32_t
 
	$ub_z_g_hg_mgmt_vn
(
u16_t
 *
p_mgmt_vn
)

4439 *
p_mgmt_vn
 = 
ub_z_hg_mgmt_vn
.
hg_mgmt_vn
;

4441  
NO_ERROR
;

4442 
	}
}

4444 
u32_t
 
	$ub_z_t_hg_mgmt_vn
(
u16_t
 
mgmt_vn
)

4446 
ub_z_hg_mgmt_vn
.
hg_mgmt_vn
 = 
mgmt_vn
;

4448  
NO_ERROR
;

4449 
	}
}

4451 
	$el_z_g_hg_mgmt_vn
()

4453 
u8_t
 *
p_out
;

4454 
m_z_hg_mgmt_vn_t
 *
p_z_hg_mgmt_vn
;

4455 
u32_t
 
t
;

4456 
u16_t
 
hg_mgmt_vn
;

4458 if(0 =
g_usOutDaIdx
)

4460 
	`el_c_hd_2_0
(
OAM_EXT_CODE_GET_RESPONSE
);

4461 
p_out
 = &
out_da
[0];

4462 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4463 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4467 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4470 
p_z_hg_mgmt_vn
 = (
m_z_hg_mgmt_vn_t
 *)
p_out
;

4471 
p_z_hg_mgmt_vn
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

4472 
p_z_hg_mgmt_vn
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
;

4473 
p_z_hg_mgmt_vn
->
width
 = 2;

4475 
t
 = 
	`ub_z_g_hg_mgmt_vn
(&
hg_mgmt_vn
);

4477 if(
t
 !
NO_ERROR
)

4480 
p_z_hg_mgmt_vn
->
hg_mgmt_vn
 = hg_mgmt_vlan;

4482 
g_usOutDaIdx
 +
p_z_hg_mgmt_vn
->
width
 + 4;

4484 
	}
}

4485 
	$el_z_t_hg_mgmt_vn
(
u8_t
 *
p_
)

4487 
u32_t
 
t
;

4488 
u8_t
 *
p_out
;

4489 
m_t_ڣ_t
 *
p_r
;

4490 
m_z_hg_mgmt_vn_t
 *
p_z_mgmt_vn
;

4492 if(0 =
g_usOutDaIdx
)

4494 
	`el_c_hd_2_0
(
OAM_EXT_CODE_SET_RESPONSE
);

4495 
p_out
 = &
out_da
[0];

4496 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4497 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4501 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4504 
p_r
 = (
m_t_ڣ_t
*)
p_out
;

4505 
p_r
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

4506 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
;

4508 
p_z_mgmt_vn
 = (
m_z_hg_mgmt_vn_t
 *)
p_
;

4510 
t
 = 
	`ub_z_t_hg_mgmt_vn
(
p_z_mgmt_vn
->
hg_mgmt_vn
);

4512 if(
t
 =
NO_ERROR
)

4514 
p_r
->
diti
 = 
OAM_SET_OK
;

4518 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

4521 
g_usOutDaIdx
 += 4;

4522 
	}
}

4524 
u32_t
 
	$ub_z_g_hg_acss_fo
(
u8_t
 
pt_id
, 
m_z_hg_acss_fo_t
 *
p_fo
)

4526 
	`vosMemCpy
(&
p_fo
->
hg_mac
[0], &
ub_z_hg_acss_fo
[
pt_id
].hg_mac[0], 6);

4528 
p_fo
->
hg_pt_e
 = 
ub_z_hg_acss_fo
[
pt_id
].hg_report_state;

4530  
NO_ERROR
;

4531 
	}
}

4533 
u32_t
 
	$ub_z_t_hg_acss_fo
(
u8_t
 
pt_id
, 
m_z_hg_acss_fo_t
 *
p_fo
)

4536 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "S hgcsp܈ %d, ma"
MAC_ASC_F
", state %d\n" ,

4537 
pt_id
, 
	`MACPRINT
(
p_fo
->
hg_mac
),_fo->
hg_pt_e
);

4539 
	`vosMemCpy
(&
ub_z_hg_acss_fo
[
pt_id
].
hg_mac
[0], &
p_fo
->hg_mac[0], 6);

4541 
ub_z_hg_acss_fo
[
pt_id
].
hg_pt_e
 = 
p_fo
->hg_report_state;

4543  
NO_ERROR
;

4544 
	}
}

4546 
	$el_z_g_hg_acss_fo
()

4548 
u32_t
 
t
;

4549 
u8_t
 
ucPtS
;

4550 
u8_t
 
ucPtE
;

4551 
u8_t
 *
p_out
;

4552 
m__v_t_2_0
 *
p_
;

4553 
m_z_hg_acss_fo_t
 *
p_z_hg_acss_fo
;

4555 
t
 = 
NO_ERROR
;

4557 if(0xFF =
pt__2_0
.
vue
)

4559 
ucPtS
 = 1;

4560 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

4564 
ucPtS
 = 
pt__2_0
.
vue
;

4565 
ucPtE
 = 
pt__2_0
.
vue
;

4568 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4570 if(0 =
g_usOutDaIdx
)

4572 
	`el_c_hd
(
OAM_EXT_CODE_GET_RESPONSE
);

4573 
p_out
 = &
out_da
[0];

4574 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4575 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4579 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4582 
pt__2_0
.
vue
 = 
ucPtS
;

4583 
p_
 = (
m__v_t_2_0
 *)
p_out
;

4584 *
p_
 = 
pt__2_0
;

4585 
p_out
 +(
m__v_t_2_0
);

4586 
g_usOutDaIdx
 +(
m__v_t_2_0
);

4588 
p_z_hg_acss_fo
 = (
m_z_hg_acss_fo_t
*)
p_out
;

4589 
p_z_hg_acss_fo
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4590 
p_z_hg_acss_fo
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
;

4591 
p_z_hg_acss_fo
->
width
 = 0x07;

4593 
t
 = 
	`ub_z_g_hg_acss_fo
(
ucPtS
, 
p_z_hg_acss_fo
);

4594 if(
t
 !
OPL_OK
)

4599 
g_usOutDaIdx
 +
p_z_hg_acss_fo
->
width
 + 4;

4603 
	}
}

4604 
	$el_z_t_hg_acss_fo
(
u8_t
 *
p_
)

4606 
u8_t
 
ucPtS
;

4607 
u8_t
 
ucPtE
;

4608 
u8_t
 *
p_out
;

4609 
m_t_ڣ_t
 *
p_r
;

4610 
m__v_t_2_0
 *
p_
;

4611 
m_z_hg_acss_fo_t
 *
p_z_hg_acss_fo
;

4612 
u32_t
 
t
;

4614 
t
=
OPL_OK
;

4616 if(0xFF =
pt__2_0
.
vue
)

4618 
ucPtS
 = 1;

4619 
ucPtE
 = 
ODM_NUM_OF_PORTS
;

4623 
ucPtS
 = 
pt__2_0
.
vue
;

4624 
ucPtE
 = 
pt__2_0
.
vue
;

4627 if(0 =
g_usOutDaIdx
)

4629 
	`el_c_hd
(
OAM_EXT_CODE_SET_RESPONSE
);

4630 
p_out
 = &
out_da
[0];

4631 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

4632 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

4636 
p_out
 = &
out_da
[
g_usOutDaIdx
];

4639 
p_
 = (
m__v_t_2_0
 *)
p_out
;

4640 *
p_
 = 
pt__2_0
;

4641 
p_out
 +(
m__v_t_2_0
);

4642 
g_usOutDaIdx
 +(
m__v_t_2_0
);

4644 
p_r
 = (
m_t_ڣ_t
*)
p_out
;

4645 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

4646 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
;

4648 
p_z_hg_acss_fo
 = (
m_z_hg_acss_fo_t
 *)
p_
;

4649 ; 
ucPtS
<=
ucPtE
; ucPortS++)

4651 
t
 = 
	`ub_z_t_hg_acss_fo
(
ucPtS
, 
p_z_hg_acss_fo
);

4652 if(
t
 !
NO_ERROR
)

4653 
nd_r
;

4656 
nd_r
:

4658 if(
t
 =
OPL_OK
)

4660 
p_r
->
diti
 = 
OAM_SET_OK
;

4664 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

4667 
p_out
 +(
m_t_ڣ_t
);

4668 
g_usOutDaIdx
 +(
m_t_ڣ_t
);

4671 
	}
}

4673 *
	$sime_
(
i
)

4681 
lol
[22];

4682 *
p
 = &
lol
[21];

4683 *
p
-- = '\0';

4685 *
p
-- = '0' + 
i
 % 10;

4686 
i
 /= 10;

4687 } 
i
 > 0);

4688  
p
 + 1;

4689 
	}
}

4691 
u32_t
 
	$ub_z_hg_msg_t
(
u8_t
 *
hgMac
, u8_
ptId
, u8_*
ptMsg
)

4693 
tmpBuf
[20];

4694 
u32_t
 
pvid
 = 10;

4695 
tV
 = 
ERROR
;

4698 
tV
 = 
	`odmPtDeuVnG
(
ptId
, &
pvid
);

4700 if(
NO_ERROR
 !
tV
)

4702  
tV
;

4705 
	`vosStf
(
ptMsg
, 
MAC_ASC_F
, 
	`MACPRINT
(
hgMac
));

4706 
	`vosSC
(
ptMsg
, "@");

4707 
	`vosSC
(
ptMsg
, 
	`sime_
(
pvid
));

4708 
	`vosSC
(
ptMsg
, "@");

4709 
	`vosSC
(
ptMsg
, 
	`sime_
(
pvid
 + 1200));

4710 
	`vosSC
(
ptMsg
, "@");

4711 
	`vosSC
(
ptMsg
, 
	`sime_
(
pvid
+ 2400));

4713 
	}
}

4716 
u32_t
 
	$ub_z_hg_cfig_ve
(
NS
, 
ptId
)

4718 
tV
;

4720 
tV
 = 
	`vosCfigIegS
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
,
NS
);

4721 i(0 !
tV
)

4723  
ERR_CONFIG_SET_FAIL
;

4726 
tV
 = 
	`vosCfigIegS
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_PORT
,
ptId
);

4727 i(0 !
tV
)

4729  
ERR_CONFIG_SET_FAIL
;

4732 
tV
 = 
	`vosCfigFlushByModu
(
CFG_HG_CFG
);

4733 i(0 !
tV
)

4735  
ERR_CONFIG_SET_FAIL
;

4737 
	}
}

4739 
u32_t
 
	$ub_z_hg_cfig_ld
(*
NS
, *
ptId
)

4741 
tV
;

4743 *
NS
 = 
	`vosCfigIegG
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
, 
CFG_HG_IN_NET_STATE_DEFAULT
);

4745 *
ptId
 = 
	`vosCfigIegG
(
CFG_HG_CFG
, 
CFG_HG_SECTION
, 
CFG_HG_IN_NET_STATE
, 
CFG_HG_IN_NET_PORT_DEFAULT
);

4746 
	}
}

4748 
	#ONE_PORT_HG


	)

4751 
	$el_z_hg_check
()

4753 
u32_t
 
i
,
j
;

4754 
ptId
;

4755 
u32_t
 
tV
 = 0;

4756 
u8_t
 
yNum
 = 0;

4757 
u16_t
 
vnId
;

4758 
ptMsg
[32];

4759 
NS
;

4761 
	`ub_z_hg_cfig_ld
(&
NS
, &
ptId
);

4762 if(
ptId
 !
CFG_HG_IN_NET_PORT_DEFAULT
)

4763 
ub_z_hg_acss_fo
[
ptId
].
hg_pt_e
 = 
NS
;

4767 
	`vosS˕
(1);

4768 #ifde
ONE_PORT_HG


4770 
ptId
 = 1;tId <
ODM_NUM_OF_PORTS
;ortId++)

4772 if(
ub_z_hg_acss_fo
[
ptId
].
hg_pt_e
 == 1)

4776 if(
ptId
 <
ODM_NUM_OF_PORTS
)

4778 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "HG hasntriedet\n");

4783 if(
ub_z_hg_mgmt_vn
.
hg_mgmt_vn
 == 0

4784 ||
ub_z_hg_mac_num
 == 0)

4789 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Hag magv%dnd hg mac, checkg beg\n", 
ub_z_hg_mgmt_vn
.
hg_mgmt_vn
);

4791 
ptId
 = 1;tId <
ODM_NUM_OF_PORTS
;ortId++)

4793 #ide
ONE_PORT_HG


4794 if(
ub_z_hg_acss_fo
[
ptId
].
hg_pt_e
 == 1)

4796 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "A HG had ip܈%d\n", 
ptId
);

4801 
tV
 = 
	`odmPtMacFrNumG
(
ptId
, &
yNum
);

4803 
tV
 = 0;

4804 if(
tV
 !
NO_ERROR
)

4806 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
,"Failo odmPortMacFilterNumGet\n");

4810 
i
 = 0; i < 
yNum
; i++)

4812 
j
 = 0; j < 
ub_z_hg_mac_num
; j++)

4815 
tV
 = 
	`odmPtMacFrEryG
(
ptId
, 
j
, &
vnId
, &
ub_z_hg_mac_fo
[
i
].
mac_addr
[j]);

4817 if(
tV
 !
NO_ERROR
)

4819 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
, "Failo odmPortMacFilterEntryGet\n");

4823 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "G Pt:%d,ry Num:%d, Vn:%d\n",
ptId
, 
yNum
, 
vnId
);

4825 if(
vnId
 =
ub_z_hg_mgmt_vn
.
hg_mgmt_vn
)

4827 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,

4828 "HG habfound, Mai"
MAC_ASC_F
"\n",

4829 
	`MACPRINT
(
ub_z_hg_mac_fo
[
j
].
mac_addr
));

4831 
tV
 = 
	`ub_z_hg_msg_t
(&
ub_z_hg_mac_fo
[
i
].
mac_addr
[
j
], 
ptId
, 
ptMsg
);

4832 if(
tV
 !
NO_ERROR
)

4834 
	`OP_DEBUG
(
DEBUG_LEVEL_OFF
, "Failoopl_zte_hg_msg_set\n");

4837 
ub_z_hg_acss_fo
[
ptId
].
hg_pt_e
 == 0)

4840 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "R܈hg msg %tػeؒy. \n", 
ptMsg
);

4841 
	`el_z_hg_pt
(
ptId
, 0x1006, 
ptMsg
, (
	`vosSL
(reportMsg)+1));

4842 
	`vosS˕
(10);

4845 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "Entryinget is successfull!!! \n");

4851 
	}
}

4854 
m_z_gbl__t
 
	gub_z_gbl_
;

4856 
u32_t
 
	$ub_z_g_gbl_
(
m_z_gbl__t
 *
p_z_gbl_
)

4858 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

4859 
my_uame
[32]={0};

4860 
my_sswd
[32]={0};

4861 
nL
=0;

4862 
UINT32
 
tV

ERROR
;

4864 
	`memt
(&
IpCfig
,0,(
ODM_SYS_IF_CONFIG_t
));

4866 
IpCfig
.
ucIf
 = 
INTERFACE_WAN
;

4868 
IpCfig
.
ucIfMode
 = 
INTERFACE_MODE_SIGNAL
;

4870 
tV
 = 
	`odmSysIfCfigG
(&
IpCfig
);

4872 i(
NO_ERROR
 !
tV
)

4874 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
, "failo get odmSysIfConfigGet!\n");

4875  
PARAMETER_INPUT_POINTER_NULL
;

4878 
p_z_gbl_
->
voi__˩i
 = 
IpCfig
.
ucIfSheMode
;

4880 
p_z_gbl_
->
voi__mode
 = 
IpCfig
.
ucIpMode
;

4882 if(
p_z_gbl_
->
voi__mode
 == 0)

4884 
p_z_gbl_
->
d__addss
 = 
IpCfig
.
ulIpAddr
;

4886 
p_z_gbl_
->
d_t_mask
 = 
IpCfig
.
ulIpMask
;

4888 
p_z_gbl_
->
d_deu_gw
 = 
IpCfig
.
ulGwAddr
;

4890 
p_z_gbl_
->
imy_dns
 = 
IpCfig
.
ulDnsAddr
;

4892 if(
p_z_gbl_
->
voi__mode
 == 2)

4894 
p_z_gbl_
->
p_mode
 = 
IpCfig
.
ucPPPoEAuthTy
;

4897 
nL
 = 
	`vosSL
(
IpCfig
.
acPPPoEUr
);

4898 i(
nL
 < 32)

4900 
	`vosMemS
(&
p_z_gbl_
->
p_uame
[0], 0, 32- 
nL
);

4901 
	`vosMemCpy
(&
p_z_gbl_
->
p_uame
[32 - 
nL
], 
IpCfig
.
acPPPoEUr
,Len);

4905 
	`vosMemCpy
(&
p_z_gbl_
->
p_uame
[0], 
IpCfig
.
acPPPoEUr
, (p_zte_gbl_para->pppoe_username));

4909 
nL
 = 
	`vosSL
(
IpCfig
.
acPPPoEPass
);

4910 i(
nL
 < 32)

4912 
	`vosMemS
(&
p_z_gbl_
->
p_sswd
[0], 0, 32- 
nL
);

4913 
	`vosMemCpy
(&
p_z_gbl_
->
p_sswd
[32 - 
nL
], 
IpCfig
.
acPPPoEPass
,Len);

4917 
	`vosMemCpy
(&
p_z_gbl_
->
p_sswd
[0], 
IpCfig
.
acPPPoEPass
, (p_zte_gbl_para->pppoe_password));

4922 
p_z_gbl_
->
gged_ag
 = 
IpCfig
.
ucTagged
;

4924 if(
p_z_gbl_
->
gged_ag
 == 1 ||_zte_gbl_para->tagged_flag == 2)

4926 
p_z_gbl_
->
voi_da_cvn
 = 
IpCfig
.
usCVn
;

4928 
p_z_gbl_
->
voi_da_i
 = 
IpCfig
.
ucPriܙy
;

4931 if(
p_z_gbl_
->
gged_ag
 == 2)

4932 
p_z_gbl_
->
voi_da_svn
 = 
IpCfig
.
usSVLAN
;

4934  
tV
;

4935 
	}
}

4937 
ODM_SYS_IF_CONFIG_t
 
	gg_IpCfig_20
;

4938 * 
	$ub_u_cfig_r_thad_20
(*
pPm
)

4940 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

4942 
	`memy
(&
IpCfig
, &
g_IpCfig_20
, (stIpConfig));

4944 i(
NO_ERROR
 !
	`odmSysIfCfigS
(&
IpCfig
))

4946 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "OAM config interface failed\n");

4949 
	`vosThadEx
(0);

4950  
NULL
;

4951 
	}
}

4952 
u32_t
 
	$ub_z_t_gbl_
(
m_z_gbl__t
 *
p_z_gbl_
)

4954 
my_uame
[32]={0};

4955 
my_sswd
[32]={0};

4956 
UINT32
 
tV
;

4959 
g_IpCfig_20
.
ucIfSheMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

4962 
g_IpCfig_20
.
ucIpMode
 = 
p_z_gbl_
->
voi__mode
;

4967 if(
g_IpCfig_20
.
ucIpMode
 == 0)

4969 
g_IpCfig_20
.
ulIpAddr
 = 
p_z_gbl_
->
d__addss
;

4971 
g_IpCfig_20
.
ulIpMask
 = 
p_z_gbl_
->
d_t_mask
;

4973 
g_IpCfig_20
.
ulGwAddr
 = 
p_z_gbl_
->
d_deu_gw
;

4975 
g_IpCfig_20
.
ulDnsAddr
 = 
p_z_gbl_
->
imy_dns
;

4977 if(
g_IpCfig_20
.
ucIpMode
 == 2)

4979 
g_IpCfig_20
.
ucPPPoEAuthTy
 = 
p_z_gbl_
->
p_mode
;

4981 
	`rzorg
(
p_z_gbl_
->
p_uame
, 
my_uame
, (p_zte_gbl_para->pppoe_username));

4982 
	`rzorg
(
p_z_gbl_
->
p_sswd
, 
my_sswd
, (p_zte_gbl_para->pppoe_password));

4984 
	`vosMemCpy
(&
g_IpCfig_20
.
acPPPoEUr
[0], 
my_uame
, 32);

4987 
	`vosMemCpy
(&
g_IpCfig_20
.
acPPPoEPass
[0], 
my_sswd
, 32);

4989 
g_IpCfig_20
.
ucTagged
 = 
p_z_gbl_
->
gged_ag
;

4991 if(
g_IpCfig_20
.
ucTagged
 == 1 || g_stIpConfig_20.ucTagged == 2)

4993 
g_IpCfig_20
.
usCVn
 = 
p_z_gbl_
->
voi_da_cvn
;

4995 
g_IpCfig_20
.
ucPriܙy
 = 
p_z_gbl_
->
voi_da_i
;

4998 if(
g_IpCfig_20
.
ucTagged
 == 2)

5000 
g_IpCfig_20
.
usSVLAN
 = 
p_z_gbl_
->
voi_da_svn
;

5003 
g_IpCfig_20
.
ucIf
 = 
INTERFACE_WAN
;

5005 
g_IpCfig_20
.
ucIfMode
 = 
INTERFACE_MODE_SIGNAL
;

5007 i(
NULL
 =
	`vosThadCe
("tICng", 
OP_VOS_THREAD_STKSZ
, 100,

5008 (*)
ub_u_cfig_r_thad_20
, &
g_IpCfig_20
))

5010 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "Create stub_onu_config_interface_threadhread failed\n");

5011  
ERROR
;

5014  
NO_ERROR
;

5015 
	}
}

5018 
	$el_z_g_gbl_
(
u8_t
* 
pRlybuf
, 
u16_t
* 
pGn
)

5020 
u8_t
 
mRCode
 = 0;

5021 
m_r_diti_t
 *
p_g_r
;

5022 
m_z_gbl__t
 *
p_z_gbl_
;

5023 
m__v_t_2_0
 *
p_
;

5024 
u32_t
 
t
;

5026 *
pGn
 = 0;

5027 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

5028 
pRlybuf
 +(
m__v_t_2_0
);

5029 *
pGn
 +(
m__v_t_2_0
);

5031 
p_
->
bnch
 = 0x36;

5032 
p_
->
af
 = 0x0001;

5033 
p_
->
width
 = 0x01;

5034 
p_
->
vue
 = 1;

5036 
p_z_gbl_
 = (
m_z_gbl__t
 *)
pRlybuf
;

5037 
p_z_gbl_
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5038 
p_z_gbl_
->
af
 = 
OAM_ZTE_EXT_LEAF_GBL_PARA
;

5040 
t
 = 
	`ub_z_g_gbl_
(
p_z_gbl_
);

5043 if(
t
 !
NO_ERROR
)

5045 
p_z_gbl_
->
width
 = 
OAM_GET_NO_RESOURCE
;

5046 *
pGn
 += 4;

5050 
p_z_gbl_
->
width
 = (
m_z_gbl__t
)-4;

5051 *
pGn
 +
p_z_gbl_
->
width
 + 4;

5054 
	}
}

5066 
	$el_z_t_mgmt_dh
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

5068 
i
 = 0;

5069 
u32_t
 
t
 = 
NO_ERROR
;

5070 
m_t_ڣ_t
 *
p_r
;

5071 
m_z_gbl__t
 *
p_z_gbl_
;

5072 
m__v_t_2_0
 *
p_
;

5073 
m_z_mgmt_dh_t
 *
p_z_mgmt_dh
;

5075 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

5076 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5077 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP
;

5079 
p_z_mgmt_dh
 = (
m_z_mgmt_dh_t
 *)
p_
;

5081 
p_z_mgmt_dh
->
ai
)

5083 
ZTE_DHCP_ENABLE
:

5085 if((
p_z_mgmt_dh
->
vnid
<1) || (p_zte_mgmt_dhcp->vlanid>4094))

5087 
t
 = 
ERROR
;

5088 
nd_r
;

5092 
t
 = 
	`el_mgmtvn_ossg
(
p_z_mgmt_dh
->
vnid
);

5093 if(
NO_ERROR
 !
t
)

5095 
nd_r
;

5097 
t
 = 
	`el_dh_hdr
();

5098 if(
NO_ERROR
 !
t
)

5100 
nd_r
;

5104 
ZTE_DHCP_DISABLE
:

5105 
t
 = 
	`el_h3c_t_deu_
(
p_
);

5106 if(
NO_ERROR
 !
t
)

5108 
nd_r
;

5112 
t
 = 
ERROR
;

5113 
nd_r
;

5116 
nd_r
:

5117 if(
t
 =
NO_ERROR
)

5119 
p_r
->
diti
 = 
OAM_SET_OK
;

5123 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

5126 *
pGn
 = 4;

5127 
	}
}

5130 
	$el_z_t_gbl_
(
u8_t
 *
p_
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

5132 
i
 = 0;

5133 
u32_t
 
t
;

5134 
m_t_ڣ_t
 *
p_r
;

5135 
m_z_gbl__t
 *
p_z_gbl_
;

5136 
m__v_t_2_0
 *
p_
;

5138 
p_
 = (
m__v_t_2_0
 *)
pRlybuf
;

5140 
p_
->
bnch
 = 0x36;

5141 
p_
->
af
 = 0x0001;

5142 
p_
->
width
 = 0x01;

5143 
p_
->
vue
 = 0x01;

5145 
pRlybuf
 +(
m__v_t_2_0
);

5147 
p_r
 = (
m_t_ڣ_t
*)
pRlybuf
;

5148 
p_r
->
bnch
 = 
OAM_BRANCH_EXTENDED_ATTRIB
;

5149 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_GBL_PARA
;

5152 
p_z_gbl_
 = (
m_z_gbl__t
 *)
p_
;

5154 
t
 = 
	`ub_z_t_gbl_
(
p_z_gbl_
);

5156 if(
t
 =
NO_ERROR
)

5158 
p_r
->
diti
 = 
OAM_SET_OK
;

5162 
p_r
->
diti
 = 
OAM_SET_NO_RESOURCE
;

5165 *
pGn
 = (
m__v_t_2_0
+ (
m_t_ڣ_t
);

5168 
	}
}

5170 
ODM_SYS_IF_CONFIG_t
 
	gg_IpMgmgCfig_20
;

5172 
u32_t
 
	$ub_t_mgmg__addr_cfg
(
u32_t
 
_addr
, u32_
_mask
)

5174 
UINT32
 
tV
;

5176 
g_IpMgmgCfig_20
.
ulIpAddr
 = 
_addr
;

5178 
g_IpMgmgCfig_20
.
ulIpMask
 = 
_mask
;

5180  
NO_ERROR
;

5181 
	}
}

5183 
u32_t
 
	$ub_t_mgmt_vn_cfg
(
u8_t
 
vid
, u8_
mgmt_i
, 
u16_t
 
mgmt_vn
)

5185 
UINT32
 
tV
;

5187 
g_IpMgmgCfig_20
.
ucTagged
 = 
vid
;

5189 
g_IpMgmgCfig_20
.
ucPriܙy
 = 
mgmt_i
;

5190 
g_IpMgmgCfig_20
.
usCVn
 = 
mgmt_vn
;

5192  
NO_ERROR
;

5194 
	}
}

5196 
u8_t
 
	gg_mgmt_us_cfg
;

5198 
u32_t
 
	$ub_t_mgmt_us_cfg
(
u8_t
 
us
)

5201 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

5202 
UINT32
 
tV
;

5204 
IpCfig
.
ucIf
 = 
INTERFACE_WAN
;

5206 
IpCfig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5207 
tV
 = 
	`odmSysIfCfigG
(&
IpCfig
);

5208 i(
NO_ERROR
 !
tV
)

5210  
OAM_SET_BAD_PARAMETERS
;

5213 
IpCfig
.
ucIfSheMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

5215 
IpCfig
.
ucIpMode
 = 
IF_IP_MODE_STATIC
;

5217 
IpCfig
.
ulIpAddr
 = 0;

5219 
IpCfig
.
ulIpMask
 = 0;

5221 
IpCfig
.
ucIf
 = 
INTERFACE_WAN
;

5223 
IpCfig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5224 
tV
 = 
	`odmSysIfCfigS
(&
IpCfig
);

5225 i(
NO_ERROR
 !
tV
)

5227  
OAM_SET_BAD_PARAMETERS
;

5230 
g_mgmt_us_cfg
 = 
us
;

5232  
NO_ERROR
;

5233 
	}
}

5235 
u32_t
 
	$ub_t_mgmt_ho_fo_cfg
(
u32_t
 
ho_subt
, u32_
ho_mask
, u32_
geway
)

5241 
g_IpMgmgCfig_20
.
ulGwAddr
 = 
geway
;

5243  
NO_ERROR
;

5244 
	}
}

5246 * 
	$ub_u_cfig_adm_r_thad_20
(*
pPm
)

5248 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

5250 
	`memy
(&
IpCfig
, &
g_IpMgmgCfig_20
, (stIpConfig));

5252 i(
NO_ERROR
 !
	`odmSysIfCfigS
(&
IpCfig
))

5254 
	`OP_DEBUG
(
DEBUG_LEVEL_WARNING
, "OAM config interface failed\n");

5257 
	`vosThadEx
(0);

5258  
NULL
;

5259 
	}
}

5261 
	$el_z_t_mgmt_
(
u8_t
 *
p_
,u8_
ty
,u8_
pt
, u8_t* 
pRlyBuf
, 
u16_t
* 
pGn
)

5263 
u32_t
 
t
;

5264 
m_t_ڣ_t
 *
p_r
;

5265 
m_z_mgmt__cfg_t
 *
p_z_mgmt_
;

5266 
u8_t
 
vnVid
 = 0;

5267 
_addr
 
addr
;

5268 
_addr
 
mask
;

5269 
_addr
 
geway
;

5271 *
pGn
 = 0;

5272 
p_r
 = (
m_t_ڣ_t
*)
pRlyBuf
;

5273 
p_r
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5274 
p_r
->
af
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5276 
p_z_mgmt_
 = (
m_z_mgmt__cfg_t
 *)
p_
;

5278 
g_IpMgmgCfig_20
.
ucIf
 = 
INTERFACE_WAN
;

5280 
g_IpMgmgCfig_20
.
ucIfSheMode
 = 
INTERFACE_SHARE_MODE_SHARE
;

5281 
g_IpMgmgCfig_20
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5282 
g_IpMgmgCfig_20
.
ucIpMode
 = 
IF_IP_MODE_STATIC
;

5284 if((
p_z_mgmt_
->
mgmt_vn
<1) || (p_zte_mgmt_ip->mgmt_vlan>4094))

5286 
t
 = 
ERROR
;

5287 
nd_r
;

5290 
t
 = 
	`el_mgmtvn_ossg
(
p_z_mgmt_
->
mgmt_vn
);

5291 if(
t
 !
NO_ERROR
)

5292 
nd_r
;

5293 
	`vosMemCpy
(&
addr
, &(
p_z_mgmt_
->
_addr
), 4);

5294 
	`vosMemCpy
(&
mask
, &(
p_z_mgmt_
->
_mask
), 4);

5295 
	`vosMemCpy
(&
geway
, &(
p_z_mgmt_
->
mgmt_geway
), 4);

5296 
t
 = 
	`el__ossg
(
addr
, 
mask
, 
geway
);

5297 if(
t
 !
NO_ERROR
)

5298 
nd_r
;

5299 
nd_r
:

5300 if(
t
 =
NO_ERROR
)

5302 
p_r
->
diti
 = 
OAM_SET_OK
;

5306 
p_r
->
diti
 = 
OAM_BAD_PARAM_VALUE
;

5309 *
pGn
 += 4;

5312 
	}
}

5314 
	$el_z_g_mgmt_
(
u8_t
 
ty
,u8_
pt
, u8_t*
pRlyBuf
, 
u16_t
* 
pGn
)

5316 
m_z_mgmt__cfg_t
 *
p_u_mgmt_
;

5317 
m_r_diti_t
 *
p_g_mgmt_
;

5319 
ODM_SYS_IF_CONFIG_t
 
IpCfig
;

5320 
u8_t
 
mRCode
;

5321 
u32_t
 
t
 = 
ERROR
;

5323 *
pGn
 = 0;

5324 
IpCfig
.
ucIf
 = 
INTERFACE_WAN
;

5325 
IpCfig
.
ucIfMode
 = 
INTERFACE_MODE_ADMIN
;

5327 if(
t
!
NO_ERROR
)

5329 
mRCode
 = 
OAM_BAD_PARAM_VALUE
;

5331 
p_g_mgmt_
 = (
m_r_diti_t
 *)
pRlyBuf
;

5332 
p_g_mgmt_
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5333 
p_g_mgmt_
->
af
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5334 
p_g_mgmt_
->
v_diti
 = 
mRCode
;

5336 *
pGn
 += 4;

5341 
p_u_mgmt_
 = (
m_z_mgmt__cfg_t
*)
pRlyBuf
;

5343 
p_u_mgmt_
->
bnch
 = 
OAM_ZTE_EXT_BRANCH_ATTR
;

5344 
p_u_mgmt_
->
af
 = 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
;

5345 
p_u_mgmt_
->
width
 = 24;

5347 
p_u_mgmt_
->
_addr
 =
IpCfig
.
ulIpAddr
;

5348 
p_u_mgmt_
->
_mask
 =
IpCfig
.
ulIpMask
;

5349 
p_u_mgmt_
->
mgmt_i
 =
IpCfig
.
ucPriܙy
;

5350 
p_u_mgmt_
->
mgmt_vn
 =
IpCfig
.
usCVn
;

5351 
p_u_mgmt_
->
mgmt_us
 = 
g_mgmt_us_cfg
;

5354 
p_u_mgmt_
->
mgmt_geway
 = 
IpCfig
.
ulGwAddr
;

5356 *
pGn
 +
p_u_mgmt_
->
width
 + 4;

5359 
	}
}

5362 
	$el_z_no_sut
(
u8_t
 
bnch
 , 
u16_t
 
af
)

5364 
u8_t
 *
p_out
;

5365 
u8_t
 
mRCode
;

5366 
m_r_diti_t
 *
p_g_r
;

5367 
m__v_t_2_0
 *
p_
;

5369 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"unknownlv branch %deaf %d",

5370 
bnch
,

5371 
af
);

5373 if(0 =
g_usOutDaIdx
)

5375 
	`el_c_hd
(
OAM_EXT_CODE_GET_RESPONSE
);

5376 
p_out
 = &
out_da
[0];

5377 
p_out
 +(
mpdu_hdr_t
+ (
c_hd_t
);

5378 
g_usOutDaIdx
 = (
mpdu_hdr_t
+ (
c_hd_t
);

5382 
p_out
 = &
out_da
[
g_usOutDaIdx
];

5385 if(
pt__2_0
.
vue
 &&ort_instance_2_0.value!=200)

5387 
p_
 = (
m__v_t_2_0
 *)
p_out
;

5388 *
p_
 = 
pt__2_0
;

5389 
p_out
 +(
m__v_t_2_0
);

5390 
g_usOutDaIdx
 +(
m__v_t_2_0
);

5393 
mRCode
 = 
OAM_GET_BAD_PARA
;

5394 
p_g_r
 = (
m_r_diti_t
 *)
p_out
;

5395 
p_g_r
->
bnch
 = branch;

5396 
p_g_r
->
af
 =eaf;

5397 
p_g_r
->
v_diti
 = 
mRCode
;

5399 
g_usOutDaIdx
 += 4;

5401 if(
g_usOutDaIdx
 < 
OAM_MINIMIZE_PDU_SIZE
)

5403 
	`m_pdu_ddg
(&
out_da
[
g_usOutDaIdx
], 
OAM_MINIMIZE_PDU_SIZE
 - g_usOutDataIdx);

5404 
g_usOutDaIdx
 = 
OAM_MINIMIZE_PDU_SIZE
;

5407 
	`OamFmeSd
(
out_da
, 
g_usOutDaIdx
);

5408 
	`memt
(&
pt__2_0
, 0, (
m__v_t_2_0
));

5409 
g_usOutDaIdx
 = 0;

5411 
	}
}

5413 
	$el_z_g_q
(
u8_t
 *
p_
, u8_
ty
, u8_
pt
,u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

5415 
m_vb_dest_t
 *
p_v_desc
;

5416 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"oszxg,y = %x,܈%x\n", 
ty
, 
pt
);

5417 
u16_t
 
gL
 = 0;

5420 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

5421 
p_v_desc
->
bnch
)

5423 
OAM_ZTE_EXT_BRANCH_ATTR
:

5424 
p_v_desc
->
af
)

5426 
OAM_ZTE_EXT_LEAF_ONU_SUPPORT
:

5427 
	`el_z_g_u_sut
(
ty
,
pt
, 
pRlyBuf
, &
gL
);

5428 
pRlyBuf
 +
gL
;

5429 *
pRlyL
 +
gL
;

5432 
OAM_ZTE_EXT_LEAF_ONU_SN
:

5433 
	`el_z_g_u_
(
ty
,
pt
, 
pRlyBuf
, &
gL
);

5434 
pRlyBuf
 +
gL
;

5436 *
pRlyL
 = 0;

5439 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
:

5440 
	`el_z_g_mgmt_
(
ty
,
pt
, 
pRlyBuf
, &
gL
);

5441 
pRlyBuf
 +
gL
;

5442 *
pRlyL
 +
gL
;

5444 
OAM_ZTE_EXT_LEAF_TYPE_C_GET
:

5445 
	`el_z_g_ty_c
(
ty
,
pt
, 
pRlyBuf
, &
gL
);

5446 
pRlyBuf
 +
gL
;

5447 *
pRlyL
 +
gL
;

5452 
p_
 +(
m_vb_dest_t
);

5455 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
:

5456 
p_v_desc
->
af
)

5458 
OAM_ZTE_EXT_LEAF_GET_PORT_MODE
:

5459 
	`el_z_g_pt_mode
(
ty
,
pt
, 
pRlyBuf
, &
gL
);

5460 
pRlyBuf
 +
gL
;

5461 *
pRlyL
 +
gL
;

5466 
p_
 +(
m_vb_dest_t
);

5473 
	}
}

5476 
	$el_z_t_q
(
u8_t
 *
p_
, u8_
ty
, u8_
pt
,u8_t* 
pRlyBuf
, 
u16_t
* 
pRlyL
)

5478 
m_vb_dest_t
 *
p_v_desc
;

5479 
m_z_u__t
 *
p_u_
;

5480 
u16_t
 
gL
 = 0;

5484 *
p_
)

5486 
OAM_ZTE_EXT_BRANCH_ATTR
:

5487 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

5488 
p_v_desc
->
af
)

5490 
OAM_ZTE_EXT_LEAF_CONFIG_PARAM
:

5491 
	`el_z_t_cfig_m
(
p_
,
ty
,
pt
,
pRlyBuf
 , &
gL
);

5492 
p_
 +(
m_z_u_cfig_m_t
) ;

5493 
pRlyBuf
 +
gL
;

5494 *
pRlyL
 +
gL
;

5496 
OAM_ZTE_EXT_LEAF_MGMT_IP_CFG
:

5497 
	`el_z_t_mgmt_
(
p_
,
ty
,
pt
,
pRlyBuf
 , &
gL
);

5498 
p_
 +(
m_z_mgmt__cfg_t
) ;

5499 
pRlyBuf
 +
gL
;

5500 *
pRlyL
 +
gL
;

5502 
OAM_ZTE_EXT_LEAF_TYPE_C_SET
:

5503 
	`el_z_t_ty_c
(
p_
,
ty
,
pt
,
pRlyBuf
 , &
gL
);

5504 
p_
 +(
m_z_ty_c_t
) ;

5505 
pRlyBuf
 +
gL
;

5506 *
pRlyL
 +
gL
;

5511 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"get unknowneaf %d",

5512 
p_v_desc
->
bnch
,

5513 
p_v_desc
->
af
);

5518 
OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR
:

5519 
p_v_desc
 = (
m_vb_dest_t
 *)
p_
;

5520 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set branch OAM_ZTE_ZTE_OUI_EXT_BRANCH_ATTR 0x10\n");

5521 
p_v_desc
->
af
)

5524 
OAM_ZTE_EXT_LEAF_SET_PORT_MODE
:

5525 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_SET_PORT_MODE\n");

5526 
	`el_z_t_pt_mode
(
p_
,
ty
,
pt
,
pRlyBuf
 , &
gL
);

5527 
p_
 +(
m_z_pt_mode_t
) ;

5528 
pRlyBuf
 +
gL
;

5529 *
pRlyL
 +
gL
;

5532 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set unknowneaf %d",

5533 
p_v_desc
->
bnch
,

5534 
p_v_desc
->
af
);

5544 
	}
}

5546 
	$el_z_pdu_oss
(

5547 
m_mPdu_t
 *
pOamPdu
,

5548 *
pFme
,

5549 
ngth
,

5550 *
pRlyBuf
,

5551 
bufL
,

5552 *
pRlyL
)

5554 
z_hd_t
 *
p_z_hdr
;

5555 
z_hd_t
 *
p_out_z_hdr
;

5556 
u8_t
 *
p_by
;

5557 
u8_t
 
t
 = 
EPON_OAM_ERR_OK
;

5560 if((
ngth
 < 
ZTE_ORGSPEC_HDR_LEN
|| (
bufL
 < ZTE_ORGSPEC_HDR_LEN))

5563  
EPON_OAM_ERR_PARAM
;

5566 if((
NULL
==
pOamPdu
|| (NULL==
pFme
|| (NULL==
pRlyBuf
|| (NULL==
pRlyL
))

5568  
EPON_OAM_ERR_PARAM
;

5571 
p_by
 = 
pFme
;

5572 *
pRlyL
 = 0;

5574 
p_z_hdr
 = (
z_hd_t
*)
pFme
;

5575 
p_by
 +(
z_hd_t
);

5577 
p_out_z_hdr
 = (
z_hd_t
*)
pRlyBuf
;

5578 
	`memy
(
p_out_z_hdr
->
oui
, 
p_z_hdr
->oui, 3);

5579 
p_out_z_hdr
->
pt
 = 
p_z_hdr
->port;

5580 
p_out_z_hdr
->
ty
 = 
p_z_hdr
->type;

5582 *
pRlyL
 +(
z_hd_t
);

5583 
pRlyBuf
 +(
z_hd_t
);

5585 
p_z_hdr
->
ext_code
)

5587 
OAM_ZTE_EXT_OPCODE_GET_REQUEST
:

5588 
p_out_z_hdr
->
ext_code
 = 
OAM_EXT_CODE_GET_RESPONSE
;

5589 
	`el_z_g_q
(
p_by
, 
p_z_hdr
->
ty
,_z_hdr->
pt
, 
pRlyBuf
, 
pRlyL
);

5591 
OAM_ZTE_EXT_OPCODE_SET_REQUEST
:

5592 
p_out_z_hdr
->
ext_code
 = 
OAM_EXT_CODE_SET_RESPONSE
;

5593 
	`el_z_t_q
(
p_by
, 
p_z_hdr
->
ty
,_z_hdr->
pt
, 
pRlyBuf
, 
pRlyL
);

5596 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"Unknow Ext. Opcod(%d)", 
p_z_hdr
->
ext_code
);

5600  
EPON_OAM_ERR_OK
;

5601 
	}
}

5603 
	$z_m_
()

5605 
i
, 
t
;

5606 
oui
[] = 
ZTE_OAM_OUI
;

5607 
m_gScCb_t
 
gScCb
;

5610 
gScCb
.
oss
 = 
el_z_pdu_oss
;

5611 
t
 = 
	`_m_gScCb_g
(

5612 
EPON_OAM_CBTYPE_ORGSPEC
,

5613 
oui
,

5614 (*&
gScCb
);

5615 if(
EPON_OAM_ERR_OK
 !
t
)

5617 
	`EPON_OAM_PRINT
(
EPON_OAM_DBGFLAG_CTC_ERROR
,

5619  
EPON_OAM_ERR_UNKNOWN
;

5625 
chd_o
;

5626 i((
mac_fd
 = 
	`ݒ
(
MAC_FILE
 , 
O_RDWR
 | 
O_CREAT
 | 
O_TRUNC
 )) < 0)

5628 
	`tf
("File openrror\n");

5631 if((
chd_o
 = 
	`fk
()) < 0)

5633 
	`tf
("Process createrror\n");

5635 if(0 =
chd_o
)

5638 
imv
 
timev
;

5639 
sigai
 
SigAi
;

5640 
	`vosMemS
 (&
SigAi
, 0, (stSigAction));

5641 
SigAi
.
_hdr
 = 
wre_mac_u_dump
;

5642 
	`sigai
 (
SIGALRM
, &
SigAi
, 0);

5643 
	`vosMemS
 (&
timev
, 0, (timeval));

5644 
timev
.
_vue
.
tv_c
 = 10;

5645 
timev
.
_vue
.
tv_uc
 = 0;

5646 
timev
.
_rv
.
tv_c
 = 30;

5647 
timev
.
_rv
.
tv_uc
 = 0;

5648 
	`tim
 (
ITIMER_REAL
, &
timev
, 0);

5651 
	`p
(1);

5655  
EPON_OAM_ERR_OK
;

5656 
	}
}

5660 
	$el_z_c_g_q
(
u16_t
 
af
, 
u8_t
** 
_by
, u8_t* 
pRlybuf
, u16_t* 
pGn
)

5662 
u8_t
* 
p_by
 = *
_by
;

5663 
m_r_diti_t
 *
p_r
;

5664 
af
)

5666 
OAM_ZTE_EXT_LEAF_ALARM_CFG
:

5667 
	`el_z_g_m_cfg
(
pRlybuf
, 
pGn
);

5670 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
:

5671 
	`el_z_g_upgde_
(
pRlybuf
, 
pGn
);

5674 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
:

5675 
	`el_z_g_mac_addr_lim
(
pRlybuf
, 
pGn
);

5678 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
:

5679 
	`el_z_g_mac_addr_agg
(
pRlybuf
, 
pGn
);

5682 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
:

5683 
	`el_z_g_pt_mac_fr
(
pRlybuf
, 
pGn
);

5686 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
:

5687 
	`el_z_g_pt_mac_bdg
(
pRlybuf
, 
pGn
);

5690 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
:

5691 
	`el_z_g_ic_mac_cfg
(
pRlybuf
, 
pGn
);

5694 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
:

5695 
	`el_z_g_uni_isީi
(
pRlybuf
, 
pGn
);

5698 
OAM_ZTE_EXT_LEAF_ONU_ETHER_STATS
:

5699 
	`el_z_g_u_h_s
(
pRlybuf
, 
pGn
);

5702 
OAM_ZTE_EXT_LEAF_UNI_MAC_QUERY
:

5703 
	`el_z_g_uni_mac_quy
(
p_by
, 
pRlybuf
, 
pGn
);

5704 *
_by
 = 
p_by
 + 5;

5706 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
:

5707 
	`el_z_g_pmac_ds_shg
(
pRlybuf
, 
pGn
);

5710 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
:

5711 
	`el_z_g_pmac_buff_cfg
(
p_by
, 
pRlybuf
, 
pGn
);

5712 *
_by
 = 
p_by
 + 2;

5715 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_QUERY
:

5716 
	`el_z_g_pmac_buff_quy
(
pRlybuf
, 
pGn
);

5719 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
:

5720 
	`el_z_g_uni_s_cfg
(
pRlybuf
, 
pGn
);

5723 
OAM_ZTE_EXT_LEAF_UNI_STATS_QUERY
:

5724 
	`el_z_g_uni_s_quy
(
pRlybuf
, 
pGn
);

5726 
OAM_ZTE_EXT_LEAF_TX_LASER_ALWAYS_ON
:

5729 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
:

5732 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_1
:

5733 
	`el_z_g_p_ics_1
(
pRlybuf
, 
pGn
);

5735 
OAM_ZTE_EXT_LEAF_PON_PORT_STATICS_GET_2
:

5736 
	`el_z_g_p_ics_2
(
pRlybuf
, 
pGn
);

5739 
OAM_ZTE_EXT_LEAF_GBL_PARA
:

5740 
	`el_z_g_gbl_
(
pRlybuf
, 
pGn
);

5744 
p_r
 = (
m_r_diti_t
 *)
pRlybuf
;

5745 
pRlybuf
 +(
m_r_diti_t
);

5747 
p_r
->
bnch
 = (
u8_t
)*
p_by
;

5748 
p_r
->
af
 =eaf;

5750 
p_r
->
v_diti
 = 
OAM_GET_NO_RESOURCE
;

5751 *
pGn
 += 4;

5752 *
_by
 = 
p_by
 + (
m_r_diti_t
);

5755 
	}
}

5758 
	$el_z_c_t_q
(
c_vInt_t
 *
pVInt
,
c_vDest_t
 
VDesc
, 
u8_t
** 
_by
, u8_t* 
pRlybuf
, 
u16_t
* 
pGn
)

5760 
m_z_m_cfg_t
 *
p_z_m_cfg
;

5761 
m_z_upgde__t
 *
p_z_upgde_
;

5762 
m_z_mac_lim_t
 *
p_z_mac_lim
;

5763 
m_z_mac_agg_t
 *
p_z_mac_agg
;

5764 
m_z_pt_mac_fr_t
 *
p_z_pt_mac_fr
;

5765 
m_z_pt_mac_bdg_t
 *
p_z_pt_mac_bd
;

5766 
m_z_ic_mac_cfg_t
 *
p_z_ic_mac_cfg
;

5767 
m_z_uni_isީi_t
 *
p_z_uni_isީi
;

5768 
m_z_pt_mode_t
 *
p_z_pt_mode
;

5769 
m_z_pmac_ds_shg_t
 *
p_z_pmac_ds_shg
;

5770 
m_z_pmac_buff_cfg_t
 *
p_z_pmac_buff_cfg
;

5771 
m_z_uni_s_cfg_t
 *
p_z_uni_s_cfg
;

5772 
m_z_uni_s_t_t
 *
p_z_uni_s_t
;

5773 
m_z_hg_mac_fo_t
 *
p_z_hg_mac_fo
;

5774 
m_z_hg_mgmt_vn_t
 *
p_z_hg_mgmt_vn
;

5775 
m_z_hg_acss_fo_t
 *
p_z_hg_acss_fo
;

5776 
m_z_gbl__t
 *
p_z_gbl_
;

5777 
m_z_tx_ϣr_cڌ_t
 *
p_z_t_tx_cڌ
;

5778 
m_z_mgmt_dh_t
 *
p_z_t_dh
;

5779 
u8_t
* 
p_by
 = *
_by
;

5780 
m_r_diti_t
 *
p_r
;

5781 *
pGn
 = 0;

5782 
u16_t
 
gn
 = 0;

5783 
u16_t
 
af
 = 
VDesc
.
vLf
;

5785 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"zxq%x\n", 
af
);

5786 
af
)

5788 #ide
CONFIG_PRODUCT_5500


5790 
OAM_ZTE_EXT_LEAF_ALARM_CFG
:

5791 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_ALARM_CFG\n");

5793 
p_z_m_cfg
 = (
m_z_m_cfg_t
 *)
p_by
;

5795 
	`el_z_t_m_cfg
(
p_by
, 
pRlybuf
, &
gn
);

5797 *
_by
 = 
p_by
 + 
p_z_m_cfg
->
width
 + 4;

5801 
OAM_ZTE_EXT_LEAF_UPGRADE_PARA
:

5802 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UPGRADE_PARA\n");

5804 
p_z_upgde_
 = (
m_z_upgde__t
 *)
p_by
;

5806 
	`el_z_t_upgde_
(
p_by
, 
pRlybuf
, &
gn
);

5808 *
_by
 = 
p_by
 + 
p_z_upgde_
->
width
 + 4;

5812 
OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT
:

5813 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MAC_ADDR_LIMIT\n");

5815 
p_z_mac_lim
 = (
m_z_mac_lim_t
 *)
p_by
;

5817 
	`el_z_t_mac_addr_lim
(
pVInt
, 
p_by
, 
pRlybuf
, &
gn
);

5819 *
_by
 = 
p_by
 + 
p_z_mac_lim
->
width
 + 4;

5823 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING
:

5824 
OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING2
:

5826 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MAC_ADDR_AGING\n");

5828 
p_z_mac_agg
 = (
m_z_mac_agg_t
 *)
p_by
;

5830 
	`el_z_t_mac_addr_agg
(
p_by
, 
pRlybuf
, &
gn
);

5832 *
_by
 = 
p_by
 + 
p_z_mac_agg
->
width
 + 4;

5836 
OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER
:

5837 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PORT_MAC_FILTER\n");

5839 
p_z_pt_mac_fr
 = (
m_z_pt_mac_fr_t
 *)
p_by
;

5841 
	`el_z_t_pt_mac_fr
(
pVInt
, 
p_by
, 
pRlybuf
, &
gn
);

5843 *
_by
 = 
p_by
 + 
p_z_pt_mac_fr
->
width
 + 4;

5847 
OAM_ZTE_EXT_LEAF_PORT_MAC_BIND
:

5848 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PORT_MAC_BIND\n");

5850 
p_z_pt_mac_bd
 = (
m_z_pt_mac_bdg_t
 *)
p_by
;

5852 
	`el_z_t_pt_mac_bdg
(
pVInt
,
p_by
 , 
pRlybuf
, &
gn
);

5854 *
_by
 = 
p_by
 + 
p_z_pt_mac_bd
->
width
 + 4;

5858 
OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG
:

5859 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_STATIC_MAC_CFG\n");

5861 
p_z_ic_mac_cfg
 = (
m_z_ic_mac_cfg_t
 *)
p_by
;

5863 
	`el_z_t_ic_mac_cfg
(
pVInt
, 
p_by
, 
pRlybuf
, &
gn
);

5865 *
_by
 = 
p_by
 + 
p_z_ic_mac_cfg
->
width
 + 4;

5869 
OAM_ZTE_EXT_LEAF_UNI_ISOLATION
:

5870 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_ISOLATION\n");

5872 
p_z_uni_isީi
 = (
m_z_uni_isީi_t
 *)
p_by
;

5874 
	`el_z_t_uni_isީi
(
p_by
, 
pRlybuf
, &
gn
);

5876 *
_by
 = 
p_by
 + 
p_z_uni_isީi
->
width
 + 4;

5881 
OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING
:

5882 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PMAC_DS_SHAPING\n");

5884 
p_z_pmac_ds_shg
 = (
m_z_pmac_ds_shg_t
 *)
p_by
;

5886 
	`el_z_t_pmac_ds_shg
(
p_by
, 
pRlybuf
, &
gn
);

5888 *
_by
 = 
p_by
 + 
p_z_pmac_ds_shg
->
width
 + 4;

5892 
OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG
:

5893 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_PMAC_BUFF_CFG\n");

5895 
p_z_pmac_buff_cfg
 = (
m_z_pmac_buff_cfg_t
 *)
p_by
;

5897 
	`el_z_t_pmac_buff_cfg
(
p_by
, 
pRlybuf
, &
gn
);

5899 *
_by
 = 
p_by
 + 
p_z_pmac_buff_cfg
->
width
 + 4;

5903 
OAM_ZTE_EXT_LEAF_UNI_STATS_CFG
:

5904 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_STATS_CFG\n");

5906 
p_z_uni_s_cfg
 = (
m_z_uni_s_cfg_t
 *)
p_by
;

5908 
	`el_z_t_uni_s_cfg
(
pVInt
, 
p_by
, 
pRlybuf
, &
gn
);

5910 *
_by
 = 
p_by
 + 
p_z_uni_s_cfg
->
width
 + 4;

5914 
OAM_ZTE_EXT_LEAF_UNI_STATS_RESET
:

5915 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_UNI_STATS_RESET\n");

5917 
p_z_uni_s_t
 = (
m_z_uni_s_t_t
 *)
p_by
;

5919 
	`el_z_t_uni_s_t
(
pVInt
, 
p_by
, 
pRlybuf
, &
gn
);

5921 *
_by
 = 
p_by
 + 
p_z_uni_s_t
->
width
 + 4;

5927 
OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL
:

5928 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"get OAM_ZTE_EXT_LEAF_TX_LASER_CONTROL\n");

5929 
p_z_t_tx_cڌ
 = (
m_z_tx_ϣr_cڌ_t
 *)
p_by
;

5930 
	`el_z_t_tx_ϣr_cr
(
p_by
, 
pRlybuf
, &
gn
);

5931 *
_by
 = 
p_by
 + 
p_z_t_tx_cڌ
->
width
 + 4;

5934 
OAM_ZTE_EXT_LEAF_GBL_PARA
:

5935 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_GBL_PARA\n");

5937 
p_z_gbl_
 = (
m_z_gbl__t
 *)
p_by
;

5939 
	`el_z_t_gbl_
(
p_by
, 
pRlybuf
, &
gn
);

5941 *
_by
 = 
p_by
 + 
p_z_gbl_
->
width
 + 4;

5944 
OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP
:

5945 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_MGMT_IP_DHCP\n");

5947 
p_z_t_dh
 = (
m_z_mgmt_dh_t
*)
p_by
;

5949 
	`el_z_t_mgmt_dh
(
p_by
, 
pRlybuf
, &
gn
);

5951 *
_by
 = 
p_by
 + 
p_z_t_dh
->
width
 + 4;

5956 
OAM_ZTE_EXT_LEAF_HG_MAC_INFO
:

5957 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_MAC_INFO\n");

5959 
p_z_hg_mac_fo
 = (
m_z_hg_mac_fo_t
 *)
p_by
;

5961 
	`el_z_t_hg_mac_fo
(
p_by
);

5963 
p_by
 +
p_z_hg_mac_fo
->
width
 + 4;

5967 
OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN
:

5968 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_MGMT_VLAN\n");

5970 
p_z_hg_mgmt_vn
 = (
m_z_hg_mgmt_vn_t
 *)
p_by
;

5972 
	`el_z_t_hg_mgmt_vn
(
p_by
);

5974 
p_by
 +
p_z_hg_mgmt_vn
->
width
 + 4;

5978 
OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO
:

5979 
	`OP_DEBUG
(
DEBUG_LEVEL_DEBUGGING
,"set OAM_ZTE_EXT_LEAF_HG_ACCESS_INFO\n");

5981 
p_z_hg_acss_fo
 = (
m_z_hg_acss_fo_t
 *)
p_by
;

5983 
	`el_z_t_hg_acss_fo
(
p_by
);

5985 
p_by
 +
p_z_hg_acss_fo
->
width
 + 4;

5991 
p_r
 = (
m_r_diti_t
 *)
pRlybuf
;

5992 
pRlybuf
 +(
m_r_diti_t
);

5994 
p_r
->
bnch
 = 
VDesc
.
vBnch
;

5995 
p_r
->
af
 =eaf;

5997 
p_r
->
v_diti
 = 
OAM_SET_NO_RESOURCE
;

5998 
gn
 = 4;

5999 *
_by
 = 
p_by
 + (
m_r_diti_t
);

6001 *
pGn
 = 
gn
;

6002 
	}
}

	@/usr/include/assert.h

24 #ifdef 
_ASSERT_H


26 #unde
_ASSERT_H


27 #unde
as


28 #unde
__ASSERT_VOID_CAST


30 #ifdef 
__USE_GNU


31 #unde
as_


36 
	#_ASSERT_H
 1

	)

37 
	~<us.h
>

39 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (2,95)

40 
	#__ASSERT_VOID_CAST
 
ic_
<>

	)

42 
	#__ASSERT_VOID_CAST
 ()

	)

50 #ifdef 
NDEBUG


52 
	#as
(
ex
(
	`__ASSERT_VOID_CAST
 (0))

	)

60 #ifdef 
__USE_GNU


61 
	#as_
(
um
(
	`__ASSERT_VOID_CAST
 (0))

	)

66 #ide
_ASSERT_H_DECLS


67 
	#_ASSERT_H_DECLS


	)

68 
__BEGIN_DECLS


71 
	$__as_
 (
__cڡ
 *
__asi
, __cڡ *
__fe
,

72 
__le
, 
__cڡ
 *
__funi
)

73 
__THROW
 
	`__ibu__
 ((
__nܑu__
));

76 
	$__as__
 (
__um
, 
__cڡ
 *
__fe
,

77 
__le
,

78 
__cڡ
 *
__funi
)

79 
__THROW
 
	`__ibu__
 ((
__nܑu__
));

84 
	$__as
 (cڡ *
__asi
, cڡ *
__fe
, 
__le
)

85 
__THROW
 
	`__ibu__
 ((
__nܑu__
));

88 
__END_DECLS


91 
	#as
(
ex
) \

92 ((
ex
) \

93 ? 
	`__ASSERT_VOID_CAST
 (0) \

94 : 
	`__as_
 (
	`__STRING
(
ex
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #ifdef 
__USE_GNU


97 
	#as_
(
um
) \

98 (!(
um
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as__
 ((
um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

108 #i
defed
 
__lulus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

109 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

111 #i
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

112 
	#__ASSERT_FUNCTION
 
__func__


	)

114 
	#__ASSERT_FUNCTION
 ((
__cڡ
 *0)

	)

	@/usr/include/errno.h

23 #idef 
_ERRNO_H


27 #idef 
__ed_Emh


28 
	#_ERRNO_H
 1

	)

29 
	~<us.h
>

32 
	g__BEGIN_DECLS


36 
	~<bs/o.h
>

37 #unde
__ed_Emh


39 #ifdef 
_ERRNO_H


46 #idef 
o


47 
o
;

50 #ifde
__USE_GNU


55 *
ogm_voti_me
, *
ogm_voti_sht_me
;

59 
	g__END_DECLS


67 #i
defed
 
__USE_GNU
 || defed 
__ed_r_t


68 #ide
__r_t_defed


69 
	tr_t
;

70 
	#__r_t_defed
 1

	)

72 #unde
__ed_r_t


	@/usr/include/fcntl.h

24 #idef 
_FCNTL_H


25 
	#_FCNTL_H
 1

	)

27 
	~<us.h
>

30 
	g__BEGIN_DECLS


34 
	~<bs/f.h
>

37 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


38 
	~<bs/tys.h
>

39 
	#__ed_timeec


	)

40 
	~<time.h
>

41 
	~<bs/.h
>

43 
	#S_IFMT
 
__S_IFMT


	)

44 
	#S_IFDIR
 
__S_IFDIR


	)

45 
	#S_IFCHR
 
__S_IFCHR


	)

46 
	#S_IFBLK
 
__S_IFBLK


	)

47 
	#S_IFREG
 
__S_IFREG


	)

48 #ifde
__S_IFIFO


49 
	#S_IFIFO
 
__S_IFIFO


	)

51 #ifde
__S_IFLNK


52 
	#S_IFLNK
 
__S_IFLNK


	)

54 #i(
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8
&& defed 
__S_IFSOCK


55 
	#S_IFSOCK
 
__S_IFSOCK


	)

60 
	#S_ISUID
 
__S_ISUID


	)

61 
	#S_ISGID
 
__S_ISGID


	)

63 #i
defed
 
__USE_BSD
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN


65 
	#S_ISVTX
 
__S_ISVTX


	)

68 
	#S_IRUSR
 
__S_IREAD


	)

69 
	#S_IWUSR
 
__S_IWRITE


	)

70 
	#S_IXUSR
 
__S_IEXEC


	)

72 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

74 
	#S_IRGRP
 (
S_IRUSR
 >> 3

	)

75 
	#S_IWGRP
 (
S_IWUSR
 >> 3

	)

76 
	#S_IXGRP
 (
S_IXUSR
 >> 3

	)

78 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

80 
	#S_IROTH
 (
S_IRGRP
 >> 3

	)

81 
	#S_IWOTH
 (
S_IWGRP
 >> 3

	)

82 
	#S_IXOTH
 (
S_IXGRP
 >> 3

	)

84 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

87 #ifdef 
__USE_MISC


88 #ide
R_OK


91 
	#R_OK
 4

	)

92 
	#W_OK
 2

	)

93 
	#X_OK
 1

	)

94 
	#F_OK
 0

	)

99 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


100 
	#SEEK_SET
 0

	)

101 
	#SEEK_CUR
 1

	)

102 
	#SEEK_END
 2

	)

110 
f
 (
__fd
, 
__cmd
, ...);

118 #ide
__USE_FILE_OFFSET64


119 
	$ݒ
 (
__cڡ
 *
__fe
, 
__oag
, ...
	`__nnu
 ((1));

121 #ifde
__REDIRECT


122 
	`__REDIRECT
 (
ݒ
, (
__cڡ
 *
__fe
, 
__oag
, ...), 
ݒ64
)

123 
	`__nnu
 ((1));

125 
	#ݒ
 
ݒ64


	)

128 #ifde
__USE_LARGEFILE64


129 
	$ݒ64
 (
__cڡ
 *
__fe
, 
__oag
, ...
	`__nnu
 ((1));

132 #ifde
__USE_ATFILE


142 #ide
__USE_FILE_OFFSET64


143 
	$ݒ
 (
__fd
, 
__cڡ
 *
__fe
, 
__oag
, ...)

144 
	`__nnu
 ((2));

146 #ifde
__REDIRECT


147 
	`__REDIRECT
 (
ݒ
, (
__fd
, 
__cڡ
 *
__fe
, 
__oag
,

148 ...), 
ݒ64

	`__nnu
 ((2));

150 
	#ݒ
 
ݒ64


	)

153 #ifde
__USE_LARGEFILE64


154 
	$ݒ64
 (
__fd
, 
__cڡ
 *
__fe
, 
__oag
, ...)

155 
	`__nnu
 ((2));

164 #ide
__USE_FILE_OFFSET64


165 
	$t
 (
__cڡ
 *
__fe
, 
__mode_t
 
__mode

	`__nnu
 ((1));

167 #ifde
__REDIRECT


168 
	`__REDIRECT
 (
t
, (
__cڡ
 *
__fe
, 
__mode_t
 
__mode
),

169 
t64

	`__nnu
 ((1));

171 
	#t
 
t64


	)

174 #ifde
__USE_LARGEFILE64


175 
	$t64
 (
__cڡ
 *
__fe
, 
__mode_t
 
__mode

	`__nnu
 ((1));

178 #i!
defed
 
F_LOCK
 && (defed 
__USE_MISC
 || (defed 
__USE_XOPEN_EXTENDED
 \

179 && !
defed
 
__USE_POSIX
))

188 
	#F_ULOCK
 0

	)

189 
	#F_LOCK
 1

	)

190 
	#F_TLOCK
 2

	)

191 
	#F_TEST
 3

	)

193 #ide
__USE_FILE_OFFSET64


194 
	`lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__n
);

196 #ifde
__REDIRECT


197 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__n
), 
lockf64
);

199 
	#lockf
 
lockf64


	)

202 #ifde
__USE_LARGEFILE64


203 
	`lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__n
);

207 #ifde
__USE_XOPEN2K


210 #ide
__USE_FILE_OFFSET64


211 
	$posix_dvi
 (
__fd
, 
__off_t
 
__offt
, __off_
__n
,

212 
__advi

__THROW
;

214 #ifde
__REDIRECT_NTH


215 
	`__REDIRECT_NTH
 (
posix_dvi
, (
__fd
, 
__off64_t
 
__offt
,

216 
__off64_t
 
__n
, 
__advi
),

217 
posix_dvi64
);

219 
	#posix_dvi
 
posix_dvi64


	)

222 #ifde
__USE_LARGEFILE64


223 
	$posix_dvi64
 (
__fd
, 
__off64_t
 
__offt
, __off64_
__n
,

224 
__advi

__THROW
;

232 #ide
__USE_FILE_OFFSET64


233 
	`posix_o
 (
__fd
, 
__off_t
 
__offt
, __off_
__n
);

235 #ifde
__REDIRECT


236 
	`__REDIRECT
 (
posix_o
, (
__fd
, 
__off64_t
 
__offt
,

237 
__off64_t
 
__n
),

238 
posix_o64
);

240 
	#posix_o
 
posix_o64


	)

243 #ifde
__USE_LARGEFILE64


244 
	`posix_o64
 (
__fd
, 
__off64_t
 
__offt
, __off64_
__n
);

250 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le
 \

251 && 
defed
 
__va_g_ck_n


252 
	~<bs/f2.h
>

255 
__END_DECLS


	@/usr/include/linux/filter.h

5 #ide
__LINUX_FILTER_H__


6 
	#__LINUX_FILTER_H__


	)

9 
	~<lux/tys.h
>

15 
	#BPF_MAJOR_VERSION
 1

	)

16 
	#BPF_MINOR_VERSION
 1

	)

23 
	ssock_fr
 {

24 
__u16
 
	mcode
;

25 
__u8
 
	mjt
;

26 
__u8
 
	mjf
;

27 
__u32
 
	mk
;

30 
	ssock_rog
 {

31 
	mn
;

32 
sock_fr
 *
	mfr
;

39 
	#BPF_CLASS
(
code
((code& 0x07)

	)

40 
	#BPF_LD
 0x00

	)

41 
	#BPF_LDX
 0x01

	)

42 
	#BPF_ST
 0x02

	)

43 
	#BPF_STX
 0x03

	)

44 
	#BPF_ALU
 0x04

	)

45 
	#BPF_JMP
 0x05

	)

46 
	#BPF_RET
 0x06

	)

47 
	#BPF_MISC
 0x07

	)

50 
	#BPF_SIZE
(
code
((code& 0x18)

	)

51 
	#BPF_W
 0x00

	)

52 
	#BPF_H
 0x08

	)

53 
	#BPF_B
 0x10

	)

54 
	#BPF_MODE
(
code
((code& 0xe0)

	)

55 
	#BPF_IMM
 0x00

	)

56 
	#BPF_ABS
 0x20

	)

57 
	#BPF_IND
 0x40

	)

58 
	#BPF_MEM
 0x60

	)

59 
	#BPF_LEN
 0x80

	)

60 
	#BPF_MSH
 0xa0

	)

63 
	#BPF_OP
(
code
((code& 0xf0)

	)

64 
	#BPF_ADD
 0x00

	)

65 
	#BPF_SUB
 0x10

	)

66 
	#BPF_MUL
 0x20

	)

67 
	#BPF_DIV
 0x30

	)

68 
	#BPF_OR
 0x40

	)

69 
	#BPF_AND
 0x50

	)

70 
	#BPF_LSH
 0x60

	)

71 
	#BPF_RSH
 0x70

	)

72 
	#BPF_NEG
 0x80

	)

73 
	#BPF_JA
 0x00

	)

74 
	#BPF_JEQ
 0x10

	)

75 
	#BPF_JGT
 0x20

	)

76 
	#BPF_JGE
 0x30

	)

77 
	#BPF_JSET
 0x40

	)

78 
	#BPF_SRC
(
code
((code& 0x08)

	)

79 
	#BPF_K
 0x00

	)

80 
	#BPF_X
 0x08

	)

83 
	#BPF_RVAL
(
code
((code& 0x18)

	)

84 
	#BPF_A
 0x10

	)

87 
	#BPF_MISCOP
(
code
((code& 0xf8)

	)

88 
	#BPF_TAX
 0x00

	)

89 
	#BPF_TXA
 0x80

	)

91 #ide
BPF_MAXINSNS


92 
	#BPF_MAXINSNS
 4096

	)

98 #ide
BPF_STMT


99 
	#BPF_STMT
(
code
, 
k
{ ()(code), 0, 0, k }

	)

101 #ide
BPF_JUMP


102 
	#BPF_JUMP
(
code
, 
k
, 
jt
, 
jf
{ ()(code), jt, jf, k }

	)

108 
	#BPF_MEMWORDS
 16

	)

115 
	#SKF_AD_OFF
 (-0x1000)

	)

116 
	#SKF_AD_PROTOCOL
 0

	)

117 
	#SKF_AD_PKTTYPE
 4

	)

118 
	#SKF_AD_IFINDEX
 8

	)

119 
	#SKF_AD_NLATTR
 12

	)

120 
	#SKF_AD_NLATTR_NEST
 16

	)

121 
	#SKF_AD_MARK
 20

	)

122 
	#SKF_AD_QUEUE
 24

	)

123 
	#SKF_AD_HATYPE
 28

	)

124 
	#SKF_AD_RXHASH
 32

	)

125 
	#SKF_AD_CPU
 36

	)

126 
	#SKF_AD_MAX
 40

	)

127 
	#SKF_NET_OFF
 (-0x100000)

	)

128 
	#SKF_LL_OFF
 (-0x200000)

	)

	@/usr/include/linux/if_ether.h

21 #ide
_LINUX_IF_ETHER_H


22 
	#_LINUX_IF_ETHER_H


	)

24 
	~<lux/tys.h
>

31 
	#ETH_ALEN
 6

	)

32 
	#ETH_HLEN
 14

	)

33 
	#ETH_ZLEN
 60

	)

34 
	#ETH_DATA_LEN
 1500

	)

35 
	#ETH_FRAME_LEN
 1514

	)

36 
	#ETH_FCS_LEN
 4

	)

42 
	#ETH_P_LOOP
 0x0060

	)

43 
	#ETH_P_PUP
 0x0200

	)

44 
	#ETH_P_PUPAT
 0x0201

	)

45 
	#ETH_P_IP
 0x0800

	)

46 
	#ETH_P_X25
 0x0805

	)

47 
	#ETH_P_ARP
 0x0806

	)

48 
	#ETH_P_BPQ
 0x08FF

	)

49 
	#ETH_P_IEEEPUP
 0x0a00

	)

50 
	#ETH_P_IEEEPUPAT
 0x0a01

	)

51 
	#ETH_P_DEC
 0x6000

	)

52 
	#ETH_P_DNA_DL
 0x6001

	)

53 
	#ETH_P_DNA_RC
 0x6002

	)

54 
	#ETH_P_DNA_RT
 0x6003

	)

55 
	#ETH_P_LAT
 0x6004

	)

56 
	#ETH_P_DIAG
 0x6005

	)

57 
	#ETH_P_CUST
 0x6006

	)

58 
	#ETH_P_SCA
 0x6007

	)

59 
	#ETH_P_TEB
 0x6558

	)

60 
	#ETH_P_RARP
 0x8035

	)

61 
	#ETH_P_ATALK
 0x809B

	)

62 
	#ETH_P_AARP
 0x80F3

	)

63 
	#ETH_P_8021Q
 0x8100

	)

64 
	#ETH_P_IPX
 0x8137

	)

65 
	#ETH_P_IPV6
 0x86DD

	)

66 
	#ETH_P_PAUSE
 0x8808

	)

67 
	#ETH_P_SLOW
 0x8809

	)

68 
	#ETH_P_WCCP
 0x883E

	)

70 
	#ETH_P_PPP_DISC
 0x8863

	)

71 
	#ETH_P_PPP_SES
 0x8864

	)

72 
	#ETH_P_MPLS_UC
 0x8847

	)

73 
	#ETH_P_MPLS_MC
 0x8848

	)

74 
	#ETH_P_ATMMPOA
 0x884

	)

75 
	#ETH_P_LINK_CTL
 0x886

	)

76 
	#ETH_P_ATMFATE
 0x8884

	)

79 
	#ETH_P_PAE
 0x888E

	)

80 
	#ETH_P_AOE
 0x88A2

	)

81 
	#ETH_P_8021AD
 0x88A8

	)

82 
	#ETH_P_TIPC
 0x88CA

	)

83 
	#ETH_P_8021AH
 0x88E7

	)

84 
	#ETH_P_1588
 0x88F7

	)

85 
	#ETH_P_FCOE
 0x8906

	)

86 
	#ETH_P_TDLS
 0x890D

	)

87 
	#ETH_P_FIP
 0x8914

	)

88 
	#ETH_P_QINQ1
 0x9100

	)

89 
	#ETH_P_QINQ2
 0x9200

	)

90 
	#ETH_P_QINQ3
 0x9300

	)

91 
	#ETH_P_EDSA
 0xDADA

	)

92 
	#ETH_P_AF_IUCV
 0xFBFB

	)

98 
	#ETH_P_802_3
 0x0001

	)

99 
	#ETH_P_AX25
 0x0002

	)

100 
	#ETH_P_ALL
 0x0003

	)

101 
	#ETH_P_802_2
 0x0004

	)

102 
	#ETH_P_SNAP
 0x0005

	)

103 
	#ETH_P_DDCMP
 0x0006

	)

104 
	#ETH_P_WAN_PPP
 0x0007

	)

105 
	#ETH_P_PPP_MP
 0x0008

	)

106 
	#ETH_P_LOCALTALK
 0x0009

	)

107 
	#ETH_P_CAN
 0x000C

	)

108 
	#ETH_P_PPPTALK
 0x0010

	)

109 
	#ETH_P_TR_802_2
 0x0011

	)

110 
	#ETH_P_MOBITEX
 0x0015

	)

111 
	#ETH_P_CONTROL
 0x0016

	)

112 
	#ETH_P_IRDA
 0x0017

	)

113 
	#ETH_P_ECONET
 0x0018

	)

114 
	#ETH_P_HDLC
 0x0019

	)

115 
	#ETH_P_ARCNET
 0x001A

	)

116 
	#ETH_P_DSA
 0x001B

	)

117 
	#ETH_P_TRAILER
 0x001C

	)

118 
	#ETH_P_PHONET
 0x00F5

	)

119 
	#ETH_P_IEEE802154
 0x00F6

	)

120 
	#ETH_P_CAIF
 0x00F7

	)

126 
	shhdr
 {

127 
	mh_de
[
ETH_ALEN
];

128 
	mh_sour
[
ETH_ALEN
];

129 
__be16
 
	mh_o
;

130 } 
__ibu__
((
cked
));

	@/usr/include/linux/if_packet.h

1 #ide
__LINUX_IF_PACKET_H


2 
	#__LINUX_IF_PACKET_H


	)

4 
	~<lux/tys.h
>

6 
	ssockaddr_pkt
 {

7 
	mkt_my
;

8 
	mkt_devi
[14];

9 
__be16
 
	mkt_oc
;

12 
	ssockaddr_
 {

13 
	ml_my
;

14 
__be16
 
	ml_oc
;

15 
	ml_ifdex
;

16 
	ml_hy
;

17 
	ml_pky
;

18 
	ml_h
;

19 
	ml_addr
[8];

24 
	#PACKET_HOST
 0

	)

25 
	#PACKET_BROADCAST
 1

	)

26 
	#PACKET_MULTICAST
 2

	)

27 
	#PACKET_OTHERHOST
 3

	)

28 
	#PACKET_OUTGOING
 4

	)

30 
	#PACKET_LOOPBACK
 5

	)

31 
	#PACKET_FASTROUTE
 6

	)

35 
	#PACKET_ADD_MEMBERSHIP
 1

	)

36 
	#PACKET_DROP_MEMBERSHIP
 2

	)

37 
	#PACKET_RECV_OUTPUT
 3

	)

39 
	#PACKET_RX_RING
 5

	)

40 
	#PACKET_STATISTICS
 6

	)

41 
	#PACKET_COPY_THRESH
 7

	)

42 
	#PACKET_AUXDATA
 8

	)

43 
	#PACKET_ORIGDEV
 9

	)

44 
	#PACKET_VERSION
 10

	)

45 
	#PACKET_HDRLEN
 11

	)

46 
	#PACKET_RESERVE
 12

	)

47 
	#PACKET_TX_RING
 13

	)

48 
	#PACKET_LOSS
 14

	)

49 
	#PACKET_VNET_HDR
 15

	)

50 
	#PACKET_TX_TIMESTAMP
 16

	)

51 
	#PACKET_TIMESTAMP
 17

	)

52 
	#PACKET_FANOUT
 18

	)

54 
	#PACKET_FANOUT_HASH
 0

	)

55 
	#PACKET_FANOUT_LB
 1

	)

56 
	#PACKET_FANOUT_CPU
 2

	)

57 
	#PACKET_FANOUT_FLAG_DEFRAG
 0x8000

	)

59 
	sack_s
 {

60 
	m_cks
;

61 
	m_drs
;

64 
	sack_s_v3
 {

65 
	m_cks
;

66 
	m_drs
;

67 
	m_ze_q_t
;

70 
	uack_s_u
 {

71 
ack_s
 
	ms1
;

72 
ack_s_v3
 
	ms3
;

75 
	sack_auxda
 {

76 
__u32
 
	m_us
;

77 
__u32
 
	m_n
;

78 
__u32
 
	m_n
;

79 
__u16
 
	m_mac
;

80 
__u16
 
	m_t
;

81 
__u16
 
	m_vn_tci
;

82 
__u16
 
	m_ddg
;

86 
	#TP_STATUS_KERNEL
 0x0

	)

87 
	#TP_STATUS_USER
 0x1

	)

88 
	#TP_STATUS_COPY
 0x2

	)

89 
	#TP_STATUS_LOSING
 0x4

	)

90 
	#TP_STATUS_CSUMNOTREADY
 0x8

	)

91 
	#TP_STATUS_VLAN_VALID
 0x10

	)

92 
	#TP_STATUS_BLK_TMO
 0x20

	)

95 
	#TP_STATUS_AVAILABLE
 0x0

	)

96 
	#TP_STATUS_SEND_REQUEST
 0x1

	)

97 
	#TP_STATUS_SENDING
 0x2

	)

98 
	#TP_STATUS_WRONG_FORMAT
 0x4

	)

101 
	#TP_FT_REQ_FILL_RXHASH
 0x1

	)

103 
	sack_hdr
 {

104 
	m_us
;

105 
	m_n
;

106 
	m_n
;

107 
	m_mac
;

108 
	m_t
;

109 
	m_c
;

110 
	m_uc
;

113 
	#TPACKET_ALIGNMENT
 16

	)

114 
	#TPACKET_ALIGN
(
x
(((x)+
TPACKET_ALIGNMENT
-1)&~(TPACKET_ALIGNMENT-1))

	)

115 
	#TPACKET_HDRLEN
 (
	`TPACKET_ALIGN
((
ack_hdr
)+ (
sockaddr_
))

	)

117 
	sack2_hdr
 {

118 
__u32
 
	m_us
;

119 
__u32
 
	m_n
;

120 
__u32
 
	m_n
;

121 
__u16
 
	m_mac
;

122 
__u16
 
	m_t
;

123 
__u32
 
	m_c
;

124 
__u32
 
	m_nc
;

125 
__u16
 
	m_vn_tci
;

126 
__u16
 
	m_ddg
;

129 
	sack_hdr_v1
 {

130 
__u32
 
	m_rxhash
;

131 
__u32
 
	m_vn_tci
;

134 
	sack3_hdr
 {

135 
__u32
 
	m_xt_offt
;

136 
__u32
 
	m_c
;

137 
__u32
 
	m_nc
;

138 
__u32
 
	m_n
;

139 
__u32
 
	m_n
;

140 
__u32
 
	m_us
;

141 
__u16
 
	m_mac
;

142 
__u16
 
	m_t
;

145 
ack_hdr_v1
 
	mhv1
;

149 
	sack_bd_ts
 {

150 
	mts_c
;

152 
	mts_uc
;

153 
	mts_nc
;

157 
	sack_hdr_v1
 {

158 
__u32
 
	mblock_us
;

159 
__u32
 
	mnum_pkts
;

160 
__u32
 
	mofft_to_f_pkt
;

165 
__u32
 
	mblk_n
;

176 
__igd_u64
 
	mq_num
;

203 
ack_bd_ts
 
	mts_f_pkt
, 
	mts_ϡ_pkt
;

206 
	uack_bd_hd_u
 {

207 
ack_hdr_v1
 
	mbh1
;

210 
	sack_block_desc
 {

211 
__u32
 
	mvsi
;

212 
__u32
 
	mofft_to_iv
;

213 
ack_bd_hd_u
 
	mhdr
;

216 
	#TPACKET2_HDRLEN
 (
	`TPACKET_ALIGN
((
ack2_hdr
)+ (
sockaddr_
))

	)

217 
	#TPACKET3_HDRLEN
 (
	`TPACKET_ALIGN
((
ack3_hdr
)+ (
sockaddr_
))

	)

219 
	eack_vsis
 {

220 
	mTPACKET_V1
,

221 
	mTPACKET_V2
,

222 
	mTPACKET_V3


238 
	sack_q
 {

239 
	m_block_size
;

240 
	m_block_
;

241 
	m_ame_size
;

242 
	m_ame_
;

245 
	sack_q3
 {

246 
	m_block_size
;

247 
	m_block_
;

248 
	m_ame_size
;

249 
	m_ame_
;

250 
	m_te_blk_tov
;

251 
	m_sizeof_iv
;

252 
	m_u_q_wd
;

255 
	uack_q_u
 {

256 
ack_q
 
	mq
;

257 
ack_q3
 
	mq3
;

260 
	sck_mq
 {

261 
	mmr_ifdex
;

262 
	mmr_ty
;

263 
	mmr_
;

264 
	mmr_addss
[8];

267 
	#PACKET_MR_MULTICAST
 0

	)

268 
	#PACKET_MR_PROMISC
 1

	)

269 
	#PACKET_MR_ALLMULTI
 2

	)

270 
	#PACKET_MR_UNICAST
 3

	)

	@/usr/include/linux/netlink.h

1 #ide
__LINUX_NETLINK_H


2 
	#__LINUX_NETLINK_H


	)

4 
	~<lux/sock.h
>

5 
	~<lux/tys.h
>

7 
	#NETLINK_ROUTE
 0

	)

8 
	#NETLINK_UNUSED
 1

	)

9 
	#NETLINK_USERSOCK
 2

	)

10 
	#NETLINK_FIREWALL
 3

	)

11 
	#NETLINK_INET_DIAG
 4

	)

12 
	#NETLINK_NFLOG
 5

	)

13 
	#NETLINK_XFRM
 6

	)

14 
	#NETLINK_SELINUX
 7

	)

15 
	#NETLINK_ISCSI
 8

	)

16 
	#NETLINK_AUDIT
 9

	)

17 
	#NETLINK_FIB_LOOKUP
 10

	)

18 
	#NETLINK_CONNECTOR
 11

	)

19 
	#NETLINK_NETFILTER
 12

	)

20 
	#NETLINK_IP6_FW
 13

	)

21 
	#NETLINK_DNRTMSG
 14

	)

22 
	#NETLINK_KOBJECT_UEVENT
 15

	)

23 
	#NETLINK_GENERIC
 16

	)

25 
	#NETLINK_SCSITRANSPORT
 18

	)

26 
	#NETLINK_ECRYPTFS
 19

	)

27 
	#NETLINK_RDMA
 20

	)

28 
	#NETLINK_CRYPTO
 21

	)

30 
	#MAX_LINKS
 32

	)

32 
	ssockaddr_
 {

33 
__kl__my_t
 
	m_my
;

34 
	m_d
;

35 
__u32
 
	m_pid
;

36 
__u32
 
	m_groups
;

39 
	smsghdr
 {

40 
__u32
 
	mmsg_n
;

41 
__u16
 
	mmsg_ty
;

42 
__u16
 
	mmsg_ags
;

43 
__u32
 
	mmsg_q
;

44 
__u32
 
	mmsg_pid
;

49 
	#NLM_F_REQUEST
 1

	)

50 
	#NLM_F_MULTI
 2

	)

51 
	#NLM_F_ACK
 4

	)

52 
	#NLM_F_ECHO
 8

	)

53 
	#NLM_F_DUMP_INTR
 16

	)

56 
	#NLM_F_ROOT
 0x100

	)

57 
	#NLM_F_MATCH
 0x200

	)

58 
	#NLM_F_ATOMIC
 0x400

	)

59 
	#NLM_F_DUMP
 (
NLM_F_ROOT
|
NLM_F_MATCH
)

	)

62 
	#NLM_F_REPLACE
 0x100

	)

63 
	#NLM_F_EXCL
 0x200

	)

64 
	#NLM_F_CREATE
 0x400

	)

65 
	#NLM_F_APPEND
 0x800

	)

76 
	#NLMSG_ALIGNTO
 4U

	)

77 
	#NLMSG_ALIGN
(
n
(֒)+
NLMSG_ALIGNTO
-1& ~(NLMSG_ALIGNTO-1)

	)

78 
	#NLMSG_HDRLEN
 ((
	`NLMSG_ALIGN
((
msghdr
)))

	)

79 
	#NLMSG_LENGTH
(
n
(֒)+
	`NLMSG_ALIGN
(
NLMSG_HDRLEN
))

	)

80 
	#NLMSG_SPACE
(
n

	`NLMSG_ALIGN
(
	`NLMSG_LENGTH
֒))

	)

81 
	#NLMSG_DATA
(
h
((*)(((*lh+ 
	`NLMSG_LENGTH
(0)))

	)

82 
	#NLMSG_NEXT
(
h
,
n
(֒-
	`NLMSG_ALIGN
(lh)->
msg_n
), \

83 (
msghdr
*)(((*)(
h
)+ 
	`NLMSG_ALIGN
(lh)->
msg_n
)))

	)

84 
	#NLMSG_OK
(
h
,
n
(֒>()(
msghdr
) && \

85 (
h
)->
msg_n
 >(
msghdr
) && \

86 (
h
)->
msg_n
 <(
n
))

	)

87 
	#NLMSG_PAYLOAD
(
h
,
n
(lh)->
msg_n
 - 
	`NLMSG_SPACE
(֒)))

	)

89 
	#NLMSG_NOOP
 0x1

	)

90 
	#NLMSG_ERROR
 0x2

	)

91 
	#NLMSG_DONE
 0x3

	)

92 
	#NLMSG_OVERRUN
 0x4

	)

94 
	#NLMSG_MIN_TYPE
 0x10

	)

96 
	smsgr
 {

97 
	mr
;

98 
msghdr
 
	mmsg
;

101 
	#NETLINK_ADD_MEMBERSHIP
 1

	)

102 
	#NETLINK_DROP_MEMBERSHIP
 2

	)

103 
	#NETLINK_PKTINFO
 3

	)

104 
	#NETLINK_BROADCAST_ERROR
 4

	)

105 
	#NETLINK_NO_ENOBUFS
 5

	)

107 
	s_pktfo
 {

108 
__u32
 
	mgroup
;

111 
	#NET_MAJOR
 36

	)

114 
	mNETLINK_UNCONNECTED
 = 0,

115 
	mNETLINK_CONNECTED
,

127 
	sƩ
 {

128 
__u16
 
	ma_n
;

129 
__u16
 
	ma_ty
;

142 
	#NLA_F_NESTED
 (1 << 15)

	)

143 
	#NLA_F_NET_BYTEORDER
 (1 << 14)

	)

144 
	#NLA_TYPE_MASK
 ~(
NLA_F_NESTED
 | 
NLA_F_NET_BYTEORDER
)

	)

146 
	#NLA_ALIGNTO
 4

	)

147 
	#NLA_ALIGN
(
n
((֒+ 
NLA_ALIGNTO
 - 1& ~(NLA_ALIGNTO - 1))

	)

148 
	#NLA_HDRLEN
 ((
	`NLA_ALIGN
((
Ʃ
)))

	)

	@/usr/include/linux/reboot.h

1 #ide
_LINUX_REBOOT_H


2 
	#_LINUX_REBOOT_H


	)

8 
	#LINUX_REBOOT_MAGIC1
 0xe1dd

	)

9 
	#LINUX_REBOOT_MAGIC2
 672274793

	)

10 
	#LINUX_REBOOT_MAGIC2A
 85072278

	)

11 
	#LINUX_REBOOT_MAGIC2B
 369367448

	)

12 
	#LINUX_REBOOT_MAGIC2C
 537993216

	)

28 
	#LINUX_REBOOT_CMD_RESTART
 0x01234567

	)

29 
	#LINUX_REBOOT_CMD_HALT
 0xCDEF0123

	)

30 
	#LINUX_REBOOT_CMD_CAD_ON
 0x89ABCDEF

	)

31 
	#LINUX_REBOOT_CMD_CAD_OFF
 0x00000000

	)

32 
	#LINUX_REBOOT_CMD_POWER_OFF
 0x4321FEDC

	)

33 
	#LINUX_REBOOT_CMD_RESTART2
 0xA1B2C3D4

	)

34 
	#LINUX_REBOOT_CMD_SW_SUSPEND
 0xD000FCE2

	)

35 
	#LINUX_REBOOT_CMD_KEXEC
 0x45584543

	)

	@/usr/include/malloc.h

21 #ide
_MALLOC_H


22 
	#_MALLOC_H
 1

	)

24 
	~<us.h
>

25 
	~<ddef.h
>

26 
	~<dio.h
>

27 
	#__mloc_r_t
 *

	)

30 
	#__mloc_size_t
 
size_t


	)

31 
	#__mloc_rdiff_t
 
rdiff_t


	)

33 #ifde
__GNUC__


35 
	#__MALLOC_P
(
gs
g
__THROW


	)

38 
	#__MALLOC_PMT
(
gs

	)
args

40 #ifde
_LIBC


41 
	#__MALLOC_HOOK_VOLATILE


	)

42 
	#__MALLOC_DEPRECATED


	)

44 
	#__MALLOC_HOOK_VOLATILE
 
__vީe


	)

45 
	#__MALLOC_DEPRECATED
 
__ibu_dd__


	)

50 
	#__MALLOC_P
(
gs

	)
args

51 
	#__MALLOC_PMT
(
gs

	)
args

52 
	#__MALLOC_HOOK_VOLATILE


	)

53 
	#__MALLOC_DEPRECATED
 
__ibu_dd__


	)

58 
__BEGIN_DECLS


61 *
	$mloc
 (
size_t
 
__size

__THROW
 
__ibu_mloc__
 
__wur
;

64 *
	$oc
 (
size_t
 
__nmemb
, size_
__size
)

65 
__THROW
 
__ibu_mloc__
 
__wur
;

72 *
	$loc
 (*
__r
, 
size_t
 
__size
)

73 
__THROW
 
__ibu_wn_unud_su__
;

76 
	$
 (*
__r

__THROW
;

79 
	$c
 (*
__r

__THROW
;

82 *
	$memign
 (
size_t
 
__ignmt
, size_
__size
)

83 
__THROW
 
__ibu_mloc__
 
__wur
;

86 *
	$vloc
 (
size_t
 
__size

__THROW
 
__ibu_mloc__
 
__wur
;

90 * 
	$pvloc
 (
size_t
 
__size

__THROW
 
__ibu_mloc__
 
__wur
;

94 *(*
__mece
(
rdiff_t
 
__size
);

97 *
	$__deu_mece
 (
rdiff_t
 
__size
)

98 
__THROW
 
__ibu_mloc__
;

102 
	smlfo


104 
a
;

105 
dblks
;

106 
smblks
;

107 
hblks
;

108 
hblkhd
;

109 
usmblks
;

110 
fsmblks
;

111 
udblks
;

112 
fdblks
;

113 
kpco
;

117 
mlfo
 
	$mlfo
 (
__THROW
;

120 #ide
M_MXFAST


121 
	#M_MXFAST
 1

	)

123 #ide
M_NLBLKS


124 
	#M_NLBLKS
 2

	)

126 #ide
M_GRAIN


127 
	#M_GRAIN
 3

	)

129 #ide
M_KEEP


130 
	#M_KEEP
 4

	)

134 
	#M_TRIM_THRESHOLD
 -1

	)

135 
	#M_TOP_PAD
 -2

	)

136 
	#M_MMAP_THRESHOLD
 -3

	)

137 
	#M_MMAP_MAX
 -4

	)

138 
	#M_CHECK_ACTION
 -5

	)

139 
	#M_PERTURB
 -6

	)

140 
	#M_ARENA_TEST
 -7

	)

141 
	#M_ARENA_MAX
 -8

	)

144 
	$mlt
 (
__m
, 
__v

__THROW
;

148 
	$mloc_im
 (
size_t
 
__d

__THROW
;

152 
size_t
 
	$mloc_ub_size
 (*
__r

__THROW
;

155 
	$mloc_s
 (
__THROW
;

158 
	$mloc_fo
 (
__tis
, 
FILE
 *
__

__THROW
;

161 *
	$mloc_g_e
 (
__THROW
;

165 
	$mloc_t_e
 (*
__r

__THROW
;

170 (*
__MALLOC_HOOK_VOLATILE
 
__mloc_lize_hook
) ()

171 
__MALLOC_DEPRECATED
;

173 (*
__MALLOC_HOOK_VOLATILE
 
___hook
(*
__r
,

174 
__cڡ
 
__mloc_r_t
)

175 
__MALLOC_DEPRECATED
;

176 *(*
__MALLOC_HOOK_VOLATILE
 
__mloc_hook
(
size_t
 
__size
,

177 
__cڡ
 
__mloc_r_t
)

178 
__MALLOC_DEPRECATED
;

179 *(*
__MALLOC_HOOK_VOLATILE
 
__loc_hook
(*
__r
,

180 
size_t
 
__size
,

181 
__cڡ
 
__mloc_r_t
)

182 
__MALLOC_DEPRECATED
;

183 *(*
__MALLOC_HOOK_VOLATILE
 
__memign_hook
(
size_t
 
__ignmt
,

184 
size_t
 
__size
,

185 
__cڡ
 
__mloc_r_t
)

186 
__MALLOC_DEPRECATED
;

187 (*
__MALLOC_HOOK_VOLATILE
 
__a_mece_hook
) ();

190 
	$__mloc_check_
 (
__THROW
 
__MALLOC_DEPRECATED
;

193 
__END_DECLS


	@/usr/include/net/if.h

20 #ide
_NET_IF_H


21 
	#_NET_IF_H
 1

	)

23 
	~<us.h
>

25 #ifde
__USE_MISC


26 
	~<sys/tys.h
>

27 
	~<sys/sock.h
>

32 
	#IF_NAMESIZE
 16

	)

34 
	sif_medex


36 
	mif_dex
;

37 *
	mif_me
;

41 #ifde
__USE_MISC


45 
	mIFF_UP
 = 0x1,

46 
	#IFF_UP
 
IFF_UP


	)

47 
	mIFF_BROADCAST
 = 0x2,

48 
	#IFF_BROADCAST
 
IFF_BROADCAST


	)

49 
	mIFF_DEBUG
 = 0x4,

50 
	#IFF_DEBUG
 
IFF_DEBUG


	)

51 
	mIFF_LOOPBACK
 = 0x8,

52 
	#IFF_LOOPBACK
 
IFF_LOOPBACK


	)

53 
	mIFF_POINTOPOINT
 = 0x10,

54 
	#IFF_POINTOPOINT
 
IFF_POINTOPOINT


	)

55 
	mIFF_NOTRAILERS
 = 0x20,

56 
	#IFF_NOTRAILERS
 
IFF_NOTRAILERS


	)

57 
	mIFF_RUNNING
 = 0x40,

58 
	#IFF_RUNNING
 
IFF_RUNNING


	)

59 
	mIFF_NOARP
 = 0x80,

60 
	#IFF_NOARP
 
IFF_NOARP


	)

61 
	mIFF_PROMISC
 = 0x100,

62 
	#IFF_PROMISC
 
IFF_PROMISC


	)

65 
	mIFF_ALLMULTI
 = 0x200,

66 
	#IFF_ALLMULTI
 
IFF_ALLMULTI


	)

68 
	mIFF_MASTER
 = 0x400,

69 
	#IFF_MASTER
 
IFF_MASTER


	)

70 
	mIFF_SLAVE
 = 0x800,

71 
	#IFF_SLAVE
 
IFF_SLAVE


	)

73 
	mIFF_MULTICAST
 = 0x1000,

74 
	#IFF_MULTICAST
 
IFF_MULTICAST


	)

76 
	mIFF_PORTSEL
 = 0x2000,

77 
	#IFF_PORTSEL
 
IFF_PORTSEL


	)

78 
	mIFF_AUTOMEDIA
 = 0x4000,

79 
	#IFF_AUTOMEDIA
 
IFF_AUTOMEDIA


	)

80 
	mIFF_DYNAMIC
 = 0x8000

81 
	#IFF_DYNAMIC
 
IFF_DYNAMIC


	)

89 
	siddr


91 
sockaddr
 
	mi_addr
;

94 
sockaddr
 
	mifu_brdaddr
;

95 
sockaddr
 
	mifu_daddr
;

96 } 
	mi_ifu
;

97 
i
 *
	mi_i
;

98 
iddr
 *
	mi_xt
;

101 
	#i_brdaddr
 
i_ifu
.
ifu_brdaddr


	)

102 
	#i_daddr
 
i_ifu
.
ifu_daddr


	)

112 
	sifm


114 
	mmem_t
;

115 
	mmem_d
;

116 
	mba_addr
;

117 
	mq
;

118 
	mdma
;

119 
	mpt
;

127 
	sieq


129 
	#IFHWADDRLEN
 6

	)

130 
	#IFNAMSIZ
 
IF_NAMESIZE


	)

133 
	min_me
[
IFNAMSIZ
];

134 } 
	mi_in
;

138 
sockaddr
 
	miu_addr
;

139 
sockaddr
 
	miu_daddr
;

140 
sockaddr
 
	miu_brdaddr
;

141 
sockaddr
 
	miu_tmask
;

142 
sockaddr
 
	miu_hwaddr
;

143 
	miu_ags
;

144 
	miu_ivue
;

145 
	miu_mtu
;

146 
ifm
 
	miu_m
;

147 
	miu_ave
[
IFNAMSIZ
];

148 
	miu_wme
[
IFNAMSIZ
];

149 
__ddr_t
 
	miu_da
;

150 } 
	mi_iu
;

152 
	#i_me
 
i_in
.
in_me


	)

153 
	#i_hwaddr
 
i_iu
.
iu_hwaddr


	)

154 
	#i_addr
 
i_iu
.
iu_addr


	)

155 
	#i_daddr
 
i_iu
.
iu_daddr


	)

156 
	#i_brdaddr
 
i_iu
.
iu_brdaddr


	)

157 
	#i_tmask
 
i_iu
.
iu_tmask


	)

158 
	#i_ags
 
i_iu
.
iu_ags


	)

159 
	#i_mric
 
i_iu
.
iu_ivue


	)

160 
	#i_mtu
 
i_iu
.
iu_mtu


	)

161 
	#i_m
 
i_iu
.
iu_m


	)

162 
	#i_ave
 
i_iu
.
iu_ave


	)

163 
	#i_da
 
i_iu
.
iu_da


	)

164 
	#i_ifdex
 
i_iu
.
iu_ivue


	)

165 
	#i_bdwidth
 
i_iu
.
iu_ivue


	)

166 
	#i_qn
 
i_iu
.
iu_ivue


	)

167 
	#i_wme
 
i_iu
.
iu_wme


	)

168 
	#_IOT_ieq
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),16,0,0)

	)

169 
	#_IOT_ieq_sht
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

170 
	#_IOT_ieq_t
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

177 
	sifcf


179 
	mifc_n
;

182 
__ddr_t
 
	mifcu_buf
;

183 
ieq
 *
	mifcu_q
;

184 } 
	mifc_ifcu
;

186 
	#ifc_buf
 
ifc_ifcu
.
ifcu_buf


	)

187 
	#ifc_q
 
ifc_ifcu
.
ifcu_q


	)

188 
	#_IOT_ifcf
 
	`_IOT
(
	`_IOTS
(
ifcf
),1,0,0,0,0

	)

191 
__BEGIN_DECLS


194 
	$if_modex
 (
__cڡ
 *
__iame

__THROW
;

195 *
	$if_dextame
 (
__ifdex
, *
__iame

__THROW
;

198 
if_medex
 *
	$if_medex
 (
__THROW
;

201 
	$if_medex
 (
if_medex
 *
__r

__THROW
;

203 
__END_DECLS


	@/usr/include/netinet/in.h

20 #idef 
_NETINET_IN_H


21 
	#_NETINET_IN_H
 1

	)

23 
	~<us.h
>

24 
	~<dt.h
>

25 
	~<sys/sock.h
>

26 
	~<bs/tys.h
>

29 
__BEGIN_DECLS


34 
	mIPPROTO_IP
 = 0,

35 
	#IPPROTO_IP
 
IPPROTO_IP


	)

36 
	mIPPROTO_HOPOPTS
 = 0,

37 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

38 
	mIPPROTO_ICMP
 = 1,

39 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

40 
	mIPPROTO_IGMP
 = 2,

41 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

42 
	mIPPROTO_IPIP
 = 4,

43 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

44 
	mIPPROTO_TCP
 = 6,

45 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

46 
	mIPPROTO_EGP
 = 8,

47 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

48 
	mIPPROTO_PUP
 = 12,

49 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

50 
	mIPPROTO_UDP
 = 17,

51 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

52 
	mIPPROTO_IDP
 = 22,

53 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

54 
	mIPPROTO_TP
 = 29,

55 
	#IPPROTO_TP
 
IPPROTO_TP


	)

56 
	mIPPROTO_DCCP
 = 33,

57 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

58 
	mIPPROTO_IPV6
 = 41,

59 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

60 
	mIPPROTO_ROUTING
 = 43,

61 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

62 
	mIPPROTO_FRAGMENT
 = 44,

63 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

64 
	mIPPROTO_RSVP
 = 46,

65 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

66 
	mIPPROTO_GRE
 = 47,

67 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

68 
	mIPPROTO_ESP
 = 50,

69 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

70 
	mIPPROTO_AH
 = 51,

71 
	#IPPROTO_AH
 
IPPROTO_AH


	)

72 
	mIPPROTO_ICMPV6
 = 58,

73 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

74 
	mIPPROTO_NONE
 = 59,

75 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

76 
	mIPPROTO_DSTOPTS
 = 60,

77 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

78 
	mIPPROTO_MTP
 = 92,

79 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

80 
	mIPPROTO_ENCAP
 = 98,

81 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

82 
	mIPPROTO_PIM
 = 103,

83 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

84 
	mIPPROTO_COMP
 = 108,

85 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

86 
	mIPPROTO_SCTP
 = 132,

87 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

88 
	mIPPROTO_UDPLITE
 = 136,

89 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


97 
ut16_t
 
	t_pt_t
;

102 
	mIPPORT_ECHO
 = 7,

103 
	mIPPORT_DISCARD
 = 9,

104 
	mIPPORT_SYSTAT
 = 11,

105 
	mIPPORT_DAYTIME
 = 13,

106 
	mIPPORT_NETSTAT
 = 15,

107 
	mIPPORT_FTP
 = 21,

108 
	mIPPORT_TELNET
 = 23,

109 
	mIPPORT_SMTP
 = 25,

110 
	mIPPORT_TIMESERVER
 = 37,

111 
	mIPPORT_NAMESERVER
 = 42,

112 
	mIPPORT_WHOIS
 = 43,

113 
	mIPPORT_MTP
 = 57,

115 
	mIPPORT_TFTP
 = 69,

116 
	mIPPORT_RJE
 = 77,

117 
	mIPPORT_FINGER
 = 79,

118 
	mIPPORT_TTYLINK
 = 87,

119 
	mIPPORT_SUPDUP
 = 95,

122 
	mIPPORT_EXECSERVER
 = 512,

123 
	mIPPORT_LOGINSERVER
 = 513,

124 
	mIPPORT_CMDSERVER
 = 514,

125 
	mIPPORT_EFSSERVER
 = 520,

128 
	mIPPORT_BIFFUDP
 = 512,

129 
	mIPPORT_WHOSERVER
 = 513,

130 
	mIPPORT_ROUTESERVER
 = 520,

133 
	mIPPORT_RESERVED
 = 1024,

136 
	mIPPORT_USERRESERVED
 = 5000

141 
ut32_t
 
	t_addr_t
;

142 
	s_addr


144 
_addr_t
 
	ms_addr
;

153 
	#IN_CLASSA
(
a
((((
_addr_t
))& 0x80000000=0)

	)

154 
	#IN_CLASSA_NET
 0xff000000

	)

155 
	#IN_CLASSA_NSHIFT
 24

	)

156 
	#IN_CLASSA_HOST
 (0xfffffff& ~
IN_CLASSA_NET
)

	)

157 
	#IN_CLASSA_MAX
 128

	)

159 
	#IN_CLASSB
(
a
((((
_addr_t
))& 0xc0000000=0x80000000)

	)

160 
	#IN_CLASSB_NET
 0xffff0000

	)

161 
	#IN_CLASSB_NSHIFT
 16

	)

162 
	#IN_CLASSB_HOST
 (0xfffffff& ~
IN_CLASSB_NET
)

	)

163 
	#IN_CLASSB_MAX
 65536

	)

165 
	#IN_CLASSC
(
a
((((
_addr_t
))& 0xe0000000=0xc0000000)

	)

166 
	#IN_CLASSC_NET
 0xffffff00

	)

167 
	#IN_CLASSC_NSHIFT
 8

	)

168 
	#IN_CLASSC_HOST
 (0xfffffff& ~
IN_CLASSC_NET
)

	)

170 
	#IN_CLASSD
(
a
((((
_addr_t
))& 0xf0000000=0xe0000000)

	)

171 
	#IN_MULTICAST
(
a

	`IN_CLASSD
)

	)

173 
	#IN_EXPERIMENTAL
(
a
((((
_addr_t
))& 0xe0000000=0xe0000000)

	)

174 
	#IN_BADCLASS
(
a
((((
_addr_t
))& 0xf0000000=0xf0000000)

	)

177 
	#INADDR_ANY
 ((
_addr_t
0x00000000)

	)

179 
	#INADDR_BROADCAST
 ((
_addr_t
0xffffffff)

	)

181 
	#INADDR_NONE
 ((
_addr_t
0xffffffff)

	)

184 
	#IN_LOOPBACKNET
 127

	)

186 #ide
INADDR_LOOPBACK


187 
	#INADDR_LOOPBACK
 ((
_addr_t
0x7f000001

	)

191 
	#INADDR_UNSPEC_GROUP
 ((
_addr_t
0xe0000000

	)

192 
	#INADDR_ALLHOSTS_GROUP
 ((
_addr_t
0xe0000001

	)

193 
	#INADDR_ALLRTRS_GROUP
 ((
_addr_t
0xe0000002

	)

194 
	#INADDR_MAX_LOCAL_GROUP
 ((
_addr_t
0xe00000ff

	)

198 
	s6_addr


202 
ut8_t
 
	m__u6_addr8
[16];

203 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


204 
ut16_t
 
	m__u6_addr16
[8];

205 
ut32_t
 
	m__u6_addr32
[4];

207 } 
	m__6_u
;

208 
	#s6_addr
 
__6_u
.
__u6_addr8


	)

209 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


210 
	#s6_addr16
 
__6_u
.
__u6_addr16


	)

211 
	#s6_addr32
 
__6_u
.
__u6_addr32


	)

215 cڡ 
6_addr
 
6addr_y
;

216 cڡ 
6_addr
 
6addr_loback
;

217 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

218 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

220 
	#INET_ADDRSTRLEN
 16

	)

221 
	#INET6_ADDRSTRLEN
 46

	)

225 
	ssockaddr_


227 
__SOCKADDR_COMMON
 (
s_
);

228 
_pt_t
 
	ms_pt
;

229 
_addr
 
	ms_addr
;

232 
	ms_zo
[ (
sockaddr
) -

233 
__SOCKADDR_COMMON_SIZE
 -

234  (
_pt_t
) -

235  (
_addr
)];

239 
	ssockaddr_6


241 
__SOCKADDR_COMMON
 (
s6_
);

242 
_pt_t
 
	ms6_pt
;

243 
ut32_t
 
	ms6_owfo
;

244 
6_addr
 
	ms6_addr
;

245 
ut32_t
 
	ms6_sce_id
;

249 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


251 
	s_mq


254 
_addr
 
	mimr_muɟddr
;

257 
_addr
 
	mimr_r
;

260 
	s_mq_sour


263 
_addr
 
	mimr_muɟddr
;

266 
_addr
 
	mimr_r
;

269 
_addr
 
	mimr_souraddr
;

275 
	sv6_mq


278 
6_addr
 
	mv6mr_muɟddr
;

281 
	mv6mr_r
;

285 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


287 
	sgroup_q


290 
ut32_t
 
	mgr_r
;

293 
sockaddr_age
 
	mgr_group
;

296 
	sgroup_sour_q


299 
ut32_t
 
	mg_r
;

302 
sockaddr_age
 
	mg_group
;

305 
sockaddr_age
 
	mg_sour
;

310 
	s_msfr


313 
_addr
 
	mimsf_muɟddr
;

316 
_addr
 
	mimsf_r
;

319 
ut32_t
 
	mimsf_fmode
;

322 
ut32_t
 
	mimsf_numc
;

324 
_addr
 
	mimsf_i
[1];

327 
	#IP_MSFILTER_SIZE
(
numc
( (
_msfr
) \

328 -  (
_addr
) \

329 + (
numc
*  (
_addr
))

	)

331 
	sgroup_fr


334 
ut32_t
 
	mgf_r
;

337 
sockaddr_age
 
	mgf_group
;

340 
ut32_t
 
	mgf_fmode
;

343 
ut32_t
 
	mgf_numc
;

345 
sockaddr_age
 
	mgf_i
[1];

348 
	#GROUP_FILTER_SIZE
(
numc
( (
group_fr
) \

349 -  (
sockaddr_age
) \

350 + ((
numc
) \

351 *  (
sockaddr_age
)))

	)

356 
	~<bs/.h
>

365 
ut32_t
 
	$ohl
 (
ut32_t
 
__Îg

__THROW
 
	`__ibu__
 ((
__cڡ__
));

366 
ut16_t
 
	$ohs
 (
ut16_t
 
__tsht
)

367 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

368 
ut32_t
 
	$htl
 (
ut32_t
 
__holg
)

369 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

370 
ut16_t
 
	$hts
 (
ut16_t
 
__hosht
)

371 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

373 
	~<dn.h
>

376 
	~<bs/bysw.h
>

378 #ifde
__OPTIMIZE__


382 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


385 
	#ohl
(
x
(x)

	)

386 
	#ohs
(
x
(x)

	)

387 
	#htl
(
x
(x)

	)

388 
	#hts
(
x
(x)

	)

390 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


391 
	#ohl
(
x

	`__bsw_32
 (x)

	)

392 
	#ohs
(
x

	`__bsw_16
 (x)

	)

393 
	#htl
(
x

	`__bsw_32
 (x)

	)

394 
	#hts
(
x

	`__bsw_16
 (x)

	)

399 #ifde
__GNUC__


400 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

401 (
__exnsi__
 \

402 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

403 
__a
->
s6_addr32
[0] == 0 \

404 && 
__a
->
s6_addr32
[1] == 0 \

405 && 
__a
->
s6_addr32
[2] == 0 \

406 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

408 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

409 (
__exnsi__
 \

410 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

411 
__a
->
s6_addr32
[0] == 0 \

412 && 
__a
->
s6_addr32
[1] == 0 \

413 && 
__a
->
s6_addr32
[2] == 0 \

414 && 
__a
->
s6_addr32
[3] =
	`htl
 (1); }))

	)

416 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

417 (
__exnsi__
 \

418 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

419 (
__a
->
s6_addr32
[0] & 
	`htl
 (0xffc00000)=ht(0x800000); }))

	)

421 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

422 (
__exnsi__
 \

423 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

424 (
__a
->
s6_addr32
[0] & 
	`htl
 (0xffc00000)=ht(0xc00000); }))

	)

426 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

427 (
__exnsi__
 \

428 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

429 
__a
->
s6_addr32
[0] == 0 \

430 && 
__a
->
s6_addr32
[1] == 0 \

431 && 
__a
->
s6_addr32
[2] =
	`htl
 (0xffff); }))

	)

433 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

434 (
__exnsi__
 \

435 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

436 
__a
->
s6_addr32
[0] == 0 \

437 && 
__a
->
s6_addr32
[1] == 0 \

438 && 
__a
->
s6_addr32
[2] == 0 \

439 && 
	`ohl
 (
__a
->
s6_addr32
[3]> 1; }))

	)

441 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

442 (
__exnsi__
 \

443 ({ 
__cڡ
 
6_addr
 *
__a
 = (__cڡ 6_add*(
a
); \

444 
__cڡ
 
6_addr
 *
__b
 = (__cڡ 6_add*(
b
); \

445 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

446 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

447 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

448 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

450 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

451 (((
__cڡ
 
ut32_t
 *(
a
))[0] == 0 \

452 && ((
__cڡ
 
ut32_t
 *(
a
))[1] == 0 \

453 && ((
__cڡ
 
ut32_t
 *(
a
))[2] == 0 \

454 && ((
__cڡ
 
ut32_t
 *(
a
))[3] =0)

	)

456 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

457 (((
__cڡ
 
ut32_t
 *(
a
))[0] == 0 \

458 && ((
__cڡ
 
ut32_t
 *(
a
))[1] == 0 \

459 && ((
__cڡ
 
ut32_t
 *(
a
))[2] == 0 \

460 && ((
__cڡ
 
ut32_t
 *(
a
))[3] =
	`htl
 (1))

	)

462 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

463 ((((
__cڡ
 
ut32_t
 *(
a
))[0] & 
	`htl
 (0xffc00000)) \

464 =
	`htl
 (0x800000))

	)

466 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

467 ((((
__cڡ
 
ut32_t
 *(
a
))[0] & 
	`htl
 (0xffc00000)) \

468 =
	`htl
 (0xc00000))

	)

470 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

471 ((((
__cڡ
 
ut32_t
 *(
a
))[0] == 0) \

472 && (((
__cڡ
 
ut32_t
 *(
a
))[1] == 0) \

473 && (((
__cڡ
 
ut32_t
 *(
a
))[2] =
	`htl
 (0xffff)))

	)

475 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

476 ((((
__cڡ
 
ut32_t
 *(
a
))[0] == 0) \

477 && (((
__cڡ
 
ut32_t
 *(
a
))[1] == 0) \

478 && (((
__cڡ
 
ut32_t
 *(
a
))[2] == 0) \

479 && (
	`ohl
 (((
__cڡ
 
ut32_t
 *(
a
))[3]> 1))

	)

481 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

482 ((((
__cڡ
 
ut32_t
 *(
a
))[0] =((__cڡ ut32_*(
b
))[0]) \

483 && (((
__cڡ
 
ut32_t
 *(
a
))[1] =((__cڡ ut32_*(
b
))[1]) \

484 && (((
__cڡ
 
ut32_t
 *(
a
))[2] =((__cڡ ut32_*(
b
))[2]) \

485 && (((
__cڡ
 
ut32_t
 *(
a
))[3] =((__cڡ ut32_*(
b
))[3]))

	)

488 
	#IN6_IS_ADDR_MULTICAST
(
a
(((
__cڡ
 
ut8_t
 *))[0] =0xff)

	)

490 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


492 
	$bdsvpt
 (
__sockfd
, 
sockaddr_
 *
__sock_

__THROW
;

495 
	$bdsvpt6
 (
__sockfd
, 
sockaddr_6
 *
__sock_
)

496 
__THROW
;

500 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

501 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

502 && ((((
__cڡ
 
ut8_t
 *(
a
))[1] & 0xf=0x1))

	)

504 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

505 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

506 && ((((
__cڡ
 
ut8_t
 *(
a
))[1] & 0xf=0x2))

	)

508 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

509 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

510 && ((((
__cڡ
 
ut8_t
 *(
a
))[1] & 0xf=0x5))

	)

512 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

513 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

514 && ((((
__cڡ
 
ut8_t
 *(
a
))[1] & 0xf=0x8))

	)

516 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

517 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

518 && ((((
__cڡ
 
ut8_t
 *(
a
))[1] & 0xf=0xe))

	)

521 #ifde
__USE_GNU


523 
	s6_pktfo


525 
6_addr
 
i6_addr
;

526 
i6_ifdex
;

530 
	s6_mtufo


532 
sockaddr_6
 
6m_addr
;

533 
ut32_t
 
6m_mtu
;

538 
	$6_ti_a
 (
__nbys
)

539 
__THROW
 
__ibu_dd__
;

540 
	$6_ti_
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

541 
__ty

__THROW
 
__ibu_dd__
;

542 
	$6_ti_nd
 (
cmsghdr
 *
__cmsg
,

543 
__cڡ
 
ut8_t
 *
__typ
, 
__mux
,

544 
__usy

__THROW
 
__ibu_dd__
;

545 
ut8_t
 *
	$6_ti_loc
 (
cmsghdr
 *
__cmsg
, 
__d
,

546 
__mux
, 
__usy
)

547 
__THROW
 
__ibu_dd__
;

548 
	$6_ti_xt
 (
__cڡ
 
cmsghdr
 *
__cmsg
,

549 
ut8_t
 **
__p
)

550 
__THROW
 
__ibu_dd__
;

551 
	$6_ti_fd
 (
__cڡ
 
cmsghdr
 *
__cmsg
,

552 
ut8_t
 **
__p
, 
__ty
)

553 
__THROW
 
__ibu_dd__
;

557 
	$6_t_
 (*
__extbuf
, 
sockn_t
 
__ex

__THROW
;

558 
	$6_t_nd
 (*
__extbuf
, 
sockn_t
 
__ex
, 
__offt
,

559 
ut8_t
 
__ty
, 
sockn_t
 
__n
, ut8_
__ign
,

560 **
__dabu

__THROW
;

561 
	$6_t_fish
 (*
__extbuf
, 
sockn_t
 
__ex
, 
__offt
)

562 
__THROW
;

563 
	$6_t_t_v
 (*
__dabuf
, 
__offt
, *
__v
,

564 
sockn_t
 
__vn

__THROW
;

565 
	$6_t_xt
 (*
__extbuf
, 
sockn_t
 
__ex
, 
__offt
,

566 
ut8_t
 *
__typ
, 
sockn_t
 *
__
,

567 **
__dabu

__THROW
;

568 
	$6_t_fd
 (*
__extbuf
, 
sockn_t
 
__ex
, 
__offt
,

569 
ut8_t
 
__ty
, 
sockn_t
 *
__
,

570 **
__dabu

__THROW
;

571 
	$6_t_g_v
 (*
__dabuf
, 
__offt
, *
__v
,

572 
sockn_t
 
__vn

__THROW
;

576 
sockn_t
 
	$6_h_a
 (
__ty
, 
__gmts

__THROW
;

577 *
	$6_h_
 (*
__bp
, 
sockn_t
 
__bp_n
, 
__ty
,

578 
__gmts

__THROW
;

579 
	$6_h_add
 (*
__bp
, 
__cڡ
 
6_addr
 *
__addr

__THROW
;

580 
	$6_h_v
 (
__cڡ
 *
__
, *
__out

__THROW
;

581 
	$6_h_gmts
 (
__cڡ
 *
__bp

__THROW
;

582 
6_addr
 *
	$6_h_gaddr
 (
__cڡ
 *
__bp
, 
__dex
)

583 
__THROW
;

589 
	$gv4sourfr
 (
__s
, 
_addr
 
__r_addr
,

590 
_addr
 
__group
, 
ut32_t
 *
__fmode
,

591 
ut32_t
 *
__numc
, 
_addr
 *
__i
)

592 
__THROW
;

595 
	$tv4sourfr
 (
__s
, 
_addr
 
__r_addr
,

596 
_addr
 
__group
, 
ut32_t
 
__fmode
,

597 
ut32_t
 
__numc
,

598 
__cڡ
 
_addr
 *
__i
)

599 
__THROW
;

603 
	$gsourfr
 (
__s
, 
ut32_t
 
__r_addr
,

604 
__cڡ
 
sockaddr
 *
__group
,

605 
sockn_t
 
__grou
, 
ut32_t
 *
__fmode
,

606 
ut32_t
 *
__numc
,

607 
sockaddr_age
 *
__i

__THROW
;

610 
	$tsourfr
 (
__s
, 
ut32_t
 
__r_addr
,

611 
__cڡ
 
sockaddr
 *
__group
,

612 
sockn_t
 
__grou
, 
ut32_t
 
__fmode
,

613 
ut32_t
 
__numc
,

614 
__cڡ
 
sockaddr_age
 *
__i

__THROW
;

617 
__END_DECLS


	@/usr/include/pthread.h

20 #ide
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<us.h
>

24 
	~<dn.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	~<bs/hadtys.h
>

29 
	~<bs/tjmp.h
>

30 
	~<bs/wdsize.h
>

36 
	mPTHREAD_CREATE_JOINABLE
,

37 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

38 
	mPTHREAD_CREATE_DETACHED


39 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

46 
	mPTHREAD_MUTEX_TIMED_NP
,

47 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

48 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

49 
	mPTHREAD_MUTEX_ADAPTIVE_NP


50 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8


52 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

53 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

54 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

55 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


57 #ifde
__USE_GNU


59 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


64 #ifde
__USE_XOPEN2K


68 
	mPTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

70 
	mPTHREAD_MUTEX_ROBUST
,

71 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


76 #ifde
__USE_UNIX98


80 
	mPTHREAD_PRIO_NONE
,

81 
	mPTHREAD_PRIO_INHERIT
,

82 
	mPTHREAD_PRIO_PROTECT


88 #i
__WORDSIZE
 == 64

89 
	#PTHREAD_MUTEX_INITIALIZER
 \

90 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

91 #ifde
__USE_GNU


92 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 0 } } }

	)

102 #ifde
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

114 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 
	#PTHREAD_RWLOCK_INITIALIZER
 \

125 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

126 #ifde
__USE_GNU


127 #i
__WORDSIZE
 == 64

128 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

130 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

132 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


133 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

134 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

135 0, 0, 0, 0 } }

	)

137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

139 0 } }

	)

149 
	mPTHREAD_INHERIT_SCHED
,

150 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

151 
	mPTHREAD_EXPLICIT_SCHED


152 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

159 
	mPTHREAD_SCOPE_SYSTEM
,

160 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

161 
	mPTHREAD_SCOPE_PROCESS


162 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

169 
	mPTHREAD_PROCESS_PRIVATE
,

170 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

171 
	mPTHREAD_PROCESS_SHARED


172 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

178 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*0, 0, 0 } }

	)

182 
	s_had_nup_bufr


184 (*
	m__route
) (*);

185 *
	m__g
;

186 
	m__ny
;

187 
_had_nup_bufr
 *
	m__ev
;

193 
	mPTHREAD_CANCEL_ENABLE
,

194 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

195 
	mPTHREAD_CANCEL_DISABLE


196 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

200 
	mPTHREAD_CANCEL_DEFERRED
,

201 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

202 
	mPTHREAD_CANCEL_ASYNCHRONOUS


203 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

205 
	#PTHREAD_CANCELED
 ((*-1)

	)

209 
	#PTHREAD_ONCE_INIT
 0

	)

212 #ifde
__USE_XOPEN2K


216 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

220 
__BEGIN_DECLS


225 
had_
 (
had_t
 *
__ri
 
__wthad
,

226 
__cڡ
 
had__t
 *
__ri
 
__
,

227 *(*
__t_route
) (*),

228 *
__ri
 
__g

__THROWNL
 
__nnu
 ((1, 3));

234 
	$had_ex
 (*
__tv

	`__ibu__
 ((
__nܑu__
));

242 
	`had_jo
 (
had_t
 
__th
, **
__thad_tu
);

244 #ifde
__USE_GNU


247 
	$had_yjo_
 (
had_t
 
__th
, **
__thad_tu

__THROW
;

255 
	`had_timedjo_
 (
had_t
 
__th
, **
__thad_tu
,

256 
__cڡ
 
timeec
 *
__abime
);

263 
	$had_dach
 (
had_t
 
__th

__THROW
;

267 
had_t
 
	$had_lf
 (
__THROW
 
	`__ibu__
 ((
__cڡ__
));

270 
	$had_equ
 (
had_t
 
__thad1
,thad_
__thad2

__THROW
;

278 
	$had__
 (
had__t
 *
__

__THROW
 
	`__nnu
 ((1));

281 
	$had__deroy
 (
had__t
 *
__
)

282 
__THROW
 
	`__nnu
 ((1));

285 
	$had__gdache
 (
__cڡ
 
had__t
 *
__
,

286 *
__dache
)

287 
__THROW
 
	`__nnu
 ((1, 2));

290 
	$had__tdache
 (
had__t
 *
__
,

291 
__dache
)

292 
__THROW
 
	`__nnu
 ((1));

296 
	$had__ggudsize
 (
__cڡ
 
had__t
 *
__
,

297 
size_t
 *
__gudsize
)

298 
__THROW
 
	`__nnu
 ((1, 2));

301 
	$had__tgudsize
 (
had__t
 *
__
,

302 
size_t
 
__gudsize
)

303 
__THROW
 
	`__nnu
 ((1));

307 
	$had__gschedm
 (
__cڡ
 
had__t
 *
__ri


308 
__
,

309 
sched_m
 *
__ri
 
__m
)

310 
__THROW
 
	`__nnu
 ((1, 2));

313 
	$had__tschedm
 (
had__t
 *
__ri
 
__
,

314 
__cڡ
 
sched_m
 *
__ri


315 
__m

__THROW
 
	`__nnu
 ((1, 2));

318 
	$had__gschedpicy
 (
__cڡ
 
had__t
 *
__ri


319 
__
, *
__ri
 
__picy
)

320 
__THROW
 
	`__nnu
 ((1, 2));

323 
	$had__tschedpicy
 (
had__t
 *
__
, 
__picy
)

324 
__THROW
 
	`__nnu
 ((1));

327 
	$had__ghsched
 (
__cڡ
 
had__t
 *
__ri


328 
__
, *
__ri
 
__h
)

329 
__THROW
 
	`__nnu
 ((1, 2));

332 
	$had__thsched
 (
had__t
 *
__
,

333 
__h
)

334 
__THROW
 
	`__nnu
 ((1));

338 
	$had__gsce
 (
__cڡ
 
had__t
 *
__ri
 
__
,

339 *
__ri
 
__sce
)

340 
__THROW
 
	`__nnu
 ((1, 2));

343 
	$had__tsce
 (
had__t
 *
__
, 
__sce
)

344 
__THROW
 
	`__nnu
 ((1));

347 
	$had__gackaddr
 (
__cڡ
 
had__t
 *
__ri


348 
__
, **
__ri
 
__ackaddr
)

349 
__THROW
 
	`__nnu
 ((1, 2)
__ibu_dd__
;

355 
	$had__tackaddr
 (
had__t
 *
__
,

356 *
__ackaddr
)

357 
__THROW
 
	`__nnu
 ((1)
__ibu_dd__
;

360 
	$had__gacksize
 (
__cڡ
 
had__t
 *
__ri


361 
__
, 
size_t
 *
__ri
 
__acksize
)

362 
__THROW
 
	`__nnu
 ((1, 2));

367 
	$had__tacksize
 (
had__t
 *
__
,

368 
size_t
 
__acksize
)

369 
__THROW
 
	`__nnu
 ((1));

371 #ifde
__USE_XOPEN2K


373 
	$had__gack
 (
__cڡ
 
had__t
 *
__ri
 
__
,

374 **
__ri
 
__ackaddr
,

375 
size_t
 *
__ri
 
__acksize
)

376 
__THROW
 
	`__nnu
 ((1, 2, 3));

381 
	$had__tack
 (
had__t
 *
__
, *
__ackaddr
,

382 
size_t
 
__acksize

__THROW
 
	`__nnu
 ((1));

385 #ifde
__USE_GNU


388 
	$had__ffy_
 (
had__t
 *
__
,

389 
size_t
 
__utsize
,

390 
__cڡ
 
u_t_t
 *
__ut
)

391 
__THROW
 
	`__nnu
 ((1, 3));

395 
	$had__gaffy_
 (
__cڡ
 
had__t
 *
__
,

396 
size_t
 
__utsize
,

397 
u_t_t
 *
__ut
)

398 
__THROW
 
	`__nnu
 ((1, 3));

404 
	$had_g_
 (
had_t
 
__th
, 
had__t
 *
__
)

405 
__THROW
 
	`__nnu
 ((2));

413 
	$had_tschedm
 (
had_t
 
__rg_thad
, 
__picy
,

414 
__cڡ
 
sched_m
 *
__m
)

415 
__THROW
 
	`__nnu
 ((3));

418 
	$had_gschedm
 (
had_t
 
__rg_thad
,

419 *
__ri
 
__picy
,

420 
sched_m
 *
__ri
 
__m
)

421 
__THROW
 
	`__nnu
 ((2, 3));

424 
	$had_tschedio
 (
had_t
 
__rg_thad
, 
__io
)

425 
__THROW
;

428 #ifde
__USE_GNU


430 
	$had_gme_
 (
had_t
 
__rg_thad
, *
__buf
,

431 
size_t
 
__bu
)

432 
__THROW
 
	`__nnu
 ((2));

435 
	$had_ame_
 (
had_t
 
__rg_thad
, 
__cڡ
 *
__me
)

436 
__THROW
 
	`__nnu
 ((2));

440 #ifde
__USE_UNIX98


442 
	$had_gccucy
 (
__THROW
;

445 
	$had_tccucy
 (
__v

__THROW
;

448 #ifde
__USE_GNU


453 
	$had_yld
 (
__THROW
;

458 
	$had_ffy_
 (
had_t
 
__th
, 
size_t
 
__utsize
,

459 
__cڡ
 
u_t_t
 *
__ut
)

460 
__THROW
 
	`__nnu
 ((3));

463 
	$had_gaffy_
 (
had_t
 
__th
, 
size_t
 
__utsize
,

464 
u_t_t
 *
__ut
)

465 
__THROW
 
	`__nnu
 ((3));

478 
	`had_
 (
had__t
 *
___cڌ
,

479 (*
___route
()
	`__nnu
 ((1, 2));

490 
	`had_tnle
 (
__e
, *
__de
);

494 
	`had_tny
 (
__ty
, *
__dty
);

497 
	`had_nl
 (
had_t
 
__th
);

502 
	`had_nl
 ();

511 
__jmp_buf
 
__nl_jmp_buf
;

512 
__mask_was_ved
;

513 } 
__nl_jmp_buf
[1];

514 *
__d
[4];

515 } 
	t__had_unwd_buf_t
 
	t__ibu__
 ((
	t__igd__
));

518 #ide
__nup_f_ibu


519 
	#__nup_f_ibu


	)

524 
	s__had_nup_ame


526 (*
__nl_route
) (*);

527 *
__nl_g
;

528 
__do_
;

529 
__nl_ty
;

532 #i
defed
 
__GNUC__
 && defed 
__EXCEPTIONS


533 #ifde
__lulus


535 as
	c__had_nup_ass


537 (*
__nl_route
) (*);

538 *
__nl_g
;

539 
__do_
;

540 
__nl_ty
;

542 
public
:

543 
	`__had_nup_ass
 ((*
__f
(*), *
__g
)

544 : 
	`__nl_route
 (
__f
), 
	`__nl_g
 (
__g
), 
	$__do_
 (1) { }

545 ~
	$__had_nup_ass
 ({ i(
__do_

	`__nl_route
 (
__nl_g
); 
	}
}

546 
	$__tdo
 (
__wv
{ 
__do_
 = __wv; 
	}
}

547 
	$__der
 ({ 
	`had_tny
 (
PTHREAD_CANCEL_DEFERRED
,

548 &
__nl_ty
); 
	}
}

549 
	$__e
 (cڡ { 
	`had_tny
 (
__nl_ty
, 0); 
	}
}

559 
	#had_nup_push
(
route
, 
g
) \

561 
__had_nup_ass
 
	`__ame
 (
route
, 
g
)

	)

565 
	#had_nup_p
(
execu
) \

566 
__ame
.
	`__tdo
 (
execu
); \

567 } 0)

	)

569 #ifde
__USE_GNU


573 
	#had_nup_push_der_
(
route
, 
g
) \

575 
__had_nup_ass
 
	`__ame
 (
route
, 
g
); \

576 
__ame
.
	`__der
 ()

	)

581 
	#had_nup_p_e_
(
execu
) \

582 
__ame
.
	`__e
 (); \

583 
__ame
.
	`__tdo
 (
execu
); \

584 } 0)

	)

591 
__ex_le
 

592 
	$__had_nup_route
 (
__had_nup_ame
 *
__ame
)

594 i(
__ame
->
__do_
)

595 
__ame
->
	`__nl_route
 (__ame->
__nl_g
);

596 
	}
}

605 
	#had_nup_push
(
route
, 
g
) \

607 
__had_nup_ame
 
__ame
 \

608 
	`__ibu__
 ((
	`__nup__
 (
__had_nup_route
))) \

609 { .
__nl_route
 = (
route
), .
__nl_g
 = (
g
), \

610 .
__do_
 = 1 };

	)

614 
	#had_nup_p
(
execu
) \

615 
__ame
.
__do_
 = (
execu
); \

616 } 0)

	)

618 #ifde
__USE_GNU


622 
	#had_nup_push_der_
(
route
, 
g
) \

624 
__had_nup_ame
 
__ame
 \

625 
	`__ibu__
 ((
	`__nup__
 (
__had_nup_route
))) \

626 { .
__nl_route
 = (
route
), .
__nl_g
 = (
g
), \

627 .
__do_
 = 1 }; \

628 (
	`had_tny
 (
PTHREAD_CANCEL_DEFERRED
, \

629 &
__ame
.
__nl_ty
)

	)

634 
	#had_nup_p_e_
(
execu
) \

635 (
	`had_tny
 (
__ame
.
__nl_ty
, 
NULL
); \

636 
__ame
.
__do_
 = (
execu
); \

637 } 0)

	)

648 
	#had_nup_push
(
route
, 
g
) \

650 
__had_unwd_buf_t
 
__nl_buf
; \

651 (*
__nl_route
(*(
route
); \

652 *
__nl_g
 = (
g
); \

653 
__n_f_
 = 
	`__sigtjmp
 ((
__jmp_buf_g
 *) (*) \

654 
__nl_buf
.
__nl_jmp_buf
, 0); \

655 i(
	`__but_ex
 (
__n_f_
, 0)) \

657 
	`__nl_route
 (
__nl_g
); \

658 
	`__had_unwd_xt
 (&
__nl_buf
); \

662 
	`__had_gi_nl
 (&
__nl_buf
); \

663 d{

	)

664 
__had_gi_nl
 (
__had_unwd_buf_t
 *
__buf
)

665 
__nup_f_ibu
;

669 
	#had_nup_p
(
execu
) \

672 
	`__had_uegi_nl
 (&
__nl_buf
); \

673 i(
execu
) \

674 
	`__nl_route
 (
__nl_g
); \

675 } 0)

	)

676 
	$__had_uegi_nl
 (
__had_unwd_buf_t
 *
__buf
)

677 
__nup_f_ibu
;

679 #ifde
__USE_GNU


683 
	#had_nup_push_der_
(
route
, 
g
) \

685 
__had_unwd_buf_t
 
__nl_buf
; \

686 (*
__nl_route
(*(
route
); \

687 *
__nl_g
 = (
g
); \

688 
__n_f_
 = 
	`__sigtjmp
 ((
__jmp_buf_g
 *) (*) \

689 
__nl_buf
.
__nl_jmp_buf
, 0); \

690 i(
	`__but_ex
 (
__n_f_
, 0)) \

692 
	`__nl_route
 (
__nl_g
); \

693 
	`__had_unwd_xt
 (&
__nl_buf
); \

697 
	`__had_gi_nl_der
 (&
__nl_buf
); \

698 d{

	)

699 
	`__had_gi_nl_der
 (
__had_unwd_buf_t
 *
__buf
)

700 
__nup_f_ibu
;

705 
	#had_nup_p_e_
(
execu
) \

708 
	`__had_uegi_nl_e
 (&
__nl_buf
); \

709 i(
execu
) \

710 
	`__nl_route
 (
__nl_g
); \

711 
	}
} 0)

	)

712 
	$__had_uegi_nl_e
 (
__had_unwd_buf_t
 *
__buf
)

713 
__nup_f_ibu
;

717 
	$__had_unwd_xt
 (
__had_unwd_buf_t
 *
__buf
)

718 
__nup_f_ibu
 
	`__ibu__
 ((
__nܑu__
))

719 #ide
SHARED


720 
	`__ibu__
 ((
__wk__
))

726 
__jmp_buf_g
;

727 
	$__sigtjmp
 (
__jmp_buf_g
 *
__v
, 
__vemask

__THROW
;

733 
	$had_mux_
 (
had_mux_t
 *
__mux
,

734 
__cڡ
 
had_mux_t
 *
__mux
)

735 
__THROW
 
	`__nnu
 ((1));

738 
	$had_mux_deroy
 (
had_mux_t
 *
__mux
)

739 
__THROW
 
	`__nnu
 ((1));

742 
	$had_mux_ylock
 (
had_mux_t
 *
__mux
)

743 
__THROWNL
 
	`__nnu
 ((1));

746 
	$had_mux_lock
 (
had_mux_t
 *
__mux
)

747 
__THROWNL
 
	`__nnu
 ((1));

749 #ifde
__USE_XOPEN2K


751 
	$had_mux_timedlock
 (
had_mux_t
 *
__ri
 
__mux
,

752 
__cڡ
 
timeec
 *
__ri


753 
__abime

__THROWNL
 
	`__nnu
 ((1, 2));

757 
	$had_mux_uock
 (
had_mux_t
 *
__mux
)

758 
__THROWNL
 
	`__nnu
 ((1));

762 
	$had_mux_giog
 (
__cڡ
 
had_mux_t
 *

763 
__ri
 
__mux
,

764 *
__ri
 
__iog
)

765 
__THROW
 
	`__nnu
 ((1, 2));

769 
	$had_mux_riog
 (
had_mux_t
 *
__ri
 
__mux
,

770 
__iog
,

771 *
__ri
 
__d_g
)

772 
__THROW
 
	`__nnu
 ((1, 3));

775 #ifde
__USE_XOPEN2K8


777 
	$had_mux_csit
 (
had_mux_t
 *
__mux
)

778 
__THROW
 
	`__nnu
 ((1));

779 #ifde
__USE_GNU


780 
	$had_mux_csit_
 (
had_mux_t
 *
__mux
)

781 
__THROW
 
	`__nnu
 ((1));

790 
	$had_mux_
 (
had_mux_t
 *
__
)

791 
__THROW
 
	`__nnu
 ((1));

794 
	$had_mux_deroy
 (
had_mux_t
 *
__
)

795 
__THROW
 
	`__nnu
 ((1));

798 
	$had_mux_gpshed
 (
__cڡ
 
had_mux_t
 *

799 
__ri
 
__
,

800 *
__ri
 
__pshed
)

801 
__THROW
 
	`__nnu
 ((1, 2));

804 
	$had_mux_shed
 (
had_mux_t
 *
__
,

805 
__pshed
)

806 
__THROW
 
	`__nnu
 ((1));

808 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8


810 
	$had_mux_gty
 (
__cڡ
 
had_mux_t
 *
__ri


811 
__
, *
__ri
 
__kd
)

812 
__THROW
 
	`__nnu
 ((1, 2));

817 
	$had_mux_y
 (
had_mux_t
 *
__
, 
__kd
)

818 
__THROW
 
	`__nnu
 ((1));

822 
	$had_mux_goc
 (
__cڡ
 
had_mux_t
 *

823 
__ri
 
__
,

824 *
__ri
 
__oc
)

825 
__THROW
 
	`__nnu
 ((1, 2));

829 
	$had_mux_roc
 (
had_mux_t
 *
__
,

830 
__oc
)

831 
__THROW
 
	`__nnu
 ((1));

834 
	$had_mux_giog
 (
__cڡ
 
had_mux_t
 *

835 
__ri
 
__
,

836 *
__ri
 
__iog
)

837 
__THROW
 
	`__nnu
 ((1, 2));

840 
	$had_mux_riog
 (
had_mux_t
 *
__
,

841 
__iog
)

842 
__THROW
 
	`__nnu
 ((1));

844 #ifde
__USE_XOPEN2K


846 
	$had_mux_grobu
 (
__cڡ
 
had_mux_t
 *
__
,

847 *
__robuss
)

848 
__THROW
 
	`__nnu
 ((1, 2));

849 #ifde
__USE_GNU


850 
	$had_mux_grobu_
 (
__cڡ
 
had_mux_t
 *
__
,

851 *
__robuss
)

852 
__THROW
 
	`__nnu
 ((1, 2));

856 
	$had_mux_obu
 (
had_mux_t
 *
__
,

857 
__robuss
)

858 
__THROW
 
	`__nnu
 ((1));

859 #ifde
__USE_GNU


860 
	$had_mux_obu_
 (
had_mux_t
 *
__
,

861 
__robuss
)

862 
__THROW
 
	`__nnu
 ((1));

867 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


872 
	$had_rwlock_
 (
had_rwlock_t
 *
__ri
 
__rwlock
,

873 
__cڡ
 
had_rwlock_t
 *
__ri


874 
__

__THROW
 
	`__nnu
 ((1));

877 
	$had_rwlock_deroy
 (
had_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__nnu
 ((1));

881 
	$had_rwlock_rdlock
 (
had_rwlock_t
 *
__rwlock
)

882 
__THROWNL
 
	`__nnu
 ((1));

885 
	$had_rwlock_yrdlock
 (
had_rwlock_t
 *
__rwlock
)

886 
__THROWNL
 
	`__nnu
 ((1));

888 #ifde
__USE_XOPEN2K


890 
	$had_rwlock_timedrdlock
 (
had_rwlock_t
 *
__ri
 
__rwlock
,

891 
__cڡ
 
timeec
 *
__ri


892 
__abime

__THROWNL
 
	`__nnu
 ((1, 2));

896 
	$had_rwlock_wock
 (
had_rwlock_t
 *
__rwlock
)

897 
__THROWNL
 
	`__nnu
 ((1));

900 
	$had_rwlock_ywock
 (
had_rwlock_t
 *
__rwlock
)

901 
__THROWNL
 
	`__nnu
 ((1));

903 #ifde
__USE_XOPEN2K


905 
	$had_rwlock_timedwock
 (
had_rwlock_t
 *
__ri
 
__rwlock
,

906 
__cڡ
 
timeec
 *
__ri


907 
__abime

__THROWNL
 
	`__nnu
 ((1, 2));

911 
	$had_rwlock_uock
 (
had_rwlock_t
 *
__rwlock
)

912 
__THROWNL
 
	`__nnu
 ((1));

918 
	$had_rwlock_
 (
had_rwlock_t
 *
__
)

919 
__THROW
 
	`__nnu
 ((1));

922 
	$had_rwlock_deroy
 (
had_rwlock_t
 *
__
)

923 
__THROW
 
	`__nnu
 ((1));

926 
	$had_rwlock_gpshed
 (
__cڡ
 
had_rwlock_t
 *

927 
__ri
 
__
,

928 *
__ri
 
__pshed
)

929 
__THROW
 
	`__nnu
 ((1, 2));

932 
	$had_rwlock_shed
 (
had_rwlock_t
 *
__
,

933 
__pshed
)

934 
__THROW
 
	`__nnu
 ((1));

937 
	$had_rwlock_gkd_
 (
__cڡ
 
had_rwlock_t
 *

938 
__ri
 
__
,

939 *
__ri
 
__ef
)

940 
__THROW
 
	`__nnu
 ((1, 2));

943 
	$had_rwlock_tkd_
 (
had_rwlock_t
 *
__
,

944 
__ef

__THROW
 
	`__nnu
 ((1));

952 
	$had_cd_
 (
had_cd_t
 *
__ri
 
__cd
,

953 
__cڡ
 
had_cd_t
 *
__ri


954 
__cd_

__THROW
 
	`__nnu
 ((1));

957 
	$had_cd_deroy
 (
had_cd_t
 *
__cd
)

958 
__THROW
 
	`__nnu
 ((1));

961 
	$had_cd_sigl
 (
had_cd_t
 *
__cd
)

962 
__THROWNL
 
	`__nnu
 ((1));

965 
	$had_cd_brd
 (
had_cd_t
 *
__cd
)

966 
__THROWNL
 
	`__nnu
 ((1));

973 
	$had_cd_wa
 (
had_cd_t
 *
__ri
 
__cd
,

974 
had_mux_t
 *
__ri
 
__mux
)

975 
	`__nnu
 ((1, 2));

984 
	$had_cd_timedwa
 (
had_cd_t
 *
__ri
 
__cd
,

985 
had_mux_t
 *
__ri
 
__mux
,

986 
__cڡ
 
timeec
 *
__ri


987 
__abime

	`__nnu
 ((1, 2, 3));

992 
	$had_cd_
 (
had_cd_t
 *
__
)

993 
__THROW
 
	`__nnu
 ((1));

996 
	$had_cd_deroy
 (
had_cd_t
 *
__
)

997 
__THROW
 
	`__nnu
 ((1));

1000 
	$had_cd_gpshed
 (
__cڡ
 
had_cd_t
 *

1001 
__ri
 
__
,

1002 *
__ri
 
__pshed
)

1003 
__THROW
 
	`__nnu
 ((1, 2));

1006 
	$had_cd_shed
 (
had_cd_t
 *
__
,

1007 
__pshed

__THROW
 
	`__nnu
 ((1));

1009 #ifde
__USE_XOPEN2K


1011 
	$had_cd_gock
 (
__cڡ
 
had_cd_t
 *

1012 
__ri
 
__
,

1013 
__ockid_t
 *
__ri
 
__ock_id
)

1014 
__THROW
 
	`__nnu
 ((1, 2));

1017 
	$had_cd_tock
 (
had_cd_t
 *
__
,

1018 
__ockid_t
 
__ock_id
)

1019 
__THROW
 
	`__nnu
 ((1));

1023 #ifde
__USE_XOPEN2K


1028 
	$had__
 (
had_lock_t
 *
__lock
, 
__pshed
)

1029 
__THROW
 
	`__nnu
 ((1));

1032 
	$had__deroy
 (
had_lock_t
 *
__lock
)

1033 
__THROW
 
	`__nnu
 ((1));

1036 
	$had__lock
 (
had_lock_t
 *
__lock
)

1037 
__THROWNL
 
	`__nnu
 ((1));

1040 
	$had__ylock
 (
had_lock_t
 *
__lock
)

1041 
__THROWNL
 
	`__nnu
 ((1));

1044 
	$had__uock
 (
had_lock_t
 *
__lock
)

1045 
__THROWNL
 
	`__nnu
 ((1));

1052 
	$had_brr_
 (
had_brr_t
 *
__ri
 
__brr
,

1053 
__cڡ
 
had_brr_t
 *
__ri


1054 
__
, 
__cou
)

1055 
__THROW
 
	`__nnu
 ((1));

1058 
	$had_brr_deroy
 (
had_brr_t
 *
__brr
)

1059 
__THROW
 
	`__nnu
 ((1));

1062 
	$had_brr_wa
 (
had_brr_t
 *
__brr
)

1063 
__THROWNL
 
	`__nnu
 ((1));

1067 
	$had_brr_
 (
had_brr_t
 *
__
)

1068 
__THROW
 
	`__nnu
 ((1));

1071 
	$had_brr_deroy
 (
had_brr_t
 *
__
)

1072 
__THROW
 
	`__nnu
 ((1));

1075 
	$had_brr_gpshed
 (
__cڡ
 
had_brr_t
 *

1076 
__ri
 
__
,

1077 *
__ri
 
__pshed
)

1078 
__THROW
 
	`__nnu
 ((1, 2));

1081 
	$had_brr_shed
 (
had_brr_t
 *
__
,

1082 
__pshed
)

1083 
__THROW
 
	`__nnu
 ((1));

1095 
	`had_key_
 (
had_key_t
 *
__key
,

1096 (*
__der_funi
) (*))

1097 
__THROW
 
	`__nnu
 ((1));

1100 
	$had_key_de
 (
had_key_t
 
__key

__THROW
;

1103 *
	$had_gecific
 (
had_key_t
 
__key

__THROW
;

1106 
	$had_tecific
 (
had_key_t
 
__key
,

1107 
__cڡ
 *
__por

__THROW
 ;

1110 #ifde
__USE_XOPEN2K


1112 
	$had_guockid
 (
had_t
 
__thad_id
,

1113 
__ockid_t
 *
__ock_id
)

1114 
__THROW
 
	`__nnu
 ((2));

1129 
	`had_fk
 ((*
__e
) (),

1130 (*
__
) (),

1131 (*
__chd
()
__THROW
;

1134 #ifde
__USE_EXTERN_INLINES


1136 
__ex_le
 

1137 
	`__NTH
 (
	$had_equ
 (
had_t
 
__thad1
,thad_
__thad2
))

1139  
__thad1
 =
__thad2
;

1140 
	}
}

1143 
	g__END_DECLS


	@/usr/include/semaphore.h

19 #ide
_SEMAPHORE_H


20 
	#_SEMAPHORE_H
 1

	)

22 
	~<us.h
>

23 
	~<sys/tys.h
>

24 #ifde
__USE_XOPEN2K


25 
	#__ed_timeec


	)

26 
	~<time.h
>

30 
	~<bs/mhe.h
>

33 
__BEGIN_DECLS


37 
	$m_
 (
m_t
 *
__m
, 
__pshed
, 
__vue
)

38 
__THROW
;

40 
	$m_deroy
 (
m_t
 *
__m

__THROW
;

43 
m_t
 *
	$m_ݒ
 (
__cڡ
 *
__me
, 
__oag
, ...
__THROW
;

46 
	$m_o
 (
m_t
 *
__m

__THROW
;

49 
	$m_uƚk
 (
__cڡ
 *
__me

__THROW
;

55 
	`m_wa
 (
m_t
 *
__m
);

57 #ifde
__USE_XOPEN2K


62 
	`m_timedwa
 (
m_t
 *
__ri
 
__m
,

63 
__cڡ
 
timeec
 *
__ri
 
__abime
);

67 
	$m_ywa
 (
m_t
 *
__m

__THROWNL
;

70 
	$m_po
 (
m_t
 *
__m

__THROWNL
;

73 
	$m_gvue
 (
m_t
 *
__ri
 
__m
, *__ri 
__sv
)

74 
__THROW
;

77 
__END_DECLS


	@/usr/include/signal.h

23 #idef 
_SIGNAL_H


25 #i!
defed
 
__ed_sig_omic_t
 && !defed 
__ed_sigt_t


26 
	#_SIGNAL_H


	)

29 
	~<us.h
>

31 
	g__BEGIN_DECLS


33 
	~<bs/sigt.h
>

37 #i
defed
 
__ed_sig_omic_t
 || defed 
_SIGNAL_H


38 #ide
__sig_omic_t_defed


39 
	#__sig_omic_t_defed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_omic_t
 
	tsig_omic_t
;

42 
	g__END_NAMESPACE_STD


44 #unde
__ed_sig_omic_t


47 #i
defed
 
__ed_sigt_t
 || (defed 
_SIGNAL_H
 && defed 
__USE_POSIX
)

48 #ide
__sigt_t_defed


49 
	#__sigt_t_defed


	)

50 
__sigt_t
 
	tsigt_t
;

52 #unde
__ed_sigt_t


55 #ifde
_SIGNAL_H


57 
	~<bs/tys.h
>

58 
	~<bs/signum.h
>

60 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K


61 #ide
__pid_t_defed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_defed


	)

65 #ifde
__USE_XOPEN


67 #ide
__uid_t_defed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_defed


	)

73 #ifde
__USE_POSIX199309


75 
	#__ed_timeec


	)

76 
	~<time.h
>

79 
	~<bs/sigfo.h
>

84 (*
	t__sighdr_t
) ();

89 
__sighdr_t
 
	$__sysv_sigl
 (
__sig
, 
__sighdr_t
 
__hdr
)

90 
__THROW
;

91 #ifde
__USE_GNU


92 
__sighdr_t
 
	$sysv_sigl
 (
__sig
, 
__sighdr_t
 
__hdr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifde
__USE_BSD


101 
__sighdr_t
 
	$sigl
 (
__sig
, 
__sighdr_t
 
__hdr
)

102 
__THROW
;

105 #ifde
__REDIRECT_NTH


106 
__sighdr_t
 
	`__REDIRECT_NTH
 (
sigl
,

107 (
__sig
, 
__sighdr_t
 
__hdr
),

108 
__sysv_sigl
);

110 
	#sigl
 
__sysv_sigl


	)

113 
__END_NAMESPACE_STD


115 #ifde
__USE_XOPEN


118 
__sighdr_t
 
	$bsd_sigl
 (
__sig
, 
__sighdr_t
 
__hdr
)

119 
__THROW
;

125 #ifde
__USE_POSIX


126 
	$kl
 (
__pid_t
 
__pid
, 
__sig

__THROW
;

129 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


133 
	$kg
 (
__pid_t
 
__pg
, 
__sig

__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$i
 (
__sig

__THROW
;

139 
__END_NAMESPACE_STD


141 #ifde
__USE_SVID


143 
__sighdr_t
 
	$ssigl
 (
__sig
, 
__sighdr_t
 
__hdr
)

144 
__THROW
;

145 
	$gsigl
 (
__sig

__THROW
;

148 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN2K


150 
	`psigl
 (
__sig
, 
__cڡ
 *
__s
);

153 #ifde
__USE_XOPEN2K


155 
	`psigfo
 (
__cڡ
 
sigfo_t
 *
__pfo
, __cڡ *
__s
);

168 
	`__sigu
 (
__sig__mask
, 
__is_sig
);

170 #ifde
__FAVOR_BSD


173 
	$sigu
 (
__mask

__THROW
 
__ibu_dd__
;

175 #ifde
__USE_XOPEN


176 #ifde
__GNUC__


177 
	$sigu
 (
__sig

	`__asm__
 ("__xpg_sigpause");

180 
	#sigu
(
sig

	`__sigu
 ((sig), 1)

	)

186 #ifde
__USE_BSD


193 
	#sigmask
(
sig

	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask

__THROW
 
__ibu_dd__
;

199 
	$sigtmask
 (
__mask

__THROW
 
__ibu_dd__
;

202 
	$siggmask
 (
__THROW
 
__ibu_dd__
;

206 #ifde
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifde
__USE_GNU


211 
__sighdr_t
 
	tsighdr_t
;

215 #ifde
__USE_BSD


216 
__sighdr_t
 
	tsig_t
;

219 #ifde
__USE_POSIX


222 
	$sigemyt
 (
sigt_t
 *
__t

__THROW
 
	`__nnu
 ((1));

225 
	$sigflt
 (
sigt_t
 *
__t

__THROW
 
	`__nnu
 ((1));

228 
	$sigaddt
 (
sigt_t
 *
__t
, 
__signo

__THROW
 
	`__nnu
 ((1));

231 
	$sigdt
 (
sigt_t
 *
__t
, 
__signo

__THROW
 
	`__nnu
 ((1));

234 
	$sigismemb
 (
__cڡ
 
sigt_t
 *
__t
, 
__signo
)

235 
__THROW
 
	`__nnu
 ((1));

237 #ifde
__USE_GNU


239 
	$sigimyt
 (
__cڡ
 
sigt_t
 *
__t

__THROW
 
	`__nnu
 ((1));

242 
	$sigdt
 (
sigt_t
 *
__t
, 
__cڡ
 sigt_*
__
,

243 
__cڡ
 
sigt_t
 *
__right

__THROW
 
	`__nnu
 ((1, 2, 3));

246 
	$sigܣt
 (
sigt_t
 *
__t
, 
__cڡ
 sigt_*
__
,

247 
__cڡ
 
sigt_t
 *
__right

__THROW
 
	`__nnu
 ((1, 2, 3));

252 
	~<bs/sigai.h
>

255 
	$sigocmask
 (
__how
, 
__cڡ
 
sigt_t
 *
__ri
 
__t
,

256 
sigt_t
 *
__ri
 
__ot

__THROW
;

263 
	$sigsud
 (
__cڡ
 
sigt_t
 *
__t

	`__nnu
 ((1));

266 
	$sigai
 (
__sig
, 
__cڡ
 
sigai
 *
__ri
 
__a
,

267 
sigai
 *
__ri
 
__

__THROW
;

270 
	$signdg
 (
sigt_t
 *
__t

__THROW
 
	`__nnu
 ((1));

277 
	$sigwa
 (
__cڡ
 
sigt_t
 *
__ri
 
__t
, *__ri 
__sig
)

278 
	`__nnu
 ((1, 2));

280 #ifde
__USE_POSIX199309


285 
	$sigwafo
 (
__cڡ
 
sigt_t
 *
__ri
 
__t
,

286 
sigfo_t
 *
__ri
 
__fo

	`__nnu
 ((1));

293 
	$sigtimedwa
 (
__cڡ
 
sigt_t
 *
__ri
 
__t
,

294 
sigfo_t
 *
__ri
 
__fo
,

295 
__cڡ
 
timeec
 *
__ri
 
__timeout
)

296 
	`__nnu
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__cڡ
 
sigv
 
__v
)

301 
__THROW
;

306 #ifde
__USE_BSD


310 
__cڡ
 *__cڡ 
_sys_sigli
[
_NSIG
];

311 
__cڡ
 *__cڡ 
sys_sigli
[
_NSIG
];

314 
	ssigvec


316 
__sighdr_t
 
sv_hdr
;

317 
sv_mask
;

319 
sv_ags
;

320 
	#sv_ڡack
 
sv_ags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__cڡ
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec

__THROW
;

339 
	~<bs/sigcڋxt.h
>

342 
	$sigtu
 (
sigcڋxt
 *
__s

__THROW
;

347 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


348 
	#__ed_size_t


	)

349 
	~<ddef.h
>

354 
	$sigu
 (
__sig
, 
__u

__THROW
;

356 
	~<bs/sigack.h
>

357 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


359 
	~<sys/ucڋxt.h
>

365 
	$sigack
 (
sigack
 *
__ss
, sigack *
__oss
)

366 
__THROW
 
__ibu_dd__
;

370 
	$sigtack
 (
__cڡ
 
sigtack
 *
__ri
 
__ss
,

371 
sigtack
 *
__ri
 
__oss

__THROW
;

375 #ifde
__USE_XOPEN_EXTENDED


379 
	$sighd
 (
__sig

__THROW
;

382 
	$sigl
 (
__sig

__THROW
;

385 
	$sigigne
 (
__sig

__THROW
;

388 
__sighdr_t
 
	$sigt
 (
__sig
, 
__sighdr_t
 
__di

__THROW
;

391 #i
defed
 
__USE_POSIX199506
 || defed 
__USE_UNIX98


394 
	~<bs/hadtys.h
>

395 
	~<bs/sigthad.h
>

402 
	$__libc_cut_sigm
 (
__THROW
;

404 
	$__libc_cut_sigmax
 (
__THROW
;

408 
__END_DECLS


	@/usr/include/stdio.h

24 #ide
_STDIO_H


26 #i!
defed
 
__ed_FILE
 && !defed 
__ed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<us.h
>

30 
	g__BEGIN_DECLS


32 
	#__ed_size_t


	)

33 
	#__ed_NULL


	)

34 
	~<ddef.h
>

36 
	~<bs/tys.h
>

37 
	#__ed_FILE


	)

38 
	#__ed___FILE


	)

42 #i!
defed
 
__FILE_defed
 && defed 
__ed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #i
defed
 
__USE_LARGEFILE64
 || defed 
__USE_SVID
 || defed 
__USE_POSIX
 \

52 || 
defed
 
	g__USE_BSD
 || defed 
	g__USE_ISOC99
 || defed 
	g__USE_XOPEN
 \

53 || 
defed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_defed
 1

	)

59 #unde
__ed_FILE


62 #i!
defed
 
____FILE_defed
 && defed 
__ed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_defed
 1

	)

69 #unde
__ed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


78 #ifde
__GNUC__


79 #ide
_VA_LIST_DEFINED


80 
_G_va_li
 
	tva_li
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<dg.h
>

88 #ifde
__USE_XOPEN2K8


89 #ide
__off_t_defed


90 #ide
__USE_FILE_OFFSET64


91 
__off_t
 
	toff_t
;

93 
__off64_t
 
	toff_t
;

95 
	#__off_t_defed


	)

97 #i
defed
 
__USE_LARGEFILE64
 && !defed 
__off64_t_defed


98 
__off64_t
 
	toff64_t
;

99 
	#__off64_t_defed


	)

102 #ide
__ssize_t_defed


103 
__ssize_t
 
	tssize_t
;

104 
	#__ssize_t_defed


	)

109 
__BEGIN_NAMESPACE_STD


110 #ide
__USE_FILE_OFFSET64


111 
_G_os_t
 
	tos_t
;

113 
_G_os64_t
 
	tos_t
;

115 
__END_NAMESPACE_STD


116 #ifde
__USE_LARGEFILE64


117 
_G_os64_t
 
	tos64_t
;

121 
	#_IOFBF
 0

	)

122 
	#_IOLBF
 1

	)

123 
	#_IONBF
 2

	)

127 #ide
BUFSIZ


128 
	#BUFSIZ
 
_IO_BUFSIZ


	)

134 #ide
EOF


135 
	#EOF
 (-1)

	)

141 
	#SEEK_SET
 0

	)

142 
	#SEEK_CUR
 1

	)

143 
	#SEEK_END
 2

	)

144 #ifde
__USE_GNU


145 
	#SEEK_DATA
 3

	)

146 
	#SEEK_HOLE
 4

	)

150 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


152 
	#P_tmpd
 "/tmp"

	)

165 
	~<bs/dio_lim.h
>

169 
_IO_FILE
 *
d
;

170 
_IO_FILE
 *
dout
;

171 
_IO_FILE
 *
dr
;

173 
	#d
 
d


	)

174 
	#dout
 
dout


	)

175 
	#dr
 
dr


	)

177 
__BEGIN_NAMESPACE_STD


179 
	$move
 (
__cڡ
 *
__fame

__THROW
;

181 
	$me
 (
__cڡ
 *
__d
, __cڡ *
__w

__THROW
;

182 
__END_NAMESPACE_STD


184 #ifde
__USE_ATFILE


186 
	$mt
 (
__dfd
, 
__cڡ
 *
__d
, 
__wfd
,

187 
__cڡ
 *
__w

__THROW
;

190 
__BEGIN_NAMESPACE_STD


195 #ide
__USE_FILE_OFFSET64


196 
FILE
 *
	$tmpfe
 (
__wur
;

198 #ifde
__REDIRECT


199 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64

__wur
;

201 
	#tmpfe
 
tmpfe64


	)

205 #ifde
__USE_LARGEFILE64


206 
FILE
 *
	$tmpfe64
 (
__wur
;

210 *
	$tmam
 (*
__s

__THROW
 
__wur
;

211 
__END_NAMESPACE_STD


213 #ifde
__USE_MISC


216 *
	$tmam_r
 (*
__s

__THROW
 
__wur
;

220 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


228 *
	$mam
 (
__cڡ
 *
__d
, __cڡ *
__pfx
)

229 
__THROW
 
__ibu_mloc__
 
__wur
;

233 
__BEGIN_NAMESPACE_STD


238 
	`fo
 (
FILE
 *
__am
);

243 
	`fush
 (
FILE
 *
__am
);

244 
__END_NAMESPACE_STD


246 #ifde
__USE_MISC


253 
	`fush_uocked
 (
FILE
 *
__am
);

256 #ifde
__USE_GNU


263 
	`fol
 ();

267 
__BEGIN_NAMESPACE_STD


268 #ide
__USE_FILE_OFFSET64


273 
FILE
 *
	$fݒ
 (
__cڡ
 *
__ri
 
__fame
,

274 
__cڡ
 *
__ri
 
__modes

__wur
;

279 
FILE
 *
	$eݒ
 (
__cڡ
 *
__ri
 
__fame
,

280 
__cڡ
 *
__ri
 
__modes
,

281 
FILE
 *
__ri
 
__am

__wur
;

283 #ifde
__REDIRECT


284 
FILE
 *
	`__REDIRECT
 (
fݒ
, (
__cڡ
 *
__ri
 
__fame
,

285 
__cڡ
 *
__ri
 
__modes
), 
fݒ64
)

286 
__wur
;

287 
FILE
 *
	`__REDIRECT
 (
eݒ
, (
__cڡ
 *
__ri
 
__fame
,

288 
__cڡ
 *
__ri
 
__modes
,

289 
FILE
 *
__ri
 
__am
), 
eݒ64
)

290 
__wur
;

292 
	#fݒ
 
fݒ64


	)

293 
	#eݒ
 
eݒ64


	)

296 
__END_NAMESPACE_STD


297 #ifde
__USE_LARGEFILE64


298 
FILE
 *
	$fݒ64
 (
__cڡ
 *
__ri
 
__fame
,

299 
__cڡ
 *
__ri
 
__modes

__wur
;

300 
FILE
 *
	$eݒ64
 (
__cڡ
 *
__ri
 
__fame
,

301 
__cڡ
 *
__ri
 
__modes
,

302 
FILE
 *
__ri
 
__am

__wur
;

305 #ifdef 
__USE_POSIX


307 
FILE
 *
	$fdݒ
 (
__fd
, 
__cڡ
 *
__modes

__THROW
 
__wur
;

310 #ifdef 
__USE_GNU


313 
FILE
 *
	$fݒcook
 (*
__ri
 
__magic_cook
,

314 
__cڡ
 *
__ri
 
__modes
,

315 
_IO_cook_io_funis_t
 
__io_funcs

__THROW
 
__wur
;

318 #ifde
__USE_XOPEN2K8


320 
FILE
 *
	$fmemݒ
 (*
__s
, 
size_t
 
__n
, 
__cڡ
 *
__modes
)

321 
__THROW
 
__wur
;

326 
FILE
 *
	$ݒ_memam
 (**
__buoc
, 
size_t
 *
__sizoc

__THROW
 
__wur
;

330 
__BEGIN_NAMESPACE_STD


333 
	$tbuf
 (
FILE
 *
__ri
 
__am
, *__ri 
__buf

__THROW
;

337 
	$tvbuf
 (
FILE
 *
__ri
 
__am
, *__ri 
__buf
,

338 
__modes
, 
size_t
 
__n

__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdef 
__USE_BSD


344 
	$tbufr
 (
FILE
 *
__ri
 
__am
, *__ri 
__buf
,

345 
size_t
 
__size

__THROW
;

348 
	$ebuf
 (
FILE
 *
__am

__THROW
;

352 
__BEGIN_NAMESPACE_STD


357 
	`rtf
 (
FILE
 *
__ri
 
__am
,

358 
__cڡ
 *
__ri
 
__fm
, ...);

363 
	`tf
 (
__cڡ
 *
__ri
 
__fm
, ...);

365 
	$rtf
 (*
__ri
 
__s
,

366 
__cڡ
 *
__ri
 
__fm
, ...
__THROWNL
;

372 
	`vrtf
 (
FILE
 *
__ri
 
__s
, 
__cڡ
 *__ri 
__fm
,

373 
_G_va_li
 
__g
);

378 
	`vtf
 (
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__g
);

380 
	$vrtf
 (*
__ri
 
__s
, 
__cڡ
 *__ri 
__fm
,

381 
_G_va_li
 
__g

__THROWNL
;

382 
__END_NAMESPACE_STD


384 #i
defed
 
__USE_BSD
 || defed 
__USE_ISOC99
 || defed 
__USE_UNIX98


385 
__BEGIN_NAMESPACE_C99


387 
	$tf
 (*
__ri
 
__s
, 
size_t
 
__maxn
,

388 
__cڡ
 *
__ri
 
__fm
, ...)

389 
__THROWNL
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 4)));

391 
	$vtf
 (*
__ri
 
__s
, 
size_t
 
__maxn
,

392 
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__g
)

393 
__THROWNL
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 0)));

394 
__END_NAMESPACE_C99


397 #ifde
__USE_GNU


400 
	$vartf
 (**
__ri
 
__r
, 
__cڡ
 *__ri 
__f
,

401 
_G_va_li
 
__g
)

402 
__THROWNL
 
	`__ibu__
 ((
	$__fm__
 (
__tf__
, 2, 0))
__wur
;

403 
	$__artf
 (**
__ri
 
__r
,

404 
__cڡ
 *
__ri
 
__fmt
, ...)

405 
__THROWNL
 
	`__ibu__
 ((
	$__fm__
 (
__tf__
, 2, 3))
__wur
;

406 
	$artf
 (**
__ri
 
__r
,

407 
__cڡ
 *
__ri
 
__fmt
, ...)

408 
__THROWNL
 
	`__ibu__
 ((
	$__fm__
 (
__tf__
, 2, 3))
__wur
;

411 #ifde
__USE_XOPEN2K8


418 
	$vdtf
 (
__fd
, 
__cڡ
 *
__ri
 
__fmt
,

419 
_G_va_li
 
__g
)

420 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 2, 0)));

421 
	$dtf
 (
__fd
, 
__cڡ
 *
__ri
 
__fmt
, ...)

422 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 2, 3)));

426 
__BEGIN_NAMESPACE_STD


431 
	$fsnf
 (
FILE
 *
__ri
 
__am
,

432 
__cڡ
 *
__ri
 
__fm
, ...
__wur
;

437 
	$snf
 (
__cڡ
 *
__ri
 
__fm
, ...
__wur
;

439 
	$ssnf
 (
__cڡ
 *
__ri
 
__s
,

440 
__cڡ
 *
__ri
 
__fm
, ...
__THROW
;

442 #i
defed
 
__USE_ISOC99
 && !defed 
__USE_GNU
 \

443 && (!
defed
 
__LDBL_COMPAT
 || !defed 
__REDIRECT
) \

444 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

445 #ifde
__REDIRECT


449 
	`__REDIRECT
 (
fsnf
, (
FILE
 *
__ri
 
__am
,

450 
__cڡ
 *
__ri
 
__fm
, ...),

451 
__isoc99_fsnf

__wur
;

452 
	`__REDIRECT
 (
snf
, (
__cڡ
 *
__ri
 
__fm
, ...),

453 
__isoc99_snf

__wur
;

454 
	`__REDIRECT_NTH
 (
ssnf
, (
__cڡ
 *
__ri
 
__s
,

455 
__cڡ
 *
__ri
 
__fm
, ...),

456 
__isoc99_ssnf
);

458 
	$__isoc99_fsnf
 (
FILE
 *
__ri
 
__am
,

459 
__cڡ
 *
__ri
 
__fm
, ...
__wur
;

460 
	$__isoc99_snf
 (
__cڡ
 *
__ri
 
__fm
, ...
__wur
;

461 
	$__isoc99_ssnf
 (
__cڡ
 *
__ri
 
__s
,

462 
__cڡ
 *
__ri
 
__fm
, ...
__THROW
;

463 
	#fsnf
 
__isoc99_fsnf


	)

464 
	#snf
 
__isoc99_snf


	)

465 
	#ssnf
 
__isoc99_ssnf


	)

469 
__END_NAMESPACE_STD


471 #ifdef 
__USE_ISOC99


472 
__BEGIN_NAMESPACE_C99


477 
	$vfsnf
 (
FILE
 *
__ri
 
__s
, 
__cڡ
 *__ri 
__fm
,

478 
_G_va_li
 
__g
)

479 
	`__ibu__
 ((
	$__fm__
 (
__snf__
, 2, 0))
__wur
;

485 
	$vsnf
 (
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__g
)

486 
	`__ibu__
 ((
	$__fm__
 (
__snf__
, 1, 0))
__wur
;

489 
	$vssnf
 (
__cڡ
 *
__ri
 
__s
,

490 
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__g
)

491 
__THROW
 
	`__ibu__
 ((
	`__fm__
 (
__snf__
, 2, 0)));

493 #i!
defed
 
__USE_GNU
 \

494 && (!
defed
 
__LDBL_COMPAT
 || !defed 
__REDIRECT
) \

495 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

496 #ifde
__REDIRECT


500 
	`__REDIRECT
 (
vfsnf
,

501 (
FILE
 *
__ri
 
__s
,

502 
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__g
),

503 
__isoc99_vfsnf
)

504 
	`__ibu__
 ((
	$__fm__
 (
__snf__
, 2, 0))
__wur
;

505 
	`__REDIRECT
 (
vsnf
, (
__cڡ
 *
__ri
 
__fm
,

506 
_G_va_li
 
__g
), 
__isoc99_vsnf
)

507 
	`__ibu__
 ((
	$__fm__
 (
__snf__
, 1, 0))
__wur
;

508 
	`__REDIRECT_NTH
 (
vssnf
,

509 (
__cڡ
 *
__ri
 
__s
,

510 
__cڡ
 *
__ri
 
__fm
,

511 
_G_va_li
 
__g
), 
__isoc99_vssnf
)

512 
	`__ibu__
 ((
	`__fm__
 (
__snf__
, 2, 0)));

514 
	$__isoc99_vfsnf
 (
FILE
 *
__ri
 
__s
,

515 
__cڡ
 *
__ri
 
__fm
,

516 
_G_va_li
 
__g

__wur
;

517 
	$__isoc99_vsnf
 (
__cڡ
 *
__ri
 
__fm
,

518 
_G_va_li
 
__g

__wur
;

519 
	$__isoc99_vssnf
 (
__cڡ
 *
__ri
 
__s
,

520 
__cڡ
 *
__ri
 
__fm
,

521 
_G_va_li
 
__g

__THROW
;

522 
	#vfsnf
 
__isoc99_vfsnf


	)

523 
	#vsnf
 
__isoc99_vsnf


	)

524 
	#vssnf
 
__isoc99_vssnf


	)

528 
__END_NAMESPACE_C99


532 
__BEGIN_NAMESPACE_STD


537 
	`fgc
 (
FILE
 *
__am
);

538 
	`gc
 (
FILE
 *
__am
);

544 
	`gch
 ();

545 
__END_NAMESPACE_STD


549 
	#gc
(
_

	`_IO_gc
 (_)

	)

551 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


556 
	`gc_uocked
 (
FILE
 *
__am
);

557 
	`gch_uocked
 ();

560 #ifde
__USE_MISC


567 
	`fgc_uocked
 (
FILE
 *
__am
);

571 
__BEGIN_NAMESPACE_STD


579 
	`utc
 (
__c
, 
FILE
 *
__am
);

580 
	`putc
 (
__c
, 
FILE
 *
__am
);

586 
	`putch
 (
__c
);

587 
__END_NAMESPACE_STD


591 
	#putc
(
_ch
, 
_

	`_IO_putc
 (_ch, _)

	)

593 #ifde
__USE_MISC


600 
	`utc_uocked
 (
__c
, 
FILE
 *
__am
);

603 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


608 
	`putc_uocked
 (
__c
, 
FILE
 *
__am
);

609 
	`putch_uocked
 (
__c
);

613 #i
defed
 
__USE_SVID
 || defed 
__USE_MISC
 \

614 || (
defed
 
__USE_XOPEN
 && !defed 
__USE_XOPEN2K
)

616 
	`gw
 (
FILE
 *
__am
);

619 
	`putw
 (
__w
, 
FILE
 *
__am
);

623 
__BEGIN_NAMESPACE_STD


628 *
	$fgs
 (*
__ri
 
__s
, 
__n
, 
FILE
 *__ri 
__am
)

629 
__wur
;

636 *
	$gs
 (*
__s

__wur
;

637 
__END_NAMESPACE_STD


639 #ifde
__USE_GNU


646 *
	$fgs_uocked
 (*
__ri
 
__s
, 
__n
,

647 
FILE
 *
__ri
 
__am

__wur
;

651 #ifdef 
__USE_XOPEN2K8


662 
_IO_ssize_t
 
	$__gdim
 (**
__ri
 
__l
,

663 
size_t
 *
__ri
 
__n
, 
__dim
,

664 
FILE
 *
__ri
 
__am

__wur
;

665 
_IO_ssize_t
 
	$gdim
 (**
__ri
 
__l
,

666 
size_t
 *
__ri
 
__n
, 
__dim
,

667 
FILE
 *
__ri
 
__am

__wur
;

675 
_IO_ssize_t
 
	$gle
 (**
__ri
 
__l
,

676 
size_t
 *
__ri
 
__n
,

677 
FILE
 *
__ri
 
__am

__wur
;

681 
__BEGIN_NAMESPACE_STD


686 
	`uts
 (
__cڡ
 *
__ri
 
__s
, 
FILE
 *__ri 
__am
);

692 
	`puts
 (
__cڡ
 *
__s
);

699 
	`ungc
 (
__c
, 
FILE
 *
__am
);

706 
size_t
 
	$d
 (*
__ri
 
__r
, 
size_t
 
__size
,

707 
size_t
 
__n
, 
FILE
 *
__ri
 
__am

__wur
;

712 
size_t
 
	`fwre
 (
__cڡ
 *
__ri
 
__r
, size_
__size
,

713 
size_t
 
__n
, 
FILE
 *
__ri
 
__s
);

714 
__END_NAMESPACE_STD


716 #ifde
__USE_GNU


723 
	`uts_uocked
 (
__cڡ
 *
__ri
 
__s
,

724 
FILE
 *
__ri
 
__am
);

727 #ifde
__USE_MISC


734 
size_t
 
	$d_uocked
 (*
__ri
 
__r
, 
size_t
 
__size
,

735 
size_t
 
__n
, 
FILE
 *
__ri
 
__am

__wur
;

736 
size_t
 
	`fwre_uocked
 (
__cڡ
 *
__ri
 
__r
, size_
__size
,

737 
size_t
 
__n
, 
FILE
 *
__ri
 
__am
);

741 
__BEGIN_NAMESPACE_STD


746 
	`fek
 (
FILE
 *
__am
, 
__off
, 
__wh
);

751 
	$l
 (
FILE
 *
__am

__wur
;

756 
	`wd
 (
FILE
 *
__am
);

757 
__END_NAMESPACE_STD


764 #i
defed
 
__USE_LARGEFILE
 || defed 
__USE_XOPEN2K


765 #ide
__USE_FILE_OFFSET64


770 
	`feko
 (
FILE
 *
__am
, 
__off_t
 
__off
, 
__wh
);

775 
__off_t
 
	$lo
 (
FILE
 *
__am

__wur
;

777 #ifde
__REDIRECT


778 
	`__REDIRECT
 (
feko
,

779 (
FILE
 *
__am
, 
__off64_t
 
__off
, 
__wh
),

780 
feko64
);

781 
__off64_t
 
	`__REDIRECT
 (
lo
, (
FILE
 *
__am
), 
lo64
);

783 
	#feko
 
feko64


	)

784 
	#lo
 
lo64


	)

789 
__BEGIN_NAMESPACE_STD


790 #ide
__USE_FILE_OFFSET64


795 
	`fgpos
 (
FILE
 *
__ri
 
__am
, 
os_t
 *__ri 
__pos
);

800 
	`fos
 (
FILE
 *
__am
, 
__cڡ
 
os_t
 *
__pos
);

802 #ifde
__REDIRECT


803 
	`__REDIRECT
 (
fgpos
, (
FILE
 *
__ri
 
__am
,

804 
os_t
 *
__ri
 
__pos
), 
fgpos64
);

805 
	`__REDIRECT
 (
fos
,

806 (
FILE
 *
__am
, 
__cڡ
 
os_t
 *
__pos
), 
fos64
);

808 
	#fgpos
 
fgpos64


	)

809 
	#fos
 
fos64


	)

812 
__END_NAMESPACE_STD


814 #ifde
__USE_LARGEFILE64


815 
	`feko64
 (
FILE
 *
__am
, 
__off64_t
 
__off
, 
__wh
);

816 
__off64_t
 
	$lo64
 (
FILE
 *
__am

__wur
;

817 
	`fgpos64
 (
FILE
 *
__ri
 
__am
, 
os64_t
 *__ri 
__pos
);

818 
	`fos64
 (
FILE
 *
__am
, 
__cڡ
 
os64_t
 *
__pos
);

821 
__BEGIN_NAMESPACE_STD


823 
	$
 (
FILE
 *
__am

__THROW
;

825 
	$of
 (
FILE
 *
__am

__THROW
 
__wur
;

827 
	$
 (
FILE
 *
__am

__THROW
 
__wur
;

828 
__END_NAMESPACE_STD


830 #ifde
__USE_MISC


832 
	$_uocked
 (
FILE
 *
__am

__THROW
;

833 
	$of_uocked
 (
FILE
 *
__am

__THROW
 
__wur
;

834 
	$_uocked
 (
FILE
 *
__am

__THROW
 
__wur
;

838 
__BEGIN_NAMESPACE_STD


843 
	`
 (
__cڡ
 *
__s
);

844 
__END_NAMESPACE_STD


850 
	~<bs/sys_i.h
>

853 #ifdef 
__USE_POSIX


855 
	$fo
 (
FILE
 *
__am

__THROW
 
__wur
;

858 #ifde
__USE_MISC


860 
	$fo_uocked
 (
FILE
 *
__am

__THROW
 
__wur
;

864 #i(
defed
 
__USE_POSIX2
 || defed 
__USE_SVID
 || defed 
__USE_BSD
 || \

865 
defed
 
__USE_MISC
)

870 
FILE
 *
	$pݒ
 (
__cڡ
 *
__commd
, __cڡ *
__modes

__wur
;

876 
	`po
 (
FILE
 *
__am
);

880 #ifdef 
__USE_POSIX


882 *
	$mid
 (*
__s

__THROW
;

886 #ifde
__USE_XOPEN


888 *
	`curid
 (*
__s
);

892 #ifdef 
__USE_GNU


893 
oback
;

896 
	$oback_tf
 (
oback
 *
__ri
 
__oback
,

897 
__cڡ
 *
__ri
 
__fm
, ...)

898 
__THROWNL
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 2, 3)));

899 
	$oback_vtf
 (
oback
 *
__ri
 
__oback
,

900 
__cڡ
 *
__ri
 
__fm
,

901 
_G_va_li
 
__gs
)

902 
__THROWNL
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 2, 0)));

906 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


910 
	$ockfe
 (
FILE
 *
__am

__THROW
;

914 
	$rylockfe
 (
FILE
 *
__am

__THROW
 
__wur
;

917 
	$fuockfe
 (
FILE
 *
__am

__THROW
;

920 #i
defed
 
__USE_XOPEN
 && !defed 
__USE_XOPEN2K
 && !defed 
__USE_GNU


924 
	#__ed_gt


	)

925 
	~<gt.h
>

930 #ifde
__USE_EXTERN_INLINES


931 
	~<bs/dio.h
>

933 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


934 
	~<bs/dio2.h
>

936 #ifde
__LDBL_COMPAT


937 
	~<bs/dio-ldbl.h
>

940 
__END_DECLS


	@/usr/include/stdlib.h

23 #idef 
_STDLIB_H


25 
	~<us.h
>

28 
	#__ed_size_t


	)

29 #ide
__ed_mloc_d_oc


30 
	#__ed_wch_t


	)

31 
	#__ed_NULL


	)

33 
	~<ddef.h
>

35 
	g__BEGIN_DECLS


37 #ide
__ed_mloc_d_oc


38 
	#_STDLIB_H
 1

	)

40 #i(
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8
&& !defed 
_SYS_WAIT_H


42 
	~<bs/waags.h
>

43 
	~<bs/waus.h
>

45 #ifde
__USE_BSD


50 #i
defed
 
__GNUC__
 && !defed 
__lulus


51 
	#__WAIT_INT
(
us
) \

52 (
	`__exnsi__
 (((uni { 
	`__tyof
(
us

__
; 
__i
; }) \

53 { .
__
 = (
us
}).
__i
))

	)

55 
	#__WAIT_INT
(
us
(*(*&(us))

	)

63 #i!
defed
 
__GNUC__
 || __GNUC__ < 2 || defed 
__lulus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
wa
 *
	m__ur
;

71 *
	m__
;

72 } 
	t__WAIT_STATUS
 
	t__ibu__
 ((
	t__t_uni__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
us
(us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
us

	`__WEXITSTATUS
 (
	`__WAIT_INT
 (us))

	)

86 
	#WTERMSIG
(
us

	`__WTERMSIG
 (
	`__WAIT_INT
 (us))

	)

87 
	#WSTOPSIG
(
us

	`__WSTOPSIG
 (
	`__WAIT_INT
 (us))

	)

88 
	#WIFEXITED
(
us

	`__WIFEXITED
 (
	`__WAIT_INT
 (us))

	)

89 
	#WIFSIGNALED
(
us

	`__WIFSIGNALED
 (
	`__WAIT_INT
 (us))

	)

90 
	#WIFSTOPPED
(
us

	`__WIFSTOPPED
 (
	`__WAIT_INT
 (us))

	)

91 #ifde
__WIFCONTINUED


92 
	#WIFCONTINUED
(
us

	`__WIFCONTINUED
 (
	`__WAIT_INT
 (us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mqu
;

101 
	mm
;

102 } 
	tdiv_t
;

105 #ide
__ldiv_t_defed


108 
	mqu
;

109 
	mm
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_defed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #i
defed
 
__USE_ISOC99
 && !defed 
__div_t_defed


116 
__BEGIN_NAMESPACE_C99


118 
__exnsi__
 struct

120 
	mqu
;

121 
	mm
;

122 } 
	tdiv_t
;

123 
	#__div_t_defed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__y_g_mb_cur_max
 ())

	)

140 
size_t
 
	$__y_g_mb_cur_max
 (
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$of
 (
__cڡ
 *
__Ō
)

146 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1)
__wur
;

148 
	$oi
 (
__cڡ
 *
__Ō
)

149 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1)
__wur
;

151 
	$
 (
__cڡ
 *
__Ō
)

152 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1)
__wur
;

153 
__END_NAMESPACE_STD


155 #i
defed
 
__USE_ISOC99
 || (defed 
__GLIBC_HAVE_LONG_LONG
 && defed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__exnsi__
 
	$l
 (
__cڡ
 *
__Ō
)

159 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1)
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$od
 (
__cڡ
 *
__ri
 
__Ō
,

166 **
__ri
 
__dr
)

167 
__THROW
 
	`__nnu
 ((1)
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$of
 (
__cڡ
 *
__ri
 
__Ō
,

174 **
__ri
 
__dr

__THROW
 
	`__nnu
 ((1)
__wur
;

176 
	$d
 (
__cڡ
 *
__ri
 
__Ō
,

177 **
__ri
 
__dr
)

178 
__THROW
 
	`__nnu
 ((1)
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$
 (
__cڡ
 *
__ri
 
__Ō
,

185 **
__ri
 
__dr
, 
__ba
)

186 
__THROW
 
	`__nnu
 ((1)
__wur
;

188 
	$oul
 (
__cڡ
 *
__ri
 
__Ō
,

189 **
__ri
 
__dr
, 
__ba
)

190 
__THROW
 
	`__nnu
 ((1)
__wur
;

191 
__END_NAMESPACE_STD


193 #i
defed
 
__GLIBC_HAVE_LONG_LONG
 && defed 
__USE_BSD


195 
__exnsi__


196 
	$oq
 (
__cڡ
 *
__ri
 
__Ō
,

197 **
__ri
 
__dr
, 
__ba
)

198 
__THROW
 
	`__nnu
 ((1)
__wur
;

200 
__exnsi__


201 
	$ouq
 (
__cڡ
 *
__ri
 
__Ō
,

202 **
__ri
 
__dr
, 
__ba
)

203 
__THROW
 
	`__nnu
 ((1)
__wur
;

206 #i
defed
 
__USE_ISOC99
 || (defed 
__GLIBC_HAVE_LONG_LONG
 && defed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__exnsi__


210 
	$l
 (
__cڡ
 *
__ri
 
__Ō
,

211 **
__ri
 
__dr
, 
__ba
)

212 
__THROW
 
	`__nnu
 ((1)
__wur
;

214 
__exnsi__


215 
	$ou
 (
__cڡ
 *
__ri
 
__Ō
,

216 **
__ri
 
__dr
, 
__ba
)

217 
__THROW
 
	`__nnu
 ((1)
__wur
;

218 
__END_NAMESPACE_C99


222 #ifde
__USE_GNU


236 
	~<xlo.h
>

240 
	$_l
 (
__cڡ
 *
__ri
 
__Ō
,

241 **
__ri
 
__dr
, 
__ba
,

242 
__lo_t
 
__loc

__THROW
 
	`__nnu
 ((1, 4)
__wur
;

244 
	$oul_l
 (
__cڡ
 *
__ri
 
__Ō
,

245 **
__ri
 
__dr
,

246 
__ba
, 
__lo_t
 
__loc
)

247 
__THROW
 
	`__nnu
 ((1, 4)
__wur
;

249 
__exnsi__


250 
	$l_l
 (
__cڡ
 *
__ri
 
__Ō
,

251 **
__ri
 
__dr
, 
__ba
,

252 
__lo_t
 
__loc
)

253 
__THROW
 
	`__nnu
 ((1, 4)
__wur
;

255 
__exnsi__


256 
	$ou_l
 (
__cڡ
 *
__ri
 
__Ō
,

257 **
__ri
 
__dr
,

258 
__ba
, 
__lo_t
 
__loc
)

259 
__THROW
 
	`__nnu
 ((1, 4)
__wur
;

261 
	$od_l
 (
__cڡ
 *
__ri
 
__Ō
,

262 **
__ri
 
__dr
, 
__lo_t
 
__loc
)

263 
__THROW
 
	`__nnu
 ((1, 3)
__wur
;

265 
	$of_l
 (
__cڡ
 *
__ri
 
__Ō
,

266 **
__ri
 
__dr
, 
__lo_t
 
__loc
)

267 
__THROW
 
	`__nnu
 ((1, 3)
__wur
;

269 
	$d_l
 (
__cڡ
 *
__ri
 
__Ō
,

270 **
__ri
 
__dr
,

271 
__lo_t
 
__loc
)

272 
__THROW
 
	`__nnu
 ((1, 3)
__wur
;

276 #ifde
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__ex_le
 

279 
	`__NTH
 (
	$of
 (
__cڡ
 *
__Ō
))

281  
	`od
 (
__Ō
, (**
NULL
);

282 
	}
}

283 
__ex_le
 

284 
__NTH
 (
	$oi
 (
__cڡ
 *
__Ō
))

286  (
	`
 (
__Ō
, (**
NULL
, 10);

287 
	}
}

288 
__ex_le
 

289 
__NTH
 (
	$
 (
__cڡ
 *
__Ō
))

291  
	`
 (
__Ō
, (**
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__exnsi__
 
__ex_le
 

298 
__NTH
 (
	$l
 (
__cڡ
 *
__Ō
))

300  
	`l
 (
__Ō
, (**
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n

__THROW
 
__wur
;

314 
	$a64l
 (
__cڡ
 *
__s
)

315 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1)
__wur
;

319 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_BSD


320 
	~<sys/tys.h
>

327 
	$ndom
 (
__THROW
;

330 
	$dom
 (
__ed

__THROW
;

336 *
	$e
 (
__ed
, *
__ebuf
,

337 
size_t
 
__

__THROW
 
	`__nnu
 ((2));

341 *
	$te
 (*
__ebuf

__THROW
 
	`__nnu
 ((1));

344 #ifde
__USE_MISC


349 
	sndom_da


351 
t32_t
 *

;

352 
t32_t
 *

;

353 
t32_t
 *
e
;

354 
nd_ty
;

355 
nd_deg
;

356 
nd_p
;

357 
t32_t
 *
d_r
;

360 
	$ndom_r
 (
ndom_da
 *
__ri
 
__buf
,

361 
t32_t
 *
__ri
 
__su

__THROW
 
	`__nnu
 ((1, 2));

363 
	$dom_r
 (
__ed
, 
ndom_da
 *
__buf
)

364 
__THROW
 
	`__nnu
 ((2));

366 
	$e_r
 (
__ed
, *
__ri
 
__ebuf
,

367 
size_t
 
__
,

368 
ndom_da
 *
__ri
 
__buf
)

369 
__THROW
 
	`__nnu
 ((2, 4));

371 
	$te_r
 (*
__ri
 
__ebuf
,

372 
ndom_da
 *
__ri
 
__buf
)

373 
__THROW
 
	`__nnu
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$nd
 (
__THROW
;

382 
	$d
 (
__ed

__THROW
;

383 
__END_NAMESPACE_STD


385 #ifde
__USE_POSIX


387 
	$nd_r
 (*
__ed

__THROW
;

391 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


395 
	$dnd48
 (
__THROW
;

396 
	$d48
 (
__xsubi
[3]
__THROW
 
	`__nnu
 ((1));

399 
	$̪d48
 (
__THROW
;

400 
	$Īd48
 (
__xsubi
[3])

401 
__THROW
 
	`__nnu
 ((1));

404 
	$mnd48
 (
__THROW
;

405 
	$jnd48
 (
__xsubi
[3])

406 
__THROW
 
	`__nnu
 ((1));

409 
	$d48
 (
__edv

__THROW
;

410 *
	$ed48
 (
__ed16v
[3])

411 
__THROW
 
	`__nnu
 ((1));

412 
	$lcg48
 (
__m
[7]
__THROW
 
	`__nnu
 ((1));

414 #ifde
__USE_MISC


418 
	sdnd48_da


420 
__x
[3];

421 
__d_x
[3];

422 
__c
;

423 
__
;

424 
__a
;

428 
	$dnd48_r
 (
dnd48_da
 *
__ri
 
__bufr
,

429 *
__ri
 
__su

__THROW
 
	`__nnu
 ((1, 2));

430 
	$d48_r
 (
__xsubi
[3],

431 
dnd48_da
 *
__ri
 
__bufr
,

432 *
__ri
 
__su

__THROW
 
	`__nnu
 ((1, 2));

435 
	$̪d48_r
 (
dnd48_da
 *
__ri
 
__bufr
,

436 *
__ri
 
__su
)

437 
__THROW
 
	`__nnu
 ((1, 2));

438 
	$Īd48_r
 (
__xsubi
[3],

439 
dnd48_da
 *
__ri
 
__bufr
,

440 *
__ri
 
__su
)

441 
__THROW
 
	`__nnu
 ((1, 2));

444 
	$mnd48_r
 (
dnd48_da
 *
__ri
 
__bufr
,

445 *
__ri
 
__su
)

446 
__THROW
 
	`__nnu
 ((1, 2));

447 
	$jnd48_r
 (
__xsubi
[3],

448 
dnd48_da
 *
__ri
 
__bufr
,

449 *
__ri
 
__su
)

450 
__THROW
 
	`__nnu
 ((1, 2));

453 
	$d48_r
 (
__edv
, 
dnd48_da
 *
__bufr
)

454 
__THROW
 
	`__nnu
 ((2));

456 
	$ed48_r
 (
__ed16v
[3],

457 
dnd48_da
 *
__bufr

__THROW
 
	`__nnu
 ((1, 2));

459 
	$lcg48_r
 (
__m
[7],

460 
dnd48_da
 *
__bufr
)

461 
__THROW
 
	`__nnu
 ((1, 2));

467 #ide
__mloc_d_oc_defed


468 
	#__mloc_d_oc_defed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$mloc
 (
size_t
 
__size

__THROW
 
__ibu_mloc__
 
__wur
;

473 *
	$oc
 (
size_t
 
__nmemb
, size_
__size
)

474 
__THROW
 
__ibu_mloc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #ide
__ed_mloc_d_oc


479 
__BEGIN_NAMESPACE_STD


485 *
	$loc
 (*
__r
, 
size_t
 
__size
)

486 
__THROW
 
__ibu_wn_unud_su__
;

488 
	$
 (*
__r

__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$c
 (*
__r

__THROW
;

496 #i
defed
 
__USE_GNU
 || defed 
__USE_BSD
 || defed 
__USE_MISC


497 
	~<lo.h
>

500 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K
) \

501 || 
defed
 
__USE_BSD


503 *
	$vloc
 (
size_t
 
__size

__THROW
 
__ibu_mloc__
 
__wur
;

506 #ifde
__USE_XOPEN2K


508 
	$posix_memign
 (**
__memr
, 
size_t
 
__ignmt
, size_
__size
)

509 
__THROW
 
	`__nnu
 ((1)
__wur
;

512 
__BEGIN_NAMESPACE_STD


514 
	$abt
 (
__THROW
 
	`__ibu__
 ((
__nܑu__
));

518 
	`ex
 ((*
__func
()
__THROW
 
	`__nnu
 ((1));

520 #ifde
__USE_GNU


524 #ifde
__lulus


525 "C++" 
	`_quick_ex
 ((*
__func
) ())

526 
__THROW
 
	`__asm
 ("_quick_ex"
	`__nnu
 ((1));

528 
	`_quick_ex
 ((*
__func
()
__THROW
 
	`__nnu
 ((1));

531 
__END_NAMESPACE_STD


533 #ifdef 
__USE_MISC


536 
	`_ex
 ((*
__func
(
__us
, *
__g
), *__arg)

537 
__THROW
 
	`__nnu
 ((1));

540 
__BEGIN_NAMESPACE_STD


544 
	$ex
 (
__us

__THROW
 
	`__ibu__
 ((
__nܑu__
));

546 #ifde
__USE_GNU


552 
	$quick_ex
 (
__us

__THROW
 
	`__ibu__
 ((
__nܑu__
));

554 
__END_NAMESPACE_STD


556 #ifde
__USE_ISOC99


557 
__BEGIN_NAMESPACE_C99


560 
	$_Ex
 (
__us

__THROW
 
	`__ibu__
 ((
__nܑu__
));

561 
__END_NAMESPACE_C99


565 
__BEGIN_NAMESPACE_STD


567 *
	$gv
 (
__cڡ
 *
__me

__THROW
 
	`__nnu
 ((1)
__wur
;

568 
__END_NAMESPACE_STD


572 *
	$__cu_gv
 (
__cڡ
 *
__me
)

573 
__THROW
 
	`__nnu
 ((1)
__wur
;

575 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


579 
	$punv
 (*
__rg

__THROW
 
	`__nnu
 ((1));

582 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN2K


585 
	$nv
 (
__cڡ
 *
__me
, __cڡ *
__vue
, 
__a
)

586 
__THROW
 
	`__nnu
 ((2));

589 
	$unnv
 (
__cڡ
 *
__me

__THROW
 
	`__nnu
 ((1));

592 #ifdef 
__USE_MISC


596 
	$nv
 (
__THROW
;

600 #i
defed
 
__USE_MISC
 \

601 || (
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K
)

606 *
	$mkmp
 (*
__me

__THROW
 
	`__nnu
 ((1)
__wur
;

609 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 \

610 || 
defed
 
__USE_XOPEN2K8


619 #ide
__USE_FILE_OFFSET64


620 
	$mkemp
 (*
__me

	`__nnu
 ((1)
__wur
;

622 #ifde
__REDIRECT


623 
	`__REDIRECT
 (
mkemp
, (*
__me
), 
mkemp64
)

624 
	`__nnu
 ((1)
__wur
;

626 
	#mkemp
 
mkemp64


	)

629 #ifde
__USE_LARGEFILE64


630 
	$mkemp64
 (*
__me

	`__nnu
 ((1)
__wur
;

634 #ifde
__USE_MISC


641 #ide
__USE_FILE_OFFSET64


642 
	$mkemps
 (*
__me
, 
__suffixn

	`__nnu
 ((1)
__wur
;

644 #ifde
__REDIRECT


645 
	`__REDIRECT
 (
mkemps
, (*
__me
, 
__suffixn
),

646 
mkemps64

	`__nnu
 ((1)
__wur
;

648 
	#mkemps
 
mkemps64


	)

651 #ifde
__USE_LARGEFILE64


652 
	$mkemps64
 (*
__me
, 
__suffixn
)

653 
	`__nnu
 ((1)
__wur
;

657 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN2K8


663 *
	$mkdmp
 (*
__me

__THROW
 
	`__nnu
 ((1)
__wur
;

666 #ifde
__USE_GNU


673 #ide
__USE_FILE_OFFSET64


674 
	$mkoemp
 (*
__me
, 
__ags

	`__nnu
 ((1)
__wur
;

676 #ifde
__REDIRECT


677 
	`__REDIRECT
 (
mkoemp
, (*
__me
, 
__ags
), 
mkoemp64
)

678 
	`__nnu
 ((1)
__wur
;

680 
	#mkoemp
 
mkoemp64


	)

683 #ifde
__USE_LARGEFILE64


684 
	$mkoemp64
 (*
__me
, 
__ags

	`__nnu
 ((1)
__wur
;

693 #ide
__USE_FILE_OFFSET64


694 
	$mkoemps
 (*
__me
, 
__suffixn
, 
__ags
)

695 
	`__nnu
 ((1)
__wur
;

697 #ifde
__REDIRECT


698 
	`__REDIRECT
 (
mkoemps
, (*
__me
, 
__suffixn
,

699 
__ags
), 
mkoemps64
)

700 
	`__nnu
 ((1)
__wur
;

702 
	#mkoemps
 
mkoemps64


	)

705 #ifde
__USE_LARGEFILE64


706 
	$mkoemps64
 (*
__me
, 
__suffixn
, 
__ags
)

707 
	`__nnu
 ((1)
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$syem
 (
__cڡ
 *
__commd

__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$nilize_fe_me
 (
__cڡ
 *
__me
)

725 
__THROW
 
	`__nnu
 ((1)
__wur
;

728 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


734 *
	$th
 (
__cڡ
 *
__ri
 
__me
,

735 *
__ri
 
__sved

__THROW
 
__wur
;

740 #ide
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__comr__t
(
	t__cڡ
 *, __const *);

744 #ifdef 
__USE_GNU


745 
__comr__t
 
	tcomris__t
;

748 #ifde
__USE_GNU


749 (*
	t__comr_d__t
(
	t__cڡ
 *, __const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$bch
 (
__cڡ
 *
__key
, __cڡ *
__ba
,

756 
size_t
 
__nmemb
, size_
__size
, 
__comr__t
 
__comr
)

757 
	`__nnu
 ((1, 2, 5)
__wur
;

761 
	$qst
 (*
__ba
, 
size_t
 
__nmemb
, size_
__size
,

762 
__comr__t
 
__comr

	`__nnu
 ((1, 4));

763 #ifde
__USE_GNU


764 
	$qst_r
 (*
__ba
, 
size_t
 
__nmemb
, size_
__size
,

765 
__comr_d__t
 
__comr
, *
__g
)

766 
	`__nnu
 ((1, 4));

771 
	$abs
 (
__x

__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

772 
	$bs
 (
__x

__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

773 
__END_NAMESPACE_STD


775 #ifde
__USE_ISOC99


776 
__exnsi__
 
	$abs
 (
__x
)

777 
__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

781 
__BEGIN_NAMESPACE_STD


785 
div_t
 
	$div
 (
__num
, 
__dom
)

786 
__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

787 
ldiv_t
 
	$ldiv
 (
__num
, 
__dom
)

788 
__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

789 
__END_NAMESPACE_STD


791 #ifde
__USE_ISOC99


792 
__BEGIN_NAMESPACE_C99


793 
__exnsi__
 
div_t
 
	$div
 (
__num
,

794 
__dom
)

795 
__THROW
 
	`__ibu__
 ((
__cڡ__
)
__wur
;

796 
__END_NAMESPACE_C99


800 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K
) \

801 || 
defed
 
__USE_SVID


808 *
	$ecvt
 (
__vue
, 
__ndig
, *
__ri
 
__det
,

809 *
__ri
 
__sign

__THROW
 
	`__nnu
 ((3, 4)
__wur
;

814 *
	$fcvt
 (
__vue
, 
__ndig
, *
__ri
 
__det
,

815 *
__ri
 
__sign

__THROW
 
	`__nnu
 ((3, 4)
__wur
;

820 *
	$gcvt
 (
__vue
, 
__ndig
, *
__buf
)

821 
__THROW
 
	`__nnu
 ((3)
__wur
;

824 #ifde
__USE_MISC


826 *
	$qecvt
 (
__vue
, 
__ndig
,

827 *
__ri
 
__det
, *__ri 
__sign
)

828 
__THROW
 
	`__nnu
 ((3, 4)
__wur
;

829 *
	$qfcvt
 (
__vue
, 
__ndig
,

830 *
__ri
 
__det
, *__ri 
__sign
)

831 
__THROW
 
	`__nnu
 ((3, 4)
__wur
;

832 *
	$qgcvt
 (
__vue
, 
__ndig
, *
__buf
)

833 
__THROW
 
	`__nnu
 ((3)
__wur
;

838 
	$ecvt_r
 (
__vue
, 
__ndig
, *
__ri
 
__det
,

839 *
__ri
 
__sign
, *__ri 
__buf
,

840 
size_t
 
__n

__THROW
 
	`__nnu
 ((3, 4, 5));

841 
	$fcvt_r
 (
__vue
, 
__ndig
, *
__ri
 
__det
,

842 *
__ri
 
__sign
, *__ri 
__buf
,

843 
size_t
 
__n

__THROW
 
	`__nnu
 ((3, 4, 5));

845 
	$qecvt_r
 (
__vue
, 
__ndig
,

846 *
__ri
 
__det
, *__ri 
__sign
,

847 *
__ri
 
__buf
, 
size_t
 
__n
)

848 
__THROW
 
	`__nnu
 ((3, 4, 5));

849 
	$qfcvt_r
 (
__vue
, 
__ndig
,

850 *
__ri
 
__det
, *__ri 
__sign
,

851 *
__ri
 
__buf
, 
size_t
 
__n
)

852 
__THROW
 
	`__nnu
 ((3, 4, 5));

857 
__BEGIN_NAMESPACE_STD


860 
	$mbn
 (
__cڡ
 *
__s
, 
size_t
 
__n

__THROW
 
__wur
;

863 
	$mbtowc
 (
wch_t
 *
__ri
 
__pwc
,

864 
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n

__THROW
 
__wur
;

867 
	$womb
 (*
__s
, 
wch_t
 
__wch

__THROW
 
__wur
;

871 
size_t
 
	$mbowcs
 (
wch_t
 *
__ri
 
__pwcs
,

872 
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n

__THROW
;

874 
size_t
 
	$wcombs
 (*
__ri
 
__s
,

875 
__cڡ
 
wch_t
 *
__ri
 
__pwcs
, 
size_t
 
__n
)

876 
__THROW
;

877 
__END_NAMESPACE_STD


880 #ifde
__USE_SVID


885 
	$mch
 (
__cڡ
 *
__ڣ

__THROW
 
	`__nnu
 ((1)
__wur
;

889 #i
defed
 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


896 
	$gsubt
 (**
__ri
 
__tip
,

897 *
__cڡ
 *
__ri
 
__toks
,

898 **
__ri
 
__vu
)

899 
__THROW
 
	`__nnu
 ((1, 2, 3)
__wur
;

903 #ifde
__USE_XOPEN


905 
	$tkey
 (
__cڡ
 *
__key

__THROW
 
	`__nnu
 ((1));

911 #ifde
__USE_XOPEN2KXSI


913 
	$posix_ݒ
 (
__oag

__wur
;

916 #ifde
__USE_XOPEN


921 
	$g
 (
__fd

__THROW
;

925 
	$uock
 (
__fd

__THROW
;

930 *
	$ame
 (
__fd

__THROW
 
__wur
;

933 #ifde
__USE_GNU


937 
	$ame_r
 (
__fd
, *
__buf
, 
size_t
 
__bu
)

938 
__THROW
 
	`__nnu
 ((2));

941 
	`g
 ();

944 #ifde
__USE_BSD


948 
	$gldavg
 (
__ldavg
[], 
__m
)

949 
__THROW
 
	`__nnu
 ((1));

954 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


955 
	~<bs/dlib.h
>

957 #ifde
__LDBL_COMPAT


958 
	~<bs/dlib-ldbl.h
>

962 #unde
__ed_mloc_d_oc


964 
__END_DECLS


	@/usr/include/string.h

24 #idef 
_STRING_H


25 
	#_STRING_H
 1

	)

27 
	~<us.h
>

29 
	g__BEGIN_DECLS


32 
	#__ed_size_t


	)

33 
	#__ed_NULL


	)

34 
	~<ddef.h
>

37 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (4, 4)

38 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 
__BEGIN_NAMESPACE_STD


44 *
	$memy
 (*
__ri
 
__de
,

45 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

46 
__THROW
 
	`__nnu
 ((1, 2));

49 *
	$memmove
 (*
__de
, 
__cڡ
 *
__c
, 
size_t
 
__n
)

50 
__THROW
 
	`__nnu
 ((1, 2));

51 
__END_NAMESPACE_STD


56 #i
defed
 
__USE_SVID
 || defed 
__USE_BSD
 || defed 
__USE_XOPEN


57 *
	$memcy
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

58 
__c
, 
size_t
 
__n
)

59 
__THROW
 
	`__nnu
 ((1, 2));

63 
__BEGIN_NAMESPACE_STD


65 *
	$memt
 (*
__s
, 
__c
, 
size_t
 
__n

__THROW
 
	`__nnu
 ((1));

68 
	$memcmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
, 
size_t
 
__n
)

69 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

72 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


75 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

76 
__THROW
 
	`__asm
 ("memchr"
__ibu_pu__
 
	`__nnu
 ((1));

77 
__cڡ
 *
	`memchr
 (__cڡ *
__s
, 
__c
, 
size_t
 
__n
)

78 
__THROW
 
	`__asm
 ("memchr"
__ibu_pu__
 
	`__nnu
 ((1));

80 #ifde
__OPTIMIZE__


81 
__ex_ways_le
 *

82 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n

__THROW


84  
	`__but_memchr
 (
__s
, 
__c
, 
__n
);

87 
__ex_ways_le
 
__cڡ
 *

88 
	`memchr
 (
__cڡ
 *
__s
, 
__c
, 
size_t
 
__n

__THROW


90  
	`__but_memchr
 (
__s
, 
__c
, 
__n
);

93 
	}
}

95 *
	$memchr
 (
__cڡ
 *
__s
, 
__c
, 
size_t
 
__n
)

96 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

98 
__END_NAMESPACE_STD


100 #ifde
__USE_GNU


103 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


104 "C++" *
	$wmemchr
 (*
__s
, 
__c
)

105 
__THROW
 
	`__asm
 ("wmemchr"
__ibu_pu__
 
	`__nnu
 ((1));

106 "C++" 
__cڡ
 *
	$wmemchr
 (
__cڡ
 *
__s
, 
__c
)

107 
__THROW
 
	`__asm
 ("wmemchr"
__ibu_pu__
 
	`__nnu
 ((1));

109 *
	$wmemchr
 (
__cڡ
 *
__s
, 
__c
)

110 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

114 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


115 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

116 
__THROW
 
	`__asm
 ("memrchr"
__ibu_pu__
 
	`__nnu
 ((1));

117 "C++" 
__cڡ
 *
	$memrchr
 (
__cڡ
 *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
	`__asm
 ("memrchr"
__ibu_pu__
 
	`__nnu
 ((1));

120 *
	$memrchr
 (
__cڡ
 *
__s
, 
__c
, 
size_t
 
__n
)

121 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

126 
__BEGIN_NAMESPACE_STD


128 *
	$ry
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
)

129 
__THROW
 
	`__nnu
 ((1, 2));

131 *
	$y
 (*
__ri
 
__de
,

132 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

133 
__THROW
 
	`__nnu
 ((1, 2));

136 *
	$rt
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
)

137 
__THROW
 
	`__nnu
 ((1, 2));

139 *
	$t
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

140 
size_t
 
__n

__THROW
 
	`__nnu
 ((1, 2));

143 
	$rcmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
)

144 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

146 
	$cmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
, 
size_t
 
__n
)

147 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

150 
	$rcl
 (
__cڡ
 *
__s1
, __cڡ *
__s2
)

151 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

153 
size_t
 
	$rxm
 (*
__ri
 
__de
,

154 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

155 
__THROW
 
	`__nnu
 ((2));

156 
__END_NAMESPACE_STD


158 #ifde
__USE_XOPEN2K8


162 
	~<xlo.h
>

165 
	$rcl_l
 (
__cڡ
 *
__s1
, __cڡ *
__s2
, 
__lo_t
 
__l
)

166 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2, 3));

168 
size_t
 
	$rxm_l
 (*
__de
, 
__cڡ
 *
__c
, 
size_t
 
__n
,

169 
__lo_t
 
__l

__THROW
 
	`__nnu
 ((2, 4));

172 #i
defed
 
__USE_SVID
 || defed 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 \

173 || 
defed
 
__USE_XOPEN2K8


175 *
	$rdup
 (
__cڡ
 *
__s
)

176 
__THROW
 
__ibu_mloc__
 
	`__nnu
 ((1));

182 #i
defed
 
__USE_XOPEN2K8


183 *
	$dup
 (
__cڡ
 *
__rg
, 
size_t
 
__n
)

184 
__THROW
 
__ibu_mloc__
 
	`__nnu
 ((1));

187 #i
defed
 
__USE_GNU
 && defed 
__GNUC__


189 
	#rdu
(
s
) \

190 (
__exnsi__
 \

192 
__cڡ
 *
__d
 = (
s
); \

193 
size_t
 
__n
 = 
	`
 (
__d
) + 1; \

194 *
__w
 = (*
	`__but_lo
 (
__n
); \

195 (*
	`memy
 (
__w
, 
__d
, 
__n
); \

196 
	}
}))

	)

199 
	#du
(
s
, 
n
) \

200 (
__exnsi__
 \

202 
__cڡ
 *
__d
 = (
s
); \

203 
size_t
 
__n
 = 
	`n
 (
__d
, (
n
)); \

204 *
__w
 = (*
	`__but_lo
 (
__n
 + 1); \

205 
__w
[
__n
] = '\0'; \

206 (*
	`memy
 (
__w
, 
__d
, 
__n
); \

207 }))

	)

210 
	g__BEGIN_NAMESPACE_STD


212 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


215 *
rchr
 (*
__s
, 
__c
)

216 
__THROW
 
__asm
 ("rchr"
__ibu_pu__
 
__nnu
 ((1));

217 
__cڡ
 *
rchr
 (__cڡ *
__s
, 
__c
)

218 
__THROW
 
__asm
 ("rchr"
__ibu_pu__
 
__nnu
 ((1));

220 #ifde
__OPTIMIZE__


221 
__ex_ways_le
 *

222 
rchr
 (*
__s
, 
__c

	g__THROW


224  
__but_rchr
 (
__s
, 
__c
);

227 
__ex_ways_le
 
__cڡ
 *

228 
rchr
 (
__cڡ
 *
__s
, 
__c

	g__THROW


230  
__but_rchr
 (
__s
, 
__c
);

235 *
	$rchr
 (
__cڡ
 *
__s
, 
__c
)

236 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

239 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


242 *
	`chr
 (*
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("chr"
__ibu_pu__
 
	`__nnu
 ((1));

244 
__cڡ
 *
	`chr
 (__cڡ *
__s
, 
__c
)

245 
__THROW
 
	`__asm
 ("chr"
__ibu_pu__
 
	`__nnu
 ((1));

247 #ifde
__OPTIMIZE__


248 
__ex_ways_le
 *

249 
	`chr
 (*
__s
, 
__c

__THROW


251  
	`__but_chr
 (
__s
, 
__c
);

254 
__ex_ways_le
 
__cڡ
 *

255 
	`chr
 (
__cڡ
 *
__s
, 
__c

__THROW


257  
	`__but_chr
 (
__s
, 
__c
);

260 
	}
}

262 *
	$chr
 (
__cڡ
 *
__s
, 
__c
)

263 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

265 
__END_NAMESPACE_STD


267 #ifde
__USE_GNU


270 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


271 "C++" *
	$rchul
 (*
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("rchul"
__ibu_pu__
 
	`__nnu
 ((1));

273 "C++" 
__cڡ
 *
	$rchul
 (
__cڡ
 *
__s
, 
__c
)

274 
__THROW
 
	`__asm
 ("rchul"
__ibu_pu__
 
	`__nnu
 ((1));

276 *
	$rchul
 (
__cڡ
 *
__s
, 
__c
)

277 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

281 
__BEGIN_NAMESPACE_STD


284 
size_t
 
	$rcn
 (
__cڡ
 *
__s
, __cڡ *
__je
)

285 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

288 
size_t
 
	$rn
 (
__cڡ
 *
__s
, __cڡ *
__ac
)

289 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

291 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


294 *
	`brk
 (*
__s
, 
__cڡ
 *
__ac
)

295 
__THROW
 
	`__asm
 ("brk"
__ibu_pu__
 
	`__nnu
 ((1, 2));

296 
__cڡ
 *
	`brk
 (__cڡ *
__s
, __cڡ *
__ac
)

297 
__THROW
 
	`__asm
 ("brk"
__ibu_pu__
 
	`__nnu
 ((1, 2));

299 #ifde
__OPTIMIZE__


300 
__ex_ways_le
 *

301 
	`brk
 (*
__s
, 
__cڡ
 *
__ac

__THROW


303  
	`__but_brk
 (
__s
, 
__ac
);

306 
__ex_ways_le
 
__cڡ
 *

307 
	`brk
 (
__cڡ
 *
__s
, __cڡ *
__ac

__THROW


309  
	`__but_brk
 (
__s
, 
__ac
);

312 
	}
}

314 *
	$brk
 (
__cڡ
 *
__s
, __cڡ *
__ac
)

315 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

318 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


321 *
	`rr
 (*
__hayack
, 
__cڡ
 *
__ed
)

322 
__THROW
 
	`__asm
 ("rr"
__ibu_pu__
 
	`__nnu
 ((1, 2));

323 
__cڡ
 *
	`rr
 (__cڡ *
__hayack
,

324 
__cڡ
 *
__ed
)

325 
__THROW
 
	`__asm
 ("rr"
__ibu_pu__
 
	`__nnu
 ((1, 2));

327 #ifde
__OPTIMIZE__


328 
__ex_ways_le
 *

329 
	`rr
 (*
__hayack
, 
__cڡ
 *
__ed

__THROW


331  
	`__but_rr
 (
__hayack
, 
__ed
);

334 
__ex_ways_le
 
__cڡ
 *

335 
	`rr
 (
__cڡ
 *
__hayack
, __cڡ *
__ed

__THROW


337  
	`__but_rr
 (
__hayack
, 
__ed
);

340 
	}
}

342 *
	$rr
 (
__cڡ
 *
__hayack
, __cڡ *
__ed
)

343 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

348 *
	$ok
 (*
__ri
 
__s
, 
__cڡ
 *__ri 
__dim
)

349 
__THROW
 
	`__nnu
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__ok_r
 (*
__ri
 
__s
,

355 
__cڡ
 *
__ri
 
__dim
,

356 **
__ri
 
__ve_r
)

357 
__THROW
 
	`__nnu
 ((2, 3));

358 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


359 *
	$ok_r
 (*
__ri
 
__s
, 
__cڡ
 *__ri 
__dim
,

360 **
__ri
 
__ve_r
)

361 
__THROW
 
	`__nnu
 ((2, 3));

364 #ifde
__USE_GNU


366 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$rr
 (*
__hayack
, 
__cڡ
 *
__ed
)

368 
__THROW
 
	`__asm
 ("rr"
__ibu_pu__
 
	`__nnu
 ((1, 2));

369 "C++" 
__cڡ
 *
	$rr
 (
__cڡ
 *
__hayack
,

370 
__cڡ
 *
__ed
)

371 
__THROW
 
	`__asm
 ("rr"
__ibu_pu__
 
	`__nnu
 ((1, 2));

373 *
	$rr
 (
__cڡ
 *
__hayack
, __cڡ *
__ed
)

374 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

378 #ifde
__USE_GNU


382 *
	$memmem
 (
__cڡ
 *
__hayack
, 
size_t
 
__hayackn
,

383 
__cڡ
 *
__ed
, 
size_t
 
__edn
)

384 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 3));

388 *
	$__mempy
 (*
__ri
 
__de
,

389 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

390 
__THROW
 
	`__nnu
 ((1, 2));

391 *
	$mempy
 (*
__ri
 
__de
,

392 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

393 
__THROW
 
	`__nnu
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$
 (
__cڡ
 *
__s
)

400 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$n
 (
__cڡ
 *
__rg
, 
size_t
 
__maxn
)

407 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$
 (
__um

__THROW
;

414 
__END_NAMESPACE_STD


415 #i
defed
 
__USE_XOPEN2K
 || defed 
__USE_MISC


423 #i
defed
 
__USE_XOPEN2K
 && !defed 
__USE_GNU


426 #ifde
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
_r
,

428 (
__um
, *
__buf
, 
size_t
 
__bu
),

429 
__xpg__r

	`__nnu
 ((2));

431 
	$__xpg__r
 (
__um
, *
__buf
, 
size_t
 
__bu
)

432 
__THROW
 
	`__nnu
 ((2));

433 
	#_r
 
__xpg__r


	)

438 *
	$_r
 (
__um
, *
__buf
, 
size_t
 
__bu
)

439 
__THROW
 
	`__nnu
 ((2));

443 #ifde
__USE_XOPEN2K8


445 *
	$_l
 (
__um
, 
__lo_t
 
__l

__THROW
;

451 
	$__bzo
 (*
__s
, 
size_t
 
__n

__THROW
 
	`__nnu
 ((1));

453 #ifde
__USE_BSD


455 
	$bcy
 (
__cڡ
 *
__c
, *
__de
, 
size_t
 
__n
)

456 
__THROW
 
	`__nnu
 ((1, 2));

459 
	$bzo
 (*
__s
, 
size_t
 
__n

__THROW
 
	`__nnu
 ((1));

462 
	$bcmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

466 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`dex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("dex"
__ibu_pu__
 
	`__nnu
 ((1));

471 
__cڡ
 *
	`dex
 (__cڡ *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("dex"
__ibu_pu__
 
	`__nnu
 ((1));

474 #i
defed
 
__OPTIMIZE__
 && !defed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__ex_ways_le
 *

476 
	`dex
 (*
__s
, 
__c

__THROW


478  
	`__but_dex
 (
__s
, 
__c
);

481 
__ex_ways_le
 
__cڡ
 *

482 
	`dex
 (
__cڡ
 *
__s
, 
__c

__THROW


484  
	`__but_dex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$dex
 (
__cڡ
 *
__s
, 
__c
)

490 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

494 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`rdex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("rdex"
__ibu_pu__
 
	`__nnu
 ((1));

499 
__cڡ
 *
	`rdex
 (__cڡ *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("rdex"
__ibu_pu__
 
	`__nnu
 ((1));

502 #i
defed
 
__OPTIMIZE__
 && !defed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__ex_ways_le
 *

504 
	`rdex
 (*
__s
, 
__c

__THROW


506  
	`__but_rdex
 (
__s
, 
__c
);

509 
__ex_ways_le
 
__cڡ
 *

510 
	`rdex
 (
__cڡ
 *
__s
, 
__c

__THROW


512  
	`__but_rdex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$rdex
 (
__cڡ
 *
__s
, 
__c
)

518 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1));

523 
	$ffs
 (
__i

__THROW
 
	`__ibu__
 ((
__cڡ__
));

527 #ifdef 
__USE_GNU


528 
	$ff
 (
__l

__THROW
 
	`__ibu__
 ((
__cڡ__
));

529 #ifde
__GNUC__


530 
__exnsi__
 
	$ffl
 (
__
)

531 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

536 
	$rcmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
)

537 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

540 
	$cmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
, 
size_t
 
__n
)

541 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

544 #ifdef 
__USE_GNU


547 
	$rcmp_l
 (
__cڡ
 *
__s1
, __cڡ *
__s2
,

548 
__lo_t
 
__loc
)

549 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2, 3));

551 
	$cmp_l
 (
__cڡ
 *
__s1
, __cڡ *
__s2
,

552 
size_t
 
__n
, 
__lo_t
 
__loc
)

553 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2, 4));

556 #ifdef 
__USE_BSD


559 *
	$rp
 (**
__ri
 
__rgp
,

560 
__cڡ
 *
__ri
 
__dim
)

561 
__THROW
 
	`__nnu
 ((1, 2));

564 #ifdef 
__USE_XOPEN2K8


566 *
	$rsigl
 (
__sig

__THROW
;

569 *
	$__py
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
)

570 
__THROW
 
	`__nnu
 ((1, 2));

571 *
	$py
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
)

572 
__THROW
 
	`__nnu
 ((1, 2));

576 *
	$__y
 (*
__ri
 
__de
,

577 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

578 
__THROW
 
	`__nnu
 ((1, 2));

579 *
	$y
 (*
__ri
 
__de
,

580 
__cڡ
 *
__ri
 
__c
, 
size_t
 
__n
)

581 
__THROW
 
	`__nnu
 ((1, 2));

584 #ifdef 
__USE_GNU


586 
	$rvscmp
 (
__cڡ
 *
__s1
, __cڡ *
__s2
)

587 
__THROW
 
__ibu_pu__
 
	`__nnu
 ((1, 2));

590 *
	$ry
 (*
__rg

__THROW
 
	`__nnu
 ((1));

593 *
	$memob
 (*
__s
, 
size_t
 
__n

__THROW
 
	`__nnu
 ((1));

595 #ide
bame


600 #ifde
__CORRECT_ISO_CPP_STRING_H_PROTO


601 "C++" *
	$bame
 (*
__fame
)

602 
__THROW
 
	`__asm
 ("bame"
	`__nnu
 ((1));

603 "C++" 
__cڡ
 *
	$bame
 (
__cڡ
 *
__fame
)

604 
__THROW
 
	`__asm
 ("bame"
	`__nnu
 ((1));

606 *
	$bame
 (
__cڡ
 *
__fame

__THROW
 
	`__nnu
 ((1));

612 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

613 #i
defed
 
__OPTIMIZE__
 && !defed 
__OPTIMIZE_SIZE__
 \

614 && !
defed
 
__NO_INLINE__
 && !defed 
__lulus


634 
	~<bs/rg.h
>

637 
	~<bs/rg2.h
>

640 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


642 
	~<bs/rg3.h
>

646 
__END_DECLS


	@/usr/include/sys/ioctl.h

19 #idef 
_SYS_IOCTL_H


20 
	#_SYS_IOCTL_H
 1

	)

22 
	~<us.h
>

24 
	g__BEGIN_DECLS


27 
	~<bs/iols.h
>

30 
	~<bs/iol-tys.h
>

37 
	~<sys/ydeus.h
>

42 
	$iol
 (
__fd
, 
__que
, ...
__THROW
;

44 
__END_DECLS


	@/usr/include/sys/ipc.h

19 #ide
_SYS_IPC_H


20 
	#_SYS_IPC_H
 1

	)

22 
	~<us.h
>

24 #i!
defed
 
__USE_SVID
 && !defed 
__USE_XOPEN
 && 
__GNUC__
 >= 2

29 
	~<bs/ys.h
>

30 
	~<bs/c.h
>

32 #ide
__uid_t_defed


33 
__uid_t
 
	tuid_t
;

34 
	#__uid_t_defed


	)

37 #ide
__gid_t_defed


38 
__gid_t
 
	tgid_t
;

39 
	#__gid_t_defed


	)

42 #ide
__mode_t_defed


43 
__mode_t
 
	tmode_t
;

44 
	#__mode_t_defed


	)

47 #ide
__key_t_defed


48 
__key_t
 
	tkey_t
;

49 
	#__key_t_defed


	)

52 
__BEGIN_DECLS


55 
key_t
 
	$ok
 (
__cڡ
 *
__thme
, 
__oj_id

__THROW
;

57 
__END_DECLS


	@/usr/include/sys/msg.h

20 #ide
_SYS_MSG_H


21 
	#_SYS_MSG_H


	)

23 
	~<us.h
>

25 
	#__ed_size_t


	)

26 
	~<ddef.h
>

29 
	~<sys/c.h
>

32 
	~<bs/msq.h
>

35 
	#__ed_time_t


	)

36 
	~<time.h
>

38 #ide
__pid_t_defed


39 
__pid_t
 
	tpid_t
;

40 
	#__pid_t_defed


	)

43 #ide
__ssize_t_defed


44 
__ssize_t
 
	tssize_t
;

45 
	#__ssize_t_defed


	)

51 #ifde
__USE_GNU


53 
	smsgbuf


55 
	mmty
;

56 
	mmxt
[1];

61 
__BEGIN_DECLS


64 
	$msgl
 (
__msqid
, 
__cmd
, 
msqid_ds
 *
__buf

__THROW
;

67 
	$msgg
 (
key_t
 
__key
, 
__msgg

__THROW
;

73 
ssize_t
 
	`msgrcv
 (
__msqid
, *
__msgp
, 
size_t
 
__msgsz
,

74 
__msgtyp
, 
__msgg
);

80 
	`msgd
 (
__msqid
, 
__cڡ
 *
__msgp
, 
size_t
 
__msgsz
,

81 
__msgg
);

83 
__END_DECLS


	@/usr/include/sys/shm.h

19 #ide
_SYS_SHM_H


20 
	#_SYS_SHM_H
 1

	)

22 
	~<us.h
>

24 
	#__ed_size_t


	)

25 
	~<ddef.h
>

28 
	~<sys/c.h
>

31 
	~<bs/shm.h
>

34 
	#__ed_time_t


	)

35 
	~<time.h
>

37 #ifde
__USE_XOPEN


38 #ide
__pid_t_defed


39 
__pid_t
 
	tpid_t
;

40 
	#__pid_t_defed


	)

45 
__BEGIN_DECLS


51 
	$shml
 (
__shmid
, 
__cmd
, 
shmid_ds
 *
__buf

__THROW
;

54 
	$shmg
 (
key_t
 
__key
, 
size_t
 
__size
, 
__shmg

__THROW
;

57 *
	$shm
 (
__shmid
, 
__cڡ
 *
__shmaddr
, 
__shmg
)

58 
__THROW
;

61 
	$shmdt
 (
__cڡ
 *
__shmaddr

__THROW
;

63 
__END_DECLS


	@/usr/include/sys/socket.h

21 #idef 
_SYS_SOCKET_H


22 
	#_SYS_SOCKET_H
 1

	)

24 
	~<us.h
>

26 
	g__BEGIN_DECLS


28 
	~<sys/uio.h
>

29 
	#__ed_size_t


	)

30 
	~<ddef.h
>

31 #ifde
__USE_GNU


33 
	~<bs/sigt.h
>

40 
	~<bs/sock.h
>

42 #ifde
__USE_BSD


45 
	sosockaddr


47 
	m_my
;

48 
	m_da
[14];

56 
	mSHUT_RD
 = 0,

57 
	#SHUT_RD
 
SHUT_RD


	)

58 
	mSHUT_WR
,

59 
	#SHUT_WR
 
SHUT_WR


	)

60 
	mSHUT_RDWR


61 
	#SHUT_RDWR
 
SHUT_RDWR


	)

70 #i
defed
 
__lulus
 || !
__GNUC_PREREQ
 (2, 7|| !defed 
__USE_GNU


71 
	#__SOCKADDR_ARG
 
sockaddr
 *
__ri


	)

72 
	#__CONST_SOCKADDR_ARG
 
__cڡ
 
sockaddr
 *

	)

76 
	#__SOCKADDR_ALLTYPES
 \

77 
	`__SOCKADDR_ONETYPE
 (
sockaddr
) \

78 
	`__SOCKADDR_ONETYPE
 (
sockaddr_
) \

79 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ax25
) \

80 
	`__SOCKADDR_ONETYPE
 (
sockaddr_dl
) \

81 
	`__SOCKADDR_ONETYPE
 (
sockaddr_e
) \

82 
	`__SOCKADDR_ONETYPE
 (
sockaddr_
) \

83 
	`__SOCKADDR_ONETYPE
 (
sockaddr_6
) \

84 
	`__SOCKADDR_ONETYPE
 (
sockaddr_p
) \

85 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x
) \

86 
	`__SOCKADDR_ONETYPE
 (
sockaddr_iso
) \

87 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ns
) \

88 
	`__SOCKADDR_ONETYPE
 (
sockaddr_un
) \

89 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x25
)

	)

91 
	#__SOCKADDR_ONETYPE
(
ty
ty *
__ri
 
__
##ty##__;

	)

92 uni { 
	m__SOCKADDR_ALLTYPES


93 } 
	t__SOCKADDR_ARG
 
	t__ibu__
 ((
	t__t_uni__
));

94 #unde
__SOCKADDR_ONETYPE


95 
	#__SOCKADDR_ONETYPE
(
ty

__cڡ
 ty *
__ri
 
__
##ty##__;

	)

96 uni { 
	m__SOCKADDR_ALLTYPES


97 } 
	t__CONST_SOCKADDR_ARG
 
	t__ibu__
 ((
	t__t_uni__
));

98 #unde
__SOCKADDR_ONETYPE


105 
	$sock
 (
__doma
, 
__ty
, 
__oc

__THROW
;

111 
	$sock
 (
__doma
, 
__ty
, 
__oc
,

112 
__fds
[2]
__THROW
;

115 
	$bd
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockn_t
 
__n
)

116 
__THROW
;

119 
	$gsockme
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

120 
sockn_t
 *
__ri
 
__n

__THROW
;

129 
	`c
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockn_t
 
__n
);

133 
	$gme
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

134 
sockn_t
 *
__ri
 
__n

__THROW
;

141 
ssize_t
 
	`nd
 (
__fd
, 
__cڡ
 *
__buf
, 
size_t
 
__n
, 
__ags
);

148 
ssize_t
 
	`cv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__ags
);

155 
ssize_t
 
	`ndto
 (
__fd
, 
__cڡ
 *
__buf
, 
size_t
 
__n
,

156 
__ags
, 
__CONST_SOCKADDR_ARG
 
__addr
,

157 
sockn_t
 
__addr_n
);

166 
ssize_t
 
	`cvom
 (
__fd
, *
__ri
 
__buf
, 
size_t
 
__n
,

167 
__ags
, 
__SOCKADDR_ARG
 
__addr
,

168 
sockn_t
 *
__ri
 
__addr_n
);

176 
ssize_t
 
	`ndmsg
 (
__fd
, 
__cڡ
 
msghdr
 *
__mesge
,

177 
__ags
);

184 
ssize_t
 
	`cvmsg
 (
__fd
, 
msghdr
 *
__mesge
, 
__ags
);

190 
	$gsockt
 (
__fd
, 
__v
, 
__݊ame
,

191 *
__ri
 
__tv
,

192 
sockn_t
 *
__ri
 
__ݎ

__THROW
;

197 
	$tsockt
 (
__fd
, 
__v
, 
__݊ame
,

198 
__cڡ
 *
__tv
, 
sockn_t
 
__ݎ

__THROW
;

204 
	$li
 (
__fd
, 
__n

__THROW
;

214 
	`ac
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

215 
sockn_t
 *
__ri
 
__addr_n
);

217 #ifde
__USE_GNU


222 
	`ac4
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

223 
sockn_t
 *
__ri
 
__addr_n
, 
__ags
);

232 
	$shutdown
 (
__fd
, 
__how

__THROW
;

235 #ifde
__USE_XOPEN2K


237 
	$sockmk
 (
__fd

__THROW
;

241 #ifde
__USE_MISC


245 
	$isfdty
 (
__fd
, 
__fdty

__THROW
;

250 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


251 
	~<bs/sock2.h
>

254 
__END_DECLS


	@/usr/include/sys/stat.h

24 #idef 
_SYS_STAT_H


25 
	#_SYS_STAT_H
 1

	)

27 
	~<us.h
>

29 
	~<bs/tys.h
>

31 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K
 || defed 
__USE_MISC
 \

32 || 
defed
 
	g__USE_ATFILE


33 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K


34 
	#__ed_time_t


	)

36 #i
defed
 
__USE_MISC
 || defed 
__USE_ATFILE


37 
	#__ed_timeec


	)

39 
	~<time.h
>

42 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K


45 #ide
__dev_t_defed


46 
__dev_t
 
	tdev_t
;

47 
	#__dev_t_defed


	)

50 #ide
__gid_t_defed


51 
__gid_t
 
	tgid_t
;

52 
	#__gid_t_defed


	)

55 #ide
__o_t_defed


56 #ide
__USE_FILE_OFFSET64


57 
__o_t
 
	to_t
;

59 
__o64_t
 
	to_t
;

61 
	#__o_t_defed


	)

64 #ide
__mode_t_defed


65 
__mode_t
 
	tmode_t
;

66 
	#__mode_t_defed


	)

69 #ide
__ƚk_t_defed


70 
__ƚk_t
 
	tƚk_t
;

71 
	#__ƚk_t_defed


	)

74 #ide
__off_t_defed


75 #ide
__USE_FILE_OFFSET64


76 
__off_t
 
	toff_t
;

78 
__off64_t
 
	toff_t
;

80 
	#__off_t_defed


	)

83 #ide
__uid_t_defed


84 
__uid_t
 
	tuid_t
;

85 
	#__uid_t_defed


	)

89 #ifde
__USE_UNIX98


90 #ide
__blkt_t_defed


91 #ide
__USE_FILE_OFFSET64


92 
__blkt_t
 
	tblkt_t
;

94 
__blkt64_t
 
	tblkt_t
;

96 
	#__blkt_t_defed


	)

99 #ide
__blksize_t_defed


100 
__blksize_t
 
	tblksize_t
;

101 
	#__blksize_t_defed


	)

105 
	g__BEGIN_DECLS


107 
	~<bs/.h
>

109 #i
defed
 
__USE_BSD
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN


110 
	#S_IFMT
 
__S_IFMT


	)

111 
	#S_IFDIR
 
__S_IFDIR


	)

112 
	#S_IFCHR
 
__S_IFCHR


	)

113 
	#S_IFBLK
 
__S_IFBLK


	)

114 
	#S_IFREG
 
__S_IFREG


	)

115 #ifde
__S_IFIFO


116 
	#S_IFIFO
 
__S_IFIFO


	)

118 #ifde
__S_IFLNK


119 
	#S_IFLNK
 
__S_IFLNK


	)

121 #i(
defed
 
__USE_BSD
 || defed 
__USE_MISC
 || defed 
__USE_UNIX98
) \

122 && 
defed
 
	g__S_IFSOCK


123 
	#S_IFSOCK
 
__S_IFSOCK


	)

129 
	#__S_ISTYPE
(
mode
, 
mask
(((mode& 
__S_IFMT
=(mask))

	)

131 
	#S_ISDIR
(
mode

	`__S_ISTYPE
((mode), 
__S_IFDIR
)

	)

132 
	#S_ISCHR
(
mode

	`__S_ISTYPE
((mode), 
__S_IFCHR
)

	)

133 
	#S_ISBLK
(
mode

	`__S_ISTYPE
((mode), 
__S_IFBLK
)

	)

134 
	#S_ISREG
(
mode

	`__S_ISTYPE
((mode), 
__S_IFREG
)

	)

135 #ifde
__S_IFIFO


136 
	#S_ISFIFO
(
mode

	`__S_ISTYPE
((mode), 
__S_IFIFO
)

	)

138 #ifde
__S_IFLNK


139 
	#S_ISLNK
(
mode

	`__S_ISTYPE
((mode), 
__S_IFLNK
)

	)

142 #i
defed
 
__USE_BSD
 && !defed 
__S_IFLNK


143 
	#S_ISLNK
(
mode
0

	)

146 #i(
defed
 
__USE_BSD
 || defed 
__USE_UNIX98
 || defed 
__USE_XOPEN2K
) \

147 && 
defed
 
	g__S_IFSOCK


148 
	#S_ISSOCK
(
mode

	`__S_ISTYPE
((mode), 
__S_IFSOCK
)

	)

149 #i
defed
 
__USE_XOPEN2K


150 
	#S_ISSOCK
(
mode
0

	)

157 #ifdef 
__USE_POSIX199309


158 
	#S_TYPEISMQ
(
buf

	`__S_TYPEISMQ
(buf)

	)

159 
	#S_TYPEISSEM
(
buf

	`__S_TYPEISSEM
(buf)

	)

160 
	#S_TYPEISSHM
(
buf

	`__S_TYPEISSHM
(buf)

	)

166 
	#S_ISUID
 
__S_ISUID


	)

167 
	#S_ISGID
 
__S_ISGID


	)

169 #i
defed
 
__USE_BSD
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN


171 
	#S_ISVTX
 
__S_ISVTX


	)

174 
	#S_IRUSR
 
__S_IREAD


	)

175 
	#S_IWUSR
 
__S_IWRITE


	)

176 
	#S_IXUSR
 
__S_IEXEC


	)

178 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

180 #i
defed
 
__USE_MISC
 && defed 
__USE_BSD


181 
	#S_IREAD
 
S_IRUSR


	)

182 
	#S_IWRITE
 
S_IWUSR


	)

183 
	#S_IEXEC
 
S_IXUSR


	)

186 
	#S_IRGRP
 (
S_IRUSR
 >> 3

	)

187 
	#S_IWGRP
 (
S_IWUSR
 >> 3

	)

188 
	#S_IXGRP
 (
S_IXUSR
 >> 3

	)

190 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

192 
	#S_IROTH
 (
S_IRGRP
 >> 3

	)

193 
	#S_IWOTH
 (
S_IWGRP
 >> 3

	)

194 
	#S_IXOTH
 (
S_IXGRP
 >> 3

	)

196 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

199 #ifdef 
__USE_BSD


201 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO


	)

202 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISVTX
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

203 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

205 
	#S_BLKSIZE
 512

	)

209 #ide
__USE_FILE_OFFSET64


211 
	$
 (
__cڡ
 *
__ri
 
__fe
,

212 

 *
__ri
 
__buf

__THROW
 
	`__nnu
 ((1, 2));

216 
	$f
 (
__fd
, 

 *
__buf

__THROW
 
	`__nnu
 ((2));

218 #ifde
__REDIRECT_NTH


219 
	`__REDIRECT_NTH
 (

, (
__cڡ
 *
__ri
 
__fe
,

220 

 *
__ri
 
__buf
), 
64
)

221 
	`__nnu
 ((1, 2));

222 
	`__REDIRECT_NTH
 (
f
, (
__fd
, 

 *
__buf
), 
f64
)

223 
	`__nnu
 ((2));

225 
	#
 
64


	)

226 
	#f
 
f64


	)

229 #ifde
__USE_LARGEFILE64


230 
	$64
 (
__cڡ
 *
__ri
 
__fe
,

231 
64
 *
__ri
 
__buf

__THROW
 
	`__nnu
 ((1, 2));

232 
	$f64
 (
__fd
, 
64
 *
__buf

__THROW
 
	`__nnu
 ((2));

235 #ifde
__USE_ATFILE


239 #ide
__USE_FILE_OFFSET64


240 
	$f
 (
__fd
, 
__cڡ
 *
__ri
 
__fe
,

241 

 *
__ri
 
__buf
, 
__ag
)

242 
__THROW
 
	`__nnu
 ((2, 3));

244 #ifde
__REDIRECT_NTH


245 
	`__REDIRECT_NTH
 (
f
, (
__fd
, 
__cڡ
 *
__ri
 
__fe
,

246 

 *
__ri
 
__buf
,

247 
__ag
),

248 
f64

	`__nnu
 ((2, 3));

250 
	#f
 
f64


	)

254 #ifde
__USE_LARGEFILE64


255 
	$f64
 (
__fd
, 
__cڡ
 *
__ri
 
__fe
,

256 
64
 *
__ri
 
__buf
, 
__ag
)

257 
__THROW
 
	`__nnu
 ((2, 3));

261 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K


262 #ide
__USE_FILE_OFFSET64


265 
	$l
 (
__cڡ
 *
__ri
 
__fe
,

266 

 *
__ri
 
__buf

__THROW
 
	`__nnu
 ((1, 2));

268 #ifde
__REDIRECT_NTH


269 
	`__REDIRECT_NTH
 (
l
,

270 (
__cڡ
 *
__ri
 
__fe
,

271 

 *
__ri
 
__buf
), 
l64
)

272 
	`__nnu
 ((1, 2));

274 
	#l
 
l64


	)

277 #ifde
__USE_LARGEFILE64


278 
	$l64
 (
__cڡ
 *
__ri
 
__fe
,

279 
64
 *
__ri
 
__buf
)

280 
__THROW
 
	`__nnu
 ((1, 2));

286 
	$chmod
 (
__cڡ
 *
__fe
, 
__mode_t
 
__mode
)

287 
__THROW
 
	`__nnu
 ((1));

289 #ifde
__USE_BSD


293 
	$lchmod
 (
__cڡ
 *
__fe
, 
__mode_t
 
__mode
)

294 
__THROW
 
	`__nnu
 ((1));

298 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


299 
	$fchmod
 (
__fd
, 
__mode_t
 
__mode

__THROW
;

302 #ifde
__USE_ATFILE


305 
	$fchmod
 (
__fd
, 
__cڡ
 *
__fe
, 
__mode_t
 
__mode
,

306 
__ag
)

307 
__THROW
 
	`__nnu
 ((2)
__wur
;

314 
__mode_t
 
	$umask
 (
__mode_t
 
__mask

__THROW
;

316 #ifdef 
__USE_GNU


319 
__mode_t
 
	$gumask
 (
__THROW
;

323 
	$mkd
 (
__cڡ
 *
__th
, 
__mode_t
 
__mode
)

324 
__THROW
 
	`__nnu
 ((1));

326 #ifde
__USE_ATFILE


330 
	$mkd
 (
__fd
, 
__cڡ
 *
__th
, 
__mode_t
 
__mode
)

331 
__THROW
 
	`__nnu
 ((2));

337 #i
defed
 
__USE_MISC
 || defed 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


338 
	$mknod
 (
__cڡ
 *
__th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
)

339 
__THROW
 
	`__nnu
 ((1));

341 #ifde
__USE_ATFILE


345 
	$mknod
 (
__fd
, 
__cڡ
 *
__th
, 
__mode_t
 
__mode
,

346 
__dev_t
 
__dev

__THROW
 
	`__nnu
 ((2));

352 
	$mkfifo
 (
__cڡ
 *
__th
, 
__mode_t
 
__mode
)

353 
__THROW
 
	`__nnu
 ((1));

355 #ifde
__USE_ATFILE


359 
	$mkfift
 (
__fd
, 
__cڡ
 *
__th
, 
__mode_t
 
__mode
)

360 
__THROW
 
	`__nnu
 ((2));

363 #ifde
__USE_ATFILE


366 
	$utimt
 (
__fd
, 
__cڡ
 *
__th
,

367 
__cڡ
 
timeec
 
__times
[2],

368 
__ags
)

369 
__THROW
 
	`__nnu
 ((2));

372 #ifde
__USE_XOPEN2K8


374 
	$futims
 (
__fd
, 
__cڡ
 
timeec
 
__times
[2]
__THROW
;

392 #ide
_STAT_VER


393 
	#_STAT_VER
 0

	)

395 #ide
_MKNOD_VER


396 
	#_MKNOD_VER
 0

	)

400 #ide
__USE_FILE_OFFSET64


401 
	$__fx
 (
__v
, 
__fdes
, 

 *
___buf
)

402 
__THROW
 
	`__nnu
 ((3));

403 
	$__x
 (
__v
, 
__cڡ
 *
__fame
,

404 

 *
___buf

__THROW
 
	`__nnu
 ((2, 3));

405 
	$__lx
 (
__v
, 
__cڡ
 *
__fame
,

406 

 *
___buf

__THROW
 
	`__nnu
 ((2, 3));

407 
	$__fx
 (
__v
, 
__fdes
, 
__cڡ
 *
__fame
,

408 

 *
___buf
, 
__ag
)

409 
__THROW
 
	`__nnu
 ((3, 4));

411 #ifde
__REDIRECT_NTH


412 
	`__REDIRECT_NTH
 (
__fx
, (
__v
, 
__fdes
,

413 

 *
___buf
), 
__fx64
)

414 
	`__nnu
 ((3));

415 
	`__REDIRECT_NTH
 (
__x
, (
__v
, 
__cڡ
 *
__fame
,

416 

 *
___buf
), 
__x64
)

417 
	`__nnu
 ((2, 3));

418 
	`__REDIRECT_NTH
 (
__lx
, (
__v
, 
__cڡ
 *
__fame
,

419 

 *
___buf
), 
__lx64
)

420 
	`__nnu
 ((2, 3));

421 
	`__REDIRECT_NTH
 (
__fx
, (
__v
, 
__fdes
,

422 
__cڡ
 *
__fame
,

423 

 *
___buf
, 
__ag
),

424 
__fx64

	`__nnu
 ((3, 4));

427 
	#__fx
 
__fx64


	)

428 
	#__x
 
__x64


	)

429 
	#__lx
 
__lx64


	)

433 #ifde
__USE_LARGEFILE64


434 
	$__fx64
 (
__v
, 
__fdes
, 
64
 *
___buf
)

435 
__THROW
 
	`__nnu
 ((3));

436 
	$__x64
 (
__v
, 
__cڡ
 *
__fame
,

437 
64
 *
___buf

__THROW
 
	`__nnu
 ((2, 3));

438 
	$__lx64
 (
__v
, 
__cڡ
 *
__fame
,

439 
64
 *
___buf

__THROW
 
	`__nnu
 ((2, 3));

440 
	$__fx64
 (
__v
, 
__fdes
, 
__cڡ
 *
__fame
,

441 
64
 *
___buf
, 
__ag
)

442 
__THROW
 
	`__nnu
 ((3, 4));

444 
	$__xmknod
 (
__v
, 
__cڡ
 *
__th
, 
__mode_t
 
__mode
,

445 
__dev_t
 *
__dev

__THROW
 
	`__nnu
 ((2, 4));

447 
	$__xmknod
 (
__v
, 
__fd
, 
__cڡ
 *
__th
,

448 
__mode_t
 
__mode
, 
__dev_t
 *
__dev
)

449 
__THROW
 
	`__nnu
 ((3, 5));

451 #i
defed
 
__GNUC__
 && __GNUC__ >2 && defed 
__USE_EXTERN_INLINES_IN_LIBC


454 
__ex_le
 

455 
	`__NTH
 (
	$
 (
__cڡ
 *
__th
, 

 *
__buf
))

457  
	`__x
 (
_STAT_VER
, 
__th
, 
__buf
);

458 
	}
}

460 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


461 
__ex_le
 

462 
__NTH
 (
	$l
 (
__cڡ
 *
__th
, 

 *
__buf
))

464  
	`__lx
 (
_STAT_VER
, 
__th
, 
__buf
);

465 
	}
}

468 
__ex_le
 

469 
__NTH
 (
	$f
 (
__fd
, 

 *
__buf
))

471  
	`__fx
 (
_STAT_VER
, 
__fd
, 
__buf
);

472 
	}
}

474 #ifde
__USE_ATFILE


475 
__ex_le
 

476 
__NTH
 (
	$f
 (
__fd
, 
__cڡ
 *
__fame
, 

 *
__buf
,

477 
__ag
))

479  
	`__fx
 (
_STAT_VER
, 
__fd
, 
__fame
, 
__buf
, 
__ag
);

480 
	}
}

483 #i
defed
 
__USE_MISC
 || defed 
__USE_BSD


484 
__ex_le
 

485 
__NTH
 (
	$mknod
 (
__cڡ
 *
__th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
))

487  
	`__xmknod
 (
_MKNOD_VER
, 
__th
, 
__mode
, &
__dev
);

488 
	}
}

491 #ifde
__USE_ATFILE


492 
__ex_le
 

493 
__NTH
 (
	$mknod
 (
__fd
, 
__cڡ
 *
__th
, 
__mode_t
 
__mode
,

494 
__dev_t
 
__dev
))

496  
	`__xmknod
 (
_MKNOD_VER
, 
__fd
, 
__th
, 
__mode
, &
__dev
);

497 
	}
}

500 #i
defed
 
__USE_LARGEFILE64
 \

501 && (! 
defed
 
	g__USE_FILE_OFFSET64
 \

502 || (
defed
 
	g__REDIRECT_NTH
 && defed 
	g__OPTIMIZE__
))

503 
__ex_le
 

504 
__NTH
 (
	$64
 (
__cڡ
 *
__th
, 
64
 *
__buf
))

506  
	`__x64
 (
_STAT_VER
, 
__th
, 
__buf
);

507 
	}
}

509 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


510 
__ex_le
 

511 
__NTH
 (
	$l64
 (
__cڡ
 *
__th
, 
64
 *
__buf
))

513  
	`__lx64
 (
_STAT_VER
, 
__th
, 
__buf
);

514 
	}
}

517 
__ex_le
 

518 
__NTH
 (
	$f64
 (
__fd
, 
64
 *
__buf
))

520  
	`__fx64
 (
_STAT_VER
, 
__fd
, 
__buf
);

521 
	}
}

523 #ifde
__USE_ATFILE


524 
__ex_le
 

525 
__NTH
 (
	$f64
 (
__fd
, 
__cڡ
 *
__fame
, 
64
 *
__buf
,

526 
__ag
))

528  
	`__fx64
 (
_STAT_VER
, 
__fd
, 
__fame
, 
__buf
, 
__ag
);

529 
	}
}

536 
	g__END_DECLS


	@/usr/include/sys/time.h

20 #ide
_SYS_TIME_H


21 
	#_SYS_TIME_H
 1

	)

23 
	~<us.h
>

25 
	~<bs/tys.h
>

26 
	#__ed_time_t


	)

27 
	~<time.h
>

28 
	#__ed_timev


	)

29 
	~<bs/time.h
>

31 
	~<sys/.h
>

33 #ide
__sucds_t_defed


34 
__sucds_t
 
	tsucds_t
;

35 
	#__sucds_t_defed


	)

39 
	g__BEGIN_DECLS


41 #ifde
__USE_GNU


43 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) { \

44 (
ts
)->
tv_c
 = (
tv
)->tv_sec; \

45 (
ts
)->
tv_nc
 = (
tv
)->
tv_uc
 * 1000; \

46 }

	)

47 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

48 (
tv
)->
tv_c
 = (
ts
)->tv_sec; \

49 (
tv
)->
tv_uc
 = (
ts
)->
tv_nc
 / 1000; \

50 }

	)

54 #ifde
__USE_BSD


57 
	stimeze


59 
	mtz_muswe
;

60 
	mtz_dtime
;

63 
timeze
 *
	t__ri
 
	t__timeze_r_t
;

65 *
	t__ri
 
	t__timeze_r_t
;

73 
	$gtimeofday
 (
timev
 *
__ri
 
__tv
,

74 
__timeze_r_t
 
__tz

__THROW
 
	`__nnu
 ((1));

76 #ifde
__USE_BSD


79 
	$imeofday
 (
__cڡ
 
timev
 *
__tv
,

80 
__cڡ
 
timeze
 *
__tz
)

81 
__THROW
 
	`__nnu
 ((1));

87 
	$adjtime
 (
__cڡ
 
timev
 *
__d
,

88 
timev
 *
__dd

__THROW
;

93 
	e__im_which


96 
ITIMER_REAL
 = 0,

97 
	#ITIMER_REAL
 
ITIMER_REAL


	)

99 
ITIMER_VIRTUAL
 = 1,

100 
	#ITIMER_VIRTUAL
 
ITIMER_VIRTUAL


	)

103 
ITIMER_PROF
 = 2

104 
	#ITIMER_PROF
 
ITIMER_PROF


	)

109 
	simv


112 
timev
 
_rv
;

114 
timev
 
_vue
;

117 #i
defed
 
__USE_GNU
 && !defed 
__lulus


120 
__im_which
 
	t__im_which_t
;

122 
	t__im_which_t
;

127 
	$gim
 (
__im_which_t
 
__which
,

128 
imv
 *
__vue

__THROW
;

133 
	$tim
 (
__im_which_t
 
__which
,

134 
__cڡ
 
imv
 *
__ri
 
__w
,

135 
imv
 *
__ri
 
__d

__THROW
;

140 
	$utimes
 (
__cڡ
 *
__fe
, __cڡ 
timev
 
__tvp
[2])

141 
__THROW
 
	`__nnu
 ((1));

143 #ifde
__USE_BSD


145 
	$lutimes
 (
__cڡ
 *
__fe
, __cڡ 
timev
 
__tvp
[2])

146 
__THROW
 
	`__nnu
 ((1));

149 
	$futimes
 (
__fd
, 
__cڡ
 
timev
 
__tvp
[2]
__THROW
;

152 #ifde
__USE_GNU


156 
	$futimet
 (
__fd
, 
__cڡ
 *
__fe
,

157 
__cڡ
 
timev
 
__tvp
[2]
__THROW
;

161 #ifde
__USE_BSD


164 
	#timist
(
tvp
(vp)->
tv_c
 || (tvp)->
tv_uc
)

	)

165 
	#timr
(
tvp
(vp)->
tv_c
 = (tvp)->
tv_uc
 = 0)

	)

166 
	#timcmp
(
a
, 
b
, 
CMP
) \

167 (((
a
)->
tv_c
 =(
b
)->tv_sec) ? \

168 ((
a
)->
tv_uc
 
	`CMP
 (
b
)->tv_usec) : \

169 ((
a
)->
tv_c
 
	`CMP
 (
b
)->tv_c))

	)

170 
	#timadd
(
a
, 
b
, 
su
) \

172 (
su
)->
tv_c
 = (
a
)->tv_+ (
b
)->tv_sec; \

173 (
su
)->
tv_uc
 = (
a
)->tv_u+ (
b
)->tv_usec; \

174 i((
su
)->
tv_uc
 >= 1000000) \

176 ++(
su
)->
tv_c
; \

177 (
su
)->
tv_uc
 -= 1000000; \

179 
	}
} 0)

	)

180 
	#timsub
(
a
, 
b
, 
su
) \

182 (
su
)->
tv_c
 = (
a
)->tv_- (
b
)->tv_sec; \

183 (
su
)->
tv_uc
 = (
a
)->tv_u- (
b
)->tv_usec; \

184 i((
su
)->
tv_uc
 < 0) { \

185 --(
su
)->
tv_c
; \

186 (
su
)->
tv_uc
 += 1000000; \

188 } 0)

	)

191 
	g__END_DECLS


	@/usr/include/sys/types.h

23 #idef 
_SYS_TYPES_H


24 
	#_SYS_TYPES_H
 1

	)

26 
	~<us.h
>

28 
	g__BEGIN_DECLS


30 
	~<bs/tys.h
>

32 #ifdef 
__USE_BSD


33 #ide
__u_ch_defed


34 
__u_ch
 
	tu_ch
;

35 
__u_sht
 
	tu_sht
;

36 
__u_t
 
	tu_t
;

37 
__u_lg
 
	tu_lg
;

38 
__quad_t
 
	tquad_t
;

39 
__u_quad_t
 
	tu_quad_t
;

40 
__fsid_t
 
	tfsid_t
;

41 
	#__u_ch_defed


	)

45 
__loff_t
 
	tloff_t
;

47 #ide
__o_t_defed


48 #ide
__USE_FILE_OFFSET64


49 
__o_t
 
	to_t
;

51 
__o64_t
 
	to_t
;

53 
	#__o_t_defed


	)

55 #i
defed
 
__USE_LARGEFILE64
 && !defed 
__o64_t_defed


56 
__o64_t
 
	to64_t
;

57 
	#__o64_t_defed


	)

60 #ide
__dev_t_defed


61 
__dev_t
 
	tdev_t
;

62 
	#__dev_t_defed


	)

65 #ide
__gid_t_defed


66 
__gid_t
 
	tgid_t
;

67 
	#__gid_t_defed


	)

70 #ide
__mode_t_defed


71 
__mode_t
 
	tmode_t
;

72 
	#__mode_t_defed


	)

75 #ide
__ƚk_t_defed


76 
__ƚk_t
 
	tƚk_t
;

77 
	#__ƚk_t_defed


	)

80 #ide
__uid_t_defed


81 
__uid_t
 
	tuid_t
;

82 
	#__uid_t_defed


	)

85 #ide
__off_t_defed


86 #ide
__USE_FILE_OFFSET64


87 
__off_t
 
	toff_t
;

89 
__off64_t
 
	toff_t
;

91 
	#__off_t_defed


	)

93 #i
defed
 
__USE_LARGEFILE64
 && !defed 
__off64_t_defed


94 
__off64_t
 
	toff64_t
;

95 
	#__off64_t_defed


	)

98 #ide
__pid_t_defed


99 
__pid_t
 
	tpid_t
;

100 
	#__pid_t_defed


	)

103 #i(
defed
 
__USE_SVID
 || defed 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8
) \

104 && !
defed
 
__id_t_defed


105 
__id_t
 
	tid_t
;

106 
	#__id_t_defed


	)

109 #ide
__ssize_t_defed


110 
__ssize_t
 
	tssize_t
;

111 
	#__ssize_t_defed


	)

114 #ifdef 
__USE_BSD


115 #ide
__daddr_t_defed


116 
__daddr_t
 
	tdaddr_t
;

117 
__ddr_t
 
	tddr_t
;

118 
	#__daddr_t_defed


	)

122 #i(
defed
 
__USE_SVID
 || defed 
__USE_XOPEN
&& !defed 
__key_t_defed


123 
__key_t
 
	tkey_t
;

124 
	#__key_t_defed


	)

127 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


128 
	#__ed_ock_t


	)

130 
	#__ed_time_t


	)

131 
	#__ed_tim_t


	)

132 
	#__ed_ockid_t


	)

133 
	~<time.h
>

135 #ifde
__USE_XOPEN


136 #ide
__ucds_t_defed


137 
__ucds_t
 
	tucds_t
;

138 
	#__ucds_t_defed


	)

140 #ide
__sucds_t_defed


141 
__sucds_t
 
	tsucds_t
;

142 
	#__sucds_t_defed


	)

146 
	#__ed_size_t


	)

147 
	~<ddef.h
>

149 #ifde
__USE_MISC


151 
	tulg
;

152 
	tusht
;

153 
	tut
;

158 #i!
__GNUC_PREREQ
 (2, 7)

161 #ide
__t8_t_defed


162 
	#__t8_t_defed


	)

163 
	tt8_t
;

164 
	tt16_t
;

165 
	tt32_t
;

166 #i
__WORDSIZE
 == 64

167 
	tt64_t
;

168 #i
__GLIBC_HAVE_LONG_LONG


169 
__exnsi__
 
	tt64_t
;

174 
	tu_t8_t
;

175 
	tu_t16_t
;

176 
	tu_t32_t
;

177 #i
__WORDSIZE
 == 64

178 
	tu_t64_t
;

179 #i
__GLIBC_HAVE_LONG_LONG


180 
__exnsi__
 
	tu_t64_t
;

183 
	tgi_t
;

188 
	#__tN_t
(
N
, 
MODE
) \

189 ##
	tN
##
	t_t
 
	t__ibu__
 ((
	t__mode__
 (
	tMODE
)))

	)

190 
	t__u_tN_t
(
	tN
, 
	tMODE
) \

191 
	tu_t
##
	tN
##
	t_t
 
	t__ibu__
 ((
	t__mode__
 (
	tMODE
)))

	)

193 #ide
	t__t8_t_defed


194 
	t__t8_t_defed


	)

195 
	t__tN_t
 (8, 
	t__QI__
);

196 
__tN_t
 (16, 
__HI__
);

197 
__tN_t
 (32, 
__SI__
);

198 
__tN_t
 (64, 
__DI__
);

201 
__u_tN_t
 (8, 
__QI__
);

202 
__u_tN_t
 (16, 
__HI__
);

203 
__u_tN_t
 (32, 
__SI__
);

204 
__u_tN_t
 (64, 
__DI__
);

206 
	tgi_t
 
	t__ibu__
 ((
	t__mode__
 (
	t__wd__
)));

212 
	#__BIT_TYPES_DEFINED__
 1

	)

215 #ifdef 
__USE_BSD


217 
	~<dn.h
>

220 
	~<sys/.h
>

223 
	~<sys/sysmaos.h
>

227 #i(
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8
) \

228 && !
defed
 
__blksize_t_defed


229 
__blksize_t
 
	tblksize_t
;

230 
	#__blksize_t_defed


	)

234 #ide
__USE_FILE_OFFSET64


235 #ide
__blkt_t_defed


236 
__blkt_t
 
	tblkt_t
;

237 
	#__blkt_t_defed


	)

239 #ide
__fsblkt_t_defed


240 
__fsblkt_t
 
	tfsblkt_t
;

241 
	#__fsblkt_t_defed


	)

243 #ide
__fsft_t_defed


244 
__fsft_t
 
	tfsft_t
;

245 
	#__fsft_t_defed


	)

248 #ide
__blkt_t_defed


249 
__blkt64_t
 
	tblkt_t
;

250 
	#__blkt_t_defed


	)

252 #ide
__fsblkt_t_defed


253 
__fsblkt64_t
 
	tfsblkt_t
;

254 
	#__fsblkt_t_defed


	)

256 #ide
__fsft_t_defed


257 
__fsft64_t
 
	tfsft_t
;

258 
	#__fsft_t_defed


	)

262 #ifde
__USE_LARGEFILE64


263 
__blkt64_t
 
	tblkt64_t
;

264 
__fsblkt64_t
 
	tfsblkt64_t
;

265 
__fsft64_t
 
	tfsft64_t
;

270 #i
defed
 
__USE_POSIX199506
 || defed 
__USE_UNIX98


271 
	~<bs/hadtys.h
>

274 
	g__END_DECLS


	@/usr/include/time.h

23 #idef 
_TIME_H


25 #i(! 
defed
 
__ed_time_t
 && !defed 
__ed_ock_t
 && \

26 ! 
defed
 
	g__ed_timeec
)

27 
	#_TIME_H
 1

	)

28 
	~<us.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__ed_size_t


	)

37 
	#__ed_NULL


	)

38 
	~<ddef.h
>

42 
	~<bs/time.h
>

45 #i!
defed
 
__STRICT_ANSI__
 && !defed 
__USE_XOPEN2K


46 #ide
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #i!
defed
 
__ock_t_defed
 && (defed 
_TIME_H
 || defed 
__ed_ock_t
)

54 
	#__ock_t_defed
 1

	)

56 
	~<bs/tys.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__ock_t
 
	tock_t
;

61 
	g__END_NAMESPACE_STD


62 #i
defed
 
__USE_XOPEN
 || defed 
__USE_POSIX
 || defed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
ock_t
)

67 #unde
__ed_ock_t


69 #i!
defed
 
__time_t_defed
 && (defed 
_TIME_H
 || defed 
__ed_time_t
)

70 
	#__time_t_defed
 1

	)

72 
	~<bs/tys.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC
 || defed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #unde
__ed_time_t


85 #i!
defed
 
__ockid_t_defed
 && \

86 ((
defed
 
_TIME_H
 && defed 
__USE_POSIX199309
|| defed 
__ed_ockid_t
)

87 
	#__ockid_t_defed
 1

	)

89 
	~<bs/tys.h
>

92 
__ockid_t
 
	tockid_t
;

95 #unde
__ockid_time_t


97 #i!
defed
 
__tim_t_defed
 && \

98 ((
defed
 
_TIME_H
 && defed 
__USE_POSIX199309
|| defed 
__ed_tim_t
)

99 
	#__tim_t_defed
 1

	)

101 
	~<bs/tys.h
>

104 
__tim_t
 
	ttim_t
;

107 #unde
__ed_tim_t


110 #i!
defed
 
__timeec_defed
 && \

111 ((
defed
 
_TIME_H
 && \

112 (
defed
 
__USE_POSIX199309
 || defed 
__USE_MISC
)) || \

113 
defed
 
__ed_timeec
)

114 
	#__timeec_defed
 1

	)

116 
	~<bs/tys.h
>

120 
	stimeec


122 
__time_t
 
tv_c
;

123 
tv_nc
;

127 #unde
__ed_timeec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_c
;

136 
tm_m
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m
;

140 
tm_yr
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__cڡ
 *
tm_ze
;

149 
__tm_gmtoff
;

150 
__cڡ
 *
__tm_ze
;

153 
__END_NAMESPACE_STD


154 #i
defed
 
__USE_XOPEN
 || defed 
__USE_POSIX
 || defed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde
__USE_POSIX199309


161 
	simec


163 
timeec
 
_rv
;

164 
timeec
 
_vue
;

168 
sigevt
;

172 #ifde
__USE_XOPEN2K


173 #ide
__pid_t_defed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defed


	)

180 
__BEGIN_NAMESPACE_STD


183 
ock_t
 
	$ock
 (
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__tim

__THROW
;

189 
	$difime
 (
time_t
 
__time1
,ime_
__time0
)

190 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

193 
time_t
 
	$mktime
 (
tm
 *
__

__THROW
;

199 
size_t
 
	$rime
 (*
__ri
 
__s
, 
size_t
 
__maxsize
,

200 
__cڡ
 *
__ri
 
__fm
,

201 
__cڡ
 
tm
 *
__ri
 
__

__THROW
;

202 
__END_NAMESPACE_STD


204 #ifde
__USE_XOPEN


207 *
	$time
 (
__cڡ
 *
__ri
 
__s
,

208 
__cڡ
 *
__ri
 
__fmt
, 
tm
 *
__
)

209 
__THROW
;

212 #ifde
__USE_XOPEN2K8


215 
	~<xlo.h
>

217 
size_t
 
	$rime_l
 (*
__ri
 
__s
, 
size_t
 
__maxsize
,

218 
__cڡ
 *
__ri
 
__fm
,

219 
__cڡ
 
tm
 *
__ri
 
__
,

220 
__lo_t
 
__loc

__THROW
;

223 #ifde
__USE_GNU


224 *
	$time_l
 (
__cڡ
 *
__ri
 
__s
,

225 
__cڡ
 *
__ri
 
__fmt
, 
tm
 *
__
,

226 
__lo_t
 
__loc

__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

237 
tm
 *
	$loime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

238 
__END_NAMESPACE_STD


240 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

244 
tm
 *
__ri
 
__

__THROW
;

248 
tm
 *
	$loime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

249 
tm
 *
__ri
 
__

__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$asime
 (
__cڡ
 
tm
 *
__

__THROW
;

258 *
	$ime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

259 
__END_NAMESPACE_STD


261 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


266 *
	$asime_r
 (
__cڡ
 
tm
 *
__ri
 
__
,

267 *
__ri
 
__buf

__THROW
;

270 *
	$ime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

271 *
__ri
 
__buf

__THROW
;

276 *
__tzme
[2];

277 
__daylight
;

278 
__timeze
;

281 #ifdef 
__USE_POSIX


283 *
tzme
[2];

287 
	$tzt
 (
__THROW
;

290 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


291 
daylight
;

292 
timeze
;

295 #ifde
__USE_SVID


298 
	$ime
 (
__cڡ
 
time_t
 *
__wh

__THROW
;

304 
	#__ip
(
yr
) \

305 ((
yr
% 4 =0 && ((yr% 100 !0 || (yr% 400 =0))

	)

308 #ifde
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__

__THROW
;

316 
time_t
 
	$timol
 (
tm
 *
__

__THROW
;

319 
	$dysize
 (
__yr

__THROW
 
	`__ibu__
 ((
__cڡ__
));

323 #ifde
__USE_POSIX199309


328 
	`nop
 (
__cڡ
 
timeec
 *
__queed_time
,

329 
timeec
 *
__mag
);

333 
	$ock_gs
 (
ockid_t
 
__ock_id
, 
timeec
 *
__s

__THROW
;

336 
	$ock_gtime
 (
ockid_t
 
__ock_id
, 
timeec
 *
__

__THROW
;

339 
	$ock_ime
 (
ockid_t
 
__ock_id
, 
__cڡ
 
timeec
 *
__
)

340 
__THROW
;

342 #ifde
__USE_XOPEN2K


347 
	`ock_nop
 (
ockid_t
 
__ock_id
, 
__ags
,

348 
__cڡ
 
timeec
 *
__q
,

349 
timeec
 *
__m
);

352 
	$ock_guockid
 (
pid_t
 
__pid
, 
ockid_t
 *
__ock_id

__THROW
;

357 
	$tim_
 (
ockid_t
 
__ock_id
,

358 
sigevt
 *
__ri
 
__evp
,

359 
tim_t
 *
__ri
 
__timid

__THROW
;

362 
	$tim_de
 (
tim_t
 
__timid

__THROW
;

365 
	$tim_ime
 (
tim_t
 
__timid
, 
__ags
,

366 
__cڡ
 
imec
 *
__ri
 
__vue
,

367 
imec
 *
__ri
 
__ovue

__THROW
;

370 
	$tim_gtime
 (
tim_t
 
__timid
, 
imec
 *
__vue
)

371 
__THROW
;

374 
	$tim_govrun
 (
tim_t
 
__timid

__THROW
;

378 #ifde
__USE_XOPEN_EXTENDED


390 
gde_r
;

399 
tm
 *
	`gde
 (
__cڡ
 *
__rg
);

402 #ifde
__USE_GNU


413 
	`gde_r
 (
__cڡ
 *
__ri
 
__rg
,

414 
tm
 *
__ri
 
__sbu
);

417 
__END_DECLS


	@/usr/include/unistd.h

23 #idef 
_UNISTD_H


24 
	#_UNISTD_H
 1

	)

26 
	~<us.h
>

28 
	g__BEGIN_DECLS


33 #ifde
__USE_XOPEN2K8


35 
	#_POSIX_VERSION
 200809L

	)

36 #i
defed
 
__USE_XOPEN2K


38 
	#_POSIX_VERSION
 200112L

	)

39 #i
defed
 
__USE_POSIX199506


41 
	#_POSIX_VERSION
 199506L

	)

42 #i
defed
 
__USE_POSIX199309


44 
	#_POSIX_VERSION
 199309L

	)

47 
	#_POSIX_VERSION
 199009L

	)

53 #ifde
__USE_XOPEN2K8


54 
	#__POSIX2_THIS_VERSION
 200809L

	)

56 #i
defed
 
__USE_XOPEN2K


58 
	#__POSIX2_THIS_VERSION
 200112L

	)

59 #i
defed
 
__USE_POSIX199506


61 
	#__POSIX2_THIS_VERSION
 199506L

	)

64 
	#__POSIX2_THIS_VERSION
 199209L

	)

68 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

72 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

76 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

80 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

84 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

87 #ifde
__USE_XOPEN2K8


88 
	#_XOPEN_VERSION
 700

	)

89 #i
defed
 
__USE_XOPEN2K


90 
	#_XOPEN_VERSION
 600

	)

91 #i
defed
 
__USE_UNIX98


92 
	#_XOPEN_VERSION
 500

	)

94 
	#_XOPEN_VERSION
 4

	)

98 
	#_XOPEN_XCU_VERSION
 4

	)

101 
	#_XOPEN_XPG2
 1

	)

102 
	#_XOPEN_XPG3
 1

	)

103 
	#_XOPEN_XPG4
 1

	)

106 
	#_XOPEN_UNIX
 1

	)

109 
	#_XOPEN_CRYPT
 1

	)

113 
	#_XOPEN_ENH_I18N
 1

	)

116 
	#_XOPEN_LEGACY
 1

	)

203 
	~<bs/posix_t.h
>

206 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


207 
	~<bs/vmts.h
>

211 
	#STDIN_FILENO
 0

	)

212 
	#STDOUT_FILENO
 1

	)

213 
	#STDERR_FILENO
 2

	)

218 
	~<bs/tys.h
>

220 #idef 
__ssize_t_defed


221 
__ssize_t
 
	tssize_t
;

222 
	#__ssize_t_defed


	)

225 
	#__ed_size_t


	)

226 
	#__ed_NULL


	)

227 
	~<ddef.h
>

229 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K


232 #ide
__gid_t_defed


233 
__gid_t
 
	tgid_t
;

234 
	#__gid_t_defed


	)

237 #ide
__uid_t_defed


238 
__uid_t
 
	tuid_t
;

239 
	#__uid_t_defed


	)

242 #ide
__off_t_defed


243 #ide
__USE_FILE_OFFSET64


244 
__off_t
 
	toff_t
;

246 
__off64_t
 
	toff_t
;

248 
	#__off_t_defed


	)

250 #i
defed
 
__USE_LARGEFILE64
 && !defed 
__off64_t_defed


251 
__off64_t
 
	toff64_t
;

252 
	#__off64_t_defed


	)

255 #ide
__ucds_t_defed


256 
__ucds_t
 
	tucds_t
;

257 
	#__ucds_t_defed


	)

260 #ide
__pid_t_defed


261 
__pid_t
 
	tpid_t
;

262 
	#__pid_t_defed


	)

266 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K


267 #ide
___t_defed


268 
___t
 
	t_t
;

269 
	#___t_defed


	)

273 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN


274 #ide
__sockn_t_defed


275 
__sockn_t
 
	tsockn_t
;

276 
	#__sockn_t_defed


	)

282 
	#R_OK
 4

	)

283 
	#W_OK
 2

	)

284 
	#X_OK
 1

	)

285 
	#F_OK
 0

	)

288 
	$acss
 (
__cڡ
 *
__me
, 
__ty

__THROW
 
	`__nnu
 ((1));

290 #ifde
__USE_GNU


293 
	$euidacss
 (
__cڡ
 *
__me
, 
__ty
)

294 
__THROW
 
	`__nnu
 ((1));

297 
	$css
 (
__cڡ
 *
__me
, 
__ty
)

298 
__THROW
 
	`__nnu
 ((1));

301 #ifde
__USE_ATFILE


305 
	$cst
 (
__fd
, 
__cڡ
 *
__fe
, 
__ty
, 
__ag
)

306 
__THROW
 
	`__nnu
 ((2)
__wur
;

311 #idef 
_STDIO_H


312 
	#SEEK_SET
 0

	)

313 
	#SEEK_CUR
 1

	)

314 
	#SEEK_END
 2

	)

315 #ifde
__USE_GNU


316 
	#SEEK_DATA
 3

	)

317 
	#SEEK_HOLE
 4

	)

321 #i
defed
 
__USE_BSD
 && !defed 
L_SET


323 
	#L_SET
 
SEEK_SET


	)

324 
	#L_INCR
 
SEEK_CUR


	)

325 
	#L_XTND
 
SEEK_END


	)

334 #ide
__USE_FILE_OFFSET64


335 
__off_t
 
	$lek
 (
__fd
, 
__off_t
 
__offt
, 
__wh

__THROW
;

337 #ifde
__REDIRECT_NTH


338 
__off64_t
 
	`__REDIRECT_NTH
 (
lek
,

339 (
__fd
, 
__off64_t
 
__offt
, 
__wh
),

340 
lek64
);

342 
	#lek
 
lek64


	)

345 #ifde
__USE_LARGEFILE64


346 
__off64_t
 
	$lek64
 (
__fd
, 
__off64_t
 
__offt
, 
__wh
)

347 
__THROW
;

354 
	`o
 (
__fd
);

361 
ssize_t
 
	$ad
 (
__fd
, *
__buf
, 
size_t
 
__nbys

__wur
;

367 
ssize_t
 
	$wre
 (
__fd
, 
__cڡ
 *
__buf
, 
size_t
 
__n

__wur
;

369 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8


370 #ide
__USE_FILE_OFFSET64


377 
ssize_t
 
	$d
 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

378 
__off_t
 
__offt

__wur
;

385 
ssize_t
 
	$pwre
 (
__fd
, 
__cڡ
 *
__buf
, 
size_t
 
__n
,

386 
__off_t
 
__offt

__wur
;

388 #ifde
__REDIRECT


389 
ssize_t
 
	`__REDIRECT
 (
d
, (
__fd
, *
__buf
, 
size_t
 
__nbys
,

390 
__off64_t
 
__offt
),

391 
d64

__wur
;

392 
ssize_t
 
	`__REDIRECT
 (
pwre
, (
__fd
, 
__cڡ
 *
__buf
,

393 
size_t
 
__nbys
, 
__off64_t
 
__offt
),

394 
pwre64

__wur
;

396 
	#d
 
d64


	)

397 
	#pwre
 
pwre64


	)

401 #ifde
__USE_LARGEFILE64


405 
ssize_t
 
	$d64
 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

406 
__off64_t
 
__offt

__wur
;

409 
ssize_t
 
	$pwre64
 (
__fd
, 
__cڡ
 *
__buf
, 
size_t
 
__n
,

410 
__off64_t
 
__offt

__wur
;

418 
	$pe
 (
__pedes
[2]
__THROW
 
__wur
;

420 #ifde
__USE_GNU


423 
	$pe2
 (
__pedes
[2], 
__ags

__THROW
 
__wur
;

433 
	$m
 (
__cds

__THROW
;

445 
	`p
 (
__cds
);

447 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K8
) \

448 || 
defed
 
__USE_BSD


453 
__ucds_t
 
	$um
 (
__ucds_t
 
__vue
, __ucds_
__rv
)

454 
__THROW
;

461 
	`up
 (
__ucds_t
 
__ucds
);

470 
	`u
 ();

474 
	$chown
 (
__cڡ
 *
__fe
, 
__uid_t
 
__owr
, 
__gid_t
 
__group
)

475 
__THROW
 
	`__nnu
 ((1)
__wur
;

477 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


479 
	$fchown
 (
__fd
, 
__uid_t
 
__owr
, 
__gid_t
 
__group

__THROW
 
__wur
;

484 
	$lchown
 (
__cڡ
 *
__fe
, 
__uid_t
 
__owr
, 
__gid_t
 
__group
)

485 
__THROW
 
	`__nnu
 ((1)
__wur
;

489 #ifde
__USE_ATFILE


492 
	$fchowt
 (
__fd
, 
__cڡ
 *
__fe
, 
__uid_t
 
__owr
,

493 
__gid_t
 
__group
, 
__ag
)

494 
__THROW
 
	`__nnu
 ((2)
__wur
;

498 
	$chd
 (
__cڡ
 *
__th

__THROW
 
	`__nnu
 ((1)
__wur
;

500 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


502 
	$fchd
 (
__fd

__THROW
 
__wur
;

512 *
	$gcwd
 (*
__buf
, 
size_t
 
__size

__THROW
 
__wur
;

514 #ifdef 
__USE_GNU


518 *
	$g_cut_d_me
 (
__THROW
;

521 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K8
) \

522 || 
defed
 
__USE_BSD


526 *
	$gwd
 (*
__buf
)

527 
__THROW
 
	`__nnu
 ((1)
__ibu_dd__
 
__wur
;

532 
	$dup
 (
__fd

__THROW
 
__wur
;

535 
	$dup2
 (
__fd
, 
__fd2

__THROW
;

537 #ifde
__USE_GNU


540 
	$dup3
 (
__fd
, 
__fd2
, 
__ags

__THROW
;

544 **
__v
;

545 #ifde
__USE_GNU


546 **
v
;

552 
	$execve
 (
__cڡ
 *
__th
, *__cڡ 
__gv
[],

553 *
__cڡ
 
__vp
[]
__THROW
 
	`__nnu
 ((1, 2));

555 #ifde
__USE_XOPEN2K8


558 
	$xecve
 (
__fd
, *
__cڡ
 
__gv
[], *__cڡ 
__vp
[])

559 
__THROW
 
	`__nnu
 ((2));

564 
	$execv
 (
__cڡ
 *
__th
, *__cڡ 
__gv
[])

565 
__THROW
 
	`__nnu
 ((1, 2));

569 
	$exee
 (
__cڡ
 *
__th
, __cڡ *
__g
, ...)

570 
__THROW
 
	`__nnu
 ((1, 2));

574 
	$exe
 (
__cڡ
 *
__th
, __cڡ *
__g
, ...)

575 
__THROW
 
	`__nnu
 ((1, 2));

579 
	$execvp
 (
__cڡ
 *
__fe
, *__cڡ 
__gv
[])

580 
__THROW
 
	`__nnu
 ((1, 2));

585 
	$exep
 (
__cڡ
 *
__fe
, __cڡ *
__g
, ...)

586 
__THROW
 
	`__nnu
 ((1, 2));

588 #ifde
__USE_GNU


591 
	$execv
 (
__cڡ
 *
__fe
, *__cڡ 
__gv
[],

592 *
__cڡ
 
__vp
[])

593 
__THROW
 
	`__nnu
 ((1, 2));

597 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN


599 
	$ni
 (
__c

__THROW
 
__wur
;

604 
	$_ex
 (
__us

	`__ibu__
 ((
__nܑu__
));

610 
	~<bs/came.h
>

613 
	$thcf
 (
__cڡ
 *
__th
, 
__me
)

614 
__THROW
 
	`__nnu
 ((1));

617 
	$hcf
 (
__fd
, 
__me

__THROW
;

620 
	$syscf
 (
__me

__THROW
;

622 #ifdef 
__USE_POSIX2


624 
size_t
 
	$cfr
 (
__me
, *
__buf
, 
size_t
 
__n

__THROW
;

629 
__pid_t
 
	$gpid
 (
__THROW
;

632 
__pid_t
 
	$gid
 (
__THROW
;

636 #ide
__FAVOR_BSD


637 
__pid_t
 
	$gpg
 (
__THROW
;

639 #ifde
__REDIRECT_NTH


640 
__pid_t
 
	`__REDIRECT_NTH
 (
gpg
, (__pid_
__pid
), 
__gpgid
);

642 
	#gpg
 
__gpgid


	)

647 
__pid_t
 
	$__gpgid
 (
__pid_t
 
__pid

__THROW
;

648 #i
defed
 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


649 
__pid_t
 
	$gpgid
 (
__pid_t
 
__pid

__THROW
;

656 
	$gid
 (
__pid_t
 
__pid
, __pid_
__pgid

__THROW
;

658 #i
defed
 
__USE_SVID
 || defed 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


669 #ide
__FAVOR_BSD


673 
	$g
 (
__THROW
;

678 #ifde
__REDIRECT_NTH


679 
	`__REDIRECT_NTH
 (
g
, (
__pid_t
 
__pid
, __pid_
__pg
), 
gid
);

681 
	#g
 
gid


	)

690 
__pid_t
 
	$tsid
 (
__THROW
;

692 #i
defed
 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


694 
__pid_t
 
	$gsid
 (
__pid_t
 
__pid

__THROW
;

698 
__uid_t
 
	$guid
 (
__THROW
;

701 
__uid_t
 
	$geuid
 (
__THROW
;

704 
__gid_t
 
	$ggid
 (
__THROW
;

707 
__gid_t
 
	$gegid
 (
__THROW
;

712 
	$ggroups
 (
__size
, 
__gid_t
 
__li
[]
__THROW
 
__wur
;

714 #ifdef 
__USE_GNU


716 
	$group_memb
 (
__gid_t
 
__gid

__THROW
;

723 
	$tuid
 (
__uid_t
 
__uid

__THROW
;

725 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


728 
	$euid
 (
__uid_t
 
__ruid
, __uid_
__euid

__THROW
;

731 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN2K


733 
	$uid
 (
__uid_t
 
__uid

__THROW
;

740 
	$tgid
 (
__gid_t
 
__gid

__THROW
;

742 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


745 
	$egid
 (
__gid_t
 
__rgid
, __gid_
__egid

__THROW
;

748 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN2K


750 
	$gid
 (
__gid_t
 
__gid

__THROW
;

753 #ifde
__USE_GNU


756 
	$gsuid
 (
__uid_t
 *
__ruid
, __uid_*
__euid
, __uid_*
__suid
)

757 
__THROW
;

761 
	$gsgid
 (
__gid_t
 *
__rgid
, __gid_*
__egid
, __gid_*
__sgid
)

762 
__THROW
;

766 
	$esuid
 (
__uid_t
 
__ruid
, __uid_
__euid
, __uid_
__suid
)

767 
__THROW
;

771 
	$esgid
 (
__gid_t
 
__rgid
, __gid_
__egid
, __gid_
__sgid
)

772 
__THROW
;

779 
__pid_t
 
	$fk
 (
__THROWNL
;

781 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K8
) \

782 || 
defed
 
__USE_BSD


787 
__pid_t
 
	$vfk
 (
__THROW
;

793 *
	$yme
 (
__fd

__THROW
;

797 
	$yme_r
 (
__fd
, *
__buf
, 
size_t
 
__bu
)

798 
__THROW
 
	`__nnu
 ((2)
__wur
;

802 
	$iy
 (
__fd

__THROW
;

804 #i
defed
 
__USE_BSD
 \

805 || (
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_UNIX98
)

808 
	$y
 (
__THROW
;

813 
	$lk
 (
__cڡ
 *
__om
, __cڡ *
__to
)

814 
__THROW
 
	`__nnu
 ((1, 2)
__wur
;

816 #ifde
__USE_ATFILE


819 
	$lk
 (
__omfd
, 
__cڡ
 *
__om
, 
__tofd
,

820 
__cڡ
 *
__to
, 
__ags
)

821 
__THROW
 
	`__nnu
 ((2, 4)
__wur
;

824 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K


826 
	$symlk
 (
__cڡ
 *
__om
, __cڡ *
__to
)

827 
__THROW
 
	`__nnu
 ((1, 2)
__wur
;

832 
ssize_t
 
	$adlk
 (
__cڡ
 *
__ri
 
__th
,

833 *
__ri
 
__buf
, 
size_t
 
__n
)

834 
__THROW
 
	`__nnu
 ((1, 2)
__wur
;

837 #ifde
__USE_ATFILE


839 
	$symlk
 (
__cڡ
 *
__om
, 
__tofd
,

840 
__cڡ
 *
__to

__THROW
 
	`__nnu
 ((1, 3)
__wur
;

843 
ssize_t
 
	$adlk
 (
__fd
, 
__cڡ
 *
__ri
 
__th
,

844 *
__ri
 
__buf
, 
size_t
 
__n
)

845 
__THROW
 
	`__nnu
 ((2, 3)
__wur
;

849 
	$uƚk
 (
__cڡ
 *
__me

__THROW
 
	`__nnu
 ((1));

851 #ifde
__USE_ATFILE


853 
	$uƚk
 (
__fd
, 
__cڡ
 *
__me
, 
__ag
)

854 
__THROW
 
	`__nnu
 ((2));

858 
	$rmd
 (
__cڡ
 *
__th

__THROW
 
	`__nnu
 ((1));

862 
__pid_t
 
	$tcgpg
 (
__fd

__THROW
;

865 
	$tcg
 (
__fd
, 
__pid_t
 
__pg_id

__THROW
;

872 *
	`glog
 ();

873 #i
defed
 
__USE_REENTRANT
 || defed 
__USE_POSIX199506


880 
	$glog_r
 (*
__me
, 
size_t
 
__me_n

	`__nnu
 ((1));

883 #ifdef 
__USE_BSD


885 
	$og
 (
__cڡ
 *
__me

__THROW
 
	`__nnu
 ((1));

889 #ifdef 
__USE_POSIX2


893 
	#__ed_gt


	)

894 
	~<gt.h
>

898 #i
defed
 
__USE_BSD
 || defed 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


902 
	$ghome
 (*
__me
, 
size_t
 
__n

__THROW
 
	`__nnu
 ((1));

906 #i
defed
 
__USE_BSD
 || (defed 
__USE_XOPEN
 && !defed 
__USE_UNIX98
)

909 
	$thome
 (
__cڡ
 *
__me
, 
size_t
 
__n
)

910 
__THROW
 
	`__nnu
 ((1)
__wur
;

914 
	$thoid
 (
__id

__THROW
 
__wur
;

920 
	$gdomame
 (*
__me
, 
size_t
 
__n
)

921 
__THROW
 
	`__nnu
 ((1)
__wur
;

922 
	$tdomame
 (
__cڡ
 *
__me
, 
size_t
 
__n
)

923 
__THROW
 
	`__nnu
 ((1)
__wur
;

929 
	$vhgup
 (
__THROW
;

932 
	$voke
 (
__cڡ
 *
__fe

__THROW
 
	`__nnu
 ((1)
__wur
;

940 
	$of
 (*
__me_bufr
, 
size_t
 
__size
,

941 
size_t
 
__offt
, 
__s
)

942 
__THROW
 
	`__nnu
 ((1));

948 
	$ac
 (
__cڡ
 *
__me

__THROW
;

952 *
	$gurshl
 (
__THROW
;

953 
	$durshl
 (
__THROW
;

954 
	$turshl
 (
__THROW
;

960 
	$dm
 (
__nochd
, 
__noo

__THROW
 
__wur
;

964 #i
defed
 
__USE_BSD
 || (defed 
__USE_XOPEN
 && !defed 
__USE_XOPEN2K
)

967 
	$chro
 (
__cڡ
 *
__th

__THROW
 
	`__nnu
 ((1)
__wur
;

971 *
	$gss
 (
__cڡ
 *
__om

	`__nnu
 ((1));

975 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN
 || defed 
__USE_XOPEN2K


980 
	`fsync
 (
__fd
);

984 #ifde
__USE_GNU


987 
	$syncfs
 (
__fd

__THROW
;

991 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


994 
	`ghoid
 ();

997 
	$sync
 (
__THROW
;

1000 #i
defed
 
__USE_BSD
 || !defed 
__USE_XOPEN2K


1003 
	$ggesize
 (
__THROW
 
	`__ibu__
 ((
__cڡ__
));

1008 
	$gdbsize
 (
__THROW
;

1014 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K8


1017 #ide
__USE_FILE_OFFSET64


1018 
	$un
 (
__cڡ
 *
__fe
, 
__off_t
 
__ngth
)

1019 
__THROW
 
	`__nnu
 ((1)
__wur
;

1021 #ifde
__REDIRECT_NTH


1022 
	`__REDIRECT_NTH
 (
un
,

1023 (
__cڡ
 *
__fe
, 
__off64_t
 
__ngth
),

1024 
un64

	`__nnu
 ((1)
__wur
;

1026 
	#un
 
un64


	)

1029 #ifde
__USE_LARGEFILE64


1030 
	$un64
 (
__cڡ
 *
__fe
, 
__off64_t
 
__ngth
)

1031 
__THROW
 
	`__nnu
 ((1)
__wur
;

1036 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K


1039 #ide
__USE_FILE_OFFSET64


1040 
	$run
 (
__fd
, 
__off_t
 
__ngth

__THROW
 
__wur
;

1042 #ifde
__REDIRECT_NTH


1043 
	`__REDIRECT_NTH
 (
run
, (
__fd
, 
__off64_t
 
__ngth
),

1044 
run64

__wur
;

1046 
	#run
 
run64


	)

1049 #ifde
__USE_LARGEFILE64


1050 
	$run64
 (
__fd
, 
__off64_t
 
__ngth

__THROW
 
__wur
;

1056 #i(
defed
 
__USE_XOPEN_EXTENDED
 && !defed 
__USE_XOPEN2K
) \

1057 || 
defed
 
__USE_MISC


1061 
	$brk
 (*
__addr

__THROW
 
__wur
;

1067 *
	$sbrk
 (
_t
 
__d

__THROW
;

1071 #ifde
__USE_MISC


1082 
	$sys
 (
__syo
, ...
__THROW
;

1087 #i(
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
&& !defed 
F_LOCK


1099 
	#F_ULOCK
 0

	)

1100 
	#F_LOCK
 1

	)

1101 
	#F_TLOCK
 2

	)

1102 
	#F_TEST
 3

	)

1104 #ide
__USE_FILE_OFFSET64


1105 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__n

__wur
;

1107 #ifde
__REDIRECT


1108 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__n
),

1109 
lockf64

__wur
;

1111 
	#lockf
 
lockf64


	)

1114 #ifde
__USE_LARGEFILE64


1115 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__n

__wur
;

1120 #ifde
__USE_GNU


1125 
	#TEMP_FAILURE_RETRY
(
exessi
) \

1126 (
__exnsi__
 \

1127 ({ 
__su
; \

1128 d
__su
 = ((
exessi
); \

1129 
__su
 =-1L && 
o
 =
EINTR
); \

1130 
__su
; 
	}
}))

	)

1133 #i
defed
 
__USE_POSIX199309
 || defed 
__USE_UNIX98


1136 
fdasync
 (
__fdes
);

1142 #ifdef 
__USE_XOPEN


1144 *
	$y
 (
__cڡ
 *
__key
, __cڡ *
__
)

1145 
__THROW
 
	`__nnu
 ((1, 2));

1149 
	$y
 (*
__libc_block
, 
__edag

__THROW
 
	`__nnu
 ((1));

1156 
	$swab
 (
__cڡ
 *
__ri
 
__om
, *__ri 
__to
,

1157 
ssize_t
 
__n

__THROW
 
	`__nnu
 ((1, 2));

1163 #i
defed
 
__USE_XOPEN
 || defed 
__USE_XOPEN2K8


1165 *
	$mid
 (*
__s

__THROW
;

1170 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


1171 
	~<bs/unid.h
>

1174 
__END_DECLS


	@/usr/include/alloca.h

19 #idef 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<us.h
>

24 
	#__ed_size_t


	)

25 
	~<ddef.h
>

27 
	g__BEGIN_DECLS


30 #unde
lo


33 *
	$lo
 (
size_t
 
__size

__THROW
;

35 #ifdef 
__GNUC__


36 
	#lo
(
size

	`__but_lo
 (size)

	)

39 
__END_DECLS


	@/usr/include/bits/byteswap.h

21 #i!
defed
 
_BYTESWAP_H
 && !defed 
_NETINET_IN_H
 && !defed 
_ENDIAN_H


25 #ide
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<bs/wdsize.h
>

31 
	#__bsw_cڡt_16
(
x
) \

32 ((((((
x
>> 8& 0xff| (((x& 0xff<< 8)))

	)

34 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw_16
(
x
) \

36 (
__exnsi__
 \

37 ({ 
__v
, 
__x
 = ((
x
); \

38 i(
	`__but_cڡt_p
 (
__x
)) \

39 
__v
 = 
	`__bsw_cڡt_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw_16
(
x
) \

49 (
__exnsi__
 \

50 ({ 
__x
 = ((
x
); \

51 
	`__bsw_cڡt_16
 (
__x
); }))

	)

56 
	#__bsw_cڡt_32
(
x
) \

57 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

58 (((
x
& 0x0000ff00<< 8| (((x& 0x000000ff<< 24))

	)

60 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

61 #i
__WORDSIZE
 =64 || (
defed
 
__i486__
 || defed 
__ium__
 \

62 || 
defed
 
	g__iumo__
 || defed 
	g__ium4__
 \

63 || 
defed
 
	g__k8__
 || defed 
	g__hl__
 \

64 || 
defed
 
	g__k6__
 || defed 
	g__noca__
 \

65 || 
defed
 
	g__ce2__
 || defed 
	g__geode__
 \

66 || 
defed
 
	g__amdm10__
)

69 
	#__bsw_32
(
x
) \

70 (
__exnsi__
 \

71 ({ 
__v
, 
__x
 = (
x
); \

72 i(
	`__but_cڡt_p
 (
__x
)) \

73 
__v
 = 
	`__bsw_cڡt_32
 (
__x
); \

75 
	`__asm__
 ("bsw %0" : "" (
__v
: "0" (
__x
)); \

76 
__v
; }))

	)

78 
	#__bsw_32
(
x
) \

79 (
__exnsi__
 \

80 ({ 
__v
, 
__x
 = (
x
); \

81 i(
	`__but_cڡt_p
 (
__x
)) \

82 
__v
 = 
	`__bsw_cڡt_32
 (
__x
); \

84 
	`__asm__
 ("rorw $8, %w0;" \

87 : "" (
__v
) \

88 : "0" (
__x
) \

90 
__v
; }))

	)

93 
	#__bsw_32
(
x
) \

94 (
__exnsi__
 \

95 ({ 
__x
 = (
x
); 
	`__bsw_cڡt_32
 (__x); }))

	)

99 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

101 
	#__bsw_cڡt_64
(
x
) \

102 (
	`__exnsi__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

103 | (((
x
) & 0x00ff000000000000ull) >> 40) \

104 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

105 | (((
x
) & 0x000000ff00000000ull) >> 8) \

106 | (((
x
) & 0x00000000ff000000ull) << 8) \

107 | (((
x
) & 0x0000000000ff0000ull) << 24) \

108 | (((
x
) & 0x000000000000ff00ull) << 40) \

109 | (((
x
& 0x00000000000000ffu<< 56)))

	)

111 #i
__WORDSIZE
 == 64

112 
	#__bsw_64
(
x
) \

113 (
__exnsi__
 \

114 ({ 
__v
, 
__x
 = (
x
); \

115 i(
	`__but_cڡt_p
 (
__x
)) \

116 
__v
 = 
	`__bsw_cڡt_64
 (
__x
); \

118 
	`__asm__
 ("bsw %q0" : "" (
__v
: "0" (
__x
)); \

119 
__v
; }))

	)

121 
	#__bsw_64
(
x
) \

122 (
__exnsi__
 \

123 ({ uni { 
__exnsi__
 
__
; \

124 
__l
[2]; } 
__w
, 
__r
; \

125 i(
	`__but_cڡt_p
 (
x
)) \

126 
__r
.
__
 = 
	`__bsw_cڡt_64
 (
x
); \

129 
__w
.
__
 = (
x
); \

130 
__r
.
__l
[0] = 
	`__bsw_32
 (
__w
.__l[1]); \

131 
__r
.
__l
[1] = 
	`__bsw_32
 (
__w
.__l[0]); \

133 
__r
.
__
; }))

	)

	@/usr/include/bits/confname.h

21 #ide
_UNISTD_H


28 
	m_PC_LINK_MAX
,

29 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

30 
	m_PC_MAX_CANON
,

31 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

32 
	m_PC_MAX_INPUT
,

33 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

34 
	m_PC_NAME_MAX
,

35 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

36 
	m_PC_PATH_MAX
,

37 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

38 
	m_PC_PIPE_BUF
,

39 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

40 
	m_PC_CHOWN_RESTRICTED
,

41 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

42 
	m_PC_NO_TRUNC
,

43 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

44 
	m_PC_VDISABLE
,

45 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

46 
	m_PC_SYNC_IO
,

47 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

48 
	m_PC_ASYNC_IO
,

49 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

50 
	m_PC_PRIO_IO
,

51 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

52 
	m_PC_SOCK_MAXBUF
,

53 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

54 
	m_PC_FILESIZEBITS
,

55 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

56 
	m_PC_REC_INCR_XFER_SIZE
,

57 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

58 
	m_PC_REC_MAX_XFER_SIZE
,

59 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

60 
	m_PC_REC_MIN_XFER_SIZE
,

61 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

62 
	m_PC_REC_XFER_ALIGN
,

63 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

64 
	m_PC_ALLOC_SIZE_MIN
,

65 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

66 
	m_PC_SYMLINK_MAX
,

67 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

68 
	m_PC_2_SYMLINKS


69 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

75 
	m_SC_ARG_MAX
,

76 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

77 
	m_SC_CHILD_MAX
,

78 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

79 
	m_SC_CLK_TCK
,

80 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

81 
	m_SC_NGROUPS_MAX
,

82 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

83 
	m_SC_OPEN_MAX
,

84 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

85 
	m_SC_STREAM_MAX
,

86 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

87 
	m_SC_TZNAME_MAX
,

88 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

89 
	m_SC_JOB_CONTROL
,

90 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

91 
	m_SC_SAVED_IDS
,

92 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

93 
	m_SC_REALTIME_SIGNALS
,

94 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

95 
	m_SC_PRIORITY_SCHEDULING
,

96 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

97 
	m_SC_TIMERS
,

98 
	#_SC_TIMERS
 
_SC_TIMERS


	)

99 
	m_SC_ASYNCHRONOUS_IO
,

100 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

101 
	m_SC_PRIORITIZED_IO
,

102 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

103 
	m_SC_SYNCHRONIZED_IO
,

104 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

105 
	m_SC_FSYNC
,

106 
	#_SC_FSYNC
 
_SC_FSYNC


	)

107 
	m_SC_MAPPED_FILES
,

108 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

109 
	m_SC_MEMLOCK
,

110 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

111 
	m_SC_MEMLOCK_RANGE
,

112 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

113 
	m_SC_MEMORY_PROTECTION
,

114 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

115 
	m_SC_MESSAGE_PASSING
,

116 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

117 
	m_SC_SEMAPHORES
,

118 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

119 
	m_SC_SHARED_MEMORY_OBJECTS
,

120 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

121 
	m_SC_AIO_LISTIO_MAX
,

122 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

123 
	m_SC_AIO_MAX
,

124 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

125 
	m_SC_AIO_PRIO_DELTA_MAX
,

126 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

127 
	m_SC_DELAYTIMER_MAX
,

128 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

129 
	m_SC_MQ_OPEN_MAX
,

130 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

131 
	m_SC_MQ_PRIO_MAX
,

132 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

133 
	m_SC_VERSION
,

134 
	#_SC_VERSION
 
_SC_VERSION


	)

135 
	m_SC_PAGESIZE
,

136 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

137 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

138 
	m_SC_RTSIG_MAX
,

139 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

140 
	m_SC_SEM_NSEMS_MAX
,

141 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

142 
	m_SC_SEM_VALUE_MAX
,

143 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

144 
	m_SC_SIGQUEUE_MAX
,

145 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

146 
	m_SC_TIMER_MAX
,

147 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

151 
	m_SC_BC_BASE_MAX
,

152 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

153 
	m_SC_BC_DIM_MAX
,

154 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

155 
	m_SC_BC_SCALE_MAX
,

156 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

157 
	m_SC_BC_STRING_MAX
,

158 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

159 
	m_SC_COLL_WEIGHTS_MAX
,

160 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

161 
	m_SC_EQUIV_CLASS_MAX
,

162 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

163 
	m_SC_EXPR_NEST_MAX
,

164 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

165 
	m_SC_LINE_MAX
,

166 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

167 
	m_SC_RE_DUP_MAX
,

168 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

169 
	m_SC_CHARCLASS_NAME_MAX
,

170 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

172 
	m_SC_2_VERSION
,

173 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

174 
	m_SC_2_C_BIND
,

175 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

176 
	m_SC_2_C_DEV
,

177 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

178 
	m_SC_2_FORT_DEV
,

179 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

180 
	m_SC_2_FORT_RUN
,

181 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

182 
	m_SC_2_SW_DEV
,

183 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

184 
	m_SC_2_LOCALEDEF
,

185 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

187 
	m_SC_PII
,

188 
	#_SC_PII
 
_SC_PII


	)

189 
	m_SC_PII_XTI
,

190 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

191 
	m_SC_PII_SOCKET
,

192 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

193 
	m_SC_PII_INTERNET
,

194 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

195 
	m_SC_PII_OSI
,

196 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

197 
	m_SC_POLL
,

198 
	#_SC_POLL
 
_SC_POLL


	)

199 
	m_SC_SELECT
,

200 
	#_SC_SELECT
 
_SC_SELECT


	)

201 
	m_SC_UIO_MAXIOV
,

202 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

203 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

204 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

205 
	m_SC_PII_INTERNET_STREAM
,

206 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

207 
	m_SC_PII_INTERNET_DGRAM
,

208 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

209 
	m_SC_PII_OSI_COTS
,

210 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

211 
	m_SC_PII_OSI_CLTS
,

212 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

213 
	m_SC_PII_OSI_M
,

214 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

215 
	m_SC_T_IOV_MAX
,

216 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

219 
	m_SC_THREADS
,

220 
	#_SC_THREADS
 
_SC_THREADS


	)

221 
	m_SC_THREAD_SAFE_FUNCTIONS
,

222 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

223 
	m_SC_GETGR_R_SIZE_MAX
,

224 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

225 
	m_SC_GETPW_R_SIZE_MAX
,

226 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

227 
	m_SC_LOGIN_NAME_MAX
,

228 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

229 
	m_SC_TTY_NAME_MAX
,

230 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

231 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

232 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

233 
	m_SC_THREAD_KEYS_MAX
,

234 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

235 
	m_SC_THREAD_STACK_MIN
,

236 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

237 
	m_SC_THREAD_THREADS_MAX
,

238 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

239 
	m_SC_THREAD_ATTR_STACKADDR
,

240 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

241 
	m_SC_THREAD_ATTR_STACKSIZE
,

242 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

243 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

244 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

245 
	m_SC_THREAD_PRIO_INHERIT
,

246 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

247 
	m_SC_THREAD_PRIO_PROTECT
,

248 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

249 
	m_SC_THREAD_PROCESS_SHARED
,

250 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

252 
	m_SC_NPROCESSORS_CONF
,

253 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

254 
	m_SC_NPROCESSORS_ONLN
,

255 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

256 
	m_SC_PHYS_PAGES
,

257 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

258 
	m_SC_AVPHYS_PAGES
,

259 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

260 
	m_SC_ATEXIT_MAX
,

261 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

262 
	m_SC_PASS_MAX
,

263 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

265 
	m_SC_XOPEN_VERSION
,

266 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

267 
	m_SC_XOPEN_XCU_VERSION
,

268 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

269 
	m_SC_XOPEN_UNIX
,

270 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

271 
	m_SC_XOPEN_CRYPT
,

272 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

273 
	m_SC_XOPEN_ENH_I18N
,

274 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

275 
	m_SC_XOPEN_SHM
,

276 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

278 
	m_SC_2_CHAR_TERM
,

279 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

280 
	m_SC_2_C_VERSION
,

281 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

282 
	m_SC_2_UPE
,

283 
	#_SC_2_UPE
 
_SC_2_UPE


	)

285 
	m_SC_XOPEN_XPG2
,

286 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

287 
	m_SC_XOPEN_XPG3
,

288 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

289 
	m_SC_XOPEN_XPG4
,

290 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

292 
	m_SC_CHAR_BIT
,

293 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

294 
	m_SC_CHAR_MAX
,

295 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

296 
	m_SC_CHAR_MIN
,

297 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

298 
	m_SC_INT_MAX
,

299 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

300 
	m_SC_INT_MIN
,

301 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

302 
	m_SC_LONG_BIT
,

303 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

304 
	m_SC_WORD_BIT
,

305 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

306 
	m_SC_MB_LEN_MAX
,

307 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

308 
	m_SC_NZERO
,

309 
	#_SC_NZERO
 
_SC_NZERO


	)

310 
	m_SC_SSIZE_MAX
,

311 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

312 
	m_SC_SCHAR_MAX
,

313 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

314 
	m_SC_SCHAR_MIN
,

315 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

316 
	m_SC_SHRT_MAX
,

317 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

318 
	m_SC_SHRT_MIN
,

319 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

320 
	m_SC_UCHAR_MAX
,

321 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

322 
	m_SC_UINT_MAX
,

323 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

324 
	m_SC_ULONG_MAX
,

325 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

326 
	m_SC_USHRT_MAX
,

327 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

329 
	m_SC_NL_ARGMAX
,

330 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

331 
	m_SC_NL_LANGMAX
,

332 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

333 
	m_SC_NL_MSGMAX
,

334 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

335 
	m_SC_NL_NMAX
,

336 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

337 
	m_SC_NL_SETMAX
,

338 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

339 
	m_SC_NL_TEXTMAX
,

340 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

342 
	m_SC_XBS5_ILP32_OFF32
,

343 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

344 
	m_SC_XBS5_ILP32_OFFBIG
,

345 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

346 
	m_SC_XBS5_LP64_OFF64
,

347 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

348 
	m_SC_XBS5_LPBIG_OFFBIG
,

349 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

351 
	m_SC_XOPEN_LEGACY
,

352 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

353 
	m_SC_XOPEN_REALTIME
,

354 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

355 
	m_SC_XOPEN_REALTIME_THREADS
,

356 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

358 
	m_SC_ADVISORY_INFO
,

359 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

360 
	m_SC_BARRIERS
,

361 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

362 
	m_SC_BASE
,

363 
	#_SC_BASE
 
_SC_BASE


	)

364 
	m_SC_C_LANG_SUPPORT
,

365 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

366 
	m_SC_C_LANG_SUPPORT_R
,

367 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

368 
	m_SC_CLOCK_SELECTION
,

369 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

370 
	m_SC_CPUTIME
,

371 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

372 
	m_SC_THREAD_CPUTIME
,

373 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

374 
	m_SC_DEVICE_IO
,

375 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

376 
	m_SC_DEVICE_SPECIFIC
,

377 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

378 
	m_SC_DEVICE_SPECIFIC_R
,

379 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

380 
	m_SC_FD_MGMT
,

381 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

382 
	m_SC_FIFO
,

383 
	#_SC_FIFO
 
_SC_FIFO


	)

384 
	m_SC_PIPE
,

385 
	#_SC_PIPE
 
_SC_PIPE


	)

386 
	m_SC_FILE_ATTRIBUTES
,

387 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

388 
	m_SC_FILE_LOCKING
,

389 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

390 
	m_SC_FILE_SYSTEM
,

391 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

392 
	m_SC_MONOTONIC_CLOCK
,

393 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

394 
	m_SC_MULTI_PROCESS
,

395 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

396 
	m_SC_SINGLE_PROCESS
,

397 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

398 
	m_SC_NETWORKING
,

399 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

400 
	m_SC_READER_WRITER_LOCKS
,

401 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

402 
	m_SC_SPIN_LOCKS
,

403 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

404 
	m_SC_REGEXP
,

405 
	#_SC_REGEXP
 
_SC_REGEXP


	)

406 
	m_SC_REGEX_VERSION
,

407 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

408 
	m_SC_SHELL
,

409 
	#_SC_SHELL
 
_SC_SHELL


	)

410 
	m_SC_SIGNALS
,

411 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

412 
	m_SC_SPAWN
,

413 
	#_SC_SPAWN
 
_SC_SPAWN


	)

414 
	m_SC_SPORADIC_SERVER
,

415 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

416 
	m_SC_THREAD_SPORADIC_SERVER
,

417 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

418 
	m_SC_SYSTEM_DATABASE
,

419 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

420 
	m_SC_SYSTEM_DATABASE_R
,

421 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

422 
	m_SC_TIMEOUTS
,

423 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

424 
	m_SC_TYPED_MEMORY_OBJECTS
,

425 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

426 
	m_SC_USER_GROUPS
,

427 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

428 
	m_SC_USER_GROUPS_R
,

429 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

430 
	m_SC_2_PBS
,

431 
	#_SC_2_PBS
 
_SC_2_PBS


	)

432 
	m_SC_2_PBS_ACCOUNTING
,

433 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

434 
	m_SC_2_PBS_LOCATE
,

435 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

436 
	m_SC_2_PBS_MESSAGE
,

437 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

438 
	m_SC_2_PBS_TRACK
,

439 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

440 
	m_SC_SYMLOOP_MAX
,

441 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

442 
	m_SC_STREAMS
,

443 
	#_SC_STREAMS
 
_SC_STREAMS


	)

444 
	m_SC_2_PBS_CHECKPOINT
,

445 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

447 
	m_SC_V6_ILP32_OFF32
,

448 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

449 
	m_SC_V6_ILP32_OFFBIG
,

450 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

451 
	m_SC_V6_LP64_OFF64
,

452 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

453 
	m_SC_V6_LPBIG_OFFBIG
,

454 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

456 
	m_SC_HOST_NAME_MAX
,

457 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

458 
	m_SC_TRACE
,

459 
	#_SC_TRACE
 
_SC_TRACE


	)

460 
	m_SC_TRACE_EVENT_FILTER
,

461 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

462 
	m_SC_TRACE_INHERIT
,

463 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

464 
	m_SC_TRACE_LOG
,

465 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

467 
	m_SC_LEVEL1_ICACHE_SIZE
,

468 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

469 
	m_SC_LEVEL1_ICACHE_ASSOC
,

470 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

471 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

472 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

473 
	m_SC_LEVEL1_DCACHE_SIZE
,

474 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

475 
	m_SC_LEVEL1_DCACHE_ASSOC
,

476 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

477 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

478 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

479 
	m_SC_LEVEL2_CACHE_SIZE
,

480 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

481 
	m_SC_LEVEL2_CACHE_ASSOC
,

482 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

483 
	m_SC_LEVEL2_CACHE_LINESIZE
,

484 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

485 
	m_SC_LEVEL3_CACHE_SIZE
,

486 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

487 
	m_SC_LEVEL3_CACHE_ASSOC
,

488 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

489 
	m_SC_LEVEL3_CACHE_LINESIZE
,

490 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

491 
	m_SC_LEVEL4_CACHE_SIZE
,

492 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

493 
	m_SC_LEVEL4_CACHE_ASSOC
,

494 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

495 
	m_SC_LEVEL4_CACHE_LINESIZE
,

496 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

499 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

500 
	#_SC_IPV6
 
_SC_IPV6


	)

501 
	m_SC_RAW_SOCKETS
,

502 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

504 
	m_SC_V7_ILP32_OFF32
,

505 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

506 
	m_SC_V7_ILP32_OFFBIG
,

507 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

508 
	m_SC_V7_LP64_OFF64
,

509 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

510 
	m_SC_V7_LPBIG_OFFBIG
,

511 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

513 
	m_SC_SS_REPL_MAX
,

514 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

516 
	m_SC_TRACE_EVENT_NAME_MAX
,

517 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

518 
	m_SC_TRACE_NAME_MAX
,

519 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

520 
	m_SC_TRACE_SYS_MAX
,

521 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

522 
	m_SC_TRACE_USER_EVENT_MAX
,

523 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

525 
	m_SC_XOPEN_STREAMS
,

526 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

528 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

529 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

530 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


531 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

537 
	m_CS_PATH
,

538 
	#_CS_PATH
 
_CS_PATH


	)

540 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

541 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

544 
	m_CS_GNU_LIBC_VERSION
,

545 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

546 
	m_CS_GNU_LIBPTHREAD_VERSION
,

547 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

549 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

550 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

553 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

554 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

557 
	m_CS_LFS_CFLAGS
 = 1000,

558 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

559 
	m_CS_LFS_LDFLAGS
,

560 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

561 
	m_CS_LFS_LIBS
,

562 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

563 
	m_CS_LFS_LINTFLAGS
,

564 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

565 
	m_CS_LFS64_CFLAGS
,

566 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

567 
	m_CS_LFS64_LDFLAGS
,

568 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

569 
	m_CS_LFS64_LIBS
,

570 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

571 
	m_CS_LFS64_LINTFLAGS
,

572 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

575 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

577 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

579 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

580 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

581 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

588 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

589 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

593 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

594 
	m_CS_XBS5_LP64_OFF64_LIBS
,

595 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

596 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

597 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

604 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

605 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

613 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

621 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

622 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

629 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

630 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

637 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

638 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

646 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

654 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

655 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

662 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

663 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

670 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

671 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

673 
	m_CS_V6_ENV
,

674 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

675 
	m_CS_V7_ENV


676 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/environments.h

19 #ide
_UNISTD_H


23 
	~<bs/wdsize.h
>

43 #i
__WORDSIZE
 == 64

57 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

58 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

59 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

62 
	#_POSIX_V7_LP64_OFF64
 1

	)

63 
	#_POSIX_V6_LP64_OFF64
 1

	)

64 
	#_XBS5_LP64_OFF64
 1

	)

70 
	#_POSIX_V7_ILP32_OFF32
 1

	)

71 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

72 
	#_POSIX_V6_ILP32_OFF32
 1

	)

73 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

74 
	#_XBS5_ILP32_OFF32
 1

	)

75 
	#_XBS5_ILP32_OFFBIG
 1

	)

92 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

93 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

94 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

95 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

96 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

97 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

20 #ifde
_ERRNO_H


22 #unde
EDOM


23 #unde
EILSEQ


24 #unde
ERANGE


25 
	~<lux/o.h
>

28 
	#ENOTSUP
 
EOPNOTSUPP


	)

31 #ide
ECANCELED


32 
	#ECANCELED
 125

	)

36 #ide
EOWNERDEAD


37 
	#EOWNERDEAD
 130

	)

38 
	#ENOTRECOVERABLE
 131

	)

41 #ide
ERFKILL


42 
	#ERFKILL
 132

	)

45 #ide
__ASSEMBLER__


47 *
	$__o_loti
 (
__THROW
 
	`__ibu__
 ((
__cڡ__
));

49 #i!
defed
 
_LIBC
 || defed 
_LIBC_REENTRANT


51 
	#o
 (*
	`__o_loti
 ())

	)

56 #i!
defed
 
_ERRNO_H
 && defed 
__ed_Emh


60 
	#EDOM
 33

	)

61 
	#EILSEQ
 84

	)

62 
	#ERANGE
 34

	)

	@/usr/include/bits/fcntl.h

21 #idef 
_FCNTL_H


25 
	~<sys/tys.h
>

26 
	~<bs/wdsize.h
>

27 #ifde
__USE_GNU


28 
	~<bs/uio.h
>

34 
	#O_ACCMODE
 0003

	)

35 
	#O_RDONLY
 00

	)

36 
	#O_WRONLY
 01

	)

37 
	#O_RDWR
 02

	)

38 
	#O_CREAT
 0100

	)

39 
	#O_EXCL
 0200

	)

40 
	#O_NOCTTY
 0400

	)

41 
	#O_TRUNC
 01000

	)

42 
	#O_APPEND
 02000

	)

43 
	#O_NONBLOCK
 04000

	)

44 
	#O_NDELAY
 
O_NONBLOCK


	)

45 
	#O_SYNC
 04010000

	)

46 
	#O_FSYNC
 
O_SYNC


	)

47 
	#O_ASYNC
 020000

	)

49 #ifde
__USE_XOPEN2K8


50 
	#O_DIRECTORY
 0200000

	)

51 
	#O_NOFOLLOW
 0400000

	)

52 
	#O_CLOEXEC
 02000000

	)

54 #ifde
__USE_GNU


55 
	#O_DIRECT
 040000

	)

56 
	#O_NOATIME
 01000000

	)

57 
	#O_PATH
 010000000

	)

63 #i
defed
 
__USE_POSIX199309
 || defed 
__USE_UNIX98


64 
	#O_DSYNC
 010000

	)

65 
	#O_RSYNC
 
O_SYNC


	)

68 #ifde
__USE_LARGEFILE64


69 #i
__WORDSIZE
 == 64

70 
	#O_LARGEFILE
 0

	)

72 
	#O_LARGEFILE
 0100000

	)

77 
	#F_DUPFD
 0

	)

78 
	#F_GETFD
 1

	)

79 
	#F_SETFD
 2

	)

80 
	#F_GETFL
 3

	)

81 
	#F_SETFL
 4

	)

82 #i
__WORDSIZE
 == 64

83 
	#F_GETLK
 5

	)

84 
	#F_SETLK
 6

	)

85 
	#F_SETLKW
 7

	)

87 
	#F_GETLK64
 5

	)

88 
	#F_SETLK64
 6

	)

89 
	#F_SETLKW64
 7

	)

91 #ide
__USE_FILE_OFFSET64


92 
	#F_GETLK
 5

	)

93 
	#F_SETLK
 6

	)

94 
	#F_SETLKW
 7

	)

96 
	#F_GETLK
 
F_GETLK64


	)

97 
	#F_SETLK
 
F_SETLK64


	)

98 
	#F_SETLKW
 
F_SETLKW64


	)

100 
	#F_GETLK64
 12

	)

101 
	#F_SETLK64
 13

	)

102 
	#F_SETLKW64
 14

	)

105 #i
defed
 
__USE_BSD
 || defed 
__USE_UNIX98
 || defed 
__USE_XOPEN2K8


106 
	#F_SETOWN
 8

	)

107 
	#F_GETOWN
 9

	)

110 #ifde
__USE_GNU


111 
	#F_SETSIG
 10

	)

112 
	#F_GETSIG
 11

	)

113 
	#F_SETOWN_EX
 15

	)

114 
	#F_GETOWN_EX
 16

	)

117 #ifde
__USE_GNU


118 
	#F_SETLEASE
 1024

	)

119 
	#F_GETLEASE
 1025

	)

120 
	#F_NOTIFY
 1026

	)

121 
	#F_SETPIPE_SZ
 1031

	)

122 
	#F_GETPIPE_SZ
 1032

	)

124 #ifde
__USE_XOPEN2K8


125 
	#F_DUPFD_CLOEXEC
 1030

	)

130 
	#FD_CLOEXEC
 1

	)

133 
	#F_RDLCK
 0

	)

134 
	#F_WRLCK
 1

	)

135 
	#F_UNLCK
 2

	)

138 
	#F_EXLCK
 4

	)

139 
	#F_SHLCK
 8

	)

141 #ifde
__USE_BSD


143 
	#LOCK_SH
 1

	)

144 
	#LOCK_EX
 2

	)

145 
	#LOCK_NB
 4

	)

147 
	#LOCK_UN
 8

	)

150 #ifde
__USE_GNU


151 
	#LOCK_MAND
 32

	)

152 
	#LOCK_READ
 64

	)

153 
	#LOCK_WRITE
 128

	)

154 
	#LOCK_RW
 192

	)

157 #ifde
__USE_GNU


159 
	#DN_ACCESS
 0x00000001

	)

160 
	#DN_MODIFY
 0x00000002

	)

161 
	#DN_CREATE
 0x00000004

	)

162 
	#DN_DELETE
 0x00000008

	)

163 
	#DN_RENAME
 0x00000010

	)

164 
	#DN_ATTRIB
 0x00000020

	)

165 
	#DN_MULTISHOT
 0x80000000

	)

168 
	sock


170 
	ml_ty
;

171 
	ml_wh
;

172 #ide
__USE_FILE_OFFSET64


173 
__off_t
 
	ml_t
;

174 
__off_t
 
	ml_n
;

176 
__off64_t
 
	ml_t
;

177 
__off64_t
 
	ml_n
;

179 
__pid_t
 
	ml_pid
;

182 #ifde
__USE_LARGEFILE64


183 
	sock64


185 
	ml_ty
;

186 
	ml_wh
;

187 
__off64_t
 
	ml_t
;

188 
__off64_t
 
	ml_n
;

189 
__pid_t
 
	ml_pid
;

193 #ifde
__USE_GNU


195 
	e__pid_ty


197 
	mF_OWNER_TID
 = 0,

198 
	mF_OWNER_PID
,

199 
	mF_OWNER_PGRP
,

200 
	mF_OWNER_GID
 = 
F_OWNER_PGRP


204 
	sf_owr_ex


206 
__pid_ty
 
	mty
;

207 
__pid_t
 
	mpid
;

213 #ifdef 
__USE_BSD


214 
	#FAPPEND
 
O_APPEND


	)

215 
	#FFSYNC
 
O_FSYNC


	)

216 
	#FASYNC
 
O_ASYNC


	)

217 
	#FNONBLOCK
 
O_NONBLOCK


	)

218 
	#FNDELAY
 
O_NDELAY


	)

222 #ifde
__USE_XOPEN2K


223 
	#POSIX_FADV_NORMAL
 0

	)

224 
	#POSIX_FADV_RANDOM
 1

	)

225 
	#POSIX_FADV_SEQUENTIAL
 2

	)

226 
	#POSIX_FADV_WILLNEED
 3

	)

227 
	#POSIX_FADV_DONTNEED
 4

	)

228 
	#POSIX_FADV_NOREUSE
 5

	)

232 #ifde
__USE_GNU


234 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

237 
	#SYNC_FILE_RANGE_WRITE
 2

	)

240 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

245 
	#SPLICE_F_MOVE
 1

	)

246 
	#SPLICE_F_NONBLOCK
 2

	)

249 
	#SPLICE_F_MORE
 4

	)

250 
	#SPLICE_F_GIFT
 8

	)

254 
	sfe_hd


256 
	mhd_bys
;

257 
	mhd_ty
;

259 
	mf_hd
[0];

263 
	#MAX_HANDLE_SZ
 128

	)

267 #ifde
__USE_ATFILE


268 
	#AT_FDCWD
 -100

	)

271 
	#AT_SYMLINK_NOFOLLOW
 0x100

	)

272 
	#AT_REMOVEDIR
 0x200

	)

274 
	#AT_SYMLINK_FOLLOW
 0x400

	)

275 
	#AT_NO_AUTOMOUNT
 0x800

	)

277 
	#AT_EMPTY_PATH
 0x1000

	)

278 
	#AT_EACCESS
 0x200

	)

282 
	g__BEGIN_DECLS


284 #ifde
__USE_GNU


287 
ssize_t
 
	$adahd
 (
__fd
, 
__off64_t
 
__offt
, 
size_t
 
__cou
)

288 
__THROW
;

295 
	`sync_fe_nge
 (
__fd
, 
__off64_t
 
__offt
, __off64_
__cou
,

296 
__ags
);

303 
ssize_t
 
	`vmli
 (
__fdout
, cڡ 
iovec
 *
__iov
,

304 
size_t
 
__cou
, 
__ags
);

310 
ssize_t
 
	`li
 (
__fd
, 
__off64_t
 *
__off
, 
__fdout
,

311 
__off64_t
 *
__offout
, 
size_t
 
__n
,

312 
__ags
);

318 
ssize_t
 
	`e
 (
__fd
, 
__fdout
, 
size_t
 
__n
,

319 
__ags
);

325 #ide
__USE_FILE_OFFSET64


326 
	`o
 (
__fd
, 
__mode
, 
__off_t
 
__offt
, __off_
__n
);

328 #ifde
__REDIRECT


329 
	`__REDIRECT
 (
o
, (
__fd
, 
__mode
, 
__off64_t
 
__offt
,

330 
__off64_t
 
__n
),

331 
o64
);

333 
	#o
 
o64


	)

336 #ifde
__USE_LARGEFILE64


337 
	`o64
 (
__fd
, 
__mode
, 
__off64_t
 
__offt
,

338 
__off64_t
 
__n
);

343 
	$me_to_hd_
 (
__dfd
, cڡ *
__me
,

344 
fe_hd
 *
__hd
, *
__m_id
,

345 
__ags

__THROW
;

351 
	`ݒ_by_hd_
 (
__moudfd
, 
fe_hd
 *
__hd
,

352 
__ags
);

356 
__END_DECLS


	@/usr/include/bits/fcntl2.h

20 #idef 
_FCNTL_H


26 #ide
__USE_FILE_OFFSET64


27 
	$__ݒ_2
 (
__cڡ
 *
__th
, 
__oag

	`__nnu
 ((1));

28 
	`__REDIRECT
 (
__ݒ_s
, (
__cڡ
 *
__th
, 
__oag
, ...),

29 
ݒ

	`__nnu
 ((1));

31 
	`__REDIRECT
 (
__ݒ_2
, (
__cڡ
 *
__th
, 
__oag
),

32 
__ݒ64_2

	`__nnu
 ((1));

33 
	`__REDIRECT
 (
__ݒ_s
, (
__cڡ
 *
__th
, 
__oag
, ...),

34 
ݒ64

	`__nnu
 ((1));

36 
	`__rde
 (
__ݒ_too_my_gs
,

38 
	`__rde
 (
__ݒ_missg_mode
,

41 
__ex_ways_le
 

42 
	$ݒ
 (
__cڡ
 *
__th
, 
__oag
, ...)

44 i(
	`__va_g_ck_n
 () > 1)

45 
	`__ݒ_too_my_gs
 ();

47 i(
	`__but_cڡt_p
 (
__oag
))

49 i((
__oag
 & 
O_CREAT
!0 && 
	`__va_g_ck_n
 () < 1)

51 
	`__ݒ_missg_mode
 ();

52  
	`__ݒ_2
 (
__th
, 
__oag
);

54  
	`__ݒ_s
 (
__th
, 
__oag
, 
	`__va_g_ck
 ());

57 i(
	`__va_g_ck_n
 () < 1)

58  
	`__ݒ_2
 (
__th
, 
__oag
);

60  
	`__ݒ_s
 (
__th
, 
__oag
, 
	`__va_g_ck
 ());

61 
	}
}

64 #ifde
__USE_LARGEFILE64


65 
	$__ݒ64_2
 (
__cڡ
 *
__th
, 
__oag

	`__nnu
 ((1));

66 
	`__REDIRECT
 (
__ݒ64_s
, (
__cڡ
 *
__th
, 
__oag
,

67 ...), 
ݒ64

	`__nnu
 ((1));

68 
	`__rde
 (
__ݒ64_too_my_gs
,

70 
	`__rde
 (
__ݒ64_missg_mode
,

73 
__ex_ways_le
 

74 
	$ݒ64
 (
__cڡ
 *
__th
, 
__oag
, ...)

76 i(
	`__va_g_ck_n
 () > 1)

77 
	`__ݒ64_too_my_gs
 ();

79 i(
	`__but_cڡt_p
 (
__oag
))

81 i((
__oag
 & 
O_CREAT
!0 && 
	`__va_g_ck_n
 () < 1)

83 
	`__ݒ64_missg_mode
 ();

84  
	`__ݒ64_2
 (
__th
, 
__oag
);

86  
	`__ݒ64_s
 (
__th
, 
__oag
, 
	`__va_g_ck
 ());

89 i(
	`__va_g_ck_n
 () < 1)

90  
	`__ݒ64_2
 (
__th
, 
__oag
);

92  
	`__ݒ64_s
 (
__th
, 
__oag
, 
	`__va_g_ck
 ());

93 
	}
}

97 #ifde
__USE_ATFILE


98 #ide
__USE_FILE_OFFSET64


99 
	$__ݒ_2
 (
__fd
, 
__cڡ
 *
__th
, 
__oag
)

100 
	`__nnu
 ((2));

101 
	`__REDIRECT
 (
__ݒ_s
, (
__fd
, 
__cڡ
 *
__th
,

102 
__oag
, ...), 
ݒ
)

103 
	`__nnu
 ((2));

105 
	`__REDIRECT
 (
__ݒ_2
, (
__fd
, 
__cڡ
 *
__th
,

106 
__oag
), 
__ݒ64_2
)

107 
	`__nnu
 ((2));

108 
	`__REDIRECT
 (
__ݒ_s
, (
__fd
, 
__cڡ
 *
__th
,

109 
__oag
, ...), 
ݒ64
)

110 
	`__nnu
 ((2));

112 
	`__rde
 (
__ݒ_too_my_gs
,

114 
	`__rde
 (
__ݒ_missg_mode
,

117 
__ex_ways_le
 

118 
	$ݒ
 (
__fd
, 
__cڡ
 *
__th
, 
__oag
, ...)

120 i(
	`__va_g_ck_n
 () > 1)

121 
	`__ݒ_too_my_gs
 ();

123 i(
	`__but_cڡt_p
 (
__oag
))

125 i((
__oag
 & 
O_CREAT
!0 && 
	`__va_g_ck_n
 () < 1)

127 
	`__ݒ_missg_mode
 ();

128  
	`__ݒ_2
 (
__fd
, 
__th
, 
__oag
);

130  
	`__ݒ_s
 (
__fd
, 
__th
, 
__oag
, 
	`__va_g_ck
 ());

133 i(
	`__va_g_ck_n
 () < 1)

134  
	`__ݒ_2
 (
__fd
, 
__th
, 
__oag
);

136  
	`__ݒ_s
 (
__fd
, 
__th
, 
__oag
, 
	`__va_g_ck
 ());

137 
	}
}

140 #ifde
__USE_LARGEFILE64


141 
	$__ݒ64_2
 (
__fd
, 
__cڡ
 *
__th
, 
__oag
)

142 
	`__nnu
 ((2));

143 
	`__REDIRECT
 (
__ݒ64_s
, (
__fd
, 
__cڡ
 *
__th
,

144 
__oag
, ...), 
ݒ64
)

145 
	`__nnu
 ((2));

146 
	`__rde
 (
__ݒ64_too_my_gs
,

148 
	`__rde
 (
__ݒ64_missg_mode
,

151 
__ex_ways_le
 

152 
	$ݒ64
 (
__fd
, 
__cڡ
 *
__th
, 
__oag
, ...)

154 i(
	`__va_g_ck_n
 () > 1)

155 
	`__ݒ64_too_my_gs
 ();

157 i(
	`__but_cڡt_p
 (
__oag
))

159 i((
__oag
 & 
O_CREAT
!0 && 
	`__va_g_ck_n
 () < 1)

161 
	`__ݒ64_missg_mode
 ();

162  
	`__ݒ64_2
 (
__fd
, 
__th
, 
__oag
);

164  
	`__ݒ64_s
 (
__fd
, 
__th
, 
__oag
, 
	`__va_g_ck
 ());

167 i(
	`__va_g_ck_n
 () < 1)

168  
	`__ݒ64_2
 (
__fd
, 
__th
, 
__oag
);

170  
	`__ݒ64_s
 (
__fd
, 
__th
, 
__oag
, 
	`__va_g_ck
 ());

171 
	}
}

	@/usr/include/bits/in.h

21 #ide
_NETINET_IN_H


28 
	#IP_OPTIONS
 4

	)

29 
	#IP_HDRINCL
 3

	)

30 
	#IP_TOS
 1

	)

31 
	#IP_TTL
 2

	)

32 
	#IP_RECVOPTS
 6

	)

34 
	#IP_RECVRETOPTS
 
IP_RETOPTS


	)

35 
	#IP_RETOPTS
 7

	)

36 
	#IP_MULTICAST_IF
 32

	)

37 
	#IP_MULTICAST_TTL
 33

	)

38 
	#IP_MULTICAST_LOOP
 34

	)

39 
	#IP_ADD_MEMBERSHIP
 35

	)

40 
	#IP_DROP_MEMBERSHIP
 36

	)

41 
	#IP_UNBLOCK_SOURCE
 37

	)

42 
	#IP_BLOCK_SOURCE
 38

	)

43 
	#IP_ADD_SOURCE_MEMBERSHIP
 39

	)

44 
	#IP_DROP_SOURCE_MEMBERSHIP
 40

	)

45 
	#IP_MSFILTER
 41

	)

46 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


47 
	#MCAST_JOIN_GROUP
 42

	)

48 
	#MCAST_BLOCK_SOURCE
 43

	)

49 
	#MCAST_UNBLOCK_SOURCE
 44

	)

50 
	#MCAST_LEAVE_GROUP
 45

	)

51 
	#MCAST_JOIN_SOURCE_GROUP
 46

	)

52 
	#MCAST_LEAVE_SOURCE_GROUP
 47

	)

53 
	#MCAST_MSFILTER
 48

	)

55 
	#MCAST_EXCLUDE
 0

	)

56 
	#MCAST_INCLUDE
 1

	)

59 
	#IP_ROUTER_ALERT
 5

	)

60 
	#IP_PKTINFO
 8

	)

61 
	#IP_PKTOPTIONS
 9

	)

62 
	#IP_PMTUDISC
 10

	)

63 
	#IP_MTU_DISCOVER
 10

	)

64 
	#IP_RECVERR
 11

	)

65 
	#IP_RECVTTL
 12

	)

66 
	#IP_RECVTOS
 13

	)

67 
	#IP_MTU
 14

	)

68 
	#IP_FREEBIND
 15

	)

69 
	#IP_IPSEC_POLICY
 16

	)

70 
	#IP_XFRM_POLICY
 17

	)

71 
	#IP_PASSSEC
 18

	)

72 
	#IP_TRANSPARENT
 19

	)

73 
	#IP_MULTICAST_ALL
 49

	)

76 
	#IP_ORIGDSTADDR
 20

	)

77 
	#IP_RECVORIGDSTADDR
 
IP_ORIGDSTADDR


	)

79 
	#IP_MINTTL
 21

	)

83 
	#IP_PMTUDISC_DONT
 0

	)

84 
	#IP_PMTUDISC_WANT
 1

	)

85 
	#IP_PMTUDISC_DO
 2

	)

86 
	#IP_PMTUDISC_PROBE
 3

	)

89 
	#SOL_IP
 0

	)

91 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

92 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

93 
	#IP_MAX_MEMBERSHIPS
 20

	)

95 #i
defed
 
__USE_MISC
 || defed 
__USE_GNU


99 
	s_ts


101 
_addr
 
	m_d
;

102 
	m_ts
[40];

106 
	s_mqn


108 
_addr
 
	mimr_muɟddr
;

109 
_addr
 
	mimr_addss
;

110 
	mimr_ifdex
;

114 
	s_pktfo


116 
	mi_ifdex
;

117 
_addr
 
	mi_ec_d
;

118 
_addr
 
	mi_addr
;

125 
	#IPV6_ADDRFORM
 1

	)

126 
	#IPV6_2292PKTINFO
 2

	)

127 
	#IPV6_2292HOPOPTS
 3

	)

128 
	#IPV6_2292DSTOPTS
 4

	)

129 
	#IPV6_2292RTHDR
 5

	)

130 
	#IPV6_2292PKTOPTIONS
 6

	)

131 
	#IPV6_CHECKSUM
 7

	)

132 
	#IPV6_2292HOPLIMIT
 8

	)

134 
	#SCM_SRCRT
 
IPV6_RXSRCRT


	)

136 
	#IPV6_NEXTHOP
 9

	)

137 
	#IPV6_AUTHHDR
 10

	)

138 
	#IPV6_UNICAST_HOPS
 16

	)

139 
	#IPV6_MULTICAST_IF
 17

	)

140 
	#IPV6_MULTICAST_HOPS
 18

	)

141 
	#IPV6_MULTICAST_LOOP
 19

	)

142 
	#IPV6_JOIN_GROUP
 20

	)

143 
	#IPV6_LEAVE_GROUP
 21

	)

144 
	#IPV6_ROUTER_ALERT
 22

	)

145 
	#IPV6_MTU_DISCOVER
 23

	)

146 
	#IPV6_MTU
 24

	)

147 
	#IPV6_RECVERR
 25

	)

148 
	#IPV6_V6ONLY
 26

	)

149 
	#IPV6_JOIN_ANYCAST
 27

	)

150 
	#IPV6_LEAVE_ANYCAST
 28

	)

151 
	#IPV6_IPSEC_POLICY
 34

	)

152 
	#IPV6_XFRM_POLICY
 35

	)

154 
	#IPV6_RECVPKTINFO
 49

	)

155 
	#IPV6_PKTINFO
 50

	)

156 
	#IPV6_RECVHOPLIMIT
 51

	)

157 
	#IPV6_HOPLIMIT
 52

	)

158 
	#IPV6_RECVHOPOPTS
 53

	)

159 
	#IPV6_HOPOPTS
 54

	)

160 
	#IPV6_RTHDRDSTOPTS
 55

	)

161 
	#IPV6_RECVRTHDR
 56

	)

162 
	#IPV6_RTHDR
 57

	)

163 
	#IPV6_RECVDSTOPTS
 58

	)

164 
	#IPV6_DSTOPTS
 59

	)

166 
	#IPV6_RECVTCLASS
 66

	)

167 
	#IPV6_TCLASS
 67

	)

170 
	#IPV6_ADD_MEMBERSHIP
 
IPV6_JOIN_GROUP


	)

171 
	#IPV6_DROP_MEMBERSHIP
 
IPV6_LEAVE_GROUP


	)

172 
	#IPV6_RXHOPOPTS
 
IPV6_HOPOPTS


	)

173 
	#IPV6_RXDSTOPTS
 
IPV6_DSTOPTS


	)

176 
	#IPV6_PMTUDISC_DONT
 0

	)

177 
	#IPV6_PMTUDISC_WANT
 1

	)

178 
	#IPV6_PMTUDISC_DO
 2

	)

179 
	#IPV6_PMTUDISC_PROBE
 3

	)

182 
	#SOL_IPV6
 41

	)

183 
	#SOL_ICMPV6
 58

	)

186 
	#IPV6_RTHDR_LOOSE
 0

	)

187 
	#IPV6_RTHDR_STRICT
 1

	)

189 
	#IPV6_RTHDR_TYPE_0
 0

	)

	@/usr/include/bits/ioctl-types.h

20 #ide
_SYS_IOCTL_H


25 
	~<asm/iols.h
>

28 
	swsize


30 
	mws_row
;

31 
	mws_c
;

32 
	mws_xpix
;

33 
	mws_ypix
;

36 
	#NCC
 8

	)

37 
	srmio


39 
	mc_iag
;

40 
	mc_oag
;

41 
	mc_cag
;

42 
	mc_lag
;

43 
	mc_le
;

44 
	mc_cc
[
NCC
];

48 
	#TIOCM_LE
 0x001

	)

49 
	#TIOCM_DTR
 0x002

	)

50 
	#TIOCM_RTS
 0x004

	)

51 
	#TIOCM_ST
 0x008

	)

52 
	#TIOCM_SR
 0x010

	)

53 
	#TIOCM_CTS
 0x020

	)

54 
	#TIOCM_CAR
 0x040

	)

55 
	#TIOCM_RNG
 0x080

	)

56 
	#TIOCM_DSR
 0x100

	)

57 
	#TIOCM_CD
 
TIOCM_CAR


	)

58 
	#TIOCM_RI
 
TIOCM_RNG


	)

63 
	#N_TTY
 0

	)

64 
	#N_SLIP
 1

	)

65 
	#N_MOUSE
 2

	)

66 
	#N_PPP
 3

	)

67 
	#N_STRIP
 4

	)

68 
	#N_AX25
 5

	)

69 
	#N_X25
 6

	)

70 
	#N_6PACK
 7

	)

71 
	#N_MASC
 8

	)

72 
	#N_R3964
 9

	)

73 
	#N_PROFIBUS_FDL
 10

	)

74 
	#N_IRDA
 11

	)

75 
	#N_SMSBLOCK
 12

	)

76 
	#N_HDLC
 13

	)

77 
	#N_SYNC_PPP
 14

	)

78 
	#N_HCI
 15

	)

	@/usr/include/bits/ioctls.h

19 #ide
_SYS_IOCTL_H


24 
	~<asm/iols.h
>

27 
	#SIOCADDRT
 0x890B

	)

28 
	#SIOCDELRT
 0x890C

	)

29 
	#SIOCRTMSG
 0x890D

	)

32 
	#SIOCGIFNAME
 0x8910

	)

33 
	#SIOCSIFLINK
 0x8911

	)

34 
	#SIOCGIFCONF
 0x8912

	)

35 
	#SIOCGIFFLAGS
 0x8913

	)

36 
	#SIOCSIFFLAGS
 0x8914

	)

37 
	#SIOCGIFADDR
 0x8915

	)

38 
	#SIOCSIFADDR
 0x8916

	)

39 
	#SIOCGIFDSTADDR
 0x8917

	)

40 
	#SIOCSIFDSTADDR
 0x8918

	)

41 
	#SIOCGIFBRDADDR
 0x8919

	)

42 
	#SIOCSIFBRDADDR
 0x891

	)

43 
	#SIOCGIFNETMASK
 0x891b

	)

44 
	#SIOCSIFNETMASK
 0x891

	)

45 
	#SIOCGIFMETRIC
 0x891d

	)

46 
	#SIOCSIFMETRIC
 0x891

	)

47 
	#SIOCGIFMEM
 0x891

	)

48 
	#SIOCSIFMEM
 0x8920

	)

49 
	#SIOCGIFMTU
 0x8921

	)

50 
	#SIOCSIFMTU
 0x8922

	)

51 
	#SIOCSIFNAME
 0x8923

	)

52 
	#SIOCSIFHWADDR
 0x8924

	)

53 
	#SIOCGIFENCAP
 0x8925

	)

54 
	#SIOCSIFENCAP
 0x8926

	)

55 
	#SIOCGIFHWADDR
 0x8927

	)

56 
	#SIOCGIFSLAVE
 0x8929

	)

57 
	#SIOCSIFSLAVE
 0x8930

	)

58 
	#SIOCADDMULTI
 0x8931

	)

59 
	#SIOCDELMULTI
 0x8932

	)

60 
	#SIOCGIFINDEX
 0x8933

	)

61 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

62 
	#SIOCSIFPFLAGS
 0x8934

	)

63 
	#SIOCGIFPFLAGS
 0x8935

	)

64 
	#SIOCDIFADDR
 0x8936

	)

65 
	#SIOCSIFHWBROADCAST
 0x8937

	)

66 
	#SIOCGIFCOUNT
 0x8938

	)

68 
	#SIOCGIFBR
 0x8940

	)

69 
	#SIOCSIFBR
 0x8941

	)

71 
	#SIOCGIFTXQLEN
 0x8942

	)

72 
	#SIOCSIFTXQLEN
 0x8943

	)

77 
	#SIOCDARP
 0x8953

	)

78 
	#SIOCGARP
 0x8954

	)

79 
	#SIOCSARP
 0x8955

	)

82 
	#SIOCDRARP
 0x8960

	)

83 
	#SIOCGRARP
 0x8961

	)

84 
	#SIOCSRARP
 0x8962

	)

88 
	#SIOCGIFMAP
 0x8970

	)

89 
	#SIOCSIFMAP
 0x8971

	)

93 
	#SIOCADDDLCI
 0x8980

	)

94 
	#SIOCDELDLCI
 0x8981

	)

103 
	#SIOCDEVPRIVATE
 0x89F0

	)

109 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/bits/ipc.h

19 #ide
_SYS_IPC_H


23 
	~<bs/tys.h
>

26 
	#IPC_CREAT
 01000

	)

27 
	#IPC_EXCL
 02000

	)

28 
	#IPC_NOWAIT
 04000

	)

31 
	#IPC_RMID
 0

	)

32 
	#IPC_SET
 1

	)

33 
	#IPC_STAT
 2

	)

34 #ifde
__USE_GNU


35 
	#IPC_INFO
 3

	)

39 
	#IPC_PRIVATE
 ((
__key_t
0

	)

43 
	sc_rm


45 
__key_t
 
	m__key
;

46 
__uid_t
 
	muid
;

47 
__gid_t
 
	mgid
;

48 
__uid_t
 
	mcuid
;

49 
__gid_t
 
	mcgid
;

50 
	mmode
;

51 
	m__d1
;

52 
	m__q
;

53 
	m__d2
;

54 
	m__unud1
;

55 
	m__unud2
;

	@/usr/include/bits/ipctypes.h

24 #ide
_BITS_IPCTYPES_H


25 
	#_BITS_IPCTYPES_H
 1

	)

27 
	~<bs/tys.h
>

30 #i
__WORDSIZE
 == 32

31 
	t__c_pid_t
;

33 
	t__c_pid_t
;

	@/usr/include/bits/msq.h

19 #ide
_SYS_MSG_H


23 
	~<bs/tys.h
>

24 
	~<bs/wdsize.h
>

27 
	#MSG_NOERROR
 010000

	)

28 #ifde
__USE_GNU


29 
	#MSG_EXCEPT
 020000

	)

33 
	tmsgqnum_t
;

34 
	tmsgn_t
;

38 
	smsqid_ds


40 
c_rm
 
	mmsg_rm
;

41 
__time_t
 
	mmsg_ime
;

42 #i
__WORDSIZE
 == 32

43 
	m__unud1
;

45 
__time_t
 
	mmsg_ime
;

46 #i
__WORDSIZE
 == 32

47 
	m__unud2
;

49 
__time_t
 
	mmsg_ime
;

50 #i
__WORDSIZE
 == 32

51 
	m__unud3
;

53 
	m__msg_cbys
;

54 
msgqnum_t
 
	mmsg_qnum
;

55 
msgn_t
 
	mmsg_qbys
;

56 
__pid_t
 
	mmsg_lid
;

57 
__pid_t
 
	mmsg_pid
;

58 
	m__unud4
;

59 
	m__unud5
;

62 #ifde
__USE_MISC


64 
	#msg_cbys
 
__msg_cbys


	)

67 
	#MSG_STAT
 11

	)

68 
	#MSG_INFO
 12

	)

71 
	smsgfo


73 
	mmsgpo
;

74 
	mmsgm
;

75 
	mmsgmax
;

76 
	mmsgmnb
;

77 
	mmsgmni
;

78 
	mmsgssz
;

79 
	mmsgtql
;

80 
	mmsgg
;

	@/usr/include/bits/posix_opt.h

20 #idef 
_BITS_POSIX_OPT_H


21 
	#_BITS_POSIX_OPT_H
 1

	)

24 
	#_POSIX_JOB_CONTROL
 1

	)

27 
	#_POSIX_SAVED_IDS
 1

	)

30 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

33 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

36 
	#_POSIX_FSYNC
 200809L

	)

39 
	#_POSIX_MAPPED_FILES
 200809L

	)

42 
	#_POSIX_MEMLOCK
 200809L

	)

45 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

48 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

51 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

55 
	#_POSIX_VDISABLE
 '\0'

	)

58 
	#_POSIX_NO_TRUNC
 1

	)

61 
	#_XOPEN_REALTIME
 1

	)

64 
	#_XOPEN_REALTIME_THREADS
 1

	)

67 
	#_XOPEN_SHM
 1

	)

70 
	#_POSIX_THREADS
 200809L

	)

73 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

74 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

77 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

80 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

83 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

86 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

90 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

92 #ifde
__USE_XOPEN2K8


94 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

97 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

101 
	#_POSIX_SEMAPHORES
 200809L

	)

104 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

107 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

108 
	#_POSIX_ASYNC_IO
 1

	)

110 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

112 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

115 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

118 
	#_LFS_LARGEFILE
 1

	)

119 
	#_LFS64_LARGEFILE
 1

	)

120 
	#_LFS64_STDIO
 1

	)

123 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

126 
	#_POSIX_CPUTIME
 0

	)

129 
	#_POSIX_THREAD_CPUTIME
 0

	)

132 
	#_POSIX_REGEXP
 1

	)

135 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

138 
	#_POSIX_SHELL
 1

	)

141 
	#_POSIX_TIMEOUTS
 200809L

	)

144 
	#_POSIX_SPIN_LOCKS
 200809L

	)

147 
	#_POSIX_SPAWN
 200809L

	)

150 
	#_POSIX_TIMERS
 200809L

	)

153 
	#_POSIX_BARRIERS
 200809L

	)

156 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

159 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

162 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

165 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

168 
	#_POSIX_ADVISORY_INFO
 200809L

	)

171 
	#_POSIX_IPV6
 200809L

	)

174 
	#_POSIX_RAW_SOCKETS
 200809L

	)

177 
	#_POSIX2_CHAR_TERM
 200809L

	)

180 
	#_POSIX_SPORADIC_SERVER
 -1

	)

181 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

184 
	#_POSIX_TRACE
 -1

	)

185 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

186 
	#_POSIX_TRACE_INHERIT
 -1

	)

187 
	#_POSIX_TRACE_LOG
 -1

	)

190 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

20 #ide
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<bs/wdsize.h
>

25 #i
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	thad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__ign
;

57 } 
	thad__t
;

60 #i
__WORDSIZE
 == 64

61 
	s__had__li


63 
__had__li
 *
	m__ev
;

64 
__had__li
 *
	m__xt
;

65 } 
	t__had_li_t
;

67 
	s__had__i


69 
__had__i
 *
	m__xt
;

70 } 
	t__had_i_t
;

78 
	s__had_mux_s


80 
	m__lock
;

81 
	m__cou
;

82 
	m__owr
;

83 #i
__WORDSIZE
 == 64

84 
	m__nurs
;

88 
	m__kd
;

89 #i
__WORDSIZE
 == 64

90 
	m__s
;

91 
__had_li_t
 
	m__li
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nurs
;

95 
__exnsi__
 union

97 
	m__s
;

98 
__had_i_t
 
	m__li
;

101 } 
	m__da
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__ign
;

104 } 
	thad_mux_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__ign
;

110 } 
	thad_mux_t
;

119 
	m__lock
;

120 
	m__fux
;

121 
__exnsi__
 
	m__tٮ_q
;

122 
__exnsi__
 
	m__wakeup_q
;

123 
__exnsi__
 
	m__wok_q
;

124 *
	m__mux
;

125 
	m__nwas
;

126 
	m__brd_q
;

127 } 
	m__da
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__exnsi__
 
	m__ign
;

130 } 
	thad_cd_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__ign
;

136 } 
	thad_cd_t
;

140 
	thad_key_t
;

144 
	thad__t
;

147 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


152 #i
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m___ads
;

157 
	m__ads_wakeup
;

158 
	m__wr_wakeup
;

159 
	m___ads_queued
;

160 
	m___wrs_queued
;

161 
	m__wr
;

162 
	m__shed
;

163 
	m__d1
;

164 
	m__d2
;

167 
	m__ags
;

168 } 
	m__da
;

172 
	m__lock
;

173 
	m___ads
;

174 
	m__ads_wakeup
;

175 
	m__wr_wakeup
;

176 
	m___ads_queued
;

177 
	m___wrs_queued
;

180 
	m__ags
;

181 
	m__shed
;

182 
	m__d1
;

183 
	m__d2
;

184 
	m__wr
;

185 } 
	m__da
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__ign
;

189 } 
	thad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__ign
;

195 } 
	thad_rwlock_t
;

199 #ifde
__USE_XOPEN2K


201 vީ
	thad_lock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__ign
;

210 } 
	thad_brr_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__ign
;

216 } 
	thad_brr_t
;

220 #i
__WORDSIZE
 == 32

222 
	#__nup_f_ibu
 
	`__ibu__
 ((
	`__grm__
 (1)))

	)

	@/usr/include/bits/semaphore.h

20 #ide
_SEMAPHORE_H


24 
	~<bs/wdsize.h
>

26 #i
__WORDSIZE
 == 64

27 
	#__SIZEOF_SEM_T
 32

	)

29 
	#__SIZEOF_SEM_T
 16

	)

34 
	#SEM_FAILED
 ((
m_t
 *0)

	)

39 
	m__size
[
__SIZEOF_SEM_T
];

40 
	m__ign
;

41 } 
	tm_t
;

	@/usr/include/bits/setjmp.h

20 #ide
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #i!
defed
 
_SETJMP_H
 && !defed 
_PTHREAD_H


27 
	~<bs/wdsize.h
>

29 #ide
_ASM


31 #i
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/bits/shm.h

20 #ide
_SYS_SHM_H


24 
	~<bs/tys.h
>

27 
	#SHM_R
 0400

	)

28 
	#SHM_W
 0200

	)

31 
	#SHM_RDONLY
 010000

	)

32 
	#SHM_RND
 020000

	)

33 
	#SHM_REMAP
 040000

	)

34 
	#SHM_EXEC
 0100000

	)

37 
	#SHM_LOCK
 11

	)

38 
	#SHM_UNLOCK
 12

	)

40 
	g__BEGIN_DECLS


43 
	#SHMLBA
 (
	`__ggesize
 ())

	)

44 
	$__ggesize
 (
__THROW
 
	`__ibu__
 ((
__cڡ__
));

48 
	tshmt_t
;

51 
	sshmid_ds


53 
c_rm
 
shm_rm
;

54 
size_t
 
shm_gsz
;

55 
__time_t
 
shm_ime
;

56 #i
__WORDSIZE
 == 32

57 
__unud1
;

59 
__time_t
 
shm_dtime
;

60 #i
__WORDSIZE
 == 32

61 
__unud2
;

63 
__time_t
 
shm_ime
;

64 #i
__WORDSIZE
 == 32

65 
__unud3
;

67 
__pid_t
 
shm_id
;

68 
__pid_t
 
shm_id
;

69 
shmt_t
 
shm_ǉch
;

70 
__unud4
;

71 
__unud5
;

74 #ifde
__USE_MISC


77 
	#SHM_STAT
 13

	)

78 
	#SHM_INFO
 14

	)

81 
	#SHM_DEST
 01000

	)

82 
	#SHM_LOCKED
 02000

	)

83 
	#SHM_HUGETLB
 04000

	)

84 
	#SHM_NORESERVE
 010000

	)

86 
	sshmfo


88 
shmmax
;

89 
shmm
;

90 
shmmni
;

91 
shmg
;

92 
shml
;

93 
__unud1
;

94 
__unud2
;

95 
__unud3
;

96 
__unud4
;

99 
	sshm_fo


101 
ud_ids
;

102 
shm_t
;

103 
shm_rss
;

104 
shm_swp
;

105 
sw_ms
;

106 
sw_sucss
;

111 
__END_DECLS


	@/usr/include/bits/sigaction.h

20 #ide
_SIGNAL_H


25 
	ssigai


28 #ifde
__USE_POSIX199309


32 
__sighdr_t
 
	m_hdr
;

34 (*
	m_sigai
(, 
	msigfo_t
 *, *);

36 
	m__sigai_hdr
;

37 
	#_hdr
 
__sigai_hdr
.
_hdr


	)

38 
	#_sigai
 
__sigai_hdr
.
_sigai


	)

40 
__sighdr_t
 
	m_hdr
;

44 
__sigt_t
 
	m_mask
;

47 
	m_ags
;

50 (*
	m_ܔ
) ();

54 
	#SA_NOCLDSTOP
 1

	)

55 
	#SA_NOCLDWAIT
 2

	)

56 
	#SA_SIGINFO
 4

	)

58 #i
defed
 
__USE_UNIX98
 || defed 
__USE_MISC


59 
	#SA_ONSTACK
 0x08000000

	)

61 #i
defed
 
__USE_UNIX98
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN2K8


62 
	#SA_RESTART
 0x10000000

	)

63 
	#SA_NODEFER
 0x40000000

	)

65 
	#SA_RESETHAND
 0x80000000

	)

67 #ifde
__USE_MISC


68 
	#SA_INTERRUPT
 0x20000000

	)

71 
	#SA_NOMASK
 
SA_NODEFER


	)

72 
	#SA_ONESHOT
 
SA_RESETHAND


	)

73 
	#SA_STACK
 
SA_ONSTACK


	)

77 
	#SIG_BLOCK
 0

	)

78 
	#SIG_UNBLOCK
 1

	)

79 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

19 #ide
_BITS_SIGCONTEXT_H


20 
	#_BITS_SIGCONTEXT_H
 1

	)

22 #i!
defed
 
_SIGNAL_H
 && !defed 
_SYS_UCONTEXT_H


26 
	~<bs/wdsize.h
>

28 
	s_g


30 
	msignifind
[4];

31 
	mexpڒt
;

34 
	s_xg


36 
	msignifind
[4];

37 
	mexpڒt
;

38 
	mddg
[3];

41 
	s_xmmg


43 
__ut32_t
 
	memt
[4];

48 #i
__WORDSIZE
 == 32

50 
	s_塩e


53 
__ut32_t
 
	mcw
;

54 
__ut32_t
 
	msw
;

55 
__ut32_t
 
	mg
;

56 
__ut32_t
 
	moff
;

57 
__ut32_t
 
	mcsl
;

58 
__ut32_t
 
	mdaoff
;

59 
__ut32_t
 
	mdal
;

60 
_g
 
	m_
[8];

61 
	mus
;

62 
	mmagic
;

65 
__ut32_t
 
	m_fx_v
[6];

66 
__ut32_t
 
	mmxc
;

67 
__ut32_t
 
	mrved
;

68 
_xg
 
	m_fx_
[8];

69 
_xmmg
 
	m_xmm
[8];

70 
__ut32_t
 
	mddg
[56];

73 #ide
sigcڋxt_ru


78 
	#sigcڋxt_ru
 
sigcڋxt


	)

81 
	ssigcڋxt


83 
	mgs
, 
	m__gsh
;

84 
	mfs
, 
	m__fsh
;

85 
	mes
, 
	m__esh
;

86 
	mds
, 
	m__dsh
;

87 
	medi
;

88 
	mesi
;

89 
	mebp
;

90 
	me
;

91 
	mebx
;

92 
	medx
;

93 
	mecx
;

94 
	mx
;

95 
	mno
;

96 
	mr
;

97 
	me
;

98 
	mcs
, 
	m__csh
;

99 
	meags
;

100 
	me__sigl
;

101 
	mss
, 
	m__ssh
;

102 
_塩e
 * 
	m塩e
;

103 
	mdmask
;

104 
	m2
;

109 
	s_塩e


112 
__ut16_t
 
	mcwd
;

113 
__ut16_t
 
	mswd
;

114 
__ut16_t
 
	mw
;

115 
__ut16_t
 
	mf
;

116 
__ut64_t
 
	mr
;

117 
__ut64_t
 
	mrdp
;

118 
__ut32_t
 
	mmxc
;

119 
__ut32_t
 
	mmx_mask
;

120 
_xg
 
	m_
[8];

121 
_xmmg
 
	m_xmm
[16];

122 
__ut32_t
 
	mddg
[24];

125 
	ssigcڋxt


127 
	mr8
;

128 
	mr9
;

129 
	mr10
;

130 
	mr11
;

131 
	mr12
;

132 
	mr13
;

133 
	mr14
;

134 
	mr15
;

135 
	mrdi
;

136 
	mrsi
;

137 
	mrbp
;

138 
	mrbx
;

139 
	mrdx
;

140 
	mx
;

141 
	mrcx
;

142 
	mr
;

143 
	mr
;

144 
	meags
;

145 
	mcs
;

146 
	mgs
;

147 
	mfs
;

148 
	m__d0
;

149 
	mr
;

150 
	mno
;

151 
	mdmask
;

152 
	m2
;

153 
_塩e
 * 
	m塩e
;

154 
	m__rved1
 [8];

	@/usr/include/bits/siginfo.h

20 #i!
defed
 
_SIGNAL_H
 && !defed 
__ed_sigfo_t
 \

21 && !
defed
 
	g__ed_sigevt_t


25 
	~<bs/wdsize.h
>

27 #i(!
defed
 
__have_sigv_t
 \

28 && (
defed
 
	g_SIGNAL_H
 || defed 
	g__ed_sigfo_t
 \

29 || 
defed
 
	g__ed_sigevt_t
))

30 
	#__have_sigv_t
 1

	)

33 
	usigv


35 
	msiv_t
;

36 *
	msiv_r
;

37 } 
	tsigv_t
;

40 #i(!
defed
 
__have_sigfo_t
 \

41 && (
defed
 
	g_SIGNAL_H
 || defed 
	g__ed_sigfo_t
))

42 
	#__have_sigfo_t
 1

	)

44 
	#__SI_MAX_SIZE
 128

	)

45 #i
__WORDSIZE
 == 64

46 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()- 4)

	)

48 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()- 3)

	)

51 
	ssigfo


53 
	msi_signo
;

54 
	msi_o
;

56 
	msi_code
;

60 
	m_d
[
__SI_PAD_SIZE
];

65 
__pid_t
 
	msi_pid
;

66 
__uid_t
 
	msi_uid
;

67 } 
	m_kl
;

72 
	msi_tid
;

73 
	msi_ovrun
;

74 
sigv_t
 
	msi_sigv
;

75 } 
	m_tim
;

80 
__pid_t
 
	msi_pid
;

81 
__uid_t
 
	msi_uid
;

82 
sigv_t
 
	msi_sigv
;

83 } 
	m_
;

88 
__pid_t
 
	msi_pid
;

89 
__uid_t
 
	msi_uid
;

90 
	msi_us
;

91 
__ock_t
 
	msi_utime
;

92 
__ock_t
 
	msi_ime
;

93 } 
	m_sigchld
;

98 *
	msi_addr
;

99 } 
	m_sigu
;

104 
	msi_bd
;

105 
	msi_fd
;

106 } 
	m_sigpl
;

107 } 
	m_siflds
;

108 } 
	tsigfo_t
;

112 
	#si_pid
 
_siflds
.
_kl
.
si_pid


	)

113 
	#si_uid
 
_siflds
.
_kl
.
si_uid


	)

114 
	#si_timid
 
_siflds
.
_tim
.
si_tid


	)

115 
	#si_ovrun
 
_siflds
.
_tim
.
si_ovrun


	)

116 
	#si_us
 
_siflds
.
_sigchld
.
si_us


	)

117 
	#si_utime
 
_siflds
.
_sigchld
.
si_utime


	)

118 
	#si_ime
 
_siflds
.
_sigchld
.
si_ime


	)

119 
	#si_vue
 
_siflds
.
_
.
si_sigv


	)

120 
	#si_t
 
_siflds
.
_
.
si_sigv
.
siv_t


	)

121 
	#si_r
 
_siflds
.
_
.
si_sigv
.
siv_r


	)

122 
	#si_addr
 
_siflds
.
_sigu
.
si_addr


	)

123 
	#si_bd
 
_siflds
.
_sigpl
.
si_bd


	)

124 
	#si_fd
 
_siflds
.
_sigpl
.
si_fd


	)

131 
	mSI_ASYNCNL
 = -60,

132 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

133 
	mSI_TKILL
 = -6,

134 
	#SI_TKILL
 
SI_TKILL


	)

135 
	mSI_SIGIO
,

136 
	#SI_SIGIO
 
SI_SIGIO


	)

137 
	mSI_ASYNCIO
,

138 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

139 
	mSI_MESGQ
,

140 
	#SI_MESGQ
 
SI_MESGQ


	)

141 
	mSI_TIMER
,

142 
	#SI_TIMER
 
SI_TIMER


	)

143 
	mSI_QUEUE
,

144 
	#SI_QUEUE
 
SI_QUEUE


	)

145 
	mSI_USER
,

146 
	#SI_USER
 
SI_USER


	)

147 
	mSI_KERNEL
 = 0x80

148 
	#SI_KERNEL
 
SI_KERNEL


	)

155 
	mILL_ILLOPC
 = 1,

156 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

157 
	mILL_ILLOPN
,

158 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

159 
	mILL_ILLADR
,

160 
	#ILL_ILLADR
 
ILL_ILLADR


	)

161 
	mILL_ILLTRP
,

162 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

163 
	mILL_PRVOPC
,

164 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

165 
	mILL_PRVREG
,

166 
	#ILL_PRVREG
 
ILL_PRVREG


	)

167 
	mILL_COPROC
,

168 
	#ILL_COPROC
 
ILL_COPROC


	)

169 
	mILL_BADSTK


170 
	#ILL_BADSTK
 
ILL_BADSTK


	)

176 
	mFPE_INTDIV
 = 1,

177 
	#FPE_INTDIV
 
FPE_INTDIV


	)

178 
	mFPE_INTOVF
,

179 
	#FPE_INTOVF
 
FPE_INTOVF


	)

180 
	mFPE_FLTDIV
,

181 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

182 
	mFPE_FLTOVF
,

183 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

184 
	mFPE_FLTUND
,

185 
	#FPE_FLTUND
 
FPE_FLTUND


	)

186 
	mFPE_FLTRES
,

187 
	#FPE_FLTRES
 
FPE_FLTRES


	)

188 
	mFPE_FLTINV
,

189 
	#FPE_FLTINV
 
FPE_FLTINV


	)

190 
	mFPE_FLTSUB


191 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

197 
	mSEGV_MAPERR
 = 1,

198 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

199 
	mSEGV_ACCERR


200 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

206 
	mBUS_ADRALN
 = 1,

207 
	#BUS_ADRALN
 
BUS_ADRALN


	)

208 
	mBUS_ADRERR
,

209 
	#BUS_ADRERR
 
BUS_ADRERR


	)

210 
	mBUS_OBJERR


211 
	#BUS_OBJERR
 
BUS_OBJERR


	)

217 
	mTRAP_BRKPT
 = 1,

218 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

219 
	mTRAP_TRACE


220 
	#TRAP_TRACE
 
TRAP_TRACE


	)

226 
	mCLD_EXITED
 = 1,

227 
	#CLD_EXITED
 
CLD_EXITED


	)

228 
	mCLD_KILLED
,

229 
	#CLD_KILLED
 
CLD_KILLED


	)

230 
	mCLD_DUMPED
,

231 
	#CLD_DUMPED
 
CLD_DUMPED


	)

232 
	mCLD_TRAPPED
,

233 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

234 
	mCLD_STOPPED
,

235 
	#CLD_STOPPED
 
CLD_STOPPED


	)

236 
	mCLD_CONTINUED


237 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

243 
	mPOLL_IN
 = 1,

244 
	#POLL_IN
 
POLL_IN


	)

245 
	mPOLL_OUT
,

246 
	#POLL_OUT
 
POLL_OUT


	)

247 
	mPOLL_MSG
,

248 
	#POLL_MSG
 
POLL_MSG


	)

249 
	mPOLL_ERR
,

250 
	#POLL_ERR
 
POLL_ERR


	)

251 
	mPOLL_PRI
,

252 
	#POLL_PRI
 
POLL_PRI


	)

253 
	mPOLL_HUP


254 
	#POLL_HUP
 
POLL_HUP


	)

257 #unde
__ed_sigfo_t


261 #i(
defed
 
_SIGNAL_H
 || defed 
__ed_sigevt_t
) \

262 && !
defed
 
	g__have_sigevt_t


263 
	#__have_sigevt_t
 1

	)

266 
	#__SIGEV_MAX_SIZE
 64

	)

267 #i
__WORDSIZE
 == 64

268 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()- 4)

	)

270 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()- 3)

	)

273 
	ssigevt


275 
sigv_t
 
	msigev_vue
;

276 
	msigev_signo
;

277 
	msigev_nify
;

281 
	m_d
[
__SIGEV_PAD_SIZE
];

285 
__pid_t
 
	m_tid
;

289 (*
	m_funi
(
	msigv_t
);

290 *
	m_ibu
;

291 } 
	m_sigev_thad
;

292 } 
	m_sigev_un
;

293 } 
	tsigevt_t
;

296 
	#sigev_nify_funi
 
_sigev_un
.
_sigev_thad
.
_funi


	)

297 
	#sigev_nify_ibus
 
_sigev_un
.
_sigev_thad
.
_ibu


	)

302 
	mSIGEV_SIGNAL
 = 0,

303 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

304 
	mSIGEV_NONE
,

305 
	#SIGEV_NONE
 
SIGEV_NONE


	)

306 
	mSIGEV_THREAD
,

307 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

309 
	mSIGEV_THREAD_ID
 = 4

310 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

20 #ifdef 
_SIGNAL_H


23 
	#SIG_ERR
 ((
__sighdr_t
-1

	)

24 
	#SIG_DFL
 ((
__sighdr_t
0

	)

25 
	#SIG_IGN
 ((
__sighdr_t
1

	)

27 #ifde
__USE_UNIX98


28 
	#SIG_HOLD
 ((
__sighdr_t
2

	)

33 
	#SIGHUP
 1

	)

34 
	#SIGINT
 2

	)

35 
	#SIGQUIT
 3

	)

36 
	#SIGILL
 4

	)

37 
	#SIGTRAP
 5

	)

38 
	#SIGABRT
 6

	)

39 
	#SIGIOT
 6

	)

40 
	#SIGBUS
 7

	)

41 
	#SIGFPE
 8

	)

42 
	#SIGKILL
 9

	)

43 
	#SIGUSR1
 10

	)

44 
	#SIGSEGV
 11

	)

45 
	#SIGUSR2
 12

	)

46 
	#SIGPIPE
 13

	)

47 
	#SIGALRM
 14

	)

48 
	#SIGTERM
 15

	)

49 
	#SIGSTKFLT
 16

	)

50 
	#SIGCLD
 
SIGCHLD


	)

51 
	#SIGCHLD
 17

	)

52 
	#SIGCONT
 18

	)

53 
	#SIGSTOP
 19

	)

54 
	#SIGTSTP
 20

	)

55 
	#SIGTTIN
 21

	)

56 
	#SIGTTOU
 22

	)

57 
	#SIGURG
 23

	)

58 
	#SIGXCPU
 24

	)

59 
	#SIGXFSZ
 25

	)

60 
	#SIGVTALRM
 26

	)

61 
	#SIGPROF
 27

	)

62 
	#SIGWINCH
 28

	)

63 
	#SIGPOLL
 
SIGIO


	)

64 
	#SIGIO
 29

	)

65 
	#SIGPWR
 30

	)

66 
	#SIGSYS
 31

	)

67 
	#SIGUNUSED
 31

	)

69 
	#_NSIG
 65

	)

72 
	#SIGRTMIN
 (
	`__libc_cut_sigm
 ())

	)

73 
	#SIGRTMAX
 (
	`__libc_cut_sigmax
 ())

	)

77 
	#__SIGRTMIN
 32

	)

78 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

21 #idef 
_SIGSET_H_tys


22 
	#_SIGSET_H_tys
 1

	)

24 
	t__sig_omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__v
[
_SIGSET_NWORDS
];

32 } 
	t__sigt_t
;

43 #i!
defed
 
_SIGSET_H_s
 && defed 
_SIGNAL_H


44 
	#_SIGSET_H_s
 1

	)

46 #ide
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__ex_le


	)

51 
	#__sigmask
(
sig
) \

52 (((1<< (((
sig
- 1% (8 *  ())))

	)

55 
	#__sigwd
(
sig
(((sig- 1/ (8 *  ()))

	)

57 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigemyt
(
t
) \

59 (
	`__exnsi__
 ({ 
__t
 = 
_SIGSET_NWORDS
; \

60 
sigt_t
 *
__t
 = (
t
); \

61 --
__t
 >0
__t
->
__v
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigflt
(
t
) \

64 (
	`__exnsi__
 ({ 
__t
 = 
_SIGSET_NWORDS
; \

65 
sigt_t
 *
__t
 = (
t
); \

66 --
__t
 >0
__t
->
__v
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifde
__USE_GNU


73 
	#__sigimyt
(
t
) \

74 (
	`__exnsi__
 ({ 
__t
 = 
_SIGSET_NWORDS
; \

75 cڡ 
sigt_t
 *
__t
 = (
t
); \

76 
__t
 = 
__t
->
__v
[--
__t
]; \

77 !
__t
 && --
__t
 >= 0) \

78 
__t
 = 
__t
->
__v
[
__t
]; \

79 
__t
 =0; }))

	)

80 
	#__sigdt
(
de
, 

, 
right
) \

81 (
	`__exnsi__
 ({ 
__t
 = 
_SIGSET_NWORDS
; \

82 
sigt_t
 *
__de
 = (
de
); \

83 cڡ 
sigt_t
 *
__
 = (

); \

84 cڡ 
sigt_t
 *
__right
 = (
right
); \

85 --
__t
 >= 0) \

86 
__de
->
__v
[
__t
] = (
__
->__val[__cnt] \

87 & 
__right
->
__v
[
__t
]); \

88 0; }))

	)

89 
	#__sigܣt
(
de
, 

, 
right
) \

90 (
	`__exnsi__
 ({ 
__t
 = 
_SIGSET_NWORDS
; \

91 
sigt_t
 *
__de
 = (
de
); \

92 cڡ 
sigt_t
 *
__
 = (

); \

93 cڡ 
sigt_t
 *
__right
 = (
right
); \

94 --
__t
 >= 0) \

95 
__de
->
__v
[
__t
] = (
__
->__val[__cnt] \

96 | 
__right
->
__v
[
__t
]); \

97 0; }))

	)

104 
__sigismemb
 (
__cڡ
 
__sigt_t
 *, );

105 
__sigaddt
 (
__sigt_t
 *, );

106 
__sigdt
 (
__sigt_t
 *, );

108 #ifde
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sigt_t
 *
__t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__wd
 = 
	`__sigwd
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismemb
, (
__t
->
__v
[
__wd
] & 
__mask
? 1 : 0, 
__cڡ
)

119 
__SIGSETFN
 (
__sigaddt
, ((
__t
->
__v
[
__wd
] |
__mask
), 0), )

120 
__SIGSETFN
 (
__sigdt
, ((
__t
->
__v
[
__wd
] &~
__mask
), 0), )

122 #unde
__SIGSETFN


	@/usr/include/bits/sigstack.h

20 #ide
_SIGNAL_H


26 
	ssigack


28 *
	mss_
;

29 
	mss_ڡack
;

36 
	mSS_ONSTACK
 = 1,

37 
	#SS_ONSTACK
 
SS_ONSTACK


	)

38 
	mSS_DISABLE


39 
	#SS_DISABLE
 
SS_DISABLE


	)

43 
	#MINSIGSTKSZ
 2048

	)

46 
	#SIGSTKSZ
 8192

	)

50 
	ssigtack


52 *
	mss_
;

53 
	mss_ags
;

54 
size_t
 
	mss_size
;

55 } 
	tack_t
;

	@/usr/include/bits/sigthread.h

20 #ide
_BITS_SIGTHREAD_H


21 
	#_BITS_SIGTHREAD_H
 1

	)

23 #i!
defed
 
_SIGNAL_H
 && !defed 
_PTHREAD_H


31 
	$had_sigmask
 (
__how
,

32 
__cڡ
 
__sigt_t
 *
__ri
 
__wmask
,

33 
__sigt_t
 *
__ri
 
__dmask
)
__THROW
;

36 
	$had_kl
 (
had_t
 
__thadid
, 
__signo

__THROW
;

38 #ifde
__USE_GNU


40 
	$had_sigqueue
 (
had_t
 
__thadid
, 
__signo
,

41 cڡ 
sigv
 
__vue

__THROW
;

	@/usr/include/bits/socket.h

21 #ide
__BITS_SOCKET_H


22 
	#__BITS_SOCKET_H


	)

24 #ide
_SYS_SOCKET_H


28 
	#__ed_size_t


	)

29 
	~<ddef.h
>

31 
	~<sys/tys.h
>

34 #ide
__sockn_t_defed


35 
__sockn_t
 
	tsockn_t
;

36 
	#__sockn_t_defed


	)

40 
	e__sock_ty


42 
	mSOCK_STREAM
 = 1,

44 
	#SOCK_STREAM
 
SOCK_STREAM


	)

45 
	mSOCK_DGRAM
 = 2,

47 
	#SOCK_DGRAM
 
SOCK_DGRAM


	)

48 
	mSOCK_RAW
 = 3,

49 
	#SOCK_RAW
 
SOCK_RAW


	)

50 
	mSOCK_RDM
 = 4,

51 
	#SOCK_RDM
 
SOCK_RDM


	)

52 
	mSOCK_SEQPACKET
 = 5,

54 
	#SOCK_SEQPACKET
 
SOCK_SEQPACKET


	)

55 
	mSOCK_DCCP
 = 6,

56 
	#SOCK_DCCP
 
SOCK_DCCP


	)

57 
	mSOCK_PACKET
 = 10,

60 
	#SOCK_PACKET
 
SOCK_PACKET


	)

65 
	mSOCK_CLOEXEC
 = 02000000,

67 
	#SOCK_CLOEXEC
 
SOCK_CLOEXEC


	)

68 
	mSOCK_NONBLOCK
 = 04000

70 
	#SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

74 
	#PF_UNSPEC
 0

	)

75 
	#PF_LOCAL
 1

	)

76 
	#PF_UNIX
 
PF_LOCAL


	)

77 
	#PF_FILE
 
PF_LOCAL


	)

78 
	#PF_INET
 2

	)

79 
	#PF_AX25
 3

	)

80 
	#PF_IPX
 4

	)

81 
	#PF_APPLETALK
 5

	)

82 
	#PF_NETROM
 6

	)

83 
	#PF_BRIDGE
 7

	)

84 
	#PF_ATMPVC
 8

	)

85 
	#PF_X25
 9

	)

86 
	#PF_INET6
 10

	)

87 
	#PF_ROSE
 11

	)

88 
	#PF_DECt
 12

	)

89 
	#PF_NETBEUI
 13

	)

90 
	#PF_SECURITY
 14

	)

91 
	#PF_KEY
 15

	)

92 
	#PF_NETLINK
 16

	)

93 
	#PF_ROUTE
 
PF_NETLINK


	)

94 
	#PF_PACKET
 17

	)

95 
	#PF_ASH
 18

	)

96 
	#PF_ECONET
 19

	)

97 
	#PF_ATMSVC
 20

	)

98 
	#PF_RDS
 21

	)

99 
	#PF_SNA
 22

	)

100 
	#PF_IRDA
 23

	)

101 
	#PF_PPPOX
 24

	)

102 
	#PF_WANPIPE
 25

	)

103 
	#PF_LLC
 26

	)

104 
	#PF_CAN
 29

	)

105 
	#PF_TIPC
 30

	)

106 
	#PF_BLUETOOTH
 31

	)

107 
	#PF_IUCV
 32

	)

108 
	#PF_RXRPC
 33

	)

109 
	#PF_ISDN
 34

	)

110 
	#PF_PHONET
 35

	)

111 
	#PF_IEEE802154
 36

	)

112 
	#PF_CAIF
 37

	)

113 
	#PF_ALG
 38

	)

114 
	#PF_NFC
 39

	)

115 
	#PF_MAX
 40

	)

118 
	#AF_UNSPEC
 
PF_UNSPEC


	)

119 
	#AF_LOCAL
 
PF_LOCAL


	)

120 
	#AF_UNIX
 
PF_UNIX


	)

121 
	#AF_FILE
 
PF_FILE


	)

122 
	#AF_INET
 
PF_INET


	)

123 
	#AF_AX25
 
PF_AX25


	)

124 
	#AF_IPX
 
PF_IPX


	)

125 
	#AF_APPLETALK
 
PF_APPLETALK


	)

126 
	#AF_NETROM
 
PF_NETROM


	)

127 
	#AF_BRIDGE
 
PF_BRIDGE


	)

128 
	#AF_ATMPVC
 
PF_ATMPVC


	)

129 
	#AF_X25
 
PF_X25


	)

130 
	#AF_INET6
 
PF_INET6


	)

131 
	#AF_ROSE
 
PF_ROSE


	)

132 
	#AF_DECt
 
PF_DECt


	)

133 
	#AF_NETBEUI
 
PF_NETBEUI


	)

134 
	#AF_SECURITY
 
PF_SECURITY


	)

135 
	#AF_KEY
 
PF_KEY


	)

136 
	#AF_NETLINK
 
PF_NETLINK


	)

137 
	#AF_ROUTE
 
PF_ROUTE


	)

138 
	#AF_PACKET
 
PF_PACKET


	)

139 
	#AF_ASH
 
PF_ASH


	)

140 
	#AF_ECONET
 
PF_ECONET


	)

141 
	#AF_ATMSVC
 
PF_ATMSVC


	)

142 
	#AF_RDS
 
PF_RDS


	)

143 
	#AF_SNA
 
PF_SNA


	)

144 
	#AF_IRDA
 
PF_IRDA


	)

145 
	#AF_PPPOX
 
PF_PPPOX


	)

146 
	#AF_WANPIPE
 
PF_WANPIPE


	)

147 
	#AF_LLC
 
PF_LLC


	)

148 
	#AF_CAN
 
PF_CAN


	)

149 
	#AF_TIPC
 
PF_TIPC


	)

150 
	#AF_BLUETOOTH
 
PF_BLUETOOTH


	)

151 
	#AF_IUCV
 
PF_IUCV


	)

152 
	#AF_RXRPC
 
PF_RXRPC


	)

153 
	#AF_ISDN
 
PF_ISDN


	)

154 
	#AF_PHONET
 
PF_PHONET


	)

155 
	#AF_IEEE802154
 
PF_IEEE802154


	)

156 
	#AF_CAIF
 
PF_CAIF


	)

157 
	#AF_ALG
 
PF_ALG


	)

158 
	#AF_NFC
 
PF_NFC


	)

159 
	#AF_MAX
 
PF_MAX


	)

165 
	#SOL_RAW
 255

	)

166 
	#SOL_DECNET
 261

	)

167 
	#SOL_X25
 262

	)

168 
	#SOL_PACKET
 263

	)

169 
	#SOL_ATM
 264

	)

170 
	#SOL_AAL
 265

	)

171 
	#SOL_IRDA
 266

	)

174 
	#SOMAXCONN
 128

	)

177 
	~<bs/sockaddr.h
>

180 
	ssockaddr


182 
__SOCKADDR_COMMON
 (
_
);

183 
	m_da
[14];

189 
	#__ss_igy
 

	)

190 
	#_SS_SIZE
 128

	)

191 
	#_SS_PADSIZE
 (
_SS_SIZE
 - (2 *  (
__ss_igy
)))

	)

193 
	ssockaddr_age


195 
__SOCKADDR_COMMON
 (
ss_
);

196 
__ss_igy
 
	m__ss_ign
;

197 
	m__ss_ddg
[
_SS_PADSIZE
];

204 
	mMSG_OOB
 = 0x01,

205 
	#MSG_OOB
 
MSG_OOB


	)

206 
	mMSG_PEEK
 = 0x02,

207 
	#MSG_PEEK
 
MSG_PEEK


	)

208 
	mMSG_DONTROUTE
 = 0x04,

209 
	#MSG_DONTROUTE
 
MSG_DONTROUTE


	)

210 #ifde
__USE_GNU


212 
	mMSG_TRYHARD
 = 
MSG_DONTROUTE
,

213 
	#MSG_TRYHARD
 
MSG_DONTROUTE


	)

215 
	mMSG_CTRUNC
 = 0x08,

216 
	#MSG_CTRUNC
 
MSG_CTRUNC


	)

217 
	mMSG_PROXY
 = 0x10,

218 
	#MSG_PROXY
 
MSG_PROXY


	)

219 
	mMSG_TRUNC
 = 0x20,

220 
	#MSG_TRUNC
 
MSG_TRUNC


	)

221 
	mMSG_DONTWAIT
 = 0x40,

222 
	#MSG_DONTWAIT
 
MSG_DONTWAIT


	)

223 
	mMSG_EOR
 = 0x80,

224 
	#MSG_EOR
 
MSG_EOR


	)

225 
	mMSG_WAITALL
 = 0x100,

226 
	#MSG_WAITALL
 
MSG_WAITALL


	)

227 
	mMSG_FIN
 = 0x200,

228 
	#MSG_FIN
 
MSG_FIN


	)

229 
	mMSG_SYN
 = 0x400,

230 
	#MSG_SYN
 
MSG_SYN


	)

231 
	mMSG_CONFIRM
 = 0x800,

232 
	#MSG_CONFIRM
 
MSG_CONFIRM


	)

233 
	mMSG_RST
 = 0x1000,

234 
	#MSG_RST
 
MSG_RST


	)

235 
	mMSG_ERRQUEUE
 = 0x2000,

236 
	#MSG_ERRQUEUE
 
MSG_ERRQUEUE


	)

237 
	mMSG_NOSIGNAL
 = 0x4000,

238 
	#MSG_NOSIGNAL
 
MSG_NOSIGNAL


	)

239 
	mMSG_MORE
 = 0x8000,

240 
	#MSG_MORE
 
MSG_MORE


	)

241 
	mMSG_WAITFORONE
 = 0x10000,

242 
	#MSG_WAITFORONE
 
MSG_WAITFORONE


	)

244 
	mMSG_CMSG_CLOEXEC
 = 0x40000000

247 
	#MSG_CMSG_CLOEXEC
 
MSG_CMSG_CLOEXEC


	)

253 
	smsghdr


255 *
	mmsg_me
;

256 
sockn_t
 
	mmsg_m
;

258 
iovec
 *
	mmsg_iov
;

259 
size_t
 
	mmsg_iovn
;

261 *
	mmsg_cڌ
;

262 
size_t
 
	mmsg_cڌn
;

267 
	mmsg_ags
;

270 #ifde
__USE_GNU


272 
	smmsghdr


274 
msghdr
 
	mmsg_hdr
;

275 
	mmsg_n
;

280 
	scmsghdr


282 
size_t
 
	mcmsg_n
;

287 
	mcmsg_v
;

288 
	mcmsg_ty
;

289 #i(!
defed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2|| 
__STDC_VERSION__
 >= 199901L

290 
__exnsi__
 
__cmsg_da
 
	m__exr
;

295 #i(!
defed
 
__STRICT_ANSI__
 && 
__GNUC__
 >2|| 
__STDC_VERSION__
 >= 199901L

296 
	#CMSG_DATA
(
cmsg
((cmsg)->
__cmsg_da
)

	)

298 
	#CMSG_DATA
(
cmsg
((*((
cmsghdr
 *(cmsg+ 1))

	)

300 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg

	`__cmsg_nxthdr
 (mhdr, cmsg)

	)

301 
	#CMSG_FIRSTHDR
(
mhdr
) \

302 ((
size_t
(
mhdr
)->
msg_cڌn
 > (
cmsghdr
) \

303 ? (
cmsghdr
 *(
mhdr
)->
msg_cڌ
 : (cmsghd*0)

	)

304 
	#CMSG_ALIGN
(
n
((֒+  (
size_t
) - 1) \

305 & (
size_t
~( (size_t- 1))

	)

306 
	#CMSG_SPACE
(
n
(
	`CMSG_ALIGN
 (len) \

307 + 
	`CMSG_ALIGN
 ( (
cmsghdr
)))

	)

308 
	#CMSG_LEN
(
n
(
	`CMSG_ALIGN
 ( (
cmsghdr
)+ (n))

	)

310 
cmsghdr
 *
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
,

311 
cmsghdr
 *
__cmsg

__THROW
;

312 #ifde
__USE_EXTERN_INLINES


313 #ide
_EXTERN_INLINE


314 
	#_EXTERN_INLINE
 
__ex_le


	)

316 
_EXTERN_INLINE
 
cmsghdr
 *

317 
	`__NTH
 (
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
, 
cmsghdr
 *
__cmsg
))

319 i((
size_t

__cmsg
->
cmsg_n
 <  (
cmsghdr
))

321  (
cmsghdr
 *) 0;

323 
__cmsg
 = (
cmsghdr
 *) ((*) __cmsg

324 + 
	`CMSG_ALIGN
 (
__cmsg
->
cmsg_n
));

325 i((*(
__cmsg
 + 1> ((*
__mhdr
->
msg_cڌ


326 + 
__mhdr
->
msg_cڌn
)

327 || ((*
__cmsg
 + 
	`CMSG_ALIGN
 (__cmsg->
cmsg_n
)

328 > ((*
__mhdr
->
msg_cڌ
 + __mhdr->
msg_cڌn
)))

330  (
cmsghdr
 *) 0;

331  
__cmsg
;

332 
	}
}

339 
	mSCM_RIGHTS
 = 0x01

340 
	#SCM_RIGHTS
 
SCM_RIGHTS


	)

341 #ifde
__USE_GNU


342 , 
	mSCM_CREDENTIALS
 = 0x02

343 
	#SCM_CREDENTIALS
 
SCM_CREDENTIALS


	)

347 #ifde
__USE_GNU


349 
	sued


351 
pid_t
 
	mpid
;

352 
uid_t
 
	muid
;

353 
gid_t
 
	mgid
;

358 #i!
defed
 
__USE_MISC
 && !defed 
__USE_GNU


359 #ide
FIOGETOWN


360 
	#__SYS_SOCKET_H_undef_FIOGETOWN


	)

362 #ide
FIOSETOWN


363 
	#__SYS_SOCKET_H_undef_FIOSETOWN


	)

365 #ide
SIOCATMARK


366 
	#__SYS_SOCKET_H_undef_SIOCATMARK


	)

368 #ide
SIOCGPGRP


369 
	#__SYS_SOCKET_H_undef_SIOCGPGRP


	)

371 #ide
SIOCGSTAMP


372 
	#__SYS_SOCKET_H_undef_SIOCGSTAMP


	)

374 #ide
SIOCGSTAMPNS


375 
	#__SYS_SOCKET_H_undef_SIOCGSTAMPNS


	)

377 #ide
SIOCSPGRP


378 
	#__SYS_SOCKET_H_undef_SIOCSPGRP


	)

383 
	~<asm/sock.h
>

385 #i!
defed
 
__USE_MISC
 && !defed 
__USE_GNU


386 #ifde
__SYS_SOCKET_H_undef_FIOGETOWN


387 #unde
__SYS_SOCKET_H_undef_FIOGETOWN


388 #unde
FIOGETOWN


390 #ifde
__SYS_SOCKET_H_undef_FIOSETOWN


391 #unde
__SYS_SOCKET_H_undef_FIOSETOWN


392 #unde
FIOSETOWN


394 #ifde
__SYS_SOCKET_H_undef_SIOCATMARK


395 #unde
__SYS_SOCKET_H_undef_SIOCATMARK


396 #unde
SIOCATMARK


398 #ifde
__SYS_SOCKET_H_undef_SIOCGPGRP


399 #unde
__SYS_SOCKET_H_undef_SIOCGPGRP


400 #unde
SIOCGPGRP


402 #ifde
__SYS_SOCKET_H_undef_SIOCGSTAMP


403 #unde
__SYS_SOCKET_H_undef_SIOCGSTAMP


404 #unde
SIOCGSTAMP


406 #ifde
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


407 #unde
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


408 #unde
SIOCGSTAMPNS


410 #ifde
__SYS_SOCKET_H_undef_SIOCSPGRP


411 #unde
__SYS_SOCKET_H_undef_SIOCSPGRP


412 #unde
SIOCSPGRP


417 
	slg


419 
	ml_off
;

420 
	ml_lg
;

424 
__BEGIN_DECLS


431 
cvmmsg
 (
__fd
, 
mmsghdr
 *
__vmesges
,

432 
__vn
, 
__ags
,

433 
__cڡ
 
timeec
 *
__tmo
);

439 
ndmmsg
 (
__fd
, 
mmsghdr
 *
__vmesges
,

440 
__vn
, 
__ags
);

442 
	g__END_DECLS


	@/usr/include/bits/socket2.h

20 #ide
_SYS_SOCKET_H


24 
ssize_t
 
__cv_chk
 (
__fd
, *
__buf
, 
size_t
 
__n
, size_
__bu
,

25 
__ags
);

26 
ssize_t
 
__REDIRECT
 (
__cv_s
, (
__fd
, *
__buf
, 
size_t
 
__n
,

27 
__ags
), 
cv
);

28 
ssize_t
 
__REDIRECT
 (
__cv_chk_wn
,

29 (
__fd
, *
__buf
, 
size_t
 
__n
, size_
__bu
,

30 
__ags
), 
__cv_chk
)

31 
__wǉr
 ("recv called with biggerengthhan size of destination "

34 
__ex_ways_le
 
ssize_t


35 
	$cv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__ags
)

37 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

39 i(!
	`__but_cڡt_p
 (
__n
))

40  
	`__cv_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__ags
);

42 i(
__n
 > 
	`__bos0
 (
__buf
))

43  
	`__cv_chk_wn
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__ags
);

45  
	`__cv_s
 (
__fd
, 
__buf
, 
__n
, 
__ags
);

46 
	}
}

48 
ssize_t
 
__cvom_chk
 (
__fd
, *
__ri
 
__buf
, 
size_t
 
__n
,

49 
size_t
 
__bu
, 
__ags
,

50 
__SOCKADDR_ARG
 
__addr
,

51 
sockn_t
 *
__ri
 
__addr_n
);

52 
ssize_t
 
__REDIRECT
 (
__cvom_s
,

53 (
__fd
, *
__ri
 
__buf
, 
size_t
 
__n
,

54 
__ags
, 
__SOCKADDR_ARG
 
__addr
,

55 
sockn_t
 *
__ri
 
__addr_n
), 
cvom
);

56 
ssize_t
 
__REDIRECT
 (
__cvom_chk_wn
,

57 (
__fd
, *
__ri
 
__buf
, 
size_t
 
__n
,

58 
size_t
 
__bu
, 
__ags
,

59 
__SOCKADDR_ARG
 
__addr
,

60 
sockn_t
 *
__ri
 
__addr_n
), 
__cvom_chk
)

61 
__wǉr
 ("recvfrom called with biggerengthhan size of "

64 
__ex_ways_le
 
ssize_t


65 
	$cvom
 (
__fd
, *
__ri
 
__buf
, 
size_t
 
__n
, 
__ags
,

66 
__SOCKADDR_ARG
 
__addr
, 
sockn_t
 *
__ri
 
__addr_n
)

68 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

70 i(!
	`__but_cڡt_p
 (
__n
))

71  
	`__cvom_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__ags
,

72 
__addr
, 
__addr_n
);

73 i(
__n
 > 
	`__bos0
 (
__buf
))

74  
	`__cvom_chk_wn
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__ags
,

75 
__addr
, 
__addr_n
);

77  
	`__cvom_s
 (
__fd
, 
__buf
, 
__n
, 
__ags
, 
__addr
, 
__addr_n
);

78 
	}
}

	@/usr/include/bits/stat.h

19 #i!
defed
 
_SYS_STAT_H
 && !defed 
_FCNTL_H


23 #ide
_BITS_STAT_H


24 
	#_BITS_STAT_H
 1

	)

27 
	#_STAT_VER_KERNEL
 0

	)

29 #i
__WORDSIZE
 == 32

30 
	#_STAT_VER_SVR4
 2

	)

31 
	#_STAT_VER_LINUX
 3

	)

34 
	#_MKNOD_VER_LINUX
 1

	)

35 
	#_MKNOD_VER_SVR4
 2

	)

36 
	#_MKNOD_VER
 
_MKNOD_VER_LINUX


	)

38 
	#_STAT_VER_LINUX
 1

	)

41 
	#_MKNOD_VER_LINUX
 0

	)

44 
	#_STAT_VER
 
_STAT_VER_LINUX


	)

46 
	s


48 
__dev_t
 
	m_dev
;

49 #i
__WORDSIZE
 == 32

50 
	m__d1
;

52 #i
__WORDSIZE
 =64 || !
defed
 
__USE_FILE_OFFSET64


53 
__o_t
 
	m_o
;

55 
__o_t
 
	m___o
;

57 #i
__WORDSIZE
 == 32

58 
__mode_t
 
	m_mode
;

59 
__ƚk_t
 
	m_ƚk
;

61 
__ƚk_t
 
	m_ƚk
;

62 
__mode_t
 
	m_mode
;

64 
__uid_t
 
	m_uid
;

65 
__gid_t
 
	m_gid
;

66 #i
__WORDSIZE
 == 64

67 
	m__d0
;

69 
__dev_t
 
	m_rdev
;

70 #i
__WORDSIZE
 == 32

71 
	m__d2
;

73 #i
__WORDSIZE
 =64 || !
defed
 
__USE_FILE_OFFSET64


74 
__off_t
 
	m_size
;

76 
__off64_t
 
	m_size
;

78 
__blksize_t
 
	m_blksize
;

79 #i
__WORDSIZE
 =64 || !
defed
 
__USE_FILE_OFFSET64


80 
__blkt_t
 
	m_blocks
;

82 
__blkt64_t
 
	m_blocks
;

84 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN2K8


91 
timeec
 
	m_im
;

92 
timeec
 
	m_mtim
;

93 
timeec
 
	m_im
;

94 
	#_ime
 
_im
.
tv_c


	)

95 
	#_mtime
 
_mtim
.
tv_c


	)

96 
	#_ime
 
_im
.
tv_c


	)

98 
__time_t
 
	m_ime
;

99 
	m_imc
;

100 
__time_t
 
	m_mtime
;

101 
	m_mtimc
;

102 
__time_t
 
	m_ime
;

103 
	m_imc
;

105 #i
__WORDSIZE
 == 64

106 
	m__unud
[3];

108 #ide
__USE_FILE_OFFSET64


109 
	m__unud4
;

110 
	m__unud5
;

112 
__o64_t
 
	m_o
;

117 #ifde
__USE_LARGEFILE64


119 
	s64


121 
__dev_t
 
	m_dev
;

122 #i
__WORDSIZE
 == 64

123 
__o64_t
 
	m_o
;

124 
__ƚk_t
 
	m_ƚk
;

125 
__mode_t
 
	m_mode
;

127 
	m__d1
;

128 
__o_t
 
	m___o
;

129 
__mode_t
 
	m_mode
;

130 
__ƚk_t
 
	m_ƚk
;

132 
__uid_t
 
	m_uid
;

133 
__gid_t
 
	m_gid
;

134 #i
__WORDSIZE
 == 64

135 
	m__d0
;

136 
__dev_t
 
	m_rdev
;

137 
__off_t
 
	m_size
;

139 
__dev_t
 
	m_rdev
;

140 
	m__d2
;

141 
__off64_t
 
	m_size
;

143 
__blksize_t
 
	m_blksize
;

144 
__blkt64_t
 
	m_blocks
;

145 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN2K8


152 
timeec
 
	m_im
;

153 
timeec
 
	m_mtim
;

154 
timeec
 
	m_im
;

155 
	#_ime
 
_im
.
tv_c


	)

156 
	#_mtime
 
_mtim
.
tv_c


	)

157 
	#_ime
 
_im
.
tv_c


	)

159 
__time_t
 
	m_ime
;

160 
	m_imc
;

161 
__time_t
 
	m_mtime
;

162 
	m_mtimc
;

163 
__time_t
 
	m_ime
;

164 
	m_imc
;

166 #i
__WORDSIZE
 == 64

167 
	m__unud
[3];

169 
__o64_t
 
	m_o
;

175 
	#_STATBUF_ST_BLKSIZE


	)

176 
	#_STATBUF_ST_RDEV


	)

178 
	#_STATBUF_ST_NSEC


	)

182 
	#__S_IFMT
 0170000

	)

185 
	#__S_IFDIR
 0040000

	)

186 
	#__S_IFCHR
 0020000

	)

187 
	#__S_IFBLK
 0060000

	)

188 
	#__S_IFREG
 0100000

	)

189 
	#__S_IFIFO
 0010000

	)

190 
	#__S_IFLNK
 0120000

	)

191 
	#__S_IFSOCK
 0140000

	)

195 
	#__S_TYPEISMQ
(
buf
((buf)->
_mode
 - (buf)->_mode)

	)

196 
	#__S_TYPEISSEM
(
buf
((buf)->
_mode
 - (buf)->_mode)

	)

197 
	#__S_TYPEISSHM
(
buf
((buf)->
_mode
 - (buf)->_mode)

	)

201 
	#__S_ISUID
 04000

	)

202 
	#__S_ISGID
 02000

	)

203 
	#__S_ISVTX
 01000

	)

204 
	#__S_IREAD
 0400

	)

205 
	#__S_IWRITE
 0200

	)

206 
	#__S_IEXEC
 0100

	)

208 #ifde
__USE_ATFILE


209 
	#UTIME_NOW
 ((1<< 30- 1l)

	)

210 
	#UTIME_OMIT
 ((1<< 30- 2l)

	)

	@/usr/include/bits/stdio-ldbl.h

20 #ide
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
rtf
)

26 
	$__LDBL_REDIR_DECL
 (
tf
)

27 
	$__LDBL_REDIR_DECL
 (
rtf
)

28 
	$__LDBL_REDIR_DECL
 (
vrtf
)

29 
	$__LDBL_REDIR_DECL
 (
vtf
)

30 
	$__LDBL_REDIR_DECL
 (
vrtf
)

31 #i
defed
 
__USE_ISOC99
 && !defed 
__USE_GNU
 \

32 && !
defed
 
__REDIRECT
 \

33 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsnf
, 
__dbl___isoc99_fsnf
)

35 
	$__LDBL_REDIR1_DECL
 (
snf
, 
__dbl___isoc99_snf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssnf
, 
__dbl___isoc99_ssnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsnf
)

39 
	$__LDBL_REDIR_DECL
 (
snf
)

40 
	$__LDBL_REDIR_DECL
 (
ssnf
)

42 
__END_NAMESPACE_STD


44 #i
defed
 
__USE_BSD
 || defed 
__USE_ISOC99
 || defed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
tf
)

47 
	$__LDBL_REDIR_DECL
 (
vtf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #i!
defed
 
__USE_GNU
 && !defed 
__REDIRECT
 \

54 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsnf
, 
__dbl___isoc99_vfsnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsnf
, 
__dbl___isoc99_vsnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssnf
, 
__dbl___isoc99_vssnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsnf
)

63 
__END_NAMESPACE_C99


66 #ifde
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vdtf
)

68 
	$__LDBL_REDIR_DECL
 (
dtf
)

69 
	$__LDBL_REDIR_DECL
 (
vartf
)

70 
	$__LDBL_REDIR_DECL
 (
__artf
)

71 
	$__LDBL_REDIR_DECL
 (
artf
)

72 
	$__LDBL_REDIR_DECL
 (
oback_tf
)

73 
	$__LDBL_REDIR_DECL
 (
oback_vtf
)

76 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


77 
	$__LDBL_REDIR_DECL
 (
__rtf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__vrtf_chk
)

79 #i
defed
 
__USE_BSD
 || defed 
__USE_ISOC99
 || defed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__tf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__vtf_chk
)

83 #i
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__rtf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__tf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vrtf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__vtf_chk
)

88 #ifde
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__artf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__vartf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__dtf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vdtf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__oback_tf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__oback_vtf_chk
)

	@/usr/include/bits/stdio.h

20 #ide
_STDIO_H


24 #ide
__ex_le


25 
	#__STDIO_INLINE
 
le


	)

27 
	#__STDIO_INLINE
 
__ex_le


	)

31 #ifde
__USE_EXTERN_INLINES


34 #i!(
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le
)

36 
__STDIO_INLINE
 

37 
	$vtf
 (
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__g
)

39  
	`vrtf
 (
dout
, 
__fmt
, 
__g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$gch
 ()

47  
	`_IO_gc
 (
d
);

48 
	}
}

51 #ifde
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fgc_uocked
 (
FILE
 *
__
)

56  
	`_IO_gc_uocked
 (
__
);

57 
	}
}

61 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$gc_uocked
 (
FILE
 *
__
)

66  
	`_IO_gc_uocked
 (
__
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$gch_uocked
 ()

73  
	`_IO_gc_uocked
 (
d
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
dout
);

83 
	}
}

86 #ifde
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$utc_uocked
 (
__c
, 
FILE
 *
__am
)

91  
	`_IO_putc_uocked
 (
__c
, 
__am
);

92 
	}
}

96 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_uocked
 (
__c
, 
FILE
 *
__am
)

101  
	`_IO_putc_uocked
 (
__c
, 
__am
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch_uocked
 (
__c
)

108  
	`_IO_putc_uocked
 (
__c
, 
dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$gle
 (**
__l
, 
size_t
 *
__n
, 
FILE
 *
__am
)

118  
	`__gdim
 (
__l
, 
__n
, '\n', 
__am
);

119 
	}
}

123 #ifde
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$of_uocked
 (
FILE
 *
__am
))

128  
	`_IO_of_uocked
 (
__am
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$_uocked
 (
FILE
 *
__am
))

135  
	`_IO__uocked
 (
__am
);

136 
	}
}

142 #i
defed
 
__USE_MISC
 && defed 
__GNUC__
 && defed 
__OPTIMIZE__
 \

143 && !
defed
 
	g__lulus


145 
	#d_uocked
(
r
, 
size
, 
n
, 
am
) \

146 (
	`__exnsi__
 ((
	`__but_cڡt_p
 (
size
&& __but_cڡt_(
n
) \

147 && (
size_t
(
size
* (size_t(
n
) <= 8 \

148 && (
size_t
(
size
) != 0) \

149 ? ({ *
__r
 = (*(
r
); \

150 
FILE
 *
__am
 = (
am
); \

151 
size_t
 
__t
; \

152 
__t
 = (
size_t
(
size
* (size_t(
n
); \

153 
__t
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_gc_uocked
 (
__am
); \

156 i(
__c
 =
EOF
) \

158 *
__r
++ = 
__c
; \

160 ((
size_t
(
size
* (size_t(
n
- 
__t
) \

161 / (
size_t
(
size
); }) \

162 : (((
	`__but_cڡt_p
 (
size
&& (
size_t
) (size) == 0) \

163 || (
	`__but_cڡt_p
 (
n
&& (
size_t
) (n) == 0)) \

165 ? (((
r
), ((
am
), ((
size
), \

166 ((
n
), (
size_t
) 0) \

167 : 
	`d_uocked
 (
r
, 
size
, 
n
, 
am
))))

	)

169 
	#fwre_uocked
(
r
, 
size
, 
n
, 
am
) \

170 (
	`__exnsi__
 ((
	`__but_cڡt_p
 (
size
&& __but_cڡt_(
n
) \

171 && (
size_t
(
size
* (size_t(
n
) <= 8 \

172 && (
size_t
(
size
) != 0) \

173 ? ({ cڡ *
__r
 = (cڡ *(
r
); \

174 
FILE
 *
__am
 = (
am
); \

175 
size_t
 
__t
; \

176 
__t
 = (
size_t
(
size
* (size_t(
n
); \

177 
__t
 > 0; --__cnt) \

178 i(
	`_IO_putc_uocked
 (*
__r
++, 
__am
=
EOF
) \

180 ((
size_t
(
size
* (size_t(
n
- 
__t
) \

181 / (
size_t
(
size
); }) \

182 : (((
	`__but_cڡt_p
 (
size
&& (
size_t
) (size) == 0) \

183 || (
	`__but_cڡt_p
 (
n
&& (
size_t
) (n) == 0)) \

185 ? (((
r
), ((
am
), ((
size
), \

186 ((
n
), (
size_t
) 0) \

187 : 
	`fwre_uocked
 (
r
, 
size
, 
n
, 
am
))))

	)

191 #unde
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #ide
_STDIO_H


24 
	$__rtf_chk
 (*
__ri
 
__s
, 
__ag
, 
size_t
 
__
,

25 
__cڡ
 *
__ri
 
__fm
, ...
__THROW
;

26 
	$__vrtf_chk
 (*
__ri
 
__s
, 
__ag
, 
size_t
 
__
,

27 
__cڡ
 *
__ri
 
__fm
,

28 
_G_va_li
 
__

__THROW
;

30 #ifde
__va_g_ck


31 
__ex_ways_le
 

32 
	`__NTH
 (
	$rtf
 (*
__ri
 
__s
, 
__cڡ
 *__ri 
__fmt
, ...))

34  
	`__but___rtf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_g_ck
 ());

36 
	}
}

37 #i!
defed
 
__lulus


38 
	#rtf
(
r
, ...) \

39 
	`__but___rtf_chk
 (
r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__ex_ways_le
 

44 
__NTH
 (
	$vrtf
 (*
__ri
 
__s
, 
__cڡ
 *__ri 
__fmt
,

45 
_G_va_li
 
__
))

47  
	`__but___vrtf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__
);

49 
	}
}

51 #i
defed
 
__USE_BSD
 || defed 
__USE_ISOC99
 || defed 
__USE_UNIX98


53 
	$__tf_chk
 (*
__ri
 
__s
, 
size_t
 
__n
, 
__ag
,

54 
size_t
 
__
, 
__cڡ
 *
__ri
 
__fm
,

55 ...
__THROW
;

56 
	$__vtf_chk
 (*
__ri
 
__s
, 
size_t
 
__n
, 
__ag
,

57 
size_t
 
__
, 
__cڡ
 *
__ri
 
__fm
,

58 
_G_va_li
 
__

__THROW
;

60 #ifde
__va_g_ck


61 
__ex_ways_le
 

62 
	`__NTH
 (
	$tf
 (*
__ri
 
__s
, 
size_t
 
__n
,

63 
__cڡ
 *
__ri
 
__fmt
, ...))

65  
	`__but___tf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_g_ck
 ());

67 
	}
}

68 #i!
defed
 
__lulus


69 
	#tf
(
r
, 
n
, ...) \

70 
	`__but___tf_chk
 (
r
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__ex_ways_le
 

75 
__NTH
 (
	$vtf
 (*
__ri
 
__s
, 
size_t
 
__n
,

76 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__
))

78  
	`__but___vtf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__
);

80 
	}
}

84 #i
__USE_FORTIFY_LEVEL
 > 1

86 
__rtf_chk
 (
FILE
 *
__ri
 
__am
, 
__ag
,

87 
__cڡ
 *
__ri
 
__fm
, ...);

88 
__tf_chk
 (
__ag
, 
__cڡ
 *
__ri
 
__fm
, ...);

89 
__vrtf_chk
 (
FILE
 *
__ri
 
__am
, 
__ag
,

90 
__cڡ
 *
__ri
 
__fm
, 
_G_va_li
 
__
);

91 
__vtf_chk
 (
__ag
, 
__cڡ
 *
__ri
 
__fm
,

92 
_G_va_li
 
__
);

94 #ifde
__va_g_ck


95 
__ex_ways_le
 

96 
	$rtf
 (
FILE
 *
__ri
 
__am
, 
__cڡ
 *__ri 
__fmt
, ...)

98  
	`__rtf_chk
 (
__am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_g_ck
 ());

100 
	}
}

102 
__ex_ways_le
 

103 
	$tf
 (
__cڡ
 *
__ri
 
__fmt
, ...)

105  
	`__tf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_g_ck
 ());

106 
	}
}

107 #i!
defed
 
__lulus


108 
	#tf
(...) \

109 
	`__tf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#rtf
(
am
, ...) \

111 
	`__rtf_chk
 (
am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__ex_ways_le
 

115 
	$vtf
 (
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__
)

117 #ifde
__USE_EXTERN_INLINES


118  
	`__vrtf_chk
 (
dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

120  
	`__vtf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

122 
	}
}

124 
__ex_ways_le
 

125 
	$vrtf
 (
FILE
 *
__ri
 
__am
,

126 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__
)

128  
	`__vrtf_chk
 (
__am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

129 
	}
}

131 #ifde
__USE_GNU


133 
	$__artf_chk
 (**
__ri
 
__r
, 
__ag
,

134 
__cڡ
 *
__ri
 
__fmt
, ...)

135 
__THROW
 
	`__ibu__
 ((
	$__fm__
 (
__tf__
, 3, 4))
__wur
;

136 
	$__vartf_chk
 (**
__ri
 
__r
, 
__ag
,

137 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__g
)

138 
__THROW
 
	`__ibu__
 ((
	$__fm__
 (
__tf__
, 3, 0))
__wur
;

139 
	$__dtf_chk
 (
__fd
, 
__ag
, 
__cڡ
 *
__ri
 
__fmt
,

140 ...
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 4)));

141 
	$__vdtf_chk
 (
__fd
, 
__ag
,

142 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__g
)

143 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 0)));

144 
	$__oback_tf_chk
 (
oback
 *
__ri
 
__oback
,

145 
__ag
, 
__cڡ
 *
__ri
 
__fm
,

147 
__THROW
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 4)));

148 
	$__oback_vtf_chk
 (
oback
 *
__ri
 
__oback
,

149 
__ag
,

150 
__cڡ
 *
__ri
 
__fm
,

151 
_G_va_li
 
__gs
)

152 
__THROW
 
	`__ibu__
 ((
	`__fm__
 (
__tf__
, 3, 0)));

154 #ifde
__va_g_ck


155 
__ex_ways_le
 

156 
	`__NTH
 (
	$artf
 (**
__ri
 
__r
, 
__cڡ
 *__ri 
__fmt
, ...))

158  
	`__artf_chk
 (
__r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_g_ck
 ());

160 
	}
}

162 
__ex_ways_le
 

163 
__NTH
 (
	$__artf
 (**
__ri
 
__r
, 
__cڡ
 *__ri 
__fmt
,

166  
	`__artf_chk
 (
__r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_g_ck
 ());

168 
	}
}

170 
__ex_ways_le
 

171 
	$dtf
 (
__fd
, 
__cڡ
 *
__ri
 
__fmt
, ...)

173  
	`__dtf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_g_ck
 ());

175 
	}
}

177 
__ex_ways_le
 

178 
__NTH
 (
	$oback_tf
 (
oback
 *
__ri
 
__oback
,

179 
__cڡ
 *
__ri
 
__fmt
, ...))

181  
	`__oback_tf_chk
 (
__oback
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_g_ck
 ());

183 
	}
}

184 #i!
defed
 
__lulus


185 
	#artf
(
r
, ...) \

186 
	`__artf_chk
 (
r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__artf
(
r
, ...) \

188 
	`__artf_chk
 (
r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#dtf
(
fd
, ...) \

190 
	`__dtf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#oback_tf
(
oback
, ...) \

192 
	`__oback_tf_chk
 (
oback
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__ex_ways_le
 

196 
__NTH
 (
	$vartf
 (**
__ri
 
__r
, 
__cڡ
 *__ri 
__fmt
,

197 
_G_va_li
 
__
))

199  
	`__vartf_chk
 (
__r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

200 
	}
}

202 
__ex_ways_le
 

203 
	$vdtf
 (
__fd
, 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__
)

205  
	`__vdtf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

206 
	}
}

208 
__ex_ways_le
 

209 
__NTH
 (
	$oback_vtf
 (
oback
 *
__ri
 
__oback
,

210 
__cڡ
 *
__ri
 
__fmt
, 
_G_va_li
 
__
))

212  
	`__oback_vtf_chk
 (
__oback
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__
);

214 
	}
}

220 *
	$__gs_chk
 (*
__r
, 
size_t

__wur
;

221 *
	`__REDIRECT
 (
__gs_wn
, (*
__r
), 
gs
)

222 
__wur
 
	`__wǉr
 ("please use fgets or getline instead, gets can't "

225 
__ex_ways_le
 
__wur
 *

226 
	$gs
 (*
__r
)

228 i(
	`__bos
 (
__r
!(
size_t
) -1)

229  
	`__gs_chk
 (
__r
, 
	`__bos
 (__str));

230  
	`__gs_wn
 (
__r
);

231 
	}
}

233 *
	$__fgs_chk
 (*
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__ri
 
__am

__wur
;

235 *
	`__REDIRECT
 (
__fgs_s
,

236 (*
__ri
 
__s
, 
__n
,

237 
FILE
 *
__ri
 
__am
), 
fgs

__wur
;

238 *
	`__REDIRECT
 (
__fgs_chk_wn
,

239 (*
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__ri
 
__am
), 
__fgs_chk
)

241 
__wur
 
	`__wǉr
 ("fgets called with bigger sizehanength "

244 
__ex_ways_le
 
__wur
 *

245 
	$fgs
 (*
__ri
 
__s
, 
__n
, 
FILE
 *__ri 
__am
)

247 i(
	`__bos
 (
__s
!(
size_t
) -1)

249 i(!
	`__but_cڡt_p
 (
__n
) || __n <= 0)

250  
	`__fgs_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__am
);

252 i((
size_t

__n
 > 
	`__bos
 (
__s
))

253  
	`__fgs_chk_wn
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__am
);

255  
	`__fgs_s
 (
__s
, 
__n
, 
__am
);

256 
	}
}

258 
size_t
 
	$__d_chk
 (*
__ri
 
__r
, 
size_t
 
__
,

259 
size_t
 
__size
, size_
__n
,

260 
FILE
 *
__ri
 
__am

__wur
;

261 
size_t
 
	`__REDIRECT
 (
__d_s
,

262 (*
__ri
 
__r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__ri
 
__am
),

264 
d

__wur
;

265 
size_t
 
	`__REDIRECT
 (
__d_chk_wn
,

266 (*
__ri
 
__r
, 
size_t
 
__
,

267 
size_t
 
__size
, size_
__n
,

268 
FILE
 *
__ri
 
__am
),

269 
__d_chk
)

270 
__wur
 
	`__wǉr
 ("fread called with bigger size *membhanength "

273 
__ex_ways_le
 
__wur
 
size_t


274 
	$d
 (*
__ri
 
__r
, 
size_t
 
__size
, size_
__n
,

275 
FILE
 *
__ri
 
__am
)

277 i(
	`__bos0
 (
__r
!(
size_t
) -1)

279 i(!
	`__but_cڡt_p
 (
__size
)

280 || !
	`__but_cڡt_p
 (
__n
)

281 || (
__size
 | 
__n
>(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__d_chk
 (
__r
, 
	`__bos0
 (__r), 
__size
, 
__n
, 
__am
);

284 i(
__size
 * 
__n
 > 
	`__bos0
 (
__r
))

285  
	`__d_chk_wn
 (
__r
, 
	`__bos0
 (__r), 
__size
, 
__n
, 
__am
);

287  
	`__d_s
 (
__r
, 
__size
, 
__n
, 
__am
);

288 
	}
}

290 #ifde
__USE_GNU


291 *
	$__fgs_uocked_chk
 (*
__ri
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__ri
 
__am

__wur
;

293 *
	`__REDIRECT
 (
__fgs_uocked_s
,

294 (*
__ri
 
__s
, 
__n
,

295 
FILE
 *
__ri
 
__am
), 
fgs_uocked

__wur
;

296 *
	`__REDIRECT
 (
__fgs_uocked_chk_wn
,

297 (*
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__ri
 
__am
), 
__fgs_uocked_chk
)

299 
__wur
 
	`__wǉr
 ("fgets_unlocked called with bigger sizehanength "

302 
__ex_ways_le
 
__wur
 *

303 
	$fgs_uocked
 (*
__ri
 
__s
, 
__n
, 
FILE
 *__ri 
__am
)

305 i(
	`__bos
 (
__s
!(
size_t
) -1)

307 i(!
	`__but_cڡt_p
 (
__n
) || __n <= 0)

308  
	`__fgs_uocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__am
);

310 i((
size_t

__n
 > 
	`__bos
 (
__s
))

311  
	`__fgs_uocked_chk_wn
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__am
);

313  
	`__fgs_uocked_s
 (
__s
, 
__n
, 
__am
);

314 
	}
}

317 #ifde
__USE_MISC


318 #unde
d_uocked


319 
size_t
 
	$__d_uocked_chk
 (*
__ri
 
__r
, 
size_t
 
__
,

320 
size_t
 
__size
, size_
__n
,

321 
FILE
 *
__ri
 
__am

__wur
;

322 
size_t
 
	`__REDIRECT
 (
__d_uocked_s
,

323 (*
__ri
 
__r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__ri
 
__am
),

325 
d_uocked

__wur
;

326 
size_t
 
	`__REDIRECT
 (
__d_uocked_chk_wn
,

327 (*
__ri
 
__r
, 
size_t
 
__
,

328 
size_t
 
__size
, size_
__n
,

329 
FILE
 *
__ri
 
__am
),

330 
__d_uocked_chk
)

331 
__wur
 
	`__wǉr
 ("fread_unlocked called with bigger size *membhan "

334 
__ex_ways_le
 
__wur
 
size_t


335 
	$d_uocked
 (*
__ri
 
__r
, 
size_t
 
__size
, size_
__n
,

336 
FILE
 *
__ri
 
__am
)

338 i(
	`__bos0
 (
__r
!(
size_t
) -1)

340 i(!
	`__but_cڡt_p
 (
__size
)

341 || !
	`__but_cڡt_p
 (
__n
)

342 || (
__size
 | 
__n
>(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__d_uocked_chk
 (
__r
, 
	`__bos0
 (__r), 
__size
, 
__n
,

344 
__am
);

346 i(
__size
 * 
__n
 > 
	`__bos0
 (
__r
))

347  
	`__d_uocked_chk_wn
 (
__r
, 
	`__bos0
 (__r), 
__size
, 
__n
,

348 
__am
);

351 #ifde
__USE_EXTERN_INLINES


352 i(
	`__but_cڡt_p
 (
__size
)

353 && 
	`__but_cڡt_p
 (
__n
)

354 && (
__size
 | 
__n
< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__t
 = 
__size
 * 
__n
;

358 *
__
 = (*
__r
;

359 i(
__t
 == 0)

362 ; 
__t
 > 0; --__cnt)

364 
__c
 = 
	`_IO_gc_uocked
 (
__am
);

365 i(
__c
 =
EOF
)

367 *
__
++ = 
__c
;

369  (
__
 - (*
__r
/ 
__size
;

372  
	`__d_uocked_s
 (
__r
, 
__size
, 
__n
, 
__am
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #i!
defed
 
_STDIO_H
 && !defed 
__ed_FOPEN_MAX
 && !defed 
__ed_IOV_MAX


23 #ifde
_STDIO_H


24 
	#L_tmam
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifde
__USE_POSIX


29 
	#L_mid
 9

	)

30 #i!
defed
 
__USE_XOPEN2K
 || defed 
__USE_GNU


31 
	#L_curid
 9

	)

36 #i
defed
 
__ed_FOPEN_MAX
 || defed 
_STDIO_H


37 #unde
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #i
defed
 
__ed_IOV_MAX
 && !defed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-ldbl.h

20 #ide
_STDLIB_H


24 #ifdef 
__USE_ISOC99


25 
__BEGIN_NAMESPACE_C99


26 
	$__LDBL_REDIR1_DECL
 (
d
, 
od
)

27 
__END_NAMESPACE_C99


30 #ifde
__USE_GNU


31 
	$__LDBL_REDIR1_DECL
 (
d_l
, 
od_l
)

34 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN_EXTENDED


35 #ifde
__USE_MISC


36 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

39 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

40 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

20 #ide
_STDLIB_H


24 *
	$__th_chk
 (
__cڡ
 *
__ri
 
__me
,

25 *
__ri
 
__sved
,

26 
size_t
 
__svedn

__THROW
 
__wur
;

27 *
	`__REDIRECT_NTH
 (
__th_s
,

28 (
__cڡ
 *
__ri
 
__me
,

29 *
__ri
 
__sved
), 
th

__wur
;

30 *
	`__REDIRECT_NTH
 (
__th_chk_wn
,

31 (
__cڡ
 *
__ri
 
__me
,

32 *
__ri
 
__sved
,

33 
size_t
 
__svedn
), 
__th_chk

__wur


34 
	`__wǉr
 ("secondrgument ofealpath must beither NULL ort "

37 
__ex_ways_le
 
__wur
 *

38 
	`__NTH
 (
	$th
 (
__cڡ
 *
__ri
 
__me
, *__ri 
__sved
))

40 i(
	`__bos
 (
__sved
!(
size_t
) -1)

42 #i
defed
 
_LIBC_LIMITS_H_
 && defed 
PATH_MAX


43 i(
	`__bos
 (
__sved
< 
PATH_MAX
)

44  
	`__th_chk_wn
 (
__me
, 
__sved
, 
	`__bos
 (__resolved));

46  
	`__th_chk
 (
__me
, 
__sved
, 
	`__bos
 (__resolved));

49  
	`__th_s
 (
__me
, 
__sved
);

50 
	}
}

53 
	$__ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__bu
,

54 
size_t
 
__ėl

__THROW
 
	`__nnu
 ((2));

55 
	`__REDIRECT_NTH
 (
__ame_r_s
, (
__fd
, *
__buf
,

56 
size_t
 
__bu
), 
ame_r
)

57 
	`__nnu
 ((2));

58 
	`__REDIRECT_NTH
 (
__ame_r_chk_wn
,

59 (
__fd
, *
__buf
, 
size_t
 
__bu
,

60 
size_t
 
__ėl
), 
__ame_r_chk
)

61 
	`__nnu
 ((2)
	`__wǉr
 ("ptsname_r called with buflen biggerhan "

64 
__ex_ways_le
 

65 
	`__NTH
 (
	$ame_r
 (
__fd
, *
__buf
, 
size_t
 
__bu
))

67 i(
	`__bos
 (
__buf
!(
size_t
) -1)

69 i(!
	`__but_cڡt_p
 (
__bu
))

70  
	`__ame_r_chk
 (
__fd
, 
__buf
, 
__bu
, 
	`__bos
 (__buf));

71 i(
__bu
 > 
	`__bos
 (
__buf
))

72  
	`__ame_r_chk_wn
 (
__fd
, 
__buf
, 
__bu
, 
	`__bos
 (__buf));

74  
	`__ame_r_s
 (
__fd
, 
__buf
, 
__bu
);

75 
	}
}

78 
	$__womb_chk
 (*
__s
, 
wch_t
 
__wch
, 
size_t
 
__bu
)

79 
__THROW
 
__wur
;

80 
	`__REDIRECT_NTH
 (
__womb_s
, (*
__s
, 
wch_t
 
__wch
),

81 
womb

__wur
;

83 
__ex_ways_le
 
__wur
 

84 
	`__NTH
 (
	$womb
 (*
__s
, 
wch_t
 
__wch
))

89 
	#__STDLIB_MB_LEN_MAX
 16

	)

90 #i
defed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__STDLIB_MB_LEN_MAX


93 i(
	`__bos
 (
__s
!(
size_t
-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

94  
	`__womb_chk
 (
__s
, 
__wch
, 
	`__bos
 (__s));

95  
	`__womb_s
 (
__s
, 
__wch
);

96 
	}
}

99 
size_t
 
	$__mbowcs_chk
 (
wch_t
 *
__ri
 
__d
,

100 
__cڡ
 *
__ri
 
__c
,

101 
size_t
 
__n
, size_
__dn

__THROW
;

102 
size_t
 
	`__REDIRECT_NTH
 (
__mbowcs_s
,

103 (
wch_t
 *
__ri
 
__d
,

104 
__cڡ
 *
__ri
 
__c
,

105 
size_t
 
__n
), 
mbowcs
);

106 
size_t
 
	`__REDIRECT_NTH
 (
__mbowcs_chk_wn
,

107 (
wch_t
 *
__ri
 
__d
,

108 
__cڡ
 *
__ri
 
__c
,

109 
size_t
 
__n
, size_
__dn
), 
__mbowcs_chk
)

110 
	`__wǉr
 ("mbstowcs called with dst buffer smallerhanen "

113 
__ex_ways_le
 
size_t


114 
	`__NTH
 (
	$mbowcs
 (
wch_t
 *
__ri
 
__d
, 
__cڡ
 *__ri 
__c
,

115 
size_t
 
__n
))

117 i(
	`__bos
 (
__d
!(
size_t
) -1)

119 i(!
	`__but_cڡt_p
 (
__n
))

120  
	`__mbowcs_chk
 (
__d
, 
__c
, 
__n
,

121 
	`__bos
 (
__d
/  (
wch_t
));

123 i(
__n
 > 
	`__bos
 (
__d
/  (
wch_t
))

124  
	`__mbowcs_chk_wn
 (
__d
, 
__c
, 
__n
,

125 
	`__bos
 (
__d
/  (
wch_t
));

127  
	`__mbowcs_s
 (
__d
, 
__c
, 
__n
);

128 
	}
}

131 
size_t
 
	$__wcombs_chk
 (*
__ri
 
__d
,

132 
__cڡ
 
wch_t
 *
__ri
 
__c
,

133 
size_t
 
__n
, size_
__dn

__THROW
;

134 
size_t
 
	`__REDIRECT_NTH
 (
__wcombs_s
,

135 (*
__ri
 
__d
,

136 
__cڡ
 
wch_t
 *
__ri
 
__c
,

137 
size_t
 
__n
), 
wcombs
);

138 
size_t
 
	`__REDIRECT_NTH
 (
__wcombs_chk_wn
,

139 (*
__ri
 
__d
,

140 
__cڡ
 
wch_t
 *
__ri
 
__c
,

141 
size_t
 
__n
, size_
__dn
), 
__wcombs_chk
)

142 
	`__wǉr
 ("wcstombs called with dst buffer smallerhanen");

144 
__ex_ways_le
 
size_t


145 
	`__NTH
 (
	$wcombs
 (*
__ri
 
__d
, 
__cڡ
 
wch_t
 *__ri 
__c
,

146 
size_t
 
__n
))

148 i(
	`__bos
 (
__d
!(
size_t
) -1)

150 i(!
	`__but_cڡt_p
 (
__n
))

151  
	`__wcombs_chk
 (
__d
, 
__c
, 
__n
, 
	`__bos
 (__dst));

152 i(
__n
 > 
	`__bos
 (
__d
))

153  
	`__wcombs_chk_wn
 (
__d
, 
__c
, 
__n
, 
	`__bos
 (__dst));

155  
	`__wcombs_s
 (
__d
, 
__c
, 
__n
);

156 
	}
}

	@/usr/include/bits/string.h

20 #ide
_STRING_H


26 
	#_STRING_ARCH_uligd
 1

	)

	@/usr/include/bits/string2.h

21 #ide
_STRING_H


25 #i!
defed
 
__NO_STRING_INLINES
 && !defed 
__BOUNDED_POINTERS__


42 #ide
__STRING_INLINE


43 #ifde
__lulus


44 
	#__STRING_INLINE
 
le


	)

46 
	#__STRING_INLINE
 
__ex_le


	)

50 #i
_STRING_ARCH_uligd


52 
	~<dn.h
>

53 
	~<bs/tys.h
>

55 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


56 
	#__STRING2_SMALL_GET16
(
c
, 
idx
) \

57 (((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 1] << 8 \

58 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
])

	)

59 
	#__STRING2_SMALL_GET32
(
c
, 
idx
) \

60 (((((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 3] << 8 \

61 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 2]) << 8 \

62 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 1]) << 8 \

63 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
])

	)

65 
	#__STRING2_SMALL_GET16
(
c
, 
idx
) \

66 (((
__cڡ
 *(__cڡ *(
c
))[
idx
] << 8 \

67 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 1])

	)

68 
	#__STRING2_SMALL_GET32
(
c
, 
idx
) \

69 (((((
__cڡ
 *(__cڡ *(
c
))[
idx
] << 8 \

70 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 1]) << 8 \

71 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 2]) << 8 \

72 | ((
__cڡ
 *(__cڡ *(
c
))[
idx
 + 3])

	)

77 
	#__STRING2_COPY_TYPE
(
N
) \

78 ru { 
__r
[
N
]; } \

79 
	t__ibu__
 ((
	t__cked__
)
	t__STRING2_COPY_ARR
##
	tN


	)

80 
	t__STRING2_COPY_TYPE
 (2);

81 
__STRING2_COPY_TYPE
 (3);

82 
__STRING2_COPY_TYPE
 (4);

83 
__STRING2_COPY_TYPE
 (5);

84 
__STRING2_COPY_TYPE
 (6);

85 
__STRING2_COPY_TYPE
 (7);

86 
__STRING2_COPY_TYPE
 (8);

87 #unde
__STRING2_COPY_TYPE


93 
	#__rg2_1br_p
(
__x
) \

94 ((
size_t
)(cڡ *)((
__x
+ 1- (size_t)(cڡ *)(__x=1)

	)

97 #i!
defed
 
_HAVE_STRING_ARCH_memt


98 #i!
__GNUC_PREREQ
 (3, 0)

99 #i
_STRING_ARCH_uligd


100 
	#memt
(
s
, 
c
, 
n
) \

101 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
n
) && (n) <= 16 \

102 ? ((
n
) == 1 \

103 ? 
	`__memt_1
 (
s
, 
c
) \

104 : 
	`__memt_gc
 (
s
, 
c
, 
n
)) \

105 : (
	`__but_cڡt_p
 (
c
) && (c) == '\0' \

106 ? ({ *
__s
 = (
s
); 
	`__bzo
 (__s, 
n
); __s; }) \

107 : 
	`memt
 (
s
, 
c
, 
n
))))

	)

109 
	#__memt_1
(
s
, 
c
({ *
__s
 = (s); \

110 *((
__ut8_t
 *
__s
(__ut8_t
c
; __s; })

	)

112 
	#__memt_gc
(
s
, 
c
, 
n
) \

113 ({ *
__s
 = (
s
); \

115 
__ui
; \

116 
__usi
; \

117 
__uc
; \

118 } *
__u
 = 
__s
; \

119 
__ut8_t
 
__c
 = (__ut8_t(
c
); \

122 ((
n
)) \

125 
__u
->
__ui
 = 
__c
 * 0x01010101; \

126 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

128 
__u
->
__ui
 = 
__c
 * 0x01010101; \

129 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

131 
__u
->
__ui
 = 
__c
 * 0x01010101; \

132 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

134 
__u
->
__usi
 = (
__c
 * 0x0101; \

135 
__u
 = 
	`__exnsi__
 ((*) __u + 2); \

136 
__u
->
__uc
 = (
__c
; \

140 
__u
->
__ui
 = 
__c
 * 0x01010101; \

141 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

143 
__u
->
__ui
 = 
__c
 * 0x01010101; \

144 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

146 
__u
->
__ui
 = 
__c
 * 0x01010101; \

147 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

149 
__u
->
__usi
 = (
__c
 * 0x0101; \

153 
__u
->
__ui
 = 
__c
 * 0x01010101; \

154 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

156 
__u
->
__ui
 = 
__c
 * 0x01010101; \

157 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

159 
__u
->
__ui
 = 
__c
 * 0x01010101; \

160 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

162 
__u
->
__uc
 = (
__c
; \

166 
__u
->
__ui
 = 
__c
 * 0x01010101; \

167 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

169 
__u
->
__ui
 = 
__c
 * 0x01010101; \

170 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

172 
__u
->
__ui
 = 
__c
 * 0x01010101; \

173 
__u
 = 
	`__exnsi__
 ((*) __u + 4); \

175 
__u
->
__ui
 = 
__c
 * 0x01010101; \

180 
__s
; })

	)

182 
	#memt
(
s
, 
c
, 
n
) \

183 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
) && (c) == '\0' \

184 ? ({ *
__s
 = (
s
); 
	`__bzo
 (__s, 
n
); __s; }) \

185 : 
	`memt
 (
s
, 
c
, 
n
)))

	)

194 #i
__GNUC_PREREQ
 (2, 91)

195 
	#__bzo
(
s
, 
n

	`__but_memt
 (s, '\0',)

	)

203 #ifde
__USE_GNU


204 #i!
defed
 
_HAVE_STRING_ARCH_mempy
 || defed 
_FORCE_INLINES


205 #ide
_HAVE_STRING_ARCH_mempy


206 #i
__GNUC_PREREQ
 (3, 4)

207 
	#__mempy
(
de
, 
c
, 
n

	`__but_mempy
 (de, src,)

	)

208 #i
__GNUC_PREREQ
 (3, 0)

209 
	#__mempy
(
de
, 
c
, 
n
) \

210 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
&& __but_cڡt_(
n
) \

211 && 
	`__rg2_1br_p
 (
c
&& 
n
 <= 8 \

212 ? 
	`__but_memy
 (
de
, 
c
, 
n
) + (n) \

213 : 
	`__mempy
 (
de
, 
c
, 
n
)))

	)

215 
	#__mempy
(
de
, 
c
, 
n
) \

216 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
&& __but_cڡt_(
n
) \

217 && 
	`__rg2_1br_p
 (
c
&& 
n
 <= 8 \

218 ? 
	`__mempy_sml
 (
de
, 
	`__mempy_gs
 (
c
), 
n
) \

219 : 
	`__mempy
 (
de
, 
c
, 
n
)))

	)

223 
	#mempy
(
de
, 
c
, 
n

	`__mempy
 (de, src,)

	)

226 #i!
__GNUC_PREREQ
 (3, 0|| 
defed
 
_FORCE_INLINES


227 #i
_STRING_ARCH_uligd


228 #ide
_FORCE_INLINES


229 
	#__mempy_gs
(
c
) \

230 ((
__cڡ
 *(
c
))[0], ((__const *) (src))[2], \

231 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[6], \

232 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 0), \

233 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 4), \

234 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 0), \

235 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 4)

	)

237 
__STRING_INLINE
 *
__mempy_sml
 (*, , , , ,

238 
__ut16_t
, __ut16_t, 
__ut32_t
,

239 
__ut32_t
, 
size_t
);

240 
__STRING_INLINE
 *

241 
	$__mempy_sml
 (*
__de1
,

242 
__c0_1
, 
__c2_1
, 
__c4_1
, 
__c6_1
,

243 
__ut16_t
 
__c0_2
, __ut16_
__c4_2
,

244 
__ut32_t
 
__c0_4
, __ut32_
__c4_4
,

245 
size_t
 
__
)

248 
__ut32_t
 
__ui
;

249 
__ut16_t
 
__usi
;

250 
__uc
;

251 
__c
;

252 } *
__u
 = 
__de1
;

253 (
__
)

256 
__u
->
__c
 = 
__c0_1
;

257 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

260 
__u
->
__usi
 = 
__c0_2
;

261 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

264 
__u
->
__usi
 = 
__c0_2
;

265 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

266 
__u
->
__c
 = 
__c2_1
;

267 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

270 
__u
->
__ui
 = 
__c0_4
;

271 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

274 
__u
->
__ui
 = 
__c0_4
;

275 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

276 
__u
->
__c
 = 
__c4_1
;

277 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

280 
__u
->
__ui
 = 
__c0_4
;

281 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

282 
__u
->
__usi
 = 
__c4_2
;

283 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

286 
__u
->
__ui
 = 
__c0_4
;

287 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

288 
__u
->
__usi
 = 
__c4_2
;

289 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

290 
__u
->
__c
 = 
__c6_1
;

291 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

294 
__u
->
__ui
 = 
__c0_4
;

295 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

296 
__u
->
__ui
 = 
__c4_4
;

297 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

300  (*
__u
;

301 
	}
}

303 #ide
_FORCE_INLINES


304 
	#__mempy_gs
(
c
) \

305 ((
__cڡ
 *(
c
))[0], \

306 
	`__exnsi__
 ((
__STRING2_COPY_ARR2
) \

307 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1] } }), \

308 
	`__exnsi__
 ((
__STRING2_COPY_ARR3
) \

309 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

310 ((
__cڡ
 *(
c
))[2] } }), \

311 
	`__exnsi__
 ((
__STRING2_COPY_ARR4
) \

312 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

313 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3] } }), \

314 
	`__exnsi__
 ((
__STRING2_COPY_ARR5
) \

315 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

316 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

317 ((
__cڡ
 *(
c
))[4] } }), \

318 
	`__exnsi__
 ((
__STRING2_COPY_ARR6
) \

319 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

320 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

321 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5] } }), \

322 
	`__exnsi__
 ((
__STRING2_COPY_ARR7
) \

323 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

324 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

325 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

326 ((
__cڡ
 *(
c
))[6] } }), \

327 
	`__exnsi__
 ((
__STRING2_COPY_ARR8
) \

328 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

329 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

330 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

331 ((
__cڡ
 *(
c
))[6], ((__cڡ *(c))[7] } })

	)

333 
__STRING_INLINE
 *
__mempy_sml
 (*, , 
__STRING2_COPY_ARR2
,

334 
__STRING2_COPY_ARR3
,

335 
__STRING2_COPY_ARR4
,

336 
__STRING2_COPY_ARR5
,

337 
__STRING2_COPY_ARR6
,

338 
__STRING2_COPY_ARR7
,

339 
__STRING2_COPY_ARR8
, 
size_t
);

340 
__STRING_INLINE
 *

341 
	$__mempy_sml
 (*
__de
, 
__c1
,

342 
__STRING2_COPY_ARR2
 
__c2
, 
__STRING2_COPY_ARR3
 
__c3
,

343 
__STRING2_COPY_ARR4
 
__c4
, 
__STRING2_COPY_ARR5
 
__c5
,

344 
__STRING2_COPY_ARR6
 
__c6
, 
__STRING2_COPY_ARR7
 
__c7
,

345 
__STRING2_COPY_ARR8
 
__c8
, 
size_t
 
__
)

348 
__c
;

349 
__STRING2_COPY_ARR2
 
__s2
;

350 
__STRING2_COPY_ARR3
 
__s3
;

351 
__STRING2_COPY_ARR4
 
__s4
;

352 
__STRING2_COPY_ARR5
 
__s5
;

353 
__STRING2_COPY_ARR6
 
__s6
;

354 
__STRING2_COPY_ARR7
 
__s7
;

355 
__STRING2_COPY_ARR8
 
__s8
;

356 } *
__u
 = 
__de
;

357 (
__
)

360 
__u
->
__c
 = 
__c1
;

363 
__exnsi__
 
__u
->
__s2
 = 
__c2
;

366 
__exnsi__
 
__u
->
__s3
 = 
__c3
;

369 
__exnsi__
 
__u
->
__s4
 = 
__c4
;

372 
__exnsi__
 
__u
->
__s5
 = 
__c5
;

375 
__exnsi__
 
__u
->
__s6
 = 
__c6
;

378 
__exnsi__
 
__u
->
__s7
 = 
__c7
;

381 
__exnsi__
 
__u
->
__s8
 = 
__c8
;

384  
	`__exnsi__
 ((*
__u
 + 
__
);

385 
	}
}

393 #ide
_HAVE_STRING_ARCH_rchr


394 *
__wmemchr
 (cڡ *
__s
, 
__c
);

395 #i
__GNUC_PREREQ
 (3, 2)

396 
	#rchr
(
s
, 
c
) \

397 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
&& !__but_cڡt_(
s
) \

398 && (
c
) == '\0' \

399 ? (*
	`__wmemchr
 (
s
, 
c
) \

400 : 
	`__but_rchr
 (
s
, 
c
)))

	)

402 
	#rchr
(
s
, 
c
) \

403 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
) && (c) == '\0' \

404 ? (*
	`__wmemchr
 (
s
, 
c
) \

405 : 
	`rchr
 (
s
, 
c
)))

	)

411 #i(!
defed
 
_HAVE_STRING_ARCH_ry
 && !
__GNUC_PREREQ
 (3, 0)) \

412 || 
defed
 
	g_FORCE_INLINES


413 #i!
defed
 
_HAVE_STRING_ARCH_ry
 && !
__GNUC_PREREQ
 (3, 0)

414 
	#ry
(
de
, 
c
) \

415 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
) \

416 ? (
	`__rg2_1br_p
 (
c
&& 
	`
 (src) + 1 <= 8 \

417 ? 
	`__ry_sml
 (
de
, 
	`__ry_gs
 (
c
), \

418 
	`
 (
c
) + 1) \

419 : (*
	`memy
 (
de
, 
c
, 
	`
 (src) + 1)) \

420 : 
	`ry
 (
de
, 
c
)))

	)

423 #i
_STRING_ARCH_uligd


424 #ide
_FORCE_INLINES


425 
	#__ry_gs
(
c
) \

426 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 0), \

427 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 4), \

428 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 0), \

429 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 4)

	)

431 
__STRING_INLINE
 *
__ry_sml
 (*, 
__ut16_t
, __uint16_t,

432 
__ut32_t
, __ut32_t, 
size_t
);

433 
__STRING_INLINE
 *

434 
	$__ry_sml
 (*
__de
,

435 
__ut16_t
 
__c0_2
, __ut16_
__c4_2
,

436 
__ut32_t
 
__c0_4
, __ut32_
__c4_4
,

437 
size_t
 
__
)

440 
__ut32_t
 
__ui
;

441 
__ut16_t
 
__usi
;

442 
__uc
;

443 } *
__u
 = (*
__de
;

444 (
__
)

447 
__u
->
__uc
 = '\0';

450 
__u
->
__usi
 = 
__c0_2
;

453 
__u
->
__usi
 = 
__c0_2
;

454 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

455 
__u
->
__uc
 = '\0';

458 
__u
->
__ui
 = 
__c0_4
;

461 
__u
->
__ui
 = 
__c0_4
;

462 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

463 
__u
->
__uc
 = '\0';

466 
__u
->
__ui
 = 
__c0_4
;

467 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

468 
__u
->
__usi
 = 
__c4_2
;

471 
__u
->
__ui
 = 
__c0_4
;

472 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

473 
__u
->
__usi
 = 
__c4_2
;

474 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

475 
__u
->
__uc
 = '\0';

478 
__u
->
__ui
 = 
__c0_4
;

479 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

480 
__u
->
__ui
 = 
__c4_4
;

483  
__de
;

484 
	}
}

486 #ide
_FORCE_INLINES


487 
	#__ry_gs
(
c
) \

488 
	`__exnsi__
 ((
__STRING2_COPY_ARR2
) \

489 { { ((
__cڡ
 *(
c
))[0], '\0' } }), \

490 
	`__exnsi__
 ((
__STRING2_COPY_ARR3
) \

491 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

493 
	`__exnsi__
 ((
__STRING2_COPY_ARR4
) \

494 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

495 ((
__cڡ
 *(
c
))[2], '\0' } }), \

496 
	`__exnsi__
 ((
__STRING2_COPY_ARR5
) \

497 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

498 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

500 
	`__exnsi__
 ((
__STRING2_COPY_ARR6
) \

501 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

502 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

503 ((
__cڡ
 *(
c
))[4], '\0' } }), \

504 
	`__exnsi__
 ((
__STRING2_COPY_ARR7
) \

505 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

506 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

507 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

509 
	`__exnsi__
 ((
__STRING2_COPY_ARR8
) \

510 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

511 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

512 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

513 ((
__cڡ
 *(
c
))[6], '\0' } })

	)

515 
__STRING_INLINE
 *
__ry_sml
 (*, 
__STRING2_COPY_ARR2
,

516 
__STRING2_COPY_ARR3
,

517 
__STRING2_COPY_ARR4
,

518 
__STRING2_COPY_ARR5
,

519 
__STRING2_COPY_ARR6
,

520 
__STRING2_COPY_ARR7
,

521 
__STRING2_COPY_ARR8
, 
size_t
);

522 
__STRING_INLINE
 *

523 
	$__ry_sml
 (*
__de
,

524 
__STRING2_COPY_ARR2
 
__c2
, 
__STRING2_COPY_ARR3
 
__c3
,

525 
__STRING2_COPY_ARR4
 
__c4
, 
__STRING2_COPY_ARR5
 
__c5
,

526 
__STRING2_COPY_ARR6
 
__c6
, 
__STRING2_COPY_ARR7
 
__c7
,

527 
__STRING2_COPY_ARR8
 
__c8
, 
size_t
 
__
)

530 
__c
;

531 
__STRING2_COPY_ARR2
 
__s2
;

532 
__STRING2_COPY_ARR3
 
__s3
;

533 
__STRING2_COPY_ARR4
 
__s4
;

534 
__STRING2_COPY_ARR5
 
__s5
;

535 
__STRING2_COPY_ARR6
 
__s6
;

536 
__STRING2_COPY_ARR7
 
__s7
;

537 
__STRING2_COPY_ARR8
 
__s8
;

538 } *
__u
 = (*
__de
;

539 (
__
)

542 
__u
->
__c
 = '\0';

545 
__exnsi__
 
__u
->
__s2
 = 
__c2
;

548 
__exnsi__
 
__u
->
__s3
 = 
__c3
;

551 
__exnsi__
 
__u
->
__s4
 = 
__c4
;

554 
__exnsi__
 
__u
->
__s5
 = 
__c5
;

557 
__exnsi__
 
__u
->
__s6
 = 
__c6
;

560 
__exnsi__
 
__u
->
__s7
 = 
__c7
;

563 
__exnsi__
 
__u
->
__s8
 = 
__c8
;

566  
__de
;

567 
	}
}

573 #ifde
__USE_GNU


574 #i!
defed
 
_HAVE_STRING_ARCH_py
 || defed 
_FORCE_INLINES


575 #ide
_HAVE_STRING_ARCH_py


576 #i
__GNUC_PREREQ
 (3, 4)

577 
	#__py
(
de
, 
c

	`__but_py
 (de, src)

	)

578 #i
__GNUC_PREREQ
 (3, 0)

579 
	#__py
(
de
, 
c
) \

580 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
) \

581 ? (
	`__rg2_1br_p
 (
c
&& 
	`
 (src) + 1 <= 8 \

582 ? 
	`__but_ry
 (
de
, 
c
+ 
	`
 (src) \

583 : ((*(
__mempy
(
de
, 
c
, 
	`
 (src) + 1) \

585 : 
	`__py
 (
de
, 
c
)))

	)

587 
	#__py
(
de
, 
c
) \

588 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
) \

589 ? (
	`__rg2_1br_p
 (
c
&& 
	`
 (src) + 1 <= 8 \

590 ? 
	`__py_sml
 (
de
, 
	`__py_gs
 (
c
), \

591 
	`
 (
c
) + 1) \

592 : ((*(
__mempy
(
de
, 
c
, 
	`
 (src) + 1) \

594 : 
	`__py
 (
de
, 
c
)))

	)

598 
	#py
(
de
, 
c

	`__py
 (de, src)

	)

601 #i!
__GNUC_PREREQ
 (3, 0|| 
defed
 
_FORCE_INLINES


602 #i
_STRING_ARCH_uligd


603 #ide
_FORCE_INLINES


604 
	#__py_gs
(
c
) \

605 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 0), \

606 
__exnsi__
 
	`__STRING2_SMALL_GET16
 (
c
, 4), \

607 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 0), \

608 
__exnsi__
 
	`__STRING2_SMALL_GET32
 (
c
, 4)

	)

610 
__STRING_INLINE
 *
__py_sml
 (*, 
__ut16_t
, __uint16_t,

611 
__ut32_t
, __ut32_t, 
size_t
);

612 
__STRING_INLINE
 *

613 
	$__py_sml
 (*
__de
,

614 
__ut16_t
 
__c0_2
, __ut16_
__c4_2
,

615 
__ut32_t
 
__c0_4
, __ut32_
__c4_4
,

616 
size_t
 
__
)

619 
__ui
;

620 
__usi
;

621 
__uc
;

622 
__c
;

623 } *
__u
 = (*
__de
;

624 (
__
)

627 
__u
->
__uc
 = '\0';

630 
__u
->
__usi
 = 
__c0_2
;

631 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

634 
__u
->
__usi
 = 
__c0_2
;

635 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

636 
__u
->
__uc
 = '\0';

639 
__u
->
__ui
 = 
__c0_4
;

640 
__u
 = 
	`__exnsi__
 ((*) __u + 3);

643 
__u
->
__ui
 = 
__c0_4
;

644 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

645 
__u
->
__uc
 = '\0';

648 
__u
->
__ui
 = 
__c0_4
;

649 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

650 
__u
->
__usi
 = 
__c4_2
;

651 
__u
 = 
	`__exnsi__
 ((*) __u + 1);

654 
__u
->
__ui
 = 
__c0_4
;

655 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

656 
__u
->
__usi
 = 
__c4_2
;

657 
__u
 = 
	`__exnsi__
 ((*) __u + 2);

658 
__u
->
__uc
 = '\0';

661 
__u
->
__ui
 = 
__c0_4
;

662 
__u
 = 
	`__exnsi__
 ((*) __u + 4);

663 
__u
->
__ui
 = 
__c4_4
;

664 
__u
 = 
	`__exnsi__
 ((*) __u + 3);

667  &
__u
->
__c
;

668 
	}
}

670 #ide
_FORCE_INLINES


671 
	#__py_gs
(
c
) \

672 
	`__exnsi__
 ((
__STRING2_COPY_ARR2
) \

673 { { ((
__cڡ
 *(
c
))[0], '\0' } }), \

674 
	`__exnsi__
 ((
__STRING2_COPY_ARR3
) \

675 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

677 
	`__exnsi__
 ((
__STRING2_COPY_ARR4
) \

678 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

679 ((
__cڡ
 *(
c
))[2], '\0' } }), \

680 
	`__exnsi__
 ((
__STRING2_COPY_ARR5
) \

681 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

682 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

684 
	`__exnsi__
 ((
__STRING2_COPY_ARR6
) \

685 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

686 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

687 ((
__cڡ
 *(
c
))[4], '\0' } }), \

688 
	`__exnsi__
 ((
__STRING2_COPY_ARR7
) \

689 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

690 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

691 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

693 
	`__exnsi__
 ((
__STRING2_COPY_ARR8
) \

694 { { ((
__cڡ
 *(
c
))[0], ((__const *) (src))[1], \

695 ((
__cڡ
 *(
c
))[2], ((__const *) (src))[3], \

696 ((
__cڡ
 *(
c
))[4], ((__const *) (src))[5], \

697 ((
__cڡ
 *(
c
))[6], '\0' } })

	)

699 
__STRING_INLINE
 *
__py_sml
 (*, 
__STRING2_COPY_ARR2
,

700 
__STRING2_COPY_ARR3
,

701 
__STRING2_COPY_ARR4
,

702 
__STRING2_COPY_ARR5
,

703 
__STRING2_COPY_ARR6
,

704 
__STRING2_COPY_ARR7
,

705 
__STRING2_COPY_ARR8
, 
size_t
);

706 
__STRING_INLINE
 *

707 
	$__py_sml
 (*
__de
,

708 
__STRING2_COPY_ARR2
 
__c2
, 
__STRING2_COPY_ARR3
 
__c3
,

709 
__STRING2_COPY_ARR4
 
__c4
, 
__STRING2_COPY_ARR5
 
__c5
,

710 
__STRING2_COPY_ARR6
 
__c6
, 
__STRING2_COPY_ARR7
 
__c7
,

711 
__STRING2_COPY_ARR8
 
__c8
, 
size_t
 
__
)

714 
__c
;

715 
__STRING2_COPY_ARR2
 
__s2
;

716 
__STRING2_COPY_ARR3
 
__s3
;

717 
__STRING2_COPY_ARR4
 
__s4
;

718 
__STRING2_COPY_ARR5
 
__s5
;

719 
__STRING2_COPY_ARR6
 
__s6
;

720 
__STRING2_COPY_ARR7
 
__s7
;

721 
__STRING2_COPY_ARR8
 
__s8
;

722 } *
__u
 = (*
__de
;

723 (
__
)

726 
__u
->
__c
 = '\0';

729 
__exnsi__
 
__u
->
__s2
 = 
__c2
;

732 
__exnsi__
 
__u
->
__s3
 = 
__c3
;

735 
__exnsi__
 
__u
->
__s4
 = 
__c4
;

738 
__exnsi__
 
__u
->
__s5
 = 
__c5
;

741 
__exnsi__
 
__u
->
__s6
 = 
__c6
;

744 
__exnsi__
 
__u
->
__s7
 = 
__c7
;

747 
__exnsi__
 
__u
->
__s8
 = 
__c8
;

750  
__de
 + 
__
 - 1;

751 
	}
}

759 #ide
_HAVE_STRING_ARCH_y


760 #i
__GNUC_PREREQ
 (3, 2)

761 
	#y
(
de
, 
c
, 
n

	`__but_y
 (de, src,)

	)

763 
	#y
(
de
, 
c
, 
n
) \

764 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
&& __but_cڡt_(
n
) \

765 ? (
	`
 (
c
+ 1 >((
size_t
(
n
)) \

766 ? (*
	`memy
 (
de
, 
c
, 
n
) \

767 : 
	`y
 (
de
, 
c
, 
n
)) \

768 : 
	`y
 (
de
, 
c
, 
n
)))

	)

774 #ide
_HAVE_STRING_ARCH_t


775 #ifde
_USE_STRING_ARCH_rchr


776 
	#t
(
de
, 
c
, 
n
) \

777 (
	`__exnsi__
 ({ *
__de
 = (
de
); \

778 
	`__but_cڡt_p
 (
c
&& __but_cڡt_(
n
) \

779 ? (
	`
 (
c
< ((
size_t
(
n
)) \

780 ? 
	`rt
 (
__de
, 
c
) \

781 : (*((*
	`__mempy
 (
	`rchr
 (
__de
, '\0'), \

782 
c
, 
n
)'\0', 
__de
)) \

783 : 
	`t
 (
de
, 
c
, 
n
); }))

	)

784 #i
__GNUC_PREREQ
 (3, 2)

785 
	#t
(
de
, 
c
, 
n

	`__but_t
 (de, src,)

	)

787 
	#t
(
de
, 
c
, 
n
) \

788 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
c
&& __but_cڡt_(
n
) \

789 ? (
	`
 (
c
< ((
size_t
(
n
)) \

790 ? 
	`rt
 (
de
, 
c
) \

791 : 
	`t
 (
de
, 
c
, 
n
)) \

792 : 
	`t
 (
de
, 
c
, 
n
)))

	)

798 #ide
_HAVE_STRING_ARCH_rcmp


799 #i
__GNUC_PREREQ
 (3, 2)

800 
	#rcmp
(
s1
, 
s2
) \

801 
__exnsi__
 \

802 ({ 
size_t
 
__s1_n
, 
__s2_n
; \

803 (
	`__but_cڡt_p
 (
s1
&& __but_cڡt_(
s2
) \

804 && (
__s1_n
 = 
	`__but_
 (
s1
), 
__s2_n
 = __but_ (
s2
), \

805 (!
	`__rg2_1br_p
 (
s1
|| 
__s1_n
 >= 4) \

806 && (!
	`__rg2_1br_p
 (
s2
|| 
__s2_n
 >= 4)) \

807 ? 
	`__but_rcmp
 (
s1
, 
s2
) \

808 : (
	`__but_cڡt_p
 (
s1
&& 
	`__rg2_1br_p
 (s1) \

809 && (
__s1_n
 = 
	`__but_
 (
s1
), __s1_len < 4) \

810 ? (
	`__but_cڡt_p
 (
s2
&& 
	`__rg2_1br_p
 (s2) \

811 ? 
	`__but_rcmp
 (
s1
, 
s2
) \

812 : 
	`__rcmp_cg
 (
s1
, 
s2
, 
__s1_n
)) \

813 : (
	`__but_cڡt_p
 (
s2
&& 
	`__rg2_1br_p
 (s2) \

814 && (
__s2_n
 = 
	`__but_
 (
s2
), __s2_len < 4) \

815 ? (
	`__but_cڡt_p
 (
s1
&& 
	`__rg2_1br_p
 (s1) \

816 ? 
	`__but_rcmp
 (
s1
, 
s2
) \

817 : 
	`__rcmp_gc
 (
s1
, 
s2
, 
__s2_n
)) \

818 : 
	`__but_rcmp
 (
s1
, 
s2
)))); })

	)

820 
	#rcmp
(
s1
, 
s2
) \

821 
__exnsi__
 \

822 ({ 
size_t
 
__s1_n
, 
__s2_n
; \

823 (
	`__but_cڡt_p
 (
s1
&& __but_cڡt_(
s2
) \

824 && (
__s1_n
 = 
	`
 (
s1
), 
__s2_n
 = s(
s2
), \

825 (!
	`__rg2_1br_p
 (
s1
|| 
__s1_n
 >= 4) \

826 && (!
	`__rg2_1br_p
 (
s2
|| 
__s2_n
 >= 4)) \

827 ? 
	`memcmp
 ((
__cڡ
 *(
s1
), (__cڡ *(
s2
), \

828 (
__s1_n
 < 
__s2_n
 ? __s1_len : __s2_len) + 1) \

829 : (
	`__but_cڡt_p
 (
s1
&& 
	`__rg2_1br_p
 (s1) \

830 && (
__s1_n
 = 
	`
 (
s1
), __s1_len < 4) \

831 ? (
	`__but_cڡt_p
 (
s2
&& 
	`__rg2_1br_p
 (s2) \

832 ? 
	`__rcmp_cc
 (
s1
, 
s2
, 
__s1_n
) \

833 : 
	`__rcmp_cg
 (
s1
, 
s2
, 
__s1_n
)) \

834 : (
	`__but_cڡt_p
 (
s2
&& 
	`__rg2_1br_p
 (s2) \

835 && (
__s2_n
 = 
	`
 (
s2
), __s2_len < 4) \

836 ? (
	`__but_cڡt_p
 (
s1
&& 
	`__rg2_1br_p
 (s1) \

837 ? 
	`__rcmp_cc
 (
s1
, 
s2
, 
__s2_n
) \

838 : 
	`__rcmp_gc
 (
s1
, 
s2
, 
__s2_n
)) \

839 : 
	`rcmp
 (
s1
, 
s2
)))); })

	)

842 
	#__rcmp_cc
(
s1
, 
s2
, 
l
) \

843 (
	`__exnsi__
 ({ 
__su
 = \

844 (((
__cڡ
 *(__cڡ *(
s1
))[0] \

845 - ((
__cڡ
 *(__cڡ *)(
s2
))[0]);\

846 i(
l
 > 0 && 
__su
 == 0) \

848 
__su
 = (((
__cڡ
 *) \

849 (
__cڡ
 *(
s1
))[1] \

850 - ((
__cڡ
 *) \

851 (
__cڡ
 *(
s2
))[1]); \

852 i(
l
 > 1 && 
__su
 == 0) \

854 
__su
 = \

855 (((
__cڡ
 *) \

856 (
__cڡ
 *(
s1
))[2] \

857 - ((
__cڡ
 *) \

858 (
__cڡ
 *(
s2
))[2]); \

859 i(
l
 > 2 && 
__su
 == 0) \

860 
__su
 = \

861 (((
__cڡ
 *) \

862 (
__cڡ
 *(
s1
))[3] \

863 - ((
__cڡ
 *) \

864 (
__cڡ
 *(
s2
))[3]); \

867 
__su
; }))

	)

869 
	#__rcmp_cg
(
s1
, 
s2
, 
l1
) \

870 (
	`__exnsi__
 ({ 
__cڡ
 *
__s2
 = \

871 (
__cڡ
 *(__cڡ *(
s2
); \

872 
__su
 = \

873 (((
__cڡ
 *(__cڡ *(
s1
))[0] \

874 - 
__s2
[0]); \

875 i(
l1
 > 0 && 
__su
 == 0) \

877 
__su
 = (((
__cڡ
 *) \

878 (
__cڡ
 *(
s1
))[1] - 
__s2
[1]); \

879 i(
l1
 > 1 && 
__su
 == 0) \

881 
__su
 = (((
__cڡ
 *) \

882 (
__cڡ
 *(
s1
))[2] - 
__s2
[2]);\

883 i(
l1
 > 2 && 
__su
 == 0) \

884 
__su
 = (((
__cڡ
 *) \

885 (
__cڡ
 *(
s1
))[3] \

886 - 
__s2
[3]); \

889 
__su
; }))

	)

891 
	#__rcmp_gc
(
s1
, 
s2
, 
l2
) \

892 (
	`__exnsi__
 ({ 
__cڡ
 *
__s1
 = \

893 (
__cڡ
 *(__cڡ *(
s1
); \

894 
__su
 = \

895 
__s1
[0] - ((
__cڡ
 *) \

896 (
__cڡ
 *(
s2
))[0]; \

897 i(
l2
 > 0 && 
__su
 == 0) \

899 
__su
 = (
__s1
[1] \

900 - ((
__cڡ
 *) \

901 (
__cڡ
 *(
s2
))[1]); \

902 i(
l2
 > 1 && 
__su
 == 0) \

904 
__su
 = \

905 (
__s1
[2] - ((
__cڡ
 *) \

906 (
__cڡ
 *(
s2
))[2]); \

907 i(
l2
 > 2 && 
__su
 == 0) \

908 
__su
 = \

909 (
__s1
[3] \

910 - ((
__cڡ
 *) \

911 (
__cڡ
 *(
s2
))[3]); \

914 
__su
; }))

	)

919 #ide
_HAVE_STRING_ARCH_cmp


920 
	#cmp
(
s1
, 
s2
, 
n
) \

921 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
n
) \

922 && ((
	`__but_cڡt_p
 (
s1
) \

923 && 
	`
 (
s1
< ((
size_t
(
n
))) \

924 || (
	`__but_cڡt_p
 (
s2
) \

925 && 
	`
 (
s2
< ((
size_t
(
n
)))) \

926 ? 
	`rcmp
 (
s1
, 
s2
: 
	`cmp
 (s1, s2, 
n
)))

	)

932 #i!
defed
 
_HAVE_STRING_ARCH_rcn
 || defed 
_FORCE_INLINES


933 #ide
_HAVE_STRING_ARCH_rcn


934 #i
__GNUC_PREREQ
 (3, 2)

935 
	#rcn
(
s
, 
je
) \

936 
__exnsi__
 \

937 ({ 
__r0
, 
__r1
, 
__r2
; \

938 (
	`__but_cڡt_p
 (
je
&& 
	`__rg2_1br_p
 (reject) \

939 ? ((
	`__but_cڡt_p
 (
s
&& 
	`__rg2_1br_p
 (s)) \

940 ? 
	`__but_rcn
 (
s
, 
je
) \

941 : ((
__r0
 = ((
__cڡ
 *(
je
))[0], __r0 == '\0') \

942 ? 
	`
 (
s
) \

943 : ((
__r1
 = ((
__cڡ
 *(
je
))[1], __r1 == '\0') \

944 ? 
	`__rcn_c1
 (
s
, 
__r0
) \

945 : ((
__r2
 = ((
__cڡ
 *(
je
))[2], __r2 == '\0') \

946 ? 
	`__rcn_c2
 (
s
, 
__r0
, 
__r1
) \

947 : (((
__cڡ
 *(
je
))[3] == '\0' \

948 ? 
	`__rcn_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

949 : 
	`__but_rcn
 (
s
, 
je
)))))) \

950 : 
	`__but_rcn
 (
s
, 
je
)); })

	)

952 
	#rcn
(
s
, 
je
) \

953 
__exnsi__
 \

954 ({ 
__r0
, 
__r1
, 
__r2
; \

955 (
	`__but_cڡt_p
 (
je
&& 
	`__rg2_1br_p
 (reject) \

956 ? ((
__r0
 = ((
__cڡ
 *(
je
))[0], __r0 == '\0') \

957 ? 
	`
 (
s
) \

958 : ((
__r1
 = ((
__cڡ
 *(
je
))[1], __r1 == '\0') \

959 ? 
	`__rcn_c1
 (
s
, 
__r0
) \

960 : ((
__r2
 = ((
__cڡ
 *(
je
))[2], __r2 == '\0') \

961 ? 
	`__rcn_c2
 (
s
, 
__r0
, 
__r1
) \

962 : (((
__cڡ
 *(
je
))[3] == '\0' \

963 ? 
	`__rcn_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

964 : 
	`rcn
 (
s
, 
je
))))) \

965 : 
	`rcn
 (
s
, 
je
)); })

	)

969 
__STRING_INLINE
 
size_t
 
__rcn_c1
 (
__cڡ
 *
__s
, 
__je
);

970 
__STRING_INLINE
 
size_t


971 
	$__rcn_c1
 (
__cڡ
 *
__s
, 
__je
)

973 
size_t
 
__su
 = 0;

974 
__s
[
__su
] !'\0' && __s[__su] !
__je
)

975 ++
__su
;

976  
__su
;

977 
	}
}

979 
__STRING_INLINE
 
size_t
 
__rcn_c2
 (
__cڡ
 *
__s
, 
__je1
,

980 
__je2
);

981 
__STRING_INLINE
 
size_t


982 
	$__rcn_c2
 (
__cڡ
 *
__s
, 
__je1
, 
__je2
)

984 
size_t
 
__su
 = 0;

985 
__s
[
__su
] !'\0' && __s[__su] !
__je1


986 && 
__s
[
__su
] !
__je2
)

987 ++
__su
;

988  
__su
;

989 
	}
}

991 
__STRING_INLINE
 
size_t
 
__rcn_c3
 (
__cڡ
 *
__s
, 
__je1
,

992 
__je2
, 
__je3
);

993 
__STRING_INLINE
 
size_t


994 
	$__rcn_c3
 (
__cڡ
 *
__s
, 
__je1
, 
__je2
,

995 
__je3
)

997 
size_t
 
__su
 = 0;

998 
__s
[
__su
] !'\0' && __s[__su] !
__je1


999 && 
__s
[
__su
] !
__je2
 && __s[__su] !
__je3
)

1000 ++
__su
;

1001  
__su
;

1002 
	}
}

1008 #i!
defed
 
_HAVE_STRING_ARCH_rn
 || defed 
_FORCE_INLINES


1009 #ide
_HAVE_STRING_ARCH_rn


1010 #i
__GNUC_PREREQ
 (3, 2)

1011 
	#rn
(
s
, 
ac
) \

1012 
__exnsi__
 \

1013 ({ 
__a0
, 
__a1
, 
__a2
; \

1014 (
	`__but_cڡt_p
 (
ac
&& 
	`__rg2_1br_p
 (accept) \

1015 ? ((
	`__but_cڡt_p
 (
s
&& 
	`__rg2_1br_p
 (s)) \

1016 ? 
	`__but_rn
 (
s
, 
ac
) \

1017 : ((
__a0
 = ((
__cڡ
 *(
ac
))[0], __a0 == '\0') \

1018 ? (((
s
), 0) \

1019 : ((
__a1
 = ((
__cڡ
 *(
ac
))[1], __a1 == '\0') \

1020 ? 
	`__rn_c1
 (
s
, 
__a0
) \

1021 : ((
__a2
 = ((
__cڡ
 *(
ac
))[2], __a2 == '\0') \

1022 ? 
	`__rn_c2
 (
s
, 
__a0
, 
__a1
) \

1023 : (((
__cڡ
 *(
ac
))[3] == '\0' \

1024 ? 
	`__rn_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1025 : 
	`__but_rn
 (
s
, 
ac
)))))) \

1026 : 
	`__but_rn
 (
s
, 
ac
)); })

	)

1028 
	#rn
(
s
, 
ac
) \

1029 
__exnsi__
 \

1030 ({ 
__a0
, 
__a1
, 
__a2
; \

1031 (
	`__but_cڡt_p
 (
ac
&& 
	`__rg2_1br_p
 (accept) \

1032 ? ((
__a0
 = ((
__cڡ
 *(
ac
))[0], __a0 == '\0') \

1033 ? (((
s
), 0) \

1034 : ((
__a1
 = ((
__cڡ
 *(
ac
))[1], __a1 == '\0') \

1035 ? 
	`__rn_c1
 (
s
, 
__a0
) \

1036 : ((
__a2
 = ((
__cڡ
 *(
ac
))[2], __a2 == '\0') \

1037 ? 
	`__rn_c2
 (
s
, 
__a0
, 
__a1
) \

1038 : (((
__cڡ
 *(
ac
))[3] == '\0' \

1039 ? 
	`__rn_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1040 : 
	`rn
 (
s
, 
ac
))))) \

1041 : 
	`rn
 (
s
, 
ac
)); })

	)

1045 
__STRING_INLINE
 
size_t
 
__rn_c1
 (
__cڡ
 *
__s
, 
__ac
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__rn_c1
 (
__cڡ
 *
__s
, 
__ac
)

1049 
size_t
 
__su
 = 0;

1051 
__s
[
__su
] =
__ac
)

1052 ++
__su
;

1053  
__su
;

1054 
	}
}

1056 
__STRING_INLINE
 
size_t
 
__rn_c2
 (
__cڡ
 *
__s
, 
__ac1
,

1057 
__ac2
);

1058 
__STRING_INLINE
 
size_t


1059 
	$__rn_c2
 (
__cڡ
 *
__s
, 
__ac1
, 
__ac2
)

1061 
size_t
 
__su
 = 0;

1063 
__s
[
__su
] =
__ac1
 || __s[__su] =
__ac2
)

1064 ++
__su
;

1065  
__su
;

1066 
	}
}

1068 
__STRING_INLINE
 
size_t
 
__rn_c3
 (
__cڡ
 *
__s
, 
__ac1
,

1069 
__ac2
, 
__ac3
);

1070 
__STRING_INLINE
 
size_t


1071 
	$__rn_c3
 (
__cڡ
 *
__s
, 
__ac1
, 
__ac2
, 
__ac3
)

1073 
size_t
 
__su
 = 0;

1075 
__s
[
__su
] =
__ac1
 || __s[__su] =
__ac2


1076 || 
__s
[
__su
] =
__ac3
)

1077 ++
__su
;

1078  
__su
;

1079 
	}
}

1084 #i!
defed
 
_HAVE_STRING_ARCH_brk
 || defed 
_FORCE_INLINES


1085 #ide
_HAVE_STRING_ARCH_brk


1086 #i
__GNUC_PREREQ
 (3, 2)

1087 
	#brk
(
s
, 
ac
) \

1088 
__exnsi__
 \

1089 ({ 
__a0
, 
__a1
, 
__a2
; \

1090 (
	`__but_cڡt_p
 (
ac
&& 
	`__rg2_1br_p
 (accept) \

1091 ? ((
	`__but_cڡt_p
 (
s
&& 
	`__rg2_1br_p
 (s)) \

1092 ? 
	`__but_brk
 (
s
, 
ac
) \

1093 : ((
__a0
 = ((
__cڡ
 *(
ac
))[0], __a0 == '\0') \

1094 ? (((
s
), (*
NULL
) \

1095 : ((
__a1
 = ((
__cڡ
 *(
ac
))[1], __a1 == '\0') \

1096 ? 
	`__but_rchr
 (
s
, 
__a0
) \

1097 : ((
__a2
 = ((
__cڡ
 *(
ac
))[2], __a2 == '\0') \

1098 ? 
	`__brk_c2
 (
s
, 
__a0
, 
__a1
) \

1099 : (((
__cڡ
 *(
ac
))[3] == '\0' \

1100 ? 
	`__brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1101 : 
	`__but_brk
 (
s
, 
ac
)))))) \

1102 : 
	`__but_brk
 (
s
, 
ac
)); })

	)

1104 
	#brk
(
s
, 
ac
) \

1105 
__exnsi__
 \

1106 ({ 
__a0
, 
__a1
, 
__a2
; \

1107 (
	`__but_cڡt_p
 (
ac
&& 
	`__rg2_1br_p
 (accept) \

1108 ? ((
__a0
 = ((
__cڡ
 *(
ac
))[0], __a0 == '\0') \

1109 ? (((
s
), (*
NULL
) \

1110 : ((
__a1
 = ((
__cڡ
 *(
ac
))[1], __a1 == '\0') \

1111 ? 
	`rchr
 (
s
, 
__a0
) \

1112 : ((
__a2
 = ((
__cڡ
 *(
ac
))[2], __a2 == '\0') \

1113 ? 
	`__brk_c2
 (
s
, 
__a0
, 
__a1
) \

1114 : (((
__cڡ
 *(
ac
))[3] == '\0' \

1115 ? 
	`__brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1116 : 
	`brk
 (
s
, 
ac
))))) \

1117 : 
	`brk
 (
s
, 
ac
)); })

	)

1121 
__STRING_INLINE
 *
__brk_c2
 (
__cڡ
 *
__s
, 
__ac1
,

1122 
__ac2
);

1123 
__STRING_INLINE
 *

1124 
	$__brk_c2
 (
__cڡ
 *
__s
, 
__ac1
, 
__ac2
)

1127 *
__s
 !'\0' && *__!
__ac1
 && *__!
__ac2
)

1128 ++
__s
;

1129  *
__s
 ='\0' ? 
NULL
 : (*(
size_t
) __s;

1130 
	}
}

1132 
__STRING_INLINE
 *
__brk_c3
 (
__cڡ
 *
__s
, 
__ac1
,

1133 
__ac2
, 
__ac3
);

1134 
__STRING_INLINE
 *

1135 
	$__brk_c3
 (
__cڡ
 *
__s
, 
__ac1
, 
__ac2
,

1136 
__ac3
)

1139 *
__s
 !'\0' && *__!
__ac1
 && *__!
__ac2


1140 && *
__s
 !
__ac3
)

1141 ++
__s
;

1142  *
__s
 ='\0' ? 
NULL
 : (*(
size_t
) __s;

1143 
	}
}

1149 #i!
defed
 
_HAVE_STRING_ARCH_rr
 && !
__GNUC_PREREQ
 (2, 97)

1150 
	#rr
(
hayack
, 
ed
) \

1151 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
ed
&& 
	`__rg2_1br_p
 (needle) \

1152 ? (((
__cڡ
 *(
ed
))[0] == '\0' \

1153 ? (*(
size_t
(
hayack
) \

1154 : (((
__cڡ
 *(
ed
))[1] == '\0' \

1155 ? 
	`rchr
 (
hayack
, \

1156 ((
__cڡ
 *(
ed
))[0]) \

1157 : 
	`rr
 (
hayack
, 
ed
))) \

1158 : 
	`rr
 (
hayack
, 
ed
)))

	)

1162 #i!
defed
 
_HAVE_STRING_ARCH_ok_r
 || defed 
_FORCE_INLINES


1163 #ide
_HAVE_STRING_ARCH_ok_r


1164 
	#__ok_r
(
s
, 
p
, 
x
) \

1165 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
p
&& 
	`__rg2_1br_p
 (sep) \

1166 && ((
__cڡ
 *(
p
))[0] != '\0' \

1167 && ((
__cڡ
 *(
p
))[1] == '\0' \

1168 ? 
	`__ok_r_1c
 (
s
, ((
__cڡ
 *(
p
))[0], 
x
) \

1169 : 
	`__ok_r
 (
s
, 
p
, 
x
)))

	)

1172 
__STRING_INLINE
 *
__ok_r_1c
 (*
__s
, 
__p
, **
__x
);

1173 
__STRING_INLINE
 *

1174 
	$__ok_r_1c
 (*
__s
, 
__p
, **
__x
)

1176 *
__su
;

1177 i(
__s
 =
NULL
)

1178 
__s
 = *
__x
;

1179 *
__s
 =
__p
)

1180 ++
__s
;

1181 
__su
 = 
NULL
;

1182 i(*
__s
 != '\0')

1184 
__su
 = 
__s
++;

1185 *
__s
 != '\0')

1186 i(*
__s
++ =
__p
)

1188 
__s
[-1] = '\0';

1192 *
__x
 = 
__s
;

1193  
__su
;

1194 
	}
}

1195 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


1196 
	#ok_r
(
s
, 
p
, 
x

	`__ok_r
 (s, s,ex)

	)

1201 #i!
defed
 
_HAVE_STRING_ARCH_rp
 || defed 
_FORCE_INLINES


1202 #ide
_HAVE_STRING_ARCH_rp


1204 *
__rp_g
 (**
__rgp
, 
__cڡ
 *
__dim
);

1205 
	#__rp
(
s
, 
je
) \

1206 
__exnsi__
 \

1207 ({ 
__r0
, 
__r1
, 
__r2
; \

1208 (
	`__but_cڡt_p
 (
je
&& 
	`__rg2_1br_p
 (reject) \

1209 && (
__r0
 = ((
__cڡ
 *(
je
))[0], \

1210 ((
__cڡ
 *(
je
))[0] != '\0') \

1211 ? ((
__r1
 = ((
__cڡ
 *(
je
))[1], \

1212 ((
__cڡ
 *(
je
))[1] == '\0') \

1213 ? 
	`__rp_1c
 (
s
, 
__r0
) \

1214 : ((
__r2
 = ((
__cڡ
 *(
je
))[2], __r2 == '\0') \

1215 ? 
	`__rp_2c
 (
s
, 
__r0
, 
__r1
) \

1216 : (((
__cڡ
 *(
je
))[3] == '\0' \

1217 ? 
	`__rp_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1218 : 
	`__rp_g
 (
s
, 
je
)))) \

1219 : 
	`__rp_g
 (
s
, 
je
)); })

	)

1222 
__STRING_INLINE
 *
__rp_1c
 (**
__s
, 
__je
);

1223 
__STRING_INLINE
 *

1224 
	$__rp_1c
 (**
__s
, 
__je
)

1226 *
__tv
 = *
__s
;

1227 i(
__tv
 !
NULL
 && (*
__s
 = 
	`rchr
 (__tv, 
__je
)) != NULL)

1228 *(*
__s
)++ = '\0';

1229  
__tv
;

1230 
	}
}

1232 
__STRING_INLINE
 *
__rp_2c
 (**
__s
, 
__je1
, 
__je2
);

1233 
__STRING_INLINE
 *

1234 
	$__rp_2c
 (**
__s
, 
__je1
, 
__je2
)

1236 *
__tv
 = *
__s
;

1237 i(
__tv
 !
NULL
)

1239 *
__
 = 
__tv
;

1242 i(*
__
 == '\0')

1244 
__
 = 
NULL
;

1247 i(*
__
 =
__je1
 || *__ =
__je2
)

1249 *
__
++ = '\0';

1252 ++
__
;

1254 *
__s
 = 
__
;

1256  
__tv
;

1257 
	}
}

1259 
__STRING_INLINE
 *
__rp_3c
 (**
__s
, 
__je1
, 
__je2
,

1260 
__je3
);

1261 
__STRING_INLINE
 *

1262 
	$__rp_3c
 (**
__s
, 
__je1
, 
__je2
, 
__je3
)

1264 *
__tv
 = *
__s
;

1265 i(
__tv
 !
NULL
)

1267 *
__
 = 
__tv
;

1270 i(*
__
 == '\0')

1272 
__
 = 
NULL
;

1275 i(*
__
 =
__je1
 || *__ =
__je2
 || *__ =
__je3
)

1277 *
__
++ = '\0';

1280 ++
__
;

1282 *
__s
 = 
__
;

1284  
__tv
;

1285 
	}
}

1286 #ifde
__USE_BSD


1287 
	#rp
(
s
, 
je

	`__rp
 (s,eje)

	)

1294 #ifde
__USE_MISC


1296 #i!
defed
 
_HAVE_STRING_ARCH_rdup
 || !defed 
_HAVE_STRING_ARCH_dup


1297 
	#__ed_mloc_d_oc


	)

1298 
	~<dlib.h
>

1301 #ide
_HAVE_STRING_ARCH_rdup


1303 *
	$__rdup
 (
__cڡ
 *
__rg

__THROW
 
__ibu_mloc__
;

1304 
	#__rdup
(
s
) \

1305 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
s
&& 
	`__rg2_1br_p
 (s) \

1306 ? (((
__cڡ
 *(
s
))[0] == '\0' \

1307 ? (*
	`oc
 ((
size_t
) 1, (size_t) 1) \

1308 : ({ 
size_t
 
__n
 = 
	`
 (
s
) + 1; \

1309 *
__tv
 = (*
	`mloc
 (
__n
); \

1310 i(
__tv
 !
NULL
) \

1311 
__tv
 = (*
	`memy
 (__tv, 
s
, 
__n
); \

1312 
__tv
; 
	}
})) \

1313 : 
	`__rdup
 (
s
)))

	)

1315 #i
defed
 
__USE_SVID
 || defed 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


1316 
	#rdup
(
s

	`__rdup
 (s)

	)

1320 #ide
_HAVE_STRING_ARCH_dup


1322 *
	$__dup
 (
__cڡ
 *
__rg
, 
size_t
 
__n
)

1323 
__THROW
 
__ibu_mloc__
;

1324 
	#__dup
(
s
, 
n
) \

1325 (
	`__exnsi__
 (
	`__but_cڡt_p
 (
s
&& 
	`__rg2_1br_p
 (s) \

1326 ? (((
__cڡ
 *(
s
))[0] == '\0' \

1327 ? (*
	`oc
 ((
size_t
) 1, (size_t) 1) \

1328 : ({ 
size_t
 
__n
 = 
	`
 (
s
) + 1; \

1329 
size_t
 
__n
 = (
n
); \

1330 *
__tv
; \

1331 i(
__n
 < 
__n
) \

1332 
__n
 = 
__n
 + 1; \

1333 
__tv
 = (*
	`mloc
 (
__n
); \

1334 i(
__tv
 !
NULL
) \

1336 
__tv
[
__n
 - 1] = '\0'; \

1337 
__tv
 = (*
	`memy
 (__tv, 
s
, \

1338 
__n
 - 1); \

1340 
__tv
; 
	}
})) \

1341 : 
	`__dup
 (
s
, 
n
)))

	)

1343 #ifde
__USE_GNU


1344 
	#dup
(
s
, 
n

	`__dup
 (s,)

	)

1350 #ide
_FORCE_INLINES


1351 #unde
__STRING_INLINE


	@/usr/include/bits/string3.h

19 #ide
_STRING_H


23 
__wnde
 (
__wn_memt_zo_n
,

26 #ide
__lulus


30 #unde
memy


31 #unde
memmove


32 #unde
memt


33 #unde
rt


34 #unde
ry


35 #unde
t


36 #unde
y


37 #ifde
__USE_GNU


38 #unde
mempy


39 #unde
py


41 #ifde
__USE_BSD


42 #unde
bcy


43 #unde
bzo


48 
__ex_ways_le
 *

49 
__NTH
 (
	$memy
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

50 
size_t
 
__n
))

52  
	`__but___memy_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos0
 (__dest));

53 
	}
}

55 
__ex_ways_le
 *

56 
__NTH
 (
	$memmove
 (*
__de
, 
__cڡ
 *
__c
, 
size_t
 
__n
))

58  
	`__but___memmove_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos0
 (__dest));

59 
	}
}

61 #ifde
__USE_GNU


62 
__ex_ways_le
 *

63 
__NTH
 (
	$mempy
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

64 
size_t
 
__n
))

66  
	`__but___mempy_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos0
 (__dest));

67 
	}
}

76 
__ex_ways_le
 *

77 
__NTH
 (
	$memt
 (*
__de
, 
__ch
, 
size_t
 
__n
))

79 i(
	`__but_cڡt_p
 (
__n
) && __len == 0

80 && (!
	`__but_cڡt_p
 (
__ch
) || __ch != 0))

82 
	`__wn_memt_zo_n
 ();

83  
__de
;

85  
	`__but___memt_chk
 (
__de
, 
__ch
, 
__n
, 
	`__bos0
 (__dest));

86 
	}
}

88 #ifde
__USE_BSD


89 
__ex_ways_le
 

90 
__NTH
 (
	$bcy
 (
__cڡ
 *
__c
, *
__de
, 
size_t
 
__n
))

92 (
	`__but___memmove_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos0
 (__dest));

93 
	}
}

95 
__ex_ways_le
 

96 
__NTH
 (
	$bzo
 (*
__de
, 
size_t
 
__n
))

98 (
	`__but___memt_chk
 (
__de
, '\0', 
__n
, 
	`__bos0
 (__dest));

99 
	}
}

102 
__ex_ways_le
 *

103 
__NTH
 (
	$ry
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
))

105  
	`__but___ry_chk
 (
__de
, 
__c
, 
	`__bos
 (__dest));

106 
	}
}

108 #ifde
__USE_GNU


109 
__ex_ways_le
 *

110 
__NTH
 (
	$py
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
))

112  
	`__but___py_chk
 (
__de
, 
__c
, 
	`__bos
 (__dest));

113 
	}
}

117 
__ex_ways_le
 *

118 
__NTH
 (
	$y
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

119 
size_t
 
__n
))

121  
	`__but___y_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos
 (__dest));

122 
	}
}

125 *
	$__y_chk
 (*
__de
, 
__cڡ
 *
__c
, 
size_t
 
__n
,

126 
size_t
 
__den

__THROW
;

127 *
	`__REDIRECT_NTH
 (
__y_s
, (*
__de
,

128 
__cڡ
 *
__c
,

129 
size_t
 
__n
), 
y
);

131 
__ex_ways_le
 *

132 
	`__NTH
 (
	$y
 (*
__de
, 
__cڡ
 *
__c
, 
size_t
 
__n
))

134 i(
	`__bos
 (
__de
!(
size_t
) -1

135 && (!
	`__but_cڡt_p
 (
__n
|| __<
	`__bos
 (
__de
)))

136  
	`__y_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos
 (__dest));

137  
	`__y_s
 (
__de
, 
__c
, 
__n
);

138 
	}
}

141 
__ex_ways_le
 *

142 
__NTH
 (
	$rt
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
))

144  
	`__but___rt_chk
 (
__de
, 
__c
, 
	`__bos
 (__dest));

145 
	}
}

148 
__ex_ways_le
 *

149 
__NTH
 (
	$t
 (*
__ri
 
__de
, 
__cڡ
 *__ri 
__c
,

150 
size_t
 
__n
))

152  
	`__but___t_chk
 (
__de
, 
__c
, 
__n
, 
	`__bos
 (__dest));

153 
	}
}

	@/usr/include/bits/sys_errlist.h

20 #ide
_STDIO_H


26 #ifde 
__USE_BSD


27 
sys_ü
;

28 
__cڡ
 *__cڡ 
sys_i
[];

30 #ifde 
__USE_GNU


31 
_sys_ü
;

32 
__cڡ
 *__cڡ 
_sys_i
[];

	@/usr/include/bits/time.h

24 #i
defed
 
__ed_timev
 || defed 
__USE_GNU


25 #ide
_STRUCT_TIMEVAL


26 
	#_STRUCT_TIMEVAL
 1

	)

27 
	~<bs/tys.h
>

31 
	stimev


33 
__time_t
 
	mtv_c
;

34 
__sucds_t
 
	mtv_uc
;

39 #ide
__ed_timev


40 #ide
_BITS_TIME_H


41 
	#_BITS_TIME_H
 1

	)

49 
	#CLOCKS_PER_SEC
 1000000l

	)

51 #i!
defed
 
__STRICT_ANSI__
 && !defed 
__USE_XOPEN2K


54 
	~<bs/tys.h
>

55 
__syscf
 ();

56 
	#CLK_TCK
 ((
__ock_t

	`__syscf
 (2)

	)

59 #ifde
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

82 
	#TIMER_ABSTIME
 1

	)

85 #ifde
__USE_GNU


86 
	~<bs/timex.h
>

88 
__BEGIN_DECLS


91 
	$ock_adjtime
 (
__ockid_t
 
__ock_id
, 
timex
 *
__utx

__THROW
;

93 
__END_DECLS


99 #unde
__ed_timev


	@/usr/include/bits/types.h

24 #idef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<us.h
>

28 
	~<bs/wdsize.h
>

31 
	t__u_ch
;

32 
	t__u_sht
;

33 
	t__u_t
;

34 
	t__u_lg
;

37 sigd 
	t__t8_t
;

38 
	t__ut8_t
;

39 sigd 
	t__t16_t
;

40 
	t__ut16_t
;

41 sigd 
	t__t32_t
;

42 
	t__ut32_t
;

43 #i
__WORDSIZE
 == 64

44 sigd 
	t__t64_t
;

45 
	t__ut64_t
;

46 #i
defed
 
__GLIBC_HAVE_LONG_LONG


47 
__exnsi__
 sigd 
	t__t64_t
;

48 
__exnsi__
 
	t__ut64_t
;

52 #i
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #i
defed
 
__GLIBC_HAVE_LONG_LONG


56 
__exnsi__
 
	t__quad_t
;

57 
__exnsi__
 
	t__u_quad_t
;

61 
	m__v
[2];

62 } 
	t__quad_t
;

65 
__u_lg
 
	m__v
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #i
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__exnsi__
 

	)

117 #i
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<bs/tysizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__o_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__o64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__ƚk_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__ock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__im_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__im64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__ucds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__sucds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__ockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkt_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkt64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkt_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkt64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsft_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsft64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g___t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockn_t
;

195 #unde
__STD_TYPE


	@/usr/include/bits/unistd.h

20 #ide
_UNISTD_H


24 
ssize_t
 
	$__ad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

25 
size_t
 
__bu

__wur
;

26 
ssize_t
 
	`__REDIRECT
 (
__ad_s
, (
__fd
, *
__buf
,

27 
size_t
 
__nbys
), 
ad

__wur
;

28 
ssize_t
 
	`__REDIRECT
 (
__ad_chk_wn
,

29 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

30 
size_t
 
__bu
), 
__ad_chk
)

31 
__wur
 
	`__wǉr
 ("read called with biggerengthhan size of "

34 
__ex_ways_le
 
__wur
 
ssize_t


35 
	$ad
 (
__fd
, *
__buf
, 
size_t
 
__nbys
)

37 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

39 i(!
	`__but_cڡt_p
 (
__nbys
))

40  
	`__ad_chk
 (
__fd
, 
__buf
, 
__nbys
, 
	`__bos0
 (__buf));

42 i(
__nbys
 > 
	`__bos0
 (
__buf
))

43  
	`__ad_chk_wn
 (
__fd
, 
__buf
, 
__nbys
, 
	`__bos0
 (__buf));

45  
	`__ad_s
 (
__fd
, 
__buf
, 
__nbys
);

46 
	}
}

48 #ifde
__USE_UNIX98


49 
ssize_t
 
	$__d_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

50 
__off_t
 
__offt
, 
size_t
 
__bufsize

__wur
;

51 
ssize_t
 
	$__d64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

52 
__off64_t
 
__offt
, 
size_t
 
__bufsize

__wur
;

53 
ssize_t
 
	`__REDIRECT
 (
__d_s
,

54 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

55 
__off_t
 
__offt
), 
d

__wur
;

56 
ssize_t
 
	`__REDIRECT
 (
__d64_s
,

57 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

58 
__off64_t
 
__offt
), 
d64

__wur
;

59 
ssize_t
 
	`__REDIRECT
 (
__d_chk_wn
,

60 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

61 
__off_t
 
__offt
, 
size_t
 
__bufsize
), 
__d_chk
)

62 
__wur
 
	`__wǉr
 ("pread called with biggerengthhan size of "

64 
ssize_t
 
	`__REDIRECT
 (
__d64_chk_wn
,

65 (
__fd
, *
__buf
, 
size_t
 
__nbys
,

66 
__off64_t
 
__offt
, 
size_t
 
__bufsize
),

67 
__d64_chk
)

68 
__wur
 
	`__wǉr
 ("pread64 called with biggerengthhan size of "

71 #ide
__USE_FILE_OFFSET64


72 
__ex_ways_le
 
__wur
 
ssize_t


73 
	$d
 (
__fd
, *
__buf
, 
size_t
 
__nbys
, 
__off_t
 
__offt
)

75 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

77 i(!
	`__but_cڡt_p
 (
__nbys
))

78  
	`__d_chk
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
, 
	`__bos0
 (__buf));

80 i
__nbys
 > 
	`__bos0
 (
__buf
))

81  
	`__d_chk_wn
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
,

82 
	`__bos0
 (
__buf
));

84  
	`__d_s
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
);

85 
	}
}

87 
__ex_ways_le
 
__wur
 
ssize_t


88 
	$d
 (
__fd
, *
__buf
, 
size_t
 
__nbys
, 
__off64_t
 
__offt
)

90 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

92 i(!
	`__but_cڡt_p
 (
__nbys
))

93  
	`__d64_chk
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
, 
	`__bos0
 (__buf));

95 i
__nbys
 > 
	`__bos0
 (
__buf
))

96  
	`__d64_chk_wn
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
,

97 
	`__bos0
 (
__buf
));

100  
	`__d64_s
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
);

101 
	}
}

104 #ifde
__USE_LARGEFILE64


105 
__ex_ways_le
 
__wur
 
ssize_t


106 
	$d64
 (
__fd
, *
__buf
, 
size_t
 
__nbys
, 
__off64_t
 
__offt
)

108 i(
	`__bos0
 (
__buf
!(
size_t
) -1)

110 i(!
	`__but_cڡt_p
 (
__nbys
))

111  
	`__d64_chk
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
, 
	`__bos0
 (__buf));

113 i
__nbys
 > 
	`__bos0
 (
__buf
))

114  
	`__d64_chk_wn
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
,

115 
	`__bos0
 (
__buf
));

118  
	`__d64_s
 (
__fd
, 
__buf
, 
__nbys
, 
__offt
);

119 
	}
}

123 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_XOPEN2K


124 
ssize_t
 
	$__adlk_chk
 (
__cڡ
 *
__ri
 
__th
,

125 *
__ri
 
__buf
, 
size_t
 
__n
,

126 
size_t
 
__bu
)

127 
__THROW
 
	`__nnu
 ((1, 2)
__wur
;

128 
ssize_t
 
	`__REDIRECT_NTH
 (
__adlk_s
,

129 (
__cڡ
 *
__ri
 
__th
,

130 *
__ri
 
__buf
, 
size_t
 
__n
), 
adlk
)

131 
	`__nnu
 ((1, 2)
__wur
;

132 
ssize_t
 
	`__REDIRECT_NTH
 (
__adlk_chk_wn
,

133 (
__cڡ
 *
__ri
 
__th
,

134 *
__ri
 
__buf
, 
size_t
 
__n
,

135 
size_t
 
__bu
), 
__adlk_chk
)

136 
	`__nnu
 ((1, 2)
__wur
 
	`__wǉr
 ("readlink called with biggerength "

139 
__ex_ways_le
 
	`__nnu
 ((1, 2)
__wur
 
ssize_t


140 
	`__NTH
 (
	$adlk
 (
__cڡ
 *
__ri
 
__th
, *__ri 
__buf
,

141 
size_t
 
__n
))

143 i(
	`__bos
 (
__buf
!(
size_t
) -1)

145 i(!
	`__but_cڡt_p
 (
__n
))

146  
	`__adlk_chk
 (
__th
, 
__buf
, 
__n
, 
	`__bos
 (__buf));

148 i
__n
 > 
	`__bos
 (
__buf
))

149  
	`__adlk_chk_wn
 (
__th
, 
__buf
, 
__n
, 
	`__bos
 (__buf));

151  
	`__adlk_s
 (
__th
, 
__buf
, 
__n
);

152 
	}
}

155 #ifde
__USE_ATFILE


156 
ssize_t
 
	$__adlk_chk
 (
__fd
, 
__cڡ
 *
__ri
 
__th
,

157 *
__ri
 
__buf
, 
size_t
 
__n
,

158 
size_t
 
__bu
)

159 
__THROW
 
	`__nnu
 ((2, 3)
__wur
;

160 
ssize_t
 
	`__REDIRECT_NTH
 (
__adlk_s
,

161 (
__fd
, 
__cڡ
 *
__ri
 
__th
,

162 *
__ri
 
__buf
, 
size_t
 
__n
),

163 
adlk
)

164 
	`__nnu
 ((2, 3)
__wur
;

165 
ssize_t
 
	`__REDIRECT_NTH
 (
__adlk_chk_wn
,

166 (
__fd
, 
__cڡ
 *
__ri
 
__th
,

167 *
__ri
 
__buf
, 
size_t
 
__n
,

168 
size_t
 
__bu
), 
__adlk_chk
)

169 
	`__nnu
 ((2, 3)
__wur
 
	`__wǉr
 ("readlinkat called with bigger "

173 
__ex_ways_le
 
	`__nnu
 ((2, 3)
__wur
 
ssize_t


174 
	`__NTH
 (
	$adlk
 (
__fd
, 
__cڡ
 *
__ri
 
__th
,

175 *
__ri
 
__buf
, 
size_t
 
__n
))

177 i(
	`__bos
 (
__buf
!(
size_t
) -1)

179 i(!
	`__but_cڡt_p
 (
__n
))

180  
	`__adlk_chk
 (
__fd
, 
__th
, 
__buf
, 
__n
, 
	`__bos
 (__buf));

182 i(
__n
 > 
	`__bos
 (
__buf
))

183  
	`__adlk_chk_wn
 (
__fd
, 
__th
, 
__buf
, 
__n
,

184 
	`__bos
 (
__buf
));

186  
	`__adlk_s
 (
__fd
, 
__th
, 
__buf
, 
__n
);

187 
	}
}

190 *
	$__gcwd_chk
 (*
__buf
, 
size_t
 
__size
, size_
__bu
)

191 
__THROW
 
__wur
;

192 *
	`__REDIRECT_NTH
 (
__gcwd_s
,

193 (*
__buf
, 
size_t
 
__size
), 
gcwd

__wur
;

194 *
	`__REDIRECT_NTH
 (
__gcwd_chk_wn
,

195 (*
__buf
, 
size_t
 
__size
, size_
__bu
),

196 
__gcwd_chk
)

197 
__wur
 
	`__wǉr
 ("getcwd caller with biggerengthhan size of "

200 
__ex_ways_le
 
__wur
 *

201 
	`__NTH
 (
	$gcwd
 (*
__buf
, 
size_t
 
__size
))

203 i(
	`__bos
 (
__buf
!(
size_t
) -1)

205 i(!
	`__but_cڡt_p
 (
__size
))

206  
	`__gcwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

208 i(
__size
 > 
	`__bos
 (
__buf
))

209  
	`__gcwd_chk_wn
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

211  
	`__gcwd_s
 (
__buf
, 
__size
);

212 
	}
}

214 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN_EXTENDED


215 *
	$__gwd_chk
 (*
__buf
, 
size_t
 
bu
)

216 
__THROW
 
	`__nnu
 ((1)
__wur
;

217 *
	`__REDIRECT_NTH
 (
__gwd_wn
, (*
__buf
), 
gwd
)

218 
	`__nnu
 ((1)
__wur
 
	`__wǉr
 ("please use getcwd instead,s getwd "

221 
__ex_ways_le
 
	`__nnu
 ((1)
__ibu_dd__
 
__wur
 *

222 
	`__NTH
 (
	$gwd
 (*
__buf
))

224 i(
	`__bos
 (
__buf
!(
size_t
) -1)

225  
	`__gwd_chk
 (
__buf
, 
	`__bos
 (__buf));

226  
	`__gwd_wn
 (
__buf
);

227 
	}
}

230 
size_t
 
	$__cfr_chk
 (
__me
, *
__buf
, 
size_t
 
__n
,

231 
size_t
 
__bu

__THROW
;

232 
size_t
 
	`__REDIRECT_NTH
 (
__cfr_s
, (
__me
, *
__buf
,

233 
size_t
 
__n
), 
cfr
);

234 
size_t
 
	`__REDIRECT_NTH
 (
__cfr_chk_wn
,

235 (
__me
, *
__buf
, 
size_t
 
__n
,

236 
size_t
 
__bu
), 
__cfr_chk
)

237 
	`__wǉr
 ("confstr called with biggerengthhan size of destination "

240 
__ex_ways_le
 
size_t


241 
	`__NTH
 (
	$cfr
 (
__me
, *
__buf
, 
size_t
 
__n
))

243 i(
	`__bos
 (
__buf
!(
size_t
) -1)

245 i(!
	`__but_cڡt_p
 (
__n
))

246  
	`__cfr_chk
 (
__me
, 
__buf
, 
__n
, 
	`__bos
 (__buf));

248 i(
	`__bos
 (
__buf
< 
__n
)

249  
	`__cfr_chk_wn
 (
__me
, 
__buf
, 
__n
, 
	`__bos
 (__buf));

251  
	`__cfr_s
 (
__me
, 
__buf
, 
__n
);

252 
	}
}

255 
	$__ggroups_chk
 (
__size
, 
__gid_t
 
__li
[], 
size_t
 
__lin
)

256 
__THROW
 
__wur
;

257 
	`__REDIRECT_NTH
 (
__ggroups_s
, (
__size
, 
__gid_t
 
__li
[]),

258 
ggroups

__wur
;

259 
	`__REDIRECT_NTH
 (
__ggroups_chk_wn
,

260 (
__size
, 
__gid_t
 
__li
[], 
size_t
 
__lin
),

261 
__ggroups_chk
)

262 
__wur
 
	`__wǉr
 ("getgroups called with bigger group counthan what "

265 
__ex_ways_le
 

266 
	`__NTH
 (
	$ggroups
 (
__size
, 
__gid_t
 
__li
[]))

268 i(
	`__bos
 (
__li
!(
size_t
) -1)

270 i(!
	`__but_cڡt_p
 (
__size
) || __size < 0)

271  
	`__ggroups_chk
 (
__size
, 
__li
, 
	`__bos
 (__list));

273 i(
__size
 *  (
__gid_t
> 
	`__bos
 (
__li
))

274  
	`__ggroups_chk_wn
 (
__size
, 
__li
, 
	`__bos
 (__list));

276  
	`__ggroups_s
 (
__size
, 
__li
);

277 
	}
}

280 
	$__yme_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__bu
,

281 
size_t
 
__ėl

__THROW
 
	`__nnu
 ((2));

282 
	`__REDIRECT_NTH
 (
__yme_r_s
, (
__fd
, *
__buf
,

283 
size_t
 
__bu
), 
yme_r
)

284 
	`__nnu
 ((2));

285 
	`__REDIRECT_NTH
 (
__yme_r_chk_wn
,

286 (
__fd
, *
__buf
, 
size_t
 
__bu
,

287 
size_t
 
__ėl
), 
__yme_r_chk
)

288 
	`__nnu
 ((2)
	`__wǉr
 ("ttyname_r called with bigger buflenhan "

291 
__ex_ways_le
 

292 
	`__NTH
 (
	$yme_r
 (
__fd
, *
__buf
, 
size_t
 
__bu
))

294 i(
	`__bos
 (
__buf
!(
size_t
) -1)

296 i(!
	`__but_cڡt_p
 (
__bu
))

297  
	`__yme_r_chk
 (
__fd
, 
__buf
, 
__bu
, 
	`__bos
 (__buf));

299 i(
__bu
 > 
	`__bos
 (
__buf
))

300  
	`__yme_r_chk_wn
 (
__fd
, 
__buf
, 
__bu
, 
	`__bos
 (__buf));

302  
	`__yme_r_s
 (
__fd
, 
__buf
, 
__bu
);

303 
	}
}

306 #i
defed
 
__USE_REENTRANT
 || defed 
__USE_POSIX199506


307 
	$__glog_r_chk
 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
)

308 
	`__nnu
 ((1));

309 
	`__REDIRECT
 (
__glog_r_s
, (*
__buf
, 
size_t
 
__bu
),

310 
glog_r

	`__nnu
 ((1));

311 
	`__REDIRECT
 (
__glog_r_chk_wn
,

312 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
),

313 
__glog_r_chk
)

314 
	`__nnu
 ((1)
	`__wǉr
 ("getlogin_r called with bigger buflenhan "

317 
__ex_ways_le
 

318 
	$glog_r
 (*
__buf
, 
size_t
 
__bu
)

320 i(
	`__bos
 (
__buf
!(
size_t
) -1)

322 i(!
	`__but_cڡt_p
 (
__bu
))

323  
	`__glog_r_chk
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

325 i(
__bu
 > 
	`__bos
 (
__buf
))

326  
	`__glog_r_chk_wn
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

328  
	`__glog_r_s
 (
__buf
, 
__bu
);

329 
	}
}

333 #i
defed
 
__USE_BSD
 || defed 
__USE_UNIX98


334 
	$__ghome_chk
 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
)

335 
__THROW
 
	`__nnu
 ((1));

336 
	`__REDIRECT_NTH
 (
__ghome_s
, (*
__buf
, 
size_t
 
__bu
),

337 
ghome

	`__nnu
 ((1));

338 
	`__REDIRECT_NTH
 (
__ghome_chk_wn
,

339 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
),

340 
__ghome_chk
)

341 
	`__nnu
 ((1)
	`__wǉr
 ("gethostname called with bigger buflenhan "

344 
__ex_ways_le
 

345 
	`__NTH
 (
	$ghome
 (*
__buf
, 
size_t
 
__bu
))

347 i(
	`__bos
 (
__buf
!(
size_t
) -1)

349 i(!
	`__but_cڡt_p
 (
__bu
))

350  
	`__ghome_chk
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

352 i(
__bu
 > 
	`__bos
 (
__buf
))

353  
	`__ghome_chk_wn
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

355  
	`__ghome_s
 (
__buf
, 
__bu
);

356 
	}
}

360 #i
defed
 
__USE_BSD
 || (defed 
__USE_XOPEN
 && !defed 
__USE_UNIX98
)

361 
	$__gdomame_chk
 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
)

362 
__THROW
 
	`__nnu
 ((1)
__wur
;

363 
	`__REDIRECT_NTH
 (
__gdomame_s
, (*
__buf
,

364 
size_t
 
__bu
),

365 
gdomame

	`__nnu
 ((1)
__wur
;

366 
	`__REDIRECT_NTH
 (
__gdomame_chk_wn
,

367 (*
__buf
, 
size_t
 
__bu
, size_
__ėl
),

368 
__gdomame_chk
)

369 
	`__nnu
 ((1)
__wur
 
	`__wǉr
 ("getdomainname called with bigger "

373 
__ex_ways_le
 

374 
	`__NTH
 (
	$gdomame
 (*
__buf
, 
size_t
 
__bu
))

376 i(
	`__bos
 (
__buf
!(
size_t
) -1)

378 i(!
	`__but_cڡt_p
 (
__bu
))

379  
	`__gdomame_chk
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

381 i(
__bu
 > 
	`__bos
 (
__buf
))

382  
	`__gdomame_chk_wn
 (
__buf
, 
__bu
, 
	`__bos
 (__buf));

384  
	`__gdomame_s
 (
__buf
, 
__bu
);

385 
	}
}

	@/usr/include/bits/waitflags.h

20 #i!
defed
 
_SYS_WAIT_H
 && !defed 
_STDLIB_H


26 
	#WNOHANG
 1

	)

27 
	#WUNTRACED
 2

	)

30 
	#WSTOPPED
 2

	)

31 
	#WEXITED
 4

	)

32 
	#WCONTINUED
 8

	)

33 
	#WNOWAIT
 0x01000000

	)

35 
	#__WNOTHREAD
 0x20000000

	)

37 
	#__WALL
 0x40000000

	)

38 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

20 #i!
defed
 
_SYS_WAIT_H
 && !defed 
_STDLIB_H


29 
	#__WEXITSTATUS
(
us
(((us& 0xff00>> 8)

	)

32 
	#__WTERMSIG
(
us
((us& 0x7f)

	)

35 
	#__WSTOPSIG
(
us

	`__WEXITSTATUS
(us)

	)

38 
	#__WIFEXITED
(
us
(
	`__WTERMSIG
(us=0)

	)

41 
	#__WIFSIGNALED
(
us
) \

42 (((sigd (((
us
& 0x7f+ 1>> 1> 0)

	)

45 
	#__WIFSTOPPED
(
us
(((us& 0xff=0x7f)

	)

49 #ifde
WCONTINUED


50 
	#__WIFCONTINUED
(
us
((us=
__W_CONTINUED
)

	)

54 
	#__WCOREDUMP
(
us
((us& 
__WCOREFLAG
)

	)

57 
	#__W_EXITCODE
(
t
, 
sig
(ԑ<< 8 | (sig))

	)

58 
	#__W_STOPCODE
(
sig
((sig<< 8 | 0x7f)

	)

59 
	#__W_CONTINUED
 0xffff

	)

60 
	#__WCOREFLAG
 0x80

	)

63 #ifdef 
__USE_BSD


65 
	~<dn.h
>

67 
	uwa


69 
	mw_us
;

72 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


73 
	m__w_rmsig
:7;

74 
	m__w_cedump
:1;

75 
	m__w_tcode
:8;

78 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


80 
	m__w_tcode
:8;

81 
	m__w_cedump
:1;

82 
	m__w_rmsig
:7;

84 } 
	m__wa_rmed
;

87 #if 
__BYTE_ORDER
 =
__LITTLE_ENDIAN


88 
	m__w_v
:8;

89 
	m__w_sig
:8;

92 #if 
__BYTE_ORDER
 =
__BIG_ENDIAN


94 
	m__w_sig
:8;

95 
	m__w_v
:8;

97 } 
	m__wa_ݳd
;

100 
	#w_rmsig
 
__wa_rmed
.
__w_rmsig


	)

101 
	#w_cedump
 
__wa_rmed
.
__w_cedump


	)

102 
	#w_tcode
 
__wa_rmed
.
__w_tcode


	)

103 
	#w_sig
 
__wa_ݳd
.
__w_sig


	)

104 
	#w_v
 
__wa_ݳd
.
__w_v


	)

	@/usr/include/bits/wordsize.h

3 #i
defed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/endian.h

19 #idef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<us.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<bs/dn.h
>

41 #ide
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
LO, 
	)
HI

54 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
HI, 
	)
LO

59 #ifde
__USE_BSD


61 
	~<bs/bysw.h
>

63 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


64 
	#htobe16
(
x

	`__bsw_16
 (x)

	)

65 
	#hte16
(
x
(x)

	)

66 
	#be16toh
(
x

	`__bsw_16
 (x)

	)

67 
	#16toh
(
x
(x)

	)

69 
	#htobe32
(
x

	`__bsw_32
 (x)

	)

70 
	#hte32
(
x
(x)

	)

71 
	#be32toh
(
x

	`__bsw_32
 (x)

	)

72 
	#32toh
(
x
(x)

	)

74 
	#htobe64
(
x

	`__bsw_64
 (x)

	)

75 
	#hte64
(
x
(x)

	)

76 
	#be64toh
(
x

	`__bsw_64
 (x)

	)

77 
	#64toh
(
x
(x)

	)

79 
	#htobe16
(
x
(x)

	)

80 
	#hte16
(
x

	`__bsw_16
 (x)

	)

81 
	#be16toh
(
x
(x)

	)

82 
	#16toh
(
x

	`__bsw_16
 (x)

	)

84 
	#htobe32
(
x
(x)

	)

85 
	#hte32
(
x

	`__bsw_32
 (x)

	)

86 
	#be32toh
(
x
(x)

	)

87 
	#32toh
(
x

	`__bsw_32
 (x)

	)

89 
	#htobe64
(
x
(x)

	)

90 
	#hte64
(
x

	`__bsw_64
 (x)

	)

91 
	#be64toh
(
x
(x)

	)

92 
	#64toh
(
x

	`__bsw_64
 (x)

	)

	@/usr/include/features.h

20 #idef 
_FEATURES_H


21 
	#_FEATURES_H
 1

	)

98 #unde
__USE_ISOC99


99 #unde
__USE_ISOC95


100 #unde
__USE_POSIX


101 #unde
__USE_POSIX2


102 #unde
__USE_POSIX199309


103 #unde
__USE_POSIX199506


104 #unde
__USE_XOPEN


105 #unde
__USE_XOPEN_EXTENDED


106 #unde
__USE_UNIX98


107 #unde
__USE_XOPEN2K


108 #unde
__USE_XOPEN2KXSI


109 #unde
__USE_XOPEN2K8


110 #unde
__USE_XOPEN2K8XSI


111 #unde
__USE_LARGEFILE


112 #unde
__USE_LARGEFILE64


113 #unde
__USE_FILE_OFFSET64


114 #unde
__USE_BSD


115 #unde
__USE_SVID


116 #unde
__USE_MISC


117 #unde
__USE_ATFILE


118 #unde
__USE_GNU


119 #unde
__USE_REENTRANT


120 #unde
__USE_FORTIFY_LEVEL


121 #unde
__FAVOR_BSD


122 #unde
__KERNEL_STRICT_NAMES


126 #ide
_LOOSE_KERNEL_NAMES


127 
	#__KERNEL_STRICT_NAMES


	)

131 
	#__USE_ANSI
 1

	)

140 #i
defed
 
__GNUC__
 && defed 
__GNUC_MINOR__


141 
	#__GNUC_PREREQ
(
maj
, 
m
) \

142 ((
__GNUC__
 << 16+ 
__GNUC_MINOR__
 >((
maj
<< 16+ (
m
))

	)

144 
	#__GNUC_PREREQ
(
maj
, 
m
0

	)

149 #i
defed
 
_BSD_SOURCE
 && \

150 !(
defed
 
	g_POSIX_SOURCE
 || defed 
	g_POSIX_C_SOURCE
 || \

151 
defed
 
	g_XOPEN_SOURCE
 || defed 
	g_GNU_SOURCE
 || defed 
	g_SVID_SOURCE
)

152 
	#__FAVOR_BSD
 1

	)

156 #ifde
_GNU_SOURCE


157 #unde
_ISOC95_SOURCE


158 
	#_ISOC95_SOURCE
 1

	)

159 #unde
_ISOC99_SOURCE


160 
	#_ISOC99_SOURCE
 1

	)

161 #unde
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #unde
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #unde
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #unde
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #unde
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #unde
_BSD_SOURCE


172 
	#_BSD_SOURCE
 1

	)

173 #unde
_SVID_SOURCE


174 
	#_SVID_SOURCE
 1

	)

175 #unde
_ATFILE_SOURCE


176 
	#_ATFILE_SOURCE
 1

	)

181 #i(!
defed
 
__STRICT_ANSI__
 && !defed 
_ISOC99_SOURCE
 && \

182 !
defed
 
	g_POSIX_SOURCE
 && !defed 
	g_POSIX_C_SOURCE
 && \

183 !
defed
 
	g_XOPEN_SOURCE
 && !defed 
	g_BSD_SOURCE
 && !defed 
	g_SVID_SOURCE
)

184 
	#_BSD_SOURCE
 1

	)

185 
	#_SVID_SOURCE
 1

	)

192 #i(
defed
 
_ISOC99_SOURCE
 || defed 
_ISOC9X_SOURCE
 \

193 || (
defed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

194 
	#__USE_ISOC99
 1

	)

198 #i(
defed
 
_ISOC99_SOURCE
 || defed 
_ISOC9X_SOURCE
 \

199 || (
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

200 
	#__USE_ISOC95
 1

	)

205 #i((!
defed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

206 !
defed
 
_POSIX_SOURCE
 && !defed 
_POSIX_C_SOURCE
)

207 
	#_POSIX_SOURCE
 1

	)

208 #i
defed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

209 
	#_POSIX_C_SOURCE
 2

	)

210 #i
defed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

211 
	#_POSIX_C_SOURCE
 199506L

	)

212 #i
defed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

213 
	#_POSIX_C_SOURCE
 200112L

	)

215 
	#_POSIX_C_SOURCE
 200809L

	)

217 
	#__USE_POSIX_IMPLICITLY
 1

	)

220 #i
defed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || defed 
_XOPEN_SOURCE


221 
	#__USE_POSIX
 1

	)

224 #i
defed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || defed 
_XOPEN_SOURCE


225 
	#__USE_POSIX2
 1

	)

228 #i(
_POSIX_C_SOURCE
 - 0) >= 199309L

229 
	#__USE_POSIX199309
 1

	)

232 #i(
_POSIX_C_SOURCE
 - 0) >= 199506L

233 
	#__USE_POSIX199506
 1

	)

236 #i(
_POSIX_C_SOURCE
 - 0) >= 200112L

237 
	#__USE_XOPEN2K
 1

	)

238 #unde
__USE_ISOC95


239 
	#__USE_ISOC95
 1

	)

240 #unde
__USE_ISOC99


241 
	#__USE_ISOC99
 1

	)

244 #i(
_POSIX_C_SOURCE
 - 0) >= 200809L

245 
	#__USE_XOPEN2K8
 1

	)

246 #unde
_ATFILE_SOURCE


247 
	#_ATFILE_SOURCE
 1

	)

250 #ifdef 
_XOPEN_SOURCE


251 
	#__USE_XOPEN
 1

	)

252 #i(
_XOPEN_SOURCE
 - 0) >= 500

253 
	#__USE_XOPEN_EXTENDED
 1

	)

254 
	#__USE_UNIX98
 1

	)

255 #unde
_LARGEFILE_SOURCE


256 
	#_LARGEFILE_SOURCE
 1

	)

257 #i(
_XOPEN_SOURCE
 - 0) >= 600

258 #i(
_XOPEN_SOURCE
 - 0) >= 700

259 
	#__USE_XOPEN2K8
 1

	)

260 
	#__USE_XOPEN2K8XSI
 1

	)

262 
	#__USE_XOPEN2K
 1

	)

263 
	#__USE_XOPEN2KXSI
 1

	)

264 #unde
__USE_ISOC95


265 
	#__USE_ISOC95
 1

	)

266 #unde
__USE_ISOC99


267 
	#__USE_ISOC99
 1

	)

270 #ifde
_XOPEN_SOURCE_EXTENDED


271 
	#__USE_XOPEN_EXTENDED
 1

	)

276 #ifde
_LARGEFILE_SOURCE


277 
	#__USE_LARGEFILE
 1

	)

280 #ifde
_LARGEFILE64_SOURCE


281 
	#__USE_LARGEFILE64
 1

	)

284 #i
defed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

285 
	#__USE_FILE_OFFSET64
 1

	)

288 #i
defed
 
_BSD_SOURCE
 || defed 
_SVID_SOURCE


289 
	#__USE_MISC
 1

	)

292 #ifdef 
_BSD_SOURCE


293 
	#__USE_BSD
 1

	)

296 #ifdef 
_SVID_SOURCE


297 
	#__USE_SVID
 1

	)

300 #ifdef 
_ATFILE_SOURCE


301 
	#__USE_ATFILE
 1

	)

304 #ifdef 
_GNU_SOURCE


305 
	#__USE_GNU
 1

	)

308 #i
defed
 
_REENTRANT
 || defed 
_THREAD_SAFE


309 
	#__USE_REENTRANT
 1

	)

312 #i
defed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

313 && 
__GNUC_PREREQ
 (4, 1&& 
defed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

314 #i
_FORTIFY_SOURCE
 > 1

315 
	#__USE_FORTIFY_LEVEL
 2

	)

317 
	#__USE_FORTIFY_LEVEL
 1

	)

320 
	#__USE_FORTIFY_LEVEL
 0

	)

324 
	~<bs/edefs.h
>

327 
	#__STDC_ISO_10646__
 200009L

	)

335 #unde
__GNU_LIBRARY__


336 
	#__GNU_LIBRARY__
 6

	)

340 
	#__GLIBC__
 2

	)

341 
	#__GLIBC_MINOR__
 15

	)

343 
	#__GLIBC_PREREQ
(
maj
, 
m
) \

344 ((
__GLIBC__
 << 16+ 
__GLIBC_MINOR__
 >((
maj
<< 16+ (
m
))

	)

347 #i
defed
 
__GNUC__
 \

348 || (
defed
 
	g__PGI
 && defed 
	g__i386__
 ) \

349 || (
defed
 
	g__INTEL_COMPILER
 && (defed 
	g__i386__
 || defed 
	g__64__
)) \

350 || (
defed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

351 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

355 #ide
__ASSEMBLER__


356 #ide
_SYS_CDEFS_H


357 
	~<sys/cdefs.h
>

362 #i
defed
 
__USE_FILE_OFFSET64
 && !defed 
__REDIRECT


363 
	#__USE_LARGEFILE
 1

	)

364 
	#__USE_LARGEFILE64
 1

	)

370 #i
__GNUC_PREREQ
 (2, 7&& 
defed
 
__OPTIMIZE__
 \

371 && !
defed
 
	g__OPTIMIZE_SIZE__
 && !defed 
	g__NO_INLINE__
 \

372 && 
defed
 
	g__ex_le


373 
	#__USE_EXTERN_INLINES
 1

	)

378 #i
__GNUC_PREREQ
 (2, 7&& 
defed
 
__OPTIMIZE__
 \

379 && (
defed
 
	g_LIBC
 || !defed 
	g__OPTIMIZE_SIZE__
&& !defed 
	g__NO_INLINE__
 \

380 && 
defed
 
	g__ex_le


381 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

389 
	~<gnu/ubs.h
>

	@/usr/include/getopt.h

21 #ide
_GETOPT_H


23 #ide
__ed_gt


24 
	#_GETOPT_H
 1

	)

34 #i!
defed
 
__GNU_LIBRARY__


35 
	~<y.h
>

38 #ide
__THROW


39 #ide
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
m
(0)

	)

42 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__lulus


59 *
ݏrg
;

73 
td
;

78 
݋
;

82 
tt
;

84 #ide
__ed_gt


106 
	sti


108 cڡ *
	gme
;

111 
	ghas_g
;

112 *
	gag
;

113 
	gv
;

118 
	#no_gumt
 0

	)

119 
	#qued_gumt
 1

	)

120 
	#tiڮ_gumt
 2

	)

148 #ifde
__GNU_LIBRARY__


152 
gt
 (
___gc
, *cڡ *
___gv
, cڡ *
__shtts
)

153 
__THROW
;

155 #i
defed
 
__ed_gt
 && defed 
__USE_POSIX2
 \

156 && !
defed
 
	g__USE_POSIX_IMPLICITLY
 && !defed 
	g__USE_GNU


160 #ifde
__REDIRECT


161 
__REDIRECT_NTH
 (
gt
, (
___gc
, *cڡ *
___gv
,

162 cڡ *
__shtts
),

163 
__posix_gt
);

165 
__posix_gt
 (
___gc
, *cڡ *
___gv
,

166 cڡ *
__shtts

__THROW
;

167 
	#gt
 
__posix_gt


	)

171 
gt
 ();

174 #ide
__ed_gt


175 
gt_lg
 (
___gc
, *cڡ *
___gv
,

176 cڡ *
__shtts
,

177 cڡ 
ti
 *
__lgts
, *
__lgd
)

178 
__THROW
;

179 
gt_lg_ly
 (
___gc
, *cڡ *
___gv
,

180 cڡ *
__shtts
,

181 cڡ 
ti
 *
__lgts
, *
__lgd
)

182 
__THROW
;

186 #ifdef 
__lulus


191 #unde
__ed_gt


	@/usr/include/libio.h

29 #ide
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cfig.h
>

34 
	#_IO_pos_t
 
_G_os_t


	)

35 
	#_IO_os_t
 
_G_os_t


	)

36 
	#_IO_os64_t
 
_G_os64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_icv_t
 
_G_icv_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li
 
_G_va_li


	)

48 
	#_IO_wt_t
 
_G_wt_t


	)

50 #ifde
_G_NEED_STDARG_H


52 
	#__ed___va_li


	)

53 
	~<dg.h
>

54 #ifde
__GNUC_VA_LIST


55 #unde
_IO_va_li


56 
	#_IO_va_li
 
__gnuc_va_li


	)

60 #ide
__P


61 #i
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifde
__STDC__


65 
	#__P
(
p

	)
p

66 
	#__PMT
(
p

	)
p

68 
	#__P
(
p
()

	)

69 
	#__PMT
(
p
()

	)

75 #ide
_PARAMS


76 
	#_PARAMS
(
os

	`__P
ros)

	)

79 #ide
__STDC__


81 cڡ

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #ide
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #ide
EOF


90 
	#EOF
 (-1)

	)

92 #ide
NULL


93 #i
defed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nu
)

	)

97 #i!
defed
(
__lulus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifde
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifde
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

148 
	#_IO_FLAGS2_NOCLOSE
 32

	)

149 
	#_IO_FLAGS2_CLOEXEC
 64

	)

153 
	#_IO_SKIPWS
 01

	)

154 
	#_IO_LEFT
 02

	)

155 
	#_IO_RIGHT
 04

	)

156 
	#_IO_INTERNAL
 010

	)

157 
	#_IO_DEC
 020

	)

158 
	#_IO_OCT
 040

	)

159 
	#_IO_HEX
 0100

	)

160 
	#_IO_SHOWBASE
 0200

	)

161 
	#_IO_SHOWPOINT
 0400

	)

162 
	#_IO_UPPERCASE
 01000

	)

163 
	#_IO_SHOWPOS
 02000

	)

164 
	#_IO_SCIENTIFIC
 04000

	)

165 
	#_IO_FIXED
 010000

	)

166 
	#_IO_UNITBUF
 020000

	)

167 
	#_IO_STDIO
 040000

	)

168 
	#_IO_DONT_CLOSE
 0100000

	)

169 
	#_IO_BOOLALPHA
 0200000

	)

172 
_IO_jump_t
; 
	g_IO_FILE
;

175 #ifde
_IO_MTSAFE_IO


176 #i
defed
 
__GLIBC__
 && __GLIBC__ >= 2

177 
	~<bs/dio-lock.h
>

182 
	t_IO_lock_t
;

188 
	s_IO_mk
 {

189 
_IO_mk
 *
	m_xt
;

190 
_IO_FILE
 *
	m_sbuf
;

194 
	m_pos
;

196 
t_ampos
(
ampos
 

{ 
	m_os
 = sp; }

197 
t_offt
(
offt
{ 
	m_pos
 = offt; 
	m_os
 = (
ampos
)(-2); }

198 
	mpublic
:

199 
ammk
(
ambuf
 *
sb
);

200 ~
ammk
();

201 
vg
({  
	m_os
 == -2; }

202 
d
(
ammk
&);

203 
d
();

208 
	e__codecvt_su


210 
	m__codecvt_ok
,

211 
	m__codecvt_l
,

212 
	m__codecvt_r
,

213 
	m__codecvt_nocv


216 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


219 
	s_IO_codecvt


221 (*
	m__codecvt_der
(
	m_IO_codecvt
 *);

222 
__codecvt_su
 (*
__codecvt_do_out
(
	m_IO_codecvt
 *,

223 
	m__mbe_t
 *,

224 cڡ 
	mwch_t
 *,

225 cڡ 
	mwch_t
 *,

226 cڡ 
	mwch_t
 **, *,

228 
__codecvt_su
 (*
__codecvt_do_unshi
(
	m_IO_codecvt
 *,

229 
	m__mbe_t
 *, *,

231 
__codecvt_su
 (*
__codecvt_do_
(
	m_IO_codecvt
 *,

232 
	m__mbe_t
 *,

234 cڡ **, 
	mwch_t
 *,

235 
	mwch_t
 *, wchar_t **);

236 (*
	m__codecvt_do_codg
(
	m_IO_codecvt
 *);

237 (*
	m__codecvt_do_ways_nocv
(
	m_IO_codecvt
 *);

238 (*
	m__codecvt_do_ngth
(
	m_IO_codecvt
 *, 
	m__mbe_t
 *,

239 cڡ *, cڡ *, 
	m_IO_size_t
);

240 (*
	m__codecvt_do_max_ngth
(
	m_IO_codecvt
 *);

242 
_IO_icv_t
 
	m__cd_
;

243 
_IO_icv_t
 
	m__cd_out
;

247 
	s_IO_wide_da


249 
wch_t
 *
	m_IO_ad_r
;

250 
wch_t
 *
	m_IO_ad_d
;

251 
wch_t
 *
	m_IO_ad_ba
;

252 
wch_t
 *
	m_IO_wre_ba
;

253 
wch_t
 *
	m_IO_wre_r
;

254 
wch_t
 *
	m_IO_wre_d
;

255 
wch_t
 *
	m_IO_buf_ba
;

256 
wch_t
 *
	m_IO_buf_d
;

258 
wch_t
 *
	m_IO_ve_ba
;

259 
wch_t
 *
	m_IO_backup_ba
;

261 
wch_t
 *
	m_IO_ve_d
;

263 
__mbe_t
 
	m_IO_e
;

264 
__mbe_t
 
	m_IO_ϡ_e
;

265 
_IO_codecvt
 
	m_codecvt
;

267 
wch_t
 
	m_shtbuf
[1];

269 cڡ 
_IO_jump_t
 *
	m_wide_vb
;

273 
	s_IO_FILE
 {

274 
	m_ags
;

275 
	#_IO_fe_ags
 
_ags


	)

279 * 
	m_IO_ad_r
;

280 * 
	m_IO_ad_d
;

281 * 
	m_IO_ad_ba
;

282 * 
	m_IO_wre_ba
;

283 * 
	m_IO_wre_r
;

284 * 
	m_IO_wre_d
;

285 * 
	m_IO_buf_ba
;

286 * 
	m_IO_buf_d
;

288 *
	m_IO_ve_ba
;

289 *
	m_IO_backup_ba
;

290 *
	m_IO_ve_d
;

292 
_IO_mk
 *
	m_mks
;

294 
_IO_FILE
 *
	m_cha
;

296 
	m_fo
;

298 
	m_blksize
;

300 
	m_ags2
;

302 
_IO_off_t
 
	m_d_offt
;

304 
	#__HAVE_COLUMN


	)

306 
	m_cur_cumn
;

307 sigd 
	m_vb_offt
;

308 
	m_shtbuf
[1];

312 
_IO_lock_t
 *
	m_lock
;

313 #ifde
_IO_USE_OLD_IO_FILE


316 
	s_IO_FILE_come


318 
_IO_FILE
 
	m_fe
;

320 #i
defed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

321 
_IO_off64_t
 
	m_offt
;

322 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


324 
_IO_codecvt
 *
	m_codecvt
;

325 
_IO_wide_da
 *
	m_wide_da
;

326 
_IO_FILE
 *
	m_䓻s_li
;

327 *
	m_䓻s_buf
;

328 
size_t
 
	m_䓻s_size
;

330 *
	m__d1
;

331 *
	m__d2
;

332 *
	m__d3
;

333 *
	m__d4
;

334 
size_t
 
	m__d5
;

336 
	m_mode
;

338 
	m_unud2
[15 *  (- 4 *  (*-  (
size_t
)];

342 #ide
__lulus


343 
_IO_FILE
 
	t_IO_FILE
;

346 
	g_IO_FILE_us
;

348 
_IO_FILE_us
 
_IO_2_1_d_
;

349 
_IO_FILE_us
 
_IO_2_1_dout_
;

350 
_IO_FILE_us
 
_IO_2_1_dr_
;

351 #ide
_LIBC


352 
	#_IO_d
 ((
_IO_FILE
*)(&
_IO_2_1_d_
))

	)

353 
	#_IO_dout
 ((
_IO_FILE
*)(&
_IO_2_1_dout_
))

	)

354 
	#_IO_dr
 ((
_IO_FILE
*)(&
_IO_2_1_dr_
))

	)

356 
_IO_FILE
 *
_IO_d
 
ibu_hidd
;

357 
_IO_FILE
 *
_IO_dout
 
ibu_hidd
;

358 
_IO_FILE
 *
_IO_dr
 
ibu_hidd
;

366 
__ssize_t
 
	t__io_ad_
 (*
	t__cook
, *
	t__buf
, 
	tsize_t
 
	t__nbys
);

374 
__ssize_t
 
	t__io_wre_
 (*
	t__cook
, 
	t__cڡ
 *
	t__buf
,

375 
	tsize_t
 
	t__n
);

383 
	t__io_ek_
 (*
	t__cook
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

386 
	t__io_o_
 (*
	t__cook
);

389 #ifde
_GNU_SOURCE


391 
__io_ad_
 
	tcook_ad_funi_t
;

392 
__io_wre_
 
	tcook_wre_funi_t
;

393 
__io_ek_
 
	tcook_ek_funi_t
;

394 
__io_o_
 
	tcook_o_funi_t
;

399 
__io_ad_
 *
	mad
;

400 
__io_wre_
 *
	mwre
;

401 
__io_ek_
 *
	mek
;

402 
__io_o_
 *
	mo
;

403 } 
	t_IO_cook_io_funis_t
;

404 
_IO_cook_io_funis_t
 
	tcook_io_funis_t
;

406 
	g_IO_cook_fe
;

409 
_IO_cook_
 (
_IO_cook_fe
 *
__cfe
, 
__ad_wre
,

410 *
__cook
, 
_IO_cook_io_funis_t
 
__s
);

414 #ifde
__lulus


418 
__undow
 (
_IO_FILE
 *);

419 
__uow
 (
_IO_FILE
 *);

420 
__ovow
 (
_IO_FILE
 *, );

421 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


422 
_IO_wt_t
 
__wundow
 (
_IO_FILE
 *);

423 
_IO_wt_t
 
__wuow
 (
_IO_FILE
 *);

424 
_IO_wt_t
 
__wovow
 (
_IO_FILE
 *, _IO_wint_t);

427 #i 
__GNUC__
 >= 3

428 
	#_IO_BE
(
ex
, 
s

	`__but_ex
 (x),es)

	)

430 
	#_IO_BE
(
ex
, 
s
x)

	)

433 
	#_IO_gc_uocked
(
_
) \

434 (
	`_IO_BE
 ((
_
)->
_IO_ad_r
 >(_)->
_IO_ad_d
, 0) \

435 ? 
	`__uow
 (
_
: *(*(_)->
_IO_ad_r
++)

	)

436 
	#_IO_ekc_uocked
(
_
) \

437 (
	`_IO_BE
 ((
_
)->
_IO_ad_r
 >(_)->
_IO_ad_d
, 0) \

438 && 
	`__undow
 (
_
=
EOF
 ? EOF \

439 : *(*(
_
)->
_IO_ad_r
)

	)

440 
	#_IO_putc_uocked
(
_ch
, 
_
) \

441 (
	`_IO_BE
 ((
_
)->
_IO_wre_r
 >(_)->
_IO_wre_d
, 0) \

442 ? 
	`__ovow
 (
_
, ((
_ch
)) \

443 : ((*(
_
)->
_IO_wre_r
++ = (
_ch
)))

	)

445 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


446 
	#_IO_gwc_uocked
(
_
) \

447 (
	`_IO_BE
 ((
_
)->
_wide_da
 =
NULL
 \

448 || ((
_
)->
_wide_da
->
_IO_ad_r
 \

449 >(
_
)->
_wide_da
->
_IO_ad_d
), 0) \

450 ? 
	`__wuow
 (
_
: (
_IO_wt_t
*(_)->
_wide_da
->
_IO_ad_r
++)

	)

451 
	#_IO_putwc_uocked
(
_wch
, 
_
) \

452 (
	`_IO_BE
 ((
_
)->
_wide_da
 =
NULL
 \

453 || ((
_
)->
_wide_da
->
_IO_wre_r
 \

454 >(
_
)->
_wide_da
->
_IO_wre_d
), 0) \

455 ? 
	`__wovow
 (
_
, 
_wch
) \

456 : (
_IO_wt_t
(*(
_
)->
_wide_da
->
_IO_wre_r
++ = (
_wch
)))

	)

459 
	#_IO_of_uocked
(
__
(((__)->
_ags
 & 
_IO_EOF_SEEN
!0)

	)

460 
	#_IO__uocked
(
__
(((__)->
_ags
 & 
_IO_ERR_SEEN
!0)

	)

462 
_IO_gc
 (
_IO_FILE
 *
__
);

463 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__
);

464 
_IO_of
 (
_IO_FILE
 *
__

__THROW
;

465 
_IO_
 (
_IO_FILE
 *
__

__THROW
;

467 
_IO_ekc_locked
 (
_IO_FILE
 *
__
);

470 
	#_IO_PENDING_OUTPUT_COUNT
(
_
) \

471 ((
_
)->
_IO_wre_r
 - (_)->
_IO_wre_ba
)

	)

473 
_IO_ockfe
 (
_IO_FILE
 *
__THROW
;

474 
_IO_fuockfe
 (
_IO_FILE
 *
__THROW
;

475 
_IO_rylockfe
 (
_IO_FILE
 *
__THROW
;

477 #ifde
_IO_MTSAFE_IO


478 
	#_IO_ekc
(
_

	`_IO_ekc_locked
 (_)

	)

479 
	#_IO_ockfe
(
_
) \

480 i(((
_
)->
_ags
 & 
_IO_USER_LOCK
=0
	`_IO_ockfe
 (_)

	)

481 
	#_IO_fuockfe
(
_
) \

482 i(((
_
)->
_ags
 & 
_IO_USER_LOCK
=0
	`_IO_fuockfe
 (_)

	)

484 
	#_IO_ekc
(
_

	`_IO_ekc_uocked
 (_)

	)

485 
	#_IO_ockfe
(
_


	)

486 
	#_IO_fuockfe
(
_


	)

487 
	#_IO_rylockfe
(
_


	)

488 
	#_IO_nup_gi_t
(
_f
, 
_


	)

489 
	#_IO_nup_gi_d
(
_Do


	)

492 
_IO_vfsnf
 (
_IO_FILE
 * 
__ri
, const * __restrict,

493 
_IO_va_li
, *
__ri
);

494 
_IO_vrtf
 (
_IO_FILE
 *
__ri
, const *__restrict,

495 
_IO_va_li
);

496 
_IO_ssize_t
 
_IO_dn
 (
_IO_FILE
 *, , _IO_ssize_t);

497 
_IO_size_t
 
_IO_sgn
 (
_IO_FILE
 *, *, _IO_size_t);

499 
_IO_off64_t
 
_IO_ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

500 
_IO_off64_t
 
_IO_ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

502 
_IO__backup_
 (
_IO_FILE
 *
__THROW
;

504 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


505 
_IO_wt_t
 
_IO_gwc
 (
_IO_FILE
 *
__
);

506 
_IO_wt_t
 
_IO_putwc
 (
wch_t
 
__wc
, 
_IO_FILE
 *
__
);

507 
_IO_fwide
 (
_IO_FILE
 *
__
, 
__mode

__THROW
;

508 #i
__GNUC__
 >= 2

511 #i
defed
 
_LIBC
 && defed 
SHARED


512 
	~<shlib-comt.h
>

513 #i
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

514 
	#_IO_fwide_maybe_comtib
 \

515 (
	`__but_ex
 (&
_IO_d_ud
 =
NULL
, 0))

	)

516 cڡ 
_IO_d_ud
;

517 
wk_ex
 (
_IO_d_ud
);

520 #ide
_IO_fwide_maybe_comtib


521 
	#_IO_fwide_maybe_comtib
 (0)

	)

525 
	#_IO_fwide
(
__
, 
__mode
) \

526 ({ 
__su
 = (
__mode
); \

527 i(
__su
 < 0 && ! 
_IO_fwide_maybe_comtib
) \

529 i((
__
)->
_mode
 == 0) \

531 (
__
)->
_mode
 = -1; \

532 
__su
 = (
__
)->
_mode
; \

534 i(
	`__but_cڡt_p
 (
__mode
) && (__mode) == 0) \

535 
__su
 = 
_IO_fwide_maybe_comtib
 ? -1 : (
__
)->
_mode
; \

537 
__su
 = 
	`_IO_fwide
 (
__
, __result); \

538 
__su
; })

	)

541 
_IO_vfwsnf
 (
_IO_FILE
 * 
__ri
, cڡ 
wch_t
 * __restrict,

542 
_IO_va_li
, *
__ri
);

543 
_IO_vfwtf
 (
_IO_FILE
 *
__ri
, cڡ 
wch_t
 *__restrict,

544 
_IO_va_li
);

545 
_IO_ssize_t
 
_IO_wdn
 (
_IO_FILE
 *, 
wt_t
, _IO_ssize_t);

546 
_IO__wbackup_
 (
_IO_FILE
 *
__THROW
;

549 #ifde
__LDBL_COMPAT


550 
	~<bs/libio-ldbl.h
>

553 #ifde
__lulus


	@/usr/include/linux/socket.h

1 #ide
_LINUX_SOCKET_H


2 
	#_LINUX_SOCKET_H


	)

7 
	#_K_SS_MAXSIZE
 128

	)

8 
	#_K_SS_ALIGNSIZE
 (
	`__ignof__
 (
sockaddr
 *))

	)

11 
	t__kl__my_t
;

13 
	s__kl_sockaddr_age
 {

14 
__kl__my_t
 
	mss_my
;

16 
	m__da
[
_K_SS_MAXSIZE
 - ()];

19 } 
__ibu__
 ((
igd
(
_K_SS_ALIGNSIZE
)));

	@/usr/include/linux/types.h

1 #ide
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/tys.h
>

6 #ide
__ASSEMBLY__


8 
	~<lux/posix_tys.h
>

16 #ifde
__CHECKER__


17 
	#__bwi__
 
	`__ibu__
((
bwi
))

	)

19 
	#__bwi__


	)

21 #ifde
__CHECK_ENDIAN__


22 
	#__bwi
 
__bwi__


	)

24 
	#__bwi


	)

27 
__u16
 
	t__bwi
 
	t__16
;

28 
__u16
 
	t__bwi
 
	t__be16
;

29 
__u32
 
	t__bwi
 
	t__32
;

30 
__u32
 
	t__bwi
 
	t__be32
;

31 
__u64
 
	t__bwi
 
	t__64
;

32 
__u64
 
	t__bwi
 
	t__be64
;

34 
__u16
 
	t__bwi
 
	t__sum16
;

35 
__u32
 
	t__bwi
 
	t__wsum
;

46 
	#__igd_u64
 
__u64
 
	`__ibu__
((
	`igd
(8)))

	)

47 
	#__igd_be64
 
__be64
 
	`__ibu__
((
	`igd
(8)))

	)

48 
	#__igd_64
 
__64
 
	`__ibu__
((
	`igd
(8)))

	)

	@/usr/include/sched.h

21 #idef 
_SCHED_H


22 
	#_SCHED_H
 1

	)

24 
	~<us.h
>

27 
	~<bs/tys.h
>

29 
	#__ed_size_t


	)

30 
	~<ddef.h
>

32 
	#__ed_time_t


	)

33 
	#__ed_timeec


	)

34 
	~<time.h
>

36 #ide
__pid_t_defed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_defed


	)

43 
	~<bs/sched.h
>

45 
	#sched_iܙy
 
__sched_iܙy


	)

48 
__BEGIN_DECLS


51 
	$sched_am
 (
__pid_t
 
__pid
, 
__cڡ
 
sched_m
 *
__m
)

52 
__THROW
;

55 
	$sched_gm
 (
__pid_t
 
__pid
, 
sched_m
 *
__m

__THROW
;

58 
	$sched_tschedur
 (
__pid_t
 
__pid
, 
__picy
,

59 
__cڡ
 
sched_m
 *
__m

__THROW
;

62 
	$sched_gschedur
 (
__pid_t
 
__pid

__THROW
;

65 
	$sched_yld
 (
__THROW
;

68 
	$sched_g_iܙy_max
 (
__gܙhm

__THROW
;

71 
	$sched_g_iܙy_m
 (
__gܙhm

__THROW
;

74 
	$sched__g_rv
 (
__pid_t
 
__pid
, 
timeec
 *
__t

__THROW
;

77 #ifde
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
u
, 
u

	`__CPU_SET_S
 (u,  (
u_t_t
), cpu)

	)

81 
	#CPU_CLR
(
u
, 
u

	`__CPU_CLR_S
 (u,  (
u_t_t
), cpu)

	)

82 
	#CPU_ISSET
(
u
, 
u

	`__CPU_ISSET_S
 (u,  (
u_t_t
), \

83 
u
)

	)

84 
	#CPU_ZERO
(
u

	`__CPU_ZERO_S
 ( (
u_t_t
), cpu)

	)

85 
	#CPU_COUNT
(
u

	`__CPU_COUNT_S
 ( (
u_t_t
), cpu)

	)

87 
	#CPU_SET_S
(
u
, 
tsize
, 
u

	`__CPU_SET_S
 (u, ssize, cpu)

	)

88 
	#CPU_CLR_S
(
u
, 
tsize
, 
u

	`__CPU_CLR_S
 (u, ssize, cpu)

	)

89 
	#CPU_ISSET_S
(
u
, 
tsize
, 
u

	`__CPU_ISSET_S
 (cpu, setsize, \

90 
u
)

	)

91 
	#CPU_ZERO_S
(
tsize
, 
u

	`__CPU_ZERO_S
 (tsize, cpu)

	)

92 
	#CPU_COUNT_S
(
tsize
, 
u

	`__CPU_COUNT_S
 (tsize, cpu)

	)

94 
	#CPU_EQUAL
(
u1
, 
u2
) \

95 
	`__CPU_EQUAL_S
 ( (
u_t_t
), 
u1
, 
u2
)

	)

96 
	#CPU_EQUAL_S
(
tsize
, 
u1
, 
u2
) \

97 
	`__CPU_EQUAL_S
 (
tsize
, 
u1
, 
u2
)

	)

99 
	#CPU_AND
(
det
, 
ct1
, 
ct2
) \

100 
	`__CPU_OP_S
 ( (
u_t_t
), 
det
, 
ct1
, 
ct2
, &)

	)

101 
	#CPU_OR
(
det
, 
ct1
, 
ct2
) \

102 
	`__CPU_OP_S
 ( (
u_t_t
), 
det
, 
ct1
, 
ct2
, |)

	)

103 
	#CPU_XOR
(
det
, 
ct1
, 
ct2
) \

104 
	`__CPU_OP_S
 ( (
u_t_t
), 
det
, 
ct1
, 
ct2
, ^)

	)

105 
	#CPU_AND_S
(
tsize
, 
det
, 
ct1
, 
ct2
) \

106 
	`__CPU_OP_S
 (
tsize
, 
det
, 
ct1
, 
ct2
, &)

	)

107 
	#CPU_OR_S
(
tsize
, 
det
, 
ct1
, 
ct2
) \

108 
	`__CPU_OP_S
 (
tsize
, 
det
, 
ct1
, 
ct2
, |)

	)

109 
	#CPU_XOR_S
(
tsize
, 
det
, 
ct1
, 
ct2
) \

110 
	`__CPU_OP_S
 (
tsize
, 
det
, 
ct1
, 
ct2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
cou

	`__CPU_ALLOC_SIZE
 (cou)

	)

113 
	#CPU_ALLOC
(
cou

	`__CPU_ALLOC
 (cou)

	)

114 
	#CPU_FREE
(
ut

	`__CPU_FREE
 (ut)

	)

118 
	$sched_ffy
 (
__pid_t
 
__pid
, 
size_t
 
__utsize
,

119 
__cڡ
 
u_t_t
 *
__ut

__THROW
;

122 
	$sched_gaffy
 (
__pid_t
 
__pid
, 
size_t
 
__utsize
,

123 
u_t_t
 *
__ut

__THROW
;

126 
__END_DECLS


	@/usr/include/stdint.h

23 #ide
_STDINT_H


24 
	#_STDINT_H
 1

	)

26 
	~<us.h
>

27 
	~<bs/wch.h
>

28 
	~<bs/wdsize.h
>

35 #ide
__t8_t_defed


36 
	#__t8_t_defed


	)

37 sigd 
	tt8_t
;

38 
	tt16_t
;

39 
	tt32_t
;

40 #i
__WORDSIZE
 == 64

41 
	tt64_t
;

43 
__exnsi__


44 
	tt64_t
;

49 
	tut8_t
;

50 
	tut16_t
;

51 #ide
__ut32_t_defed


52 
	tut32_t
;

53 
	#__ut32_t_defed


	)

55 #i
__WORDSIZE
 == 64

56 
	tut64_t
;

58 
__exnsi__


59 
	tut64_t
;

66 sigd 
	tt_a8_t
;

67 
	tt_a16_t
;

68 
	tt_a32_t
;

69 #i
__WORDSIZE
 == 64

70 
	tt_a64_t
;

72 
__exnsi__


73 
	tt_a64_t
;

77 
	tut_a8_t
;

78 
	tut_a16_t
;

79 
	tut_a32_t
;

80 #i
__WORDSIZE
 == 64

81 
	tut_a64_t
;

83 
__exnsi__


84 
	tut_a64_t
;

91 sigd 
	tt_8_t
;

92 #i
__WORDSIZE
 == 64

93 
	tt_16_t
;

94 
	tt_32_t
;

95 
	tt_64_t
;

97 
	tt_16_t
;

98 
	tt_32_t
;

99 
__exnsi__


100 
	tt_64_t
;

104 
	tut_8_t
;

105 #i
__WORDSIZE
 == 64

106 
	tut_16_t
;

107 
	tut_32_t
;

108 
	tut_64_t
;

110 
	tut_16_t
;

111 
	tut_32_t
;

112 
__exnsi__


113 
	tut_64_t
;

118 #i
__WORDSIZE
 == 64

119 #ide
___t_defed


120 
	t_t
;

121 
	#___t_defed


	)

123 
	tu_t
;

125 #ide
___t_defed


126 
	t_t
;

127 
	#___t_defed


	)

129 
	tu_t
;

134 #i
__WORDSIZE
 == 64

135 
	ttmax_t
;

136 
	tutmax_t
;

138 
__exnsi__


139 
	ttmax_t
;

140 
__exnsi__


141 
	tutmax_t
;

147 #i!
defed
 
__lulus
 || defed 
__STDC_LIMIT_MACROS


149 #i
__WORDSIZE
 == 64

150 
	#__INT64_C
(
c
## 
L


	)

151 
	#__UINT64_C
(
c
## 
UL


	)

153 
	#__INT64_C
(
c
## 
LL


	)

154 
	#__UINT64_C
(
c
## 
ULL


	)

160 
	#INT8_MIN
 (-128)

	)

161 
	#INT16_MIN
 (-32767-1)

	)

162 
	#INT32_MIN
 (-2147483647-1)

	)

163 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

165 
	#INT8_MAX
 (127)

	)

166 
	#INT16_MAX
 (32767)

	)

167 
	#INT32_MAX
 (2147483647)

	)

168 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

171 
	#UINT8_MAX
 (255)

	)

172 
	#UINT16_MAX
 (65535)

	)

173 
	#UINT32_MAX
 (4294967295U)

	)

174 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

178 
	#INT_LEAST8_MIN
 (-128)

	)

179 
	#INT_LEAST16_MIN
 (-32767-1)

	)

180 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

181 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

183 
	#INT_LEAST8_MAX
 (127)

	)

184 
	#INT_LEAST16_MAX
 (32767)

	)

185 
	#INT_LEAST32_MAX
 (2147483647)

	)

186 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

189 
	#UINT_LEAST8_MAX
 (255)

	)

190 
	#UINT_LEAST16_MAX
 (65535)

	)

191 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

192 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

196 
	#INT_FAST8_MIN
 (-128)

	)

197 #i
__WORDSIZE
 == 64

198 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

199 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

201 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

202 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

204 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

206 
	#INT_FAST8_MAX
 (127)

	)

207 #i
__WORDSIZE
 == 64

208 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

209 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

211 
	#INT_FAST16_MAX
 (2147483647)

	)

212 
	#INT_FAST32_MAX
 (2147483647)

	)

214 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

217 
	#UINT_FAST8_MAX
 (255)

	)

218 #i
__WORDSIZE
 == 64

219 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

220 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

222 
	#UINT_FAST16_MAX
 (4294967295U)

	)

223 
	#UINT_FAST32_MAX
 (4294967295U)

	)

225 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

229 #i
__WORDSIZE
 == 64

230 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

231 
	#INTPTR_MAX
 (9223372036854775807L)

	)

232 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

234 
	#INTPTR_MIN
 (-2147483647-1)

	)

235 
	#INTPTR_MAX
 (2147483647)

	)

236 
	#UINTPTR_MAX
 (4294967295U)

	)

241 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

243 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

246 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

252 #i
__WORDSIZE
 == 64

253 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

254 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

256 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

257 
	#PTRDIFF_MAX
 (2147483647)

	)

261 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

262 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

265 #i
__WORDSIZE
 == 64

266 
	#SIZE_MAX
 (18446744073709551615UL)

	)

268 
	#SIZE_MAX
 (4294967295U)

	)

272 #ide
WCHAR_MIN


274 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

275 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

279 
	#WINT_MIN
 (0u)

	)

280 
	#WINT_MAX
 (4294967295u)

	)

287 #i!
defed
 
__lulus
 || defed 
__STDC_CONSTANT_MACROS


290 
	#INT8_C
(
c

	)
c

291 
	#INT16_C
(
c

	)
c

292 
	#INT32_C
(
c

	)
c

293 #i
__WORDSIZE
 == 64

294 
	#INT64_C
(
c
## 
L


	)

296 
	#INT64_C
(
c
## 
LL


	)

300 
	#UINT8_C
(
c

	)
c

301 
	#UINT16_C
(
c

	)
c

302 
	#UINT32_C
(
c
## 
U


	)

303 #i
__WORDSIZE
 == 64

304 
	#UINT64_C
(
c
## 
UL


	)

306 
	#UINT64_C
(
c
## 
ULL


	)

310 #i
__WORDSIZE
 == 64

311 
	#INTMAX_C
(
c
## 
L


	)

312 
	#UINTMAX_C
(
c
## 
UL


	)

314 
	#INTMAX_C
(
c
## 
LL


	)

315 
	#UINTMAX_C
(
c
## 
ULL


	)

	@/usr/include/sys/select.h

22 #ide
_SYS_SELECT_H


23 
	#_SYS_SELECT_H
 1

	)

25 
	~<us.h
>

28 
	~<bs/tys.h
>

31 
	~<bs/.h
>

34 
	~<bs/sigt.h
>

36 #ide
__sigt_t_defed


37 
	#__sigt_t_defed


	)

38 
__sigt_t
 
	tsigt_t
;

42 
	#__ed_time_t


	)

43 
	#__ed_timeec


	)

44 
	~<time.h
>

45 
	#__ed_timev


	)

46 
	~<bs/time.h
>

48 #ide
__sucds_t_defed


49 
__sucds_t
 
	tsucds_t
;

50 
	#__sucds_t_defed


	)

55 
	t__fd_mask
;

58 #unde
__NFDBITS


60 
	#__NFDBITS
 (8 * ( (
__fd_mask
))

	)

61 
	#__FD_ELT
(
d
((d/ 
__NFDBITS
)

	)

62 
	#__FD_MASK
(
d
((
__fd_mask
1 << ((d% 
__NFDBITS
))

	)

69 #ifde
__USE_XOPEN


70 
__fd_mask
 
	mfds_bs
[
__FD_SETSIZE
 / 
__NFDBITS
];

71 
	#__FDS_BITS
(
t
((t)->
fds_bs
)

	)

73 
__fd_mask
 
	m__fds_bs
[
__FD_SETSIZE
 / 
__NFDBITS
];

74 
	#__FDS_BITS
(
t
((t)->
__fds_bs
)

	)

76 } 
	tfd_t
;

79 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

81 #ifde
__USE_MISC


83 
__fd_mask
 
	tfd_mask
;

86 
	#NFDBITS
 
__NFDBITS


	)

91 
	#FD_SET
(
fd
, 
fd

	`__FD_SET
 (fd, fd)

	)

92 
	#FD_CLR
(
fd
, 
fd

	`__FD_CLR
 (fd, fd)

	)

93 
	#FD_ISSET
(
fd
, 
fd

	`__FD_ISSET
 (fd, fd)

	)

94 
	#FD_ZERO
(
fd

	`__FD_ZERO
 (fd)

	)

97 
__BEGIN_DECLS


107 

 (
__nfds
, 
fd_t
 *
__ri
 
__adfds
,

108 
fd_t
 *
__ri
 
__wrefds
,

109 
fd_t
 *
__ri
 
__exfds
,

110 
timev
 *
__ri
 
__timeout
);

112 #ifde
__USE_XOPEN2K


119 
p
 (
__nfds
, 
fd_t
 *
__ri
 
__adfds
,

120 
fd_t
 *
__ri
 
__wrefds
,

121 
fd_t
 *
__ri
 
__exfds
,

122 cڡ 
timeec
 *
__ri
 
__timeout
,

123 cڡ 
__sigt_t
 *
__ri
 
__sigmask
);

128 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__GNUC__


129 
	~<bs/2.h
>

132 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

21 #ide
_SYS_SYSMACROS_H


22 
	#_SYS_SYSMACROS_H
 1

	)

24 
	~<us.h
>

29 #ifde
__GLIBC_HAVE_LONG_LONG


30 
__BEGIN_DECLS


32 
__exnsi__


33 
	$gnu_dev_maj
 (
__dev
)

34 
__THROW
 
__ibu_cڡ__
;

35 
__exnsi__


36 
	$gnu_dev_m
 (
__dev
)

37 
__THROW
 
__ibu_cڡ__
;

38 
__exnsi__


39 
	$gnu_dev_makedev
 (
__maj
,

40 
__m
)

41 
__THROW
 
__ibu_cڡ__
;

43 #i
defed
 
__GNUC__
 && __GNUC__ >2 && defed 
__USE_EXTERN_INLINES


44 
__exnsi__
 
__ex_le
 
__ibu_cڡ__
 

45 
	`__NTH
 (
	$gnu_dev_maj
 (
__dev
))

47  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

48 
	}
}

50 
__exnsi__
 
__ex_le
 
__ibu_cڡ__
 

51 
__NTH
 (
	$gnu_dev_m
 (
__dev
))

53  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

54 
	}
}

56 
__exnsi__
 
__ex_le
 
__ibu_cڡ__
 

57 
__NTH
 (
	$gnu_dev_makedev
 (
__maj
, 
__m
))

59  ((
__m
 & 0xff| ((
__maj
 & 0xfff) << 8)

60 | ((((
__m
 & ~0xff)) << 12)

61 | ((((
__maj
 & ~0xfff)) << 32));

62 
	}
}

64 
	g__END_DECLS


67 
	#maj
(
dev

	`gnu_dev_maj
 (dev)

	)

68 
	#m
(
dev

	`gnu_dev_m
 (dev)

	)

69 
	#makedev
(
maj
, 
m

	`gnu_dev_makedev
 (maj, m)

	)

	@/usr/include/sys/ttydefaults.h

40 #ide
_SYS_TTYDEFAULTS_H_


41 
	#_SYS_TTYDEFAULTS_H_


	)

46 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ISTRIP
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

47 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
 | 
XTABS
)

	)

48 
	#TTYDEF_LFLAG
 (
ECHO
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
 | 
ECHOE
|
ECHOKE
|
ECHOCTL
)

	)

49 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS7
 | 
PARENB
 | 
HUPCL
)

	)

50 
	#TTYDEF_SPEED
 (
B9600
)

	)

55 
	#CTRL
(
x
(x&037)

	)

56 
	#CEOF
 
	`CTRL
('d')

	)

57 #ifde
_POSIX_VDISABLE


58 
	#CEOL
 
_POSIX_VDISABLE


	)

60 
	#CEOL
 '\0'

	)

62 
	#CERASE
 0177

	)

63 
	#CINTR
 
	`CTRL
('c')

	)

64 #ifde
_POSIX_VDISABLE


65 
	#CSTATUS
 
_POSIX_VDISABLE


	)

67 
	#CSTATUS
 '\0'

	)

69 
	#CKILL
 
	`CTRL
('u')

	)

70 
	#CMIN
 1

	)

71 
	#CQUIT
 034

	)

72 
	#CSUSP
 
	`CTRL
('z')

	)

73 
	#CTIME
 0

	)

74 
	#CDSUSP
 
	`CTRL
('y')

	)

75 
	#CSTART
 
	`CTRL
('q')

	)

76 
	#CSTOP
 
	`CTRL
('s')

	)

77 
	#CLNEXT
 
	`CTRL
('v')

	)

78 
	#CDISCARD
 
	`CTRL
('o')

	)

79 
	#CWERASE
 
	`CTRL
('w')

	)

80 
	#CREPRINT
 
	`CTRL
('r')

	)

81 
	#CEOT
 
CEOF


	)

83 
	#CBRK
 
CEOL


	)

84 
	#CRPRNT
 
CREPRINT


	)

85 
	#CFLUSH
 
CDISCARD


	)

93 #ifde
TTYDEFCHARS


94 
cc_t
 
	gydefchs
[
NCCS
] = {

95 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

96 
_POSIX_VDISABLE
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

97 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


99 #unde
TTYDEFCHARS


	@/usr/include/sys/ucontext.h

19 #ide
_SYS_UCONTEXT_H


20 
	#_SYS_UCONTEXT_H
 1

	)

22 
	~<us.h
>

23 
	~<sigl.h
>

24 
	~<bs/wdsize.h
>

28 
	~<bs/sigcڋxt.h
>

30 #i
__WORDSIZE
 == 64

33 
	tgg_t
;

36 
	#NGREG
 23

	)

39 
gg_t
 
	tggt_t
[
NGREG
];

41 #ifde
__USE_GNU


45 
	mREG_R8
 = 0,

46 
	#REG_R8
 
REG_R8


	)

47 
	mREG_R9
,

48 
	#REG_R9
 
REG_R9


	)

49 
	mREG_R10
,

50 
	#REG_R10
 
REG_R10


	)

51 
	mREG_R11
,

52 
	#REG_R11
 
REG_R11


	)

53 
	mREG_R12
,

54 
	#REG_R12
 
REG_R12


	)

55 
	mREG_R13
,

56 
	#REG_R13
 
REG_R13


	)

57 
	mREG_R14
,

58 
	#REG_R14
 
REG_R14


	)

59 
	mREG_R15
,

60 
	#REG_R15
 
REG_R15


	)

61 
	mREG_RDI
,

62 
	#REG_RDI
 
REG_RDI


	)

63 
	mREG_RSI
,

64 
	#REG_RSI
 
REG_RSI


	)

65 
	mREG_RBP
,

66 
	#REG_RBP
 
REG_RBP


	)

67 
	mREG_RBX
,

68 
	#REG_RBX
 
REG_RBX


	)

69 
	mREG_RDX
,

70 
	#REG_RDX
 
REG_RDX


	)

71 
	mREG_RAX
,

72 
	#REG_RAX
 
REG_RAX


	)

73 
	mREG_RCX
,

74 
	#REG_RCX
 
REG_RCX


	)

75 
	mREG_RSP
,

76 
	#REG_RSP
 
REG_RSP


	)

77 
	mREG_RIP
,

78 
	#REG_RIP
 
REG_RIP


	)

79 
	mREG_EFL
,

80 
	#REG_EFL
 
REG_EFL


	)

81 
	mREG_CSGSFS
,

82 
	#REG_CSGSFS
 
REG_CSGSFS


	)

83 
	mREG_ERR
,

84 
	#REG_ERR
 
REG_ERR


	)

85 
	mREG_TRAPNO
,

86 
	#REG_TRAPNO
 
REG_TRAPNO


	)

87 
	mREG_OLDMASK
,

88 
	#REG_OLDMASK
 
REG_OLDMASK


	)

89 
	mREG_CR2


90 
	#REG_CR2
 
REG_CR2


	)

94 
	s_libc_xg


96 
	msignifind
[4];

97 
	mexpڒt
;

98 
	mddg
[3];

101 
	s_libc_xmmg


103 
__ut32_t
 
	memt
[4];

106 
	s_libc_塩e


109 
__ut16_t
 
	mcwd
;

110 
__ut16_t
 
	mswd
;

111 
__ut16_t
 
	mw
;

112 
__ut16_t
 
	mf
;

113 
__ut64_t
 
	mr
;

114 
__ut64_t
 
	mrdp
;

115 
__ut32_t
 
	mmxc
;

116 
__ut32_t
 
	mmx_mask
;

117 
_libc_xg
 
	m_
[8];

118 
_libc_xmmg
 
	m_xmm
[16];

119 
__ut32_t
 
	mddg
[24];

123 
_libc_塩e
 *
	tgt_t
;

128 
ggt_t
 
	mggs
;

130 
gt_t
 
	mgs
;

131 
	m__rved1
 [8];

132 } 
	tmcڋxt_t
;

135 
	sucڋxt


137 
	muc_ags
;

138 
ucڋxt
 *
	muc_lk
;

139 
ack_t
 
	muc_ack
;

140 
mcڋxt_t
 
	muc_mcڋxt
;

141 
__sigt_t
 
	muc_sigmask
;

142 
_libc_塩e
 
	m__gs_mem
;

143 } 
	tucڋxt_t
;

148 
	tgg_t
;

151 
	#NGREG
 19

	)

154 
gg_t
 
	tggt_t
[
NGREG
];

156 #ifde
__USE_GNU


160 
	mREG_GS
 = 0,

161 
	#REG_GS
 
REG_GS


	)

162 
	mREG_FS
,

163 
	#REG_FS
 
REG_FS


	)

164 
	mREG_ES
,

165 
	#REG_ES
 
REG_ES


	)

166 
	mREG_DS
,

167 
	#REG_DS
 
REG_DS


	)

168 
	mREG_EDI
,

169 
	#REG_EDI
 
REG_EDI


	)

170 
	mREG_ESI
,

171 
	#REG_ESI
 
REG_ESI


	)

172 
	mREG_EBP
,

173 
	#REG_EBP
 
REG_EBP


	)

174 
	mREG_ESP
,

175 
	#REG_ESP
 
REG_ESP


	)

176 
	mREG_EBX
,

177 
	#REG_EBX
 
REG_EBX


	)

178 
	mREG_EDX
,

179 
	#REG_EDX
 
REG_EDX


	)

180 
	mREG_ECX
,

181 
	#REG_ECX
 
REG_ECX


	)

182 
	mREG_EAX
,

183 
	#REG_EAX
 
REG_EAX


	)

184 
	mREG_TRAPNO
,

185 
	#REG_TRAPNO
 
REG_TRAPNO


	)

186 
	mREG_ERR
,

187 
	#REG_ERR
 
REG_ERR


	)

188 
	mREG_EIP
,

189 
	#REG_EIP
 
REG_EIP


	)

190 
	mREG_CS
,

191 
	#REG_CS
 
REG_CS


	)

192 
	mREG_EFL
,

193 
	#REG_EFL
 
REG_EFL


	)

194 
	mREG_UESP
,

195 
	#REG_UESP
 
REG_UESP


	)

196 
	mREG_SS


197 
	#REG_SS
 
REG_SS


	)

202 
	s_libc_g


204 
	msignifind
[4];

205 
	mexpڒt
;

208 
	s_libc_塩e


210 
	mcw
;

211 
	msw
;

212 
	mg
;

213 
	moff
;

214 
	mcsl
;

215 
	mdaoff
;

216 
	mdal
;

217 
_libc_g
 
	m_
[8];

218 
	mus
;

222 
_libc_塩e
 *
	tgt_t
;

227 
ggt_t
 
	mggs
;

230 
gt_t
 
	mgs
;

231 
	mdmask
;

232 
	m2
;

233 } 
	tmcڋxt_t
;

236 
	sucڋxt


238 
	muc_ags
;

239 
ucڋxt
 *
	muc_lk
;

240 
ack_t
 
	muc_ack
;

241 
mcڋxt_t
 
	muc_mcڋxt
;

242 
__sigt_t
 
	muc_sigmask
;

243 
_libc_塩e
 
	m__gs_mem
;

244 } 
	tucڋxt_t
;

	@/usr/include/sys/uio.h

19 #ide
_SYS_UIO_H


20 
	#_SYS_UIO_H
 1

	)

22 
	~<us.h
>

24 
	~<sys/tys.h
>

26 
	g__BEGIN_DECLS


29 
	~<bs/uio.h
>

40 
ssize_t
 
	$adv
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
)

41 
__wur
;

51 
ssize_t
 
	$wrev
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
)

52 
__wur
;

55 #ifde
__USE_BSD


56 #ide
__USE_FILE_OFFSET64


66 
ssize_t
 
	$dv
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
,

67 
__off_t
 
__offt

__wur
;

78 
ssize_t
 
	$pwrev
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
,

79 
__off_t
 
__offt

__wur
;

81 #ifde
__REDIRECT


82 
ssize_t
 
	`__REDIRECT
 (
dv
, (
__fd
, 
__cڡ
 
iovec
 *
__iovec
,

83 
__cou
, 
__off64_t
 
__offt
),

84 
dv64

__wur
;

85 
ssize_t
 
	`__REDIRECT
 (
pwrev
, (
__fd
, 
__cڡ
 
iovec
 *
__iovec
,

86 
__cou
, 
__off64_t
 
__offt
),

87 
pwrev64

__wur
;

89 
	#dv
 
dv64


	)

90 
	#pwrev
 
pwrev64


	)

94 #ifde
__USE_LARGEFILE64


104 
ssize_t
 
	$dv64
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
,

105 
__off64_t
 
__offt

__wur
;

116 
ssize_t
 
	$pwrev64
 (
__fd
, 
__cڡ
 
iovec
 *
__iovec
, 
__cou
,

117 
__off64_t
 
__offt

__wur
;

121 
__END_DECLS


	@/usr/include/xlocale.h

21 #ide
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__lo_ru


31 
__lo_da
 *
	m__los
[13];

34 cڡ *
	m__y_b
;

35 cڡ *
	m__y_tow
;

36 cڡ *
	m__y_tou
;

39 cڡ *
	m__mes
[13];

40 } *
	t__lo_t
;

43 
__lo_t
 
	tlo_t
;

	@/usr/include/_G_config.h

4 #ide
_G_cfig_h


5 
	#_G_cfig_h
 1

	)

9 
	~<bs/tys.h
>

10 
	#__ed_size_t


	)

11 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


12 
	#__ed_wch_t


	)

14 
	#__ed_NULL


	)

15 
	~<ddef.h
>

16 
	#__ed_mbe_t


	)

17 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


18 
	#__ed_wt_t


	)

20 
	~<wch.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mbe_t
 
	m__e
;

26 } 
	t_G_os_t
;

29 
__off64_t
 
	m__pos
;

30 
__mbe_t
 
	m__e
;

31 } 
	t_G_os64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch_t
 
wch_t


	)

38 
	#_G_wt_t
 
wt_t


	)

39 
	#_G_64
 
64


	)

40 #i
defed
 
_LIBC
 || defed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gcv.h
>

44 
__gcv_fo
 
	m__cd
;

47 
__gcv_fo
 
	m__cd
;

48 
__gcv__da
 
	m__da
;

49 } 
	m__combed
;

50 } 
	t_G_icv_t
;

53 
	t_G_t16_t
 
	t__ibu__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_t32_t
 
	t__ibu__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_ut16_t
 
	t__ibu__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_ut32_t
 
	t__ibu__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li
 
__gnuc_va_li


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__ݒ64


	)

78 
	#_G_LSEEK64
 
__lek64


	)

79 
	#_G_MMAP64
 
__mm64


	)

80 
	#_G_FSTAT64
(
fd
,
buf

	`__fx64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`defed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #i
defed
 
__lulus
 || defed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST

	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
()

	)

	@/usr/include/asm/ioctls.h

1 
	~<asm-gic/iols.h
>

	@/usr/include/asm/socket.h

1 
	~<asm-gic/sock.h
>

	@/usr/include/asm/types.h

1 #ide
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	~<asm-gic/tys.h
>

	@/usr/include/bits/endian.h

3 #ide
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/libio-ldbl.h

20 #ide
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vrtf
)

	@/usr/include/bits/predefs.h

19 #ide
_FEATURES_H


23 #ide
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/sched.h

22 #ide
__ed_schedm


24 #ide
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifde
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

35 
	#SCHED_IDLE
 5

	)

37 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

40 #ifde
__USE_GNU


42 
	#CSIGNAL
 0x000000f

	)

43 
	#CLONE_VM
 0x00000100

	)

44 
	#CLONE_FS
 0x00000200

	)

45 
	#CLONE_FILES
 0x00000400

	)

46 
	#CLONE_SIGHAND
 0x00000800

	)

47 
	#CLONE_PTRACE
 0x00002000

	)

48 
	#CLONE_VFORK
 0x00004000

	)

50 
	#CLONE_PARENT
 0x00008000

	)

52 
	#CLONE_THREAD
 0x00010000

	)

53 
	#CLONE_NEWNS
 0x00020000

	)

54 
	#CLONE_SYSVSEM
 0x00040000

	)

55 
	#CLONE_SETTLS
 0x00080000

	)

56 
	#CLONE_PARENT_SETTID
 0x00100000

	)

58 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

60 
	#CLONE_DETACHED
 0x00400000

	)

61 
	#CLONE_UNTRACED
 0x00800000

	)

63 
	#CLONE_CHILD_SETTID
 0x01000000

	)

65 
	#CLONE_NEWUTS
 0x04000000

	)

66 
	#CLONE_NEWIPC
 0x08000000

	)

67 
	#CLONE_NEWUSER
 0x10000000

	)

68 
	#CLONE_NEWPID
 0x20000000

	)

69 
	#CLONE_NEWNET
 0x40000000

	)

70 
	#CLONE_IO
 0x80000000

	)

74 
	ssched_m


76 
	m__sched_iܙy
;

79 
	g__BEGIN_DECLS


81 #ifde
__USE_GNU


83 
e
 ((*
__
(*
__g
), *
__chd_ack
,

84 
__ags
, *
__g
, ...
__THROW
;

87 
	$unshe
 (
__ags

__THROW
;

90 
	$sched_gu
 (
__THROW
;

93 
	$s
 (
__fd
, 
__ny

__THROW
;

97 
__END_DECLS


101 #i!
defed
 
__defed_schedm
 \

102 && (
defed
 
__ed_schedm
 || defed 
_SCHED_H
)

103 
	#__defed_schedm
 1

	)

105 
	s__sched_m


107 
__sched_iܙy
;

109 #unde
__ed_schedm


113 #i
defed
 
_SCHED_H
 && !defed 
__u_t_t_defed


114 
	#__u_t_t_defed


	)

116 
	#__CPU_SETSIZE
 1024

	)

117 
	#__NCPUBITS
 (8 *  (
__u_mask
))

	)

120 
	t__u_mask
;

123 
	#__CPUELT
(
u
((u/ 
__NCPUBITS
)

	)

124 
	#__CPUMASK
(
u
((
__u_mask
1 << ((u% 
__NCPUBITS
))

	)

129 
__u_mask
 
__bs
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

130 } 
	tu_t_t
;

133 #i
	`__GNUC_PREREQ
 (2, 91)

134 
	#__CPU_ZERO_S
(
tsize
, 
u
) \

135 d
	`__but_memt
 (
u
, '\0', 
tsize
); 0)

	)

137 
	#__CPU_ZERO_S
(
tsize
, 
u
) \

139 
size_t
 
__i
; \

140 
size_t
 
__imax
 = (
tsize
/  (
__u_mask
); \

141 
__u_mask
 *
__bs
 = (
u
)->__bits; \

142 
__i
 = 0; __< 
__imax
; ++__i) \

143 
__bs
[
__i
] = 0; \

144 
	}
} 0)

	)

146 
	#__CPU_SET_S
(
u
, 
tsize
, 
u
) \

147 (
__exnsi__
 \

148 ({ 
size_t
 
__u
 = (
u
); \

149 
__u
 < 8 * (
tsize
) \

150 ? (((
__u_mask
 *((
u
)->
__bs
))[
	`__CPUELT
 (
__u
)] \

151 |
	`__CPUMASK
 (
__u
)) \

152 : 0; }))

	)

153 
	#__CPU_CLR_S
(
u
, 
tsize
, 
u
) \

154 (
__exnsi__
 \

155 ({ 
size_t
 
__u
 = (
u
); \

156 
__u
 < 8 * (
tsize
) \

157 ? (((
__u_mask
 *((
u
)->
__bs
))[
	`__CPUELT
 (
__u
)] \

158 &~
	`__CPUMASK
 (
__u
)) \

159 : 0; }))

	)

160 
	#__CPU_ISSET_S
(
u
, 
tsize
, 
u
) \

161 (
__exnsi__
 \

162 ({ 
size_t
 
__u
 = (
u
); \

163 
__u
 < 8 * (
tsize
) \

164 ? ((((
__cڡ
 
__u_mask
 *((
u
)->
__bs
))[
	`__CPUELT
 (
__u
)] \

165 & 
	`__CPUMASK
 (
__u
))) != 0 \

166 : 0; }))

	)

168 
	#__CPU_COUNT_S
(
tsize
, 
u
) \

169 
	`__sched_ucou
 (
tsize
, 
u
)

	)

171 #i
__GNUC_PREREQ
 (2, 91)

172 
	#__CPU_EQUAL_S
(
tsize
, 
u1
, 
u2
) \

173 (
	`__but_memcmp
 (
u1
, 
u2
, 
tsize
=0)

	)

175 
	#__CPU_EQUAL_S
(
tsize
, 
u1
, 
u2
) \

176 (
__exnsi__
 \

177 ({ 
__cڡ
 
__u_mask
 *
__r1
 = (
u1
)->
__bs
; \

178 
__cڡ
 
__u_mask
 *
__r2
 = (
u2
)->
__bs
; \

179 
size_t
 
__imax
 = (
tsize
/  (
__u_mask
); \

180 
size_t
 
__i
; \

181 
__i
 = 0; __< 
__imax
; ++__i) \

182 i(
__r1
[
__i
] !
__r2
[__i]) \

184 
__i
 =
__imax
; }))

	)

187 
	#__CPU_OP_S
(
tsize
, 
det
, 
ct1
, 
ct2
, 

) \

188 (
__exnsi__
 \

189 ({ 
u_t_t
 *
__de
 = (
det
); \

190 
__cڡ
 
__u_mask
 *
__r1
 = (
ct1
)->
__bs
; \

191 
__cڡ
 
__u_mask
 *
__r2
 = (
ct2
)->
__bs
; \

192 
size_t
 
__imax
 = (
tsize
/  (
__u_mask
); \

193 
size_t
 
__i
; \

194 
__i
 = 0; __< 
__imax
; ++__i) \

195 ((
__u_mask
 *
__de
->
__bs
)[
__i
] = 
__r1
[__i] 

 
__r2
[__i]; \

196 
__de
; }))

	)

198 
	#__CPU_ALLOC_SIZE
(
cou
) \

199 ((((
cou
+ 
__NCPUBITS
 - 1/ __NCPUBITS*  (
__u_mask
))

	)

200 
	#__CPU_ALLOC
(
cou

	`__sched_uloc
 (cou)

	)

201 
	#__CPU_FREE
(
ut

	`__sched_u
 (ut)

	)

203 
__BEGIN_DECLS


205 
	$__sched_ucou
 (
size_t
 
__tsize
, cڡ 
u_t_t
 *
__
)

206 
__THROW
;

207 
u_t_t
 *
	$__sched_uloc
 (
size_t
 
__cou

__THROW
 
__wur
;

208 
	$__sched_u
 (
u_t_t
 *
__t

__THROW
;

210 
__END_DECLS


	@/usr/include/bits/select.h

19 #ide
_SYS_SELECT_H


23 
	~<bs/wdsize.h
>

26 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

28 #i
__WORDSIZE
 == 64

29 
	#__FD_ZERO_STOS
 "osq"

	)

31 
	#__FD_ZERO_STOS
 "o"

	)

34 
	#__FD_ZERO
(
fd
) \

36 
__d0
, 
__d1
; \

37 
__asm__
 
	`__vީe__
 ("d;; " 
__FD_ZERO_STOS
 \

38 : "=c" (
__d0
), "=D" (
__d1
) \

39 : "a" (0), "0" ( (
fd_t
) \

40 /  (
__fd_mask
)), \

41 "1" (&
	`__FDS_BITS
 (
fd
)[0]) \

43 } 0)

	)

49 
	#__FD_ZERO
(
t
) \

51 
__i
; \

52 
fd_t
 *
__r
 = (
t
); \

53 
__i
 = 0; __<  (
fd_t
/  (
__fd_mask
); ++__i) \

54 
	`__FDS_BITS
 (
__r
)[
__i
] = 0; \

55 } 0)

	)

59 
	#__FD_SET
(
d
, 
t
) \

60 (((
	`__FDS_BITS
 (
t
)[
	`__FD_ELT
 (
d
)] |
	`__FD_MASK
 (d)))

	)

61 
	#__FD_CLR
(
d
, 
t
) \

62 (((
	`__FDS_BITS
 (
t
)[
	`__FD_ELT
 (
d
)] &~
	`__FD_MASK
 (d)))

	)

63 
	#__FD_ISSET
(
d
, 
t
) \

64 ((
	`__FDS_BITS
 (
t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)!0)

	)

	@/usr/include/bits/select2.h

20 #ide
_SYS_SELECT_H


25 
__fdt_chk
 (
__d
);

26 
	$__fdt_wn
 (
__d
)

27 
	`__wǉr
 ("bit outside of fd_set selected");

28 #unde
__FD_ELT


29 
	#__FD_ELT
(
d
) \

30 
__exnsi__
 \

31 ({ 
__d
 = (
d
); \

32 (
	`__but_cڡt_p
 (
__d
) \

33 ? (
__d
 >
__FD_SETSIZE
 \

34 ? 
	`__fdt_wn
 (
__d
: (__d / 
__NFDBITS
)) \

35 : 
	`__fdt_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/sockaddr.h

24 #ide
_BITS_SOCKADDR_H


25 
	#_BITS_SOCKADDR_H
 1

	)

29 
	t_my_t
;

35 
	#__SOCKADDR_COMMON
(
_efix
) \

36 
_my_t
 
_efix
##
my


	)

38 
	#__SOCKADDR_COMMON_SIZE
 ( ())

	)

	@/usr/include/bits/stdio-lock.h

20 #ide
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<bs/libc-lock.h
>

24 
	~<lowvlock.h
>

28 
	#_IO_lock_exnsive
 1

	)

30 ru { 
	mlock
; 
	mt
; *
	mowr
; } 
	t_IO_lock_t
;

32 
	#_IO_lock_liz
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

34 
	#_IO_lock_
(
_me
) \

35 ((
_me
(
_IO_lock_t

_IO_lock_liz
 , 0)

	)

37 
	#_IO_lock_fi
(
_me
) \

38 ((0)

	)

40 
	#_IO_lock_lock
(
_me
) \

42 *
__lf
 = 
THREAD_SELF
; \

43 i((
_me
).
owr
 !
__lf
) \

45 
	`l_lock
 ((
_me
).
lock
, 
LLL_PRIVATE
); \

46 (
_me
).
owr
 = 
__lf
; \

48 ++(
_me
).
t
; \

49 } 0)

	)

51 
	#_IO_lock_ylock
(
_me
) \

53 
__su
 = 0; \

54 *
__lf
 = 
THREAD_SELF
; \

55 i((
_me
).
owr
 !
__lf
) \

57 i(
	`l_ylock
 ((
_me
).
lock
) == 0) \

59 (
_me
).
owr
 = 
__lf
; \

60 (
_me
).
t
 = 1; \

63 
__su
 = 
EBUSY
; \

66 ++(
_me
).
t
; \

67 
__su
; \

68 })

	)

70 
	#_IO_lock_uock
(
_me
) \

72 i(--(
_me
).
t
 == 0) \

74 (
_me
).
owr
 = 
NULL
; \

75 
	`l_uock
 ((
_me
).
lock
, 
LLL_PRIVATE
); \

77 } 0)

	)

81 
	#_IO_nup_gi_t
(
_f
, 
_
) \

82 
	`__libc_nup_gi_t
 (((
_
)->
_ags
 & 
_IO_USER_LOCK
=0, 
_f
, _)

	)

83 
	#_IO_nup_gi_t_nrg
(
_f
) \

84 
	`__libc_nup_gi_t
 (1, 
_f
, 
NULL
)

	)

85 
	#_IO_nup_gi_d
(
_do
) \

86 
	`__libc_nup_gi_d
 (
_do
)

	)

88 #i
defed
 
_LIBC
 && !defed 
NOT_IN_libc


90 #ifde
__EXCEPTIONS


91 
	#_IO_acque_lock
(
_
) \

93 
_IO_FILE
 *
_IO_acque_lock_fe
 \

94 
	`__ibu__
((
	`nup
 (
_IO_acque_lock_f
))) \

95 (
_
); \

96 
	`_IO_ockfe
 (
_IO_acque_lock_fe
);

	)

97 
	#_IO_acque_lock_r_ags2
(
_
) \

99 
_IO_FILE
 *
_IO_acque_lock_fe
 \

100 
	`__ibu__
((
	`nup
 (
_IO_acque_lock_r_ags2_f
))) \

101 (
_
); \

102 
	`_IO_ockfe
 (
_IO_acque_lock_fe
);

	)

104 
	#_IO_acque_lock
(
_

_IO_acque_lock_eds_exis_abd


	)

105 
	#_IO_acque_lock_r_ags2
(
_

	`_IO_acque_lock
 (_)

	)

107 
	#_IO_a_lock
(
_
; } 0)

	)

	@/usr/include/bits/timex.h

19 #idef 
_BITS_TIMEX_H


20 
	#_BITS_TIMEX_H
 1

	)

24 
	stimex


26 
	mmodes
;

27 
	mofft
;

28 
	meq
;

29 
	mmaxr
;

30 
	mer
;

31 
	mus
;

32 
	mcڡt
;

33 
	mecisi
;

34 
	mtޔ
;

35 
timev
 
	mtime
;

36 
	mtick
;

38 
	mseq
;

39 
	mjr
;

40 
	mshi
;

41 
	mab
;

42 
	mjt
;

43 
	mlt
;

44 
	mrt
;

45 
	mbt
;

47 
	mi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/typesizes.h

20 #ide
_BITS_TYPES_H


24 #idef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 su { 
__v
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/uio.h

19 #i!
defed
 
_SYS_UIO_H
 && !defed 
_FCNTL_H


23 #ide
_BITS_UIO_H


24 
	#_BITS_UIO_H
 1

	)

26 
	~<sys/tys.h
>

40 
	#UIO_MAXIOV
 1024

	)

44 
	siovec


46 *
	miov_ba
;

47 
size_t
 
	miov_n
;

52 #i
defed
 
_SYS_UIO_H
 && !defed 
_BITS_UIO_H_FOR_SYS_UIO_H


53 
	#_BITS_UIO_H_FOR_SYS_UIO_H
 1

	)

55 
__BEGIN_DECLS


58 
ssize_t
 
	$oss_vm_adv
 (
pid_t
 
__pid
, 
__cڡ
 
iovec
 *
__lvec
,

59 
__liovt
,

60 
__cڡ
 
iovec
 *
__rvec
,

61 
__riovt
,

62 
__ags
)

63 
__THROW
;

66 
ssize_t
 
	$oss_vm_wrev
 (
pid_t
 
__pid
, 
__cڡ
 
iovec
 *
__lvec
,

67 
__liovt
,

68 
__cڡ
 
iovec
 *
__rvec
,

69 
__riovt
,

70 
__ags
)

71 
__THROW
;

73 
__END_DECLS


	@/usr/include/bits/wchar.h

20 #ide
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

24 #ifde
__WCHAR_MAX__


25 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

27 
	#__WCHAR_MAX
 (2147483647)

	)

32 #ifde
__WCHAR_UNSIGNED__


33 
	#__WCHAR_MIN
 
L
'\0'

	)

37 #i
L
'\0' - 1 > 0

38 
	#__WCHAR_MIN
 
L
'\0'

	)

40 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/ctype.h

24 #idef 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<us.h
>

28 
	~<bs/tys.h
>

30 
	g__BEGIN_DECLS


32 #ide
_ISb


41 
	~<dn.h
>

42 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#_ISb
(
b
(1 << (b))

	)

45 
	#_ISb
(
b
((b< 8 ? ((1 << (b)<< 8: ((1 << (b)>> 8))

	)

50 
	m_ISu
 = 
_ISb
 (0),

51 
	m_ISlow
 = 
_ISb
 (1),

52 
	m_ISpha
 = 
_ISb
 (2),

53 
	m_ISdig
 = 
_ISb
 (3),

54 
	m_ISxdig
 = 
_ISb
 (4),

55 
	m_ISa
 = 
_ISb
 (5),

56 
	m_ISt
 = 
_ISb
 (6),

57 
	m_ISgph
 = 
_ISb
 (7),

58 
	m_ISbnk
 = 
_ISb
 (8),

59 
	m_ISl
 = 
_ISb
 (9),

60 
	m_ISpun
 = 
_ISb
 (10),

61 
	m_ISnum
 = 
_ISb
 (11)

81 
__cڡ
 **
	$__y_b_loc
 ()

82 
__THROW
 
	`__ibu__
 ((
__cڡ
));

83 
__cڡ
 
__t32_t
 **
	$__y_tow_loc
 ()

84 
__THROW
 
	`__ibu__
 ((
__cڡ
));

85 
__cڡ
 
__t32_t
 **
	$__y_tou_loc
 ()

86 
__THROW
 
	`__ibu__
 ((
__cڡ
));

89 #ide
__lulus


90 
	#__isy
(
c
, 
ty
) \

91 ((*
	`__y_b_loc
 ())[((
c
)] & (
ty
)

	)

92 #i
defed
 
__USE_EXTERN_INLINES


93 
	#__isy_f
(
ty
) \

94 
__ex_le
 \

95 
is
##
	`ty
 (
__c

__THROW
 \

97  (*
	`__y_b_loc
 ())[((
__c
)] & (
_IS
##
ty
; \

98 
	}

	)
}

101 
	#__iscii
(
c
(((c& ~0x7f=0

	)

102 
	#__tscii
(
c
((c& 0x7f

	)

104 
	#__exy
(
me

	`me
 (
__THROW


	)

106 
__BEGIN_NAMESPACE_STD


112 
__exy
 (
ium
);

113 
__exy
 (
iha
);

114 
__exy
 (
isl
);

115 
__exy
 (
isdig
);

116 
__exy
 (
iow
);

117 
__exy
 (
isgph
);

118 
__exy
 (
irt
);

119 
__exy
 (
iun
);

120 
__exy
 (
isa
);

121 
__exy
 (
isu
);

122 
__exy
 (
isxdig
);

126 
	$tow
 (
__c

__THROW
;

129 
	$tou
 (
__c

__THROW
;

131 
__END_NAMESPACE_STD


135 #ifdef 
__USE_ISOC99


136 
__BEGIN_NAMESPACE_C99


138 
	`__exy
 (
isbnk
);

140 
__END_NAMESPACE_C99


143 #ifde
__USE_GNU


145 
	$isy
 (
__c
, 
__mask

__THROW
;

148 #i
defed
 
__USE_SVID
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN


152 
	$iscii
 (
__c

__THROW
;

156 
	$tscii
 (
__c

__THROW
;

160 
	`__exy
 (
_tou
);

161 
	`__exy
 (
_tow
);

165 
	#__tobody
(
c
, 
f
, 
a
, 
gs
) \

166 (
__exnsi__
 \

167 ({ 
__s
; \

168 i( (
c
) > 1) \

170 i(
	`__but_cڡt_p
 (
c
)) \

172 
__c
 = (
c
); \

173 
__s
 = 
__c
 < -128 || __> 255 ? __: (
a
)[__c]; \

176 
__s
 = 
f
 
gs
; \

179 
__s
 = (
a
)[((
c
)]; \

180 
__s
; 
	}
}))

	)

182 #i!
defed
 
__NO_CTYPE


183 #ifde
__isy_f


184 
	$__isy_f
 (
num
)

185 
	$__isy_f
 (
pha
)

186 
	$__isy_f
 (
l
)

187 
	$__isy_f
 (
dig
)

188 
	$__isy_f
 (
low
)

189 
	$__isy_f
 (
gph
)

190 
	$__isy_f
 (
t
)

191 
	$__isy_f
 (
pun
)

192 
	$__isy_f
 (
a
)

193 
	$__isy_f
 (
u
)

194 
	$__isy_f
 (
xdig
)

195 #ifde
__USE_ISOC99


196 
	$__isy_f
 (
bnk
)

198 #i
defed
 
__isy


199 
	#ium
(
c

	`__isy
((c), 
_ISnum
)

	)

200 
	#iha
(
c

	`__isy
((c), 
_ISpha
)

	)

201 
	#isl
(
c

	`__isy
((c), 
_ISl
)

	)

202 
	#isdig
(
c

	`__isy
((c), 
_ISdig
)

	)

203 
	#iow
(
c

	`__isy
((c), 
_ISlow
)

	)

204 
	#isgph
(
c

	`__isy
((c), 
_ISgph
)

	)

205 
	#irt
(
c

	`__isy
((c), 
_ISt
)

	)

206 
	#iun
(
c

	`__isy
((c), 
_ISpun
)

	)

207 
	#isa
(
c

	`__isy
((c), 
_ISa
)

	)

208 
	#isu
(
c

	`__isy
((c), 
_ISu
)

	)

209 
	#isxdig
(
c

	`__isy
((c), 
_ISxdig
)

	)

210 #ifde
__USE_ISOC99


211 
	#isbnk
(
c

	`__isy
((c), 
_ISbnk
)

	)

215 #ifde
__USE_EXTERN_INLINES


216 
__ex_le
 

217 
	`__NTH
 (
	$tow
 (
__c
))

219  
__c
 >-128 && __< 256 ? (*
	`__y_tow_loc
 ())[__c] : __c;

220 
	}
}

222 
__ex_le
 

223 
__NTH
 (
	$tou
 (
__c
))

225  
__c
 >-128 && __< 256 ? (*
	`__y_tou_loc
 ())[__c] : __c;

226 
	}
}

229 #i
__GNUC__
 >2 && 
defed
 
__OPTIMIZE__
 && !defed 
__lulus


230 
	#tow
(
c

	`__tobody
 (c, 
tow
, *
	`__y_tow_loc
 (), (c))

	)

231 
	#tou
(
c

	`__tobody
 (c, 
tou
, *
	`__y_tou_loc
 (), (c))

	)

234 #i
defed
 
__USE_SVID
 || defed 
__USE_MISC
 || defed 
__USE_XOPEN


235 
	#iscii
(
c

	`__iscii
 (c)

	)

236 
	#tscii
(
c

	`__tscii
 (c)

	)

238 
	#_tow
(
c
(((*
	`__y_tow_loc
 ())[((c)])

	)

239 
	#_tou
(
c
(((*
	`__y_tou_loc
 ())[((c)])

	)

245 #ifde
__USE_XOPEN2K8


259 
	~<xlo.h
>

263 
	#__isy_l
(
c
, 
ty
, 
lo
) \

264 ((
lo
)->
__y_b
[((
c
)] & (
ty
)

	)

266 
	#__exy_l
(
me
) \

267 
	`me
 (, 
__lo_t

__THROW


	)

273 
__exy_l
 (
ium_l
);

274 
__exy_l
 (
iha_l
);

275 
__exy_l
 (
isl_l
);

276 
__exy_l
 (
isdig_l
);

277 
__exy_l
 (
iow_l
);

278 
__exy_l
 (
isgph_l
);

279 
__exy_l
 (
irt_l
);

280 
__exy_l
 (
iun_l
);

281 
__exy_l
 (
isa_l
);

282 
__exy_l
 (
isu_l
);

283 
__exy_l
 (
isxdig_l
);

285 
__exy_l
 (
isbnk_l
);

289 
	$__tow_l
 (
__c
, 
__lo_t
 
__l

__THROW
;

290 
	$tow_l
 (
__c
, 
__lo_t
 
__l

__THROW
;

293 
	$__tou_l
 (
__c
, 
__lo_t
 
__l

__THROW
;

294 
	$tou_l
 (
__c
, 
__lo_t
 
__l

__THROW
;

296 #i
__GNUC__
 >2 && 
defed
 
__OPTIMIZE__
 && !defed 
__lulus


297 
	#__tow_l
(
c
, 
lo
) \

298 
	`__tobody
 (
c
, 
__tow_l
, (
lo
)->
__y_tow
, (c,o))

	)

299 
	#__tou_l
(
c
, 
lo
) \

300 
	`__tobody
 (
c
, 
__tou_l
, (
lo
)->
__y_tou
, (c,o))

	)

301 
	#tow_l
(
c
, 
lo

	`__tow_l
 ((c), (lo))

	)

302 
	#tou_l
(
c
, 
lo

	`__tou_l
 ((c), (lo))

	)

306 #ide
__NO_CTYPE


307 
	#__ium_l
(
c
,
l

	`__isy_l
((c), 
_ISnum
, (l))

	)

308 
	#__iha_l
(
c
,
l

	`__isy_l
((c), 
_ISpha
, (l))

	)

309 
	#__isl_l
(
c
,
l

	`__isy_l
((c), 
_ISl
, (l))

	)

310 
	#__isdig_l
(
c
,
l

	`__isy_l
((c), 
_ISdig
, (l))

	)

311 
	#__iow_l
(
c
,
l

	`__isy_l
((c), 
_ISlow
, (l))

	)

312 
	#__isgph_l
(
c
,
l

	`__isy_l
((c), 
_ISgph
, (l))

	)

313 
	#__irt_l
(
c
,
l

	`__isy_l
((c), 
_ISt
, (l))

	)

314 
	#__iun_l
(
c
,
l

	`__isy_l
((c), 
_ISpun
, (l))

	)

315 
	#__isa_l
(
c
,
l

	`__isy_l
((c), 
_ISa
, (l))

	)

316 
	#__isu_l
(
c
,
l

	`__isy_l
((c), 
_ISu
, (l))

	)

317 
	#__isxdig_l
(
c
,
l

	`__isy_l
((c), 
_ISxdig
, (l))

	)

319 
	#__isbnk_l
(
c
,
l

	`__isy_l
((c), 
_ISbnk
, (l))

	)

321 #i
defed
 
__USE_SVID
 || defed 
__USE_MISC


322 
	#__iscii_l
(
c
,
l
(), 
	`__iscii
 (c))

	)

323 
	#__tscii_l
(
c
,
l
(), 
	`__tscii
 (c))

	)

326 
	#ium_l
(
c
,
l

	`__ium_l
 ((c), (l))

	)

327 
	#iha_l
(
c
,
l

	`__iha_l
 ((c), (l))

	)

328 
	#isl_l
(
c
,
l

	`__isl_l
 ((c), (l))

	)

329 
	#isdig_l
(
c
,
l

	`__isdig_l
 ((c), (l))

	)

330 
	#iow_l
(
c
,
l

	`__iow_l
 ((c), (l))

	)

331 
	#isgph_l
(
c
,
l

	`__isgph_l
 ((c), (l))

	)

332 
	#irt_l
(
c
,
l

	`__irt_l
 ((c), (l))

	)

333 
	#iun_l
(
c
,
l

	`__iun_l
 ((c), (l))

	)

334 
	#isa_l
(
c
,
l

	`__isa_l
 ((c), (l))

	)

335 
	#isu_l
(
c
,
l

	`__isu_l
 ((c), (l))

	)

336 
	#isxdig_l
(
c
,
l

	`__isxdig_l
 ((c), (l))

	)

338 
	#isbnk_l
(
c
,
l

	`__isbnk_l
 ((c), (l))

	)

340 #i
defed
 
__USE_SVID
 || defed 
__USE_MISC


341 
	#iscii_l
(
c
,
l

	`__iscii_l
 ((c), (l))

	)

342 
	#tscii_l
(
c
,
l

	`__tscii_l
 ((c), (l))

	)

349 
__END_DECLS


	@/usr/include/gnu/stubs.h

4 
	~<bs/wdsize.h
>

6 #i
__WORDSIZE
 == 32

7 
	~<gnu/ubs-32.h
>

8 #i
__WORDSIZE
 == 64

9 
	~<gnu/ubs-64.h
>

	@/usr/include/linux/errno.h

1 #ide
_LINUX_ERRNO_H


2 
	#_LINUX_ERRNO_H


	)

4 
	~<asm/o.h
>

	@/usr/include/linux/posix_types.h

1 #ide
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<lux/ddef.h
>

21 #unde
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde
__FDELT


31 
	#__FDELT
(
d
((d/ 
__NFDBITS
)

	)

33 #unde
__FDMASK


34 
	#__FDMASK
(
d
(1UL << ((d% 
__NFDBITS
))

	)

37 
	mfds_bs
 [
__FDSET_LONGS
];

38 } 
	t__kl_fd_t
;

41 (*
	t__kl_sighdr_t
)();

44 
	t__kl_key_t
;

45 
	t__kl_mqd_t
;

47 
	~<asm/posix_tys.h
>

	@/usr/include/sys/cdefs.h

20 #idef 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #ide
_FEATURES_H


25 
	~<us.h
>

31 #i
defed
 
__GNUC__
 && !defed 
__STDC__


36 #unde
__P


37 #unde
__PMT


39 #ifde
__GNUC__


43 #i
__GNUC_PREREQ
 (4, 6&& !
defed
 
_LIBC


44 
	#__LEAF
 , 
__af__


	)

45 
	#__LEAF_ATTR
 
	`__ibu__
 ((
__af__
))

	)

47 
	#__LEAF


	)

48 
	#__LEAF_ATTR


	)

56 #i!
defed
 
__lulus
 && 
__GNUC_PREREQ
 (3, 3)

57 
	#__THROW
 
	`__ibu__
 ((
__nhrow__
 
__LEAF
))

	)

58 
	#__THROWNL
 
	`__ibu__
 ((
__nhrow__
))

	)

59 
	#__NTH
(
f

	`__ibu__
 ((
__nhrow__
 
__LEAF
)
	)
fct

61 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (2,8)

62 
	#__THROW
 
	`throw
 ()

	)

63 
	#__THROWNL
 
	`throw
 ()

	)

64 
	#__NTH
(
f

__LEAF_ATTR
 f 
	`throw
 ()

	)

66 
	#__THROW


	)

67 
	#__THROWNL


	)

68 
	#__NTH
(
f

	)
fct

74 
	#__le


	)

76 
	#__THROW


	)

77 
	#__THROWNL


	)

78 
	#__NTH
(
f

	)
fct

80 
	#__cڡ
 cڡ

	)

81 
	#__sigd
 sigd

	)

82 
	#__vީe
 vީe

	)

88 
	#__P
(
gs

	)
args

89 
	#__PMT
(
gs

	)
args

94 
	#__CONCAT
(
x
,
y
x ## 
	)
y

95 
	#__STRING
(
x
#x

	)

98 
	#__r_t
 *

	)

99 
	#__lg_doub_t
 

	)

103 #ifdef 
__lulus


104 
	#__BEGIN_DECLS
 "C" {

	)

105 
	#__END_DECLS
 }

	)

107 
	#__BEGIN_DECLS


	)

108 
	#__END_DECLS


	)

117 #i
defed
 
__lulus
 && defed 
_GLIBCPP_USE_NAMESPACES


118 
	#__BEGIN_NAMESPACE_STD
 
mea
 
d
 {

	)

119 
	#__END_NAMESPACE_STD
 }

	)

120 
	#__USING_NAMESPACE_STD
(
me

usg
 
d
::me;

	)

121 
	#__BEGIN_NAMESPACE_C99
 
mea
 
__c99
 {

	)

122 
	#__END_NAMESPACE_C99
 }

	)

123 
	#__USING_NAMESPACE_C99
(
me

usg
 
__c99
::me;

	)

128 
	#__BEGIN_NAMESPACE_STD


	)

129 
	#__END_NAMESPACE_STD


	)

130 
	#__USING_NAMESPACE_STD
(
me
)

	)

131 
	#__BEGIN_NAMESPACE_C99


	)

132 
	#__END_NAMESPACE_C99


	)

133 
	#__USING_NAMESPACE_C99
(
me
)

	)

138 #ide
__BOUNDED_POINTERS__


139 
	#__bounded


	)

140 
	#__unbounded


	)

141 
	#__rvue


	)

146 
	#__bos
(
r

	`__but_obje_size
 (r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

147 
	#__bos0
(
r

	`__but_obje_size
 (r, 0)

	)

149 #i
__GNUC_PREREQ
 (4,3)

150 
	#__wnde
(
me
, 
msg
) \

151 
	`me
 (
	`__ibu__
((
	`__wng__
 (
msg
)))

	)

152 
	#__wǉr
(
msg

	`__ibu__
((
	`__wng__
 (msg)))

	)

153 
	#__rde
(
me
, 
msg
) \

154 
	`me
 (
	`__ibu__
((
	`__r__
 (
msg
)))

	)

156 
	#__wnde
(
me
, 
msg

	`me
 ()

	)

157 
	#__wǉr
(
msg
)

	)

158 
	#__rde
(
me
, 
msg

	`me
 ()

	)

162 #i
__GNUC_PREREQ
 (2,97)

164 
	#__exr
 []

	)

166 #ifde
__GNUC__


167 
	#__exr
 [0]

	)

169 #i
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

170 
	#__exr
 []

	)

173 
	#__exr
 [1]

	)

189 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

191 
	#__REDIRECT
(
me
, 
o
, 
s
m
	`__asm__
 (
	`__ASMNAME
 (#s))

	)

192 #ifde
__lulus


193 
	#__REDIRECT_NTH
(
me
, 
o
, 
s
) \

194 
me
 
o
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#s))

	)

195 
	#__REDIRECT_NTHNL
(
me
, 
o
, 
s
) \

196 
me
 
o
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#s))

	)

198 
	#__REDIRECT_NTH
(
me
, 
o
, 
s
) \

199 
me
 
o
 
	`__asm__
 (
	`__ASMNAME
 (#s)
__THROW


	)

200 
	#__REDIRECT_NTHNL
(
me
, 
o
, 
s
) \

201 
me
 
o
 
	`__asm__
 (
	`__ASMNAME
 (#s)
__THROWNL


	)

203 
	#__ASMNAME
(
ame

	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cme)

	)

204 
	#__ASMNAME2
(
efix
, 
ame

	`__STRING
 (efix
	)
cname

217 #i!
defed
 
__GNUC__
 || __GNUC__ < 2

218 
	#__ibu__
(
xyz


	)

224 #i
__GNUC_PREREQ
 (2,96)

225 
	#__ibu_mloc__
 
	`__ibu__
 ((
__mloc__
))

	)

227 
	#__ibu_mloc__


	)

233 #i
__GNUC_PREREQ
 (2,96)

234 
	#__ibu_pu__
 
	`__ibu__
 ((
__pu__
))

	)

236 
	#__ibu_pu__


	)

240 #i
__GNUC_PREREQ
 (2,5)

241 
	#__ibu_cڡ__
 
	`__ibu__
 ((
__cڡ__
))

	)

243 
	#__ibu_cڡ__


	)

249 #i
__GNUC_PREREQ
 (3,1)

250 
	#__ibu_ud__
 
	`__ibu__
 ((
__ud__
))

	)

251 
	#__ibu_nole__
 
	`__ibu__
 ((
__nole__
))

	)

253 
	#__ibu_ud__
 
	`__ibu__
 ((
__unud__
))

	)

254 
	#__ibu_nole__


	)

258 #i
__GNUC_PREREQ
 (3,2)

259 
	#__ibu_dd__
 
	`__ibu__
 ((
__dd__
))

	)

261 
	#__ibu_dd__


	)

270 #i
__GNUC_PREREQ
 (2,8)

271 
	#__ibu_fm_g__
(
x

	`__ibu__
 ((
	`__fm_g__
 (x)))

	)

273 
	#__ibu_fm_g__
(
x


	)

280 #i
__GNUC_PREREQ
 (2,97)

281 
	#__ibu_fm_rfm__
(
a
,
b
) \

282 
	`__ibu__
 ((
	`__fm__
 (
__rfm__
, 
a
, 
b
)))

	)

284 
	#__ibu_fm_rfm__
(
a
,
b


	)

289 #i
__GNUC_PREREQ
 (3,3)

290 
	#__nnu
(
ms

	`__ibu__
 ((
__nnu__
ams))

	)

292 
	#__nnu
(
ms
)

	)

297 #i
__GNUC_PREREQ
 (3,4)

298 
	#__ibu_wn_unud_su__
 \

299 
	`__ibu__
 ((
__wn_unud_su__
))

	)

300 #i
__USE_FORTIFY_LEVEL
 > 0

301 
	#__wur
 
__ibu_wn_unud_su__


	)

304 
	#__ibu_wn_unud_su__


	)

306 #ide
__wur


307 
	#__wur


	)

311 #i
__GNUC_PREREQ
 (3,2)

312 
	#__ways_le
 
__le
 
	`__ibu__
 ((
__ways_le__
))

	)

314 
	#__ways_le
 
__le


	)

319 #i!
defed
 
__lulus
 || 
__GNUC_PREREQ
 (4,3)

320 #i
defed
 
__GNUC_STDC_INLINE__
 || defed 
__lulus


321 
	#__ex_le
 
__le
 
	`__ibu__
 ((
__gnu_le__
))

	)

322 #i
__GNUC_PREREQ
 (4,3)

323 
	#__ex_ways_le
 \

324 
__ways_le
 
	`__ibu__
 ((
__gnu_le__
, 
__tificl__
))

	)

326 
	#__ex_ways_le
 \

327 
__ways_le
 
	`__ibu__
 ((
__gnu_le__
))

	)

330 
	#__ex_le
 
__le


	)

331 #i
__GNUC_PREREQ
 (4,3)

332 
	#__ex_ways_le
 \

333 
__ways_le
 
	`__ibu__
 ((
__tificl__
))

	)

335 
	#__ex_ways_le
 
__ways_le


	)

342 #i
__GNUC_PREREQ
 (4,3)

343 
	#__va_g_ck
(
	`__but_va_g_ck
 ()

	)

344 
	#__va_g_ck_n
(
	`__but_va_g_ck_n
 ()

	)

351 #i!
__GNUC_PREREQ
 (2,8)

352 
	#__exnsi__


	)

356 #i!
__GNUC_PREREQ
 (2,92)

357 
	#__ri


	)

363 #i
__GNUC_PREREQ
 (3,1&& !
defed
 
__GNUG__


364 
	#__ri_r
 
__ri


	)

366 #ifde
__GNUC__


367 
	#__ri_r


	)

369 #i
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

370 
	#__ri_r
 
ri


	)

373 
	#__ri_r


	)

378 
	~<bs/wdsize.h
>

380 #i
defed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defed 
__NO_LONG_DOUBLE_MATH


381 
	#__LDBL_COMPAT
 1

	)

382 #ifde
__REDIRECT


383 
	#__LDBL_REDIR1
(
me
, 
o
, 
s

	`__REDIRECT
 (me,ro,ls)

	)

384 
	#__LDBL_REDIR
(
me
, 
o
) \

385 
	`__LDBL_REDIR1
 (
me
, 
o
, 
__dbl_
##me)

	)

386 
	#__LDBL_REDIR1_NTH
(
me
, 
o
, 
s

	`__REDIRECT_NTH
 (me,ro,ls)

	)

387 
	#__LDBL_REDIR_NTH
(
me
, 
o
) \

388 
	`__LDBL_REDIR1_NTH
 (
me
, 
o
, 
__dbl_
##me)

	)

389 
	#__LDBL_REDIR1_DECL
(
me
, 
s
) \

390 
	`__tyof
 (
me
m
	`__asm
 (
	`__ASMNAME
 (#s));

	)

391 
	#__LDBL_REDIR_DECL
(
me
) \

392 
	`__tyof
 (
me
m
	`__asm
 (
	`__ASMNAME
 ("__dbl_" #me));

	)

393 
	#__REDIRECT_LDBL
(
me
, 
o
, 
s
) \

394 
	`__LDBL_REDIR1
 (
me
, 
o
, 
__dbl_
##
s
)

	)

395 
	#__REDIRECT_NTH_LDBL
(
me
, 
o
, 
s
) \

396 
	`__LDBL_REDIR1_NTH
 (
me
, 
o
, 
__dbl_
##
s
)

	)

399 #i!
defed
 
__LDBL_COMPAT
 || !defed 
__REDIRECT


400 
	#__LDBL_REDIR1
(
me
, 
o
, 
s
m
	)
proto

401 
	#__LDBL_REDIR
(
me
, 
o
m
	)
proto

402 
	#__LDBL_REDIR1_NTH
(
me
, 
o
, 
s
m
__THROW


	)

403 
	#__LDBL_REDIR_NTH
(
me
, 
o
m
__THROW


	)

404 
	#__LDBL_REDIR_DECL
(
me
)

	)

405 #ifde
__REDIRECT


406 
	#__REDIRECT_LDBL
(
me
, 
o
, 
s

	`__REDIRECT
 (me,ro,ls)

	)

407 
	#__REDIRECT_NTH_LDBL
(
me
, 
o
, 
s
) \

408 
	`__REDIRECT_NTH
 (
me
, 
o
, 
s
)

	)

	@/usr/include/asm-generic/ioctls.h

1 #ide
__ASM_GENERIC_IOCTLS_H


2 
	#__ASM_GENERIC_IOCTLS_H


	)

4 
	~<lux/iol.h
>

19 
	#TCGETS
 0x5401

	)

20 
	#TCSETS
 0x5402

	)

21 
	#TCSETSW
 0x5403

	)

22 
	#TCSETSF
 0x5404

	)

23 
	#TCGETA
 0x5405

	)

24 
	#TCSETA
 0x5406

	)

25 
	#TCSETAW
 0x5407

	)

26 
	#TCSETAF
 0x5408

	)

27 
	#TCSBRK
 0x5409

	)

28 
	#TCXONC
 0x540A

	)

29 
	#TCFLSH
 0x540B

	)

30 
	#TIOCEXCL
 0x540C

	)

31 
	#TIOCNXCL
 0x540D

	)

32 
	#TIOCSCTTY
 0x540E

	)

33 
	#TIOCGPGRP
 0x540F

	)

34 
	#TIOCSPGRP
 0x5410

	)

35 
	#TIOCOUTQ
 0x5411

	)

36 
	#TIOCSTI
 0x5412

	)

37 
	#TIOCGWINSZ
 0x5413

	)

38 
	#TIOCSWINSZ
 0x5414

	)

39 
	#TIOCMGET
 0x5415

	)

40 
	#TIOCMBIS
 0x5416

	)

41 
	#TIOCMBIC
 0x5417

	)

42 
	#TIOCMSET
 0x5418

	)

43 
	#TIOCGSOFTCAR
 0x5419

	)

44 
	#TIOCSSOFTCAR
 0x541A

	)

45 
	#FIONREAD
 0x541B

	)

46 
	#TIOCINQ
 
FIONREAD


	)

47 
	#TIOCLINUX
 0x541C

	)

48 
	#TIOCCONS
 0x541D

	)

49 
	#TIOCGSERIAL
 0x541E

	)

50 
	#TIOCSSERIAL
 0x541F

	)

51 
	#TIOCPKT
 0x5420

	)

52 
	#FIONBIO
 0x5421

	)

53 
	#TIOCNOTTY
 0x5422

	)

54 
	#TIOCSETD
 0x5423

	)

55 
	#TIOCGETD
 0x5424

	)

56 
	#TCSBRKP
 0x5425

	)

57 
	#TIOCSBRK
 0x5427

	)

58 
	#TIOCCBRK
 0x5428

	)

59 
	#TIOCGSID
 0x5429

	)

60 
	#TCGETS2
 
	`_IOR
('T', 0x2A, 
rmios2
)

	)

61 
	#TCSETS2
 
	`_IOW
('T', 0x2B, 
rmios2
)

	)

62 
	#TCSETSW2
 
	`_IOW
('T', 0x2C, 
rmios2
)

	)

63 
	#TCSETSF2
 
	`_IOW
('T', 0x2D, 
rmios2
)

	)

64 
	#TIOCGRS485
 0x542E

	)

65 #ide
TIOCSRS485


66 
	#TIOCSRS485
 0x542F

	)

68 
	#TIOCGPTN
 
	`_IOR
('T', 0x30, 

	)

69 
	#TIOCSPTLCK
 
	`_IOW
('T', 0x31, 

	)

70 
	#TIOCGDEV
 
	`_IOR
('T', 0x32, 

	)

71 
	#TCGETX
 0x5432

	)

72 
	#TCSETX
 0x5433

	)

73 
	#TCSETXF
 0x5434

	)

74 
	#TCSETXW
 0x5435

	)

75 
	#TIOCSIG
 
	`_IOW
('T', 0x36, 

	)

76 
	#TIOCVHANGUP
 0x5437

	)

78 
	#FIONCLEX
 0x5450

	)

79 
	#FIOCLEX
 0x5451

	)

80 
	#FIOASYNC
 0x5452

	)

81 
	#TIOCSERCONFIG
 0x5453

	)

82 
	#TIOCSERGWILD
 0x5454

	)

83 
	#TIOCSERSWILD
 0x5455

	)

84 
	#TIOCGLCKTRMIOS
 0x5456

	)

85 
	#TIOCSLCKTRMIOS
 0x5457

	)

86 
	#TIOCSERGSTRUCT
 0x5458

	)

87 
	#TIOCSERGETLSR
 0x5459

	)

88 
	#TIOCSERGETMULTI
 0x545A

	)

89 
	#TIOCSERSETMULTI
 0x545B

	)

91 
	#TIOCMIWAIT
 0x545C

	)

92 
	#TIOCGICOUNT
 0x545D

	)

98 #ide
FIOQSIZE


99 
	#FIOQSIZE
 0x5460

	)

103 
	#TIOCPKT_DATA
 0

	)

104 
	#TIOCPKT_FLUSHREAD
 1

	)

105 
	#TIOCPKT_FLUSHWRITE
 2

	)

106 
	#TIOCPKT_STOP
 4

	)

107 
	#TIOCPKT_START
 8

	)

108 
	#TIOCPKT_NOSTOP
 16

	)

109 
	#TIOCPKT_DOSTOP
 32

	)

110 
	#TIOCPKT_IOCTL
 64

	)

112 
	#TIOCSER_TEMT
 0x01

	)

	@/usr/include/asm-generic/socket.h

1 #ide
__ASM_GENERIC_SOCKET_H


2 
	#__ASM_GENERIC_SOCKET_H


	)

4 
	~<asm/sockios.h
>

7 
	#SOL_SOCKET
 1

	)

9 
	#SO_DEBUG
 1

	)

10 
	#SO_REUSEADDR
 2

	)

11 
	#SO_TYPE
 3

	)

12 
	#SO_ERROR
 4

	)

13 
	#SO_DONTROUTE
 5

	)

14 
	#SO_BROADCAST
 6

	)

15 
	#SO_SNDBUF
 7

	)

16 
	#SO_RCVBUF
 8

	)

17 
	#SO_SNDBUFFORCE
 32

	)

18 
	#SO_RCVBUFFORCE
 33

	)

19 
	#SO_KEEPALIVE
 9

	)

20 
	#SO_OOBINLINE
 10

	)

21 
	#SO_NO_CHECK
 11

	)

22 
	#SO_PRIORITY
 12

	)

23 
	#SO_LINGER
 13

	)

24 
	#SO_BSDCOMPAT
 14

	)

27 #ide
SO_PASSCRED


28 
	#SO_PASSCRED
 16

	)

29 
	#SO_PEERCRED
 17

	)

30 
	#SO_RCVLOWAT
 18

	)

31 
	#SO_SNDLOWAT
 19

	)

32 
	#SO_RCVTIMEO
 20

	)

33 
	#SO_SNDTIMEO
 21

	)

37 
	#SO_SECURITY_AUTHENTICATION
 22

	)

38 
	#SO_SECURITY_ENCRYPTION_TRANSPORT
 23

	)

39 
	#SO_SECURITY_ENCRYPTION_NETWORK
 24

	)

41 
	#SO_BINDTODEVICE
 25

	)

44 
	#SO_ATTACH_FILTER
 26

	)

45 
	#SO_DETACH_FILTER
 27

	)

47 
	#SO_PEERNAME
 28

	)

48 
	#SO_TIMESTAMP
 29

	)

49 
	#SCM_TIMESTAMP
 
SO_TIMESTAMP


	)

51 
	#SO_ACCEPTCONN
 30

	)

53 
	#SO_PEERSEC
 31

	)

54 
	#SO_PASSSEC
 34

	)

55 
	#SO_TIMESTAMPNS
 35

	)

56 
	#SCM_TIMESTAMPNS
 
SO_TIMESTAMPNS


	)

58 
	#SO_MARK
 36

	)

60 
	#SO_TIMESTAMPING
 37

	)

61 
	#SCM_TIMESTAMPING
 
SO_TIMESTAMPING


	)

63 
	#SO_PROTOCOL
 38

	)

64 
	#SO_DOMAIN
 39

	)

66 
	#SO_RXQ_OVFL
 40

	)

	@/usr/include/asm-generic/types.h

1 #ide
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-gic/t-64.h
>

9 #ide
__ASSEMBLY__


11 
	tumode_t
;

	@/usr/include/asm/errno.h

1 
	~<asm-gic/o.h
>

	@/usr/include/asm/posix_types.h

1 #ifde
__i386__


2 
	~<asm/posix_tys_32.h
>

4 
	~<asm/posix_tys_64.h
>

	@/usr/include/bits/libc-lock.h

20 #ide
_BITS_LIBC_LOCK_H


21 
	#_BITS_LIBC_LOCK_H
 1

	)

23 
	~<had.h
>

24 
	#__ed_NULL


	)

25 
	~<ddef.h
>

34 #ifde
_LIBC


35 
	~<lowvlock.h
>

36 
	~<s.h
>

37 
	~<had-funis.h
>

38 
	~<o.h
>

39 
	~<gnu/ti-groups.h
>

43 #i
defed
 
_LIBC
 || defed 
_IO_MTSAFE_IO


44 #i(
defed
 
NOT_IN_libc
 && !defed 
IS_IN_libhad
|| !defed 
_LIBC


45 
had_mux_t
 
	t__libc_lock_t
;

46 ru { 
had_mux_t
 
	mmux
; } 
	t__libc_lock_cursive_t
;

48 
	t__libc_lock_t
;

49 ru { 
	mlock
; 
	mt
; *
	mowr
; } 
	t__libc_lock_cursive_t
;

51 ru { 
had_mux_t
 
	mmux
; } 
	t__ld_lock_cursive_t
;

52 #ifde
__USE_UNIX98


53 
had_rwlock_t
 
	t__libc_rwlock_t
;

55 
__libc_rwlock_aque__
 
	t__libc_rwlock_t
;

58 
__libc_lock_aque__
 
	t__libc_lock_t
;

59 
__libc_lock_cursive_aque__
 
	t__libc_lock_cursive_t
;

60 
__libc_rwlock_aque__
 
	t__libc_rwlock_t
;

64 
had_key_t
 
	t__libc_key_t
;

73 
	#__libc_lock_defe
(
CLASS
,
NAME
) \

74 
CLASS
 
__libc_lock_t
 
NAME
;

	)

75 
	#__libc_rwlock_defe
(
CLASS
,
NAME
) \

76 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

77 
	#__libc_lock_defe_cursive
(
CLASS
,
NAME
) \

78 
CLASS
 
__libc_lock_cursive_t
 
NAME
;

	)

79 
	#__ld_lock_defe_cursive
(
CLASS
,
NAME
) \

80 
CLASS
 
__ld_lock_cursive_t
 
NAME
;

	)

91 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

92 #i
LLL_LOCK_INITIALIZER
 == 0

93 
	#__libc_lock_defe_lized
(
CLASS
,
NAME
) \

94 
CLASS
 
__libc_lock_t
 
NAME
;

	)

96 
	#__libc_lock_defe_lized
(
CLASS
,
NAME
) \

97 
CLASS
 
__libc_lock_t
 
NAME
 = 
LLL_LOCK_INITIALIZER
;

	)

100 #i
__LT_SPINLOCK_INIT
 == 0

101 
	#__libc_lock_defe_lized
(
CLASS
,
NAME
) \

102 
CLASS
 
__libc_lock_t
 
NAME
;

	)

104 
	#__libc_lock_defe_lized
(
CLASS
,
NAME
) \

105 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

109 
	#__libc_rwlock_defe_lized
(
CLASS
,
NAME
) \

110 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

114 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

115 #i
LLL_LOCK_INITIALIZER
 == 0

116 
	#__libc_lock_defe_lized_cursive
(
CLASS
,
NAME
) \

117 
CLASS
 
__libc_lock_cursive_t
 
NAME
;

	)

119 
	#__libc_lock_defe_lized_cursive
(
CLASS
,
NAME
) \

120 
CLASS
 
__libc_lock_cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

122 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

123 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

125 
	#__libc_lock_defe_lized_cursive
(
CLASS
,
NAME
) \

126 
CLASS
 
__libc_lock_cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

127 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

128 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

131 
	#__ld_lock_defe_lized_cursive
(
CLASS
,
NAME
) \

132 
CLASS
 
__ld_lock_cursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

133 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

134 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

136 
	#__ld_lock_lize
(
NAME
) \

137 (((
NAME
(
__ld_lock_cursive_t

_RTLD_LOCK_RECURSIVE_INITIALIZER
)

	)

144 #ifde
__PIC__


145 
	#__libc_maybe_
(
FUNC
, 
ARGS
, 
ELSE
) \

146 (
	`__exnsi__
 ({ 
	`__tyof
 (
FUNC
*
_
 = (FUNC); \

147 
_
 !
NULL
 ? (*_
ARGS
 : 
ELSE
; }))

	)

149 
	#__libc_maybe_
(
FUNC
, 
ARGS
, 
ELSE
) \

150 (
FUNC
 !
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

154 #i
defed
 
SHARED
 && !defed 
NOT_IN_libc


155 
	#PTFAVAIL
(
NAME

__libc_had_funis_


	)

156 
	#__libc_f_
(
FUNC
, 
ARGS
, 
ELSE
) \

157 (
__libc_had_funis_
 ? 
	`PTHFCT_CALL
 (
r_
##
FUNC
, 
ARGS
: 
ELSE
)

	)

158 
	#__libc_f__ways
(
FUNC
, 
ARGS
) \

159 
	`PTHFCT_CALL
 (
r_
##
FUNC
, 
ARGS
)

	)

161 
	#PTFAVAIL
(
NAME
(NAME !
NULL
)

	)

162 
	#__libc_f_
(
FUNC
, 
ARGS
, 
ELSE
) \

163 
	`__libc_maybe_
 (
FUNC
, 
ARGS
, 
ELSE
)

	)

164 
	#__libc_f__ways
(
FUNC
, 
ARGS
) \

165 
FUNC
 
ARGS


	)

171 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

172 
	#__libc_lock_
(
NAME
((NAME
LLL_LOCK_INITIALIZER
, 0)

	)

174 
	#__libc_lock_
(
NAME
) \

175 
	`__libc_maybe_
 (
__had_mux_
, (&(
NAME
), 
NULL
), 0)

	)

177 #i
defed
 
SHARED
 && !defed 
NOT_IN_libc


180 
	#__libc_rwlock_
(
NAME
) \

181 (
	`__but_memt
 (&(
NAME
), '\0',  (NAME)), 0)

	)

183 
	#__libc_rwlock_
(
NAME
) \

184 
	`__libc_maybe_
 (
__had_rwlock_
, (&(
NAME
), 
NULL
), 0)

	)

188 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

189 
	#__libc_lock__cursive
(
NAME
) \

190 ((
NAME
(
__libc_lock_cursive_t

_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

192 
	#__libc_lock__cursive
(
NAME
) \

194 i(
__had_mux_
 !
NULL
) \

196 
had_mux_t
 
__
; \

197 
	`__had_mux_
 (&
__
); \

198 
	`__had_mux_y
 (&
__
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

199 
	`__had_mux_
 (&(
NAME
).
mux
, &
__
); \

200 
	`__had_mux_deroy
 (&
__
); \

202 } 0)

	)

205 
	#__ld_lock__cursive
(
NAME
) \

207 i(
__had_mux_
 !
NULL
) \

209 
had_mux_t
 
__
; \

210 
	`__had_mux_
 (&
__
); \

211 
	`__had_mux_y
 (&
__
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

212 
	`__had_mux_
 (&(
NAME
).
mux
, &
__
); \

213 
	`__had_mux_deroy
 (&
__
); \

215 } 0)

	)

220 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

221 
	#__libc_lock_fi
(
NAME
((0)

	)

223 
	#__libc_lock_fi
(
NAME
) \

224 
	`__libc_maybe_
 (
__had_mux_deroy
, (&(
NAME
)), 0)

	)

226 #i
defed
 
SHARED
 && !defed 
NOT_IN_libc


227 
	#__libc_rwlock_fi
(
NAME
((0)

	)

229 
	#__libc_rwlock_fi
(
NAME
) \

230 
	`__libc_maybe_
 (
__had_rwlock_deroy
, (&(
NAME
)), 0)

	)

234 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

235 
	#__libc_lock_fi_cursive
(
NAME
((0)

	)

237 
	#__libc_lock_fi_cursive
(
NAME
) \

238 
	`__libc_maybe_
 (
__had_mux_deroy
, (&(
NAME
)), 0)

	)

242 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

243 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

247 
__libc_lock_lock_
 (
__libc_lock_t
 *);

248 
libc_hidd_o
 (
__libc_lock_lock_
);

250 #i
__OPTION_EGLIBC_BIG_MACROS


251 
	#__libc_lock_lock
(
NAME
) \

252 ({ 
	`l_lock
 (
NAME
, 
LLL_PRIVATE
); 0; })

	)

254 
	#__libc_lock_lock
(
NAME
) \

255 
	`__libc_lock_lock_
 (&(
NAME
))

	)

258 
	#__libc_lock_lock
(
NAME
) \

259 
	`__libc_maybe_
 (
__had_mux_lock
, (&(
NAME
)), 0)

	)

261 
	#__libc_rwlock_rdlock
(
NAME
) \

262 
	`__libc_f_
 (
__had_rwlock_rdlock
, (&(
NAME
)), 0)

	)

263 
	#__libc_rwlock_wock
(
NAME
) \

264 
	`__libc_f_
 (
__had_rwlock_wock
, (&(
NAME
)), 0)

	)

267 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

268 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

272 
__libc_lock_lock_cursive_
 (
__libc_lock_cursive_t
 *);

273 
libc_hidd_o
 (
__libc_lock_lock_cursive_
);

275 #i
__OPTION_EGLIBC_BIG_MACROS


276 
	#__libc_lock_lock_cursive
(
NAME
) \

278 *
lf
 = 
THREAD_SELF
; \

279 i((
NAME
).
owr
 !
lf
) \

281 
	`l_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

282 (
NAME
).
owr
 = 
lf
; \

284 ++(
NAME
).
t
; \

285 } 0)

	)

287 
	#__libc_lock_lock_cursive
(
NAME
) \

288 
	`__libc_lock_lock_cursive_
 (&(
NAME
))

	)

291 
	#__libc_lock_lock_cursive
(
NAME
) \

292 
	`__libc_maybe_
 (
__had_mux_lock
, (&(
NAME
).
mux
), 0)

	)

296 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

297 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

301 
__libc_lock_ylock_
 (
__libc_lock_t
 *);

302 
libc_hidd_o
 (
__libc_lock_ylock_
);

304 #i
__OPTION_EGLIBC_BIG_MACROS


305 
	#__libc_lock_ylock
(
NAME
) \

306 
	`l_ylock
 (
NAME
)

	)

308 
	#__libc_lock_ylock
(
NAME
) \

309 
	`__libc_lock_ylock_
 (&(
NAME
))

	)

312 
	#__libc_lock_ylock
(
NAME
) \

313 
	`__libc_maybe_
 (
__had_mux_ylock
, (&(
NAME
)), 0)

	)

315 
	#__libc_rwlock_yrdlock
(
NAME
) \

316 
	`__libc_maybe_
 (
__had_rwlock_yrdlock
, (&(
NAME
)), 0)

	)

317 
	#__libc_rwlock_ywock
(
NAME
) \

318 
	`__libc_maybe_
 (
__had_rwlock_ywock
, (&(
NAME
)), 0)

	)

321 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

322 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

326 
__libc_lock_ylock_cursive_
 (
__libc_lock_cursive_t
 *);

327 
libc_hidd_o
 (
__libc_lock_ylock_cursive_
);

329 #i
__OPTION_EGLIBC_BIG_MACROS


330 
	#__libc_lock_ylock_cursive
(
NAME
) \

332 
su
 = 0; \

333 *
lf
 = 
THREAD_SELF
; \

334 i((
NAME
).
owr
 !
lf
) \

336 i(
	`l_ylock
 ((
NAME
).
lock
) == 0) \

338 (
NAME
).
owr
 = 
lf
; \

339 (
NAME
).
t
 = 1; \

342 
su
 = 
EBUSY
; \

345 ++(
NAME
).
t
; \

346 
su
; \

347 })

	)

349 
	#__libc_lock_ylock_cursive
(
NAME
) \

350 
	`__libc_lock_ylock_cursive_
 (&(
NAME
))

	)

353 
	#__libc_lock_ylock_cursive
(
NAME
) \

354 
	`__libc_maybe_
 (
__had_mux_ylock
, (&(
NAME
)), 0)

	)

357 
	#__ld_lock_ylock_cursive
(
NAME
) \

358 
	`__libc_maybe_
 (
__had_mux_ylock
, (&(
NAME
).
mux
), 0)

	)

361 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

362 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

366 
__libc_lock_uock_
 (
__libc_lock_t
 *);

367 
libc_hidd_o
 (
__libc_lock_uock_
);

369 #i
__OPTION_EGLIBC_BIG_MACROS


370 
	#__libc_lock_uock
(
NAME
) \

371 
	`l_uock
 (
NAME
, 
LLL_PRIVATE
)

	)

373 
	#__libc_lock_uock
(
NAME
) \

374 
	`__libc_lock_uock_
 (&(
NAME
))

	)

377 
	#__libc_lock_uock
(
NAME
) \

378 
	`__libc_maybe_
 (
__had_mux_uock
, (&(
NAME
)), 0)

	)

380 
	#__libc_rwlock_uock
(
NAME
) \

381 
	`__libc_f_
 (
__had_rwlock_uock
, (&(
NAME
)), 0)

	)

384 #i
defed
 
_LIBC
 && (!defed 
NOT_IN_libc
 || defed 
IS_IN_libhad
)

385 #i
__OPTION_EGLIBC_BIG_MACROS
 != 1

389 
__libc_lock_uock_cursive_
 (
__libc_lock_cursive_t
 *);

390 
libc_hidd_o
 (
__libc_lock_uock_cursive_
);

392 #i
__OPTION_EGLIBC_BIG_MACROS


394 
	#__libc_lock_uock_cursive
(
NAME
) \

396 i(--(
NAME
).
t
 == 0) \

398 (
NAME
).
owr
 = 
NULL
; \

399 
	`l_uock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

401 } 0)

	)

403 
	#__libc_lock_uock_cursive
(
NAME
) \

404 
	`__libc_lock_uock_cursive_
 (&(
NAME
))

	)

407 
	#__libc_lock_uock_cursive
(
NAME
) \

408 
	`__libc_maybe_
 (
__had_mux_uock
, (&(
NAME
)), 0)

	)

411 #i
defed
 
_LIBC
 && defed 
SHARED


412 
	#__ld_lock_deu_lock_cursive
(
lock
) \

413 ++((
had_mux_t
 *)(
lock
))->
__da
.
__cou
;

	)

415 
	#__ld_lock_deu_uock_cursive
(
lock
) \

416 --((
had_mux_t
 *)(
lock
))->
__da
.
__cou
;

	)

418 
	#__ld_lock_lock_cursive
(
NAME
) \

419 
	`GL
(
dl_ld_lock_cursive
(&(
NAME
).
mux
)

	)

421 
	#__ld_lock_uock_cursive
(
NAME
) \

422 
	`GL
(
dl_ld_uock_cursive
(&(
NAME
).
mux
)

	)

424 
	#__ld_lock_lock_cursive
(
NAME
) \

425 
	`__libc_maybe_
 (
__had_mux_lock
, (&(
NAME
).
mux
), 0)

	)

427 
	#__ld_lock_uock_cursive
(
NAME
) \

428 
	`__libc_maybe_
 (
__had_mux_uock
, (&(
NAME
).
mux
), 0)

	)

432 #i
PTHREAD_ONCE_INIT
 == 0

435 
	#__libc__defe
(
CLASS
, 
NAME
) \

436 
CLASS
 
had__t
 
NAME


	)

438 
	#__libc__defe
(
CLASS
, 
NAME
) \

439 
CLASS
 
had__t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

443 
	#__libc_
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

445 i(
	`PTFAVAIL
 (
__had_
)) \

446 
	`__libc_f__ways
 (
__had_
, (&(
ONCE_CONTROL
), \

447 
INIT_FUNCTION
)); \

448 i((
ONCE_CONTROL
=
PTHREAD_ONCE_INIT
) { \

449 
	`INIT_FUNCTION
 (); \

450 (
ONCE_CONTROL
) |= 2; \

452 } 0)

	)

459 
_had_nup_push
 (
_had_nup_bufr
 *
bufr
,

460 (*
route
(*), *
g
);

461 
	`_had_nup_p
 (
_had_nup_bufr
 *
bufr
,

462 
execu
);

463 
	`_had_nup_push_der
 (
_had_nup_bufr
 *
bufr
,

464 (*
route
(*), *
g
);

465 
	`_had_nup_p_e
 (
_had_nup_bufr
 *
bufr
,

466 
execu
);

469 
	#__libc_nup_gi_t
(
DOIT
, 
FCT
, 
ARG
) \

470 { 
_had_nup_bufr
 
_bufr
; \

471 
_ava
; \

472 i(
DOIT
) { \

473 
_ava
 = 
	`PTFAVAIL
 (
_had_nup_push_der
); \

474 i(
_ava
) { \

475 
	`__libc_f__ways
 (
_had_nup_push_der
, (&
_bufr
, 
FCT
, \

476 
ARG
)); \

478 
_bufr
.
__route
 = (
FCT
); \

479 
_bufr
.
__g
 = (
ARG
); \

482 
_ava
 = 0; \

483 }

	)

486 
	#__libc_nup_gi_d
(
DOIT
) \

487 i(
_ava
) { \

488 
	`__libc_f__ways
 (
_had_nup_p_e
, (&
_bufr
, 
DOIT
));\

489 } i(
DOIT
) \

490 
_bufr
.
	`__route
 (_bufr.
__g
); \

491 
	}

	)
}

494 
	#__libc_nup_d
(
DOIT
) \

495 i(
_ava
) { \

496 
	`__libc_f__ways
 (
_had_nup_p_e
, (&
_bufr
, 
DOIT
));\

497 } i(
DOIT
) \

498 
_bufr
.
	`__route
 (_bufr.
__g
)

	)

502 
__ex_le
 

503 
	$__libc_nup_route
 (
__had_nup_ame
 *
f
)

505 i(
f
->
__do_
)

506 
f
->
	`__nl_route
 (f->
__nl_g
);

507 
	}
}

509 
	#__libc_nup_push
(
f
, 
g
) \

511 
__had_nup_ame
 
__ame
 \

512 
	`__ibu__
 ((
	`__nup__
 (
__libc_nup_route
))) \

513 { .
__nl_route
 = (
f
), .
__nl_g
 = (
g
), \

514 .
__do_
 = 1 };

	)

516 
	#__libc_nup_p
(
execu
) \

517 
__ame
.
__do_
 = (
execu
); \

518 } 0)

	)

522 
	#__libc_key_
(
KEY
, 
DESTRUCTOR
) \

523 
	`__libc_f_
 (
__had_key_
, (
KEY
, 
DESTRUCTOR
), 1)

	)

526 
	#__libc_gecific
(
KEY
) \

527 
	`__libc_f_
 (
__had_gecific
, (
KEY
), 
NULL
)

	)

530 
	#__libc_tecific
(
KEY
, 
VALUE
) \

531 
	`__libc_f_
 (
__had_tecific
, (
KEY
, 
VALUE
), 0)

	)

537 
	#__libc_fk
(
PREPARE
, 
PARENT
, 
CHILD
) \

538 
	`__gi_fk
 (
PREPARE
, 
PARENT
, 
CHILD
, 
NULL
)

	)

539 
__gi_fk
 ((*
__e
) (),

540 (*
__
) (),

541 (*
__chd
) (),

542 *
__dso_hd
);

547 
	`__had_mux_
 (
had_mux_t
 *
__mux
,

548 
__cڡ
 
had_mux_t
 *
__mux_
);

550 
	`__had_mux_deroy
 (
had_mux_t
 *
__mux
);

552 
	`__had_mux_ylock
 (
had_mux_t
 *
__mux
);

554 
	`__had_mux_lock
 (
had_mux_t
 *
__mux
);

556 
	`__had_mux_uock
 (
had_mux_t
 *
__mux
);

558 
	`__had_mux_
 (
had_mux_t
 *
__
);

560 
	`__had_mux_deroy
 (
had_mux_t
 *
__
);

562 
	`__had_mux_y
 (
had_mux_t
 *
__
,

563 
__kd
);

565 #ifde
__USE_UNIX98


566 
	`__had_rwlock_
 (
had_rwlock_t
 *
__rwlock
,

567 
__cڡ
 
had_rwlock_t
 *
__
);

569 
	`__had_rwlock_deroy
 (
had_rwlock_t
 *
__rwlock
);

571 
	`__had_rwlock_rdlock
 (
had_rwlock_t
 *
__rwlock
);

573 
	`__had_rwlock_yrdlock
 (
had_rwlock_t
 *
__rwlock
);

575 
	`__had_rwlock_wock
 (
had_rwlock_t
 *
__rwlock
);

577 
	`__had_rwlock_ywock
 (
had_rwlock_t
 *
__rwlock
);

579 
	`__had_rwlock_uock
 (
had_rwlock_t
 *
__rwlock
);

582 
	`__had_key_
 (
had_key_t
 *
__key
,

583 (*
__der_funi
) (*));

585 
	`__had_tecific
 (
had_key_t
 
__key
,

586 
__cڡ
 *
__por
);

588 *
	`__had_gecific
 (
had_key_t
 
__key
);

590 
	`__had_
 (
had__t
 *
___cڌ
,

591 (*
___route
) ());

593 
	`__had_fk
 ((*
__e
) (),

594 (*
__
) (),

595 (*
__chd
) ());

601 #ide
__NO_WEAK_PTHREAD_ALIASES


602 #ifde
wk_ex


603 #i
_LIBC


604 
	~<bp-sym.h
>

606 
	#BP_SYM
(
sym

	)
sym

608 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_
))

609 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_deroy
))

610 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_lock
))

611 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_ylock
))

612 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_uock
))

613 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_
))

614 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_deroy
))

615 
	`wk_ex
 (
	$BP_SYM
 (
__had_mux_y
))

616 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_
))

617 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_deroy
))

618 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_rdlock
))

619 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_yrdlock
))

620 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_wock
))

621 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_ywock
))

622 
	`wk_ex
 (
	$BP_SYM
 (
__had_rwlock_uock
))

623 
	`wk_ex
 (
	$BP_SYM
 (
__had_key_
))

624 
	`wk_ex
 (
	$BP_SYM
 (
__had_tecific
))

625 
	`wk_ex
 (
	$BP_SYM
 (
__had_gecific
))

626 
	`wk_ex
 (
	$BP_SYM
 (
__had_
))

627 
	$wk_ex
 (
__had_lize
)

628 
	$wk_ex
 (
__had_fk
)

629 
	`wk_ex
 (
	$BP_SYM
 (
_had_nup_push_der
))

630 
	`wk_ex
 (
	$BP_SYM
 (
_had_nup_p_e
))

631 
	`wk_ex
 (
	$BP_SYM
 (
had_tnle
))

633 #agm
wk
 
__had_mux_


634 #agm
wk
 
__had_mux_deroy


635 #agm
wk
 
__had_mux_lock


636 #agm
wk
 
__had_mux_ylock


637 #agm
wk
 
__had_mux_uock


638 #agm
wk
 
__had_mux_


639 #agm
wk
 
__had_mux_deroy


640 #agm
wk
 
__had_mux_y


641 #agm
wk
 
__had_rwlock_deroy


642 #agm
wk
 
__had_rwlock_rdlock


643 #agm
wk
 
__had_rwlock_yrdlock


644 #agm
wk
 
__had_rwlock_wock


645 #agm
wk
 
__had_rwlock_ywock


646 #agm
wk
 
__had_rwlock_uock


647 #agm
wk
 
__had_key_


648 #agm
wk
 
__had_tecific


649 #agm
wk
 
__had_gecific


650 #agm
wk
 
__had_


651 #agm
wk
 
__had_lize


652 #agm
wk
 
__had_fk


653 #agm
wk
 
_had_nup_push_der


654 #agm
wk
 
_had_nup_p_e


655 #agm
wk
 
had_tnle


	@/usr/include/gconv.h

23 #ide
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<us.h
>

27 
	#__ed_mbe_t


	)

28 
	#__ed_wt_t


	)

29 
	~<wch.h
>

30 
	#__ed_size_t


	)

31 
	#__ed_wch_t


	)

32 
	~<ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch_t
0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

60 
	m__GCONV_SWAP
 = 0x0004

65 
	g__gcv_
;

66 
	g__gcv__da
;

67 
	g__gcv_lded_obje
;

68 
	g__gcv_s_da
;

72 (*
	t__gcv_f
(
	t__gcv_
 *, 
	t__gcv__da
 *,

73 
	t__cڡ
 **, __const *,

74 **, 
	tsize_t
 *, , );

77 
	$wt_t
 (*
	t__gcv_btowc_f
(
	t__gcv_
 *, );

80 (*
	t__gcv__f
(
	t__gcv_
 *);

81 (*
	t__gcv_d_f
(
	t__gcv_
 *);

85 (*
	t__gcv_s_f
(
	t__gcv_
 *,

86 
	t__gcv__da
 *, *,

87 
	t__cڡ
 *,

88 
	t__cڡ
 **,

89 
	t__cڡ
 *, **,

90 
	tsize_t
 *);

93 (*
	t__gcv_s_cڋxt_f
(*, 
	t__cڡ
 *,

94 
	t__cڡ
 *,

98 (*
	t__gcv_s_quy_f
(
	t__cڡ
 *, __const ***,

99 
	tsize_t
 *);

102 (*
	t__gcv_s__f
) (**, const *);

103 (*
	t__gcv_s_d_f
) (*);

105 
	s__gcv_s_da


108 
__gcv_s_f
 
__s_f
;

109 
__gcv_s_cڋxt_f
 
__s_cڋxt_f
;

110 
__gcv_s_d_f
 
__s_d_f
;

111 *
__da
;

112 
__gcv_s_da
 *
__xt
;

117 
	s__gcv_


119 
__gcv_lded_obje
 *
__shlib_hd
;

120 
__cڡ
 *
__modme
;

122 
__cou
;

124 *
__om_me
;

125 *
__to_me
;

127 
__gcv_f
 
__f
;

128 
__gcv_btowc_f
 
__btowc_f
;

129 
__gcv__f
 
___f
;

130 
__gcv_d_f
 
__d_f
;

134 
__m_eded_om
;

135 
__max_eded_om
;

136 
__m_eded_to
;

137 
__max_eded_to
;

140 
__eful
;

142 *
__da
;

147 
	s__gcv__da


149 *
__outbuf
;

150 *
__outbund
;

154 
__ags
;

158 
__voti_cou
;

162 
___u
;

164 
__mbe_t
 *
__
;

165 
__mbe_t
 
__e
;

169 
__gcv_s_da
 *
__s
;

174 
	s__gcv_fo


176 
size_t
 
__ns
;

177 
__gcv_
 *
__s
;

178 
__exnsi__
 
__gcv__da
 
__da
 
__exr
;

179 } *
	t__gcv_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifde
_LIBC


7 #r 
Alitis
 
may
 
n
 
defe
 
the
 
mao
 
_LIBC


10 
	#__ub___kl_co


	)

11 
	#__ub___kl_sl


	)

12 
	#__ub___kl_


	)

13 
	#__ub_chags


	)

14 
	#__ub_ach


	)

15 
	#__ub_fchags


	)

16 
	#__ub_fdach


	)

17 
	#__ub_gy


	)

18 
	#__ub_lchmod


	)

19 
	#__ub_voke


	)

20 
	#__ub_og


	)

21 
	#__ub_sigtu


	)

22 
	#__ub_sk


	)

23 
	#__ub_ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifde
_LIBC


7 #r 
Alitis
 
may
 
n
 
defe
 
the
 
mao
 
_LIBC


10 
	#__ub_bdush


	)

11 
	#__ub_chags


	)

12 
	#__ub_ach


	)

13 
	#__ub_fchags


	)

14 
	#__ub_fdach


	)

15 
	#__ub_gmsg


	)

16 
	#__ub_gy


	)

17 
	#__ub_lchmod


	)

18 
	#__ub_putmsg


	)

19 
	#__ub_voke


	)

20 
	#__ub_og


	)

21 
	#__ub_sigtu


	)

22 
	#__ub_sk


	)

23 
	#__ub_ty


	)

	@/usr/include/linux/stddef.h

1 #ide
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

6 #unde
NULL


7 #i
defed
(
__lulus
)

8 
	#NULL
 0

	)

10 
	#NULL
 ((*)0)

	)

	@/usr/include/wchar.h

24 #ide
_WCHAR_H


26 #i!
defed
 
__ed_mbe_t
 && !defed 
__ed_wt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<us.h
>

31 #ifde
_WCHAR_H


33 
	#__ed___FILE


	)

34 #i
defed
 
__USE_UNIX98
 || defed 
__USE_XOPEN2K


35 
	#__ed_FILE


	)

37 
	~<dio.h
>

39 
	#__ed___va_li


	)

40 
	~<dg.h
>

42 
	~<bs/wch.h
>

45 
	#__ed_size_t


	)

46 
	#__ed_wch_t


	)

47 
	#__ed_NULL


	)

49 #i
defed
 
_WCHAR_H
 || defed 
__ed_wt_t
 || !defed 
__WINT_TYPE__


50 #unde
__ed_wt_t


51 
	#__ed_wt_t


	)

52 
	~<ddef.h
>

56 #ide
_WINT_T


61 
	#_WINT_T


	)

62 
	twt_t
;

66 #i
defed
 
__lulus
 && defed 
_GLIBCPP_USE_NAMESPACES
 \

67 && 
defed
 
__WINT_TYPE__


68 
__BEGIN_NAMESPACE_STD


69 
__WINT_TYPE__
 
	twt_t
;

70 
	g__END_NAMESPACE_STD


75 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (4, 4)

76 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

80 #i(
defed
 
_WCHAR_H
 || defed 
__ed_mbe_t
&& !defed 
__mbe_t_defed


81 
	#__mbe_t_defed
 1

	)

85 
	m__cou
;

88 #ifde
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__vue
;

95 } 
	t__mbe_t
;

97 #unde
__ed_mbe_t


102 #ifde
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mbe_t
 
	tmbe_t
;

107 
	g__END_NAMESPACE_C99


108 #ifde
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mbe_t
)

112 #ide
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #ide
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #i
defed
 
__USE_XOPEN
 && !defed 
__USE_UNIX98


125 
	~<wy.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch_t
 *
	$wcsy
 (
wch_t
 *
__ri
 
__de
,

145 
__cڡ
 
wch_t
 *
__ri
 
__c

__THROW
;

147 
wch_t
 *
	$wcy
 (
wch_t
 *
__ri
 
__de
,

148 
__cڡ
 
wch_t
 *
__ri
 
__c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch_t
 *
	$wcst
 (
wch_t
 *
__ri
 
__de
,

153 
__cڡ
 
wch_t
 *
__ri
 
__c

__THROW
;

155 
wch_t
 *
	$wct
 (
wch_t
 *
__ri
 
__de
,

156 
__cڡ
 
wch_t
 *
__ri
 
__c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
)

161 
__THROW
 
__ibu_pu__
;

163 
	$wccmp
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__ibu_pu__
;

165 
__END_NAMESPACE_STD


167 #ifde
__USE_XOPEN2K8


169 
	$wcscmp
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2

__THROW
;

172 
	$wccmp
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
,

173 
size_t
 
__n

__THROW
;

177 
	~<xlo.h
>

179 
	$wcscmp_l
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
,

180 
__lo_t
 
__loc

__THROW
;

182 
	$wccmp_l
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
,

183 
size_t
 
__n
, 
__lo_t
 
__loc

__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscl
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2

__THROW
;

193 
size_t
 
	$wcsxm
 (
wch_t
 *
__ri
 
__s1
,

194 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n

__THROW
;

195 
__END_NAMESPACE_STD


197 #ifde
__USE_XOPEN2K8


203 
	$wcscl_l
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
,

204 
__lo_t
 
__loc

__THROW
;

209 
size_t
 
	$wcsxm_l
 (
wch_t
 *
__s1
, 
__cڡ
 wch_*
__s2
,

210 
size_t
 
__n
, 
__lo_t
 
__loc

__THROW
;

213 
wch_t
 *
	$wcsdup
 (
__cڡ
 
wch_t
 *
__s

__THROW
 
__ibu_mloc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch_t
 *
	$wcschr
 (
wch_t
 *
__wcs
, wch_
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"
__ibu_pu__
;

221 "C++" 
__cڡ
 
wch_t
 *
	$wcschr
 (
__cڡ
 
wch_t
 *
__wcs
, wch_
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"
__ibu_pu__
;

224 
wch_t
 *
	$wcschr
 (
__cڡ
 
wch_t
 *
__wcs
, wch_
__wc
)

225 
__THROW
 
__ibu_pu__
;

228 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch_t
 *
	$wcchr
 (
wch_t
 *
__wcs
, wch_
__wc
)

230 
__THROW
 
	`__asm
 ("wcchr"
__ibu_pu__
;

231 "C++" 
__cڡ
 
wch_t
 *
	$wcchr
 (
__cڡ
 
wch_t
 *
__wcs
, wch_
__wc
)

232 
__THROW
 
	`__asm
 ("wcchr"
__ibu_pu__
;

234 
wch_t
 *
	$wcchr
 (
__cڡ
 
wch_t
 *
__wcs
, wch_
__wc
)

235 
__THROW
 
__ibu_pu__
;

237 
__END_NAMESPACE_STD


239 #ifde
__USE_GNU


242 
wch_t
 *
	$wcschul
 (
__cڡ
 
wch_t
 *
__s
, wch_
__wc
)

243 
__THROW
 
__ibu_pu__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcscn
 (
__cڡ
 
wch_t
 *
__wcs
, __cڡ wch_*
__je
)

250 
__THROW
 
__ibu_pu__
;

253 
size_t
 
	$wcsn
 (
__cڡ
 
wch_t
 *
__wcs
, __cڡ wch_*
__ac
)

254 
__THROW
 
__ibu_pu__
;

256 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch_t
 *
	$wcbrk
 (
wch_t
 *
__wcs
, 
__cڡ
 wch_*
__ac
)

258 
__THROW
 
	`__asm
 ("wcbrk"
__ibu_pu__
;

259 "C++" 
__cڡ
 
wch_t
 *
	$wcbrk
 (
__cڡ
 
wch_t
 *
__wcs
,

260 
__cڡ
 
wch_t
 *
__ac
)

261 
__THROW
 
	`__asm
 ("wcbrk"
__ibu_pu__
;

263 
wch_t
 *
	$wcbrk
 (
__cڡ
 
wch_t
 *
__wcs
, __cڡ wch_*
__ac
)

264 
__THROW
 
__ibu_pu__
;

267 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch_t
 *
	$wcsr
 (
wch_t
 *
__hayack
, 
__cڡ
 wch_*
__ed
)

269 
__THROW
 
	`__asm
 ("wcsr"
__ibu_pu__
;

270 "C++" 
__cڡ
 
wch_t
 *
	$wcsr
 (
__cڡ
 
wch_t
 *
__hayack
,

271 
__cڡ
 
wch_t
 *
__ed
)

272 
__THROW
 
	`__asm
 ("wcsr"
__ibu_pu__
;

274 
wch_t
 *
	$wcsr
 (
__cڡ
 
wch_t
 *
__hayack
, __cڡ wch_*
__ed
)

275 
__THROW
 
__ibu_pu__
;

279 
wch_t
 *
	$wcok
 (
wch_t
 *
__ri
 
__s
,

280 
__cڡ
 
wch_t
 *
__ri
 
__dim
,

281 
wch_t
 **
__ri
 
__r

__THROW
;

284 
size_t
 
	$wc
 (
__cڡ
 
wch_t
 *
__s

__THROW
 
__ibu_pu__
;

285 
__END_NAMESPACE_STD


287 #ifde
__USE_XOPEN


289 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch_t
 *
	$wcswcs
 (
wch_t
 *
__hayack
, 
__cڡ
 wch_*
__ed
)

291 
__THROW
 
	`__asm
 ("wcswcs"
__ibu_pu__
;

292 "C++" 
__cڡ
 
wch_t
 *
	$wcswcs
 (
__cڡ
 
wch_t
 *
__hayack
,

293 
__cڡ
 
wch_t
 *
__ed
)

294 
__THROW
 
	`__asm
 ("wcswcs"
__ibu_pu__
;

296 
wch_t
 *
	$wcswcs
 (
__cڡ
 
wch_t
 *
__hayack
, __cڡ wch_*
__ed
)

297 
__THROW
 
__ibu_pu__
;

301 #ifde
__USE_XOPEN2K8


303 
size_t
 
	$wcn
 (
__cڡ
 
wch_t
 *
__s
, 
size_t
 
__maxn
)

304 
__THROW
 
__ibu_pu__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifde
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch_t
 *
	$wmemchr
 (
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"
__ibu_pu__
;

313 "C++" 
__cڡ
 
wch_t
 *
	$wmemchr
 (
__cڡ
 
wch_t
 *
__s
, wch_
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"
__ibu_pu__
;

317 
wch_t
 *
	$wmemchr
 (
__cڡ
 
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n
)

318 
__THROW
 
__ibu_pu__
;

322 
	$wmemcmp
 (
__cڡ
 
wch_t
 *
__s1
, __cڡ wch_*
__s2
, 
size_t
 
__n
)

323 
__THROW
 
__ibu_pu__
;

326 
wch_t
 *
	$wmemy
 (
wch_t
 *
__ri
 
__s1
,

327 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n

__THROW
;

331 
wch_t
 *
	$wmemmove
 (
wch_t
 *
__s1
, 
__cڡ
 wch_*
__s2
, 
size_t
 
__n
)

332 
__THROW
;

335 
wch_t
 *
	$wmemt
 (
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n

__THROW
;

336 
__END_NAMESPACE_STD


338 #ifde
__USE_GNU


341 
wch_t
 *
	$wmempy
 (
wch_t
 *
__ri
 
__s1
,

342 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
)

343 
__THROW
;

347 
__BEGIN_NAMESPACE_STD


350 
wt_t
 
	$btowc
 (
__c

__THROW
;

354 
	$wob
 (
wt_t
 
__c

__THROW
;

358 
	$mbs
 (
__cڡ
 
mbe_t
 *
__ps

__THROW
 
__ibu_pu__
;

362 
size_t
 
	$mbowc
 (
wch_t
 *
__ri
 
__pwc
,

363 
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n
,

364 
mbe_t
 *
__p

__THROW
;

367 
size_t
 
	$wtomb
 (*
__ri
 
__s
, 
wch_t
 
__wc
,

368 
mbe_t
 *
__ri
 
__ps

__THROW
;

371 
size_t
 
	$__mb
 (
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n
,

372 
mbe_t
 *
__ri
 
__ps

__THROW
;

373 
size_t
 
	$mb
 (
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n
,

374 
mbe_t
 *
__ri
 
__ps

__THROW
;

375 
__END_NAMESPACE_STD


377 #ifde
__USE_EXTERN_INLINES


383 
wt_t
 
	$__btowc_s
 (
__c

	`__asm
 ("btowc");

384 
__ex_le
 
wt_t


385 
	`__NTH
 (
	$btowc
 (
__c
))

386 {  (
	`__but_cڡt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

387 ? (
wt_t

__c
 : 
	`__btowc_s
 (__c)); 
	}
}

389 
	$__wob_s
 (
wt_t
 
__c

	`__asm
 ("wctob");

390 
__ex_le
 

391 
	`__NTH
 (
	$wob
 (
wt_t
 
__wc
))

392 {  (
	`__but_cڡt_p
 (
__wc
&& __w>
L
'\0' && __wc <= L'\x7f'

393 ? (
__wc
 : 
	`__wob_s
 (__wc)); 
	}
}

395 
__ex_le
 
size_t


396 
__NTH
 (
	$mb
 (
__cڡ
 *
__ri
 
__s
, 
size_t
 
__n
,

397 
mbe_t
 *
__ri
 
__ps
))

398 {  (
__ps
 !
NULL


399 ? 
	`mbowc
 (
NULL
, 
__s
, 
__n
, 
__ps
: 
	`__mb
 (__s, __n, NULL)); 
	}
}

402 
__BEGIN_NAMESPACE_STD


405 
size_t
 
	$mbtowcs
 (
wch_t
 *
__ri
 
__d
,

406 
__cڡ
 **
__ri
 
__c
, 
size_t
 
__n
,

407 
mbe_t
 *
__ri
 
__ps

__THROW
;

411 
size_t
 
	$wctombs
 (*
__ri
 
__d
,

412 
__cڡ
 
wch_t
 **
__ri
 
__c
, 
size_t
 
__n
,

413 
mbe_t
 *
__ri
 
__ps

__THROW
;

414 
__END_NAMESPACE_STD


417 #ifdef 
__USE_XOPEN2K8


420 
size_t
 
	$mbowcs
 (
wch_t
 *
__ri
 
__d
,

421 
__cڡ
 **
__ri
 
__c
, 
size_t
 
__nmc
,

422 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps

__THROW
;

426 
size_t
 
	$wcombs
 (*
__ri
 
__d
,

427 
__cڡ
 
wch_t
 **
__ri
 
__c
,

428 
size_t
 
__nwc
, size_
__n
,

429 
mbe_t
 *
__ri
 
__ps

__THROW
;

434 #ifde
__USE_XOPEN


436 
	$wcwidth
 (
wch_t
 
__c

__THROW
;

440 
	$wcswidth
 (
__cڡ
 
wch_t
 *
__s
, 
size_t
 
__n

__THROW
;

444 
__BEGIN_NAMESPACE_STD


447 
	$wcod
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

448 
wch_t
 **
__ri
 
__dr

__THROW
;

449 
__END_NAMESPACE_STD


451 #ifde
__USE_ISOC99


452 
__BEGIN_NAMESPACE_C99


454 
	$wcof
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

455 
wch_t
 **
__ri
 
__dr

__THROW
;

456 
	$wcd
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

457 
wch_t
 **
__ri
 
__dr

__THROW
;

458 
__END_NAMESPACE_C99


462 
__BEGIN_NAMESPACE_STD


465 
	$wc
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

466 
wch_t
 **
__ri
 
__dr
, 
__ba

__THROW
;

470 
	$wcoul
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

471 
wch_t
 **
__ri
 
__dr
, 
__ba
)

472 
__THROW
;

473 
__END_NAMESPACE_STD


475 #i
defed
 
__USE_ISOC99
 || (defed 
__GNUC__
 && defed 
__USE_GNU
)

476 
__BEGIN_NAMESPACE_C99


479 
__exnsi__


480 
	$wcl
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

481 
wch_t
 **
__ri
 
__dr
, 
__ba
)

482 
__THROW
;

486 
__exnsi__


487 
	$wcou
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

488 
wch_t
 **
__ri
 
__dr
,

489 
__ba

__THROW
;

490 
__END_NAMESPACE_C99


493 #i
defed
 
__GNUC__
 && defed 
__USE_GNU


496 
__exnsi__


497 
	$wcoq
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

498 
wch_t
 **
__ri
 
__dr
, 
__ba
)

499 
__THROW
;

503 
__exnsi__


504 
	$wcouq
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

505 
wch_t
 **
__ri
 
__dr
,

506 
__ba

__THROW
;

509 #ifde
__USE_GNU


523 
	~<xlo.h
>

527 
	$wc_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

528 
wch_t
 **
__ri
 
__dr
, 
__ba
,

529 
__lo_t
 
__loc

__THROW
;

531 
	$wcoul_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

532 
wch_t
 **
__ri
 
__dr
,

533 
__ba
, 
__lo_t
 
__loc

__THROW
;

535 
__exnsi__


536 
	$wcl_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

537 
wch_t
 **
__ri
 
__dr
,

538 
__ba
, 
__lo_t
 
__loc

__THROW
;

540 
__exnsi__


541 
	$wcou_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

542 
wch_t
 **
__ri
 
__dr
,

543 
__ba
, 
__lo_t
 
__loc
)

544 
__THROW
;

546 
	$wcod_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

547 
wch_t
 **
__ri
 
__dr
, 
__lo_t
 
__loc
)

548 
__THROW
;

550 
	$wcof_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

551 
wch_t
 **
__ri
 
__dr
, 
__lo_t
 
__loc
)

552 
__THROW
;

554 
	$wcd_l
 (
__cڡ
 
wch_t
 *
__ri
 
__Ō
,

555 
wch_t
 **
__ri
 
__dr
,

556 
__lo_t
 
__loc

__THROW
;

560 #ifde
__USE_XOPEN2K8


563 
wch_t
 *
	$wy
 (
wch_t
 *
__ri
 
__de
,

564 
__cڡ
 
wch_t
 *
__ri
 
__c

__THROW
;

568 
wch_t
 *
	$wny
 (
wch_t
 *
__ri
 
__de
,

569 
__cڡ
 
wch_t
 *
__ri
 
__c
, 
size_t
 
__n
)

570 
__THROW
;

577 
__FILE
 *
	$ݒ_wmemam
 (
wch_t
 **
__buoc
, 
size_t
 *
__sizoc

__THROW
;

580 #i
defed
 
__USE_ISOC95
 || defed 
__USE_UNIX98


581 
__BEGIN_NAMESPACE_STD


584 
	$fwide
 (
__FILE
 *
__
, 
__mode

__THROW
;

591 
	`fwtf
 (
__FILE
 *
__ri
 
__am
,

592 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

598 
	`wtf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

601 
	$swtf
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

602 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

603 
__THROW
 ;

609 
	`vfwtf
 (
__FILE
 *
__ri
 
__s
,

610 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

611 
__gnuc_va_li
 
__g
)

617 
	`vwtf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
,

618 
__gnuc_va_li
 
__g
)

622 
	$vswtf
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

623 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

624 
__gnuc_va_li
 
__g
)

625 
__THROW
 ;

632 
	`fwsnf
 (
__FILE
 *
__ri
 
__am
,

633 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

639 
	`wsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

642 
	$swsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__s
,

643 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

644 
__THROW
 ;

646 #i
defed
 
__USE_ISOC99
 && !defed 
__USE_GNU
 \

647 && (!
defed
 
__LDBL_COMPAT
 || !defed 
__REDIRECT
) \

648 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

649 #ifde
__REDIRECT


653 
	`__REDIRECT
 (
fwsnf
, (
__FILE
 *
__ri
 
__am
,

654 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...),

655 
__isoc99_fwsnf
)

657 
	`__REDIRECT
 (
wsnf
, (
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...),

658 
__isoc99_wsnf
)

660 
	`__REDIRECT_NTH
 (
swsnf
, (
__cڡ
 
wch_t
 *
__ri
 
__s
,

661 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

662 ...), 
__isoc99_swsnf
)

665 
	`__isoc99_fwsnf
 (
__FILE
 *
__ri
 
__am
,

666 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...);

667 
	`__isoc99_wsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...);

668 
	$__isoc99_swsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__s
,

669 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

670 
__THROW
;

671 
	#fwsnf
 
__isoc99_fwsnf


	)

672 
	#wsnf
 
__isoc99_wsnf


	)

673 
	#swsnf
 
__isoc99_swsnf


	)

677 
__END_NAMESPACE_STD


680 #ifde
__USE_ISOC99


681 
__BEGIN_NAMESPACE_C99


686 
	`vfwsnf
 (
__FILE
 *
__ri
 
__s
,

687 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

688 
__gnuc_va_li
 
__g
)

694 
	`vwsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
,

695 
__gnuc_va_li
 
__g
)

698 
	$vswsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__s
,

699 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

700 
__gnuc_va_li
 
__g
)

701 
__THROW
 ;

703 #i!
defed
 
__USE_GNU
 \

704 && (!
defed
 
__LDBL_COMPAT
 || !defed 
__REDIRECT
) \

705 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

706 #ifde
__REDIRECT


707 
	`__REDIRECT
 (
vfwsnf
, (
__FILE
 *
__ri
 
__s
,

708 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

709 
__gnuc_va_li
 
__g
), 
__isoc99_vfwsnf
)

711 
	`__REDIRECT
 (
vwsnf
, (
__cڡ
 
wch_t
 *
__ri
 
__fm
,

712 
__gnuc_va_li
 
__g
), 
__isoc99_vwsnf
)

714 
	`__REDIRECT_NTH
 (
vswsnf
, (
__cڡ
 
wch_t
 *
__ri
 
__s
,

715 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

716 
__gnuc_va_li
 
__g
), 
__isoc99_vswsnf
)

719 
	`__isoc99_vfwsnf
 (
__FILE
 *
__ri
 
__s
,

720 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

721 
__gnuc_va_li
 
__g
);

722 
	`__isoc99_vwsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__fm
,

723 
__gnuc_va_li
 
__g
);

724 
	$__isoc99_vswsnf
 (
__cڡ
 
wch_t
 *
__ri
 
__s
,

725 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

726 
__gnuc_va_li
 
__g

__THROW
;

727 
	#vfwsnf
 
__isoc99_vfwsnf


	)

728 
	#vwsnf
 
__isoc99_vwsnf


	)

729 
	#vswsnf
 
__isoc99_vswsnf


	)

733 
__END_NAMESPACE_C99


737 
__BEGIN_NAMESPACE_STD


742 
wt_t
 
	`fgwc
 (
__FILE
 *
__am
);

743 
wt_t
 
	`gwc
 (
__FILE
 *
__am
);

749 
wt_t
 
	`gwch
 ();

756 
wt_t
 
	`utwc
 (
wch_t
 
__wc
, 
__FILE
 *
__am
);

757 
wt_t
 
	`putwc
 (
wch_t
 
__wc
, 
__FILE
 *
__am
);

763 
wt_t
 
	`putwch
 (
wch_t
 
__wc
);

771 
wch_t
 *
	`fgws
 (wch_*
__ri
 
__ws
, 
__n
,

772 
__FILE
 *
__ri
 
__am
);

778 
	`utws
 (
__cڡ
 
wch_t
 *
__ri
 
__ws
,

779 
__FILE
 *
__ri
 
__am
);

786 
wt_t
 
	`ungwc
 (wt_
__wc
, 
__FILE
 *
__am
);

787 
__END_NAMESPACE_STD


790 #ifde
__USE_GNU


798 
wt_t
 
	`gwc_uocked
 (
__FILE
 *
__am
);

799 
wt_t
 
	`gwch_uocked
 ();

807 
wt_t
 
	`fgwc_uocked
 (
__FILE
 *
__am
);

815 
wt_t
 
	`utwc_uocked
 (
wch_t
 
__wc
, 
__FILE
 *
__am
);

824 
wt_t
 
	`putwc_uocked
 (
wch_t
 
__wc
, 
__FILE
 *
__am
);

825 
wt_t
 
	`putwch_uocked
 (
wch_t
 
__wc
);

834 
wch_t
 *
	`fgws_uocked
 (wch_*
__ri
 
__ws
, 
__n
,

835 
__FILE
 *
__ri
 
__am
);

843 
	`utws_uocked
 (
__cڡ
 
wch_t
 *
__ri
 
__ws
,

844 
__FILE
 *
__ri
 
__am
);

848 
__BEGIN_NAMESPACE_C99


852 
size_t
 
	$wcsime
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__maxsize
,

853 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

854 
__cڡ
 
tm
 *
__ri
 
__

__THROW
;

855 
__END_NAMESPACE_C99


857 #ifde
__USE_GNU


858 
	~<xlo.h
>

862 
size_t
 
	$wcsime_l
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__maxsize
,

863 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

864 
__cڡ
 
tm
 *
__ri
 
__
,

865 
__lo_t
 
__loc

__THROW
;

874 #i
defed
 
__USE_UNIX98
 && !defed 
__USE_GNU


875 
	#__ed_iswxxx


	)

876 
	~<wy.h
>

880 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


881 
	~<bs/wch2.h
>

884 #ifde
__LDBL_COMPAT


885 
	~<bs/wch-ldbl.h
>

888 
__END_DECLS


896 #unde
__ed_mbe_t


897 #unde
__ed_wt_t


	@/usr/include/asm-generic/errno.h

1 #ide
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-gic/o-ba.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

111 
	#EHWPOISON
 133

	)

	@/usr/include/asm-generic/int-ll64.h

8 #ide
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/blg.h
>

13 #ide
__ASSEMBLY__


19 
__sigd__
 
	t__s8
;

20 
	t__u8
;

22 
__sigd__
 
	t__s16
;

23 
	t__u16
;

25 
__sigd__
 
	t__s32
;

26 
	t__u32
;

28 #ifde
__GNUC__


29 
__exnsi__
 
__sigd__
 
	t__s64
;

30 
__exnsi__
 
	t__u64
;

32 
__sigd__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm/posix_types_32.h

1 #ide
_ASM_X86_POSIX_TYPES_32_H


2 
	#_ASM_X86_POSIX_TYPES_32_H


	)

10 
	t__kl_o_t
;

11 
	t__kl_mode_t
;

12 
	t__kl_ƚk_t
;

13 
	t__kl_off_t
;

14 
	t__kl_pid_t
;

15 
	t__kl_c_pid_t
;

16 
	t__kl_uid_t
;

17 
	t__kl_gid_t
;

18 
	t__kl_size_t
;

19 
	t__kl_ssize_t
;

20 
	t__kl_rdiff_t
;

21 
	t__kl_time_t
;

22 
	t__kl_sucds_t
;

23 
	t__kl_ock_t
;

24 
	t__kl_tim_t
;

25 
	t__kl_ockid_t
;

26 
	t__kl_daddr_t
;

27 * 
	t__kl_ddr_t
;

28 
	t__kl_uid16_t
;

29 
	t__kl_gid16_t
;

30 
	t__kl_uid32_t
;

31 
	t__kl_gid32_t
;

33 
	t__kl_d_uid_t
;

34 
	t__kl_d_gid_t
;

35 
	t__kl_d_dev_t
;

37 #ifde
__GNUC__


38 
	t__kl_loff_t
;

42 
	mv
[2];

43 } 
	t__kl_fsid_t
;

	@/usr/include/asm/posix_types_64.h

1 #ide
_ASM_X86_POSIX_TYPES_64_H


2 
	#_ASM_X86_POSIX_TYPES_64_H


	)

10 
	t__kl_o_t
;

11 
	t__kl_mode_t
;

12 
	t__kl_ƚk_t
;

13 
	t__kl_off_t
;

14 
	t__kl_pid_t
;

15 
	t__kl_c_pid_t
;

16 
	t__kl_uid_t
;

17 
	t__kl_gid_t
;

18 
	t__kl_size_t
;

19 
	t__kl_ssize_t
;

20 
	t__kl_rdiff_t
;

21 
	t__kl_time_t
;

22 
	t__kl_sucds_t
;

23 
	t__kl_ock_t
;

24 
	t__kl_tim_t
;

25 
	t__kl_ockid_t
;

26 
	t__kl_daddr_t
;

27 * 
	t__kl_ddr_t
;

28 
	t__kl_uid16_t
;

29 
	t__kl_gid16_t
;

31 #ifde
__GNUC__


32 
	t__kl_loff_t
;

36 
	mv
[2];

37 } 
	t__kl_fsid_t
;

39 
	t__kl_d_uid_t
;

40 
	t__kl_d_gid_t
;

41 
__kl_uid_t
 
	t__kl_uid32_t
;

42 
__kl_gid_t
 
	t__kl_gid32_t
;

44 
	t__kl_d_dev_t
;

	@/usr/include/asm/sockios.h

1 
	~<asm-gic/sockios.h
>

	@/usr/include/bits/wchar-ldbl.h

20 #ide
_WCHAR_H


24 #i
defed
 
__USE_ISOC95
 || defed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fwtf
);

27 
__LDBL_REDIR_DECL
 (
wtf
);

28 
__LDBL_REDIR_DECL
 (
swtf
);

29 
__LDBL_REDIR_DECL
 (
vfwtf
);

30 
__LDBL_REDIR_DECL
 (
vwtf
);

31 
__LDBL_REDIR_DECL
 (
vswtf
);

32 #i
defed
 
__USE_ISOC99
 && !defed 
__USE_GNU
 \

33 && !
defed
 
	g__REDIRECT
 \

34 && (
defed
 
	g__STRICT_ANSI__
 || defed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsnf
, 
__dbl___isoc99_fwsnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsnf
, 
__dbl___isoc99_wsnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsnf
, 
__dbl___isoc99_swsnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsnf
);

43 
__END_NAMESPACE_C99


46 #ifde
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wcd
, 
wcod
);

49 #i!
defed
 
__USE_GNU
 && !defed 
__REDIRECT
 \

50 && (
defed
 
__STRICT_ANSI__
 || defed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsnf
, 
__dbl___isoc99_vfwsnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsnf
, 
__dbl___isoc99_vwsnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsnf
, 
__dbl___isoc99_vswsnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsnf
);

59 
__END_NAMESPACE_C99


62 #ifde
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wcd_l
, 
wcod_l
);

66 #i
__USE_FORTIFY_LEVEL
 > 0 && 
defed
 
__ex_ways_le


67 
	$__LDBL_REDIR_DECL
 (
__swtf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vswtf_chk
)

69 #i
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fwtf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__wtf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfwtf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vwtf_chk
)

	@/usr/include/bits/wchar2.h

20 #ide
_WCHAR_H


25 
wch_t
 *
	$__wmemy_chk
 (
wch_t
 *
__ri
 
__s1
,

26 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1

__THROW
;

28 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemy_s
,

29 (
wch_t
 *
__ri
 
__s1
,

30 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
),

31 
wmemy
);

32 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemy_chk_wn
,

33 (
wch_t
 *
__ri
 
__s1
,

34 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmemy_chk
)

36 
	`__wǉr
 ("wmemcpy called withength biggerhan size of destination "

39 
__ex_ways_le
 
wch_t
 *

40 
	`__NTH
 (
	$wmemy
 (
wch_t
 *
__ri
 
__s1
, 
__cڡ
 wch_*__ri 
__s2
,

41 
size_t
 
__n
))

43 i(
	`__bos0
 (
__s1
!(
size_t
) -1)

45 i(!
	`__but_cڡt_p
 (
__n
))

46  
	`__wmemy_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
/  (
wch_t
));

49 i(
__n
 > 
	`__bos0
 (
__s1
/  (
wch_t
))

50  
	`__wmemy_chk_wn
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
/  (
wch_t
));

53  
	`__wmemy_s
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch_t
 *
	$__wmemmove_chk
 (
wch_t
 *
__s1
, 
__cڡ
 wch_*
__s2
,

58 
size_t
 
__n
, size_
__ns1

__THROW
;

59 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_s
, (wch_*
__s1
,

60 
__cڡ
 
wch_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_wn
,

63 (
wch_t
 *
__s1
, 
__cڡ
 wch_*
__s2
,

64 
size_t
 
__n
, size_
__ns1
), 
__wmemmove_chk
)

65 
	`__wǉr
 ("wmemmove called withength biggerhan size of destination "

68 
__ex_ways_le
 
wch_t
 *

69 
	`__NTH
 (
	$wmemmove
 (
wch_t
 *
__s1
, 
__cڡ
 wch_*
__s2
, 
size_t
 
__n
))

71 i(
	`__bos0
 (
__s1
!(
size_t
) -1)

73 i(!
	`__but_cڡt_p
 (
__n
))

74  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

75 
	`__bos0
 (
__s1
/  (
wch_t
));

77 i(
__n
 > 
	`__bos0
 (
__s1
/  (
wch_t
))

78  
	`__wmemmove_chk_wn
 (
__s1
, 
__s2
, 
__n
,

79 
	`__bos0
 (
__s1
/  (
wch_t
));

81  
	`__wmemmove_s
 (
__s1
, 
__s2
, 
__n
);

82 
	}
}

85 #ifde
__USE_GNU


86 
wch_t
 *
	$__wmempy_chk
 (
wch_t
 *
__ri
 
__s1
,

87 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
,

88 
size_t
 
__ns1

__THROW
;

89 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmempy_s
,

90 (
wch_t
 *
__ri
 
__s1
,

91 
__cڡ
 
wch_t
 *
__ri
 
__s2
,

92 
size_t
 
__n
), 
wmempy
);

93 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmempy_chk_wn
,

94 (
wch_t
 *
__ri
 
__s1
,

95 
__cڡ
 
wch_t
 *
__ri
 
__s2
, 
size_t
 
__n
,

96 
size_t
 
__ns1
), 
__wmempy_chk
)

97 
	`__wǉr
 ("wmempcpy called withength biggerhan size of destination "

100 
__ex_ways_le
 
wch_t
 *

101 
	`__NTH
 (
	$wmempy
 (
wch_t
 *
__ri
 
__s1
, 
__cڡ
 wch_*__ri 
__s2
,

102 
size_t
 
__n
))

104 i(
	`__bos0
 (
__s1
!(
size_t
) -1)

106 i(!
	`__but_cڡt_p
 (
__n
))

107  
	`__wmempy_chk
 (
__s1
, 
__s2
, 
__n
,

108 
	`__bos0
 (
__s1
/  (
wch_t
));

110 i(
__n
 > 
	`__bos0
 (
__s1
/  (
wch_t
))

111  
	`__wmempy_chk_wn
 (
__s1
, 
__s2
, 
__n
,

112 
	`__bos0
 (
__s1
/  (
wch_t
));

114  
	`__wmempy_s
 (
__s1
, 
__s2
, 
__n
);

115 
	}
}

119 
wch_t
 *
	$__wmemt_chk
 (
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n
,

120 
size_t
 
__ns

__THROW
;

121 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemt_s
, (wch_*
__s
, wch_
__c
,

122 
size_t
 
__n
), 
wmemt
);

123 
wch_t
 *
	`__REDIRECT_NTH
 (
__wmemt_chk_wn
,

124 (
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n
,

125 
size_t
 
__ns
), 
__wmemt_chk
)

126 
	`__wǉr
 ("wmemset called withength biggerhan size of destination "

129 
__ex_ways_le
 
wch_t
 *

130 
	`__NTH
 (
	$wmemt
 (
wch_t
 *
__s
, wch_
__c
, 
size_t
 
__n
))

132 i(
	`__bos0
 (
__s
!(
size_t
) -1)

134 i(!
	`__but_cڡt_p
 (
__n
))

135  
	`__wmemt_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__s/  (
wch_t
));

137 i(
__n
 > 
	`__bos0
 (
__s
/  (
wch_t
))

138  
	`__wmemt_chk_wn
 (
__s
, 
__c
, 
__n
,

139 
	`__bos0
 (
__s
/  (
wch_t
));

141  
	`__wmemt_s
 (
__s
, 
__c
, 
__n
);

142 
	}
}

145 
wch_t
 *
	$__wcsy_chk
 (
wch_t
 *
__ri
 
__de
,

146 
__cڡ
 
wch_t
 *
__ri
 
__c
,

147 
size_t
 
__n

__THROW
;

148 
wch_t
 *
	`__REDIRECT_NTH
 (
__wcsy_s
,

149 (
wch_t
 *
__ri
 
__de
,

150 
__cڡ
 
wch_t
 *
__ri
 
__c
), 
wcsy
);

152 
__ex_ways_le
 
wch_t
 *

153 
	`__NTH
 (
	$wcsy
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
))

155 i(
	`__bos
 (
__de
!(
size_t
) -1)

156  
	`__wcsy_chk
 (
__de
, 
__c
, 
	`__bos
 (__de/  (
wch_t
));

157  
	`__wcsy_s
 (
__de
, 
__c
);

158 
	}
}

161 
wch_t
 *
	$__wy_chk
 (
wch_t
 *
__ri
 
__de
,

162 
__cڡ
 
wch_t
 *
__ri
 
__c
,

163 
size_t
 
__den

__THROW
;

164 
wch_t
 *
	`__REDIRECT_NTH
 (
__wy_s
,

165 (
wch_t
 *
__ri
 
__de
,

166 
__cڡ
 
wch_t
 *
__ri
 
__c
), 
wy
);

168 
__ex_ways_le
 
wch_t
 *

169 
	`__NTH
 (
	$wy
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
))

171 i(
	`__bos
 (
__de
!(
size_t
) -1)

172  
	`__wy_chk
 (
__de
, 
__c
, 
	`__bos
 (__de/  (
wch_t
));

173  
	`__wy_s
 (
__de
, 
__c
);

174 
	}
}

177 
wch_t
 *
	$__wcy_chk
 (
wch_t
 *
__ri
 
__de
,

178 
__cڡ
 
wch_t
 *
__ri
 
__c
, 
size_t
 
__n
,

179 
size_t
 
__den

__THROW
;

180 
wch_t
 *
	`__REDIRECT_NTH
 (
__wcy_s
,

181 (
wch_t
 *
__ri
 
__de
,

182 
__cڡ
 
wch_t
 *
__ri
 
__c
,

183 
size_t
 
__n
), 
wcy
);

184 
wch_t
 *
	`__REDIRECT_NTH
 (
__wcy_chk_wn
,

185 (
wch_t
 *
__ri
 
__de
,

186 
__cڡ
 
wch_t
 *
__ri
 
__c
,

187 
size_t
 
__n
, size_
__den
), 
__wcy_chk
)

188 
	`__wǉr
 ("wcsncpy called withength biggerhan size of destination "

191 
__ex_ways_le
 
wch_t
 *

192 
	`__NTH
 (
	$wcy
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
,

193 
size_t
 
__n
))

195 i(
	`__bos
 (
__de
!(
size_t
) -1)

197 i(!
	`__but_cڡt_p
 (
__n
))

198  
	`__wcy_chk
 (
__de
, 
__c
, 
__n
,

199 
	`__bos
 (
__de
/  (
wch_t
));

200 i(
__n
 > 
	`__bos
 (
__de
/  (
wch_t
))

201  
	`__wcy_chk_wn
 (
__de
, 
__c
, 
__n
,

202 
	`__bos
 (
__de
/  (
wch_t
));

204  
	`__wcy_s
 (
__de
, 
__c
, 
__n
);

205 
	}
}

208 
wch_t
 *
	$__wny_chk
 (
wch_t
 *
__ri
 
__de
,

209 
__cڡ
 
wch_t
 *
__ri
 
__c
, 
size_t
 
__n
,

210 
size_t
 
__den

__THROW
;

211 
wch_t
 *
	`__REDIRECT_NTH
 (
__wny_s
,

212 (
wch_t
 *
__ri
 
__de
,

213 
__cڡ
 
wch_t
 *
__ri
 
__c
,

214 
size_t
 
__n
), 
wny
);

215 
wch_t
 *
	`__REDIRECT_NTH
 (
__wny_chk_wn
,

216 (
wch_t
 *
__ri
 
__de
,

217 
__cڡ
 
wch_t
 *
__ri
 
__c
,

218 
size_t
 
__n
, size_
__den
), 
__wny_chk
)

219 
	`__wǉr
 ("wcpncpy called withength biggerhan size of destination "

222 
__ex_ways_le
 
wch_t
 *

223 
	`__NTH
 (
	$wny
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
,

224 
size_t
 
__n
))

226 i(
	`__bos
 (
__de
!(
size_t
) -1)

228 i(!
	`__but_cڡt_p
 (
__n
))

229  
	`__wny_chk
 (
__de
, 
__c
, 
__n
,

230 
	`__bos
 (
__de
/  (
wch_t
));

231 i(
__n
 > 
	`__bos
 (
__de
/  (
wch_t
))

232  
	`__wny_chk_wn
 (
__de
, 
__c
, 
__n
,

233 
	`__bos
 (
__de
/  (
wch_t
));

235  
	`__wny_s
 (
__de
, 
__c
, 
__n
);

236 
	}
}

239 
wch_t
 *
	$__wcst_chk
 (
wch_t
 *
__ri
 
__de
,

240 
__cڡ
 
wch_t
 *
__ri
 
__c
,

241 
size_t
 
__den

__THROW
;

242 
wch_t
 *
	`__REDIRECT_NTH
 (
__wcst_s
,

243 (
wch_t
 *
__ri
 
__de
,

244 
__cڡ
 
wch_t
 *
__ri
 
__c
), 
wcst
);

246 
__ex_ways_le
 
wch_t
 *

247 
	`__NTH
 (
	$wcst
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
))

249 i(
	`__bos
 (
__de
!(
size_t
) -1)

250  
	`__wcst_chk
 (
__de
, 
__c
, 
	`__bos
 (__de/  (
wch_t
));

251  
	`__wcst_s
 (
__de
, 
__c
);

252 
	}
}

255 
wch_t
 *
	$__wct_chk
 (
wch_t
 *
__ri
 
__de
,

256 
__cڡ
 
wch_t
 *
__ri
 
__c
,

257 
size_t
 
__n
, size_
__den

__THROW
;

258 
wch_t
 *
	`__REDIRECT_NTH
 (
__wct_s
,

259 (
wch_t
 *
__ri
 
__de
,

260 
__cڡ
 
wch_t
 *
__ri
 
__c
,

261 
size_t
 
__n
), 
wct
);

263 
__ex_ways_le
 
wch_t
 *

264 
	`__NTH
 (
	$wct
 (
wch_t
 *
__ri
 
__de
, 
__cڡ
 wch_*__ri 
__c
,

265 
size_t
 
__n
))

267 i(
	`__bos
 (
__de
!(
size_t
) -1)

268  
	`__wct_chk
 (
__de
, 
__c
, 
__n
,

269 
	`__bos
 (
__de
/  (
wch_t
));

270  
	`__wct_s
 (
__de
, 
__c
, 
__n
);

271 
	}
}

274 
	$__swtf_chk
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

275 
__ag
, 
size_t
 
__s_n
,

276 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...)

277 
__THROW
 ;

279 
	`__REDIRECT_NTH_LDBL
 (
__swtf_s
,

280 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

281 
__cڡ
 
wch_t
 *
__ri
 
__fmt
, ...),

282 
swtf
);

284 #ifde
__va_g_ck


285 
__ex_ways_le
 

286 
	`__NTH
 (
	$swtf
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

287 
__cڡ
 
wch_t
 *
__ri
 
__fmt
, ...))

289 i(
	`__bos
 (
__s
!(
size_t
-1 || 
__USE_FORTIFY_LEVEL
 > 1)

290  
	`__swtf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

291 
	`__bos
 (
__s
/  (
wch_t
),

292 
__fmt
, 
	`__va_g_ck
 ());

293  
	`__swtf_s
 (
__s
, 
__n
, 
__fmt
, 
	`__va_g_ck
 ());

294 
	}
}

295 #i!
defed
 
__lulus


297 
	#swtf
(
s
, 
n
, ...) \

298 (
	`__bos
 (
s
!(
size_t
-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

299 ? 
	`__swtf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

300 
	`__bos
 (
s
/  (
wch_t
), 
__VA_ARGS__
) \

301 : 
	`swtf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

304 
	$__vswtf_chk
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

305 
__ag
, 
size_t
 
__s_n
,

306 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

307 
__gnuc_va_li
 
__g
)

308 
__THROW
 ;

310 
	`__REDIRECT_NTH_LDBL
 (
__vswtf_s
,

311 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

312 
__cڡ
 
wch_t
 *
__ri
 
__fmt
,

313 
__gnuc_va_li
 
__
), 
vswtf
);

315 
__ex_ways_le
 

316 
	`__NTH
 (
	$vswtf
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__n
,

317 
__cڡ
 
wch_t
 *
__ri
 
__fmt
, 
__gnuc_va_li
 
__
))

319 i(
	`__bos
 (
__s
!(
size_t
-1 || 
__USE_FORTIFY_LEVEL
 > 1)

320  
	`__vswtf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

321 
	`__bos
 (
__s
/  (
wch_t
), 
__fmt
, 
__
);

322  
	`__vswtf_s
 (
__s
, 
__n
, 
__fmt
, 
__
);

323 
	}
}

326 #i
__USE_FORTIFY_LEVEL
 > 1

328 
__fwtf_chk
 (
__FILE
 *
__ri
 
__am
, 
__ag
,

329 
__cڡ
 
wch_t
 *
__ri
 
__fm
, ...);

330 
__wtf_chk
 (
__ag
, 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

332 
__vfwtf_chk
 (
__FILE
 *
__ri
 
__am
, 
__ag
,

333 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

334 
__gnuc_va_li
 
__
);

335 
__vwtf_chk
 (
__ag
, 
__cڡ
 
wch_t
 *
__ri
 
__fm
,

336 
__gnuc_va_li
 
__
);

338 #ifde
__va_g_ck


339 
__ex_ways_le
 

340 
	$wtf
 (
__cڡ
 
wch_t
 *
__ri
 
__fmt
, ...)

342  
	`__wtf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_g_ck
 ());

343 
	}
}

345 
__ex_ways_le
 

346 
	$fwtf
 (
__FILE
 *
__ri
 
__am
, 
__cڡ
 
wch_t
 *__ri 
__fmt
, ...)

348  
	`__fwtf_chk
 (
__am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

349 
	`__va_g_ck
 ());

350 
	}
}

351 #i!
defed
 
__lulus


352 
	#wtf
(...) \

353 
	`__wtf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

354 
	#fwtf
(
am
, ...) \

355 
	`__fwtf_chk
 (
am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

358 
__ex_ways_le
 

359 
	$vwtf
 (
__cڡ
 
wch_t
 *
__ri
 
__fmt
, 
__gnuc_va_li
 
__
)

361  
	`__vwtf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

362 
	}
}

364 
__ex_ways_le
 

365 
	$vfwtf
 (
__FILE
 *
__ri
 
__am
,

366 
__cڡ
 
wch_t
 *
__ri
 
__fmt
, 
__gnuc_va_li
 
__
)

368  
	`__vfwtf_chk
 (
__am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__
);

369 
	}
}

373 
wch_t
 *
	$__fgws_chk
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

374 
__FILE
 *
__ri
 
__am

__wur
;

375 
wch_t
 *
	`__REDIRECT
 (
__fgws_s
,

376 (
wch_t
 *
__ri
 
__s
, 
__n
,

377 
__FILE
 *
__ri
 
__am
), 
fgws

__wur
;

378 
wch_t
 *
	`__REDIRECT
 (
__fgws_chk_wn
,

379 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

380 
__FILE
 *
__ri
 
__am
), 
__fgws_chk
)

381 
__wur
 
	`__wǉr
 ("fgetws called with bigger sizehanength "

384 
__ex_ways_le
 
__wur
 
wch_t
 *

385 
	$fgws
 (
wch_t
 *
__ri
 
__s
, 
__n
, 
__FILE
 *__ri 
__am
)

387 i(
	`__bos
 (
__s
!(
size_t
) -1)

389 i(!
	`__but_cڡt_p
 (
__n
) || __n <= 0)

390  
	`__fgws_chk
 (
__s
, 
	`__bos
 (__s/  (
wch_t
),

391 
__n
, 
__am
);

393 i((
size_t

__n
 > 
	`__bos
 (
__s
/  (
wch_t
))

394  
	`__fgws_chk_wn
 (
__s
, 
	`__bos
 (__s/  (
wch_t
),

395 
__n
, 
__am
);

397  
	`__fgws_s
 (
__s
, 
__n
, 
__am
);

398 
	}
}

400 #ifde
__USE_GNU


401 
wch_t
 *
	$__fgws_uocked_chk
 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__size
,

402 
__n
, 
__FILE
 *
__ri
 
__am
)

403 
__wur
;

404 
wch_t
 *
	`__REDIRECT
 (
__fgws_uocked_s
,

405 (
wch_t
 *
__ri
 
__s
, 
__n
,

406 
__FILE
 *
__ri
 
__am
), 
fgws_uocked
)

407 
__wur
;

408 
wch_t
 *
	`__REDIRECT
 (
__fgws_uocked_chk_wn
,

409 (
wch_t
 *
__ri
 
__s
, 
size_t
 
__size
, 
__n
,

410 
__FILE
 *
__ri
 
__am
),

411 
__fgws_uocked_chk
)

412 
__wur
 
	`__wǉr
 ("fgetws_unlocked called with bigger sizehanength "

415 
__ex_ways_le
 
__wur
 
wch_t
 *

416 
	$fgws_uocked
 (
wch_t
 *
__ri
 
__s
, 
__n
, 
__FILE
 *__ri 
__am
)

418 i(
	`__bos
 (
__s
!(
size_t
) -1)

420 i(!
	`__but_cڡt_p
 (
__n
) || __n <= 0)

421  
	`__fgws_uocked_chk
 (
__s
, 
	`__bos
 (__s/  (
wch_t
),

422 
__n
, 
__am
);

424 i((
size_t

__n
 > 
	`__bos
 (
__s
/  (
wch_t
))

425  
	`__fgws_uocked_chk_wn
 (
__s
, 
	`__bos
 (__s/  (
wch_t
),

426 
__n
, 
__am
);

428  
	`__fgws_uocked_s
 (
__s
, 
__n
, 
__am
);

429 
	}
}

433 
size_t
 
	$__wtomb_chk
 (*
__ri
 
__s
, 
wch_t
 
__wch
,

434 
mbe_t
 *
__ri
 
__p
,

435 
size_t
 
__bu

__THROW
 
__wur
;

436 
size_t
 
	`__REDIRECT_NTH
 (
__wtomb_s
,

437 (*
__ri
 
__s
, 
wch_t
 
__wch
,

438 
mbe_t
 *
__ri
 
__ps
), 
wtomb

__wur
;

440 
__ex_ways_le
 
__wur
 
size_t


441 
	`__NTH
 (
	$wtomb
 (*
__ri
 
__s
, 
wch_t
 
__wch
,

442 
mbe_t
 *
__ri
 
__ps
))

447 
	#__WCHAR_MB_LEN_MAX
 16

	)

448 #i
defed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__WCHAR_MB_LEN_MAX


451 i(
	`__bos
 (
__s
!(
size_t
-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

452  
	`__wtomb_chk
 (
__s
, 
__wch
, 
__ps
, 
	`__bos
 (__s));

453  
	`__wtomb_s
 (
__s
, 
__wch
, 
__ps
);

454 
	}
}

457 
size_t
 
	$__mbtowcs_chk
 (
wch_t
 *
__ri
 
__d
,

458 
__cڡ
 **
__ri
 
__c
,

459 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

460 
size_t
 
__dn

__THROW
;

461 
size_t
 
	`__REDIRECT_NTH
 (
__mbtowcs_s
,

462 (
wch_t
 *
__ri
 
__d
,

463 
__cڡ
 **
__ri
 
__c
,

464 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
),

465 
mbtowcs
);

466 
size_t
 
	`__REDIRECT_NTH
 (
__mbtowcs_chk_wn
,

467 (
wch_t
 *
__ri
 
__d
,

468 
__cڡ
 **
__ri
 
__c
,

469 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

470 
size_t
 
__dn
), 
__mbtowcs_chk
)

471 
	`__wǉr
 ("mbsrtowcs called with dst buffer smallerhanen "

474 
__ex_ways_le
 
size_t


475 
	`__NTH
 (
	$mbtowcs
 (
wch_t
 *
__ri
 
__d
, 
__cڡ
 **__ri 
__c
,

476 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
))

478 i(
	`__bos
 (
__d
!(
size_t
) -1)

480 i(!
	`__but_cڡt_p
 (
__n
))

481  
	`__mbtowcs_chk
 (
__d
, 
__c
, 
__n
, 
__ps
,

482 
	`__bos
 (
__d
/  (
wch_t
));

484 i(
__n
 > 
	`__bos
 (
__d
/  (
wch_t
))

485  
	`__mbtowcs_chk_wn
 (
__d
, 
__c
, 
__n
, 
__ps
,

486 
	`__bos
 (
__d
/  (
wch_t
));

488  
	`__mbtowcs_s
 (
__d
, 
__c
, 
__n
, 
__ps
);

489 
	}
}

492 
size_t
 
	$__wctombs_chk
 (*
__ri
 
__d
,

493 
__cڡ
 
wch_t
 **
__ri
 
__c
,

494 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

495 
size_t
 
__dn

__THROW
;

496 
size_t
 
	`__REDIRECT_NTH
 (
__wctombs_s
,

497 (*
__ri
 
__d
,

498 
__cڡ
 
wch_t
 **
__ri
 
__c
,

499 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
),

500 
wctombs
);

501 
size_t
 
	`__REDIRECT_NTH
 (
__wctombs_chk_wn
,

502 (*
__ri
 
__d
,

503 
__cڡ
 
wch_t
 **
__ri
 
__c
,

504 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

505 
size_t
 
__dn
), 
__wctombs_chk
)

506 
	`__wǉr
 ("wcsrtombs called with dst buffer smallerhanen");

508 
__ex_ways_le
 
size_t


509 
	`__NTH
 (
	$wctombs
 (*
__ri
 
__d
, 
__cڡ
 
wch_t
 **__ri 
__c
,

510 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
))

512 i(
	`__bos
 (
__d
!(
size_t
) -1)

514 i(!
	`__but_cڡt_p
 (
__n
))

515  
	`__wctombs_chk
 (
__d
, 
__c
, 
__n
, 
__ps
, 
	`__bos
 (__dst));

517 i(
__n
 > 
	`__bos
 (
__d
))

518  
	`__wctombs_chk_wn
 (
__d
, 
__c
, 
__n
, 
__ps
, 
	`__bos
 (__dst));

520  
	`__wctombs_s
 (
__d
, 
__c
, 
__n
, 
__ps
);

521 
	}
}

524 #ifde
__USE_GNU


525 
size_t
 
	$__mbowcs_chk
 (
wch_t
 *
__ri
 
__d
,

526 
__cڡ
 **
__ri
 
__c
, 
size_t
 
__nmc
,

527 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

528 
size_t
 
__dn

__THROW
;

529 
size_t
 
	`__REDIRECT_NTH
 (
__mbowcs_s
,

530 (
wch_t
 *
__ri
 
__d
,

531 
__cڡ
 **
__ri
 
__c
, 
size_t
 
__nmc
,

532 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
),

533 
mbowcs
);

534 
size_t
 
	`__REDIRECT_NTH
 (
__mbowcs_chk_wn
,

535 (
wch_t
 *
__ri
 
__d
,

536 
__cڡ
 **
__ri
 
__c
, 
size_t
 
__nmc
,

537 
size_t
 
__n
, 
mbe_t
 *
__ri
 
__ps
,

538 
size_t
 
__dn
), 
__mbowcs_chk
)

539 
	`__wǉr
 ("mbsnrtowcs called with dst buffer smallerhanen "

542 
__ex_ways_le
 
size_t


543 
	`__NTH
 (
	$mbowcs
 (
wch_t
 *
__ri
 
__d
, 
__cڡ
 **__ri 
__c
,

544 
size_t
 
__nmc
, size_
__n
, 
mbe_t
 *
__ri
 
__ps
))

546 i(
	`__bos
 (
__d
!(
size_t
) -1)

548 i(!
	`__but_cڡt_p
 (
__n
))

549  
	`__mbowcs_chk
 (
__d
, 
__c
, 
__nmc
, 
__n
, 
__ps
,

550 
	`__bos
 (
__d
/  (
wch_t
));

552 i(
__n
 > 
	`__bos
 (
__d
/  (
wch_t
))

553  
	`__mbowcs_chk_wn
 (
__d
, 
__c
, 
__nmc
, 
__n
, 
__ps
,

554 
	`__bos
 (
__d
/  (
wch_t
));

556  
	`__mbowcs_s
 (
__d
, 
__c
, 
__nmc
, 
__n
, 
__ps
);

557 
	}
}

560 
size_t
 
	$__wcombs_chk
 (*
__ri
 
__d
,

561 
__cڡ
 
wch_t
 **
__ri
 
__c
,

562 
size_t
 
__nwc
, size_
__n
,

563 
mbe_t
 *
__ri
 
__ps
, 
size_t
 
__dn
)

564 
__THROW
;

565 
size_t
 
	`__REDIRECT_NTH
 (
__wcombs_s
,

566 (*
__ri
 
__d
,

567 
__cڡ
 
wch_t
 **
__ri
 
__c
,

568 
size_t
 
__nwc
, size_
__n
,

569 
mbe_t
 *
__ri
 
__ps
), 
wcombs
);

570 
size_t
 
	`__REDIRECT_NTH
 (
__wcombs_chk_wn
,

571 (*
__ri
 
__d
,

572 
__cڡ
 
wch_t
 **
__ri
 
__c
,

573 
size_t
 
__nwc
, size_
__n
,

574 
mbe_t
 *
__ri
 
__ps
,

575 
size_t
 
__dn
), 
__wcombs_chk
)

576 
	`__wǉr
 ("wcsnrtombs called with dst buffer smallerhanen");

578 
__ex_ways_le
 
size_t


579 
	`__NTH
 (
	$wcombs
 (*
__ri
 
__d
, 
__cڡ
 
wch_t
 **__ri 
__c
,

580 
size_t
 
__nwc
, size_
__n
, 
mbe_t
 *
__ri
 
__ps
))

582 i(
	`__bos
 (
__d
!(
size_t
) -1)

584 i(!
	`__but_cڡt_p
 (
__n
))

585  
	`__wcombs_chk
 (
__d
, 
__c
, 
__nwc
, 
__n
, 
__ps
,

586 
	`__bos
 (
__d
));

588 i(
__n
 > 
	`__bos
 (
__d
))

589  
	`__wcombs_chk_wn
 (
__d
, 
__c
, 
__nwc
, 
__n
, 
__ps
,

590 
	`__bos
 (
__d
));

592  
	`__wcombs_s
 (
__d
, 
__c
, 
__nwc
, 
__n
, 
__ps
);

593 
	}
}

	@/usr/include/gnu/option-groups.h

10 #ide
__GNU_OPTION_GROUPS_H


11 
	#__GNU_OPTION_GROUPS_H


	)

13 
	#__OPTION_EGLIBC_ADVANCED_INET6
 1

	)

14 
	#__OPTION_EGLIBC_BACKTRACE
 1

	)

15 
	#__OPTION_EGLIBC_BIG_MACROS
 1

	)

16 
	#__OPTION_EGLIBC_BSD
 1

	)

17 
	#__OPTION_EGLIBC_CATGETS
 1

	)

18 
	#__OPTION_EGLIBC_CHARSETS
 1

	)

19 
	#__OPTION_EGLIBC_CRYPT
 1

	)

20 
	#__OPTION_EGLIBC_CRYPT_UFC
 1

	)

21 
	#__OPTION_EGLIBC_CXX_TESTS
 1

	)

22 
	#__OPTION_EGLIBC_DB_ALIASES
 1

	)

23 
	#__OPTION_EGLIBC_ENVZ
 1

	)

24 
	#__OPTION_EGLIBC_FCVT
 1

	)

25 
	#__OPTION_EGLIBC_FMTMSG
 1

	)

26 
	#__OPTION_EGLIBC_FSTAB
 1

	)

27 
	#__OPTION_EGLIBC_FTRAVERSE
 1

	)

28 
	#__OPTION_EGLIBC_GETLOGIN
 1

	)

29 
	#__OPTION_EGLIBC_IDN
 1

	)

30 
	#__OPTION_EGLIBC_INET
 1

	)

31 
	#__OPTION_EGLIBC_INET_ANL
 1

	)

32 
	#__OPTION_EGLIBC_LIBM
 1

	)

33 
	#__OPTION_EGLIBC_LIBM_BIG
 1

	)

34 
	#__OPTION_EGLIBC_LOCALES
 1

	)

35 
	#__OPTION_EGLIBC_LOCALE_CODE
 1

	)

36 
	#__OPTION_EGLIBC_MEMUSAGE
 1

	)

37 
	#__OPTION_EGLIBC_NIS
 1

	)

38 
	#__OPTION_EGLIBC_NSSWITCH
 1

	)

39 
	#__OPTION_EGLIBC_RCMD
 1

	)

40 
	#__OPTION_EGLIBC_RTLD_DEBUG
 1

	)

41 
	#__OPTION_EGLIBC_SPAWN
 1

	)

42 
	#__OPTION_EGLIBC_STREAMS
 1

	)

43 
	#__OPTION_EGLIBC_SUNRPC
 1

	)

44 
	#__OPTION_EGLIBC_UTMP
 1

	)

45 
	#__OPTION_EGLIBC_UTMPX
 1

	)

46 
	#__OPTION_EGLIBC_WORDEXP
 1

	)

47 
	#__OPTION_POSIX_C_LANG_WIDE_CHAR
 1

	)

48 
	#__OPTION_POSIX_REGEXP
 1

	)

49 
	#__OPTION_POSIX_REGEXP_GLIBC
 1

	)

50 
	#__OPTION_POSIX_WIDE_CHAR_DEVICE_IO
 1

	)

	@/usr/include/linux/ioctl.h

1 #ide
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/iol.h
>

	@/usr/include/wctype.h

24 #ide
_WCTYPE_H


26 
	~<us.h
>

27 
	~<bs/tys.h
>

29 #ide
__ed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__ed_wt_t


	)

34 
	~<wch.h
>

38 #ide
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #unde
__ed_iswxxx


47 #ide
__iswxxx_defed


48 
	#__iswxxx_defed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	twy_t
;

54 
	g__END_NAMESPACE_C99


56 #ide
_ISwb


61 
	~<dn.h
>

62 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


63 
	#_ISwb
(
b
(1 << (b))

	)

65 
	#_ISwb
(
b
) \

66 ((
b
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
b
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
b
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (((1UL << (
b
)>> 24))))

	)

74 
	m__ISwu
 = 0,

75 
	m__ISwlow
 = 1,

76 
	m__ISwpha
 = 2,

77 
	m__ISwdig
 = 3,

78 
	m__ISwxdig
 = 4,

79 
	m__ISwa
 = 5,

80 
	m__ISwt
 = 6,

81 
	m__ISwgph
 = 7,

82 
	m__ISwbnk
 = 8,

83 
	m__ISwl
 = 9,

84 
	m__ISwpun
 = 10,

85 
	m__ISwnum
 = 11,

87 
	m_ISwu
 = 
_ISwb
 (
__ISwu
),

88 
	m_ISwlow
 = 
_ISwb
 (
__ISwlow
),

89 
	m_ISwpha
 = 
_ISwb
 (
__ISwpha
),

90 
	m_ISwdig
 = 
_ISwb
 (
__ISwdig
),

91 
	m_ISwxdig
 = 
_ISwb
 (
__ISwxdig
),

92 
	m_ISwa
 = 
_ISwb
 (
__ISwa
),

93 
	m_ISwt
 = 
_ISwb
 (
__ISwt
),

94 
	m_ISwgph
 = 
_ISwb
 (
__ISwgph
),

95 
	m_ISwbnk
 = 
_ISwb
 (
__ISwbnk
),

96 
	m_ISwl
 = 
_ISwb
 (
__ISwl
),

97 
	m_ISwpun
 = 
_ISwb
 (
__ISwpun
),

98 
	m_ISwnum
 = 
_ISwb
 (
__ISwnum
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$iswnum
 (
wt_t
 
__wc

__THROW
;

118 
	$iswpha
 (
wt_t
 
__wc

__THROW
;

121 
	$iswl
 (
wt_t
 
__wc

__THROW
;

125 
	$iswdig
 (
wt_t
 
__wc

__THROW
;

129 
	$iswgph
 (
wt_t
 
__wc

__THROW
;

134 
	$iswlow
 (
wt_t
 
__wc

__THROW
;

137 
	$iswt
 (
wt_t
 
__wc

__THROW
;

142 
	$iswpun
 (
wt_t
 
__wc

__THROW
;

147 
	$iswa
 (
wt_t
 
__wc

__THROW
;

152 
	$iswu
 (
wt_t
 
__wc

__THROW
;

157 
	$iswxdig
 (
wt_t
 
__wc

__THROW
;

162 #ifde
__USE_ISOC99


163 
	$iswbnk
 (
wt_t
 
__wc

__THROW
;

172 
wy_t
 
	$wy
 (
__cڡ
 *
__ݔty

__THROW
;

176 
	$iswy
 (
wt_t
 
__wc
, 
wy_t
 
__desc

__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__cڡ
 
	t__t32_t
 *
	twns_t
;

188 
__END_NAMESPACE_C99


189 #ifde
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
wns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wt_t
 
	$towlow
 (
wt_t
 
__wc

__THROW
;

198 
wt_t
 
	$towu
 (
wt_t
 
__wc

__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifde
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
wns_t
 
	$wns
 (
__cڡ
 *
__ݔty

__THROW
;

222 
wt_t
 
	$towns
 (
wt_t
 
__wc
, 
wns_t
 
__desc

__THROW
;

223 
__END_NAMESPACE_C99


225 #ifde
__USE_XOPEN2K8


227 
	~<xlo.h
>

231 
	$iswnum_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

237 
	$iswpha_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

240 
	$iswl_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

244 
	$iswdig_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

248 
	$iswgph_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

253 
	$iswlow_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

256 
	$iswt_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

261 
	$iswpun_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

266 
	$iswa_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

271 
	$iswu_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

276 
	$iswxdig_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

281 
	$iswbnk_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

285 
wy_t
 
	$wy_l
 (
__cڡ
 *
__ݔty
, 
__lo_t
 
__lo
)

286 
__THROW
;

290 
	$iswy_l
 (
wt_t
 
__wc
, 
wy_t
 
__desc
, 
__lo_t
 
__lo
)

291 
__THROW
;

299 
wt_t
 
	$towlow_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

302 
wt_t
 
	$towu_l
 (
wt_t
 
__wc
, 
__lo_t
 
__lo

__THROW
;

306 
wns_t
 
	$wns_l
 (
__cڡ
 *
__ݔty
, 
__lo_t
 
__lo
)

307 
__THROW
;

310 
wt_t
 
	$towns_l
 (
wt_t
 
__wc
, 
wns_t
 
__desc
,

311 
__lo_t
 
__lo

__THROW
;

315 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #ide
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@/usr/include/asm-generic/sockios.h

1 #ide
__ASM_GENERIC_SOCKIOS_H


2 
	#__ASM_GENERIC_SOCKIOS_H


	)

5 
	#FIOSETOWN
 0x8901

	)

6 
	#SIOCSPGRP
 0x8902

	)

7 
	#FIOGETOWN
 0x8903

	)

8 
	#SIOCGPGRP
 0x8904

	)

9 
	#SIOCATMARK
 0x8905

	)

10 
	#SIOCGSTAMP
 0x8906

	)

11 
	#SIOCGSTAMPNS
 0x8907

	)

	@/usr/include/asm/bitsperlong.h

1 #ide
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifde
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-gic/blg.h
>

	@/usr/include/asm/ioctl.h

1 
	~<asm-gic/iol.h
>

	@/usr/include/asm-generic/bitsperlong.h

1 #ide
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #ide
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@/usr/include/asm-generic/ioctl.h

1 #ide
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #ide
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #ide
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

53 #ide
_IOC_NONE


54 
	#_IOC_NONE
 0U

	)

57 #ide
_IOC_WRITE


58 
	#_IOC_WRITE
 1U

	)

61 #ide
_IOC_READ


62 
	#_IOC_READ
 2U

	)

65 
	#_IOC
(
d
,
ty
,

,
size
) \

66 (((
d
<< 
_IOC_DIRSHIFT
) | \

67 ((
ty
<< 
_IOC_TYPESHIFT
) | \

68 ((

<< 
_IOC_NRSHIFT
) | \

69 ((
size
<< 
_IOC_SIZESHIFT
))

	)

71 
	#_IOC_TYPECHECK
(
t
())

	)

74 
	#_IO
(
ty
,


	`_IOC
(
_IOC_NONE
,y),r),0)

	)

75 
	#_IOR
(
ty
,

,
size

	`_IOC
(
_IOC_READ
,y),r),(
	`_IOC_TYPECHECK
(size)))

	)

76 
	#_IOW
(
ty
,

,
size

	`_IOC
(
_IOC_WRITE
,y),r),(
	`_IOC_TYPECHECK
(size)))

	)

77 
	#_IOWR
(
ty
,

,
size

	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,y),r),(
	`_IOC_TYPECHECK
(size)))

	)

78 
	#_IOR_BAD
(
ty
,

,
size

	`_IOC
(
_IOC_READ
,y),r),(size))

	)

79 
	#_IOW_BAD
(
ty
,

,
size

	`_IOC
(
_IOC_WRITE
,y),r),(size))

	)

80 
	#_IOWR_BAD
(
ty
,

,
size

	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,y),r),(size))

	)

83 
	#_IOC_DIR
(

((r>> 
_IOC_DIRSHIFT
& 
_IOC_DIRMASK
)

	)

84 
	#_IOC_TYPE
(

((r>> 
_IOC_TYPESHIFT
& 
_IOC_TYPEMASK
)

	)

85 
	#_IOC_NR
(

((r>> 
_IOC_NRSHIFT
& 
_IOC_NRMASK
)

	)

86 
	#_IOC_SIZE
(

((r>> 
_IOC_SIZESHIFT
& 
_IOC_SIZEMASK
)

	)

90 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

91 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

92 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
<< 
_IOC_DIRSHIFT
)

	)

93 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

94 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@
1
.
1
/usr/include
154
3961
epon_oam_cli.c
epon_oam_db.c
epon_oam_dbg.c
epon_oam_main.c
epon_oam_rx.c
epon_oam_state.c
epon_oam_tx.c
user/ctc_oam.c
user/ctc_oam_alarmtbl.c
user/ctc_oam_upgrade.c
user/ctc_oam_var.c
user/ctc_oam_vartbl.c
user/drv_lw.c
user/oam_alarm.c
vendor/bdcom.c
vendor/fiberhome.c
vendor/h3c.c
vendor/huawei.c
vendor/raisecom.c
vendor/yotc.c
vendor/zte.c
/usr/include/assert.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/linux/filter.h
/usr/include/linux/if_ether.h
/usr/include/linux/if_packet.h
/usr/include/linux/netlink.h
/usr/include/linux/reboot.h
/usr/include/malloc.h
/usr/include/net/if.h
/usr/include/netinet/in.h
/usr/include/pthread.h
/usr/include/semaphore.h
/usr/include/signal.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/sys/ioctl.h
/usr/include/sys/ipc.h
/usr/include/sys/msg.h
/usr/include/sys/shm.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/time.h
/usr/include/sys/types.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/bits/byteswap.h
/usr/include/bits/confname.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/fcntl.h
/usr/include/bits/fcntl2.h
/usr/include/bits/in.h
/usr/include/bits/ioctl-types.h
/usr/include/bits/ioctls.h
/usr/include/bits/ipc.h
/usr/include/bits/ipctypes.h
/usr/include/bits/msq.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/semaphore.h
/usr/include/bits/setjmp.h
/usr/include/bits/shm.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/socket.h
/usr/include/bits/socket2.h
/usr/include/bits/stat.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/unistd.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wordsize.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/linux/socket.h
/usr/include/linux/types.h
/usr/include/sched.h
/usr/include/stdint.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/sys/ttydefaults.h
/usr/include/sys/ucontext.h
/usr/include/sys/uio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/asm/ioctls.h
/usr/include/asm/socket.h
/usr/include/asm/types.h
/usr/include/bits/endian.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/predefs.h
/usr/include/bits/sched.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/sockaddr.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/timex.h
/usr/include/bits/typesizes.h
/usr/include/bits/uio.h
/usr/include/bits/wchar.h
/usr/include/ctype.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/linux/posix_types.h
/usr/include/sys/cdefs.h
/usr/include/asm-generic/ioctls.h
/usr/include/asm-generic/socket.h
/usr/include/asm-generic/types.h
/usr/include/asm/errno.h
/usr/include/asm/posix_types.h
/usr/include/bits/libc-lock.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/linux/stddef.h
/usr/include/wchar.h
/usr/include/asm-generic/errno.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm/posix_types_32.h
/usr/include/asm/posix_types_64.h
/usr/include/asm/sockios.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/gnu/option-groups.h
/usr/include/linux/ioctl.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
/usr/include/asm-generic/sockios.h
/usr/include/asm/bitsperlong.h
/usr/include/asm/ioctl.h
/usr/include/asm-generic/bitsperlong.h
/usr/include/asm-generic/ioctl.h
