<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<title>IPMUX1IPMUX2IPMUX3: function_description(opl_reg_mmap.c)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 制作者 Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">首页</a> | <a class="qindex" href="modules.html">模块</a> | <a class="qindex" href="annotated.html">数据结构</a> | <a class="qindex" href="files.html">文件列表</a> | <a class="qindex" href="functions.html">数据字段</a> | <a class="qindex" href="globals.html">全局定义</a> | <a class="qindex" href="pages.html">相关页面</a></div>
<h1>function_description(opl_reg_mmap.c)<br>
<small>
[<a class="el" href="group___o_p_l___r_e_g.html">register mmap module</a>]</small>
</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>local function declaration</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_p_l___r_e_g.html#ga7">opl_reg_read</a> (struct file *filp, char *buffer, size_t length, loff_t *offset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description:  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_p_l___r_e_g.html#ga8">opl_reg_mmap</a> (struct file *file, struct vm_area_struct *vma)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: memory map the ipmux register into user space to access it.  <a href="#ga8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>函数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int __init&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga0">opl_reg_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: The driver module entry.to register the chrdev and request irq.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void __exit&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga1">opl_reg_exit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">description: it is called when the module removed.  <a href="#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga2">module_init</a> (opl_reg_init)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga3">module_exit</a> (opl_reg_exit)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga4">MODULE_LICENSE</a> ("GPL2")</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga5">MODULE_AUTHOR</a> ("stephanxu &lt;hxu@opulan.com&gt;")</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opl__reg.html#ga6">MODULE_DESCRIPTION</a> ("dedicated the module for mmap the opulan switch chip register.")</td></tr>

</table>
<hr><h2>函数文档</h2>
<a class="anchor" name="ga5" doxytag="opl_reg_mmap.c::MODULE_AUTHOR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">MODULE_AUTHOR           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">"stephanxu &lt;hxu@opulan.com&gt;"&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="opl_reg_mmap.c::MODULE_DESCRIPTION"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">MODULE_DESCRIPTION           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">"dedicated the module for mmap the opulan switch chip register."&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="opl_reg_mmap.c::module_exit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">module_exit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">opl_reg_exit&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="opl_reg_mmap.c::module_init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">module_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">opl_reg_init&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="opl_reg_mmap.c::MODULE_LICENSE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">MODULE_LICENSE           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">"GPL2"&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="opl_reg_mmap.c::opl_reg_exit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void __exit opl_reg_exit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: it is called when the module removed. 
<p>
do the reverse of opl_reg_module_init. <dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>void</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回:</b></dt><dd>NULL</dd></dl>
<dl compact><dt><b>参见:</b></dt><dd></dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__reg__mmap_8c-source.html">opl_reg_mmap.c</a>第<a class="el" href="opl__reg__mmap_8c-source.html#l00193">193</a>行定义。
<p>
参考 <a class="el" href="opl__reg__mmap_8c-source.html#l00032">OPL_REG_DEVICE</a>及<a class="el" href="opl__reg__mmap_8c-source.html#l00031">OPL_REG_MAJOR</a>.
<p>
参考自 <a class="el" href="opl__regmmap__test_8c-source.html#l00247">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="opl_reg_mmap.c::opl_reg_init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int __init opl_reg_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: The driver module entry.to register the chrdev and request irq. 
<p>
and some essential initialization. <dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>void</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回值:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>!0</em>&nbsp;</td><td>failure.the module cant be inserted into os.</td></tr>
  </table>
</dl>
<dl compact><dt><b>参见:</b></dt><dd>insmod rmmod </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__reg__mmap_8c-source.html">opl_reg_mmap.c</a>第<a class="el" href="opl__reg__mmap_8c-source.html#l00176">176</a>行定义。
<p>
参考 <a class="el" href="opl__reg__mmap_8c-source.html#l00032">OPL_REG_DEVICE</a>、<a class="el" href="opl__reg__mmap_8c-source.html#l00075">opl_reg_fops</a>及<a class="el" href="opl__reg__mmap_8c-source.html#l00031">OPL_REG_MAJOR</a>.
<p>
参考自 <a class="el" href="opl__regmmap__test_8c-source.html#l00247">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="opl_reg_mmap.c::opl_reg_mmap"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int opl_reg_mmap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct vm_area_struct *&nbsp;</td>
          <td class="mdname" nowrap> <em>vma</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: memory map the ipmux register into user space to access it. 
<p>
which will reduce the spense on copy value between kernel space with user space. and reduce the dependency on interface of OS. the ipmux register must be NOcached and NO swap out and NO Coredump. <dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>struct</em>&nbsp;</td><td>file *file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>struct</em>&nbsp;</td><td>vm_area_struct *vma </td></tr>
  </table>
</dl>
<dl compact><dt><b>返回值:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-(x)</em>&nbsp;</td><td>failure.</td></tr>
  </table>
</dl>
<dl compact><dt><b>参见:</b></dt><dd>mmap manual. </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000019">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__reg__mmap_8c-source.html">opl_reg_mmap.c</a>第<a class="el" href="opl__reg__mmap_8c-source.html#l00124">124</a>行定义。    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="opl_reg_mmap.c::opl_reg_read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t opl_reg_read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct file *&nbsp;</td>
          <td class="mdname" nowrap> <em>filp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>loff_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>offset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
description: 
<p>
<dl compact><dt><b>参数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>@param</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>@return</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>返回值:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>@retval</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>参见:</b></dt><dd></dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000018">Deprecated:</a></b></dt><dd></dd></dl>

<p>
在文件<a class="el" href="opl__reg__mmap_8c-source.html">opl_reg_mmap.c</a>第<a class="el" href="opl__reg__mmap_8c-source.html#l00102">102</a>行定义。    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated at Mon Jul 30 16:43:48 2007 for IPMUX1IPMUX2IPMUX3 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
